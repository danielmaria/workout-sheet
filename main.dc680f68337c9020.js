(self.webpackChunkworkout_sheet=self.webpackChunkworkout_sheet||[]).push([[179],{433:(Df,sd,lf)=>{"use strict";function zi(e){return"function"==typeof e}function ae(e){const t=e(y=>{Error.call(y),y.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const B=ae(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((y,L)=>`${L+1}) ${y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function r(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class D{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const K of t)K.remove(this);else t.remove(this);const{initialTeardown:y}=this;if(zi(y))try{y()}catch(K){n=K instanceof B?K.errors:[K]}const{_finalizers:L}=this;if(L){this._finalizers=null;for(const K of L)try{S(K)}catch(me){n=n??[],me instanceof B?n=[...n,...me.errors]:n.push(me)}}if(n)throw new B(n)}}add(n){var t;if(n&&n!==this)if(this.closed)S(n);else{if(n instanceof D){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&r(t,n)}remove(n){const{_finalizers:t}=this;t&&r(t,n),n instanceof D&&n._removeParent(this)}}D.EMPTY=(()=>{const e=new D;return e.closed=!0,e})();const E=D.EMPTY;function f(e){return e instanceof D||e&&"closed"in e&&zi(e.remove)&&zi(e.add)&&zi(e.unsubscribe)}function S(e){zi(e)?e():e.unsubscribe()}const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},v={setTimeout(e,n,...t){const{delegate:y}=v;return y?.setTimeout?y.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=v;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function c(e){v.setTimeout(()=>{const{onUnhandledError:n}=M;if(!n)throw e;n(e)})}function i(){}const s=l("C",void 0,void 0);function l(e,n,t){return{kind:e,value:n,error:t}}let u=null;function d(e){if(M.useDeprecatedSynchronousErrorHandling){const n=!u;if(n&&(u={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:y}=u;if(u=null,t)throw y}}else e()}class h extends D{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,f(n)&&n.add(this)):this.destination=p}static create(n,t,y){return new w(n,t,y)}next(n){this.isStopped?A(function o(e){return l("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?A(function a(e){return l("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?A(s,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const T=Function.prototype.bind;function _(e,n){return T.call(e,n)}class g{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(y){x(y)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(y){x(y)}else x(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){x(t)}}}class w extends h{constructor(n,t,y){let L;if(super(),zi(n)||!n)L={next:n??void 0,error:t??void 0,complete:y??void 0};else{let K;this&&M.useDeprecatedNextContext?(K=Object.create(n),K.unsubscribe=()=>this.unsubscribe(),L={next:n.next&&_(n.next,K),error:n.error&&_(n.error,K),complete:n.complete&&_(n.complete,K)}):L=n}this.destination=new g(L)}}function x(e){M.useDeprecatedSynchronousErrorHandling?function m(e){M.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=e)}(e):c(e)}function A(e,n){const{onStoppedNotification:t}=M;t&&v.setTimeout(()=>t(e,n))}const p={closed:!0,next:i,error:function b(e){throw e},complete:i},O="function"==typeof Symbol&&Symbol.observable||"@@observable";function k(e){return e}function P(e){return 0===e.length?k:1===e.length?e[0]:function(t){return e.reduce((y,L)=>L(y),t)}}let R=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const y=new e;return y.source=this,y.operator=t,y}subscribe(t,y,L){const K=function X(e){return e&&e instanceof h||function j(e){return e&&zi(e.next)&&zi(e.error)&&zi(e.complete)}(e)&&f(e)}(t)?t:new w(t,y,L);return d(()=>{const{operator:me,source:ze}=this;K.add(me?me.call(K,ze):ze?this._subscribe(K):this._trySubscribe(K))}),K}_trySubscribe(t){try{return this._subscribe(t)}catch(y){t.error(y)}}forEach(t,y){return new(y=N(y))((L,K)=>{const me=new w({next:ze=>{try{t(ze)}catch(Ze){K(Ze),me.unsubscribe()}},error:K,complete:L});this.subscribe(me)})}_subscribe(t){var y;return null===(y=this.source)||void 0===y?void 0:y.subscribe(t)}[O](){return this}pipe(...t){return P(t)(this)}toPromise(t){return new(t=N(t))((y,L)=>{let K;this.subscribe(me=>K=me,me=>L(me),()=>y(K))})}}return e.create=n=>new e(n),e})();function N(e){var n;return null!==(n=e??M.Promise)&&void 0!==n?n:Promise}const F=ae(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Z=(()=>{class e extends R{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const y=new W(this,this);return y.operator=t,y}_throwIfClosed(){if(this.closed)throw new F}next(t){d(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const y of this.currentObservers)y.next(t)}})}error(t){d(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:y}=this;for(;y.length;)y.shift().error(t)}})}complete(){d(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:y,isStopped:L,observers:K}=this;return y||L?E:(this.currentObservers=null,K.push(t),new D(()=>{this.currentObservers=null,r(K,t)}))}_checkFinalizedStatuses(t){const{hasError:y,thrownError:L,isStopped:K}=this;y?t.error(L):K&&t.complete()}asObservable(){const t=new R;return t.source=this,t}}return e.create=(n,t)=>new W(n,t),e})();class W extends Z{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,y;null===(y=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===y||y.call(t,n)}error(n){var t,y;null===(y=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===y||y.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,y;return null!==(y=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==y?y:E}}function H(e){return zi(e?.lift)}function G(e){return n=>{if(H(n))return n.lift(function(t){try{return e(t,this)}catch(y){this.error(y)}});throw new TypeError("Unable to lift unknown Observable type")}}function Y(e,n,t,y,L){return new se(e,n,t,y,L)}class se extends h{constructor(n,t,y,L,K,me){super(n),this.onFinalize=K,this.shouldUnsubscribe=me,this._next=t?function(ze){try{t(ze)}catch(Ze){n.error(Ze)}}:super._next,this._error=L?function(ze){try{L(ze)}catch(Ze){n.error(Ze)}finally{this.unsubscribe()}}:super._error,this._complete=y?function(){try{y()}catch(ze){n.error(ze)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function te(e,n){return G((t,y)=>{let L=0;t.subscribe(Y(y,K=>{y.next(e.call(n,K,L++))}))})}function Oe(e){return this instanceof Oe?(this.v=e,this):new Oe(e)}function Ge(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function ke(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],y=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&y>=e.length&&(e=void 0),{value:e&&e[y++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},y("next"),y("throw"),y("return"),t[Symbol.asyncIterator]=function(){return this},t);function y(K){t[K]=e[K]&&function(me){return new Promise(function(ze,Ze){!function L(K,me,ze,Ze){Promise.resolve(Ze).then(function(ot){K({value:ot,done:ze})},me)}(ze,Ze,(me=e[K](me)).done,me.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const St=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Dt(e){return zi(e?.then)}function Et(e){return zi(e[O])}function ht(e){return Symbol.asyncIterator&&zi(e?.[Symbol.asyncIterator])}function pt(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ft=function Pt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ht(e){return zi(e?.[Ft])}function Lt(e){return function De(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,y=t.apply(e,n||[]),K=[];return L={},me("next"),me("throw"),me("return"),L[Symbol.asyncIterator]=function(){return this},L;function me(Qt){y[Qt]&&(L[Qt]=function(hn){return new Promise(function(Bn,Kn){K.push([Qt,hn,Bn,Kn])>1||ze(Qt,hn)})})}function ze(Qt,hn){try{!function Ze(Qt){Qt.value instanceof Oe?Promise.resolve(Qt.value.v).then(ot,yt):zt(K[0][2],Qt)}(y[Qt](hn))}catch(Bn){zt(K[0][3],Bn)}}function ot(Qt){ze("next",Qt)}function yt(Qt){ze("throw",Qt)}function zt(Qt,hn){Qt(hn),K.shift(),K.length&&ze(K[0][0],K[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:y,done:L}=yield Oe(t.read());if(L)return yield Oe(void 0);yield yield Oe(y)}}finally{t.releaseLock()}})}function tt(e){return zi(e?.getReader)}function rt(e){if(e instanceof R)return e;if(null!=e){if(Et(e))return function Ke(e){return new R(n=>{const t=e[O]();if(zi(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(St(e))return function it(e){return new R(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Dt(e))return function gt(e){return new R(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,c)})}(e);if(ht(e))return Ve(e);if(Ht(e))return function ft(e){return new R(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(tt(e))return function qe(e){return Ve(Lt(e))}(e)}throw pt(e)}function Ve(e){return new R(n=>{(function dt(e,n){var t,y,L,K;return function ve(e,n,t,y){return new(t||(t=Promise))(function(K,me){function ze(yt){try{ot(y.next(yt))}catch(zt){me(zt)}}function Ze(yt){try{ot(y.throw(yt))}catch(zt){me(zt)}}function ot(yt){yt.done?K(yt.value):function L(K){return K instanceof t?K:new t(function(me){me(K)})}(yt.value).then(ze,Ze)}ot((y=y.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Ge(e);!(y=yield t.next()).done;)if(n.next(y.value),n.closed)return}catch(me){L={error:me}}finally{try{y&&!y.done&&(K=t.return)&&(yield K.call(t))}finally{if(L)throw L.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function ut(e,n,t,y=0,L=!1){const K=n.schedule(function(){t(),L?e.add(this.schedule(null,y)):this.unsubscribe()},y);if(e.add(K),!L)return K}function wt(e,n,t=1/0){return zi(n)?wt((y,L)=>te((K,me)=>n(y,K,L,me))(rt(e(y,L))),t):("number"==typeof n&&(t=n),G((y,L)=>function At(e,n,t,y,L,K,me,ze){const Ze=[];let ot=0,yt=0,zt=!1;const Qt=()=>{zt&&!Ze.length&&!ot&&n.complete()},hn=Kn=>ot<y?Bn(Kn):Ze.push(Kn),Bn=Kn=>{K&&n.next(Kn),ot++;let cr=!1;rt(t(Kn,yt++)).subscribe(Y(n,vr=>{L?.(vr),K?hn(vr):n.next(vr)},()=>{cr=!0},void 0,()=>{if(cr)try{for(ot--;Ze.length&&ot<y;){const vr=Ze.shift();me?ut(n,me,()=>Bn(vr)):Bn(vr)}Qt()}catch(vr){n.error(vr)}}))};return e.subscribe(Y(n,hn,()=>{zt=!0,Qt()})),()=>{ze?.()}}(y,L,e,t)))}function kt(e=1/0){return wt(k,e)}const _t=new R(e=>e.complete());function Tt(e){return e&&zi(e.schedule)}function Ot(e){return e[e.length-1]}function Wt(e){return zi(Ot(e))?e.pop():void 0}function qt(e){return Tt(Ot(e))?e.pop():void 0}function pn(e,n=0){return G((t,y)=>{t.subscribe(Y(y,L=>ut(y,e,()=>y.next(L),n),()=>ut(y,e,()=>y.complete(),n),L=>ut(y,e,()=>y.error(L),n)))})}function en(e,n=0){return G((t,y)=>{y.add(e.schedule(()=>t.subscribe(y),n))})}function An(e,n){if(!e)throw new Error("Iterable cannot be null");return new R(t=>{ut(t,n,()=>{const y=e[Symbol.asyncIterator]();ut(t,n,()=>{y.next().then(L=>{L.done?t.complete():t.next(L.value)})},0,!0)})})}function ln(e,n){return n?function yn(e,n){if(null!=e){if(Et(e))return function nn(e,n){return rt(e).pipe(en(n),pn(n))}(e,n);if(St(e))return function In(e,n){return new R(t=>{let y=0;return n.schedule(function(){y===e.length?t.complete():(t.next(e[y++]),t.closed||this.schedule())})})}(e,n);if(Dt(e))return function dn(e,n){return rt(e).pipe(en(n),pn(n))}(e,n);if(ht(e))return An(e,n);if(Ht(e))return function Hn(e,n){return new R(t=>{let y;return ut(t,n,()=>{y=e[Ft](),ut(t,n,()=>{let L,K;try{({value:L,done:K}=y.next())}catch(me){return void t.error(me)}K?t.complete():t.next(L)},0,!0)}),()=>zi(y?.return)&&y.return()})}(e,n);if(tt(e))return function on(e,n){return An(Lt(e),n)}(e,n)}throw pt(e)}(e,n):rt(e)}function wn(...e){const n=qt(e),t=function Jt(e,n){return"number"==typeof Ot(e)?e.pop():n}(e,1/0),y=e;return y.length?1===y.length?rt(y[0]):kt(t)(ln(y,n)):_t}function Ln(e,n,...t){if(!0===n)return void e();if(!1===n)return;const y=new w({next:()=>{y.unsubscribe(),e()}});return rt(n(...t)).subscribe(y)}function Sn(e){for(let n in e)if(e[n]===Sn)return n;throw Error("Could not find renamed property on target object.")}function kn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(kn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Zn(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const fr=Sn({__forward_ref__:Sn});function er(e){return e.__forward_ref__=er,e.toString=function(){return kn(this())},e}function nr(e){return mr(e)?e():e}function mr(e){return"function"==typeof e&&e.hasOwnProperty(fr)&&e.__forward_ref__===er}function dr(e){return e&&!!e.\u0275providers}class $t extends Error{constructor(n,t){super(xn(n,t)),this.code=n}}function xn(e,n){return`NG0${Math.abs(e)}${n?": "+n.trim():""}`}function vn(e){return"string"==typeof e?e:null==e?"":String(e)}function gr(e,n){throw new $t(-201,!1)}function Vn(e,n,t,y){throw new Error(`ASSERTION ERROR: ${e}`+(null==y?"":` [Expected=> ${t} ${y} ${n} <=Actual]`))}function Rn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function lr(e){return{providers:e.providers||[],imports:e.imports||[]}}function wr(e){return Lr(e,Ur)||Lr(e,Yi)}function Lr(e,n){return e.hasOwnProperty(n)?e[n]:null}function pr(e){return e&&(e.hasOwnProperty(ui)||e.hasOwnProperty(Eo))?e[ui]:null}const Ur=Sn({\u0275prov:Sn}),ui=Sn({\u0275inj:Sn}),Yi=Sn({ngInjectableDef:Sn}),Eo=Sn({ngInjectorDef:Sn});var Qr=(()=>((Qr=Qr||{})[Qr.Default=0]="Default",Qr[Qr.Host=1]="Host",Qr[Qr.Self=2]="Self",Qr[Qr.SkipSelf=4]="SkipSelf",Qr[Qr.Optional=8]="Optional",Qr))();let wo;function Zi(e){const n=wo;return wo=e,n}function Vs(e,n,t){const y=wr(e);return y&&"root"==y.providedIn?void 0===y.value?y.value=y.factory():y.value:t&Qr.Optional?null:void 0!==n?n:void gr(kn(e))}const Xi=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),mu={},Es="__NG_DI_FLAG__",Qu="ngTempTokenPath",vu="ngTokenPath",yu=/\n/gm,hl="\u0275",qo="__source";let Ll;function Fi(e){const n=Ll;return Ll=e,n}function pl(e,n=Qr.Default){if(void 0===Ll)throw new $t(-203,!1);return null===Ll?Vs(e,void 0,n):Ll.get(e,n&Qr.Optional?null:void 0,n)}function Nr(e,n=Qr.Default){return(function co(){return wo}()||pl)(nr(e),n)}function mi(e,n=Qr.Default){return Nr(e,Hs(n))}function Hs(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Gs(e){const n=[];for(let t=0;t<e.length;t++){const y=nr(e[t]);if(Array.isArray(y)){if(0===y.length)throw new $t(900,!1);let L,K=Qr.Default;for(let me=0;me<y.length;me++){const ze=y[me],Ze=mc(ze);"number"==typeof Ze?-1===Ze?L=ze.token:K|=Ze:L=ze}n.push(Nr(L,K))}else n.push(Nr(y))}return n}function ys(e,n){return e[Es]=n,e.prototype[Es]=n,e}function mc(e){return e[Es]}function vl(e){return{toString:e}.toString()}var Cs=(()=>((Cs=Cs||{})[Cs.OnPush=0]="OnPush",Cs[Cs.Default=1]="Default",Cs))(),Ws=(()=>{return(e=Ws||(Ws={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Ws;var e})();const qs={},Ji=[],Nl=Sn({\u0275cmp:Sn}),yl=Sn({\u0275dir:Sn}),Fl=Sn({\u0275pipe:Sn}),_u=Sn({\u0275mod:Sn}),Ds=Sn({\u0275fac:Sn}),xu=Sn({__NG_ELEMENT_ID__:Sn});let Ic=0;function ji(e){return vl(()=>{const n=Pc(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Cs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||Ws.Emulated,id:"c"+Ic++,styles:e.styles||Ji,_:null,schemas:e.schemas||null,tView:null};ju(t);const y=e.dependencies;return t.directiveDefs=jl(y,!1),t.pipeDefs=jl(y,!0),t})}function _l(e){return Oi(e)||$o(e)}function zl(e){return null!==e}function ro(e){return vl(()=>({type:e.type,bootstrap:e.bootstrap||Ji,declarations:e.declarations||Ji,imports:e.imports||Ji,exports:e.exports||Ji,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function io(e,n){if(null==e)return qs;const t={};for(const y in e)if(e.hasOwnProperty(y)){let L=e[y],K=L;Array.isArray(L)&&(K=L[1],L=L[0]),t[L]=y,n&&(n[L]=K)}return t}function Br(e){return vl(()=>{const n=Pc(e);return ju(n),n})}function ma(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Oi(e){return e[Nl]||null}function $o(e){return e[yl]||null}function as(e){return e[Fl]||null}function ss(e,n){const t=e[_u]||null;if(!t&&!0===n)throw new Error(`Type ${kn(e)} does not have '\u0275mod' property.`);return t}function Pc(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Ji,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:io(e.inputs,n),outputs:io(e.outputs)}}function ju(e){e.features?.forEach(n=>n(e))}function jl(e,n){if(!e)return null;const t=n?as:_l;return()=>("function"==typeof e?e():e).map(y=>t(y)).filter(zl)}const _s=0,ti=1,wi=2,yo=3,da=4,xl=5,Io=6,wu=7,Zo=8,Tu=9,$s=10,Si=11,Ul=12,Mu=13,Au=14,Os=15,na=16,bl=17,Vi=18,Pa=19,xs=20,ra=21,di=22,wl=1,Tl=2,Uu=7,tu=8,bs=9,ha=10;function pa(e){return Array.isArray(e)&&"object"==typeof e[wl]}function va(e){return Array.isArray(e)&&!0===e[wl]}function Co(e){return 0!=(4&e.flags)}function Zs(e){return e.componentOffset>-1}function Ml(e){return 1==(1&e.flags)}function fo(e){return!!e.template}function Ra(e){return 0!=(256&e[wi])}function Ps(e,n){return e.hasOwnProperty(Ds)?e[Ds]:null}class ec{constructor(n,t,y){this.previousValue=n,this.currentValue=t,this.firstChange=y}isFirstChange(){return this.firstChange}}function Li(){return Rs}function Rs(e){return e.type.prototype.ngOnChanges&&(e.setInput=ws),Ls}function Ls(){const e=Sl(this),n=e?.current;if(n){const t=e.previous;if(t===qs)e.previous=n;else for(let y in n)t[y]=n[y];e.current=null,this.ngOnChanges(n)}}function ws(e,n,t,y){const L=this.declaredInputs[t],K=Sl(e)||function oa(e,n){return e[Ks]=n}(e,{previous:qs,current:null}),me=K.current||(K.current={}),ze=K.previous,Ze=ze[L];me[L]=new ec(Ze&&Ze.currentValue,n,ze===qs),e[y]=n}Li.ngInherit=!0;const Ks="__ngSimpleChanges__";function Sl(e){return e[Ks]||null}const ho=function(e,n,t){};function po(e){for(;Array.isArray(e);)e=e[_s];return e}function Ts(e,n){return po(n[e])}function Ja(e,n){return po(n[e.index])}function eo(e,n){return e.data[n]}function xa(e,n){return e[n]}function Vo(e,n){const t=n[e];return pa(t)?t:t[_s]}function Su(e){return 64==(64&e[wi])}function ls(e,n){return null==n?null:e[n]}function Yo(e){e[Vi]=0}function sa(e,n){e[xl]+=n;let t=e,y=e[yo];for(;null!==y&&(1===n&&1===t[xl]||-1===n&&0===t[xl]);)y[xl]+=n,t=y,y=y[yo]}const Sr={lFrame:jt(null),bindingsEnabled:!0};function Eu(){return Sr.bindingsEnabled}function kr(){return Sr.lFrame.lView}function Wr(){return Sr.lFrame.tView}function _i(e){return Sr.lFrame.contextLView=e,e[Zo]}function Ci(e){return Sr.lFrame.contextLView=null,e}function go(){let e=uu();for(;null!==e&&64===e.type;)e=e.parent;return e}function uu(){return Sr.lFrame.currentTNode}function El(){const e=Sr.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Ha(e,n){const t=Sr.lFrame;t.currentTNode=e,t.isParent=n}function Qs(){return Sr.lFrame.isParent}function U(){Sr.lFrame.isParent=!1}function _e(){const e=Sr.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Pe(){return Sr.lFrame.bindingIndex}function ie(){return Sr.lFrame.bindingIndex++}function ce(e){const n=Sr.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Ce(e){Sr.lFrame.inI18n=e}function Ne(e,n){const t=Sr.lFrame;t.bindingIndex=t.bindingRootIndex=e,Xe(n)}function Xe(e){Sr.lFrame.currentDirectiveIndex=e}function nt(){return Sr.lFrame.currentQueryIndex}function lt(e){Sr.lFrame.currentQueryIndex=e}function xt(e){const n=e[ti];return 2===n.type?n.declTNode:1===n.type?e[Io]:null}function Mt(e,n,t){if(t&Qr.SkipSelf){let L=n,K=e;for(;!(L=L.parent,null!==L||t&Qr.Host||(L=xt(K),null===L||(K=K[Os],10&L.type))););if(null===L)return!1;n=L,e=K}const y=Sr.lFrame=Vt();return y.currentTNode=n,y.lView=e,!0}function Bt(e){const n=Vt(),t=e[ti];Sr.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Vt(){const e=Sr.lFrame,n=null===e?null:e.child;return null===n?jt(e):n}function jt(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Xt(){const e=Sr.lFrame;return Sr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ut=Xt;function gn(){const e=Xt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function En(){return Sr.lFrame.selectedIndex}function On(e){Sr.lFrame.selectedIndex=e}function $n(){const e=Sr.lFrame;return eo(e.tView,e.selectedIndex)}function $r(e,n){for(let t=n.directiveStart,y=n.directiveEnd;t<y;t++){const K=e.data[t].type.prototype,{ngAfterContentInit:me,ngAfterContentChecked:ze,ngAfterViewInit:Ze,ngAfterViewChecked:ot,ngOnDestroy:yt}=K;me&&(e.contentHooks??(e.contentHooks=[])).push(-t,me),ze&&((e.contentHooks??(e.contentHooks=[])).push(t,ze),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(t,ze)),Ze&&(e.viewHooks??(e.viewHooks=[])).push(-t,Ze),ot&&((e.viewHooks??(e.viewHooks=[])).push(t,ot),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(t,ot)),null!=yt&&(e.destroyHooks??(e.destroyHooks=[])).push(t,yt)}}function hi(e,n,t){zr(e,n,3,t)}function ir(e,n,t,y){(3&e[wi])===t&&zr(e,n,t,y)}function Tr(e,n){let t=e[wi];(3&t)===n&&(t&=2047,t+=1,e[wi]=t)}function zr(e,n,t,y){const K=y??-1,me=n.length-1;let ze=0;for(let Ze=void 0!==y?65535&e[Vi]:0;Ze<me;Ze++)if("number"==typeof n[Ze+1]){if(ze=n[Ze],null!=y&&ze>=y)break}else n[Ze]<0&&(e[Vi]+=65536),(ze<K||-1==K)&&(Kr(e,t,n,Ze),e[Vi]=(4294901760&e[Vi])+Ze+2),Ze++}function Kr(e,n,t,y){const L=t[y]<0,K=t[y+1],ze=e[L?-t[y]:t[y]];if(L){if(e[wi]>>11<e[Vi]>>16&&(3&e[wi])===n){e[wi]+=2048,ho(4,ze,K);try{K.call(ze)}finally{ho(5,ze,K)}}}else{ho(4,ze,K);try{K.call(ze)}finally{ho(5,ze,K)}}}const ai=-1;class vi{constructor(n,t,y){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=y}}function Xo(e,n,t){let y=0;for(;y<t.length;){const L=t[y];if("number"==typeof L){if(0!==L)break;y++;const K=t[y++],me=t[y++],ze=t[y++];e.setAttribute(n,me,ze,K)}else{const K=L,me=t[++y];Pi(K)?e.setProperty(n,K,me):e.setAttribute(n,K,me),y++}}return y}function Hi(e){return 3===e||4===e||6===e}function Pi(e){return 64===e.charCodeAt(0)}function so(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let y=0;y<n.length;y++){const L=n[y];"number"==typeof L?t=L:0===t||mo(e,t,L,null,-1===t||2===t?n[++y]:null)}}return e}function mo(e,n,t,y,L){let K=0,me=e.length;if(-1===n)me=-1;else for(;K<e.length;){const ze=e[K++];if("number"==typeof ze){if(ze===n){me=-1;break}if(ze>n){me=K-1;break}}}for(;K<e.length;){const ze=e[K];if("number"==typeof ze)break;if(ze===t){if(null===y)return void(null!==L&&(e[K+1]=L));if(y===e[K+1])return void(e[K+2]=L)}K++,null!==y&&K++,null!==L&&K++}-1!==me&&(e.splice(me,0,n),K=me+1),e.splice(K++,0,t),null!==y&&e.splice(K++,0,y),null!==L&&e.splice(K++,0,L)}function Do(e){return e!==ai}function Ma(e){return 32767&e}function Gi(e,n){let t=function jo(e){return e>>16}(e),y=n;for(;t>0;)y=y[Os],t--;return y}let Hl=!0;function Na(e){const n=Hl;return Hl=e,n}const Go=255,ua=5;let tl=0;const Gl={};function ld(e,n){const t=If(e,n);if(-1!==t)return t;const y=n[ti];y.firstCreatePass&&(e.injectorIndex=n.length,Of(y.data,e),Of(n,null),Of(y.blueprint,null));const L=Pf(e,n),K=e.injectorIndex;if(Do(L)){const me=Ma(L),ze=Gi(L,n),Ze=ze[ti].data;for(let ot=0;ot<8;ot++)n[K+ot]=ze[me+ot]|Ze[me+ot]}return n[K+8]=L,K}function Of(e,n){e.push(0,0,0,0,0,0,0,0,n)}function If(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Pf(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,y=null,L=n;for(;null!==L;){if(y=e1(L),null===y)return ai;if(t++,L=L[Os],-1!==y.injectorIndex)return y.injectorIndex|t<<16}return ai}function Nc(e,n,t){!function dp(e,n,t){let y;"string"==typeof t?y=t.charCodeAt(0)||0:t.hasOwnProperty(xu)&&(y=t[xu]),null==y&&(y=t[xu]=tl++);const L=y&Go;n.data[e+(L>>ua)]|=1<<L}(e,n,t)}function Fc(e,n,t){if(t&Qr.Optional||void 0!==e)return e;gr()}function ud(e,n,t,y){if(t&Qr.Optional&&void 0===y&&(y=null),!(t&(Qr.Self|Qr.Host))){const L=e[Tu],K=Zi(void 0);try{return L?L.get(n,y,t&Qr.Optional):Vs(n,y,t&Qr.Optional)}finally{Zi(K)}}return Fc(y,0,t)}function cd(e,n,t,y=Qr.Default,L){if(null!==e){if(1024&n[wi]){const me=function Ky(e,n,t,y,L){let K=e,me=n;for(;null!==K&&null!==me&&1024&me[wi]&&!(256&me[wi]);){const ze=lh(K,me,t,y|Qr.Self,Gl);if(ze!==Gl)return ze;let Ze=K.parent;if(!Ze){const ot=me[ra];if(ot){const yt=ot.get(t,Gl,y);if(yt!==Gl)return yt}Ze=e1(me),me=me[Os]}K=Ze}return L}(e,n,t,y,Gl);if(me!==Gl)return me}const K=lh(e,n,t,y,Gl);if(K!==Gl)return K}return ud(n,t,y,L)}function lh(e,n,t,y,L){const K=function cu(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(xu)?e[xu]:void 0;return"number"==typeof n?n>=0?n&Go:vp:n}(t);if("function"==typeof K){if(!Mt(n,e,y))return y&Qr.Host?Fc(L,0,y):ud(n,t,y,L);try{const me=K(y);if(null!=me||y&Qr.Optional)return me;gr()}finally{Ut()}}else if("number"==typeof K){let me=null,ze=If(e,n),Ze=ai,ot=y&Qr.Host?n[na][Io]:null;for((-1===ze||y&Qr.SkipSelf)&&(Ze=-1===ze?Pf(e,n):n[ze+8],Ze!==ai&&G0(y,!1)?(me=n[ti],ze=Ma(Ze),n=Gi(Ze,n)):ze=-1);-1!==ze;){const yt=n[ti];if(mp(K,ze,yt.data)){const zt=pp(ze,n,t,me,y,ot);if(zt!==Gl)return zt}Ze=n[ze+8],Ze!==ai&&G0(y,n[ti].data[ze+8]===ot)&&mp(K,ze,n)?(me=yt,ze=Ma(Ze),n=Gi(Ze,n)):ze=-1}}return L}function pp(e,n,t,y,L,K){const me=n[ti],ze=me.data[e+8],yt=gp(ze,me,t,null==y?Zs(ze)&&Hl:y!=me&&0!=(3&ze.type),L&Qr.Host&&K===ze);return null!==yt?Rf(n,me,yt,ze):Gl}function gp(e,n,t,y,L){const K=e.providerIndexes,me=n.data,ze=1048575&K,Ze=e.directiveStart,yt=K>>20,Qt=L?ze+yt:e.directiveEnd;for(let hn=y?ze:ze+yt;hn<Qt;hn++){const Bn=me[hn];if(hn<Ze&&t===Bn||hn>=Ze&&Bn.type===t)return hn}if(L){const hn=me[Ze];if(hn&&fo(hn)&&hn.type===t)return Ze}return null}function Rf(e,n,t,y){let L=e[t];const K=n.data;if(function Bi(e){return e instanceof vi}(L)){const me=L;me.resolving&&function or(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new $t(-200,`Circular dependency in DI detected for ${e}${t}`)}(function Dn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():vn(e)}(K[t]));const ze=Na(me.canSeeViewProviders);me.resolving=!0;const Ze=me.injectImpl?Zi(me.injectImpl):null;Mt(e,y,Qr.Default);try{L=e[t]=me.factory(void 0,K,e,y),n.firstCreatePass&&t>=y.directiveStart&&function Fr(e,n,t){const{ngOnChanges:y,ngOnInit:L,ngDoCheck:K}=n.type.prototype;if(y){const me=Rs(n);(t.preOrderHooks??(t.preOrderHooks=[])).push(e,me),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(e,me)}L&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-e,L),K&&((t.preOrderHooks??(t.preOrderHooks=[])).push(e,K),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(e,K))}(t,K[t],n)}finally{null!==Ze&&Zi(Ze),Na(ze),me.resolving=!1,Ut()}}return L}function mp(e,n,t){return!!(t[n+(e>>ua)]&1<<e)}function G0(e,n){return!(e&Qr.Self||e&Qr.Host&&n)}class fd{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,y){return cd(this._tNode,this._lView,n,Hs(y),t)}}function vp(){return new fd(go(),kr())}function Ga(e){return vl(()=>{const n=e.prototype.constructor,t=n[Ds]||dd(n),y=Object.prototype;let L=Object.getPrototypeOf(e.prototype).constructor;for(;L&&L!==y;){const K=L[Ds]||dd(L);if(K&&K!==t)return K;L=Object.getPrototypeOf(L)}return K=>new K})}function dd(e){return mr(e)?()=>{const n=dd(nr(e));return n&&n()}:Ps(e)}function e1(e){const n=e[ti],t=n.type;return 2===t?n.declTNode:1===t?e[Io]:null}const ff="__parameters__";function Qa(e,n,t){return vl(()=>{const y=function Bc(e){return function(...t){if(e){const y=e(...t);for(const L in y)this[L]=y[L]}}}(n);function L(...K){if(this instanceof L)return y.apply(this,K),this;const me=new L(...K);return ze.annotation=me,ze;function ze(Ze,ot,yt){const zt=Ze.hasOwnProperty(ff)?Ze[ff]:Object.defineProperty(Ze,ff,{value:[]})[ff];for(;zt.length<=yt;)zt.push(null);return(zt[yt]=zt[yt]||[]).push(me),Ze}}return t&&(L.prototype=Object.create(t.prototype)),L.prototype.ngMetadataName=e,L.annotationCls=L,L})}class gi{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Rn({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ff(e,n){e.forEach(t=>Array.isArray(t)?Ff(t,n):n(t))}function xp(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function bp(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function yc(e,n){const t=[];for(let y=0;y<e;y++)t.push(n);return t}function Cl(e,n,t){let y=_c(e,n);return y>=0?e[1|y]=t:(y=~y,function wp(e,n,t,y){let L=e.length;if(L==n)e.push(t,y);else if(1===L)e.push(y,e[0]),e[0]=t;else{for(L--,e.push(e[L-1],e[L]);L>n;)e[L]=e[L-2],L--;e[n]=t,e[n+1]=y}}(e,y,n,t)),y}function hd(e,n){const t=_c(e,n);if(t>=0)return e[1|t]}function _c(e,n){return function $0(e,n,t){let y=0,L=e.length>>t;for(;L!==y;){const K=y+(L-y>>1),me=e[K<<t];if(n===me)return K<<t;me>n?L=K:y=K+1}return~(L<<t)}(e,n,1)}const zf=ys(Qa("Optional"),8),Wl=ys(Qa("SkipSelf"),4);var ql=(()=>((ql=ql||{})[ql.Important=1]="Important",ql[ql.DashCase=2]="DashCase",ql))();const f1=/^>|^->|<!--|-->|--!>|<!-$/g,Ap=/(<|>)/,Lo="\u200b$1\u200b";const Sp=new Map;let d1=0;const ag="__ngContext__";function Dl(e,n){pa(n)?(e[ag]=n[xs],function bd(e){Sp.set(e[xs],e)}(n)):e[ag]=n}let nl;function Td(e,n){return nl(e,n)}function Uc(e){const n=e[yo];return va(n)?n[yo]:n}function df(e){return _h(e[Mu])}function us(e){return _h(e[da])}function _h(e){for(;null!==e&&!va(e);)e=e[da];return e}function Vc(e,n,t,y,L){if(null!=y){let K,me=!1;va(y)?K=y:pa(y)&&(me=!0,y=y[_s]);const ze=po(y);0===e&&null!==t?null==L?gg(n,t,ze):hf(n,t,ze,L||null,!0):1===e&&null!==t?hf(n,t,ze,L||null,!0):2===e?_g(n,ze,me):3===e&&n.destroyNode(ze),null!=K&&function wg(e,n,t,y,L){const K=t[Uu];K!==po(t)&&Vc(n,e,y,K,L);for(let ze=ha;ze<t.length;ze++){const Ze=t[ze];xc(Ze[ti],Ze,e,n,y,K)}}(n,e,K,t,L)}}function rl(e,n){return e.createText(n)}function ug(e,n,t){e.setValue(n,t)}function _1(e,n){return e.createComment(function kp(e){return e.replace(f1,n=>n.replace(Ap,Lo))}(n))}function cg(e,n,t){return e.createElement(n,t)}function Bf(e,n){const t=e[bs],y=t.indexOf(n),L=n[yo];512&n[wi]&&(n[wi]&=-513,sa(L,-1)),t.splice(y,1)}function Cu(e,n){if(e.length<=ha)return;const t=ha+n,y=e[t];if(y){const L=y[bl];null!==L&&L!==e&&Bf(L,y),n>0&&(e[t-1][da]=y[da]);const K=bp(e,ha+n);!function x1(e,n){xc(e,n,n[Si],2,null,null),n[_s]=null,n[Io]=null}(y[ti],y);const me=K[Pa];null!==me&&me.detachView(K[ti]),y[yo]=null,y[da]=null,y[wi]&=-65}return y}function Ep(e,n){if(!(128&n[wi])){const t=n[Si];t.destroyNode&&xc(e,n,t,3,null,null),function dg(e){let n=e[Mu];if(!n)return Cp(e[ti],e);for(;n;){let t=null;if(pa(n))t=n[Mu];else{const y=n[ha];y&&(t=y)}if(!t){for(;n&&!n[da]&&n!==e;)pa(n)&&Cp(n[ti],n),n=n[yo];null===n&&(n=e),pa(n)&&Cp(n[ti],n),t=n&&n[da]}n=t}}(n)}}function Cp(e,n){if(!(128&n[wi])){n[wi]&=-65,n[wi]|=128,function y_(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let y=0;y<t.length;y+=2){const L=n[t[y]];if(!(L instanceof vi)){const K=t[y+1];if(Array.isArray(K))for(let me=0;me<K.length;me+=2){const ze=L[K[me]],Ze=K[me+1];ho(4,ze,Ze);try{Ze.call(ze)}finally{ho(5,ze,Ze)}}else{ho(4,L,K);try{K.call(L)}finally{ho(5,L,K)}}}}}(e,n),function T1(e,n){const t=e.cleanup,y=n[wu];let L=-1;if(null!==t)for(let K=0;K<t.length-1;K+=2)if("string"==typeof t[K]){const me=t[K+3];me>=0?y[L=me]():y[L=-me].unsubscribe(),K+=2}else{const me=y[L=t[K+1]];t[K].call(me)}if(null!==y){for(let K=L+1;K<y.length;K++)(0,y[K])();n[wu]=null}}(e,n),1===n[ti].type&&n[Si].destroy();const t=n[bl];if(null!==t&&va(n[yo])){t!==n[yo]&&Bf(t,n);const y=n[Pa];null!==y&&y.detachView(e)}!function p_(e){Sp.delete(e[xs])}(n)}}function hg(e,n,t){return pg(e,n.parent,t)}function pg(e,n,t){let y=n;for(;null!==y&&40&y.type;)y=(n=y).parent;if(null===y)return t[_s];{const{componentOffset:L}=y;if(L>-1){const{encapsulation:K}=e.data[y.directiveStart+L];if(K===Ws.None||K===Ws.Emulated)return null}return Ja(y,t)}}function hf(e,n,t,y,L){e.insertBefore(n,t,y,L)}function gg(e,n,t){e.appendChild(n,t)}function M1(e,n,t,y,L){null!==y?hf(e,n,t,y,L):gg(e,n,t)}function xh(e,n){return e.parentNode(n)}function mg(e,n,t){return vg(e,n,t)}function bh(e,n,t){return 40&e.type?Ja(e,t):null}let Ad,Dp,Uf,vg=bh;function wh(e,n){vg=e,Ad=n}function jf(e,n,t,y){const L=hg(e,y,n),K=n[Si],ze=mg(y.parent||n[Io],y,n);if(null!=L)if(Array.isArray(t))for(let Ze=0;Ze<t.length;Ze++)M1(K,L,t[Ze],ze,!1);else M1(K,L,t,ze,!1);void 0!==Ad&&Ad(K,y,n,t,L)}function Hc(e,n){if(null!==n){const t=n.type;if(3&t)return Ja(n,e);if(4&t)return yg(-1,e[n.index]);if(8&t){const y=n.child;if(null!==y)return Hc(e,y);{const L=e[n.index];return va(L)?yg(-1,L):po(L)}}if(32&t)return Td(n,e)()||po(e[n.index]);{const y=A1(e,n);return null!==y?Array.isArray(y)?y[0]:Hc(Uc(e[na]),y):Hc(e,n.next)}}return null}function A1(e,n){return null!==n?e[na][Io].projection[n.projection]:null}function yg(e,n){const t=ha+e+1;if(t<n.length){const y=n[t],L=y[ti].firstChild;if(null!==L)return Hc(y,L)}return n[Uu]}function _g(e,n,t){const y=xh(e,n);y&&function __(e,n,t,y){e.removeChild(n,t,y)}(e,y,n,t)}function pf(e,n,t,y,L,K,me){for(;null!=t;){const ze=y[t.index],Ze=t.type;if(me&&0===n&&(ze&&Dl(po(ze),y),t.flags|=2),32!=(32&t.flags))if(8&Ze)pf(e,n,t.child,y,L,K,!1),Vc(n,e,L,ze,K);else if(32&Ze){const ot=Td(t,y);let yt;for(;yt=ot();)Vc(n,e,L,yt,K);Vc(n,e,L,ze,K)}else 16&Ze?bg(e,n,y,t,L,K):Vc(n,e,L,ze,K);t=me?t.projectionNext:t.next}}function xc(e,n,t,y,L,K){pf(t,y,e.firstChild,n,L,K,!1)}function bg(e,n,t,y,L,K){const me=t[na],Ze=me[Io].projection[y.projection];if(Array.isArray(Ze))for(let ot=0;ot<Ze.length;ot++)Vc(n,e,L,Ze[ot],K);else pf(e,n,Ze,me[yo],L,K,!0)}function Tg(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Mg(e,n,t){const{mergedAttrs:y,classes:L,styles:K}=t;null!==y&&Xo(e,n,y),null!==L&&Tg(e,n,L),null!==K&&function gf(e,n,t){e.setAttribute(n,"style",t)}(e,n,K)}function kd(e){return function Ag(){if(void 0===Dp&&(Dp=null,Xi.trustedTypes))try{Dp=Xi.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Dp}()?.createHTML(e)||e}class D1{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Gc(e){return e instanceof D1?e.changingThisBreaksApplicationSecurity:e}class Wo{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(kd(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch{return null}}}class R1{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const t=this.inertDocument.createElement("template");return t.innerHTML=kd(n),t}}const N1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Pp(e){return(e=String(e)).match(N1)?e:"unsafe:"+e}function bc(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function Vf(...e){const n={};for(const t of e)for(const y in t)t.hasOwnProperty(y)&&(n[y]=!0);return n}const vf=bc("area,br,col,hr,img,wbr"),yf=bc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Eg=bc("rp,rt"),Od=Vf(vf,Vf(yf,bc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vf(Eg,bc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vf(Eg,yf)),Id=bc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wc=Vf(Id,bc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));const zn=new gi("ENVIRONMENT_INITIALIZER"),jn=new gi("INJECTOR",-1),Xn=new gi("INJECTOR_DEF_TYPES");class Jn{get(n,t=mu){if(t===mu){const y=new Error(`NullInjectorError: No provider for ${kn(n)}!`);throw y.name="NullInjectorError",y}return t}}function hr(...e){return{\u0275providers:br(0,e),\u0275fromNgModule:!0}}function br(e,...n){const t=[],y=new Set;let L;return Ff(n,K=>{const me=K;Er(me,t,[],y)&&(L||(L=[]),L.push(me))}),void 0!==L&&Vr(L,t),t}function Vr(e,n){for(let t=0;t<e.length;t++){const{providers:L}=e[t];ri(L,K=>{n.push(K)})}}function Er(e,n,t,y){if(!(e=nr(e)))return!1;let L=null,K=pr(e);const me=!K&&Oi(e);if(K||me){if(me&&!me.standalone)return!1;L=e}else{const Ze=e.ngModule;if(K=pr(Ze),!K)return!1;L=Ze}const ze=y.has(L);if(me){if(ze)return!1;if(y.add(L),me.dependencies){const Ze="function"==typeof me.dependencies?me.dependencies():me.dependencies;for(const ot of Ze)Er(ot,n,t,y)}}else{if(!K)return!1;{if(null!=K.imports&&!ze){let ot;y.add(L);try{Ff(K.imports,yt=>{Er(yt,n,t,y)&&(ot||(ot=[]),ot.push(yt))})}finally{}void 0!==ot&&Vr(ot,n)}if(!ze){const ot=Ps(L)||(()=>new L);n.push({provide:L,useFactory:ot,deps:Ji},{provide:Xn,useValue:L,multi:!0},{provide:zn,useValue:()=>Nr(L),multi:!0})}const Ze=K.providers;null==Ze||ze||ri(Ze,yt=>{n.push(yt)})}}return L!==e&&void 0!==e.providers}function ri(e,n){for(let t of e)dr(t)&&(t=t.\u0275providers),Array.isArray(t)?ri(t,n):n(t)}const bi=Sn({provide:String,useValue:Sn});function oi(e){return null!==e&&"object"==typeof e&&bi in e}function ei(e){return"function"==typeof e}const Ai=new gi("Set Injector scope."),xo={},yi={};let vo;function Mo(){return void 0===vo&&(vo=new Jn),vo}class qi{}class No extends qi{get destroyed(){return this._destroyed}constructor(n,t,y,L){super(),this.parent=t,this.source=y,this.scopes=L,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ka(n,me=>this.processProvider(me)),this.records.set(jn,Aa(void 0,this)),L.has("environment")&&this.records.set(qi,Aa(void 0,this));const K=this.records.get(Ai);null!=K&&"string"==typeof K.value&&this.scopes.add(K.value),this.injectorDefTypes=new Set(this.get(Xn.multi,Ji,Qr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const t=Fi(this),y=Zi(void 0);try{return n()}finally{Fi(t),Zi(y)}}get(n,t=mu,y=Qr.Default){this.assertNotDestroyed(),y=Hs(y);const L=Fi(this),K=Zi(void 0);try{if(!(y&Qr.SkipSelf)){let ze=this.records.get(n);if(void 0===ze){const Ze=function fs(e){return"function"==typeof e||"object"==typeof e&&e instanceof gi}(n)&&wr(n);ze=Ze&&this.injectableDefInScope(Ze)?Aa(Ao(n),xo):null,this.records.set(n,ze)}if(null!=ze)return this.hydrate(n,ze)}return(y&Qr.Self?Mo():this.parent).get(n,t=y&Qr.Optional&&t===mu?null:t)}catch(me){if("NullInjectorError"===me.name){if((me[Qu]=me[Qu]||[]).unshift(kn(n)),L)throw me;return function cf(e,n,t,y){const L=e[Qu];throw n[qo]&&L.unshift(n[qo]),e.message=function Ql(e,n,t,y=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==hl?e.slice(2):e;let L=kn(n);if(Array.isArray(n))L=n.map(kn).join(" -> ");else if("object"==typeof n){let K=[];for(let me in n)if(n.hasOwnProperty(me)){let ze=n[me];K.push(me+":"+("string"==typeof ze?JSON.stringify(ze):kn(ze)))}L=`{${K.join(", ")}}`}return`${t}${y?"("+y+")":""}[${L}]: ${e.replace(yu,"\n  ")}`}("\n"+e.message,L,t,y),e[vu]=L,e[Qu]=null,e}(me,n,"R3InjectorError",this.source)}throw me}finally{Zi(K),Fi(L)}}resolveInjectorInitializers(){const n=Fi(this),t=Zi(void 0);try{const y=this.get(zn.multi,Ji,Qr.Self);for(const L of y)L()}finally{Fi(n),Zi(t)}}toString(){const n=[],t=this.records;for(const y of t.keys())n.push(kn(y));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $t(205,!1)}processProvider(n){let t=ei(n=nr(n))?n:nr(n&&n.provide);const y=function Ko(e){return oi(e)?Aa(void 0,e.useValue):Aa(Za(e),xo)}(n);if(ei(n)||!0!==n.multi)this.records.get(t);else{let L=this.records.get(t);L||(L=Aa(void 0,xo,!0),L.factory=()=>Gs(L.multi),this.records.set(t,L)),t=n,L.multi.push(n)}this.records.set(t,y)}hydrate(n,t){return t.value===xo&&(t.value=yi,t.value=t.factory()),"object"==typeof t.value&&t.value&&function il(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=nr(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Ao(e){const n=wr(e),t=null!==n?n.factory:Ps(e);if(null!==t)return t;if(e instanceof gi)throw new $t(204,!1);if(e instanceof Function)return function Fa(e){const n=e.length;if(n>0)throw yc(n,"?"),new $t(204,!1);const t=function ii(e){return e&&(e[Ur]||e[Yi])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new $t(204,!1)}function Za(e,n,t){let y;if(ei(e)){const L=nr(e);return Ps(L)||Ao(L)}if(oi(e))y=()=>nr(e.useValue);else if(function fi(e){return!(!e||!e.useFactory)}(e))y=()=>e.useFactory(...Gs(e.deps||[]));else if(function xi(e){return!(!e||!e.useExisting)}(e))y=()=>Nr(nr(e.useExisting));else{const L=nr(e&&(e.useClass||e.provide));if(!function cs(e){return!!e.deps}(e))return Ps(L)||Ao(L);y=()=>new L(...Gs(e.deps))}return y}function Aa(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function ka(e,n){for(const t of e)Array.isArray(t)?ka(t,n):t&&dr(t)?ka(t.\u0275providers,n):n(t)}class ds{}class Ya{}class ca{resolveComponentFactory(n){throw function Xa(e){const n=Error(`No component factory found for ${kn(e)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=e,n}(n)}}let lo=(()=>{class e{}return e.NULL=new ca,e})();function ta(){return ko(go(),kr())}function ko(e,n){return new ci(Ja(e,n))}let ci=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=ta,e})();function fa(e){return e instanceof ci?e.nativeElement:e}class As{}let Jo=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function Fs(){const e=kr(),t=Vo(go().index,e);return(pa(t)?t:e)[Si]}(),e})(),rc=(()=>{class e{}return e.\u0275prov=Rn({token:e,providedIn:"root",factory:()=>null}),e})();class Du{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const ns=new Du("15.2.10"),Ou={},hu="ngOriginalError";function qc(e){return e[hu]}class $c{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&qc(n);for(;t&&qc(t);)t=qc(t);return t||null}}function Iu(e){return e instanceof Function?e():e}function Gf(e,n,t){let y=e.length;for(;;){const L=e.indexOf(n,t);if(-1===L)return L;if(0===L||e.charCodeAt(L-1)<=32){const K=n.length;if(L+K===y||e.charCodeAt(L+K)<=32)return L}t=L+1}}const Oh="ng-template";function zp(e,n,t){let y=0,L=!0;for(;y<e.length;){let K=e[y++];if("string"==typeof K&&L){const me=e[y++];if(t&&"class"===K&&-1!==Gf(me.toLowerCase(),n,0))return!0}else{if(1===K){for(;y<e.length&&"string"==typeof(K=e[y++]);)if(K.toLowerCase()===n)return!0;return!1}"number"==typeof K&&(L=!1)}}return!1}function Ld(e){return 4===e.type&&e.value!==Oh}function Ih(e,n,t){return n===(4!==e.type||t?e.value:Oh)}function Wf(e,n,t){let y=4;const L=e.attrs||[],K=function j1(e){for(let n=0;n<e.length;n++)if(Hi(e[n]))return n;return e.length}(L);let me=!1;for(let ze=0;ze<n.length;ze++){const Ze=n[ze];if("number"!=typeof Ze){if(!me)if(4&y){if(y=2|1&y,""!==Ze&&!Ih(e,Ze,t)||""===Ze&&1===n.length){if($l(y))return!1;me=!0}}else{const ot=8&y?Ze:n[++ze];if(8&y&&null!==e.attrs){if(!zp(e.attrs,ot,t)){if($l(y))return!1;me=!0}continue}const zt=qf(8&y?"class":Ze,L,Ld(e),t);if(-1===zt){if($l(y))return!1;me=!0;continue}if(""!==ot){let Qt;Qt=zt>K?"":L[zt+1].toLowerCase();const hn=8&y?Qt:null;if(hn&&-1!==Gf(hn,ot,0)||2&y&&ot!==Qt){if($l(y))return!1;me=!0}}}}else{if(!me&&!$l(y)&&!$l(Ze))return!1;if(me&&$l(Ze))continue;me=!1,y=Ze|1&y}}return $l(y)||me}function $l(e){return 0==(1&e)}function qf(e,n,t,y){if(null===n)return-1;let L=0;if(y||!t){let K=!1;for(;L<n.length;){const me=n[L];if(me===e)return L;if(3===me||6===me)K=!0;else{if(1===me||2===me){let ze=n[++L];for(;"string"==typeof ze;)ze=n[++L];continue}if(4===me)break;if(0===me){L+=4;continue}}L+=K?1:2}return-1}return function Ig(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const y=e[t];if("number"==typeof y)return-1;if(y===n)return t;t++}return-1}(n,e)}function Nd(e,n,t=!1){for(let y=0;y<n.length;y++)if(Wf(e,n[y],t))return!0;return!1}function U1(e,n){e:for(let t=0;t<n.length;t++){const y=n[t];if(e.length===y.length){for(let L=0;L<e.length;L++)if(e[L]!==y[L])continue e;return!0}}return!1}function Bp(e,n){return e?":not("+n.trim()+")":n}function Pg(e){let n=e[0],t=1,y=2,L="",K=!1;for(;t<e.length;){let me=e[t];if("string"==typeof me)if(2&y){const ze=e[++t];L+="["+me+(ze.length>0?'="'+ze+'"':"")+"]"}else 8&y?L+="."+me:4&y&&(L+=" "+me);else""!==L&&!$l(me)&&(n+=Bp(K,L),L=""),y=me,K=K||!$l(y);t++}return""!==L&&(n+=Bp(K,L)),n}const Ni={};function Or(e){H1(Wr(),kr(),En()+e,!1)}function H1(e,n,t,y){if(!y)if(3==(3&n[wi])){const K=e.preOrderCheckHooks;null!==K&&hi(n,K,t)}else{const K=e.preOrderHooks;null!==K&&ir(n,K,0,t)}On(t)}function Rh(e,n=null,t=null,y){const L=zd(e,n,t,y);return L.resolveInjectorInitializers(),L}function zd(e,n=null,t=null,y,L=new Set){const K=[t||Ji,hr(e)];return y=y||("object"==typeof e?void 0:kn(e)),new No(K,n||Mo(),y||null,L)}let ol=(()=>{class e{static create(t,y){if(Array.isArray(t))return Rh({name:""},y,t,"");{const L=t.name??"";return Rh({name:L},t.parent,t.providers,L)}}}return e.THROW_IF_NOT_FOUND=mu,e.NULL=new Jn,e.\u0275prov=Rn({token:e,providedIn:"any",factory:()=>Nr(jn)}),e.__NG_ELEMENT_ID__=-1,e})();function Wn(e,n=Qr.Default){const t=kr();return null===t?Nr(e,n):cd(go(),t,nr(e),n)}function zg(e,n){const t=e.contentQueries;if(null!==t)for(let y=0;y<t.length;y+=2){const K=t[y+1];if(-1!==K){const me=e.data[K];lt(t[y]),me.contentQueries(2,n[K],K)}}}function bf(e,n,t,y,L,K,me,ze,Ze,ot,yt){const zt=n.blueprint.slice();return zt[_s]=L,zt[wi]=76|y,(null!==yt||e&&1024&e[wi])&&(zt[wi]|=1024),Yo(zt),zt[yo]=zt[Os]=e,zt[Zo]=t,zt[$s]=me||e&&e[$s],zt[Si]=ze||e&&e[Si],zt[Ul]=Ze||e&&e[Ul]||null,zt[Tu]=ot||e&&e[Tu]||null,zt[Io]=K,zt[xs]=function jc(){return d1++}(),zt[ra]=yt,zt[na]=2==n.type?e[na]:zt,zt}function Xf(e,n,t,y,L){let K=e.data[n];if(null===K)K=Vd(e,n,t,y,L),function Me(){return Sr.lFrame.inI18n}()&&(K.flags|=32);else if(64&K.type){K.type=t,K.value=y,K.attrs=L;const me=El();K.injectorIndex=null===me?-1:me.injectorIndex}return Ha(K,!0),K}function Vd(e,n,t,y,L){const K=uu(),me=Qs(),Ze=e.data[n]=function tv(e,n,t,y,L,K){return{type:t,index:y,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:L,attrs:K,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,me?K:K&&K.parent,t,n,y,L);return null===e.firstChild&&(e.firstChild=Ze),null!==K&&(me?null==K.child&&null!==Ze.parent&&(K.child=Ze):null===K.next&&(K.next=Ze,Ze.prev=K)),Ze}function Bh(e,n,t,y){if(0===t)return-1;const L=n.length;for(let K=0;K<t;K++)n.push(y),e.blueprint.push(y),e.data.push(null);return L}function Zp(e,n,t){Bt(n);try{const y=e.viewQuery;null!==y&&N_(1,y,t);const L=e.template;null!==L&&Q1(e,n,L,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&zg(e,n),e.staticViewQueries&&N_(2,e.viewQuery,t);const K=e.components;null!==K&&function J1(e,n){for(let t=0;t<n.length;t++)XS(e,n[t])}(n,K)}catch(y){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),y}finally{n[wi]&=-5,gn()}}function Yp(e,n,t,y){const L=n[wi];if(128!=(128&L)){Bt(n);try{Yo(n),function V(e){return Sr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&Q1(e,n,t,2,y);const me=3==(3&L);if(me){const ot=e.preOrderCheckHooks;null!==ot&&hi(n,ot,null)}else{const ot=e.preOrderHooks;null!==ot&&ir(n,ot,0,null),Tr(n,0)}if(function ZS(e){for(let n=df(e);null!==n;n=us(n)){if(!n[Tl])continue;const t=n[bs];for(let y=0;y<t.length;y++){const L=t[y];512&L[wi]||sa(L[yo],1),L[wi]|=512}}}(n),function $S(e){for(let n=df(e);null!==n;n=us(n))for(let t=ha;t<n.length;t++){const y=n[t],L=y[ti];Su(y)&&Yp(L,y,L.template,y[Zo])}}(n),null!==e.contentQueries&&zg(e,n),me){const ot=e.contentCheckHooks;null!==ot&&hi(n,ot)}else{const ot=e.contentHooks;null!==ot&&ir(n,ot,1),Tr(n,1)}!function K1(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let y=0;y<t.length;y++){const L=t[y];if(L<0)On(~L);else{const K=L,me=t[++y],ze=t[++y];Ne(me,K),ze(2,n[K])}}}finally{On(-1)}}(e,n);const ze=e.components;null!==ze&&function Bg(e,n){for(let t=0;t<n.length;t++)YS(e,n[t])}(n,ze);const Ze=e.viewQuery;if(null!==Ze&&N_(2,Ze,y),me){const ot=e.viewCheckHooks;null!==ot&&hi(n,ot)}else{const ot=e.viewHooks;null!==ot&&ir(n,ot,2),Tr(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[wi]&=-41,512&n[wi]&&(n[wi]&=-513,sa(n[yo],-1))}finally{gn()}}}function Q1(e,n,t,y,L){const K=En(),me=2&y;try{On(-1),me&&n.length>di&&H1(e,n,di,!1),ho(me?2:0,L),t(y,L)}finally{On(K),ho(me?3:1,L)}}function jg(e,n,t){if(Co(n)){const L=n.directiveEnd;for(let K=n.directiveStart;K<L;K++){const me=e.data[K];me.contentQueries&&me.contentQueries(1,t[K],K)}}}function Ug(e,n,t){Eu()&&(function FS(e,n,t,y){const L=t.directiveStart,K=t.directiveEnd;Zs(t)&&function GS(e,n,t){const y=Ja(n,e),L=ev(t),K=e[$s],me=nv(e,bf(e,L,null,t.onPush?32:16,y,n,K,K.createRenderer(y,t),null,null,null));e[n.index]=me}(n,t,e.data[L+t.componentOffset]),e.firstCreatePass||ld(t,n),Dl(y,n);const me=t.initialInputs;for(let ze=L;ze<K;ze++){const Ze=e.data[ze],ot=Rf(n,e,ze,t);Dl(ot,n),null!==me&&WS(0,ze-L,ot,Ze,0,me),fo(Ze)&&(Vo(t.index,n)[Zo]=Rf(n,e,ze,t))}}(e,n,t,Ja(t,n)),64==(64&t.flags)&&rw(e,n,t))}function Vg(e,n,t=Ja){const y=n.localNames;if(null!==y){let L=n.index+1;for(let K=0;K<y.length;K+=2){const me=y[K+1],ze=-1===me?t(n,e):e[me];e[L++]=ze}}}function ev(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Hg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):n}function Hg(e,n,t,y,L,K,me,ze,Ze,ot){const yt=di+y,zt=yt+L,Qt=function O_(e,n){const t=[];for(let y=0;y<n;y++)t.push(y<e?null:Ni);return t}(yt,zt),hn="function"==typeof ot?ot():ot;return Qt[ti]={type:e,blueprint:Qt,template:t,queries:null,viewQuery:ze,declTNode:n,data:Qt.slice().fill(null,yt),bindingStartIndex:yt,expandoStartIndex:zt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof K?K():K,pipeRegistry:"function"==typeof me?me():me,firstChild:null,schemas:Ze,consts:hn,incompleteFirstPass:!1}}function jh(e,n,t,y){const L=ow(n);null===t?L.push(y):(L.push(t),e.firstCreatePass&&aw(e).push(y,L.length-1))}function Hd(e,n,t,y){for(let L in e)if(e.hasOwnProperty(L)){t=null===t?{}:t;const K=e[L];null===y?Gg(t,n,L,K):y.hasOwnProperty(L)&&Gg(t,n,y[L],K)}return t}function Gg(e,n,t,y){e.hasOwnProperty(t)?e[t].push(n,y):e[t]=[n,y]}function ac(e,n,t,y,L,K,me,ze){const Ze=Ja(n,t);let yt,ot=n.inputs;!ze&&null!=ot&&(yt=ot[y])?(F_(e,t,yt,y,L),Zs(n)&&function PS(e,n){const t=Vo(n,e);16&t[wi]||(t[wi]|=32)}(t,n.index)):3&n.type&&(y=function IS(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(y),L=null!=me?me(L,n.value||"",y):L,K.setProperty(Ze,y,L))}function I_(e,n,t,y){if(Eu()){const L=null===y?null:{"":-1},K=function BS(e,n){const t=e.directiveRegistry;let y=null,L=null;if(t)for(let K=0;K<t.length;K++){const me=t[K];if(Nd(n,me.selectors,!1))if(y||(y=[]),fo(me))if(null!==me.findHostDirectiveDefs){const ze=[];L=L||new Map,me.findHostDirectiveDefs(me,ze,L),y.unshift(...ze,me),P_(e,n,ze.length)}else y.unshift(me),P_(e,n,0);else L=L||new Map,me.findHostDirectiveDefs?.(me,y,L),y.push(me)}return null===y?null:[y,L]}(e,t);let me,ze;null===K?me=ze=null:[me,ze]=K,null!==me&&nw(e,n,t,me,L,ze),L&&function jS(e,n,t){if(n){const y=e.localNames=[];for(let L=0;L<n.length;L+=2){const K=t[n[L+1]];if(null==K)throw new $t(-301,!1);y.push(n[L],K)}}}(t,y,L)}t.mergedAttrs=so(t.mergedAttrs,t.attrs)}function nw(e,n,t,y,L,K){for(let ot=0;ot<y.length;ot++)Nc(ld(t,n),e,y[ot].type);!function VS(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,y.length);for(let ot=0;ot<y.length;ot++){const yt=y[ot];yt.providersResolver&&yt.providersResolver(yt)}let me=!1,ze=!1,Ze=Bh(e,n,y.length,null);for(let ot=0;ot<y.length;ot++){const yt=y[ot];t.mergedAttrs=so(t.mergedAttrs,yt.hostAttrs),HS(e,t,n,Ze,yt),US(Ze,yt,L),null!==yt.contentQueries&&(t.flags|=4),(null!==yt.hostBindings||null!==yt.hostAttrs||0!==yt.hostVars)&&(t.flags|=64);const zt=yt.type.prototype;!me&&(zt.ngOnChanges||zt.ngOnInit||zt.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(t.index),me=!0),!ze&&(zt.ngOnChanges||zt.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(t.index),ze=!0),Ze++}!function OS(e,n,t){const L=n.directiveEnd,K=e.data,me=n.attrs,ze=[];let Ze=null,ot=null;for(let yt=n.directiveStart;yt<L;yt++){const zt=K[yt],Qt=t?t.get(zt):null,Bn=Qt?Qt.outputs:null;Ze=Hd(zt.inputs,yt,Ze,Qt?Qt.inputs:null),ot=Hd(zt.outputs,yt,ot,Bn);const Kn=null===Ze||null===me||Ld(n)?null:qS(Ze,yt,me);ze.push(Kn)}null!==Ze&&(Ze.hasOwnProperty("class")&&(n.flags|=8),Ze.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=ze,n.inputs=Ze,n.outputs=ot}(e,t,K)}function rw(e,n,t){const y=t.directiveStart,L=t.directiveEnd,K=t.index,me=function $e(){return Sr.lFrame.currentDirectiveIndex}();try{On(K);for(let ze=y;ze<L;ze++){const Ze=e.data[ze],ot=n[ze];Xe(ze),(null!==Ze.hostBindings||0!==Ze.hostVars||null!==Ze.hostAttrs)&&zS(Ze,ot)}}finally{On(-1),Xe(me)}}function zS(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function P_(e,n,t){n.componentOffset=t,(e.components??(e.components=[])).push(n.index)}function US(e,n,t){if(t){if(n.exportAs)for(let y=0;y<n.exportAs.length;y++)t[n.exportAs[y]]=e;fo(n)&&(t[""]=e)}}function HS(e,n,t,y,L){e.data[y]=L;const K=L.factory||(L.factory=Ps(L.type)),me=new vi(K,fo(L),Wn);e.blueprint[y]=me,t[y]=me,function LS(e,n,t,y,L){const K=L.hostBindings;if(K){let me=e.hostBindingOpCodes;null===me&&(me=e.hostBindingOpCodes=[]);const ze=~n.index;(function NS(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(me)!=ze&&me.push(ze),me.push(t,y,K)}}(e,n,y,Bh(e,t,L.hostVars,Ni),L)}function R_(e,n,t,y,L,K,me){if(null==K)e.removeAttribute(n,L,t);else{const ze=null==me?vn(K):me(K,y||"",L);e.setAttribute(n,L,ze,t)}}function WS(e,n,t,y,L,K){const me=K[n];if(null!==me){const ze=y.setInput;for(let Ze=0;Ze<me.length;){const ot=me[Ze++],yt=me[Ze++],zt=me[Ze++];null!==ze?y.setInput(t,zt,ot,yt):t[yt]=zt}}}function qS(e,n,t){let y=null,L=0;for(;L<t.length;){const K=t[L];if(0!==K)if(5!==K){if("number"==typeof K)break;if(e.hasOwnProperty(K)){null===y&&(y=[]);const me=e[K];for(let ze=0;ze<me.length;ze+=2)if(me[ze]===n){y.push(K,me[ze+1],t[L+1]);break}}L+=2}else L+=2;else L+=4}return y}function iw(e,n,t,y){return[e,!0,!1,n,null,0,y,t,null,null]}function YS(e,n){const t=Vo(n,e);if(Su(t)){const y=t[ti];48&t[wi]?Yp(y,t,y.template,t[Zo]):t[xl]>0&&L_(t)}}function L_(e){for(let y=df(e);null!==y;y=us(y))for(let L=ha;L<y.length;L++){const K=y[L];if(Su(K))if(512&K[wi]){const me=K[ti];Yp(me,K,me.template,K[Zo])}else K[xl]>0&&L_(K)}const t=e[ti].components;if(null!==t)for(let y=0;y<t.length;y++){const L=Vo(t[y],e);Su(L)&&L[xl]>0&&L_(L)}}function XS(e,n){const t=Vo(n,e),y=t[ti];(function KS(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])})(y,t),Zp(y,t,t[Zo])}function nv(e,n){return e[Mu]?e[Au][da]=n:e[Mu]=n,e[Au]=n,n}function rv(e){for(;e;){e[wi]|=32;const n=Uc(e);if(Ra(e)&&!n)return e;e=n}return null}function iv(e,n,t,y=!0){const L=n[$s];L.begin&&L.begin();try{Yp(e,n,e.template,t)}catch(me){throw y&&lw(n,me),me}finally{L.end&&L.end()}}function N_(e,n,t){lt(0),n(e,t)}function ow(e){return e[wu]||(e[wu]=[])}function aw(e){return e.cleanup||(e.cleanup=[])}function lw(e,n){const t=e[Tu],y=t?t.get($c,null):null;y&&y.handleError(n)}function F_(e,n,t,y,L){for(let K=0;K<t.length;){const me=t[K++],ze=t[K++],Ze=n[me],ot=e.data[me];null!==ot.setInput?ot.setInput(Ze,L,y,ze):Ze[ze]=L}}function ov(e,n,t){let y=t?e.styles:null,L=t?e.classes:null,K=0;if(null!==n)for(let me=0;me<n.length;me++){const ze=n[me];"number"==typeof ze?K=ze:1==K?L=Zn(L,ze):2==K&&(y=Zn(y,ze+": "+n[++me]+";"))}t?e.styles=y:e.stylesWithoutHost=y,t?e.classes=L:e.classesWithoutHost=L}function av(e,n,t,y,L=!1){for(;null!==t;){const K=n[t.index];if(null!==K&&y.push(po(K)),va(K))for(let ze=ha;ze<K.length;ze++){const Ze=K[ze],ot=Ze[ti].firstChild;null!==ot&&av(Ze[ti],Ze,ot,y)}const me=t.type;if(8&me)av(e,n,t.child,y);else if(32&me){const ze=Td(t,n);let Ze;for(;Ze=ze();)y.push(Ze)}else if(16&me){const ze=A1(n,t);if(Array.isArray(ze))y.push(...ze);else{const Ze=Uc(n[na]);av(Ze[ti],Ze,ze,y,!0)}}t=L?t.projectionNext:t.next}return y}class Wg{get rootNodes(){const n=this._lView,t=n[ti];return av(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zo]}set context(n){this._lView[Zo]=n}get destroyed(){return 128==(128&this._lView[wi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[yo];if(va(n)){const t=n[tu],y=t?t.indexOf(this):-1;y>-1&&(Cu(n,y),bp(t,y))}this._attachedToViewContainer=!1}Ep(this._lView[ti],this._lView)}onDestroy(n){jh(this._lView[ti],this._lView,null,n)}markForCheck(){rv(this._cdRefInjectingView||this._lView)}detach(){this._lView[wi]&=-65}reattach(){this._lView[wi]|=64}detectChanges(){iv(this._lView[ti],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $t(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fg(e,n){xc(e,n,n[Si],2,null,null)}(this._lView[ti],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new $t(902,!1);this._appRef=n}}class JS extends Wg{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;iv(n[ti],n,n[Zo],!1)}checkNoChanges(){}get context(){return null}}class uw extends lo{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=Oi(n);return new qg(t,this.ngModule)}}function cw(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class e6{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,y){y=Hs(y);const L=this.injector.get(n,Ou,y);return L!==Ou||t===Ou?L:this.parentInjector.get(n,t,y)}}class qg extends Ya{get inputs(){return cw(this.componentDef.inputs)}get outputs(){return cw(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function V1(e){return e.map(Pg).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,y,L){let K=(L=L||this.ngModule)instanceof qi?L:L?.injector;K&&null!==this.componentDef.getStandaloneInjector&&(K=this.componentDef.getStandaloneInjector(K)||K);const me=K?new e6(n,K):n,ze=me.get(As,null);if(null===ze)throw new $t(407,!1);const Ze=me.get(rc,null),ot=ze.createRenderer(null,this.componentDef),yt=this.componentDef.selectors[0][0]||"div",zt=y?function Mc(e,n,t){return e.selectRootElement(n,t===Ws.ShadowDom)}(ot,y,this.componentDef.encapsulation):cg(ot,yt,function QS(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(yt)),Qt=this.componentDef.onPush?288:272,hn=Hg(0,null,null,1,0,null,null,null,null,null),Bn=bf(null,hn,null,Qt,null,null,ze,ot,Ze,me,null);let Kn,cr;Bt(Bn);try{const vr=this.componentDef;let Dr,xr=null;vr.findHostDirectiveDefs?(Dr=[],xr=new Map,vr.findHostDirectiveDefs(vr,Dr,xr),Dr.push(vr)):Dr=[vr];const qr=function n6(e,n){const t=e[ti],y=di;return e[y]=n,Xf(t,y,2,"#host",null)}(Bn,zt),pi=function r6(e,n,t,y,L,K,me,ze){const Ze=L[ti];!function i6(e,n,t,y){for(const L of e)n.mergedAttrs=so(n.mergedAttrs,L.hostAttrs);null!==n.mergedAttrs&&(ov(n,n.mergedAttrs,!0),null!==t&&Mg(y,t,n))}(y,e,n,me);const ot=K.createRenderer(n,t),yt=bf(L,ev(t),null,t.onPush?32:16,L[e.index],e,K,ot,ze||null,null,null);return Ze.firstCreatePass&&P_(Ze,e,y.length-1),nv(L,yt),L[e.index]=yt}(qr,zt,vr,Dr,Bn,ze,ot);cr=eo(hn,di),zt&&function a6(e,n,t,y){if(y)Xo(e,t,["ng-version",ns.full]);else{const{attrs:L,classes:K}=function Rg(e){const n=[],t=[];let y=1,L=2;for(;y<e.length;){let K=e[y];if("string"==typeof K)2===L?""!==K&&n.push(K,e[++y]):8===L&&t.push(K);else{if(!$l(L))break;L=K}y++}return{attrs:n,classes:t}}(n.selectors[0]);L&&Xo(e,t,L),K&&K.length>0&&Tg(e,t,K.join(" "))}}(ot,vr,zt,y),void 0!==t&&function s6(e,n,t){const y=e.projection=[];for(let L=0;L<n.length;L++){const K=t[L];y.push(null!=K?Array.from(K):null)}}(cr,this.ngContentSelectors,t),Kn=function o6(e,n,t,y,L,K){const me=go(),ze=L[ti],Ze=Ja(me,L);nw(ze,L,me,t,null,y);for(let yt=0;yt<t.length;yt++)Dl(Rf(L,ze,me.directiveStart+yt,me),L);rw(ze,L,me),Ze&&Dl(Ze,L);const ot=Rf(L,ze,me.directiveStart+me.componentOffset,me);if(e[Zo]=L[Zo]=ot,null!==K)for(const yt of K)yt(ot,n);return jg(ze,me,e),ot}(pi,vr,Dr,xr,Bn,[l6]),Zp(hn,Bn,null)}finally{gn()}return new t6(this.componentType,Kn,ko(cr,Bn),Bn,cr)}}class t6 extends ds{constructor(n,t,y,L,K){super(),this.location=y,this._rootLView=L,this._tNode=K,this.instance=t,this.hostView=this.changeDetectorRef=new JS(L),this.componentType=n}setInput(n,t){const y=this._tNode.inputs;let L;if(null!==y&&(L=y[n])){const K=this._rootLView;F_(K[ti],K,L,n,t),rv(Vo(this._tNode.index,K))}}get injector(){return new fd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function l6(){const e=go();$r(kr()[ti],e)}function sv(e){return!!B_(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function B_(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Tf(e,n,t){return e[n]=t}function pu(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Uh(e,n,t,y){const L=pu(e,n,t);return pu(e,n+1,y)||L}function bo(e,n,t,y){const L=kr();return pu(L,ie(),n)&&(Wr(),function wf(e,n,t,y,L,K){const me=Ja(e,n);R_(n[Si],me,K,e.value,t,y,L)}($n(),L,e,n,t,y)),bo}function Kp(e,n,t,y){return pu(e,ie(),t)?n+vn(t)+y:Ni}function Jr(e,n,t,y,L,K,me,ze){const Ze=kr(),ot=Wr(),yt=e+di,zt=ot.firstCreatePass?function b6(e,n,t,y,L,K,me,ze,Ze){const ot=n.consts,yt=Xf(n,e,4,me||null,ls(ot,ze));I_(n,t,yt,ls(ot,Ze)),$r(n,yt);const zt=yt.tView=Hg(2,yt,y,L,K,n.directiveRegistry,n.pipeRegistry,null,n.schemas,ot);return null!==n.queries&&(n.queries.template(n,yt),zt.queries=n.queries.embeddedTView(yt)),yt}(yt,ot,Ze,n,t,y,L,K,me):ot.data[yt];Ha(zt,!1);const Qt=Ze[Si].createComment("");jf(ot,Ze,Qt,zt),Dl(Qt,Ze),nv(Ze,Ze[yt]=iw(Qt,Ze,Qt,zt)),Ml(zt)&&Ug(ot,Ze,zt),null!=me&&Vg(Ze,zt,ze)}function $u(e){return xa(function $(){return Sr.lFrame.contextLView}(),di+e)}function jr(e,n,t){const y=kr();return pu(y,ie(),n)&&ac(Wr(),$n(),y,e,n,y[Si],t,!1),jr}function j_(e,n,t,y,L){const me=L?"class":"style";F_(e,t,n.inputs[me],me,y)}function Rr(e,n,t,y){const L=kr(),K=Wr(),me=di+e,ze=L[Si],Ze=K.firstCreatePass?function T6(e,n,t,y,L,K){const me=n.consts,Ze=Xf(n,e,2,y,ls(me,L));return I_(n,t,Ze,ls(me,K)),null!==Ze.attrs&&ov(Ze,Ze.attrs,!1),null!==Ze.mergedAttrs&&ov(Ze,Ze.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,Ze),Ze}(me,K,L,n,t,y):K.data[me],ot=L[me]=cg(ze,n,function Ar(){return Sr.lFrame.currentNamespace}()),yt=Ml(Ze);return Ha(Ze,!0),Mg(ze,ot,Ze),32!=(32&Ze.flags)&&jf(K,L,ot,Ze),0===function Va(){return Sr.lFrame.elementDepthCount}()&&Dl(ot,L),function su(){Sr.lFrame.elementDepthCount++}(),yt&&(Ug(K,L,Ze),jg(K,Ze,L)),null!==y&&Vg(L,Ze),Rr}function Gr(){let e=go();Qs()?U():(e=e.parent,Ha(e,!1));const n=e;!function ba(){Sr.lFrame.elementDepthCount--}();const t=Wr();return t.firstCreatePass&&($r(t,e),Co(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function to(e){return 0!=(8&e.flags)}(n)&&j_(t,n,kr(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ho(e){return 0!=(16&e.flags)}(n)&&j_(t,n,kr(),n.stylesWithoutHost,!1),Gr}function za(e,n,t,y){return Rr(e,n,t,y),Gr(),za}function uv(e,n,t){const y=kr(),L=Wr(),K=e+di,me=L.firstCreatePass?function M6(e,n,t,y,L){const K=n.consts,me=ls(K,y),ze=Xf(n,e,8,"ng-container",me);return null!==me&&ov(ze,me,!0),I_(n,t,ze,ls(K,L)),null!==n.queries&&n.queries.elementStart(n,ze),ze}(K,L,y,n,t):L.data[K];Ha(me,!0);const ze=y[K]=y[Si].createComment("");return jf(L,y,ze,me),Dl(ze,y),Ml(me)&&(Ug(L,y,me),jg(L,me,y)),null!=t&&Vg(y,me),uv}function cv(){let e=go();const n=Wr();return Qs()?U():(e=e.parent,Ha(e,!1)),n.firstCreatePass&&($r(n,e),Co(e)&&n.queries.elementEnd(e)),cv}function Sa(){return kr()}function Yg(e){return!!e&&"function"==typeof e.then}const U_=function Aw(e){return!!e&&"function"==typeof e.subscribe};function Ti(e,n,t,y){const L=kr(),K=Wr(),me=go();return function Sw(e,n,t,y,L,K,me){const ze=Ml(y),ot=e.firstCreatePass&&aw(e),yt=n[Zo],zt=ow(n);let Qt=!0;if(3&y.type||me){const Kn=Ja(y,n),cr=me?me(Kn):Kn,vr=zt.length,Dr=me?qr=>me(po(qr[y.index])):y.index;let xr=null;if(!me&&ze&&(xr=function A6(e,n,t,y){const L=e.cleanup;if(null!=L)for(let K=0;K<L.length-1;K+=2){const me=L[K];if(me===t&&L[K+1]===y){const ze=n[wu],Ze=L[K+2];return ze.length>Ze?ze[Ze]:null}"string"==typeof me&&(K+=2)}return null}(e,n,L,y.index)),null!==xr)(xr.__ngLastListenerFn__||xr).__ngNextListenerFn__=K,xr.__ngLastListenerFn__=K,Qt=!1;else{K=Cw(y,n,yt,K,!1);const qr=t.listen(cr,L,K);zt.push(K,qr),ot&&ot.push(L,Dr,vr,vr+1)}}else K=Cw(y,n,yt,K,!1);const hn=y.outputs;let Bn;if(Qt&&null!==hn&&(Bn=hn[L])){const Kn=Bn.length;if(Kn)for(let cr=0;cr<Kn;cr+=2){const pi=n[Bn[cr]][Bn[cr+1]].subscribe(K),ki=zt.length;zt.push(K,pi),ot&&ot.push(L,y.index,ki,-(ki+1))}}}(K,L,L[Si],me,e,n,y),Ti}function Ew(e,n,t,y){try{return ho(6,n,t),!1!==t(y)}catch(L){return lw(e,L),!1}finally{ho(7,n,t)}}function Cw(e,n,t,y,L){return function K(me){if(me===Function)return y;rv(e.componentOffset>-1?Vo(e.index,n):n);let Ze=Ew(n,t,y,me),ot=K.__ngNextListenerFn__;for(;ot;)Ze=Ew(n,t,ot,me)&&Ze,ot=ot.__ngNextListenerFn__;return L&&!1===Ze&&(me.preventDefault(),me.returnValue=!1),Ze}}function Xr(e=1){return function sn(e){return(Sr.lFrame.contextLView=function rn(e,n){for(;e>0;)n=n[Os],e--;return n}(e,Sr.lFrame.contextLView))[Zo]}(e)}function k6(e,n){let t=null;const y=function Ph(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let L=0;L<n.length;L++){const K=n[L];if("*"!==K){if(null===y?Nd(e,K,!0):U1(y,K))return L}else t=L}return t}function a0(e){const n=kr()[na][Io];if(!n.projection){const y=n.projection=yc(e?e.length:1,null),L=y.slice();let K=n.child;for(;null!==K;){const me=e?k6(K,e):0;null!==me&&(L[me]?L[me].projectionNext=K:y[me]=K,L[me]=K),K=K.next}}}function s0(e,n=0,t){const y=kr(),L=Wr(),K=Xf(L,di+e,16,null,t||null);null===K.projection&&(K.projection=n),U(),32!=(32&K.flags)&&function xg(e,n,t){bg(n[Si],0,n,t,hg(e,t,n),mg(t.parent||n[Io],t,n))}(L,y,K)}function V_(e,n,t){return l0(e,"",n,"",t),V_}function l0(e,n,t,y,L){const K=kr(),me=Kp(K,n,t,y);return me!==Ni&&ac(Wr(),$n(),K,e,me,K[Si],L,!1),l0}function fv(e,n){return e<<17|n<<2}function Gd(e){return e>>17&32767}function H_(e){return 2|e}function Vh(e){return(131068&e)>>2}function G_(e,n){return-131069&e|n<<2}function W_(e){return 1|e}function zw(e,n,t,y,L){const K=e[t+1],me=null===n;let ze=y?Gd(K):Vh(K),Ze=!1;for(;0!==ze&&(!1===Ze||me);){const yt=e[ze+1];I6(e[ze],n)&&(Ze=!0,e[ze+1]=y?W_(yt):H_(yt)),ze=y?Gd(yt):Vh(yt)}Ze&&(e[t+1]=y?H_(K):W_(K))}function I6(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&_c(e,n)>=0}const al={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Bw(e){return e.substring(al.key,al.keyEnd)}function jw(e,n){const t=al.textEnd;return t===n?-1:(n=al.keyEnd=function N6(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,al.key=n,t),u0(e,n,t))}function u0(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function c0(e,n,t){return Xc(e,n,t,!1),c0}function Ri(e,n){return Xc(e,n,null,!0),Ri}function Wd(e){Kc(W6,Af,e,!0)}function Af(e,n){for(let t=function R6(e){return function Vw(e){al.key=0,al.keyEnd=0,al.value=0,al.valueEnd=0,al.textEnd=e.length}(e),jw(e,u0(e,0,al.textEnd))}(n);t>=0;t=jw(n,t))Cl(e,Bw(n),!0)}function Xc(e,n,t,y){const L=kr(),K=Wr(),me=ce(2);K.firstUpdatePass&&qw(K,e,me,y),n!==Ni&&pu(L,me,n)&&Zw(K,K.data[En()],L,L[Si],e,L[me+1]=function $6(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=kn(Gc(e)))),e}(n,t),y,me)}function Kc(e,n,t,y){const L=Wr(),K=ce(2);L.firstUpdatePass&&qw(L,null,K,y);const me=kr();if(t!==Ni&&pu(me,K,t)){const ze=L.data[En()];if(Xw(ze,y)&&!Ww(L,K)){let Ze=y?ze.classesWithoutHost:ze.stylesWithoutHost;null!==Ze&&(t=Zn(Ze,t||"")),j_(L,ze,me,t,y)}else!function q6(e,n,t,y,L,K,me,ze){L===Ni&&(L=Ji);let Ze=0,ot=0,yt=0<L.length?L[0]:null,zt=0<K.length?K[0]:null;for(;null!==yt||null!==zt;){const Qt=Ze<L.length?L[Ze+1]:void 0,hn=ot<K.length?K[ot+1]:void 0;let Kn,Bn=null;yt===zt?(Ze+=2,ot+=2,Qt!==hn&&(Bn=zt,Kn=hn)):null===zt||null!==yt&&yt<zt?(Ze+=2,Bn=yt):(ot+=2,Bn=zt,Kn=hn),null!==Bn&&Zw(e,n,t,y,Bn,Kn,me,ze),yt=Ze<L.length?L[Ze]:null,zt=ot<K.length?K[ot]:null}}(L,ze,me,me[Si],me[K+1],me[K+1]=function G6(e,n,t){if(null==t||""===t)return Ji;const y=[],L=Gc(t);if(Array.isArray(L))for(let K=0;K<L.length;K++)e(y,L[K],!0);else if("object"==typeof L)for(const K in L)L.hasOwnProperty(K)&&e(y,K,L[K]);else"string"==typeof L&&n(y,L);return y}(e,n,t),y,K)}}function Ww(e,n){return n>=e.expandoStartIndex}function qw(e,n,t,y){const L=e.data;if(null===L[t+1]){const K=L[En()],me=Ww(e,t);Xw(K,y)&&null===n&&!me&&(n=!1),n=function j6(e,n,t,y){const L=function Qe(e){const n=Sr.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let K=y?n.residualClasses:n.residualStyles;if(null===L)0===(y?n.classBindings:n.styleBindings)&&(t=Xg(t=q_(null,e,n,t,y),n.attrs,y),K=null);else{const me=n.directiveStylingLast;if(-1===me||e[me]!==L)if(t=q_(L,e,n,t,y),null===K){let Ze=function U6(e,n,t){const y=t?n.classBindings:n.styleBindings;if(0!==Vh(y))return e[Gd(y)]}(e,n,y);void 0!==Ze&&Array.isArray(Ze)&&(Ze=q_(null,e,n,Ze[1],y),Ze=Xg(Ze,n.attrs,y),function V6(e,n,t,y){e[Gd(t?n.classBindings:n.styleBindings)]=y}(e,n,y,Ze))}else K=function H6(e,n,t){let y;const L=n.directiveEnd;for(let K=1+n.directiveStylingLast;K<L;K++)y=Xg(y,e[K].hostAttrs,t);return Xg(y,n.attrs,t)}(e,n,y)}return void 0!==K&&(y?n.residualClasses=K:n.residualStyles=K),t}(L,K,n,y),function D6(e,n,t,y,L,K){let me=K?n.classBindings:n.styleBindings,ze=Gd(me),Ze=Vh(me);e[y]=t;let yt,ot=!1;if(Array.isArray(t)?(yt=t[1],(null===yt||_c(t,yt)>0)&&(ot=!0)):yt=t,L)if(0!==Ze){const Qt=Gd(e[ze+1]);e[y+1]=fv(Qt,ze),0!==Qt&&(e[Qt+1]=G_(e[Qt+1],y)),e[ze+1]=function E6(e,n){return 131071&e|n<<17}(e[ze+1],y)}else e[y+1]=fv(ze,0),0!==ze&&(e[ze+1]=G_(e[ze+1],y)),ze=y;else e[y+1]=fv(Ze,0),0===ze?ze=y:e[Ze+1]=G_(e[Ze+1],y),Ze=y;ot&&(e[y+1]=H_(e[y+1])),zw(e,yt,y,!0),zw(e,yt,y,!1),function O6(e,n,t,y,L){const K=L?e.residualClasses:e.residualStyles;null!=K&&"string"==typeof n&&_c(K,n)>=0&&(t[y+1]=W_(t[y+1]))}(n,yt,e,y,K),me=fv(ze,Ze),K?n.classBindings=me:n.styleBindings=me}(L,K,n,t,me,y)}}function q_(e,n,t,y,L){let K=null;const me=t.directiveEnd;let ze=t.directiveStylingLast;for(-1===ze?ze=t.directiveStart:ze++;ze<me&&(K=n[ze],y=Xg(y,K.hostAttrs,L),K!==e);)ze++;return null!==e&&(t.directiveStylingLast=ze),y}function Xg(e,n,t){const y=t?1:2;let L=-1;if(null!==n)for(let K=0;K<n.length;K++){const me=n[K];"number"==typeof me?L=me:L===y&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Cl(e,me,!!t||n[++K]))}return void 0===e?null:e}function W6(e,n,t){const y=String(n);""!==y&&!y.includes(" ")&&Cl(e,y,t)}function Zw(e,n,t,y,L,K,me,ze){if(!(3&n.type))return;const Ze=e.data,ot=Ze[ze+1],yt=function C6(e){return 1==(1&e)}(ot)?Yw(Ze,n,t,L,Vh(ot),me):void 0;dv(yt)||(dv(K)||function S6(e){return 2==(2&e)}(ot)&&(K=Yw(Ze,null,t,L,ze,me)),function Th(e,n,t,y,L){if(n)L?e.addClass(t,y):e.removeClass(t,y);else{let K=-1===y.indexOf("-")?void 0:ql.DashCase;null==L?e.removeStyle(t,y,K):("string"==typeof L&&L.endsWith("!important")&&(L=L.slice(0,-10),K|=ql.Important),e.setStyle(t,y,L,K))}}(y,me,Ts(En(),t),L,K))}function Yw(e,n,t,y,L,K){const me=null===n;let ze;for(;L>0;){const Ze=e[L],ot=Array.isArray(Ze),yt=ot?Ze[1]:Ze,zt=null===yt;let Qt=t[L+1];Qt===Ni&&(Qt=zt?Ji:void 0);let hn=zt?hd(Qt,y):yt===y?Qt:void 0;if(ot&&!dv(hn)&&(hn=hd(Ze,y)),dv(hn)&&(ze=hn,me))return ze;const Bn=e[L+1];L=me?Gd(Bn):Vh(Bn)}if(null!==n){let Ze=K?n.residualClasses:n.residualStyles;null!=Ze&&(ze=hd(Ze,y))}return ze}function dv(e){return void 0!==e}function Xw(e,n){return 0!=(e.flags&(n?8:16))}function So(e,n=""){const t=kr(),y=Wr(),L=e+di,K=y.firstCreatePass?Xf(y,L,1,n,null):y.data[L],me=t[L]=rl(t[Si],n);jf(y,t,me,K),Ha(K,!1)}function Ol(e){return Jf("",e,""),Ol}function Jf(e,n,t){const y=kr(),L=Kp(y,e,n,t);return L!==Ni&&function Kf(e,n,t){const y=Ts(n,e);ug(e[Si],y,t)}(y,En(),L),Jf}function o3(e,n,t,y,L){Kc(Cl,Af,function Jp(e,n,t,y,L,K){const ze=Uh(e,Pe(),t,L);return ce(2),ze?n+vn(t)+y+vn(L)+K:Ni}(kr(),e,n,t,y,L),!0)}function sc(e,n,t){const y=kr();return pu(y,ie(),n)&&ac(Wr(),$n(),y,e,n,y[Si],t,!0),sc}const Hh=void 0;var dE=["en",[["a","p"],["AM","PM"],Hh],[["AM","PM"],Hh,Hh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hh,"{1} 'at' {0}",Hh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fE(e){const t=Math.floor(Math.abs(e)),y=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===y?1:5}];let f0={};function Ru(e){const n=function hE(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=v3(n);if(t)return t;const y=n.split("-")[0];if(t=v3(y),t)return t;if("en"===y)return dE;throw new $t(701,!1)}function v3(e){return e in f0||(f0[e]=Xi.ng&&Xi.ng.common&&Xi.ng.common.locales&&Xi.ng.common.locales[e]),f0[e]}var li=(()=>((li=li||{})[li.LocaleId=0]="LocaleId",li[li.DayPeriodsFormat=1]="DayPeriodsFormat",li[li.DayPeriodsStandalone=2]="DayPeriodsStandalone",li[li.DaysFormat=3]="DaysFormat",li[li.DaysStandalone=4]="DaysStandalone",li[li.MonthsFormat=5]="MonthsFormat",li[li.MonthsStandalone=6]="MonthsStandalone",li[li.Eras=7]="Eras",li[li.FirstDayOfWeek=8]="FirstDayOfWeek",li[li.WeekendRange=9]="WeekendRange",li[li.DateFormat=10]="DateFormat",li[li.TimeFormat=11]="TimeFormat",li[li.DateTimeFormat=12]="DateTimeFormat",li[li.NumberSymbols=13]="NumberSymbols",li[li.NumberFormats=14]="NumberFormats",li[li.CurrencyCode=15]="CurrencyCode",li[li.CurrencySymbol=16]="CurrencySymbol",li[li.CurrencyName=17]="CurrencyName",li[li.Currencies=18]="Currencies",li[li.Directionality=19]="Directionality",li[li.PluralCase=20]="PluralCase",li[li.ExtraData=21]="ExtraData",li))();const pE=["zero","one","two","few","many"],d0="en-US",hv={marker:"element"},pv={marker:"ICU"};var hs=(()=>((hs=hs||{})[hs.SHIFT=2]="SHIFT",hs[hs.APPEND_EAGERLY=1]="APPEND_EAGERLY",hs[hs.COMMENT=2]="COMMENT",hs))();let y3=d0;function _3(e){(function Un(e,n){null==e&&Vn(n,e,null,"!=")})(e,"Expected localeId to be defined"),"string"==typeof e&&(y3=e.toLowerCase().replace(/_/g,"-"))}function x3(e,n,t){const y=n.insertBeforeIndex,L=Array.isArray(y)?y[0]:y;return null===L?bh(e,0,t):po(t[L])}function b3(e,n,t,y,L){const K=n.insertBeforeIndex;if(Array.isArray(K)){let me=y,ze=null;if(3&n.type||(ze=me,me=L),null!==me&&-1===n.componentOffset)for(let Ze=1;Ze<K.length;Ze++)hf(e,me,t[K[Ze]],ze,!1)}}function w3(e,n){if(e.push(n),e.length>1)for(let t=e.length-2;t>=0;t--){const y=e[t];T3(y)||yE(y,n)&&null===_E(y)&&xE(y,n.index)}}function T3(e){return!(64&e.type)}function yE(e,n){return T3(n)||e.index>n.index}function _E(e){const n=e.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function xE(e,n){const t=e.insertBeforeIndex;Array.isArray(t)?t[0]=n:(wh(x3,b3),e.insertBeforeIndex=n)}function Kg(e,n){const t=e.data[n];return null===t||"string"==typeof t?null:t.hasOwnProperty("currentCaseLViewIndex")?t:t.value}function TE(e,n,t){const y=Vd(e,t,64,null,null);return w3(n,y),y}function gv(e,n){const t=n[e.currentCaseLViewIndex];return null===t?t:t<0?~t:t}function M3(e){return e>>>17}function A3(e){return(131070&e)>>>1}let Jg=0,Qg=0;function S3(e,n,t,y){const L=t[Si];let me,K=null;for(let ze=0;ze<n.length;ze++){const Ze=n[ze];if("string"==typeof Ze){const ot=n[++ze];null===t[ot]&&(t[ot]=rl(L,Ze))}else if("number"==typeof Ze)switch(1&Ze){case 0:const ot=M3(Ze);let yt,zt;if(null===K&&(K=ot,me=xh(L,y)),ot===K?(yt=y,zt=me):(yt=null,zt=po(t[ot])),null!==zt){const Kn=A3(Ze);hf(L,zt,t[Kn],yt,!1);const vr=Kg(e,Kn);if(null!==vr&&"object"==typeof vr){const Dr=gv(vr,t);null!==Dr&&S3(e,vr.create[Dr],t,t[vr.anchorIdx])}}break;case 1:const hn=n[++ze],Bn=n[++ze];R_(L,Ts(Ze>>>1,t),null,null,hn,Bn,null)}else switch(Ze){case pv:const ot=n[++ze],yt=n[++ze];null===t[yt]&&Dl(t[yt]=_1(L,ot),t);break;case hv:const zt=n[++ze],Qt=n[++ze];null===t[Qt]&&Dl(t[Qt]=cg(L,zt,null),t)}}}function E3(e,n,t,y,L){for(let K=0;K<t.length;K++){const me=t[K],ze=t[++K];if(me&L){let Ze="";for(let ot=K+1;ot<=K+ze;ot++){const yt=t[ot];if("string"==typeof yt)Ze+=yt;else if("number"==typeof yt)if(yt<0)Ze+=vn(n[y-yt]);else{const zt=yt>>>2;switch(3&yt){case 1:const Qt=t[++ot],hn=t[++ot],Bn=e.data[zt];"string"==typeof Bn?R_(n[Si],n[zt],null,Bn,Qt,Ze,hn):ac(e,Bn,n,Qt,Ze,n[Si],hn,!1);break;case 0:const Kn=n[zt];null!==Kn&&ug(n[Si],Kn,Ze);break;case 2:EE(e,Kg(e,zt),n,Ze);break;case 3:C3(e,Kg(e,zt),y,n)}}}}else{const Ze=t[K+1];if(Ze>0&&3==(3&Ze)){const yt=Kg(e,Ze>>>2);n[yt.currentCaseLViewIndex]<0&&C3(e,yt,y,n)}}K+=ze}}function C3(e,n,t,y){let L=y[n.currentCaseLViewIndex];if(null!==L){let K=Jg;L<0&&(L=y[n.currentCaseLViewIndex]=~L,K=-1),E3(e,y,n.update[L],t,K)}}function EE(e,n,t,y){const L=function CE(e,n){let t=e.cases.indexOf(n);if(-1===t)switch(e.type){case 1:{const y=function gE(e,n){const t=function m3(e){return Ru(e)[li.PluralCase]}(n)(parseInt(e,10)),y=pE[t];return void 0!==y?y:"other"}(n,function vE(){return y3}());t=e.cases.indexOf(y),-1===t&&"other"!==y&&(t=e.cases.indexOf("other"));break}case 0:t=e.cases.indexOf("other")}return-1===t?null:t}(n,y);if(gv(n,t)!==L&&(D3(e,n,t),t[n.currentCaseLViewIndex]=null===L?null:~L,null!==L)){const me=t[n.anchorIdx];me&&S3(e,n.create[L],t,me)}}function D3(e,n,t){let y=gv(n,t);if(null!==y){const L=n.remove[y];for(let K=0;K<L.length;K++){const me=L[K];if(me>0){const ze=Ts(me,t);null!==ze&&_g(t[Si],ze)}else D3(e,Kg(e,~me),t)}}}function DE(){const e=[];let t,y,n=-1;function K(ze,Ze){n=0;const ot=gv(ze,Ze);y=null!==ot?ze.remove[ot]:Ji}function me(){if(n<y.length){const ze=y[n++];return ze>0?t[ze]:(e.push(n,y),K(t[ti].data[~ze],t),me())}return 0===e.length?null:(y=e.pop(),n=e.pop(),me())}return function L(ze,Ze){for(t=Ze;e.length;)e.pop();return K(ze.value,Ze),me}}const mv=/\ufffd(\d+):?\d*\ufffd/gi,IE=/\ufffd(\d+)\ufffd/,I3=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,em="\ufffd",PE=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,RE=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,LE=/\uE500/g;function P3(e,n,t,y,L,K,me){const ze=Bh(e,y,1,null);let Ze=ze<<hs.SHIFT,ot=El();n===ot&&(ot=null),null===ot&&(Ze|=hs.APPEND_EAGERLY),me&&(Ze|=hs.COMMENT,function vh(e){void 0===nl&&(nl=e())}(DE)),L.push(Ze,null===K?"":K);const yt=Vd(e,ze,me?32:1,null===K?"":K,null);w3(t,yt);const zt=yt.index;return Ha(yt,!1),null!==ot&&n!==ot&&function wE(e,n){let t=e.insertBeforeIndex;null===t?(wh(x3,b3),t=e.insertBeforeIndex=[null,n]):(function cn(e,n,t){e!=n&&Vn(t,e,n,"==")}(Array.isArray(t),!0,"Expecting array here"),t.push(n))}(ot,zt),yt}function zE(e,n,t,y,L,K,me){const ze=me.match(mv),Ze=P3(e,n,t,K,y,ze?null:me,!1);ze&&tm(L,me,Ze.index,null,0,null)}function tm(e,n,t,y,L,K){const me=e.length,ze=me+1;e.push(null,null);const Ze=me+2,ot=n.split(mv);let yt=0;for(let zt=0;zt<ot.length;zt++){const Qt=ot[zt];if(1&zt){const hn=L+parseInt(Qt,10);e.push(-1-hn),yt|=R3(hn)}else""!==Qt&&e.push(Qt)}return e.push(t<<2|(y?1:0)),y&&e.push(y,K),e[me]=yt,e[ze]=e.length-Ze,yt}function R3(e){return 1<<Math.min(e,31)}function L3(e){let n,K,t="",y=0,L=!1;for(;null!==(n=PE.exec(e));)L?n[0]===`${em}/*${K}${em}`&&(y=n.index,L=!1):(t+=e.substring(y,n.index+n[0].length),K=n[1],L=!0);return t+=e.slice(y),t}function N3(e,n,t,y,L,K){let me=0;const ze={type:L.type,currentCaseLViewIndex:Bh(e,n,1,null),anchorIdx:K,cases:[],create:[],remove:[],update:[]};(function qE(e,n,t){e.push(R3(n.mainBinding),2,-1-n.mainBinding,t<<2|2)})(t,L,K),function bE(e,n,t){const y=e.data[n];null===y?e.data[n]=t:y.value=t}(e,K,ze);const Ze=L.values;for(let ot=0;ot<Ze.length;ot++){const yt=Ze[ot],zt=[];for(let Qt=0;Qt<yt.length;Qt++){const hn=yt[Qt];if("string"!=typeof hn){const Bn=zt.push(hn)-1;yt[Qt]=`\x3c!--\ufffd${Bn}\ufffd--\x3e`}}me=GE(e,ze,n,t,y,L.cases[ot],yt.join(""),zt)|me}me&&function $E(e,n,t){e.push(n,1,t<<2|3)}(t,me,K)}function HE(e){const n=[],t=[];let y=1,L=0;const K=$_(e=e.replace(I3,function(me,ze,Ze){return y="select"===Ze?0:1,L=parseInt(ze.slice(1),10),""}));for(let me=0;me<K.length;){let ze=K[me++].trim();1===y&&(ze=ze.replace(/\s*(?:=)?(\w+)\s*/,"$1")),ze.length&&n.push(ze);const Ze=$_(K[me++]);n.length>t.length&&t.push(Ze)}return{type:y,mainBinding:L,cases:n,values:t}}function $_(e){if(!e)return[];let n=0;const t=[],y=[],L=/[{}]/g;let K;for(L.lastIndex=0;K=L.exec(e);){const ze=K.index;if("}"==K[0]){if(t.pop(),0==t.length){const Ze=e.substring(n,ze);I3.test(Ze)?y.push(HE(Ze)):y.push(Ze),n=ze+1}}else{if(0==t.length){const Ze=e.substring(n,ze);y.push(Ze),n=ze+1}t.push("{")}}const me=e.substring(n);return y.push(me),y}function GE(e,n,t,y,L,K,me,ze){const Ze=[],ot=[],yt=[];n.cases.push(K),n.create.push(Ze),n.remove.push(ot),n.update.push(yt);const Qt=function Sg(e){const n=new R1(e);return function L1(){try{return!!(new window.DOMParser).parseFromString(kd(""),"text/html")}catch{return!1}}()?new Wo(n):n}(function k1(){return void 0!==Uf?Uf:typeof document<"u"?document:void 0}()).getInertBodyElement(me),hn=function z(e){return"content"in e&&function J(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}(Qt)||Qt;return hn?F3(e,n,t,y,Ze,ot,yt,hn,L,ze,0):0}function F3(e,n,t,y,L,K,me,ze,Ze,ot,yt){let zt=0,Qt=ze.firstChild;for(;Qt;){const hn=Bh(e,t,1,null);switch(Qt.nodeType){case Node.ELEMENT_NODE:const Bn=Qt,Kn=Bn.tagName.toLowerCase();if(Od.hasOwnProperty(Kn)){Z_(L,hv,Kn,Ze,hn),e.data[hn]=Kn;const xr=Bn.attributes;for(let qr=0;qr<xr.length;qr++){const pi=xr.item(qr),ki=pi.name.toLowerCase();pi.value.match(mv)?wc.hasOwnProperty(ki)&&tm(me,pi.value,hn,pi.name,0,Id[ki]?Pp:null):ZE(L,hn,pi)}zt=F3(e,n,t,y,L,K,me,Qt,hn,ot,yt+1)|zt,z3(K,hn,yt)}break;case Node.TEXT_NODE:const cr=Qt.textContent||"",vr=cr.match(mv);Z_(L,null,vr?"":cr,Ze,hn),z3(K,hn,yt),vr&&(zt=tm(me,cr,hn,null,0,null)|zt);break;case Node.COMMENT_NODE:const Dr=IE.exec(Qt.textContent||"");if(Dr){const qr=ot[parseInt(Dr[1],10)];Z_(L,pv,"",Ze,hn),N3(e,t,y,Ze,qr,hn),WE(K,hn,yt)}}Qt=Qt.nextSibling}return zt}function z3(e,n,t){0===t&&e.push(n)}function WE(e,n,t){0===t&&(e.push(~n),e.push(n))}function Z_(e,n,t,y,L){null!==n&&e.push(n),e.push(t,L,function ME(e,n,t){return e|n<<17|t<<1}(0,y,L))}function ZE(e,n,t){e.push(n<<1|1,t.name,t.value)}function j3(e,n,t=-1){const y=Wr(),L=kr(),K=di+e,me=ls(y.consts,n),ze=El();y.firstCreatePass&&function FE(e,n,t,y,L,K){const me=El(),ze=[],Ze=[],ot=[[]];L=function VE(e,n){if(function UE(e){return-1===e}(n))return L3(e);{const t=e.indexOf(`:${n}${em}`)+2+n.toString().length,y=e.search(new RegExp(`${em}\\/\\*\\d+:${n}${em}`));return L3(e.substring(t,y))}}(L,K);const yt=function NE(e){return e.replace(LE," ")}(L).split(RE);for(let zt=0;zt<yt.length;zt++){let Qt=yt[zt];if(1&zt){const hn=47===Qt.charCodeAt(0),Kn=(Qt.charCodeAt(hn?1:0),di+Number.parseInt(Qt.substring(hn?2:1)));if(hn)ot.shift(),Ha(El(),!1);else{const cr=TE(e,ot[0],Kn);ot.unshift([]),Ha(cr,!0)}}else{const hn=$_(Qt);for(let Bn=0;Bn<hn.length;Bn++){let Kn=hn[Bn];if(1&Bn){const cr=Kn;if("object"!=typeof cr)throw new Error(`Unable to parse ICU expression in "${L}" message.`);N3(e,t,Ze,n,cr,P3(e,me,ot[0],t,ze,"",!0).index)}else""!==Kn&&zE(e,me,ot[0],ze,Ze,t,Kn)}}}e.data[y]={create:ze,update:Ze}}(y,null===ze?0:ze.index,L,K,me,t);const Ze=y.data[K],yt=pg(y,ze===L[Io]?null:ze,L);(function SE(e,n,t,y){const L=e[Si];for(let K=0;K<n.length;K++){const me=n[K++],ze=n[K],ot=(me&hs.APPEND_EAGERLY)===hs.APPEND_EAGERLY,yt=me>>>hs.SHIFT;let zt=e[yt];null===zt&&(zt=e[yt]=(me&hs.COMMENT)===hs.COMMENT?L.createComment(ze):rl(L,ze)),ot&&null!==t&&hf(L,t,zt,y,!1)}})(L,Ze.create,yt,ze&&8&ze.type?L[ze.index]:null),Ce(!0)}function Zl(e,n,t){j3(e,n,t),function U3(){Ce(!1)}()}function h0(e){return function AE(e){e&&(Jg|=1<<Math.min(Qg,31)),Qg++}(pu(kr(),ie(),e)),h0}function nm(e){!function kE(e,n,t){if(Qg>0){const y=e.data[t];E3(e,n,Array.isArray(y)?y:y.update,Pe()-Qg-1,Jg)}Jg=0,Qg=0}(Wr(),kr(),e+di)}function Y_(e,n,t,y,L){if(e=nr(e),Array.isArray(e))for(let K=0;K<e.length;K++)Y_(e[K],n,t,y,L);else{const K=Wr(),me=kr();let ze=ei(e)?e:nr(e.provide),Ze=Za(e);const ot=go(),yt=1048575&ot.providerIndexes,zt=ot.directiveStart,Qt=ot.providerIndexes>>20;if(ei(e)||!e.multi){const hn=new vi(Ze,L,Wn),Bn=K_(ze,n,L?yt:yt+Qt,zt);-1===Bn?(Nc(ld(ot,me),K,ze),X_(K,e,n.length),n.push(ze),ot.directiveStart++,ot.directiveEnd++,L&&(ot.providerIndexes+=1048576),t.push(hn),me.push(hn)):(t[Bn]=hn,me[Bn]=hn)}else{const hn=K_(ze,n,yt+Qt,zt),Bn=K_(ze,n,yt,yt+Qt),cr=Bn>=0&&t[Bn];if(L&&!cr||!L&&!(hn>=0&&t[hn])){Nc(ld(ot,me),K,ze);const vr=function l8(e,n,t,y,L){const K=new vi(e,t,Wn);return K.multi=[],K.index=n,K.componentProviders=0,V3(K,L,y&&!t),K}(L?s8:a8,t.length,L,y,Ze);!L&&cr&&(t[Bn].providerFactory=vr),X_(K,e,n.length,0),n.push(ze),ot.directiveStart++,ot.directiveEnd++,L&&(ot.providerIndexes+=1048576),t.push(vr),me.push(vr)}else X_(K,e,hn>-1?hn:Bn,V3(t[L?Bn:hn],Ze,!L&&y));!L&&y&&cr&&t[Bn].componentProviders++}}}function X_(e,n,t,y){const L=ei(n),K=function Wi(e){return!!e.useClass}(n);if(L||K){const Ze=(K?nr(n.useClass):n).prototype.ngOnDestroy;if(Ze){const ot=e.destroyHooks||(e.destroyHooks=[]);if(!L&&n.multi){const yt=ot.indexOf(t);-1===yt?ot.push(t,[y,Ze]):ot[yt+1].push(y,Ze)}else ot.push(t,Ze)}}}function V3(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function K_(e,n,t,y){for(let L=t;L<y;L++)if(n[L]===e)return L;return-1}function a8(e,n,t,y){return J_(this.multi,[])}function s8(e,n,t,y){const L=this.multi;let K;if(this.providerFactory){const me=this.providerFactory.componentProviders,ze=Rf(t,t[ti],this.providerFactory.index,y);K=ze.slice(0,me),J_(L,K);for(let Ze=me;Ze<ze.length;Ze++)K.push(ze[Ze])}else K=[],J_(L,K);return K}function J_(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function ea(e,n=[]){return t=>{t.providersResolver=(y,L)=>function o8(e,n,t){const y=Wr();if(y.firstCreatePass){const L=fo(e);Y_(t,y.data,y.blueprint,L,!0),Y_(n,y.data,y.blueprint,L,!1)}}(y,L?L(e):e,n)}}class p0{}class H3{}class G3 extends p0{constructor(n,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uw(this);const y=ss(n);this._bootstrapComponents=Iu(y.bootstrap),this._r3Injector=zd(n,t,[{provide:p0,useValue:this},{provide:lo,useValue:this.componentFactoryResolver}],kn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Q_ extends H3{constructor(n){super(),this.moduleType=n}create(n){return new G3(this.moduleType,n)}}class c8 extends p0{constructor(n,t,y){super(),this.componentFactoryResolver=new uw(this),this.instance=null;const L=new No([...n,{provide:p0,useValue:this},{provide:lo,useValue:this.componentFactoryResolver}],t||Mo(),y,new Set(["environment"]));this.injector=L,L.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function vv(e,n,t=null){return new c8(e,n,t).injector}let f8=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const y=br(0,t.type),L=y.length>0?vv([y],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,L)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Rn({token:e,providedIn:"environment",factory:()=>new e(Nr(qi))}),e})();function sl(e){e.getStandaloneInjector=n=>n.get(f8).getOrCreateStandaloneInjector(e)}function rm(e,n,t,y){return K3(kr(),_e(),e,n,t,y)}function im(e,n,t,y,L){return J3(kr(),_e(),e,n,t,y,L)}function tx(e,n,t,y,L,K){return function Q3(e,n,t,y,L,K,me,ze){const Ze=n+t;return function lv(e,n,t,y,L){const K=Uh(e,n,t,y);return pu(e,n+2,L)||K}(e,Ze,L,K,me)?Tf(e,Ze+3,ze?y.call(ze,L,K,me):y(L,K,me)):om(e,Ze+3)}(kr(),_e(),e,n,t,y,L,K)}function om(e,n){const t=e[n];return t===Ni?void 0:t}function K3(e,n,t,y,L,K){const me=n+t;return pu(e,me,L)?Tf(e,me+1,K?y.call(K,L):y(L)):om(e,me+1)}function J3(e,n,t,y,L,K,me){const ze=n+t;return Uh(e,ze,L,K)?Tf(e,ze+2,me?y.call(me,L,K):y(L,K)):om(e,ze+2)}function nx(e,n){const t=Wr();let y;const L=e+di;t.firstCreatePass?(y=function S8(e,n){if(n)for(let t=n.length-1;t>=0;t--){const y=n[t];if(e===y.name)return y}}(n,t.pipeRegistry),t.data[L]=y,y.onDestroy&&(t.destroyHooks??(t.destroyHooks=[])).push(L,y.onDestroy)):y=t.data[L];const K=y.factory||(y.factory=Ps(y.type)),me=Zi(Wn);try{const ze=Na(!1),Ze=K();return Na(ze),function w6(e,n,t,y){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=y}(t,kr(),L,Ze),Ze}finally{Zi(me)}}function am(e,n){return e[ti].data[n].pure}function rx(e){return n=>{setTimeout(e,void 0,n)}}const Hr=class O8 extends Z{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,y){let L=n,K=t||(()=>null),me=y;if(n&&"object"==typeof n){const Ze=n;L=Ze.next?.bind(Ze),K=Ze.error?.bind(Ze),me=Ze.complete?.bind(Ze)}this.__isAsync&&(K=rx(K),L&&(L=rx(L)),me&&(me=rx(me)));const ze=super.subscribe({next:L,error:K,complete:me});return n instanceof D&&n.add(ze),ze}};function I8(){return this._results[Symbol.iterator]()}class ix{get changes(){return this._changes||(this._changes=new Hr)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ix.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=I8)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const y=this;y.dirty=!1;const L=function Wu(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function e_(e,n,t){if(e.length!==n.length)return!1;for(let y=0;y<e.length;y++){let L=e[y],K=n[y];if(t&&(L=t(L),K=t(K)),K!==L)return!1}return!0}(y._results,L,t))&&(y._results=L,y.length=L.length,y.last=L[this.length-1],y.first=L[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ea=(()=>{class e{}return e.__NG_ELEMENT_ID__=L8,e})();const P8=Ea,R8=class extends P8{constructor(n,t,y){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=y}createEmbeddedView(n,t){const y=this._declarationTContainer.tView,L=bf(this._declarationLView,y,n,16,null,y.declTNode,null,null,null,null,t||null);L[bl]=this._declarationLView[this._declarationTContainer.index];const me=this._declarationLView[Pa];return null!==me&&(L[Pa]=me.createEmbeddedView(y)),Zp(y,L,n),new Wg(L)}};function L8(){return yv(go(),kr())}function yv(e,n){return 4&e.type?new R8(n,e,ko(e,n)):null}let kc=(()=>{class e{}return e.__NG_ELEMENT_ID__=N8,e})();function N8(){return aT(go(),kr())}const F8=kc,iT=class extends F8{constructor(n,t,y){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=y}get element(){return ko(this._hostTNode,this._hostLView)}get injector(){return new fd(this._hostTNode,this._hostLView)}get parentInjector(){const n=Pf(this._hostTNode,this._hostLView);if(Do(n)){const t=Gi(n,this._hostLView),y=Ma(n);return new fd(t[ti].data[y+8],t)}return new fd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=oT(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-ha}createEmbeddedView(n,t,y){let L,K;"number"==typeof y?L=y:null!=y&&(L=y.index,K=y.injector);const me=n.createEmbeddedView(t||{},K);return this.insert(me,L),me}createComponent(n,t,y,L,K){const me=n&&!function uh(e){return"function"==typeof e}(n);let ze;if(me)ze=t;else{const zt=t||{};ze=zt.index,y=zt.injector,L=zt.projectableNodes,K=zt.environmentInjector||zt.ngModuleRef}const Ze=me?n:new qg(Oi(n)),ot=y||this.parentInjector;if(!K&&null==Ze.ngModule){const Qt=(me?ot:this.parentInjector).get(qi,null);Qt&&(K=Qt)}const yt=Ze.create(ot,L,void 0,K);return this.insert(yt.hostView,ze),yt}insert(n,t){const y=n._lView,L=y[ti];if(function au(e){return va(e[yo])}(y)){const yt=this.indexOf(n);if(-1!==yt)this.detach(yt);else{const zt=y[yo],Qt=new iT(zt,zt[Io],zt[yo]);Qt.detach(Qt.indexOf(n))}}const K=this._adjustIndex(t),me=this._lContainer;!function v_(e,n,t,y){const L=ha+y,K=t.length;y>0&&(t[L-1][da]=n),y<K-ha?(n[da]=t[L],xp(t,ha+y,n)):(t.push(n),n[da]=null),n[yo]=t;const me=n[bl];null!==me&&t!==me&&function w1(e,n){const t=e[bs];n[na]!==n[yo][yo][na]&&(e[Tl]=!0),null===t?e[bs]=[n]:t.push(n)}(me,n);const ze=n[Pa];null!==ze&&ze.insertView(e),n[wi]|=64}(L,y,me,K);const ze=yg(K,me),Ze=y[Si],ot=xh(Ze,me[Uu]);return null!==ot&&function b1(e,n,t,y,L,K){y[_s]=L,y[Io]=n,xc(e,y,t,1,L,K)}(L,me[Io],Ze,y,ot,ze),n.attachToViewContainerRef(),xp(ox(me),K,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=oT(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),y=Cu(this._lContainer,t);y&&(bp(ox(this._lContainer),t),Ep(y[ti],y))}detach(n){const t=this._adjustIndex(n,-1),y=Cu(this._lContainer,t);return y&&null!=bp(ox(this._lContainer),t)?new Wg(y):null}_adjustIndex(n,t=0){return n??this.length+t}};function oT(e){return e[tu]}function ox(e){return e[tu]||(e[tu]=[])}function aT(e,n){let t;const y=n[e.index];if(va(y))t=y;else{let L;if(8&e.type)L=po(y);else{const K=n[Si];L=K.createComment("");const me=Ja(e,n);hf(K,xh(K,me),L,function Md(e,n){return e.nextSibling(n)}(K,me),!1)}n[e.index]=t=iw(y,n,L,e),nv(n,t)}return new iT(t,e,n)}class ax{constructor(n){this.queryList=n,this.matches=null}clone(){return new ax(this.queryList)}setDirty(){this.queryList.setDirty()}}class sx{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const y=null!==n.contentQueries?n.contentQueries[0]:t.length,L=[];for(let K=0;K<y;K++){const me=t.getByIndex(K);L.push(this.queries[me.indexInDeclarationView].clone())}return new sx(L)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==fT(n,t).matches&&this.queries[t].setDirty()}}class sT{constructor(n,t,y=null){this.predicate=n,this.flags=t,this.read=y}}class lx{constructor(n=[]){this.queries=n}elementStart(n,t){for(let y=0;y<this.queries.length;y++)this.queries[y].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let y=0;y<this.length;y++){const L=null!==t?t.length:0,K=this.getByIndex(y).embeddedTView(n,L);K&&(K.indexInDeclarationView=y,null!==t?t.push(K):t=[K])}return null!==t?new lx(t):null}template(n,t){for(let y=0;y<this.queries.length;y++)this.queries[y].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class ux{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new ux(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let y=n.parent;for(;null!==y&&8&y.type&&y.index!==t;)y=y.parent;return t===(null!==y?y.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const y=this.metadata.predicate;if(Array.isArray(y))for(let L=0;L<y.length;L++){const K=y[L];this.matchTNodeWithReadOption(n,t,z8(t,K)),this.matchTNodeWithReadOption(n,t,gp(t,n,K,!1,!1))}else y===Ea?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,gp(t,n,y,!1,!1))}matchTNodeWithReadOption(n,t,y){if(null!==y){const L=this.metadata.read;if(null!==L)if(L===ci||L===kc||L===Ea&&4&t.type)this.addMatch(t.index,-2);else{const K=gp(t,n,L,!1,!1);null!==K&&this.addMatch(t.index,K)}else this.addMatch(t.index,y)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function z8(e,n){const t=e.localNames;if(null!==t)for(let y=0;y<t.length;y+=2)if(t[y]===n)return t[y+1];return null}function j8(e,n,t,y){return-1===t?function B8(e,n){return 11&e.type?ko(e,n):4&e.type?yv(e,n):null}(n,e):-2===t?function U8(e,n,t){return t===ci?ko(n,e):t===Ea?yv(n,e):t===kc?aT(n,e):void 0}(e,n,y):Rf(e,e[ti],t,n)}function lT(e,n,t,y){const L=n[Pa].queries[y];if(null===L.matches){const K=e.data,me=t.matches,ze=[];for(let Ze=0;Ze<me.length;Ze+=2){const ot=me[Ze];ze.push(ot<0?null:j8(n,K[ot],me[Ze+1],t.metadata.read))}L.matches=ze}return L.matches}function cx(e,n,t,y){const L=e.queries.getByIndex(t),K=L.matches;if(null!==K){const me=lT(e,n,L,t);for(let ze=0;ze<K.length;ze+=2){const Ze=K[ze];if(Ze>0)y.push(me[ze/2]);else{const ot=K[ze+1],yt=n[-Ze];for(let zt=ha;zt<yt.length;zt++){const Qt=yt[zt];Qt[bl]===Qt[yo]&&cx(Qt[ti],Qt,ot,y)}if(null!==yt[bs]){const zt=yt[bs];for(let Qt=0;Qt<zt.length;Qt++){const hn=zt[Qt];cx(hn[ti],hn,ot,y)}}}}}return y}function Fo(e){const n=kr(),t=Wr(),y=nt();lt(y+1);const L=fT(t,y);if(e.dirty&&function Js(e){return 4==(4&e[wi])}(n)===(2==(2&L.metadata.flags))){if(null===L.matches)e.reset([]);else{const K=L.crossesNgTemplate?cx(t,n,y,[]):lT(t,n,L,y);e.reset(K,fa),e.notifyOnChanges()}return!0}return!1}function qd(e,n,t){const y=Wr();y.firstCreatePass&&(cT(y,new sT(e,n,t),-1),2==(2&n)&&(y.staticViewQueries=!0)),uT(y,kr(),n)}function Ca(e,n,t,y){const L=Wr();if(L.firstCreatePass){const K=go();cT(L,new sT(n,t,y),K.index),function H8(e,n){const t=e.contentQueries||(e.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,n)}(L,e),2==(2&t)&&(L.staticContentQueries=!0)}uT(L,kr(),t)}function zo(){return function V8(e,n){return e[Pa].queries[n].queryList}(kr(),nt())}function uT(e,n,t){const y=new ix(4==(4&t));jh(e,n,y,y.destroy),null===n[Pa]&&(n[Pa]=new sx),n[Pa].queries.push(new ax(y))}function cT(e,n,t){null===e.queries&&(e.queries=new lx),e.queries.track(new ux(n,t))}function fT(e,n){return e.queries.getByIndex(n)}function Lu(e,n){return yv(e,n)}function xv(...e){}const bv=new gi("Application Initializer");let wv=(()=>{class e{constructor(t){this.appInits=t,this.resolve=xv,this.reject=xv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((y,L)=>{this.resolve=y,this.reject=L})}runInitializers(){if(this.initialized)return;const t=[],y=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let L=0;L<this.appInits.length;L++){const K=this.appInits[L]();if(Yg(K))t.push(K);else if(U_(K)){const me=new Promise((ze,Ze)=>{K.subscribe({complete:ze,error:Ze})});t.push(me)}}Promise.all(t).then(()=>{y()}).catch(L=>{this.reject(L)}),0===t.length&&y(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Nr(bv,8))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const lm=new gi("AppId",{providedIn:"root",factory:function CT(){return`${mx()}${mx()}${mx()}`}});function mx(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DT=new gi("Platform Initializer"),Tv=new gi("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let uC=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const lc=new gi("LocaleId",{providedIn:"root",factory:()=>mi(lc,Qr.Optional|Qr.SkipSelf)||function cC(){return typeof $localize<"u"&&$localize.locale||d0}()});class dC{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let OT=(()=>{class e{compileModuleSync(t){return new Q_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const y=this.compileModuleSync(t),K=Iu(ss(t).declarations).reduce((me,ze)=>{const Ze=Oi(ze);return Ze&&me.push(new qg(Ze)),me},[]);return new dC(y,K)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const gC=(()=>Promise.resolve(0))();function vx(e){typeof Zone>"u"?gC.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Bo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:y=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hr(!1),this.onMicrotaskEmpty=new Hr(!1),this.onStable=new Hr(!1),this.onError=new Hr(!1),typeof Zone>"u")throw new $t(908,!1);Zone.assertZonePatched();const L=this;L._nesting=0,L._outer=L._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(L._inner=L._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(L._inner=L._inner.fork(Zone.longStackTraceZoneSpec)),L.shouldCoalesceEventChangeDetection=!y&&t,L.shouldCoalesceRunChangeDetection=y,L.lastRequestAnimationFrameId=-1,L.nativeRequestAnimationFrame=function mC(){let e=Xi.requestAnimationFrame,n=Xi.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);const y=n[Zone.__symbol__("OriginalDelegate")];y&&(n=y)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function _C(e){const n=()=>{!function yC(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Xi,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,_x(e),e.isCheckStableRunning=!0,yx(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),_x(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,y,L,K,me,ze)=>{try{return RT(e),t.invokeTask(L,K,me,ze)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===K.type||e.shouldCoalesceRunChangeDetection)&&n(),LT(e)}},onInvoke:(t,y,L,K,me,ze,Ze)=>{try{return RT(e),t.invoke(L,K,me,ze,Ze)}finally{e.shouldCoalesceRunChangeDetection&&n(),LT(e)}},onHasTask:(t,y,L,K)=>{t.hasTask(L,K),y===L&&("microTask"==K.change?(e._hasPendingMicrotasks=K.microTask,_x(e),yx(e)):"macroTask"==K.change&&(e.hasPendingMacrotasks=K.macroTask))},onHandleError:(t,y,L,K)=>(t.handleError(L,K),e.runOutsideAngular(()=>e.onError.emit(K)),!1)})}(L)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bo.isInAngularZone())throw new $t(909,!1)}static assertNotInAngularZone(){if(Bo.isInAngularZone())throw new $t(909,!1)}run(n,t,y){return this._inner.run(n,t,y)}runTask(n,t,y,L){const K=this._inner,me=K.scheduleEventTask("NgZoneEvent: "+L,n,vC,xv,xv);try{return K.runTask(me,t,y)}finally{K.cancelTask(me)}}runGuarded(n,t,y){return this._inner.runGuarded(n,t,y)}runOutsideAngular(n){return this._outer.run(n)}}const vC={};function yx(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function _x(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function RT(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function LT(e){e._nesting--,yx(e)}class xC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hr,this.onMicrotaskEmpty=new Hr,this.onStable=new Hr,this.onError=new Hr}run(n,t,y){return n.apply(t,y)}runGuarded(n,t,y){return n.apply(t,y)}runOutsideAngular(n){return n()}runTask(n,t,y,L){return n.apply(t,y)}}const NT=new gi(""),Mv=new gi("");let wx,xx=(()=>{class e{constructor(t,y,L){this._ngZone=t,this.registry=y,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wx||(function bC(e){wx=e}(L),L.addToWindow(y)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bo.assertNotInAngularZone(),vx(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vx(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(y=>!y.updateCb||!y.updateCb(t)||(clearTimeout(y.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,y,L){let K=-1;y&&y>0&&(K=setTimeout(()=>{this._callbacks=this._callbacks.filter(me=>me.timeoutId!==K),t(this._didWork,this.getPendingTasks())},y)),this._callbacks.push({doneCb:t,timeoutId:K,updateCb:L})}whenStable(t,y,L){if(L&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,y,L),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,y,L){return[]}}return e.\u0275fac=function(t){return new(t||e)(Nr(Bo),Nr(bx),Nr(Mv))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})(),bx=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,y){this._applications.set(t,y)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,y=!0){return wx?.findTestabilityInTree(this,t,y)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Qf=!1;let $d=null;const FT=new gi("AllowMultipleToken"),Tx=new gi("PlatformDestroyListeners"),zT=new gi("appBootstrapListener");class BT{constructor(n,t){this.name=n,this.token=t}}function UT(e,n,t=[]){const y=`Platform: ${n}`,L=new gi(y);return(K=[])=>{let me=Mx();if(!me||me.injector.get(FT,!1)){const ze=[...t,...K,{provide:L,useValue:!0}];e?e(ze):function MC(e){if($d&&!$d.get(FT,!1))throw new $t(400,!1);$d=e;const n=e.get(HT);(function jT(e){const n=e.get(DT,null);n&&n.forEach(t=>t())})(e)}(function VT(e=[],n){return ol.create({name:n,providers:[{provide:Ai,useValue:"platform"},{provide:Tx,useValue:new Set([()=>$d=null])},...e]})}(ze,y))}return function kC(e){const n=Mx();if(!n)throw new $t(401,!1);return n}()}}function Mx(){return $d?.get(HT)??null}let HT=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,y){const L=function WT(e,n){let t;return t="noop"===e?new xC:("zone.js"===e?void 0:e)||new Bo(n),t}(y?.ngZone,function GT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(y)),K=[{provide:Bo,useValue:L}];return L.run(()=>{const me=ol.create({providers:K,parent:this.injector,name:t.moduleType.name}),ze=t.create(me),Ze=ze.injector.get($c,null);if(!Ze)throw new $t(402,!1);return L.runOutsideAngular(()=>{const ot=L.onError.subscribe({next:yt=>{Ze.handleError(yt)}});ze.onDestroy(()=>{Av(this._modules,ze),ot.unsubscribe()})}),function qT(e,n,t){try{const y=t();return Yg(y)?y.catch(L=>{throw n.runOutsideAngular(()=>e.handleError(L)),L}):y}catch(y){throw n.runOutsideAngular(()=>e.handleError(y)),y}}(Ze,L,()=>{const ot=ze.injector.get(wv);return ot.runInitializers(),ot.donePromise.then(()=>(_3(ze.injector.get(lc,d0)||d0),this._moduleDoBootstrap(ze),ze))})})}bootstrapModule(t,y=[]){const L=$T({},y);return function wC(e,n,t){const y=new Q_(t);return Promise.resolve(y)}(0,0,t).then(K=>this.bootstrapModuleFactory(K,L))}_moduleDoBootstrap(t){const y=t.injector.get(v0);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(L=>y.bootstrap(L));else{if(!t.instance.ngDoBootstrap)throw new $t(-403,!1);t.instance.ngDoBootstrap(y)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $t(404,!1);this._modules.slice().forEach(y=>y.destroy()),this._destroyListeners.forEach(y=>y());const t=this._injector.get(Tx,null);t&&(t.forEach(y=>y()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Nr(ol))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function $T(e,n){return Array.isArray(n)?n.reduce($T,e):{...e,...n}}let v0=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,y,L){this._zone=t,this._injector=y,this._exceptionHandler=L,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const K=new R(ze=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ze.next(this._stable),ze.complete()})}),me=new R(ze=>{let Ze;this._zone.runOutsideAngular(()=>{Ze=this._zone.onStable.subscribe(()=>{Bo.assertNotInAngularZone(),vx(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ze.next(!0))})})});const ot=this._zone.onUnstable.subscribe(()=>{Bo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ze.next(!1)}))});return()=>{Ze.unsubscribe(),ot.unsubscribe()}});this.isStable=wn(K,me.pipe(function Cn(e={}){const{connector:n=(()=>new Z),resetOnError:t=!0,resetOnComplete:y=!0,resetOnRefCountZero:L=!0}=e;return K=>{let me,ze,Ze,ot=0,yt=!1,zt=!1;const Qt=()=>{ze?.unsubscribe(),ze=void 0},hn=()=>{Qt(),me=Ze=void 0,yt=zt=!1},Bn=()=>{const Kn=me;hn(),Kn?.unsubscribe()};return G((Kn,cr)=>{ot++,!zt&&!yt&&Qt();const vr=Ze=Ze??n();cr.add(()=>{ot--,0===ot&&!zt&&!yt&&(ze=Ln(Bn,L))}),vr.subscribe(cr),!me&&ot>0&&(me=new w({next:Dr=>vr.next(Dr),error:Dr=>{zt=!0,Qt(),ze=Ln(hn,t,Dr),vr.error(Dr)},complete:()=>{yt=!0,Qt(),ze=Ln(hn,y),vr.complete()}}),rt(Kn).subscribe(me))})(K)}}()))}bootstrap(t,y){const L=t instanceof Ya;if(!this._injector.get(wv).done){!L&&function Bl(e){const n=Oi(e)||$o(e)||as(e);return null!==n&&n.standalone}(t);throw new $t(405,Qf)}let me;me=L?t:this._injector.get(lo).resolveComponentFactory(t),this.componentTypes.push(me.componentType);const ze=function TC(e){return e.isBoundToModule}(me)?void 0:this._injector.get(p0),ot=me.create(ol.NULL,[],y||me.selector,ze),yt=ot.location.nativeElement,zt=ot.injector.get(NT,null);return zt?.registerApplication(yt),ot.onDestroy(()=>{this.detachView(ot.hostView),Av(this.components,ot),zt?.unregisterApplication(yt)}),this._loadComponent(ot),ot}tick(){if(this._runningTick)throw new $t(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const y=t;this._views.push(y),y.attachToAppRef(this)}detachView(t){const y=t;Av(this._views,y),y.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const y=this._injector.get(zT,[]);y.push(...this._bootstrapListeners),y.forEach(L=>L(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Av(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $t(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)(Nr(Bo),Nr(qi),Nr($c))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Av(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}let Zu=(()=>{class e{}return e.__NG_ELEMENT_ID__=EC,e})();function EC(e){return function CC(e,n,t){if(Zs(e)&&!t){const y=Vo(e.index,n);return new Wg(y,y)}return 47&e.type?new Wg(n[na],n):null}(go(),kr(),16==(16&e))}class JT{constructor(){}supports(n){return sv(n)}create(n){return new LC(n)}}const RC=(e,n)=>n;class LC{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||RC}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,y=this._removalsHead,L=0,K=null;for(;t||y;){const me=!y||t&&t.currentIndex<e5(y,L,K)?t:y,ze=e5(me,L,K),Ze=me.currentIndex;if(me===y)L--,y=y._nextRemoved;else if(t=t._next,null==me.previousIndex)L++;else{K||(K=[]);const ot=ze-L,yt=Ze-L;if(ot!=yt){for(let Qt=0;Qt<ot;Qt++){const hn=Qt<K.length?K[Qt]:K[Qt]=0,Bn=hn+Qt;yt<=Bn&&Bn<ot&&(K[Qt]=hn+1)}K[me.previousIndex]=yt-ot}}ze!==Ze&&n(me,ze,Ze)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!sv(n))throw new $t(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let L,K,me,t=this._itHead,y=!1;if(Array.isArray(n)){this.length=n.length;for(let ze=0;ze<this.length;ze++)K=n[ze],me=this._trackByFn(ze,K),null!==t&&Object.is(t.trackById,me)?(y&&(t=this._verifyReinsertion(t,K,me,ze)),Object.is(t.item,K)||this._addIdentityChange(t,K)):(t=this._mismatch(t,K,me,ze),y=!0),t=t._next}else L=0,function y6(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let y;for(;!(y=t.next()).done;)n(y.value)}}(n,ze=>{me=this._trackByFn(L,ze),null!==t&&Object.is(t.trackById,me)?(y&&(t=this._verifyReinsertion(t,ze,me,L)),Object.is(t.item,ze)||this._addIdentityChange(t,ze)):(t=this._mismatch(t,ze,me,L),y=!0),t=t._next,L++}),this.length=L;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,y,L){let K;return null===n?K=this._itTail:(K=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,K,L)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(y,L))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,K,L)):n=this._addAfter(new NC(t,y),K,L),n}_verifyReinsertion(n,t,y,L){let K=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null);return null!==K?n=this._reinsertAfter(K,n._prev,L):n.currentIndex!=L&&(n.currentIndex=L,this._addToMoves(n,L)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,y){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const L=n._prevRemoved,K=n._nextRemoved;return null===L?this._removalsHead=K:L._nextRemoved=K,null===K?this._removalsTail=L:K._prevRemoved=L,this._insertAfter(n,t,y),this._addToMoves(n,y),n}_moveAfter(n,t,y){return this._unlink(n),this._insertAfter(n,t,y),this._addToMoves(n,y),n}_addAfter(n,t,y){return this._insertAfter(n,t,y),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,y){const L=null===t?this._itHead:t._next;return n._next=L,n._prev=t,null===L?this._itTail=n:L._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new QT),this._linkedRecords.put(n),n.currentIndex=y,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,y=n._next;return null===t?this._itHead=y:t._next=y,null===y?this._itTail=t:y._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QT),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class NC{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FC{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let y;for(y=this._head;null!==y;y=y._nextDup)if((null===t||t<=y.currentIndex)&&Object.is(y.trackById,n))return y;return null}remove(n){const t=n._prevDup,y=n._nextDup;return null===t?this._head=y:t._nextDup=y,null===y?this._tail=t:y._prevDup=t,null===this._head}}class QT{constructor(){this.map=new Map}put(n){const t=n.trackById;let y=this.map.get(t);y||(y=new FC,this.map.set(t,y)),y.add(n)}get(n,t){const L=this.map.get(n);return L?L.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function e5(e,n,t){const y=e.previousIndex;if(null===y)return y;let L=0;return t&&y<t.length&&(L=t[y]),y+n+L}class t5{constructor(){}supports(n){return n instanceof Map||B_(n)}create(){return new zC}}class zC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||B_(n)))throw new $t(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(y,L)=>{if(t&&t.key===L)this._maybeAddToChanges(t,y),this._appendAfter=t,t=t._next;else{const K=this._getOrCreateRecordForKey(L,y);t=this._insertBeforeOrAppend(t,K)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let y=t;null!==y;y=y._nextRemoved)y===this._mapHead&&(this._mapHead=null),this._records.delete(y.key),y._nextRemoved=y._next,y.previousValue=y.currentValue,y.currentValue=null,y._prev=null,y._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const y=n._prev;return t._next=n,t._prev=y,n._prev=t,y&&(y._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const L=this._records.get(n);this._maybeAddToChanges(L,t);const K=L._prev,me=L._next;return K&&(K._next=me),me&&(me._prev=K),L._next=null,L._prev=null,L}const y=new BC(n);return this._records.set(n,y),y.currentValue=t,this._addToAdditions(y),y}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(y=>t(n[y],y))}}class BC{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function n5(){return new um([new JT])}let um=(()=>{class e{constructor(t){this.factories=t}static create(t,y){if(null!=y){const L=y.factories.slice();t=t.concat(L)}return new e(t)}static extend(t){return{provide:e,useFactory:y=>e.create(t,y||n5()),deps:[[e,new Wl,new zf]]}}find(t){const y=this.factories.find(L=>L.supports(t));if(null!=y)return y;throw new $t(901,!1)}}return e.\u0275prov=Rn({token:e,providedIn:"root",factory:n5}),e})();function r5(){return new y0([new t5])}let y0=(()=>{class e{constructor(t){this.factories=t}static create(t,y){if(y){const L=y.factories.slice();t=t.concat(L)}return new e(t)}static extend(t){return{provide:e,useFactory:y=>e.create(t,y||r5()),deps:[[e,new Wl,new zf]]}}find(t){const y=this.factories.find(L=>L.supports(t));if(y)return y;throw new $t(901,!1)}}return e.\u0275prov=Rn({token:e,providedIn:"root",factory:r5}),e})();const VC=UT(null,"core",[]);let HC=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(Nr(v0))},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({}),e})();function Cx(e,n){const t=Oi(e),y=n.elementInjector||Mo();return new qg(t).create(y,n.projectableNodes,n.hostElement,n.environmentInjector)}let Dx=null;function ed(){return Dx}class qC{}const ps=new gi("DocumentToken");let Ox=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(){return function $C(){return Nr(i5)}()},providedIn:"platform"}),e})();const ZC=new gi("Location Initialized");let i5=(()=>{class e extends Ox{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ed().getBaseHref(this._doc)}onPopState(t){const y=ed().getGlobalEventTarget(this._doc,"window");return y.addEventListener("popstate",t,!1),()=>y.removeEventListener("popstate",t)}onHashChange(t){const y=ed().getGlobalEventTarget(this._doc,"window");return y.addEventListener("hashchange",t,!1),()=>y.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,y,L){o5()?this._history.pushState(t,y,L):this._location.hash=L}replaceState(t,y,L){o5()?this._history.replaceState(t,y,L):this._location.hash=L}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(Nr(ps))},e.\u0275prov=Rn({token:e,factory:function(){return function YC(){return new i5(Nr(ps))}()},providedIn:"platform"}),e})();function o5(){return!!window.history.pushState}function Ix(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function a5(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function td(e){return e&&"?"!==e[0]?"?"+e:e}let Wh=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(){return mi(l5)},providedIn:"root"}),e})();const s5=new gi("appBaseHref");let l5=(()=>{class e extends Wh{constructor(t,y){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=y??this._platformLocation.getBaseHrefFromDOM()??mi(ps).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ix(this._baseHref,t)}path(t=!1){const y=this._platformLocation.pathname+td(this._platformLocation.search),L=this._platformLocation.hash;return L&&t?`${y}${L}`:y}pushState(t,y,L,K){const me=this.prepareExternalUrl(L+td(K));this._platformLocation.pushState(t,y,me)}replaceState(t,y,L,K){const me=this.prepareExternalUrl(L+td(K));this._platformLocation.replaceState(t,y,me)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(Nr(Ox),Nr(s5,8))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),XC=(()=>{class e extends Wh{constructor(t,y){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=y&&(this._baseHref=y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let y=this._platformLocation.hash;return null==y&&(y="#"),y.length>0?y.substring(1):y}prepareExternalUrl(t){const y=Ix(this._baseHref,t);return y.length>0?"#"+y:y}pushState(t,y,L,K){let me=this.prepareExternalUrl(L+td(K));0==me.length&&(me=this._platformLocation.pathname),this._platformLocation.pushState(t,y,me)}replaceState(t,y,L,K){let me=this.prepareExternalUrl(L+td(K));0==me.length&&(me=this._platformLocation.pathname),this._platformLocation.replaceState(t,y,me)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(Nr(Ox),Nr(s5,8))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})(),Px=(()=>{class e{constructor(t){this._subject=new Hr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const y=this._locationStrategy.getBaseHref();this._basePath=function QC(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(a5(u5(y))),this._locationStrategy.onPopState(L=>{this._subject.emit({url:this.path(!0),pop:!0,state:L.state,type:L.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,y=""){return this.path()==this.normalize(t+td(y))}normalize(t){return e.stripTrailingSlash(function JC(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,u5(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,y="",L=null){this._locationStrategy.pushState(L,"",t,y),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+td(y)),L)}replaceState(t,y="",L=null){this._locationStrategy.replaceState(L,"",t,y),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+td(y)),L)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(y=>{this._notifyUrlChangeListeners(y.url,y.state)})),()=>{const y=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",y){this._urlChangeListeners.forEach(L=>L(t,y))}subscribe(t,y,L){return this._subject.subscribe({next:t,error:y,complete:L})}}return e.normalizeQueryParams=td,e.joinWithSlash=Ix,e.stripTrailingSlash=a5,e.\u0275fac=function(t){return new(t||e)(Nr(Wh))},e.\u0275prov=Rn({token:e,factory:function(){return function KC(){return new Px(Nr(Wh))}()},providedIn:"root"}),e})();function u5(e){return e.replace(/\/index.html$/,"")}var Yu=(()=>((Yu=Yu||{})[Yu.Decimal=0]="Decimal",Yu[Yu.Percent=1]="Percent",Yu[Yu.Currency=2]="Currency",Yu[Yu.Scientific=3]="Scientific",Yu))(),Ba=(()=>((Ba=Ba||{})[Ba.Format=0]="Format",Ba[Ba.Standalone=1]="Standalone",Ba))(),Ui=(()=>((Ui=Ui||{})[Ui.Narrow=0]="Narrow",Ui[Ui.Abbreviated=1]="Abbreviated",Ui[Ui.Wide=2]="Wide",Ui[Ui.Short=3]="Short",Ui))(),rs=(()=>((rs=rs||{})[rs.Short=0]="Short",rs[rs.Medium=1]="Medium",rs[rs.Long=2]="Long",rs[rs.Full=3]="Full",rs))(),Ei=(()=>((Ei=Ei||{})[Ei.Decimal=0]="Decimal",Ei[Ei.Group=1]="Group",Ei[Ei.List=2]="List",Ei[Ei.PercentSign=3]="PercentSign",Ei[Ei.PlusSign=4]="PlusSign",Ei[Ei.MinusSign=5]="MinusSign",Ei[Ei.Exponential=6]="Exponential",Ei[Ei.SuperscriptingExponent=7]="SuperscriptingExponent",Ei[Ei.PerMille=8]="PerMille",Ei[Ei.Infinity=9]="Infinity",Ei[Ei.NaN=10]="NaN",Ei[Ei.TimeSeparator=11]="TimeSeparator",Ei[Ei.CurrencyDecimal=12]="CurrencyDecimal",Ei[Ei.CurrencyGroup=13]="CurrencyGroup",Ei))();function f5(e,n,t){const y=Ru(e),K=Ec([y[li.DayPeriodsFormat],y[li.DayPeriodsStandalone]],n);return Ec(K,t)}function d5(e,n,t){const y=Ru(e),K=Ec([y[li.DaysFormat],y[li.DaysStandalone]],n);return Ec(K,t)}function Rx(e,n,t){const y=Ru(e),K=Ec([y[li.MonthsFormat],y[li.MonthsStandalone]],n);return Ec(K,t)}function Ev(e,n){return Ec(Ru(e)[li.DateFormat],n)}function Cv(e,n){return Ec(Ru(e)[li.TimeFormat],n)}function Dv(e,n){return Ec(Ru(e)[li.DateTimeFormat],n)}function Sc(e,n){const t=Ru(e),y=t[li.NumberSymbols][n];if(typeof y>"u"){if(n===Ei.CurrencyDecimal)return t[li.NumberSymbols][Ei.Decimal];if(n===Ei.CurrencyGroup)return t[li.NumberSymbols][Ei.Group]}return y}function h5(e){if(!e[li.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[li.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ec(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function Nx(e){const[n,t]=e.split(":");return{hours:+n,minutes:+t}}const uD=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,cm={},cD=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ll=(()=>((ll=ll||{})[ll.Short=0]="Short",ll[ll.ShortGMT=1]="ShortGMT",ll[ll.Long=2]="Long",ll[ll.Extended=3]="Extended",ll))(),Ii=(()=>((Ii=Ii||{})[Ii.FullYear=0]="FullYear",Ii[Ii.Month=1]="Month",Ii[Ii.Date=2]="Date",Ii[Ii.Hours=3]="Hours",Ii[Ii.Minutes=4]="Minutes",Ii[Ii.Seconds=5]="Seconds",Ii[Ii.FractionalSeconds=6]="FractionalSeconds",Ii[Ii.Day=7]="Day",Ii))(),Ki=(()=>((Ki=Ki||{})[Ki.DayPeriods=0]="DayPeriods",Ki[Ki.Days=1]="Days",Ki[Ki.Months=2]="Months",Ki[Ki.Eras=3]="Eras",Ki))();function p5(e,n,t,y){let L=function _D(e){if(v5(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[L,K=1,me=1]=e.split("-").map(ze=>+ze);return Ov(L,K-1,me)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let y;if(y=e.match(uD))return function xD(e){const n=new Date(0);let t=0,y=0;const L=e[8]?n.setUTCFullYear:n.setFullYear,K=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),y=Number(e[9]+e[11])),L.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));const me=Number(e[4]||0)-t,ze=Number(e[5]||0)-y,Ze=Number(e[6]||0),ot=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return K.call(n,me,ze,Ze,ot),n}(y)}const n=new Date(e);if(!v5(n))throw new Error(`Unable to convert "${e}" into a date`);return n}(e);n=nd(t,n)||n;let ze,me=[];for(;n;){if(ze=cD.exec(n),!ze){me.push(n);break}{me=me.concat(ze.slice(1));const yt=me.pop();if(!yt)break;n=yt}}let Ze=L.getTimezoneOffset();y&&(Ze=m5(y,Ze),L=function yD(e,n,t){const y=t?-1:1,L=e.getTimezoneOffset();return function vD(e,n){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}(e,y*(m5(n,L)-L))}(L,y,!0));let ot="";return me.forEach(yt=>{const zt=function mD(e){if(zx[e])return zx[e];let n;switch(e){case"G":case"GG":case"GGG":n=Da(Ki.Eras,Ui.Abbreviated);break;case"GGGG":n=Da(Ki.Eras,Ui.Wide);break;case"GGGGG":n=Da(Ki.Eras,Ui.Narrow);break;case"y":n=Bs(Ii.FullYear,1,0,!1,!0);break;case"yy":n=Bs(Ii.FullYear,2,0,!0,!0);break;case"yyy":n=Bs(Ii.FullYear,3,0,!1,!0);break;case"yyyy":n=Bs(Ii.FullYear,4,0,!1,!0);break;case"Y":n=Lv(1);break;case"YY":n=Lv(2,!0);break;case"YYY":n=Lv(3);break;case"YYYY":n=Lv(4);break;case"M":case"L":n=Bs(Ii.Month,1,1);break;case"MM":case"LL":n=Bs(Ii.Month,2,1);break;case"MMM":n=Da(Ki.Months,Ui.Abbreviated);break;case"MMMM":n=Da(Ki.Months,Ui.Wide);break;case"MMMMM":n=Da(Ki.Months,Ui.Narrow);break;case"LLL":n=Da(Ki.Months,Ui.Abbreviated,Ba.Standalone);break;case"LLLL":n=Da(Ki.Months,Ui.Wide,Ba.Standalone);break;case"LLLLL":n=Da(Ki.Months,Ui.Narrow,Ba.Standalone);break;case"w":n=Fx(1);break;case"ww":n=Fx(2);break;case"W":n=Fx(1,!0);break;case"d":n=Bs(Ii.Date,1);break;case"dd":n=Bs(Ii.Date,2);break;case"c":case"cc":n=Bs(Ii.Day,1);break;case"ccc":n=Da(Ki.Days,Ui.Abbreviated,Ba.Standalone);break;case"cccc":n=Da(Ki.Days,Ui.Wide,Ba.Standalone);break;case"ccccc":n=Da(Ki.Days,Ui.Narrow,Ba.Standalone);break;case"cccccc":n=Da(Ki.Days,Ui.Short,Ba.Standalone);break;case"E":case"EE":case"EEE":n=Da(Ki.Days,Ui.Abbreviated);break;case"EEEE":n=Da(Ki.Days,Ui.Wide);break;case"EEEEE":n=Da(Ki.Days,Ui.Narrow);break;case"EEEEEE":n=Da(Ki.Days,Ui.Short);break;case"a":case"aa":case"aaa":n=Da(Ki.DayPeriods,Ui.Abbreviated);break;case"aaaa":n=Da(Ki.DayPeriods,Ui.Wide);break;case"aaaaa":n=Da(Ki.DayPeriods,Ui.Narrow);break;case"b":case"bb":case"bbb":n=Da(Ki.DayPeriods,Ui.Abbreviated,Ba.Standalone,!0);break;case"bbbb":n=Da(Ki.DayPeriods,Ui.Wide,Ba.Standalone,!0);break;case"bbbbb":n=Da(Ki.DayPeriods,Ui.Narrow,Ba.Standalone,!0);break;case"B":case"BB":case"BBB":n=Da(Ki.DayPeriods,Ui.Abbreviated,Ba.Format,!0);break;case"BBBB":n=Da(Ki.DayPeriods,Ui.Wide,Ba.Format,!0);break;case"BBBBB":n=Da(Ki.DayPeriods,Ui.Narrow,Ba.Format,!0);break;case"h":n=Bs(Ii.Hours,1,-12);break;case"hh":n=Bs(Ii.Hours,2,-12);break;case"H":n=Bs(Ii.Hours,1);break;case"HH":n=Bs(Ii.Hours,2);break;case"m":n=Bs(Ii.Minutes,1);break;case"mm":n=Bs(Ii.Minutes,2);break;case"s":n=Bs(Ii.Seconds,1);break;case"ss":n=Bs(Ii.Seconds,2);break;case"S":n=Bs(Ii.FractionalSeconds,1);break;case"SS":n=Bs(Ii.FractionalSeconds,2);break;case"SSS":n=Bs(Ii.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Pv(ll.Short);break;case"ZZZZZ":n=Pv(ll.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Pv(ll.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Pv(ll.Long);break;default:return null}return zx[e]=n,n}(yt);ot+=zt?zt(L,t,Ze):"''"===yt?"'":yt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ot}function Ov(e,n,t){const y=new Date(0);return y.setFullYear(e,n,t),y.setHours(0,0,0),y}function nd(e,n){const t=function eD(e){return Ru(e)[li.LocaleId]}(e);if(cm[t]=cm[t]||{},cm[t][n])return cm[t][n];let y="";switch(n){case"shortDate":y=Ev(e,rs.Short);break;case"mediumDate":y=Ev(e,rs.Medium);break;case"longDate":y=Ev(e,rs.Long);break;case"fullDate":y=Ev(e,rs.Full);break;case"shortTime":y=Cv(e,rs.Short);break;case"mediumTime":y=Cv(e,rs.Medium);break;case"longTime":y=Cv(e,rs.Long);break;case"fullTime":y=Cv(e,rs.Full);break;case"short":const L=nd(e,"shortTime"),K=nd(e,"shortDate");y=Iv(Dv(e,rs.Short),[L,K]);break;case"medium":const me=nd(e,"mediumTime"),ze=nd(e,"mediumDate");y=Iv(Dv(e,rs.Medium),[me,ze]);break;case"long":const Ze=nd(e,"longTime"),ot=nd(e,"longDate");y=Iv(Dv(e,rs.Long),[Ze,ot]);break;case"full":const yt=nd(e,"fullTime"),zt=nd(e,"fullDate");y=Iv(Dv(e,rs.Full),[yt,zt])}return y&&(cm[t][n]=y),y}function Iv(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,y){return null!=n&&y in n?n[y]:t})),e}function Qc(e,n,t="-",y,L){let K="";(e<0||L&&e<=0)&&(L?e=1-e:(e=-e,K=t));let me=String(e);for(;me.length<n;)me="0"+me;return y&&(me=me.slice(me.length-n)),K+me}function Bs(e,n,t=0,y=!1,L=!1){return function(K,me){let ze=function dD(e,n){switch(e){case Ii.FullYear:return n.getFullYear();case Ii.Month:return n.getMonth();case Ii.Date:return n.getDate();case Ii.Hours:return n.getHours();case Ii.Minutes:return n.getMinutes();case Ii.Seconds:return n.getSeconds();case Ii.FractionalSeconds:return n.getMilliseconds();case Ii.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,K);if((t>0||ze>-t)&&(ze+=t),e===Ii.Hours)0===ze&&-12===t&&(ze=12);else if(e===Ii.FractionalSeconds)return function fD(e,n){return Qc(e,3).substring(0,n)}(ze,n);const Ze=Sc(me,Ei.MinusSign);return Qc(ze,n,Ze,y,L)}}function Da(e,n,t=Ba.Format,y=!1){return function(L,K){return function hD(e,n,t,y,L,K){switch(t){case Ki.Months:return Rx(n,L,y)[e.getMonth()];case Ki.Days:return d5(n,L,y)[e.getDay()];case Ki.DayPeriods:const me=e.getHours(),ze=e.getMinutes();if(K){const ot=function iD(e){const n=Ru(e);return h5(n),(n[li.ExtraData][2]||[]).map(y=>"string"==typeof y?Nx(y):[Nx(y[0]),Nx(y[1])])}(n),yt=function oD(e,n,t){const y=Ru(e);h5(y);const K=Ec([y[li.ExtraData][0],y[li.ExtraData][1]],n)||[];return Ec(K,t)||[]}(n,L,y),zt=ot.findIndex(Qt=>{if(Array.isArray(Qt)){const[hn,Bn]=Qt,Kn=me>=hn.hours&&ze>=hn.minutes,cr=me<Bn.hours||me===Bn.hours&&ze<Bn.minutes;if(hn.hours<Bn.hours){if(Kn&&cr)return!0}else if(Kn||cr)return!0}else if(Qt.hours===me&&Qt.minutes===ze)return!0;return!1});if(-1!==zt)return yt[zt]}return f5(n,L,y)[me<12?0:1];case Ki.Eras:return function tD(e,n){return Ec(Ru(e)[li.Eras],n)}(n,y)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(L,K,e,n,t,y)}}function Pv(e){return function(n,t,y){const L=-1*y,K=Sc(t,Ei.MinusSign),me=L>0?Math.floor(L/60):Math.ceil(L/60);switch(e){case ll.Short:return(L>=0?"+":"")+Qc(me,2,K)+Qc(Math.abs(L%60),2,K);case ll.ShortGMT:return"GMT"+(L>=0?"+":"")+Qc(me,1,K);case ll.Long:return"GMT"+(L>=0?"+":"")+Qc(me,2,K)+":"+Qc(Math.abs(L%60),2,K);case ll.Extended:return 0===y?"Z":(L>=0?"+":"")+Qc(me,2,K)+":"+Qc(Math.abs(L%60),2,K);default:throw new Error(`Unknown zone width "${e}"`)}}}const pD=0,Rv=4;function g5(e){return Ov(e.getFullYear(),e.getMonth(),e.getDate()+(Rv-e.getDay()))}function Fx(e,n=!1){return function(t,y){let L;if(n){const K=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,me=t.getDate();L=1+Math.floor((me+K)/7)}else{const K=g5(t),me=function gD(e){const n=Ov(e,pD,1).getDay();return Ov(e,0,1+(n<=Rv?Rv:Rv+7)-n)}(K.getFullYear()),ze=K.getTime()-me.getTime();L=1+Math.round(ze/6048e5)}return Qc(L,e,Sc(y,Ei.MinusSign))}}function Lv(e,n=!1){return function(t,y){return Qc(g5(t).getFullYear(),e,Sc(y,Ei.MinusSign),n)}}const zx={};function m5(e,n){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function v5(e){return e instanceof Date&&!isNaN(e.valueOf())}const bD=/^(\d+)?\.((\d+)(-(\d+))?)?$/,y5=22,Nv=".",fm="0",wD=";",TD=",",Bx="#";function Vx(e){const n=parseInt(e);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+e);return n}function b5(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const y=t.indexOf("="),[L,K]=-1==y?[t,""]:[t.slice(0,y),t.slice(y+1)];if(L.trim()===n)return decodeURIComponent(K)}return null}const Gx=/\s+/,w5=[];let T5=(()=>{class e{constructor(t,y,L,K){this._iterableDiffers=t,this._keyValueDiffers=y,this._ngEl=L,this._renderer=K,this.initialClasses=w5,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Gx):w5}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Gx):t}ngDoCheck(){for(const y of this.initialClasses)this._updateState(y,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const y of t)this._updateState(y,!0);else if(null!=t)for(const y of Object.keys(t))this._updateState(y,Boolean(t[y]));this._applyStateDiff()}_updateState(t,y){const L=this.stateMap.get(t);void 0!==L?(L.enabled!==y&&(L.changed=!0,L.enabled=y),L.touched=!0):this.stateMap.set(t,{enabled:y,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const y=t[0],L=t[1];L.changed?(this._toggleClass(y,L.enabled),L.changed=!1):L.touched||(L.enabled&&this._toggleClass(y,!1),this.stateMap.delete(y)),L.touched=!1}}_toggleClass(t,y){(t=t.trim()).length>0&&t.split(Gx).forEach(L=>{y?this._renderer.addClass(this._ngEl.nativeElement,L):this._renderer.removeClass(this._ngEl.nativeElement,L)})}}return e.\u0275fac=function(t){return new(t||e)(Wn(um),Wn(y0),Wn(ci),Wn(Jo))},e.\u0275dir=Br({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class PD{constructor(n,t,y,L){this.$implicit=n,this.ngForOf=t,this.index=y,this.count=L}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uc=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,y,L){this._viewContainer=t,this._template=y,this._differs=L,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const y=this._viewContainer;t.forEachOperation((L,K,me)=>{if(null==L.previousIndex)y.createEmbeddedView(this._template,new PD(L.item,this._ngForOf,-1,-1),null===me?void 0:me);else if(null==me)y.remove(null===K?void 0:K);else if(null!==K){const ze=y.get(K);y.move(ze,me),k5(ze,L)}});for(let L=0,K=y.length;L<K;L++){const ze=y.get(L).context;ze.index=L,ze.count=K,ze.ngForOf=this._ngForOf}t.forEachIdentityChange(L=>{k5(y.get(L.currentIndex),L)})}static ngTemplateContextGuard(t,y){return!0}}return e.\u0275fac=function(t){return new(t||e)(Wn(kc),Wn(Ea),Wn(um))},e.\u0275dir=Br({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function k5(e,n){e.context.$implicit=n.item}let Xu=(()=>{class e{constructor(t,y){this._viewContainer=t,this._context=new LD,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=y}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){S5("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){S5("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,y){return!0}}return e.\u0275fac=function(t){return new(t||e)(Wn(kc),Wn(Ea))},e.\u0275dir=Br({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class LD{constructor(){this.$implicit=null,this.ngIf=null}}function S5(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${kn(n)}'.`)}let C5=(()=>{class e{constructor(t,y,L){this._ngEl=t,this._differs=y,this._renderer=L,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,y){const[L,K]=t.split("."),me=-1===L.indexOf("-")?void 0:ql.DashCase;null!=y?this._renderer.setStyle(this._ngEl.nativeElement,L,K?`${y}${K}`:y,me):this._renderer.removeStyle(this._ngEl.nativeElement,L,me)}_applyChanges(t){t.forEachRemovedItem(y=>this._setStyle(y.key,null)),t.forEachAddedItem(y=>this._setStyle(y.key,y.currentValue)),t.forEachChangedItem(y=>this._setStyle(y.key,y.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(Wn(ci),Wn(y0),Wn(Jo))},e.\u0275dir=Br({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),rd=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const y=this._viewContainerRef;if(this._viewRef&&y.remove(y.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:L,ngTemplateOutletContext:K,ngTemplateOutletInjector:me}=this;this._viewRef=y.createEmbeddedView(L,K,me?{injector:me}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(Wn(kc))},e.\u0275dir=Br({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Li]}),e})();function ef(e,n){return new $t(2100,!1)}const YD=new gi("DATE_PIPE_DEFAULT_TIMEZONE"),XD=new gi("DATE_PIPE_DEFAULT_OPTIONS");let D5=(()=>{class e{constructor(t,y,L){this.locale=t,this.defaultTimezone=y,this.defaultOptions=L}transform(t,y,L,K){if(null==t||""===t||t!=t)return null;try{return p5(t,y??this.defaultOptions?.dateFormat??"mediumDate",K||this.locale,L??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(me){throw ef()}}}return e.\u0275fac=function(t){return new(t||e)(Wn(lc,16),Wn(YD,24),Wn(XD,24))},e.\u0275pipe=ma({name:"date",type:e,pure:!0,standalone:!0}),e})(),I5=(()=>{class e{constructor(t){this._locale=t}transform(t,y,L){if(!function $x(e){return!(null==e||""===e||e!=e)}(t))return null;L=L||this._locale;try{return function kD(e,n,t){return function jx(e,n,t,y,L,K,me=!1){let ze="",Ze=!1;if(isFinite(e)){let ot=function CD(e){let y,L,K,me,ze,n=Math.abs(e)+"",t=0;for((L=n.indexOf(Nv))>-1&&(n=n.replace(Nv,"")),(K=n.search(/e/i))>0?(L<0&&(L=K),L+=+n.slice(K+1),n=n.substring(0,K)):L<0&&(L=n.length),K=0;n.charAt(K)===fm;K++);if(K===(ze=n.length))y=[0],L=1;else{for(ze--;n.charAt(ze)===fm;)ze--;for(L-=K,y=[],me=0;K<=ze;K++,me++)y[me]=Number(n.charAt(K))}return L>y5&&(y=y.splice(0,y5-1),t=L-1,L=1),{digits:y,exponent:t,integerLen:L}}(e);me&&(ot=function ED(e){if(0===e.digits[0])return e;const n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===n?e.digits.push(0,0):1===n&&e.digits.push(0),e.integerLen+=2),e}(ot));let yt=n.minInt,zt=n.minFrac,Qt=n.maxFrac;if(K){const Dr=K.match(bD);if(null===Dr)throw new Error(`${K} is not a valid digit info`);const xr=Dr[1],qr=Dr[3],pi=Dr[5];null!=xr&&(yt=Vx(xr)),null!=qr&&(zt=Vx(qr)),null!=pi?Qt=Vx(pi):null!=qr&&zt>Qt&&(Qt=zt)}!function DD(e,n,t){if(n>t)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${t}).`);let y=e.digits,L=y.length-e.integerLen;const K=Math.min(Math.max(n,L),t);let me=K+e.integerLen,ze=y[me];if(me>0){y.splice(Math.max(e.integerLen,me));for(let zt=me;zt<y.length;zt++)y[zt]=0}else{L=Math.max(0,L),e.integerLen=1,y.length=Math.max(1,me=K+1),y[0]=0;for(let zt=1;zt<me;zt++)y[zt]=0}if(ze>=5)if(me-1<0){for(let zt=0;zt>me;zt--)y.unshift(0),e.integerLen++;y.unshift(1),e.integerLen++}else y[me-1]++;for(;L<Math.max(0,K);L++)y.push(0);let Ze=0!==K;const ot=n+e.integerLen,yt=y.reduceRight(function(zt,Qt,hn,Bn){return Bn[hn]=(Qt+=zt)<10?Qt:Qt-10,Ze&&(0===Bn[hn]&&hn>=ot?Bn.pop():Ze=!1),Qt>=10?1:0},0);yt&&(y.unshift(yt),e.integerLen++)}(ot,zt,Qt);let hn=ot.digits,Bn=ot.integerLen;const Kn=ot.exponent;let cr=[];for(Ze=hn.every(Dr=>!Dr);Bn<yt;Bn++)hn.unshift(0);for(;Bn<0;Bn++)hn.unshift(0);Bn>0?cr=hn.splice(Bn,hn.length):(cr=hn,hn=[0]);const vr=[];for(hn.length>=n.lgSize&&vr.unshift(hn.splice(-n.lgSize,hn.length).join(""));hn.length>n.gSize;)vr.unshift(hn.splice(-n.gSize,hn.length).join(""));hn.length&&vr.unshift(hn.join("")),ze=vr.join(Sc(t,y)),cr.length&&(ze+=Sc(t,L)+cr.join("")),Kn&&(ze+=Sc(t,Ei.Exponential)+"+"+Kn)}else ze=Sc(t,Ei.Infinity);return ze=e<0&&!Ze?n.negPre+ze+n.negSuf:n.posPre+ze+n.posSuf,ze}(e,function Ux(e,n="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},y=e.split(wD),L=y[0],K=y[1],me=-1!==L.indexOf(Nv)?L.split(Nv):[L.substring(0,L.lastIndexOf(fm)+1),L.substring(L.lastIndexOf(fm)+1)],ze=me[0],Ze=me[1]||"";t.posPre=ze.substring(0,ze.indexOf(Bx));for(let yt=0;yt<Ze.length;yt++){const zt=Ze.charAt(yt);zt===fm?t.minFrac=t.maxFrac=yt+1:zt===Bx?t.maxFrac=yt+1:t.posSuf+=zt}const ot=ze.split(TD);if(t.gSize=ot[1]?ot[1].length:0,t.lgSize=ot[2]||ot[1]?(ot[2]||ot[1]).length:0,K){const yt=L.length-t.posPre.length-t.posSuf.length,zt=K.indexOf(Bx);t.negPre=K.substring(0,zt).replace(/'/g,""),t.negSuf=K.slice(zt+yt).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}(function Lx(e,n){return Ru(e)[li.NumberFormats][n]}(n,Yu.Percent),Sc(n,Ei.MinusSign)),n,Ei.Group,Ei.Decimal,t,!0).replace(new RegExp("%","g"),Sc(n,Ei.PercentSign))}(function Zx(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(t),L,y)}catch(K){throw ef()}}}return e.\u0275fac=function(t){return new(t||e)(Wn(lc,16))},e.\u0275pipe=ma({name:"percent",type:e,pure:!0,standalone:!0}),e})();let Fv=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({}),e})();const P5="browser";let uO=(()=>{class e{}return e.\u0275prov=Rn({token:e,providedIn:"root",factory:()=>new cO(Nr(ps),window)}),e})();class cO{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function fO(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const y=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let L=y.currentNode;for(;L;){const K=L.shadowRoot;if(K){const me=K.getElementById(n)||K.querySelector(`[name="${n}"]`);if(me)return me}L=y.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),y=t.left+this.window.pageXOffset,L=t.top+this.window.pageYOffset,K=this.offset();this.window.scrollTo(y-K[0],L-K[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=R5(this.window.history)||R5(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function R5(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class L5{}class zO extends qC{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Kx extends zO{static makeCurrent(){!function WC(e){Dx||(Dx=e)}(new Kx)}onAndCancel(n,t,y){return n.addEventListener(t,y,!1),()=>{n.removeEventListener(t,y,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function BO(){return hm=hm||document.querySelector("base"),hm?hm.getAttribute("href"):null}();return null==t?null:function jO(e){jv=jv||document.createElement("a"),jv.setAttribute("href",e);const n=jv.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){hm=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return b5(document.cookie,n)}}let jv,hm=null;const j5=new gi("TRANSITION_ID"),VO=[{provide:bv,useFactory:function UO(e,n,t){return()=>{t.get(wv).donePromise.then(()=>{const y=ed(),L=n.querySelectorAll(`style[ng-transition="${e}"]`);for(let K=0;K<L.length;K++)y.remove(L[K])})}},deps:[j5,ps,ol],multi:!0}];let GO=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();const Uv=new gi("EventManagerPlugins");let Vv=(()=>{class e{constructor(t,y){this._zone=y,this._eventNameToPlugin=new Map,t.forEach(L=>{L.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,y,L){return this._findPluginFor(y).addEventListener(t,y,L)}addGlobalEventListener(t,y,L){return this._findPluginFor(y).addGlobalEventListener(t,y,L)}getZone(){return this._zone}_findPluginFor(t){const y=this._eventNameToPlugin.get(t);if(y)return y;const L=this._plugins;for(let K=0;K<L.length;K++){const me=L[K];if(me.supports(t))return this._eventNameToPlugin.set(t,me),me}throw new Error(`No event manager plugin found for event ${t}`)}}return e.\u0275fac=function(t){return new(t||e)(Nr(Uv),Nr(Bo))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();class U5{constructor(n){this._doc=n}addGlobalEventListener(n,t,y){const L=ed().getGlobalEventTarget(this._doc,n);if(!L)throw new Error(`Unsupported event target ${L} for event ${t}`);return this.addEventListener(L,t,y)}}let V5=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(t){for(const y of t)1===this.changeUsageCount(y,1)&&this.onStyleAdded(y)}removeStyles(t){for(const y of t)0===this.changeUsageCount(y,-1)&&this.onStyleRemoved(y)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,y){const L=this.usageCount;let K=L.get(t)??0;return K+=y,K>0?L.set(t,K):L.delete(t),K}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})(),pm=(()=>{class e extends V5{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const y of this.hostNodes)this.addStyleToHost(y,t)}onStyleRemoved(t){const y=this.styleRef;y.get(t)?.forEach(K=>K.remove()),y.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const y of this.getAllStyles())this.addStyleToHost(t,y)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,y){const L=this.doc.createElement("style");L.textContent=y,t.appendChild(L);const K=this.styleRef.get(y);K?K.push(L):this.styleRef.set(y,[L])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return e.\u0275fac=function(t){return new(t||e)(Nr(ps))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();const Jx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qx=/%COMP%/g,W5=new gi("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function q5(e,n){return n.flat(100).map(t=>t.replace(Qx,e))}function $5(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}let eb=(()=>{class e{constructor(t,y,L,K){this.eventManager=t,this.sharedStylesHost=y,this.appId=L,this.removeStylesOnCompDestory=K,this.rendererByCompId=new Map,this.defaultRenderer=new tb(t)}createRenderer(t,y){if(!t||!y)return this.defaultRenderer;const L=this.getOrCreateRenderer(t,y);return L instanceof X5?L.applyToHost(t):L instanceof nb&&L.applyStyles(),L}getOrCreateRenderer(t,y){const L=this.rendererByCompId;let K=L.get(y.id);if(!K){const me=this.eventManager,ze=this.sharedStylesHost,Ze=this.removeStylesOnCompDestory;switch(y.encapsulation){case Ws.Emulated:K=new X5(me,ze,y,this.appId,Ze);break;case Ws.ShadowDom:return new KO(me,ze,t,y);default:K=new nb(me,ze,y,Ze)}K.onDestroy=()=>L.delete(y.id),L.set(y.id,K)}return K}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(Nr(Vv),Nr(pm),Nr(lm),Nr(W5))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();class tb{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(Jx[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){(Y5(n)?n.content:n).appendChild(t)}insertBefore(n,t,y){n&&(Y5(n)?n.content:n).insertBefore(t,y)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let y="string"==typeof n?document.querySelector(n):n;if(!y)throw new Error(`The selector "${n}" did not match any elements`);return t||(y.textContent=""),y}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,y,L){if(L){t=L+":"+t;const K=Jx[L];K?n.setAttributeNS(K,t,y):n.setAttribute(t,y)}else n.setAttribute(t,y)}removeAttribute(n,t,y){if(y){const L=Jx[y];L?n.removeAttributeNS(L,t):n.removeAttribute(`${y}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,y,L){L&(ql.DashCase|ql.Important)?n.style.setProperty(t,y,L&ql.Important?"important":""):n.style[t]=y}removeStyle(n,t,y){y&ql.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,y){n[t]=y}setValue(n,t){n.nodeValue=t}listen(n,t,y){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,$5(y)):this.eventManager.addEventListener(n,t,$5(y))}}function Y5(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class KO extends tb{constructor(n,t,y,L){super(n),this.sharedStylesHost=t,this.hostEl=y,this.shadowRoot=y.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const K=q5(L.id,L.styles);for(const me of K){const ze=document.createElement("style");ze.textContent=me,this.shadowRoot.appendChild(ze)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,y){return super.insertBefore(this.nodeOrShadowRoot(n),t,y)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class nb extends tb{constructor(n,t,y,L,K=y.id){super(n),this.sharedStylesHost=t,this.removeStylesOnCompDestory=L,this.rendererUsageCount=0,this.styles=q5(K,y.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class X5 extends nb{constructor(n,t,y,L,K){const me=L+"-"+y.id;super(n,t,y,K,me),this.contentAttr=function ZO(e){return"_ngcontent-%COMP%".replace(Qx,e)}(me),this.hostAttr=function YO(e){return"_nghost-%COMP%".replace(Qx,e)}(me)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const y=super.createElement(n,t);return super.setAttribute(y,this.contentAttr,""),y}}let JO=(()=>{class e extends U5{constructor(t){super(t)}supports(t){return!0}addEventListener(t,y,L){return t.addEventListener(y,L,!1),()=>this.removeEventListener(t,y,L)}removeEventListener(t,y,L){return t.removeEventListener(y,L)}}return e.\u0275fac=function(t){return new(t||e)(Nr(ps))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();const K5=["alt","control","meta","shift"],QO={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},e7={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let t7=(()=>{class e extends U5{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,y,L){const K=e.parseEventName(y),me=e.eventCallback(K.fullKey,L,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ed().onAndCancel(t,K.domEventName,me))}static parseEventName(t){const y=t.toLowerCase().split("."),L=y.shift();if(0===y.length||"keydown"!==L&&"keyup"!==L)return null;const K=e._normalizeKey(y.pop());let me="",ze=y.indexOf("code");if(ze>-1&&(y.splice(ze,1),me="code."),K5.forEach(ot=>{const yt=y.indexOf(ot);yt>-1&&(y.splice(yt,1),me+=ot+".")}),me+=K,0!=y.length||0===K.length)return null;const Ze={};return Ze.domEventName=L,Ze.fullKey=me,Ze}static matchEventFullKeyCode(t,y){let L=QO[t.key]||t.key,K="";return y.indexOf("code.")>-1&&(L=t.code,K="code."),!(null==L||!L)&&(L=L.toLowerCase()," "===L?L="space":"."===L&&(L="dot"),K5.forEach(me=>{me!==L&&(0,e7[me])(t)&&(K+=me+".")}),K+=L,K===y)}static eventCallback(t,y,L){return K=>{e.matchEventFullKeyCode(K,t)&&L.runGuarded(()=>y(K))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(Nr(ps))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();const o7=UT(VC,"browser",[{provide:Tv,useValue:P5},{provide:DT,useValue:function n7(){Kx.makeCurrent()},multi:!0},{provide:ps,useFactory:function i7(){return function To(e){Uf=e}(document),document},deps:[]}]),eM=new gi(""),tM=[{provide:Mv,useClass:class HO{addToWindow(n){Xi.getAngularTestability=(y,L=!0)=>{const K=n.findTestabilityInTree(y,L);if(null==K)throw new Error("Could not find testability for element.");return K},Xi.getAllAngularTestabilities=()=>n.getAllTestabilities(),Xi.getAllAngularRootElements=()=>n.getAllRootElements(),Xi.frameworkStabilizers||(Xi.frameworkStabilizers=[]),Xi.frameworkStabilizers.push(y=>{const L=Xi.getAllAngularTestabilities();let K=L.length,me=!1;const ze=function(Ze){me=me||Ze,K--,0==K&&y(me)};L.forEach(function(Ze){Ze.whenStable(ze)})})}findTestabilityInTree(n,t,y){return null==t?null:n.getTestability(t)??(y?ed().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:NT,useClass:xx,deps:[Bo,bx,Mv]},{provide:xx,useClass:xx,deps:[Bo,bx,Mv]}],nM=[{provide:Ai,useValue:"root"},{provide:$c,useFactory:function r7(){return new $c},deps:[]},{provide:Uv,useClass:JO,multi:!0,deps:[ps,Bo,Tv]},{provide:Uv,useClass:t7,multi:!0,deps:[ps]},{provide:eb,useClass:eb,deps:[Vv,pm,lm,W5]},{provide:As,useExisting:eb},{provide:V5,useExisting:pm},{provide:pm,useClass:pm,deps:[ps]},{provide:Vv,useClass:Vv,deps:[Uv,Bo]},{provide:L5,useClass:GO,deps:[]},[]];let a7=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:lm,useValue:t.appId},{provide:j5,useExisting:lm},VO]}}}return e.\u0275fac=function(t){return new(t||e)(Nr(eM,12))},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({providers:[...nM,...tM],imports:[Fv,HC]}),e})(),rM=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(Nr(ps))},e.\u0275prov=Rn({token:e,factory:function(t){let y=null;return y=t?new t:function l7(){return new rM(Nr(ps))}(),y},providedIn:"root"}),e})();function Mi(...e){return ln(e,qt(e))}function Yd(e,n){return zi(n)?wt(e,n,1):wt(e,1)}function ul(e,n){return G((t,y)=>{let L=0;t.subscribe(Y(y,K=>e.call(n,K,L++)&&y.next(K)))})}typeof window<"u"&&window;class Hv{}class ob{}class id{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const y=t.indexOf(":");if(y>0){const L=t.slice(0,y),K=L.toLowerCase(),me=t.slice(y+1).trim();this.maybeSetNormalizedName(L,K),this.headers.has(K)?this.headers.get(K).push(me):this.headers.set(K,[me])}})}:()=>{this.headers=new Map,Object.entries(n).forEach(([t,y])=>{let L;if(L="string"==typeof y?[y]:"number"==typeof y?[y.toString()]:y.map(K=>K.toString()),L.length>0){const K=t.toLowerCase();this.headers.set(K,L),this.maybeSetNormalizedName(t,K)}})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof id?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new id;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof id?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let y=n.value;if("string"==typeof y&&(y=[y]),0===y.length)return;this.maybeSetNormalizedName(n.name,t);const L=("a"===n.op?this.headers.get(t):void 0)||[];L.push(...y),this.headers.set(t,L);break;case"d":const K=n.value;if(K){let me=this.headers.get(t);if(!me)return;me=me.filter(ze=>-1===K.indexOf(ze)),0===me.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,me)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class p7{encodeKey(n){return aM(n)}encodeValue(n){return aM(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const m7=/%(\d[a-f0-9])/gi,v7={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aM(e){return encodeURIComponent(e).replace(m7,(n,t)=>v7[t]??n)}function Gv(e){return`${e}`}class Xd{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new p7,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function g7(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(L=>{const K=L.indexOf("="),[me,ze]=-1==K?[n.decodeKey(L),""]:[n.decodeKey(L.slice(0,K)),n.decodeValue(L.slice(K+1))],Ze=t.get(me)||[];Ze.push(ze),t.set(me,Ze)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const y=n.fromObject[t],L=Array.isArray(y)?y.map(Gv):[Gv(y)];this.map.set(t,L)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(y=>{const L=n[y];Array.isArray(L)?L.forEach(K=>{t.push({param:y,value:K,op:"a"})}):t.push({param:y,value:L,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(y=>t+"="+this.encoder.encodeValue(y)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Xd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Gv(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let y=this.map.get(n.param)||[];const L=y.indexOf(Gv(n.value));-1!==L&&y.splice(L,1),y.length>0?this.map.set(n.param,y):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class y7{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function sM(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function lM(e){return typeof Blob<"u"&&e instanceof Blob}function uM(e){return typeof FormData<"u"&&e instanceof FormData}class gm{constructor(n,t,y,L){let K;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function _7(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||L?(this.body=void 0!==y?y:null,K=L):K=y,K&&(this.reportProgress=!!K.reportProgress,this.withCredentials=!!K.withCredentials,K.responseType&&(this.responseType=K.responseType),K.headers&&(this.headers=K.headers),K.context&&(this.context=K.context),K.params&&(this.params=K.params)),this.headers||(this.headers=new id),this.context||(this.context=new y7),this.params){const me=this.params.toString();if(0===me.length)this.urlWithParams=t;else{const ze=t.indexOf("?");this.urlWithParams=t+(-1===ze?"?":ze<t.length-1?"&":"")+me}}else this.params=new Xd,this.urlWithParams=t}serializeBody(){return null===this.body?null:sM(this.body)||lM(this.body)||uM(this.body)||function x7(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uM(this.body)?null:lM(this.body)?this.body.type||null:sM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,y=n.url||this.url,L=n.responseType||this.responseType,K=void 0!==n.body?n.body:this.body,me=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,ze=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let Ze=n.headers||this.headers,ot=n.params||this.params;const yt=n.context??this.context;return void 0!==n.setHeaders&&(Ze=Object.keys(n.setHeaders).reduce((zt,Qt)=>zt.set(Qt,n.setHeaders[Qt]),Ze)),n.setParams&&(ot=Object.keys(n.setParams).reduce((zt,Qt)=>zt.set(Qt,n.setParams[Qt]),ot)),new gm(t,y,K,{params:ot,headers:Ze,context:yt,reportProgress:ze,responseType:L,withCredentials:me})}}var js=(()=>((js=js||{})[js.Sent=0]="Sent",js[js.UploadProgress=1]="UploadProgress",js[js.ResponseHeader=2]="ResponseHeader",js[js.DownloadProgress=3]="DownloadProgress",js[js.Response=4]="Response",js[js.User=5]="User",js))();class ab{constructor(n,t=200,y="OK"){this.headers=n.headers||new id,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||y,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class sb extends ab{constructor(n={}){super(n),this.type=js.ResponseHeader}clone(n={}){return new sb({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Wv extends ab{constructor(n={}){super(n),this.type=js.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Wv({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class cM extends ab{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function lb(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let fM=(()=>{class e{constructor(t){this.handler=t}request(t,y,L={}){let K;if(t instanceof gm)K=t;else{let Ze,ot;Ze=L.headers instanceof id?L.headers:new id(L.headers),L.params&&(ot=L.params instanceof Xd?L.params:new Xd({fromObject:L.params})),K=new gm(t,y,void 0!==L.body?L.body:null,{headers:Ze,context:L.context,params:ot,reportProgress:L.reportProgress,responseType:L.responseType||"json",withCredentials:L.withCredentials})}const me=Mi(K).pipe(Yd(Ze=>this.handler.handle(Ze)));if(t instanceof gm||"events"===L.observe)return me;const ze=me.pipe(ul(Ze=>Ze instanceof Wv));switch(L.observe||"body"){case"body":switch(K.responseType){case"arraybuffer":return ze.pipe(te(Ze=>{if(null!==Ze.body&&!(Ze.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ze.body}));case"blob":return ze.pipe(te(Ze=>{if(null!==Ze.body&&!(Ze.body instanceof Blob))throw new Error("Response is not a Blob.");return Ze.body}));case"text":return ze.pipe(te(Ze=>{if(null!==Ze.body&&"string"!=typeof Ze.body)throw new Error("Response is not a string.");return Ze.body}));default:return ze.pipe(te(Ze=>Ze.body))}case"response":return ze;default:throw new Error(`Unreachable: unhandled observe type ${L.observe}}`)}}delete(t,y={}){return this.request("DELETE",t,y)}get(t,y={}){return this.request("GET",t,y)}head(t,y={}){return this.request("HEAD",t,y)}jsonp(t,y){return this.request("JSONP",t,{params:(new Xd).append(y,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,y={}){return this.request("OPTIONS",t,y)}patch(t,y,L={}){return this.request("PATCH",t,lb(L,y))}post(t,y,L={}){return this.request("POST",t,lb(L,y))}put(t,y,L={}){return this.request("PUT",t,lb(L,y))}}return e.\u0275fac=function(t){return new(t||e)(Nr(Hv))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();function dM(e,n){return n(e)}function b7(e,n){return(t,y)=>n.intercept(t,{handle:L=>e(L,y)})}const T7=new gi("HTTP_INTERCEPTORS"),mm=new gi("HTTP_INTERCEPTOR_FNS");function M7(){let e=null;return(n,t)=>(null===e&&(e=(mi(T7,{optional:!0})??[]).reduceRight(b7,dM)),e(n,t))}let hM=(()=>{class e extends Hv{constructor(t,y){super(),this.backend=t,this.injector=y,this.chain=null}handle(t){if(null===this.chain){const y=Array.from(new Set(this.injector.get(mm)));this.chain=y.reduceRight((L,K)=>function w7(e,n,t){return(y,L)=>t.runInContext(()=>n(y,K=>e(K,L)))}(L,K,this.injector),dM)}return this.chain(t,y=>this.backend.handle(y))}}return e.\u0275fac=function(t){return new(t||e)(Nr(ob),Nr(qi))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();const E7=/^\)\]\}',?\n/;let gM=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new R(y=>{const L=this.xhrFactory.build();if(L.open(t.method,t.urlWithParams),t.withCredentials&&(L.withCredentials=!0),t.headers.forEach((hn,Bn)=>L.setRequestHeader(hn,Bn.join(","))),t.headers.has("Accept")||L.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const hn=t.detectContentTypeHeader();null!==hn&&L.setRequestHeader("Content-Type",hn)}if(t.responseType){const hn=t.responseType.toLowerCase();L.responseType="json"!==hn?hn:"text"}const K=t.serializeBody();let me=null;const ze=()=>{if(null!==me)return me;const hn=L.statusText||"OK",Bn=new id(L.getAllResponseHeaders()),Kn=function C7(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(L)||t.url;return me=new sb({headers:Bn,status:L.status,statusText:hn,url:Kn}),me},Ze=()=>{let{headers:hn,status:Bn,statusText:Kn,url:cr}=ze(),vr=null;204!==Bn&&(vr=typeof L.response>"u"?L.responseText:L.response),0===Bn&&(Bn=vr?200:0);let Dr=Bn>=200&&Bn<300;if("json"===t.responseType&&"string"==typeof vr){const xr=vr;vr=vr.replace(E7,"");try{vr=""!==vr?JSON.parse(vr):null}catch(qr){vr=xr,Dr&&(Dr=!1,vr={error:qr,text:vr})}}Dr?(y.next(new Wv({body:vr,headers:hn,status:Bn,statusText:Kn,url:cr||void 0})),y.complete()):y.error(new cM({error:vr,headers:hn,status:Bn,statusText:Kn,url:cr||void 0}))},ot=hn=>{const{url:Bn}=ze(),Kn=new cM({error:hn,status:L.status||0,statusText:L.statusText||"Unknown Error",url:Bn||void 0});y.error(Kn)};let yt=!1;const zt=hn=>{yt||(y.next(ze()),yt=!0);let Bn={type:js.DownloadProgress,loaded:hn.loaded};hn.lengthComputable&&(Bn.total=hn.total),"text"===t.responseType&&L.responseText&&(Bn.partialText=L.responseText),y.next(Bn)},Qt=hn=>{let Bn={type:js.UploadProgress,loaded:hn.loaded};hn.lengthComputable&&(Bn.total=hn.total),y.next(Bn)};return L.addEventListener("load",Ze),L.addEventListener("error",ot),L.addEventListener("timeout",ot),L.addEventListener("abort",ot),t.reportProgress&&(L.addEventListener("progress",zt),null!==K&&L.upload&&L.upload.addEventListener("progress",Qt)),L.send(K),y.next({type:js.Sent}),()=>{L.removeEventListener("error",ot),L.removeEventListener("abort",ot),L.removeEventListener("load",Ze),L.removeEventListener("timeout",ot),t.reportProgress&&(L.removeEventListener("progress",zt),null!==K&&L.upload&&L.upload.removeEventListener("progress",Qt)),L.readyState!==L.DONE&&L.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(Nr(L5))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();const ub=new gi("XSRF_ENABLED"),mM=new gi("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),vM=new gi("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class yM{}let I7=(()=>{class e{constructor(t,y,L){this.doc=t,this.platform=y,this.cookieName=L,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=b5(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(Nr(ps),Nr(Tv),Nr(mM))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();function P7(e,n){const t=e.url.toLowerCase();if(!mi(ub)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const y=mi(yM).getToken(),L=mi(vM);return null!=y&&!e.headers.has(L)&&(e=e.clone({headers:e.headers.set(L,y)})),n(e)}var Ss=(()=>((Ss=Ss||{})[Ss.Interceptors=0]="Interceptors",Ss[Ss.LegacyInterceptors=1]="LegacyInterceptors",Ss[Ss.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ss[Ss.NoXsrfProtection=3]="NoXsrfProtection",Ss[Ss.JsonpSupport=4]="JsonpSupport",Ss[Ss.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ss))();function x0(e,n){return{\u0275kind:e,\u0275providers:n}}function R7(...e){const n=[fM,gM,hM,{provide:Hv,useExisting:hM},{provide:ob,useExisting:gM},{provide:mm,useValue:P7,multi:!0},{provide:ub,useValue:!0},{provide:yM,useClass:I7}];for(const t of e)n.push(...t.\u0275providers);return function ar(e){return{\u0275providers:e}}(n)}const _M=new gi("LEGACY_INTERCEPTOR_FN");let N7=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({providers:[R7(x0(Ss.LegacyInterceptors,[{provide:_M,useFactory:M7},{provide:mm,useExisting:_M,multi:!0}]))]}),e})();class Il extends Z{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:y}=this;if(n)throw t;return this._throwIfClosed(),y}next(n){super.next(this._value=n)}}const qv=ae(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:F7}=Array,{getPrototypeOf:z7,prototype:B7,keys:j7}=Object;const{isArray:V7}=Array;function cb(e){return te(n=>function H7(e,n){return V7(n)?e(...n):e(n)}(e,n))}function $v(...e){const n=qt(e),t=Wt(e),{args:y,keys:L}=function xM(e){if(1===e.length){const n=e[0];if(F7(n))return{args:n,keys:null};if(function U7(e){return e&&"object"==typeof e&&z7(e)===B7}(n)){const t=j7(n);return{args:t.map(y=>n[y]),keys:t}}}return{args:e,keys:null}}(e);if(0===y.length)return ln([],n);const K=new R(function G7(e,n,t=k){return y=>{wM(n,()=>{const{length:L}=e,K=new Array(L);let me=L,ze=L;for(let Ze=0;Ze<L;Ze++)wM(n,()=>{const ot=ln(e[Ze],n);let yt=!1;ot.subscribe(Y(y,zt=>{K[Ze]=zt,yt||(yt=!0,ze--),ze||y.next(t(K.slice()))},()=>{--me||y.complete()}))},y)},y)}}(y,n,L?me=>function bM(e,n){return e.reduce((t,y,L)=>(t[y]=n[L],t),{})}(L,me):k));return t?K.pipe(cb(t)):K}function wM(e,n,t){e?ut(t,e,n):n()}function vm(...e){return function W7(){return kt(1)}()(ln(e,qt(e)))}function TM(e){return new R(n=>{rt(e()).subscribe(n)})}function ym(e,n){const t=zi(e)?e:()=>e,y=L=>L.error(t());return new R(n?L=>n.schedule(y,0,L):y)}function fb(){return G((e,n)=>{let t=null;e._refCount++;const y=Y(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const L=e._connection,K=t;t=null,L&&(!K||L===K)&&L.unsubscribe(),n.unsubscribe()});e.subscribe(y),y.closed||(t=e.connect())})}class MM extends R{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,H(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new D;const t=this.getSubject();n.add(this.source.subscribe(Y(t,void 0,()=>{this._teardown(),t.complete()},y=>{this._teardown(),t.error(y)},()=>this._teardown()))),n.closed&&(this._connection=null,n=D.EMPTY)}return n}refCount(){return fb()(this)}}function Cc(e,n){return G((t,y)=>{let L=null,K=0,me=!1;const ze=()=>me&&!L&&y.complete();t.subscribe(Y(y,Ze=>{L?.unsubscribe();let ot=0;const yt=K++;rt(e(Ze,yt)).subscribe(L=Y(y,zt=>y.next(n?n(Ze,zt,yt,ot++):zt),()=>{L=null,ze()}))},()=>{me=!0,ze()}))})}function Us(e){return e<=0?()=>_t:G((n,t)=>{let y=0;n.subscribe(Y(t,L=>{++y<=e&&(t.next(L),e<=y&&t.complete())}))})}function Zv(...e){const n=qt(e);return G((t,y)=>{(n?vm(e,t,n):vm(e,t)).subscribe(y)})}function Yv(e){return G((n,t)=>{let y=!1;n.subscribe(Y(t,L=>{y=!0,t.next(L)},()=>{y||t.next(e),t.complete()}))})}function AM(e=q7){return G((n,t)=>{let y=!1;n.subscribe(Y(t,L=>{y=!0,t.next(L)},()=>y?t.complete():t.error(e())))})}function q7(){return new qv}function Kd(e,n){const t=arguments.length>=2;return y=>y.pipe(e?ul((L,K)=>e(L,K,y)):k,Us(1),t?Yv(n):AM(()=>new qv))}function Pl(e,n,t){const y=zi(e)||n||t?{next:e,error:n,complete:t}:e;return y?G((L,K)=>{var me;null===(me=y.subscribe)||void 0===me||me.call(y);let ze=!0;L.subscribe(Y(K,Ze=>{var ot;null===(ot=y.next)||void 0===ot||ot.call(y,Ze),K.next(Ze)},()=>{var Ze;ze=!1,null===(Ze=y.complete)||void 0===Ze||Ze.call(y),K.complete()},Ze=>{var ot;ze=!1,null===(ot=y.error)||void 0===ot||ot.call(y,Ze),K.error(Ze)},()=>{var Ze,ot;ze&&(null===(Ze=y.unsubscribe)||void 0===Ze||Ze.call(y)),null===(ot=y.finalize)||void 0===ot||ot.call(y)}))}):k}function Jd(e){return G((n,t)=>{let K,y=null,L=!1;y=n.subscribe(Y(t,void 0,void 0,me=>{K=rt(e(me,Jd(e)(n))),y?(y.unsubscribe(),y=null,K.subscribe(t)):L=!0})),L&&(y.unsubscribe(),y=null,K.subscribe(t))})}function kM(e,n){return G(function $7(e,n,t,y,L){return(K,me)=>{let ze=t,Ze=n,ot=0;K.subscribe(Y(me,yt=>{const zt=ot++;Ze=ze?e(Ze,yt,zt):(ze=!0,yt),y&&me.next(Ze)},L&&(()=>{ze&&me.next(Ze),me.complete()})))}}(e,n,arguments.length>=2,!0))}function db(e){return e<=0?()=>_t:G((n,t)=>{let y=[];n.subscribe(Y(t,L=>{y.push(L),e<y.length&&y.shift()},()=>{for(const L of y)t.next(L);t.complete()},void 0,()=>{y=null}))})}function SM(e,n){const t=arguments.length>=2;return y=>y.pipe(e?ul((L,K)=>e(L,K,y)):k,db(1),t?Yv(n):AM(()=>new qv))}function hb(e){return G((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const $i="primary",_m=Symbol("RouteTitle");class Y7{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function b0(e){return new Y7(e)}function X7(e,n,t){const y=t.path.split("/");if(y.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||y.length<e.length))return null;const L={};for(let K=0;K<y.length;K++){const me=y[K],ze=e[K];if(me.startsWith(":"))L[me.substring(1)]=ze;else if(me!==ze.path)return null}return{consumed:e.slice(0,y.length),posParams:L}}function kf(e,n){const t=e?Object.keys(e):void 0,y=n?Object.keys(n):void 0;if(!t||!y||t.length!=y.length)return!1;let L;for(let K=0;K<t.length;K++)if(L=t[K],!CM(e[L],n[L]))return!1;return!0}function CM(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),y=[...n].sort();return t.every((L,K)=>y[K]===L)}return e===n}function DM(e){return Array.prototype.concat.apply([],e)}function OM(e){return e.length>0?e[e.length-1]:null}function Yl(e,n){for(const t in e)e.hasOwnProperty(t)&&n(e[t],t)}function Qd(e){return U_(e)?e:Yg(e)?ln(Promise.resolve(e)):Mi(e)}const Xv=!1,J7={exact:function RM(e,n,t){if(!qh(e.segments,n.segments)||!Kv(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const y in n.children)if(!e.children[y]||!RM(e.children[y],n.children[y],t))return!1;return!0},subset:LM},IM={exact:function Q7(e,n){return kf(e,n)},subset:function e9(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>CM(e[t],n[t]))},ignored:()=>!0};function PM(e,n,t){return J7[t.paths](e.root,n.root,t.matrixParams)&&IM[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function LM(e,n,t){return NM(e,n,n.segments,t)}function NM(e,n,t,y){if(e.segments.length>t.length){const L=e.segments.slice(0,t.length);return!(!qh(L,t)||n.hasChildren()||!Kv(L,t,y))}if(e.segments.length===t.length){if(!qh(e.segments,t)||!Kv(e.segments,t,y))return!1;for(const L in n.children)if(!e.children[L]||!LM(e.children[L],n.children[L],y))return!1;return!0}{const L=t.slice(0,e.segments.length),K=t.slice(e.segments.length);return!!(qh(e.segments,L)&&Kv(e.segments,L,y)&&e.children[$i])&&NM(e.children[$i],n,K,y)}}function Kv(e,n,t){return n.every((y,L)=>IM[t](e[L].parameters,y.parameters))}class eh{constructor(n=new uo([],{}),t={},y=null){this.root=n,this.queryParams=t,this.fragment=y}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=b0(this.queryParams)),this._queryParamMap}toString(){return r9.serialize(this)}}class uo{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Yl(t,(y,L)=>y.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jv(this)}}class xm{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=b0(this.parameters)),this._parameterMap}toString(){return BM(this)}}function qh(e,n){return e.length===n.length&&e.every((t,y)=>t.path===n[y].path)}let bm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(){return new pb},providedIn:"root"}),e})();class pb{parse(n){const t=new d9(n);return new eh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${wm(n.root,!0)}`,y=function a9(e){const n=Object.keys(e).map(t=>{const y=e[t];return Array.isArray(y)?y.map(L=>`${Qv(t)}=${Qv(L)}`).join("&"):`${Qv(t)}=${Qv(y)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${y}${"string"==typeof n.fragment?`#${function i9(e){return encodeURI(e)}(n.fragment)}`:""}`}}const r9=new pb;function Jv(e){return e.segments.map(n=>BM(n)).join("/")}function wm(e,n){if(!e.hasChildren())return Jv(e);if(n){const t=e.children[$i]?wm(e.children[$i],!1):"",y=[];return Yl(e.children,(L,K)=>{K!==$i&&y.push(`${K}:${wm(L,!1)}`)}),y.length>0?`${t}(${y.join("//")})`:t}{const t=function n9(e,n){let t=[];return Yl(e.children,(y,L)=>{L===$i&&(t=t.concat(n(y,L)))}),Yl(e.children,(y,L)=>{L!==$i&&(t=t.concat(n(y,L)))}),t}(e,(y,L)=>L===$i?[wm(e.children[$i],!1)]:[`${L}:${wm(y,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[$i]?`${Jv(e)}/${t[0]}`:`${Jv(e)}/(${t.join("//")})`}}function FM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qv(e){return FM(e).replace(/%3B/gi,";")}function gb(e){return FM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ey(e){return decodeURIComponent(e)}function zM(e){return ey(e.replace(/\+/g,"%20"))}function BM(e){return`${gb(e.path)}${function o9(e){return Object.keys(e).map(n=>`;${gb(n)}=${gb(e[n])}`).join("")}(e.parameters)}`}const s9=/^[^\/()?;=#]+/;function ty(e){const n=e.match(s9);return n?n[0]:""}const l9=/^[^=?&#]+/,c9=/^[^&#]+/;class d9{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new uo([],{}):new uo([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let y={};return this.peekStartsWith("(")&&(y=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(y[$i]=new uo(n,t)),y}parseSegment(){const n=ty(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new $t(4009,Xv);return this.capture(n),new xm(ey(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=ty(this.remaining);if(!t)return;this.capture(t);let y="";if(this.consumeOptional("=")){const L=ty(this.remaining);L&&(y=L,this.capture(y))}n[ey(t)]=ey(y)}parseQueryParam(n){const t=function u9(e){const n=e.match(l9);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let y="";if(this.consumeOptional("=")){const me=function f9(e){const n=e.match(c9);return n?n[0]:""}(this.remaining);me&&(y=me,this.capture(y))}const L=zM(t),K=zM(y);if(n.hasOwnProperty(L)){let me=n[L];Array.isArray(me)||(me=[me],n[L]=me),me.push(K)}else n[L]=K}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const y=ty(this.remaining),L=this.remaining[y.length];if("/"!==L&&")"!==L&&";"!==L)throw new $t(4010,Xv);let K;y.indexOf(":")>-1?(K=y.slice(0,y.indexOf(":")),this.capture(K),this.capture(":")):n&&(K=$i);const me=this.parseChildren();t[K]=1===Object.keys(me).length?me[$i]:new uo([],me),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new $t(4011,Xv)}}function mb(e){return e.segments.length>0?new uo([],{[$i]:e}):e}function ny(e){const n={};for(const y of Object.keys(e.children)){const K=ny(e.children[y]);(K.segments.length>0||K.hasChildren())&&(n[y]=K)}return function h9(e){if(1===e.numberOfChildren&&e.children[$i]){const n=e.children[$i];return new uo(e.segments.concat(n.segments),n.children)}return e}(new uo(e.segments,n))}function $h(e){return e instanceof eh}const vb=!1;function p9(e,n,t,y,L){if(0===t.length)return w0(n.root,n.root,n.root,y,L);const K=function GM(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new HM(!0,0,e);let n=0,t=!1;const y=e.reduce((L,K,me)=>{if("object"==typeof K&&null!=K){if(K.outlets){const ze={};return Yl(K.outlets,(Ze,ot)=>{ze[ot]="string"==typeof Ze?Ze.split("/"):Ze}),[...L,{outlets:ze}]}if(K.segmentPath)return[...L,K.segmentPath]}return"string"!=typeof K?[...L,K]:0===me?(K.split("/").forEach((ze,Ze)=>{0==Ze&&"."===ze||(0==Ze&&""===ze?t=!0:".."===ze?n++:""!=ze&&L.push(ze))}),L):[...L,K]},[]);return new HM(t,n,y)}(t);return K.toRoot()?w0(n.root,n.root,new uo([],{}),y,L):function me(Ze){const ot=function m9(e,n,t,y){if(e.isAbsolute)return new T0(n.root,!0,0);if(-1===y)return new T0(t,t===n.root,0);return function WM(e,n,t){let y=e,L=n,K=t;for(;K>L;){if(K-=L,y=y.parent,!y)throw new $t(4005,vb&&"Invalid number of '../'");L=y.segments.length}return new T0(y,!1,L-K)}(t,y+(Tm(e.commands[0])?0:1),e.numberOfDoubleDots)}(K,n,e.snapshot?._urlSegment,Ze),yt=ot.processChildren?M0(ot.segmentGroup,ot.index,K.commands):yb(ot.segmentGroup,ot.index,K.commands);return w0(n.root,ot.segmentGroup,yt,y,L)}(e.snapshot?._lastPathIndex)}function Tm(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Mm(e){return"object"==typeof e&&null!=e&&e.outlets}function w0(e,n,t,y,L){let me,K={};y&&Yl(y,(Ze,ot)=>{K[ot]=Array.isArray(Ze)?Ze.map(yt=>`${yt}`):`${Ze}`}),me=e===n?t:VM(e,n,t);const ze=mb(ny(me));return new eh(ze,K,L)}function VM(e,n,t){const y={};return Yl(e.children,(L,K)=>{y[K]=L===n?t:VM(L,n,t)}),new uo(e.segments,y)}class HM{constructor(n,t,y){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=y,n&&y.length>0&&Tm(y[0]))throw new $t(4003,vb&&"Root segment cannot have matrix parameters");const L=y.find(Mm);if(L&&L!==OM(y))throw new $t(4004,vb&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class T0{constructor(n,t,y){this.segmentGroup=n,this.processChildren=t,this.index=y}}function yb(e,n,t){if(e||(e=new uo([],{})),0===e.segments.length&&e.hasChildren())return M0(e,n,t);const y=function y9(e,n,t){let y=0,L=n;const K={match:!1,pathIndex:0,commandIndex:0};for(;L<e.segments.length;){if(y>=t.length)return K;const me=e.segments[L],ze=t[y];if(Mm(ze))break;const Ze=`${ze}`,ot=y<t.length-1?t[y+1]:null;if(L>0&&void 0===Ze)break;if(Ze&&ot&&"object"==typeof ot&&void 0===ot.outlets){if(!$M(Ze,ot,me))return K;y+=2}else{if(!$M(Ze,{},me))return K;y++}L++}return{match:!0,pathIndex:L,commandIndex:y}}(e,n,t),L=t.slice(y.commandIndex);if(y.match&&y.pathIndex<e.segments.length){const K=new uo(e.segments.slice(0,y.pathIndex),{});return K.children[$i]=new uo(e.segments.slice(y.pathIndex),e.children),M0(K,0,L)}return y.match&&0===L.length?new uo(e.segments,{}):y.match&&!e.hasChildren()?_b(e,n,t):y.match?M0(e,0,L):_b(e,n,t)}function M0(e,n,t){if(0===t.length)return new uo(e.segments,{});{const y=function v9(e){return Mm(e[0])?e[0].outlets:{[$i]:e}}(t),L={};if(!y[$i]&&e.children[$i]&&1===e.numberOfChildren&&0===e.children[$i].segments.length){const K=M0(e.children[$i],n,t);return new uo(e.segments,K.children)}return Yl(y,(K,me)=>{"string"==typeof K&&(K=[K]),null!==K&&(L[me]=yb(e.children[me],n,K))}),Yl(e.children,(K,me)=>{void 0===y[me]&&(L[me]=K)}),new uo(e.segments,L)}}function _b(e,n,t){const y=e.segments.slice(0,n);let L=0;for(;L<t.length;){const K=t[L];if(Mm(K)){const Ze=_9(K.outlets);return new uo(y,Ze)}if(0===L&&Tm(t[0])){y.push(new xm(e.segments[n].path,qM(t[0]))),L++;continue}const me=Mm(K)?K.outlets[$i]:`${K}`,ze=L<t.length-1?t[L+1]:null;me&&ze&&Tm(ze)?(y.push(new xm(me,qM(ze))),L+=2):(y.push(new xm(me,{})),L++)}return new uo(y,{})}function _9(e){const n={};return Yl(e,(t,y)=>{"string"==typeof t&&(t=[t]),null!==t&&(n[y]=_b(new uo([],{}),0,t))}),n}function qM(e){const n={};return Yl(e,(t,y)=>n[y]=`${t}`),n}function $M(e,n,t){return e==t.path&&kf(n,t.parameters)}const Am="imperative";class Sf{constructor(n,t){this.id=n,this.url=t}}class xb extends Sf{constructor(n,t,y="imperative",L=null){super(n,t),this.type=0,this.navigationTrigger=y,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zh extends Sf{constructor(n,t,y){super(n,t),this.urlAfterRedirects=y,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ry extends Sf{constructor(n,t,y,L){super(n,t),this.reason=y,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class iy extends Sf{constructor(n,t,y,L){super(n,t),this.reason=y,this.code=L,this.type=16}}class bb extends Sf{constructor(n,t,y,L){super(n,t),this.error=y,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class x9 extends Sf{constructor(n,t,y,L){super(n,t),this.urlAfterRedirects=y,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class b9 extends Sf{constructor(n,t,y,L){super(n,t),this.urlAfterRedirects=y,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w9 extends Sf{constructor(n,t,y,L,K){super(n,t),this.urlAfterRedirects=y,this.state=L,this.shouldActivate=K,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class T9 extends Sf{constructor(n,t,y,L){super(n,t),this.urlAfterRedirects=y,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M9 extends Sf{constructor(n,t,y,L){super(n,t),this.urlAfterRedirects=y,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class A9{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class k9{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class S9{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E9{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C9{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D9{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZM{constructor(n,t,y){this.routerEvent=n,this.position=t,this.anchor=y,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let P9=(()=>{class e{createUrlTree(t,y,L,K,me,ze){return p9(t||y.root,L,K,me,ze)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})(),L9=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(n){return P9.\u0275fac(n)},providedIn:"root"}),e})();class YM{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=wb(n,this._root);return t?t.children.map(y=>y.value):[]}firstChild(n){const t=wb(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Tb(n,this._root);return t.length<2?[]:t[t.length-2].children.map(L=>L.value).filter(L=>L!==n)}pathFromRoot(n){return Tb(n,this._root).map(t=>t.value)}}function wb(e,n){if(e===n.value)return n;for(const t of n.children){const y=wb(e,t);if(y)return y}return null}function Tb(e,n){if(e===n.value)return[n];for(const t of n.children){const y=Tb(e,t);if(y.length)return y.unshift(n),y}return[]}class od{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function A0(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class XM extends YM{constructor(n,t){super(n),this.snapshot=t,Mb(this,n)}toString(){return this.snapshot.toString()}}function KM(e,n){const t=function N9(e,n){const me=new oy([],{},{},"",{},$i,n,null,e.root,-1,{});return new QM("",new od(me,[]))}(e,n),y=new Il([new xm("",{})]),L=new Il({}),K=new Il({}),me=new Il({}),ze=new Il(""),Ze=new k0(y,L,me,ze,K,$i,n,t.root);return Ze.snapshot=t.root,new XM(new od(Ze,[]),t)}class k0{constructor(n,t,y,L,K,me,ze,Ze){this.url=n,this.params=t,this.queryParams=y,this.fragment=L,this.data=K,this.outlet=me,this.component=ze,this.title=this.data?.pipe(te(ot=>ot[_m]))??Mi(void 0),this._futureSnapshot=Ze}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(te(n=>b0(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(te(n=>b0(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function JM(e,n="emptyOnly"){const t=e.pathFromRoot;let y=0;if("always"!==n)for(y=t.length-1;y>=1;){const L=t[y],K=t[y-1];if(L.routeConfig&&""===L.routeConfig.path)y--;else{if(K.component)break;y--}}return function F9(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(y))}class oy{get title(){return this.data?.[_m]}constructor(n,t,y,L,K,me,ze,Ze,ot,yt,zt){this.url=n,this.params=t,this.queryParams=y,this.fragment=L,this.data=K,this.outlet=me,this.component=ze,this.routeConfig=Ze,this._urlSegment=ot,this._lastPathIndex=yt,this._resolve=zt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=b0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=b0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(y=>y.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class QM extends YM{constructor(n,t){super(t),this.url=n,Mb(this,t)}toString(){return eA(this._root)}}function Mb(e,n){n.value._routerState=e,n.children.forEach(t=>Mb(e,t))}function eA(e){const n=e.children.length>0?` { ${e.children.map(eA).join(", ")} } `:"";return`${e.value}${n}`}function Ab(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,kf(n.queryParams,t.queryParams)||e.queryParams.next(t.queryParams),n.fragment!==t.fragment&&e.fragment.next(t.fragment),kf(n.params,t.params)||e.params.next(t.params),function K7(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!kf(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.url.next(t.url),kf(n.data,t.data)||e.data.next(t.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function kb(e,n){const t=kf(e.params,n.params)&&function t9(e,n){return qh(e,n)&&e.every((t,y)=>kf(t.parameters,n[y].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||kb(e.parent,n.parent))}function km(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const y=t.value;y._futureSnapshot=n.value;const L=function B9(e,n,t){return n.children.map(y=>{for(const L of t.children)if(e.shouldReuseRoute(y.value,L.value.snapshot))return km(e,y,L);return km(e,y)})}(e,n,t);return new od(y,L)}{if(e.shouldAttach(n.value)){const K=e.retrieve(n.value);if(null!==K){const me=K.route;return me.value._futureSnapshot=n.value,me.children=n.children.map(ze=>km(e,ze)),me}}const y=function j9(e){return new k0(new Il(e.url),new Il(e.params),new Il(e.queryParams),new Il(e.fragment),new Il(e.data),e.outlet,e.component,e)}(n.value),L=n.children.map(K=>km(e,K));return new od(y,L)}}const Sb="ngNavigationCancelingError";function tA(e,n){const{redirectTo:t,navigationBehaviorOptions:y}=$h(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,L=nA(!1,0,n);return L.url=t,L.navigationBehaviorOptions=y,L}function nA(e,n,t){const y=new Error("NavigationCancelingError: "+(e||""));return y[Sb]=!0,y.cancellationCode=n,t&&(y.url=t),y}function rA(e){return iA(e)&&$h(e.url)}function iA(e){return e&&e[Sb]}class U9{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Sm,this.attachRef=null}}let Sm=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,y){const L=this.getOrCreateContext(t);L.outlet=y,this.contexts.set(t,L)}onChildOutletDestroyed(t){const y=this.getContext(t);y&&(y.outlet=null,y.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let y=this.getContext(t);return y||(y=new U9,this.contexts.set(t,y)),y}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ay=!1;let Eb=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=$i,this.activateEvents=new Hr,this.deactivateEvents=new Hr,this.attachEvents=new Hr,this.detachEvents=new Hr,this.parentContexts=mi(Sm),this.location=mi(kc),this.changeDetector=mi(Zu),this.environmentInjector=mi(qi)}ngOnChanges(t){if(t.name){const{firstChange:y,previousValue:L}=t.name;if(y)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $t(4012,ay);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $t(4012,ay);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $t(4012,ay);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,y){this.activated=t,this._activatedRoute=y,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,y){if(this.isActivated)throw new $t(4013,ay);this._activatedRoute=t;const L=this.location,me=t.snapshot.component,ze=this.parentContexts.getOrCreateContext(this.name).children,Ze=new V9(t,ze,L.injector);if(y&&function H9(e){return!!e.resolveComponentFactory}(y)){const ot=y.resolveComponentFactory(me);this.activated=L.createComponent(ot,L.length,Ze)}else this.activated=L.createComponent(me,{index:L.length,injector:Ze,environmentInjector:y??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Br({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Li]}),e})();class V9{constructor(n,t,y){this.route=n,this.childContexts=t,this.parent=y}get(n,t){return n===k0?this.route:n===Sm?this.childContexts:this.parent.get(n,t)}}let Cb=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ji({type:e,selectors:[["ng-component"]],standalone:!0,features:[sl],decls:1,vars:0,template:function(t,y){1&t&&za(0,"router-outlet")},dependencies:[Eb],encapsulation:2}),e})();function oA(e,n){return e.providers&&!e._injector&&(e._injector=vv(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Ob(e){const n=e.children&&e.children.map(Ob),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==$i&&(t.component=Cb),t}function Dc(e){return e.outlet||$i}function aA(e,n){const t=e.filter(y=>Dc(y)===n);return t.push(...e.filter(y=>Dc(y)!==n)),t}function Em(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Z9{constructor(n,t,y,L){this.routeReuseStrategy=n,this.futureState=t,this.currState=y,this.forwardEvent=L}activate(n){const t=this.futureState._root,y=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,y,n),Ab(this.futureState.root),this.activateChildRoutes(t,y,n)}deactivateChildRoutes(n,t,y){const L=A0(t);n.children.forEach(K=>{const me=K.value.outlet;this.deactivateRoutes(K,L[me],y),delete L[me]}),Yl(L,(K,me)=>{this.deactivateRouteAndItsChildren(K,y)})}deactivateRoutes(n,t,y){const L=n.value,K=t?t.value:null;if(L===K)if(L.component){const me=y.getContext(L.outlet);me&&this.deactivateChildRoutes(n,t,me.children)}else this.deactivateChildRoutes(n,t,y);else K&&this.deactivateRouteAndItsChildren(t,y)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const y=t.getContext(n.value.outlet),L=y&&n.value.component?y.children:t,K=A0(n);for(const me of Object.keys(K))this.deactivateRouteAndItsChildren(K[me],L);if(y&&y.outlet){const me=y.outlet.detach(),ze=y.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:me,route:n,contexts:ze})}}deactivateRouteAndOutlet(n,t){const y=t.getContext(n.value.outlet),L=y&&n.value.component?y.children:t,K=A0(n);for(const me of Object.keys(K))this.deactivateRouteAndItsChildren(K[me],L);y&&(y.outlet&&(y.outlet.deactivate(),y.children.onOutletDeactivated()),y.attachRef=null,y.resolver=null,y.route=null)}activateChildRoutes(n,t,y){const L=A0(t);n.children.forEach(K=>{this.activateRoutes(K,L[K.value.outlet],y),this.forwardEvent(new D9(K.value.snapshot))}),n.children.length&&this.forwardEvent(new E9(n.value.snapshot))}activateRoutes(n,t,y){const L=n.value,K=t?t.value:null;if(Ab(L),L===K)if(L.component){const me=y.getOrCreateContext(L.outlet);this.activateChildRoutes(n,t,me.children)}else this.activateChildRoutes(n,t,y);else if(L.component){const me=y.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const ze=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),me.children.onOutletReAttached(ze.contexts),me.attachRef=ze.componentRef,me.route=ze.route.value,me.outlet&&me.outlet.attach(ze.componentRef,ze.route.value),Ab(ze.route.value),this.activateChildRoutes(n,null,me.children)}else{const ze=Em(L.snapshot),Ze=ze?.get(lo)??null;me.attachRef=null,me.route=L,me.resolver=Ze,me.injector=ze,me.outlet&&me.outlet.activateWith(L,me.injector),this.activateChildRoutes(n,null,me.children)}}else this.activateChildRoutes(n,null,y)}}class sA{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class sy{constructor(n,t){this.component=n,this.route=t}}function Y9(e,n,t){const y=e._root;return Cm(y,n?n._root:null,t,[y.value])}function S0(e,n){const t=Symbol(),y=n.get(e,t);return y===t?"function"!=typeof e||function Pr(e){return null!==wr(e)}(e)?n.get(e):e:y}function Cm(e,n,t,y,L={canDeactivateChecks:[],canActivateChecks:[]}){const K=A0(n);return e.children.forEach(me=>{(function K9(e,n,t,y,L={canDeactivateChecks:[],canActivateChecks:[]}){const K=e.value,me=n?n.value:null,ze=t?t.getContext(e.value.outlet):null;if(me&&K.routeConfig===me.routeConfig){const Ze=function J9(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!qh(e.url,n.url);case"pathParamsOrQueryParamsChange":return!qh(e.url,n.url)||!kf(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kb(e,n)||!kf(e.queryParams,n.queryParams);default:return!kb(e,n)}}(me,K,K.routeConfig.runGuardsAndResolvers);Ze?L.canActivateChecks.push(new sA(y)):(K.data=me.data,K._resolvedData=me._resolvedData),Cm(e,n,K.component?ze?ze.children:null:t,y,L),Ze&&ze&&ze.outlet&&ze.outlet.isActivated&&L.canDeactivateChecks.push(new sy(ze.outlet.component,me))}else me&&Dm(n,ze,L),L.canActivateChecks.push(new sA(y)),Cm(e,null,K.component?ze?ze.children:null:t,y,L)})(me,K[me.value.outlet],t,y.concat([me.value]),L),delete K[me.value.outlet]}),Yl(K,(me,ze)=>Dm(me,t.getContext(ze),L)),L}function Dm(e,n,t){const y=A0(e),L=e.value;Yl(y,(K,me)=>{Dm(K,L.component?n?n.children.getContext(me):null:n,t)}),t.canDeactivateChecks.push(new sy(L.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,L))}function Om(e){return"function"==typeof e}function Ib(e){return e instanceof qv||"EmptyError"===e?.name}const ly=Symbol("INITIAL_VALUE");function E0(){return Cc(e=>$v(e.map(n=>n.pipe(Us(1),Zv(ly)))).pipe(te(n=>{for(const t of n)if(!0!==t){if(t===ly)return ly;if(!1===t||t instanceof eh)return t}return!0}),ul(n=>n!==ly),Us(1)))}function lA(e){return function I(...e){return P(e)}(Pl(n=>{if($h(n))throw tA(0,n)}),te(n=>!0===n))}const Pb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uA(e,n,t,y,L){const K=Rb(e,n,t);return K.matched?function gI(e,n,t,y){const L=n.canMatch;return L&&0!==L.length?Mi(L.map(me=>{const ze=S0(me,e);return Qd(function iI(e){return e&&Om(e.canMatch)}(ze)?ze.canMatch(n,t):e.runInContext(()=>ze(n,t)))})).pipe(E0(),lA()):Mi(!0)}(y=oA(n,y),n,t).pipe(te(me=>!0===me?K:{...Pb})):Mi(K)}function Rb(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...Pb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const L=(n.matcher||X7)(t,e,n);if(!L)return{...Pb};const K={};Yl(L.posParams,(ze,Ze)=>{K[Ze]=ze.path});const me=L.consumed.length>0?{...K,...L.consumed[L.consumed.length-1].parameters}:K;return{matched:!0,consumedSegments:L.consumed,remainingSegments:t.slice(L.consumed.length),parameters:me,positionalParamSegments:L.posParams??{}}}function uy(e,n,t,y){if(t.length>0&&function yI(e,n,t){return t.some(y=>cy(e,n,y)&&Dc(y)!==$i)}(e,t,y)){const K=new uo(n,function vI(e,n,t,y){const L={};L[$i]=y,y._sourceSegment=e,y._segmentIndexShift=n.length;for(const K of t)if(""===K.path&&Dc(K)!==$i){const me=new uo([],{});me._sourceSegment=e,me._segmentIndexShift=n.length,L[Dc(K)]=me}return L}(e,n,y,new uo(t,e.children)));return K._sourceSegment=e,K._segmentIndexShift=n.length,{segmentGroup:K,slicedSegments:[]}}if(0===t.length&&function _I(e,n,t){return t.some(y=>cy(e,n,y))}(e,t,y)){const K=new uo(e.segments,function mI(e,n,t,y,L){const K={};for(const me of y)if(cy(e,t,me)&&!L[Dc(me)]){const ze=new uo([],{});ze._sourceSegment=e,ze._segmentIndexShift=n.length,K[Dc(me)]=ze}return{...L,...K}}(e,n,t,y,e.children));return K._sourceSegment=e,K._segmentIndexShift=n.length,{segmentGroup:K,slicedSegments:t}}const L=new uo(e.segments,e.children);return L._sourceSegment=e,L._segmentIndexShift=n.length,{segmentGroup:L,slicedSegments:t}}function cy(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function cA(e,n,t,y){return!!(Dc(e)===y||y!==$i&&cy(n,t,e))&&("**"===e.path||Rb(n,e,t).matched)}function fA(e,n,t){return 0===n.length&&!e.children[t]}const fy=!1;class dy{constructor(n){this.segmentGroup=n||null}}class dA{constructor(n){this.urlTree=n}}function Im(e){return ym(new dy(e))}function hA(e){return ym(new dA(e))}class TI{constructor(n,t,y,L,K){this.injector=n,this.configLoader=t,this.urlSerializer=y,this.urlTree=L,this.config=K,this.allowRedirects=!0}apply(){const n=uy(this.urlTree.root,[],[],this.config).segmentGroup,t=new uo(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,t,$i).pipe(te(K=>this.createUrlTree(ny(K),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Jd(K=>{if(K instanceof dA)return this.allowRedirects=!1,this.match(K.urlTree);throw K instanceof dy?this.noMatchError(K):K}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,$i).pipe(te(L=>this.createUrlTree(ny(L),n.queryParams,n.fragment))).pipe(Jd(L=>{throw L instanceof dy?this.noMatchError(L):L}))}noMatchError(n){return new $t(4002,fy)}createUrlTree(n,t,y){const L=mb(n);return new eh(L,t,y)}expandSegmentGroup(n,t,y,L){return 0===y.segments.length&&y.hasChildren()?this.expandChildren(n,t,y).pipe(te(K=>new uo([],K))):this.expandSegment(n,y,t,y.segments,L,!0)}expandChildren(n,t,y){const L=[];for(const K of Object.keys(y.children))"primary"===K?L.unshift(K):L.push(K);return ln(L).pipe(Yd(K=>{const me=y.children[K],ze=aA(t,K);return this.expandSegmentGroup(n,ze,me,K).pipe(te(Ze=>({segment:Ze,outlet:K})))}),kM((K,me)=>(K[me.outlet]=me.segment,K),{}),SM())}expandSegment(n,t,y,L,K,me){return ln(y).pipe(Yd(ze=>this.expandSegmentAgainstRoute(n,t,y,ze,L,K,me).pipe(Jd(ot=>{if(ot instanceof dy)return Mi(null);throw ot}))),Kd(ze=>!!ze),Jd((ze,Ze)=>{if(Ib(ze))return fA(t,L,K)?Mi(new uo([],{})):Im(t);throw ze}))}expandSegmentAgainstRoute(n,t,y,L,K,me,ze){return cA(L,t,K,me)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(n,t,L,K,me):ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,t,y,L,K,me):Im(t):Im(t)}expandSegmentAgainstRouteUsingRedirect(n,t,y,L,K,me){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,y,L,me):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,y,L,K,me)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,y,L){const K=this.applyRedirectCommands([],y.redirectTo,{});return y.redirectTo.startsWith("/")?hA(K):this.lineralizeSegments(y,K).pipe(wt(me=>{const ze=new uo(me,{});return this.expandSegment(n,ze,t,me,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,y,L,K,me){const{matched:ze,consumedSegments:Ze,remainingSegments:ot,positionalParamSegments:yt}=Rb(t,L,K);if(!ze)return Im(t);const zt=this.applyRedirectCommands(Ze,L.redirectTo,yt);return L.redirectTo.startsWith("/")?hA(zt):this.lineralizeSegments(L,zt).pipe(wt(Qt=>this.expandSegment(n,t,y,Qt.concat(ot),me,!1)))}matchSegmentAgainstRoute(n,t,y,L,K){return"**"===y.path?(n=oA(y,n),y.loadChildren?(y._loadedRoutes?Mi({routes:y._loadedRoutes,injector:y._loadedInjector}):this.configLoader.loadChildren(n,y)).pipe(te(ze=>(y._loadedRoutes=ze.routes,y._loadedInjector=ze.injector,new uo(L,{})))):Mi(new uo(L,{}))):uA(t,y,L,n).pipe(Cc(({matched:me,consumedSegments:ze,remainingSegments:Ze})=>me?this.getChildConfig(n=y._injector??n,y,L).pipe(wt(yt=>{const zt=yt.injector??n,Qt=yt.routes,{segmentGroup:hn,slicedSegments:Bn}=uy(t,ze,Ze,Qt),Kn=new uo(hn.segments,hn.children);if(0===Bn.length&&Kn.hasChildren())return this.expandChildren(zt,Qt,Kn).pipe(te(xr=>new uo(ze,xr)));if(0===Qt.length&&0===Bn.length)return Mi(new uo(ze,{}));const cr=Dc(y)===K;return this.expandSegment(zt,Kn,Qt,Bn,cr?$i:K,!0).pipe(te(Dr=>new uo(ze.concat(Dr.segments),Dr.children)))})):Im(t)))}getChildConfig(n,t,y){return t.children?Mi({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?Mi({routes:t._loadedRoutes,injector:t._loadedInjector}):function pI(e,n,t,y){const L=n.canLoad;return void 0===L||0===L.length?Mi(!0):Mi(L.map(me=>{const ze=S0(me,e);return Qd(function eI(e){return e&&Om(e.canLoad)}(ze)?ze.canLoad(n,t):e.runInContext(()=>ze(n,t)))})).pipe(E0(),lA())}(n,t,y).pipe(wt(L=>L?this.configLoader.loadChildren(n,t).pipe(Pl(K=>{t._loadedRoutes=K.routes,t._loadedInjector=K.injector})):function bI(e){return ym(nA(fy,3))}())):Mi({routes:[],injector:n})}lineralizeSegments(n,t){let y=[],L=t.root;for(;;){if(y=y.concat(L.segments),0===L.numberOfChildren)return Mi(y);if(L.numberOfChildren>1||!L.children[$i])return n.redirectTo,ym(new $t(4e3,fy));L=L.children[$i]}}applyRedirectCommands(n,t,y){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,y)}applyRedirectCreateUrlTree(n,t,y,L){const K=this.createSegmentGroup(n,t.root,y,L);return new eh(K,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const y={};return Yl(n,(L,K)=>{if("string"==typeof L&&L.startsWith(":")){const ze=L.substring(1);y[K]=t[ze]}else y[K]=L}),y}createSegmentGroup(n,t,y,L){const K=this.createSegments(n,t.segments,y,L);let me={};return Yl(t.children,(ze,Ze)=>{me[Ze]=this.createSegmentGroup(n,ze,y,L)}),new uo(K,me)}createSegments(n,t,y,L){return t.map(K=>K.path.startsWith(":")?this.findPosParam(n,K,L):this.findOrReturn(K,y))}findPosParam(n,t,y){const L=y[t.path.substring(1)];if(!L)throw new $t(4001,fy);return L}findOrReturn(n,t){let y=0;for(const L of t){if(L.path===n.path)return t.splice(y),L;y++}return n}}class AI{}class EI{constructor(n,t,y,L,K,me,ze){this.injector=n,this.rootComponentType=t,this.config=y,this.urlTree=L,this.url=K,this.paramsInheritanceStrategy=me,this.urlSerializer=ze}recognize(){const n=uy(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,$i).pipe(te(t=>{if(null===t)return null;const y=new oy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$i,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new od(y,t),K=new QM(this.url,L);return this.inheritParamsAndData(K._root),K}))}inheritParamsAndData(n){const t=n.value,y=JM(t,this.paramsInheritanceStrategy);t.params=Object.freeze(y.params),t.data=Object.freeze(y.data),n.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(n,t,y,L){return 0===y.segments.length&&y.hasChildren()?this.processChildren(n,t,y):this.processSegment(n,t,y,y.segments,L)}processChildren(n,t,y){return ln(Object.keys(y.children)).pipe(Yd(L=>{const K=y.children[L],me=aA(t,L);return this.processSegmentGroup(n,me,K,L)}),kM((L,K)=>L&&K?(L.push(...K),L):null),function Z7(e,n=!1){return G((t,y)=>{let L=0;t.subscribe(Y(y,K=>{const me=e(K,L++);(me||n)&&y.next(K),!me&&y.complete()}))})}(L=>null!==L),Yv(null),SM(),te(L=>{if(null===L)return null;const K=gA(L);return function CI(e){e.sort((n,t)=>n.value.outlet===$i?-1:t.value.outlet===$i?1:n.value.outlet.localeCompare(t.value.outlet))}(K),K}))}processSegment(n,t,y,L,K){return ln(t).pipe(Yd(me=>this.processSegmentAgainstRoute(me._injector??n,me,y,L,K)),Kd(me=>!!me),Jd(me=>{if(Ib(me))return fA(y,L,K)?Mi([]):Mi(null);throw me}))}processSegmentAgainstRoute(n,t,y,L,K){if(t.redirectTo||!cA(t,y,L,K))return Mi(null);let me;if("**"===t.path){const ze=L.length>0?OM(L).parameters:{},Ze=vA(y)+L.length;me=Mi({snapshot:new oy(L,ze,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yA(t),Dc(t),t.component??t._loadedComponent??null,t,mA(y),Ze,_A(t)),consumedSegments:[],remainingSegments:[]})}else me=uA(y,t,L,n).pipe(te(({matched:ze,consumedSegments:Ze,remainingSegments:ot,parameters:yt})=>{if(!ze)return null;const zt=vA(y)+Ze.length;return{snapshot:new oy(Ze,yt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yA(t),Dc(t),t.component??t._loadedComponent??null,t,mA(y),zt,_A(t)),consumedSegments:Ze,remainingSegments:ot}}));return me.pipe(Cc(ze=>{if(null===ze)return Mi(null);const{snapshot:Ze,consumedSegments:ot,remainingSegments:yt}=ze;n=t._injector??n;const zt=t._loadedInjector??n,Qt=function DI(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(t),{segmentGroup:hn,slicedSegments:Bn}=uy(y,ot,yt,Qt.filter(cr=>void 0===cr.redirectTo));if(0===Bn.length&&hn.hasChildren())return this.processChildren(zt,Qt,hn).pipe(te(cr=>null===cr?null:[new od(Ze,cr)]));if(0===Qt.length&&0===Bn.length)return Mi([new od(Ze,[])]);const Kn=Dc(t)===K;return this.processSegment(zt,Qt,hn,Bn,Kn?$i:K).pipe(te(cr=>null===cr?null:[new od(Ze,cr)]))}))}}function OI(e){const n=e.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function gA(e){const n=[],t=new Set;for(const y of e){if(!OI(y)){n.push(y);continue}const L=n.find(K=>y.value.routeConfig===K.value.routeConfig);void 0!==L?(L.children.push(...y.children),t.add(L)):n.push(y)}for(const y of t){const L=gA(y.children);n.push(new od(y.value,L))}return n.filter(y=>!t.has(y))}function mA(e){let n=e;for(;n._sourceSegment;)n=n._sourceSegment;return n}function vA(e){let n=e,t=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,t+=n._segmentIndexShift??0;return t-1}function yA(e){return e.data||{}}function _A(e){return e.resolve||{}}function RI(e,n){return wt(t=>{const{targetSnapshot:y,guards:{canActivateChecks:L}}=t;if(!L.length)return Mi(t);let K=0;return ln(L).pipe(Yd(me=>function LI(e,n,t,y){const L=e.routeConfig,K=e._resolve;return void 0!==L?.title&&!xA(L)&&(K[_m]=L.title),function NI(e,n,t,y){const L=function FI(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===L.length)return Mi({});const K={};return ln(L).pipe(wt(me=>function zI(e,n,t,y){const L=Em(n)??y,K=S0(e,L);return Qd(K.resolve?K.resolve(n,t):L.runInContext(()=>K(n,t)))}(e[me],n,t,y).pipe(Kd(),Pl(ze=>{K[me]=ze}))),db(1),function EM(e){return te(()=>e)}(K),Jd(me=>Ib(me)?_t:ym(me)))}(K,e,n,y).pipe(te(me=>(e._resolvedData=me,e.data=JM(e,t).resolve,L&&xA(L)&&(e.data[_m]=L.title),null)))}(me.route,y,e,n)),Pl(()=>K++),db(1),wt(me=>K===L.length?Mi(t):_t))})}function xA(e){return"string"==typeof e.title||null===e.title}function Lb(e){return Cc(n=>{const t=e(n);return t?ln(t).pipe(te(()=>n)):Mi(n)})}const C0=new gi("ROUTES");let Nb=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=mi(OT)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Mi(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const y=Qd(t.loadComponent()).pipe(te(wA),Pl(K=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=K}),hb(()=>{this.componentLoaders.delete(t)})),L=new MM(y,()=>new Z).pipe(fb());return this.componentLoaders.set(t,L),L}loadChildren(t,y){if(this.childrenLoaders.get(y))return this.childrenLoaders.get(y);if(y._loadedRoutes)return Mi({routes:y._loadedRoutes,injector:y._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(y);const K=this.loadModuleFactoryOrRoutes(y.loadChildren).pipe(te(ze=>{this.onLoadEndListener&&this.onLoadEndListener(y);let Ze,ot,yt=!1;Array.isArray(ze)?ot=ze:(Ze=ze.create(t).injector,ot=DM(Ze.get(C0,[],Qr.Self|Qr.Optional)));return{routes:ot.map(Ob),injector:Ze}}),hb(()=>{this.childrenLoaders.delete(y)})),me=new MM(K,()=>new Z).pipe(fb());return this.childrenLoaders.set(y,me),me}loadModuleFactoryOrRoutes(t){return Qd(t()).pipe(te(wA),wt(y=>y instanceof H3||Array.isArray(y)?Mi(y):ln(this.compiler.compileModuleAsync(y))))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function wA(e){return function BI(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let py=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Z,this.configLoader=mi(Nb),this.environmentInjector=mi(qi),this.urlSerializer=mi(bm),this.rootContexts=mi(Sm),this.navigationId=0,this.afterPreactivation=()=>Mi(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=L=>this.events.next(new k9(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new A9(L))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const y=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:y})}setupNavigations(t){return this.transitions=new Il({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Am,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ul(y=>0!==y.id),te(y=>({...y,extractedUrl:t.urlHandlingStrategy.extract(y.rawUrl)})),Cc(y=>{let L=!1,K=!1;return Mi(y).pipe(Pl(me=>{this.currentNavigation={id:me.id,initialUrl:me.rawUrl,extractedUrl:me.extractedUrl,trigger:me.source,extras:me.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Cc(me=>{const ze=t.browserUrlTree.toString(),Ze=!t.navigated||me.extractedUrl.toString()!==ze||ze!==t.currentUrlTree.toString();if(!Ze&&"reload"!==(me.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const yt="";return this.events.next(new iy(me.id,t.serializeUrl(y.rawUrl),yt,0)),t.rawUrlTree=me.rawUrl,me.resolve(null),_t}if(t.urlHandlingStrategy.shouldProcessUrl(me.rawUrl))return TA(me.source)&&(t.browserUrlTree=me.extractedUrl),Mi(me).pipe(Cc(yt=>{const zt=this.transitions?.getValue();return this.events.next(new xb(yt.id,this.urlSerializer.serialize(yt.extractedUrl),yt.source,yt.restoredState)),zt!==this.transitions?.getValue()?_t:Promise.resolve(yt)}),function MI(e,n,t,y){return Cc(L=>function wI(e,n,t,y,L){return new TI(e,n,t,y,L).apply()}(e,n,t,L.extractedUrl,y).pipe(te(K=>({...L,urlAfterRedirects:K}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Pl(yt=>{this.currentNavigation={...this.currentNavigation,finalUrl:yt.urlAfterRedirects},y.urlAfterRedirects=yt.urlAfterRedirects}),function PI(e,n,t,y,L){return wt(K=>function SI(e,n,t,y,L,K,me="emptyOnly"){return new EI(e,n,t,y,L,me,K).recognize().pipe(Cc(ze=>null===ze?function kI(e){return new R(n=>n.error(e))}(new AI):Mi(ze)))}(e,n,t,K.urlAfterRedirects,y.serialize(K.urlAfterRedirects),y,L).pipe(te(me=>({...K,targetSnapshot:me}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Pl(yt=>{if(y.targetSnapshot=yt.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!yt.extras.skipLocationChange){const Qt=t.urlHandlingStrategy.merge(yt.urlAfterRedirects,yt.rawUrl);t.setBrowserUrl(Qt,yt)}t.browserUrlTree=yt.urlAfterRedirects}const zt=new x9(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(zt)}));if(Ze&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:yt,extractedUrl:zt,source:Qt,restoredState:hn,extras:Bn}=me,Kn=new xb(yt,this.urlSerializer.serialize(zt),Qt,hn);this.events.next(Kn);const cr=KM(zt,this.rootComponentType).snapshot;return Mi(y={...me,targetSnapshot:cr,urlAfterRedirects:zt,extras:{...Bn,skipLocationChange:!1,replaceUrl:!1}})}{const yt="";return this.events.next(new iy(me.id,t.serializeUrl(y.extractedUrl),yt,1)),t.rawUrlTree=me.rawUrl,me.resolve(null),_t}}),Pl(me=>{const ze=new b9(me.id,this.urlSerializer.serialize(me.extractedUrl),this.urlSerializer.serialize(me.urlAfterRedirects),me.targetSnapshot);this.events.next(ze)}),te(me=>y={...me,guards:Y9(me.targetSnapshot,me.currentSnapshot,this.rootContexts)}),function aI(e,n){return wt(t=>{const{targetSnapshot:y,currentSnapshot:L,guards:{canActivateChecks:K,canDeactivateChecks:me}}=t;return 0===me.length&&0===K.length?Mi({...t,guardsResult:!0}):function sI(e,n,t,y){return ln(e).pipe(wt(L=>function hI(e,n,t,y,L){const K=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return K&&0!==K.length?Mi(K.map(ze=>{const Ze=Em(n)??L,ot=S0(ze,Ze);return Qd(function rI(e){return e&&Om(e.canDeactivate)}(ot)?ot.canDeactivate(e,n,t,y):Ze.runInContext(()=>ot(e,n,t,y))).pipe(Kd())})).pipe(E0()):Mi(!0)}(L.component,L.route,t,n,y)),Kd(L=>!0!==L,!0))}(me,y,L,e).pipe(wt(ze=>ze&&function Q9(e){return"boolean"==typeof e}(ze)?function lI(e,n,t,y){return ln(n).pipe(Yd(L=>vm(function cI(e,n){return null!==e&&n&&n(new S9(e)),Mi(!0)}(L.route.parent,y),function uI(e,n){return null!==e&&n&&n(new C9(e)),Mi(!0)}(L.route,y),function dI(e,n,t){const y=n[n.length-1],K=n.slice(0,n.length-1).reverse().map(me=>function X9(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(me)).filter(me=>null!==me).map(me=>TM(()=>Mi(me.guards.map(Ze=>{const ot=Em(me.node)??t,yt=S0(Ze,ot);return Qd(function nI(e){return e&&Om(e.canActivateChild)}(yt)?yt.canActivateChild(y,e):ot.runInContext(()=>yt(y,e))).pipe(Kd())})).pipe(E0())));return Mi(K).pipe(E0())}(e,L.path,t),function fI(e,n,t){const y=n.routeConfig?n.routeConfig.canActivate:null;if(!y||0===y.length)return Mi(!0);const L=y.map(K=>TM(()=>{const me=Em(n)??t,ze=S0(K,me);return Qd(function tI(e){return e&&Om(e.canActivate)}(ze)?ze.canActivate(n,e):me.runInContext(()=>ze(n,e))).pipe(Kd())}));return Mi(L).pipe(E0())}(e,L.route,t))),Kd(L=>!0!==L,!0))}(y,K,e,n):Mi(ze)),te(ze=>({...t,guardsResult:ze})))})}(this.environmentInjector,me=>this.events.next(me)),Pl(me=>{if(y.guardsResult=me.guardsResult,$h(me.guardsResult))throw tA(0,me.guardsResult);const ze=new w9(me.id,this.urlSerializer.serialize(me.extractedUrl),this.urlSerializer.serialize(me.urlAfterRedirects),me.targetSnapshot,!!me.guardsResult);this.events.next(ze)}),ul(me=>!!me.guardsResult||(t.restoreHistory(me),this.cancelNavigationTransition(me,"",3),!1)),Lb(me=>{if(me.guards.canActivateChecks.length)return Mi(me).pipe(Pl(ze=>{const Ze=new T9(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot);this.events.next(Ze)}),Cc(ze=>{let Ze=!1;return Mi(ze).pipe(RI(t.paramsInheritanceStrategy,this.environmentInjector),Pl({next:()=>Ze=!0,complete:()=>{Ze||(t.restoreHistory(ze),this.cancelNavigationTransition(ze,"",2))}}))}),Pl(ze=>{const Ze=new M9(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot);this.events.next(Ze)}))}),Lb(me=>{const ze=Ze=>{const ot=[];Ze.routeConfig?.loadComponent&&!Ze.routeConfig._loadedComponent&&ot.push(this.configLoader.loadComponent(Ze.routeConfig).pipe(Pl(yt=>{Ze.component=yt}),te(()=>{})));for(const yt of Ze.children)ot.push(...ze(yt));return ot};return $v(ze(me.targetSnapshot.root)).pipe(Yv(),Us(1))}),Lb(()=>this.afterPreactivation()),te(me=>{const ze=function z9(e,n,t){const y=km(e,n._root,t?t._root:void 0);return new XM(y,n)}(t.routeReuseStrategy,me.targetSnapshot,me.currentRouterState);return y={...me,targetRouterState:ze}}),Pl(me=>{t.currentUrlTree=me.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(me.urlAfterRedirects,me.rawUrl),t.routerState=me.targetRouterState,"deferred"===t.urlUpdateStrategy&&(me.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,me),t.browserUrlTree=me.urlAfterRedirects)}),((e,n,t)=>te(y=>(new Z9(n,y.targetRouterState,y.currentRouterState,t).activate(e),y)))(this.rootContexts,t.routeReuseStrategy,me=>this.events.next(me)),Us(1),Pl({next:me=>{L=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Zh(me.id,this.urlSerializer.serialize(me.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(me.targetRouterState.snapshot),me.resolve(!0)},complete:()=>{L=!0}}),hb(()=>{L||K||this.cancelNavigationTransition(y,"",1),this.currentNavigation?.id===y.id&&(this.currentNavigation=null)}),Jd(me=>{if(K=!0,iA(me)){rA(me)||(t.navigated=!0,t.restoreHistory(y,!0));const ze=new ry(y.id,this.urlSerializer.serialize(y.extractedUrl),me.message,me.cancellationCode);if(this.events.next(ze),rA(me)){const Ze=t.urlHandlingStrategy.merge(me.url,t.rawUrlTree),ot={skipLocationChange:y.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||TA(y.source)};t.scheduleNavigation(Ze,Am,null,ot,{resolve:y.resolve,reject:y.reject,promise:y.promise})}else y.resolve(!1)}else{t.restoreHistory(y,!0);const ze=new bb(y.id,this.urlSerializer.serialize(y.extractedUrl),me,y.targetSnapshot??void 0);this.events.next(ze);try{y.resolve(t.errorHandler(me))}catch(Ze){y.reject(Ze)}}return _t}))}))}cancelNavigationTransition(t,y,L){const K=new ry(t.id,this.urlSerializer.serialize(t.extractedUrl),y,L);this.events.next(K),t.resolve(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function TA(e){return e!==Am}let MA=(()=>{class e{buildTitle(t){let y,L=t.root;for(;void 0!==L;)y=this.getResolvedTitleForRoute(L)??y,L=L.children.find(K=>K.outlet===$i);return y}getResolvedTitleForRoute(t){return t.data[_m]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(){return mi(jI)},providedIn:"root"}),e})(),jI=(()=>{class e extends MA{constructor(t){super(),this.title=t}updateTitle(t){const y=this.buildTitle(t);void 0!==y&&this.title.setTitle(y)}}return e.\u0275fac=function(t){return new(t||e)(Nr(rM))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),UI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(){return mi(HI)},providedIn:"root"}),e})();class VI{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let HI=(()=>{class e extends VI{}return e.\u0275fac=function(){let n;return function(y){return(n||(n=Ga(e)))(y||e)}}(),e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const gy=new gi("",{providedIn:"root",factory:()=>({})});let WI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(){return mi(qI)},providedIn:"root"}),e})(),qI=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,y){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function $I(e){throw e}function ZI(e,n,t){return n.parse("/")}const YI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ku=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=mi(uC),this.isNgZoneEnabled=!1,this.options=mi(gy,{optional:!0})||{},this.errorHandler=this.options.errorHandler||$I,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ZI,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=mi(WI),this.routeReuseStrategy=mi(UI),this.urlCreationStrategy=mi(L9),this.titleStrategy=mi(MA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=DM(mi(C0,{optional:!0})??[]),this.navigationTransitions=mi(py),this.urlSerializer=mi(bm),this.location=mi(Px),this.isNgZoneEnabled=mi(Bo)instanceof Bo&&Bo.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new eh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=KM(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Am,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const y="popstate"===t.type?"popstate":"hashchange";"popstate"===y&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,y,t.state)},0)}))}navigateToSyncWithBrowser(t,y,L){const K={replaceUrl:!0},me=L?.navigationId?L:null;if(L){const Ze={...L};delete Ze.navigationId,delete Ze.\u0275routerPageId,0!==Object.keys(Ze).length&&(K.state=Ze)}const ze=this.parseUrl(t);this.scheduleNavigation(ze,y,me,K)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Ob),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,y={}){const{relativeTo:L,queryParams:K,fragment:me,queryParamsHandling:ze,preserveFragment:Ze}=y,ot=Ze?this.currentUrlTree.fragment:me;let yt=null;switch(ze){case"merge":yt={...this.currentUrlTree.queryParams,...K};break;case"preserve":yt=this.currentUrlTree.queryParams;break;default:yt=K||null}return null!==yt&&(yt=this.removeEmptyProps(yt)),this.urlCreationStrategy.createUrlTree(L,this.routerState,this.currentUrlTree,t,yt,ot??null)}navigateByUrl(t,y={skipLocationChange:!1}){const L=$h(t)?t:this.parseUrl(t),K=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(K,Am,null,y)}navigate(t,y={skipLocationChange:!1}){return function KI(e){for(let n=0;n<e.length;n++){const t=e[n];if(null==t)throw new $t(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,y),y)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let y;try{y=this.urlSerializer.parse(t)}catch(L){y=this.malformedUriErrorHandler(L,this.urlSerializer,t)}return y}isActive(t,y){let L;if(L=!0===y?{...YI}:!1===y?{...XI}:y,$h(t))return PM(this.currentUrlTree,t,L);const K=this.parseUrl(t);return PM(this.currentUrlTree,K,L)}removeEmptyProps(t){return Object.keys(t).reduce((y,L)=>{const K=t[L];return null!=K&&(y[L]=K),y},{})}scheduleNavigation(t,y,L,K,me){if(this.disposed)return Promise.resolve(!1);let ze,Ze,ot,yt;return me?(ze=me.resolve,Ze=me.reject,ot=me.promise):ot=new Promise((zt,Qt)=>{ze=zt,Ze=Qt}),yt="computed"===this.canceledNavigationResolution?L&&L.\u0275routerPageId?L.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:yt,source:y,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:K,resolve:ze,reject:Ze,promise:ot,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ot.catch(zt=>Promise.reject(zt))}setBrowserUrl(t,y){const L=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(L)||y.extras.replaceUrl){const me={...y.extras.state,...this.generateNgRouterState(y.id,this.browserPageId)};this.location.replaceState(L,"",me)}else{const K={...y.extras.state,...this.generateNgRouterState(y.id,y.targetPageId)};this.location.go(L,"",K)}}restoreHistory(t,y=!1){if("computed"===this.canceledNavigationResolution){const K=this.currentPageId-(this.browserPageId??this.currentPageId);0!==K?this.location.historyGo(K):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===K&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(y&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,y){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:y}:{navigationId:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class AA{}let eP=(()=>{class e{constructor(t,y,L,K,me){this.router=t,this.injector=L,this.preloadingStrategy=K,this.loader=me}setUpPreloading(){this.subscription=this.router.events.pipe(ul(t=>t instanceof Zh),Yd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,y){const L=[];for(const K of y){K.providers&&!K._injector&&(K._injector=vv(K.providers,t,`Route: ${K.path}`));const me=K._injector??t,ze=K._loadedInjector??me;(K.loadChildren&&!K._loadedRoutes&&void 0===K.canLoad||K.loadComponent&&!K._loadedComponent)&&L.push(this.preloadConfig(me,K)),(K.children||K._loadedRoutes)&&L.push(this.processRoutes(ze,K.children??K._loadedRoutes))}return ln(L).pipe(kt())}preloadConfig(t,y){return this.preloadingStrategy.preload(y,()=>{let L;L=y.loadChildren&&void 0===y.canLoad?this.loader.loadChildren(t,y):Mi(null);const K=L.pipe(wt(me=>null===me?Mi(void 0):(y._loadedRoutes=me.routes,y._loadedInjector=me.injector,this.processRoutes(me.injector??t,me.routes))));return y.loadComponent&&!y._loadedComponent?ln([K,this.loader.loadComponent(y)]).pipe(kt()):K})}}return e.\u0275fac=function(t){return new(t||e)(Nr(Ku),Nr(OT),Nr(qi),Nr(AA),Nr(Nb))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Bb=new gi("");let kA=(()=>{class e{constructor(t,y,L,K,me={}){this.urlSerializer=t,this.transitions=y,this.viewportScroller=L,this.zone=K,this.options=me,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},me.scrollPositionRestoration=me.scrollPositionRestoration||"disabled",me.anchorScrolling=me.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ZM&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,y){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ZM(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,y))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(t){!function $p(){throw new Error("invalid")}()},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();var cc=(()=>((cc=cc||{})[cc.COMPLETE=0]="COMPLETE",cc[cc.FAILED=1]="FAILED",cc[cc.REDIRECTING=2]="REDIRECTING",cc))();const D0=!1;function th(e,n){return{\u0275kind:e,\u0275providers:n}}const jb=new gi("",{providedIn:"root",factory:()=>!1});function EA(){const e=mi(ol);return n=>{const t=e.get(v0);if(n!==t.components[0])return;const y=e.get(Ku),L=e.get(CA);1===e.get(Ub)&&y.initialNavigation(),e.get(DA,null,Qr.Optional)?.setUpPreloading(),e.get(Bb,null,Qr.Optional)?.init(),y.resetRootComponentType(t.componentTypes[0]),L.closed||(L.next(),L.complete(),L.unsubscribe())}}const CA=new gi(D0?"bootstrap done indicator":"",{factory:()=>new Z}),Ub=new gi(D0?"initial navigation":"",{providedIn:"root",factory:()=>1});function oP(){let e=[];return e=D0?[{provide:zn,multi:!0,useFactory:()=>{const n=mi(Ku);return()=>n.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function O9(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],th(1,e)}const DA=new gi(D0?"router preloader":"");function aP(e){return th(0,[{provide:DA,useExisting:eP},{provide:AA,useExisting:e}])}const Pm=!1,OA=new gi(Pm?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),sP=[Px,{provide:bm,useClass:pb},Ku,Sm,{provide:k0,useFactory:function SA(e){return e.routerState.root},deps:[Ku]},Nb,Pm?{provide:jb,useValue:!0}:[]];function lP(){return new BT("Router",Ku)}let IA=(()=>{class e{constructor(t){}static forRoot(t,y){return{ngModule:e,providers:[sP,Pm&&y?.enableTracing?oP().\u0275providers:[],{provide:C0,multi:!0,useValue:t},{provide:OA,useFactory:dP,deps:[[Ku,new zf,new Wl]]},{provide:gy,useValue:y||{}},y?.useHash?{provide:Wh,useClass:XC}:{provide:Wh,useClass:l5},{provide:Bb,useFactory:()=>{const e=mi(uO),n=mi(Bo),t=mi(gy),y=mi(py),L=mi(bm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new kA(L,y,e,n,t)}},y?.preloadingStrategy?aP(y.preloadingStrategy).\u0275providers:[],{provide:BT,multi:!0,useFactory:lP},y?.initialNavigation?hP(y):[],[{provide:PA,useFactory:EA},{provide:zT,multi:!0,useExisting:PA}]]}}static forChild(t){return{ngModule:e,providers:[{provide:C0,multi:!0,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(Nr(OA,8))},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({imports:[Cb]}),e})();function dP(e){if(Pm&&e)throw new $t(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function hP(e){return["disabled"===e.initialNavigation?th(3,[{provide:bv,multi:!0,useFactory:()=>{const n=mi(Ku);return()=>{n.setUpLocationChangeListener()}}},{provide:Ub,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?th(2,[{provide:Ub,useValue:0},{provide:bv,multi:!0,deps:[ol],useFactory:n=>{const t=n.get(ZC,Promise.resolve());return()=>t.then(()=>new Promise(y=>{const L=n.get(Ku),K=n.get(CA);(function tP(e,n){e.events.pipe(ul(t=>t instanceof Zh||t instanceof ry||t instanceof bb||t instanceof iy),te(t=>t instanceof Zh||t instanceof iy?cc.COMPLETE:t instanceof ry&&(0===t.code||1===t.code)?cc.REDIRECTING:cc.FAILED),ul(t=>t!==cc.REDIRECTING),Us(1)).subscribe(()=>{n()})})(L,()=>{y(!0)}),n.get(py).afterPreactivation=()=>(y(!0),K.closed?Mi(void 0):K),L.initialNavigation()}))}}]).\u0275providers:[]]}const PA=new gi(Pm?"Router Initializer":"");let gP=(()=>{class e{static#e=this.\u0275fac=function(y){return new(y||e)};static#t=this.\u0275cmp=ji({type:e,selectors:[["app-history"]],decls:2,vars:0,template:function(y,L){1&y&&(Rr(0,"p"),So(1,"history works!"),Gr())}})}return e})(),RA=(()=>{class e{constructor(t){this.http=t,this.exerciseUrl="assets/workouts.json"}getLastWorkout(){return this.http.get(this.exerciseUrl).pipe(te(t=>(t.sort((y,L)=>new Date(L.date).getTime()-new Date(y.date).getTime()),t[0])))}getWorkouts(){return this.http.get(this.exerciseUrl)}static#e=this.\u0275fac=function(y){return new(y||e)(Nr(fM))};static#t=this.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function LA(e,n,t,y,L,K,me){try{var ze=e[K](me),Ze=ze.value}catch(ot){return void t(ot)}ze.done?n(Ze):Promise.resolve(Ze).then(y,L)}function NA(e){return function(){var n=this,t=arguments;return new Promise(function(y,L){var K=e.apply(n,t);function me(Ze){LA(K,y,L,me,ze,"next",Ze)}function ze(Ze){LA(K,y,L,me,ze,"throw",Ze)}me(void 0)})}}const mP=["plot"],vP=["*"];class Ro{static setModuleName(n){Ro.moduleName=n}static getModuleName(){return Ro.moduleName}static setPlotly(n){if("object"==typeof n&&"function"!=typeof n.react)throw new Error("Invalid plotly.js version. Please, use any version above 1.40.0");Ro.plotly=n}static insert(n){return-1===Ro.instances.indexOf(n)&&Ro.instances.push(n),n}static remove(n){const t=Ro.instances.indexOf(n);t>=0&&(Ro.instances.splice(t,1),Ro.plotly.purge(n))}getInstanceByDivId(n){for(const t of Ro.instances)if(t&&t.id===n)return t}getPlotly(){var n=this;return NA(function*(){return yield n.waitFor(()=>"waiting"!==n._getPlotly()),n._getPlotly()})()}_getPlotly(){if(typeof Ro.plotly>"u")throw new Error("ViaCDN"===Ro.moduleName?"Error loading Peer dependency plotly.js from CDN url":"Peer dependency plotly.js isn't installed");return Ro.plotly}waitFor(n){return new Promise(t=>{const y=()=>{n()?t():setTimeout(y,10)};y()})}newPlot(n,t,y,L,K){var me=this;return NA(function*(){if(yield me.waitFor(()=>"waiting"!==me._getPlotly()),K){const ze={data:t,layout:y,config:L,frames:K};return me._getPlotly().newPlot(n,ze).then(()=>Ro.insert(n))}return me._getPlotly().newPlot(n,t,y,L).then(()=>Ro.insert(n))})()}plot(n,t,y,L,K){if(K){const me={data:t,layout:y,config:L,frames:K};return this._getPlotly().newPlot(n,me)}return this._getPlotly().newPlot(n,t,y,L)}update(n,t,y,L,K){if(K){const me={data:t,layout:y,config:L,frames:K};return this._getPlotly().react(n,me)}return this._getPlotly().react(n,t,y,L)}resize(n){return this._getPlotly().Plots.resize(n)}}Ro.instances=[],Ro.plotly=void 0,Ro.moduleName=void 0,Ro.\u0275fac=function(n){return new(n||Ro)},Ro.\u0275prov=Rn({token:Ro,factory:Ro.\u0275fac,providedIn:"root"});let yP=(()=>{class e{constructor(){this._isLoading=!1}get isLoading(){return this._isLoading}load(t){return this._isLoading=!0,new Promise(y=>{y(!0)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_P=(()=>{class e{constructor(t,y,L,K){this.plotly=t,this.themeLoader=y,this.iterableDiffers=L,this.keyValueDiffers=K,this.defaultClassName="js-plotly-plot",this.theme="none",this.revision=0,this.debug=!1,this.useResizeHandler=!1,this.updateOnLayoutChange=!0,this.updateOnDataChange=!0,this.updateOnlyWithRevision=!1,this.initialized=new Hr,this.update=new Hr,this.purge=new Hr,this.error=new Hr,this.afterExport=new Hr,this.afterPlot=new Hr,this.animated=new Hr,this.animatingFrame=new Hr,this.animationInterrupted=new Hr,this.autoSize=new Hr,this.beforeExport=new Hr,this.beforeHover=new Hr,this.buttonClicked=new Hr,this.click=new Hr,this.plotlyClick=new Hr,this.clickAnnotation=new Hr,this.deselect=new Hr,this.doubleClick=new Hr,this.framework=new Hr,this.hover=new Hr,this.legendClick=new Hr,this.legendDoubleClick=new Hr,this.react=new Hr,this.relayout=new Hr,this.relayouting=new Hr,this.restyle=new Hr,this.redraw=new Hr,this.selected=new Hr,this.selecting=new Hr,this.sliderChange=new Hr,this.sliderEnd=new Hr,this.sliderStart=new Hr,this.sunburstclick=new Hr,this.transitioning=new Hr,this.transitionInterrupted=new Hr,this.unhover=new Hr,this.treemapclick=new Hr,this.webglcontextlost=new Hr,this.eventNames=["afterExport","afterPlot","animated","animatingFrame","animationInterrupted","autoSize","beforeExport","beforeHover","buttonClicked","clickAnnotation","deselect","doubleClick","framework","hover","legendClick","legendDoubleClick","react","relayout","relayouting","restyle","redraw","selected","selecting","sliderChange","sliderEnd","sliderStart","sunburstclick","transitioning","transitionInterrupted","unhover","treemapclick","webglcontextlost"]}ngOnInit(){this.createPlot().then(()=>{const t=this.createFigure();this.initialized.emit(t)}),this.click.observers.length>0&&console.error("DEPRECATED: Reconsider using `(plotlyClick)` instead of `(click)` to avoid event conflict. Please check https://github.com/plotly/angular-plotly.js#FAQ")}ngOnDestroy(){if("function"==typeof this.resizeHandler&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0),this.plotlyInstance){const t=this.createFigure();this.purge.emit(t),Ro.remove(this.plotlyInstance)}}ngOnChanges(t){let y=!1;const L=t.revision;L&&!L.isFirstChange()&&(y=!0);const K=t.debug;K&&!K.isFirstChange()&&(y=!0),y&&this.updatePlot(),this.updateWindowResizeHandler()}ngDoCheck(){if(this.updateOnlyWithRevision)return!1;let t=!1;this.updateOnLayoutChange&&(this.layoutDiffer?this.layoutDiffer.diff(this.layout)&&(t=!0):this.layoutDiffer=this.layout?this.keyValueDiffers.find(this.layout).create():void 0),this.updateOnDataChange&&(this.dataDiffer?this.dataDiffer.diff(this.data)&&(t=!0):this.dataDiffer=Array.isArray(this.data)?this.iterableDiffers.find(this.data).create(this.dataDifferTrackBy):void 0),t&&this.plotlyInstance&&this.updatePlot()}getData(){return this.data??[]}getWindow(){return window}getClassName(){let t=[this.defaultClassName];return Array.isArray(this.className)?t=t.concat(this.className):this.className&&t.push(this.className),t.join(" ")}createPlot(){return this.plotly.newPlot(this.plotEl.nativeElement,this.getData(),this.layout,this.config,this.frames).then(t=>{this.plotlyInstance=t,this.getWindow().gd=this.debug?t:void 0,this.eventNames.forEach(y=>{const L=`plotly_${y.toLowerCase()}`,K=this[y];t.on(L,me=>K.emit(me))}),t.on("plotly_click",y=>{this.plotlyClick.emit(y)}),this.updateWindowResizeHandler()},t=>{console.error("Error while plotting:",t),this.error.emit(t)})}createFigure(){const t=this.plotlyInstance;return{data:t.data,layout:t.layout,frames:t._transitionData?t._transitionData._frames:null}}updatePlot(){if(!this.plotlyInstance){const y=new Error("Plotly component wasn't initialized");throw this.error.emit(y),y}const t={...this.layout};return this.plotly.update(this.plotlyInstance,this.getData(),t,this.config,this.frames).then(()=>{const y=this.createFigure();this.update.emit(y)},y=>{console.error("Error while updating plot:",y),this.error.emit(y)})}updateWindowResizeHandler(){this.useResizeHandler?void 0===this.resizeHandler&&(this.resizeHandler=()=>this.plotly.resize(this.plotlyInstance),this.getWindow().addEventListener("resize",this.resizeHandler)):"function"==typeof this.resizeHandler&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0)}dataDifferTrackBy(t,y){const L=Object.assign({},y,{uid:""});return JSON.stringify(L)}loadTheme(){void 0!==this.layout&&console.warn("You fulfill both `theme` and `layout` properties. This will overwrite the `layout` data with the `theme` data."),this.themeLoader.load(this.theme).then(t=>this.layout=t)}}return e.\u0275fac=function(t){return new(t||e)(Wn(Ro),Wn(yP),Wn(um),Wn(y0))},e.\u0275cmp=ji({type:e,selectors:[["plotly-plot"]],viewQuery:function(t,y){if(1&t&&qd(mP,7),2&t){let L;Fo(L=zo())&&(y.plotEl=L.first)}},inputs:{data:"data",layout:"layout",config:"config",frames:"frames",style:"style",theme:"theme",divId:"divId",revision:"revision",className:"className",debug:"debug",useResizeHandler:"useResizeHandler",updateOnLayoutChange:"updateOnLayoutChange",updateOnDataChange:"updateOnDataChange",updateOnlyWithRevision:"updateOnlyWithRevision"},outputs:{initialized:"initialized",update:"update",purge:"purge",error:"error",afterExport:"afterExport",afterPlot:"afterPlot",animated:"animated",animatingFrame:"animatingFrame",animationInterrupted:"animationInterrupted",autoSize:"autoSize",beforeExport:"beforeExport",beforeHover:"beforeHover",buttonClicked:"buttonClicked",click:"click",plotlyClick:"plotlyClick",clickAnnotation:"clickAnnotation",deselect:"deselect",doubleClick:"doubleClick",framework:"framework",hover:"hover",legendClick:"legendClick",legendDoubleClick:"legendDoubleClick",react:"react",relayout:"relayout",relayouting:"relayouting",restyle:"restyle",redraw:"redraw",selected:"selected",selecting:"selecting",sliderChange:"sliderChange",sliderEnd:"sliderEnd",sliderStart:"sliderStart",sunburstclick:"sunburstclick",transitioning:"transitioning",transitionInterrupted:"transitionInterrupted",unhover:"unhover",treemapclick:"treemapclick",webglcontextlost:"webglcontextlost"},features:[ea([Ro]),Li],ngContentSelectors:vP,decls:3,vars:3,consts:[[3,"ngClass","ngStyle"],["plot",""]],template:function(t,y){1&t&&(a0(),Rr(0,"div",0,1),s0(2),Gr()),2&t&&(jr("ngClass",y.getClassName())("ngStyle",y.style),bo("id",y.divId))},dependencies:[T5,C5],encapsulation:2}),e})(),my=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({providers:[Ro],imports:[Fv]}),e})(),FA=(()=>{class e{constructor(){if(!this.isValid())throw new Error("Invalid PlotlyJS object. Please check https://github.com/plotly/angular-plotly.js#quick-start to see how to add PlotlyJS to your project.");Ro.setPlotly(e.plotlyjs)}isValid(){return void 0!==e.plotlyjs&&("function"==typeof e.plotlyjs.plot||"function"==typeof e.plotlyjs.newPlot)}}return e.plotlyjs={},e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({providers:[Ro],imports:[Fv,my,my]}),e})();class is{constructor(n){this.plotlyService=n,Ro.setModuleName("ViaCDN")}static setPlotlyVersion(n,t="plotly",y=""){if("latest"!==n&&!/^(strict-)?\d\.\d{1,2}\.\d{1,2}$/.test(n))throw new Error("Invalid plotly version. Please set 'latest' or version number (i.e.: 1.4.3) or strict version number (i.e.: strict-1.4.3)");is.loadViaCDN(t,y),is.plotlyVersion=n}static setPlotlyBundle(n){if(!(null===n||is.plotlyBundleNames.indexOf(n)>=0)){const y=is.plotlyBundleNames.map(L=>`"${L}"`).join(", ");throw new Error(`Invalid plotly bundle. Please set to null for full or ${y} for a partial bundle.`)}is.plotlyBundle=n}static loadViaCDN(n="plotly",t=""){Ro.setPlotly("waiting"),setTimeout(()=>{let L="";switch(n){case"cloudflare":if("latest"==is.plotlyVersion)throw new Error("As cloudflare hosts version specific files, 'latest' as a version is not supported. Please specify a version or you can choose 'plotly' as a CDN provider.");L=null==is.plotlyBundle?`https://cdnjs.cloudflare.com/ajax/libs/plotly.js/${is.plotlyVersion}/plotly.min.js`:`https://cdnjs.cloudflare.com/ajax/libs/plotly.js/${is.plotlyVersion}/plotly-${is.plotlyBundle}.min.js`;break;case"custom":if(!t||"string"!=typeof t)throw new Error("Invalid or missing CDN URL. Please provide a CDN URL in case of custom provider. Alternatively, you can choose from 'plotly' or 'cloudflare'.");L=t;break;default:L=null==is.plotlyBundle?`https://cdn.plot.ly/plotly-${is.plotlyVersion}.min.js`:`https://cdn.plot.ly/plotly-${is.plotlyBundle}-${is.plotlyVersion}.min.js`}const K=document.createElement("script");K.type="text/javascript",K.src=L,K.onerror=()=>console.error(`Error loading plotly.js library from ${L}`),document.getElementsByTagName("head")[0].appendChild(K);let ze=200;const Ze=()=>{const ot=window.Plotly;if(ot)Ro.setPlotly(ot);else{if(!(ze>0))throw new Error(`Error loading plotly.js library from ${L}. Timeout.`);ze--,setTimeout(Ze,50)}};Ze()})}}is.plotlyBundle=void 0,is.plotlyVersion="latest",is.plotlyBundleNames=["basic","cartesian","geo","gl3d","gl2d","mapbox","finance"],is.\u0275fac=function(n){return new(n||is)(Nr(Ro))},is.\u0275mod=ro({type:is}),is.\u0275inj=lr({providers:[Ro],imports:[Fv,my,my]});let xP=(()=>{class e{constructor(t,y){this.router=t,this.workoutService=y,this.workouts=[],this.graphData=[],this.graphLayout={title:"Gr\xe1fico de intensidade e volume",xaxis:{title:"Tempo"},yaxis:{title:"Valores"}},this.preencherGraphData()}preencherGraphData(){const t={x:[],y:[],type:"scatter",name:"Volume"};this.workoutService.getWorkouts().subscribe(y=>{this.workouts=y,this.workouts.forEach(L=>{const K=this.calcularVolume(L.workout).reduce((me,ze)=>(me+ze)/100,0).toFixed(1);t.x.push(L.date),t.y.push(K)})}),this.graphData.push(t)}calcularVolume(t){let y=[];return t.forEach(L=>{let K=0;L.exercises.forEach(me=>{const ze=this.sumAllValues(me.weight),Ze=this.sumAllValues(me.repetitions),ot=parseFloat(me.series);K+=ze*Ze*ot}),y.push(K)}),y}sumAllValues(t){if("string"==typeof t&&t.includes("/")){const y=t.split("/").map(Number);return y.reduce((L,K)=>L+K,0)/y.length}return parseFloat(t.toString())}redirectToWorkouts(){this.router.navigate(["/workouts"])}static#e=this.\u0275fac=function(y){return new(y||e)(Wn(Ku),Wn(RA))};static#t=this.\u0275cmp=ji({type:e,selectors:[["app-home"]],decls:15,vars:2,consts:[[3,"data","layout"],[1,"buttons-container","mx-auto","p-2"],[1,"btn","btn-primary","mx-2",3,"click"],[1,"fa","fa-dumbbell"],[1,"btn","btn-primary","mx-2"],[1,"fa","fa-star"],[1,"fa","fa-history"]],template:function(y,L){1&y&&(Rr(0,"div"),za(1,"plotly-plot",0),Gr(),Rr(2,"div",1)(3,"button",2),Ti("click",function(){return L.redirectToWorkouts()}),za(4,"i",3),Rr(5,"p"),So(6,"Workouts"),Gr()(),Rr(7,"button",4),za(8,"i",5),Rr(9,"p"),So(10,"Evaluations"),Gr()(),Rr(11,"button",4),za(12,"i",6),Rr(13,"p"),So(14,"History"),Gr()()()),2&y&&(Or(1),jr("data",L.graphData)("layout",L.graphLayout))},dependencies:[_P],styles:['@charset "UTF-8";button[_ngcontent-%COMP%]{width:15%}.btn[_ngcontent-%COMP%]{display:flex;height:10em;align-content:flex-end;justify-content:center;flex-wrap:nowrap;flex-direction:column;align-items:center}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:center}']})}return e})();const bP=["addListener","removeListener"],wP=["addEventListener","removeEventListener"],TP=["on","off"];function Xl(e,n,t,y){if(zi(t)&&(y=t,t=void 0),y)return Xl(e,n,t).pipe(cb(y));const[L,K]=function kP(e){return zi(e.addEventListener)&&zi(e.removeEventListener)}(e)?wP.map(me=>ze=>e[me](n,ze,t)):function MP(e){return zi(e.addListener)&&zi(e.removeListener)}(e)?bP.map(zA(e,n)):function AP(e){return zi(e.on)&&zi(e.off)}(e)?TP.map(zA(e,n)):[];if(!L&&St(e))return wt(me=>Xl(me,n,t))(rt(e));if(!L)throw new TypeError("Invalid event target");return new R(me=>{const ze=(...Ze)=>me.next(1<Ze.length?Ze:Ze[0]);return L(ze),()=>K(ze)})}function zA(e,n){return t=>y=>e[t](n,y)}class SP extends D{constructor(n,t){super()}schedule(n,t=0){return this}}const vy={setInterval(e,n,...t){const{delegate:y}=vy;return y?.setInterval?y.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=vy;return(n?.clearInterval||clearInterval)(e)},delegate:void 0},BA={now:()=>(BA.delegate||Date).now(),delegate:void 0};class Rm{constructor(n,t=Rm.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,y){return new this.schedulerActionCtor(this,n).schedule(y,t)}}Rm.now=BA.now;const DP=new class CP extends Rm{constructor(n,t=Rm.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let y;this._active=!0;do{if(y=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,y){for(;n=t.shift();)n.unsubscribe();throw y}}}(class EP extends SP{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var y;if(this.closed)return this;this.state=n;const L=this.id,K=this.scheduler;return null!=L&&(this.id=this.recycleAsyncId(K,L,t)),this.pending=!0,this.delay=t,this.id=null!==(y=this.id)&&void 0!==y?y:this.requestAsyncId(K,this.id,t),this}requestAsyncId(n,t,y=0){return vy.setInterval(n.flush.bind(n,this),y)}recycleAsyncId(n,t,y=0){if(null!=y&&this.delay===y&&!1===this.pending)return t;null!=t&&vy.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const y=this._execute(n,t);if(y)return y;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let L,y=!1;try{this.work(n)}catch(K){y=!0,L=K||new Error("Scheduled action threw falsy error")}if(y)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:y}=t;this.work=this.state=this.scheduler=null,this.pending=!1,r(y,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}});function Vb(e=0,n,t=DP){let y=-1;return null!=n&&(Tt(n)?t=n:y=n),new R(L=>{let K=function OP(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;K<0&&(K=0);let me=0;return t.schedule(function(){L.closed||(L.next(me++),0<=y?this.schedule(void 0,y):L.complete())},K)})}const{isArray:IP}=Array;function UA(e){return 1===e.length&&IP(e[0])?e[0]:e}const HA=new R(i);function yy(...e){const n=Wt(e),t=UA(e);return t.length?new R(y=>{let L=t.map(()=>[]),K=t.map(()=>!1);y.add(()=>{L=K=null});for(let me=0;!y.closed&&me<t.length;me++)rt(t[me]).subscribe(Y(y,ze=>{if(L[me].push(ze),L.every(Ze=>Ze.length)){const Ze=L.map(ot=>ot.shift());y.next(n?n(...Ze):Ze),L.some((ot,yt)=>!ot.length&&K[yt])&&y.complete()}},()=>{K[me]=!0,!L[me].length&&y.complete()}));return()=>{L=K=null}}):_t}function gs(e){return G((n,t)=>{rt(e).subscribe(Y(t,()=>t.complete(),i)),!t.closed&&n.subscribe(t)})}function Hb(e,n=k){return e=e??LP,G((t,y)=>{let L,K=!0;t.subscribe(Y(y,me=>{const ze=n(me);(K||!e(L,ze))&&(K=!1,L=ze,y.next(me))}))})}function LP(e,n){return e===n}function Gb(...e){const n=Wt(e);return G((t,y)=>{const L=e.length,K=new Array(L);let me=e.map(()=>!1),ze=!1;for(let Ze=0;Ze<L;Ze++)rt(e[Ze]).subscribe(Y(y,ot=>{K[Ze]=ot,!ze&&!me[Ze]&&(me[Ze]=!0,(ze=me.every(k))&&(me=null))},i));t.subscribe(Y(y,Ze=>{if(ze){const ot=[Ze,...K];y.next(n?n(...ot):ot)}}))})}const Ju=new gi("NgValueAccessor");function WL(e,n){}function qL(e,n){if(1&e&&(Rr(0,"button",3),So(1),Jr(2,WL,0,0,"ng-template",4),Gr()),2&e){const t=n.$implicit;jr("ngbPanelToggle",t),Or(1),Jf(" ",t.title," "),Or(1),jr("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function $L(e,n){}function ZL(e,n){}function YL(e,n){if(1&e){const t=Sa();Rr(0,"div",8),Ti("ngbRef",function(L){return _i(t),Ci(Xr().$implicit.panelDiv=L)}),Rr(1,"div",9),Jr(2,ZL,0,0,"ng-template",4),Gr()()}if(2&e){const t=Xr().$implicit;V_("id",t.id),bo("aria-labelledby",t.id+"-header"),Or(2),jr("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}Math,Math,Math;const XL=function(e,n){return{$implicit:e,opened:n}};function KL(e,n){if(1&e&&(Rr(0,"div")(1,"div",5),Jr(2,$L,0,0,"ng-template",6),Gr(),Jr(3,YL,3,3,"div",7),Gr()),2&e){const t=n.$implicit,y=Xr(),L=$u(1);Wd("accordion-item "+(t.cardClass||"")),Or(1),Wd("accordion-header "+(t.type?"bg-"+t.type:y.type?"bg-"+y.type:"")),l0("id","",t.id,"-header"),Or(1),jr("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||L)("ngTemplateOutletContext",im(8,XL,t,t.isOpen)),Or(1),jr("ngIf",!y.destroyOnHide||t.isOpen||t.transitionRunning)}}function JL(e,n){if(1&e){const t=Sa();Rr(0,"button",1),Ti("click",function(){return _i(t),Ci(Xr().close())}),Gr()}}const Iy=["*"];function QL(e,n){if(1&e){const t=Sa();Rr(0,"button",6),Ti("click",function(){const K=_i(t).$implicit,me=Xr();return me.focus(),Ci(me.select(K.id,me.NgbSlideEventSource.INDICATOR))}),Gr()}if(2&e){const t=n.$implicit,y=Xr();Ri("active",t.id===y.activeId),bo("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===y.activeId)}}function eN(e,n){}function tN(e,n){if(1&e&&(Rr(0,"div",7)(1,"span",8),Zl(2,9),Gr(),Jr(3,eN,0,0,"ng-template",10),Gr()),2&e){const t=n.$implicit,y=n.index,L=n.count;jr("id","slide-"+t.id),Or(2),h0(y+1)(L),nm(2),Or(1),jr("ngTemplateOutlet",t.tplRef)}}function nN(e,n){if(1&e){const t=Sa();Rr(0,"button",11),Ti("click",function(){return _i(t),Ci(Xr().arrowLeft())}),za(1,"span",12),Rr(2,"span",8),Zl(3,13),Gr()()}}function rN(e,n){if(1&e){const t=Sa();Rr(0,"button",14),Ti("click",function(){return _i(t),Ci(Xr().arrowRight())}),za(1,"span",15),Rr(2,"span",8),Zl(3,16),Gr()()}}const iN=["ngbDatepickerDayView",""],oN=["month"],aN=["year"];function sN(e,n){if(1&e&&(Rr(0,"option",5),So(1),Gr()),2&e){const t=n.$implicit,y=Xr();jr("value",t),bo("aria-label",y.i18n.getMonthFullName(t,y.date.year)),Or(1),Ol(y.i18n.getMonthShortName(t,y.date.year))}}function lN(e,n){if(1&e&&(Rr(0,"option",5),So(1),Gr()),2&e){const t=n.$implicit,y=Xr();jr("value",t),Or(1),Ol(y.i18n.getYearNumerals(t))}}function uN(e,n){if(1&e){const t=Sa();Rr(0,"ngb-datepicker-navigation-select",7),Ti("select",function(L){return _i(t),Ci(Xr().select.emit(L))}),Gr()}if(2&e){const t=Xr();jr("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function cN(e,n){1&e&&za(0,"div",0)}function fN(e,n){1&e&&za(0,"div",0)}function dN(e,n){if(1&e&&(Jr(0,cN,1,0,"div",9),Rr(1,"div",10),So(2),Gr(),Jr(3,fN,1,0,"div",9)),2&e){const t=n.$implicit,y=n.index,L=Xr(2);jr("ngIf",y>0),Or(2),Jf(" ",L.i18n.getMonthLabel(t.firstDate)," "),Or(1),jr("ngIf",y!==L.months.length-1)}}function hN(e,n){1&e&&Jr(0,dN,4,3,"ng-template",8),2&e&&jr("ngForOf",Xr().months)}function pN(e,n){if(1&e&&(Rr(0,"div",5),So(1),Gr()),2&e){const t=Xr(2);Or(1),Ol(t.i18n.getWeekLabel())}}function gN(e,n){if(1&e&&(Rr(0,"div",6),So(1),Gr()),2&e){const t=n.$implicit;Or(1),Ol(t)}}function mN(e,n){if(1&e&&(Rr(0,"div",2),Jr(1,pN,2,1,"div",3),Jr(2,gN,2,1,"div",4),Gr()),2&e){const t=Xr();Or(1),jr("ngIf",t.datepicker.showWeekNumbers),Or(1),jr("ngForOf",t.viewModel.weekdays)}}function vN(e,n){if(1&e&&(Rr(0,"div",11),So(1),Gr()),2&e){const t=Xr(2).$implicit,y=Xr();Or(1),Ol(y.i18n.getWeekNumerals(t.number))}}function yN(e,n){}function _N(e,n){if(1&e&&Jr(0,yN,0,0,"ng-template",14),2&e){const t=Xr().$implicit;jr("ngTemplateOutlet",Xr(3).datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function xN(e,n){if(1&e){const t=Sa();Rr(0,"div",12),Ti("click",function(L){const me=_i(t).$implicit;return Xr(3).doSelect(me),Ci(L.preventDefault())}),Jr(1,_N,1,2,"ng-template",13),Gr()}if(2&e){const t=n.$implicit;Ri("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),jr("tabindex",t.tabindex),bo("aria-label",t.ariaLabel),Or(1),jr("ngIf",!t.hidden)}}function bN(e,n){if(1&e&&(Rr(0,"div",8),Jr(1,vN,2,1,"div",9),Jr(2,xN,2,9,"div",10),Gr()),2&e){const t=Xr().$implicit,y=Xr();Or(1),jr("ngIf",y.datepicker.showWeekNumbers),Or(1),jr("ngForOf",t.days)}}function wN(e,n){1&e&&Jr(0,bN,3,2,"div",7),2&e&&jr("ngIf",!n.$implicit.collapsed)}const TN=["defaultDayTemplate"],MN=["content"];function AN(e,n){if(1&e&&za(0,"div",8),2&e){const y=n.currentMonth,L=n.selected,K=n.disabled,me=n.focused;jr("date",n.date)("currentMonth",y)("selected",L)("disabled",K)("focused",me)}}function kN(e,n){if(1&e&&(Rr(0,"div",13),So(1),Gr()),2&e){const t=Xr().$implicit,y=Xr(2);Or(1),Jf(" ",y.i18n.getMonthLabel(t.firstDate)," ")}}function SN(e,n){if(1&e&&(Rr(0,"div",10),Jr(1,kN,2,1,"div",11),za(2,"ngb-datepicker-month",12),Gr()),2&e){const t=n.$implicit,y=Xr(2);Or(1),jr("ngIf","none"===y.navigation||y.displayMonths>1&&"select"===y.navigation),Or(1),jr("month",t.firstDate)}}function EN(e,n){1&e&&Jr(0,SN,3,2,"div",9),2&e&&jr("ngForOf",Xr().model.months)}function CN(e,n){if(1&e){const t=Sa();Rr(0,"ngb-datepicker-navigation",14),Ti("navigate",function(L){return _i(t),Ci(Xr().onNavigateEvent(L))})("select",function(L){return _i(t),Ci(Xr().onNavigateDateSelect(L))}),Gr()}if(2&e){const t=Xr();jr("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function DN(e,n){}function ON(e,n){}const ck=function(e){return{$implicit:e}},IN=["dialog"],PN=["ngbNavOutlet",""];function RN(e,n){}function LN(e,n){if(1&e&&(Rr(0,"div",2),Jr(1,RN,0,0,"ng-template",3),Gr()),2&e){const t=Xr().$implicit,y=Xr();jr("item",t)("nav",y.nav)("role",y.paneRole),Or(1),jr("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",rm(5,ck,t.active||y.isPanelTransitioning(t)))}}function NN(e,n){if(1&e&&Jr(0,LN,2,7,"div",1),2&e){const t=n.$implicit,y=Xr();jr("ngIf",t.isPanelInDom()||y.isPanelTransitioning(t))}}function FN(e,n){1&e&&(Rr(0,"span",9),Zl(1,10),Gr())}function zN(e,n){1&e&&(Rr(0,"span",9),Zl(1,11),Gr())}function BN(e,n){1&e&&(Rr(0,"span",9),Zl(1,12),Gr())}function jN(e,n){1&e&&(Rr(0,"span",9),Zl(1,13),Gr())}function UN(e,n){1&e&&So(0,"...")}function VN(e,n){1&e&&So(0),2&e&&Ol(n.$implicit)}function HN(e,n){}const GN=function(e){return{disabled:!0,currentPage:e}};function WN(e,n){if(1&e&&(Rr(0,"a",18),Jr(1,HN,0,0,"ng-template",8),Gr()),2&e){const t=Xr(2).$implicit,y=Xr(),L=$u(9);Or(1),jr("ngTemplateOutlet",(null==y.tplEllipsis?null:y.tplEllipsis.templateRef)||L)("ngTemplateOutletContext",rm(2,GN,t))}}function qN(e,n){}const $N=function(e,n,t){return{disabled:e,$implicit:n,currentPage:t}};function ZN(e,n){if(1&e){const t=Sa();Rr(0,"a",19),Ti("click",function(L){_i(t);const K=Xr().$implicit;return Xr(2).selectPage(K),Ci(L.preventDefault())}),Jr(1,qN,0,0,"ng-template",8),Gr()}if(2&e){const t=Xr().$implicit,y=Xr(),L=y.disabled,K=y.$implicit,me=Xr(),ze=$u(11);bo("tabindex",L?"-1":null)("aria-disabled",L?"true":null),Or(1),jr("ngTemplateOutlet",(null==me.tplNumber?null:me.tplNumber.templateRef)||ze)("ngTemplateOutletContext",tx(4,$N,L,t,K))}}function YN(e,n){if(1&e&&(Rr(0,"li",15),Jr(1,WN,2,4,"a",16),Jr(2,ZN,2,8,"a",17),Gr()),2&e){const t=n.$implicit,y=Xr(),L=y.$implicit,K=y.disabled,me=Xr();Ri("active",t===L)("disabled",me.isEllipsis(t)||K),bo("aria-current",t===L?"page":null),Or(1),jr("ngIf",me.isEllipsis(t)),Or(1),jr("ngIf",!me.isEllipsis(t))}}function XN(e,n){1&e&&Jr(0,YN,3,7,"li",14),2&e&&jr("ngForOf",n.pages)}function KN(e,n){}const T2=function(e,n){return{disabled:e,currentPage:n}};function JN(e,n){if(1&e){const t=Sa();Rr(0,"li",15)(1,"a",20),Ti("click",function(L){return _i(t),Xr().selectPage(1),Ci(L.preventDefault())}),Jr(2,KN,0,0,"ng-template",8),Gr()()}if(2&e){const t=Xr(),y=$u(1);Ri("disabled",t.previousDisabled()),Or(1),bo("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),Or(1),jr("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||y)("ngTemplateOutletContext",im(6,T2,t.previousDisabled(),t.page))}}function QN(e,n){}const eF=function(e){return{disabled:e}};function tF(e,n){if(1&e){const t=Sa();Rr(0,"li",15)(1,"a",21),Ti("click",function(L){_i(t);const K=Xr();return K.selectPage(K.page-1),Ci(L.preventDefault())}),Jr(2,QN,0,0,"ng-template",8),Gr()()}if(2&e){const t=Xr(),y=$u(3);Ri("disabled",t.previousDisabled()),Or(1),bo("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),Or(1),jr("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||y)("ngTemplateOutletContext",rm(6,eF,t.previousDisabled()))}}function nF(e,n){}function rF(e,n){}function iF(e,n){if(1&e){const t=Sa();Rr(0,"li",15)(1,"a",22),Ti("click",function(L){_i(t);const K=Xr();return K.selectPage(K.page+1),Ci(L.preventDefault())}),Jr(2,rF,0,0,"ng-template",8),Gr()()}if(2&e){const t=Xr(),y=$u(5);Ri("disabled",t.nextDisabled()),Or(1),bo("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),Or(1),jr("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||y)("ngTemplateOutletContext",im(6,T2,t.nextDisabled(),t.page))}}function oF(e,n){}function aF(e,n){if(1&e){const t=Sa();Rr(0,"li",15)(1,"a",23),Ti("click",function(L){_i(t);const K=Xr();return K.selectPage(K.pageCount),Ci(L.preventDefault())}),Jr(2,oF,0,0,"ng-template",8),Gr()()}if(2&e){const t=Xr(),y=$u(7);Ri("disabled",t.nextDisabled()),Or(1),bo("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),Or(1),jr("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||y)("ngTemplateOutletContext",im(6,T2,t.nextDisabled(),t.page))}}const sF=function(e,n,t){return{$implicit:e,pages:n,disabled:t}};function cF(e,n){if(1&e&&(Rr(0,"span"),Zl(1,1),nx(2,"percent"),Gr()),2&e){const t=Xr();Or(2),h0(function nT(e,n,t){const y=e+di,L=kr(),K=xa(L,y);return am(L,y)?K3(L,_e(),n,K.transform,t,K):K.transform(t)}(2,1,t.getValue()/t.max)),nm(1)}}function fF(e,n){1&e&&So(0),2&e&&Ol(100===n.fill?"\u2605":"\u2606")}function dF(e,n){}function hF(e,n){if(1&e){const t=Sa();Rr(0,"span",2),So(1),Gr(),Rr(2,"span",3),Ti("mouseenter",function(){const K=_i(t).index;return Ci(Xr().enter(K+1))})("click",function(){const K=_i(t).index;return Ci(Xr().handleClick(K+1))}),Jr(3,dF,0,0,"ng-template",4),Gr()}if(2&e){const t=n.index,y=Xr(),L=$u(1);Or(1),Jf("(",t<y.nextRate?"*":" ",")"),Or(1),c0("cursor",y.isInteractive()?"pointer":"default"),Or(1),jr("ngTemplateOutlet",y.starTemplate||y.starTemplateFromContent||L)("ngTemplateOutletContext",y.contexts[t])}}function pF(e,n){if(1&e){const t=Sa();Rr(0,"button",11),Ti("click",function(){_i(t);const L=Xr();return Ci(L.changeHour(L.hourStep))}),za(1,"span",12),Rr(2,"span",13),Zl(3,14),Gr()()}if(2&e){const t=Xr();Ri("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),jr("disabled",t.disabled)}}function gF(e,n){if(1&e){const t=Sa();Rr(0,"button",11),Ti("click",function(){_i(t);const L=Xr();return Ci(L.changeHour(-L.hourStep))}),za(1,"span",15),Rr(2,"span",13),Zl(3,16),Gr()()}if(2&e){const t=Xr();Ri("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),jr("disabled",t.disabled)}}function mF(e,n){if(1&e){const t=Sa();Rr(0,"button",11),Ti("click",function(){_i(t);const L=Xr();return Ci(L.changeMinute(L.minuteStep))}),za(1,"span",12),Rr(2,"span",13),Zl(3,17),Gr()()}if(2&e){const t=Xr();Ri("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),jr("disabled",t.disabled)}}function vF(e,n){if(1&e){const t=Sa();Rr(0,"button",11),Ti("click",function(){_i(t);const L=Xr();return Ci(L.changeMinute(-L.minuteStep))}),za(1,"span",15),Rr(2,"span",13),Zl(3,18),Gr()()}if(2&e){const t=Xr();Ri("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),jr("disabled",t.disabled)}}function yF(e,n){1&e&&(Rr(0,"div",5),So(1,":"),Gr())}function _F(e,n){if(1&e){const t=Sa();Rr(0,"button",11),Ti("click",function(){_i(t);const L=Xr(2);return Ci(L.changeSecond(L.secondStep))}),za(1,"span",12),Rr(2,"span",13),Zl(3,21),Gr()()}if(2&e){const t=Xr(2);Ri("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),jr("disabled",t.disabled)}}function xF(e,n){if(1&e){const t=Sa();Rr(0,"button",11),Ti("click",function(){_i(t);const L=Xr(2);return Ci(L.changeSecond(-L.secondStep))}),za(1,"span",15),Rr(2,"span",13),Zl(3,22),Gr()()}if(2&e){const t=Xr(2);Ri("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),jr("disabled",t.disabled)}}function bF(e,n){if(1&e){const t=Sa();Rr(0,"div",19),Jr(1,_F,4,7,"button",3),Rr(2,"input",20),Ti("change",function(L){return _i(t),Ci(Xr().updateSecond(L.target.value))})("blur",function(){return _i(t),Ci(Xr().handleBlur())})("input",function(L){return _i(t),Ci(Xr().formatInput(L.target))})("keydown.ArrowUp",function(L){_i(t);const K=Xr();return K.changeSecond(K.secondStep),Ci(L.preventDefault())})("keydown.ArrowDown",function(L){_i(t);const K=Xr();return K.changeSecond(-K.secondStep),Ci(L.preventDefault())}),Gr(),Jr(3,xF,4,7,"button",3),Gr()}if(2&e){const t=Xr();Or(1),jr("ngIf",t.spinners),Or(1),Ri("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),jr("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),Or(1),jr("ngIf",t.spinners)}}function wF(e,n){1&e&&za(0,"div",5)}function TF(e,n){if(1&e&&(uv(0),Zl(1,27),cv()),2&e){const t=Xr(2);Or(1),h0(t.i18n.getAfternoonPeriod()),nm(1)}}function MF(e,n){1&e&&Zl(0,28),2&e&&(h0(Xr(2).i18n.getMorningPeriod()),nm(0))}function AF(e,n){if(1&e){const t=Sa();Rr(0,"div",23)(1,"button",24),Ti("click",function(){return _i(t),Ci(Xr().toggleMeridian())}),Jr(2,TF,2,1,"ng-container",25),Jr(3,MF,1,1,"ng-template",null,26,Lu),Gr()()}if(2&e){const t=$u(4),y=Xr();Or(1),Ri("btn-sm",y.isSmallSize)("btn-lg",y.isLargeSize)("disabled",y.disabled),jr("disabled",y.disabled),Or(1),jr("ngIf",y.model&&y.model.hour>=12)("ngIfElse",t)}}function kF(e,n){if(1&e&&(Rr(0,"strong",3),So(1),Gr()),2&e){const t=Xr();Or(1),Ol(t.header)}}function SF(e,n){}function EF(e,n){if(1&e){const t=Sa();Rr(0,"div",4),Jr(1,SF,0,0,"ng-template",5),Rr(2,"button",6),Ti("click",function(){return _i(t),Ci(Xr().hide())}),Gr()()}if(2&e){const t=Xr(),y=$u(1);Or(1),jr("ngTemplateOutlet",t.contentHeaderTpl||y)}}function CF(e,n){if(1&e&&(Rr(0,"span"),So(1),Gr()),2&e){const t=Xr().$implicit;Wd(Xr().highlightClass),Or(1),Ol(t)}}function DF(e,n){1&e&&So(0),2&e&&Ol(Xr().$implicit)}function OF(e,n){if(1&e&&(Jr(0,CF,2,3,"span",1),Jr(1,DF,1,1,"ng-template",null,2,Lu)),2&e){const t=n.odd,y=$u(2);jr("ngIf",t)("ngIfElse",y)}}function Jl(e){return parseInt(`${e}`,10)}function fk(e){return null!=e?`${e}`:""}function Py(e,n,t=0){return Math.max(Math.min(e,n),t)}function N0(e){return"string"==typeof e}function ms(e){return!isNaN(Jl(e))}function os(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function Qh(e){return null!=e}function F0(e){return ms(e)?`0${e}`.slice(-2):""}function hk(e,n){return e&&e.className&&e.className.split&&e.className.split(/\s+/).indexOf(n)>=0}function z0(e){return(e||document.body).getBoundingClientRect()}function pk(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const gk={animation:!0,transitionTimerDelayMs:5},zF=()=>{},{transitionTimerDelayMs:BF}=gk,qm=new Map,cl=(e,n,t,y)=>{let L=y.context||{};const K=qm.get(n);if(K)switch(y.runningTransition){case"continue":return _t;case"stop":e.run(()=>K.transition$.complete()),L=Object.assign(K.context,L),qm.delete(n)}const me=t(n,y.animation,L)||zF;if(!y.animation||"none"===window.getComputedStyle(n).transitionProperty)return e.run(()=>me()),Mi(void 0).pipe(function NF(e){return n=>new R(t=>n.subscribe({next:me=>e.run(()=>t.next(me)),error:me=>e.run(()=>t.error(me)),complete:()=>e.run(()=>t.complete())}))}(e));const ze=new Z,Ze=new Z,ot=ze.pipe(function RP(...e){return n=>vm(n,Mi(...e))}(!0));qm.set(n,{transition$:ze,complete:()=>{Ze.next(),Ze.complete()},context:L});const yt=function FF(e){const{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e);return 1e3*(parseFloat(n)+parseFloat(t))}(n);return e.runOutsideAngular(()=>{const zt=Xl(n,"transitionend").pipe(gs(ot),ul(({target:hn})=>hn===n));(function VA(...e){return 1===(e=UA(e)).length?rt(e[0]):new R(function PP(e){return n=>{let t=[];for(let y=0;t&&!n.closed&&y<e.length;y++)t.push(rt(e[y]).subscribe(Y(n,L=>{if(t){for(let K=0;K<t.length;K++)K!==y&&t[K].unsubscribe();t=null}n.next(L)})))}}(e))})(Vb(yt+BF).pipe(gs(ot)),zt,Ze).pipe(gs(ot)).subscribe(()=>{qm.delete(n),e.run(()=>{me(),ze.next(),ze.complete()})})}),ze.asObservable()},M2=(e,n,t)=>{let{direction:y,maxSize:L,dimension:K}=t;const{classList:me}=e;function ze(){me.add("collapse"),"show"===y?me.add("show"):me.remove("show")}if(n)return L||(L=function UF(e,n){if(typeof navigator>"u")return"0px";const{classList:t}=e,y=t.contains("show");y||t.add("show"),e.style[n]="";const L=e.getBoundingClientRect()[n]+"px";return y||t.remove("show"),L}(e,K),t.maxSize=L,e.style[K]="show"!==y?L:"0px",me.remove("collapse"),me.remove("collapsing"),me.remove("show"),z0(e),me.add("collapsing")),e.style[K]="show"===y?L:"0px",()=>{ze(),me.remove("collapsing"),e.style[K]=""};ze()};let ep=(()=>{class e{constructor(){this.animation=gk.animation}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),mk=(()=>{class e{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return e.\u0275fac=function(t){return new(t||e)(Nr(ep))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),VF=0,A2=(()=>{class e{constructor(t){this.templateRef=t}}return e.\u0275fac=function(t){return new(t||e)(Wn(Ea))},e.\u0275dir=Br({type:e,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),e})(),vk=(()=>{class e{constructor(t){this.templateRef=t}}return e.\u0275fac=function(t){return new(t||e)(Wn(Ea))},e.\u0275dir=Br({type:e,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),e})(),yk=(()=>{class e{constructor(t){this.templateRef=t}}return e.\u0275fac=function(t){return new(t||e)(Wn(Ea))},e.\u0275dir=Br({type:e,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),e})(),k2=(()=>{class e{constructor(){this.disabled=!1,this.id="ngb-panel-"+VF++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new Hr,this.hidden=new Hr}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Br({type:e,selectors:[["ngb-panel"]],contentQueries:function(t,y,L){if(1&t&&(Ca(L,vk,4),Ca(L,A2,4),Ca(L,yk,4)),2&t){let K;Fo(K=zo())&&(y.titleTpls=K),Fo(K=zo())&&(y.headerTpls=K),Fo(K=zo())&&(y.contentTpls=K)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),e})(),HF=(()=>{class e{constructor(t){this._El=t,this.ngbRef=new Hr}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return e.\u0275fac=function(t){return new(t||e)(Wn(ci))},e.\u0275dir=Br({type:e,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),e})(),_k=(()=>{class e{constructor(t,y){this.accordion=t,this.panel=y}set ngbPanelToggle(t){t&&(this.panel=t)}}return e.\u0275fac=function(t){return new(t||e)(Wn(er(()=>S2)),Wn(k2,9))},e.\u0275dir=Br({type:e,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,y){1&t&&Ti("click",function(){return y.accordion.toggle(y.panel.id)}),2&t&&(sc("disabled",y.panel.disabled),bo("aria-expanded",y.panel.isOpen)("aria-controls",y.panel.id),Ri("collapsed",!y.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),e})(),S2=(()=>{class e{constructor(t,y,L){this._ngZone=y,this._changeDetector=L,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new Hr,this.shown=new Hr,this.hidden=new Hr,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const y=this._findPanelById(t);y&&this._changeOpenState(y,!y.isOpen)}ngAfterContentChecked(){N0(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(Us(1)).subscribe(()=>{this.panels.forEach(t=>{const y=t.panelDiv;y?t.initClassDone||(t.initClassDone=!0,cl(this._ngZone,y,M2,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,y){if(null!=t&&!t.disabled&&t.isOpen!==y){let L=!1;this.panelChange.emit({panelId:t.id,nextState:y,preventDefault:()=>{L=!0}}),L||(t.isOpen=y,t.transitionRunning=!0,y&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,y=!0){this.panels.forEach(L=>{L.id!==t&&L.isOpen&&(L.isOpen=!1,L.transitionRunning=y)})}_findPanelById(t){return this.panels.find(y=>y.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(y=>{y.transitionRunning&&cl(this._ngZone,y.panelDiv,M2,{animation:t,runningTransition:"stop",context:{direction:y.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{y.transitionRunning=!1;const{id:K}=y;y.isOpen?(y.shown.emit(),this.shown.emit(K)):(y.hidden.emit(),this.hidden.emit(K))})})}}return e.\u0275fac=function(t){return new(t||e)(Wn(mk),Wn(Bo),Wn(Zu))},e.\u0275cmp=ji({type:e,selectors:[["ngb-accordion"]],contentQueries:function(t,y,L){if(1&t&&Ca(L,k2,4),2&t){let K;Fo(K=zo())&&(y.panels=K)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,y){2&t&&bo("aria-multiselectable",!y.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[sl],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,y){1&t&&(Jr(0,qL,3,3,"ng-template",0,1,Lu),Jr(2,KL,4,11,"ng-template",2)),2&t&&(Or(2),jr("ngForOf",y.panels))},dependencies:[uc,rd,_k,HF,A2,Xu],encapsulation:2}),e})(),GF=(()=>{class e{constructor(t){this._ngbConfig=t,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return e.\u0275fac=function(t){return new(t||e)(Nr(ep))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),E2=(()=>{class e{constructor(t,y,L){this._element=t,this._zone=L,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new Hr,this.shown=new Hr,this.hidden=new Hr,this.animation=y.animation,this.horizontal=y.horizontal}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,y){return cl(this._zone,this._element.nativeElement,M2,{animation:y,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,y){this._runTransition(t,y).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return e.\u0275fac=function(t){return new(t||e)(Wn(ci),Wn(GF),Wn(Bo))},e.\u0275dir=Br({type:e,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(t,y){2&t&&Ri("collapse-horizontal",y.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0}),e})(),wk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({imports:[S2]}),e})();const YF=({classList:e})=>{e.remove("show")};let XF=(()=>{class e{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return e.\u0275fac=function(t){return new(t||e)(Nr(ep))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),KF=(()=>{class e{constructor(t,y,L,K){this._renderer=y,this._element=L,this._zone=K,this.closed=new Hr,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=cl(this._zone,this._element.nativeElement,YF,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const y=t.type;y&&!y.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${y.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${y.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return e.\u0275fac=function(t){return new(t||e)(Wn(XF),Wn(Jo),Wn(ci),Wn(Bo))},e.\u0275cmp=ji({type:e,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,y){2&t&&Ri("fade",y.animation)("alert-dismissible",y.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[Li,sl],ngContentSelectors:Iy,decls:2,vars:1,consts:function(){let n;return n=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",n,3,"click",4,"ngIf"],["type","button","aria-label",n,1,"btn-close",3,"click"]]},template:function(t,y){1&t&&(a0(),s0(0),Jr(1,JL,1,0,"button",0)),2&t&&(Or(1),jr("ngIf",y.dismissible))},dependencies:[Xu],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),e})(),Tk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({imports:[KF]}),e})();var ah=(()=>{return(e=ah||(ah={})).START="start",e.END="end",ah;var e})();const Mk=({classList:e})=>e.contains("carousel-item-start")||e.contains("carousel-item-end"),$m=e=>{e.remove("carousel-item-start"),e.remove("carousel-item-end")},Ry=e=>{$m(e),e.remove("carousel-item-prev"),e.remove("carousel-item-next")},JF=(e,n,{direction:t})=>{const{classList:y}=e;return n?(Mk(e)?$m(y):(y.add("carousel-item-"+(t===ah.START?"next":"prev")),z0(e),y.add("carousel-item-"+t)),()=>{Ry(y),y.add("active")}):($m(y),Ry(y),void y.add("active"))},QF=(e,n,{direction:t})=>{const{classList:y}=e;return n?(Mk(e)?$m(y):y.add("carousel-item-"+t),()=>{Ry(y),y.remove("active")}):($m(y),Ry(y),void y.remove("active"))};let ez=(()=>{class e{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return e.\u0275fac=function(t){return new(t||e)(Nr(ep))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),tz=0,nz=(()=>{class e{constructor(t){this.tplRef=t,this.id="ngb-slide-"+tz++,this.slid=new Hr}}return e.\u0275fac=function(t){return new(t||e)(Wn(Ea))},e.\u0275dir=Br({type:e,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),e})(),rz=(()=>{class e{constructor(t,y,L,K,me){this._platformId=y,this._ngZone=L,this._cd=K,this._container=me,this.NgbSlideEventSource=np,this._destroy$=new Z,this._interval$=new Il(0),this._mouseHover$=new Il(!1),this._focused$=new Il(!1),this._pauseOnHover$=new Il(!1),this._pauseOnFocus$=new Il(!1),this._pause$=new Il(!1),this._wrap$=new Il(!1),this.slide=new Hr,this.slid=new Hr,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(np.ARROW_LEFT)}arrowRight(){this.focus(),this.next(np.ARROW_RIGHT)}ngAfterContentInit(){(function lO(e){return e===P5})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=$v([this.slide.pipe(te(y=>y.current),Zv(this.activeId)),this._wrap$,this.slides.changes.pipe(Zv(null))]).pipe(te(([y,L])=>{const K=this.slides.toArray(),me=this._getSlideIdxById(y);return L?K.length>1:me<K.length-1}),Hb());$v([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe(te(([y,L,K,me,ze,Ze,ot])=>y||L&&K||me&&ze||!ot?0:Ze),Hb(),Cc(y=>y>0?Vb(y,y):HA),gs(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(np.TIMER)))}),this.slides.changes.pipe(gs(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(e=>{qm.get(e)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(Us(1)).subscribe(()=>{for(const{id:t}of this.slides){const y=this._getSlideElement(t);t===this.activeId?y.classList.add("active"):y.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,y){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),y)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),ah.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),ah.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,y,L){const K=this._transitionIds;if(K&&(K[0]!==t||K[1]!==this.activeId))return;let me=this._getSlideById(t);if(me&&me.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:me.id,direction:y,paused:this._pause$.value,source:L});const ze={animation:this.animation,runningTransition:"stop",context:{direction:y}},Ze=[],ot=this._getSlideById(this.activeId);if(ot){const hn=cl(this._ngZone,this._getSlideElement(ot.id),QF,ze);hn.subscribe(()=>{ot.slid.emit({isShown:!1,direction:y,source:L})}),Ze.push(hn)}const yt=this.activeId;this.activeId=me.id;const zt=this._getSlideById(this.activeId),Qt=cl(this._ngZone,this._getSlideElement(me.id),JF,ze);Qt.subscribe(()=>{zt?.slid.emit({isShown:!0,direction:y,source:L})}),Ze.push(Qt),yy(...Ze).pipe(Us(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:yt,current:me.id,direction:y,paused:this._pause$.value,source:L})})}this._cd.markForCheck()}_getSlideEventDirection(t,y){return this._getSlideIdxById(t)>this._getSlideIdxById(y)?ah.END:ah.START}_getSlideById(t){return this.slides.find(y=>y.id===t)||null}_getSlideIdxById(t){const y=this._getSlideById(t);return null!=y?this.slides.toArray().indexOf(y):-1}_getNextSlide(t){const y=this.slides.toArray(),L=this._getSlideIdxById(t);return L===y.length-1?this.wrap?y[0].id:y[y.length-1].id:y[L+1].id}_getPrevSlide(t){const y=this.slides.toArray(),L=this._getSlideIdxById(t);return 0===L?this.wrap?y[y.length-1].id:y[0].id:y[L-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return e.\u0275fac=function(t){return new(t||e)(Wn(ez),Wn(Tv),Wn(Bo),Wn(Zu),Wn(ci))},e.\u0275cmp=ji({type:e,selectors:[["ngb-carousel"]],contentQueries:function(t,y,L){if(1&t&&Ca(L,nz,4),2&t){let K;Fo(K=zo())&&(y.slides=K)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,y){1&t&&Ti("keydown.arrowLeft",function(){return y.keyboard&&y.arrowLeft()})("keydown.arrowRight",function(){return y.keyboard&&y.arrowRight()})("mouseenter",function(){return y.mouseHover=!0})("mouseleave",function(){return y.mouseHover=!1})("focusin",function(){return y.focused=!0})("focusout",function(){return y.focused=!1}),2&t&&(bo("aria-activedescendant","slide-"+y.activeId),c0("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[sl],decls:6,vars:6,consts:function(){let n,t,y;return n=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,y=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],n,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],y]},template:function(t,y){1&t&&(Rr(0,"div",0),Jr(1,QL,1,5,"button",1),Gr(),Rr(2,"div",2),Jr(3,tN,4,4,"div",3),Gr(),Jr(4,nN,4,0,"button",4),Jr(5,rN,4,0,"button",5)),2&t&&(Ri("visually-hidden",!y.showNavigationIndicators),Or(1),jr("ngForOf",y.slides),Or(2),jr("ngForOf",y.slides),Or(1),jr("ngIf",y.showNavigationArrows),Or(1),jr("ngIf",y.showNavigationArrows))},dependencies:[uc,rd,Xu],encapsulation:2,changeDetection:0}),e})();var np=(()=>{return(e=np||(np={})).TIMER="timer",e.ARROW_LEFT="arrowLeft",e.ARROW_RIGHT="arrowRight",e.INDICATOR="indicator",np;var e})();let Ak=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({imports:[rz]}),e})(),D2=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({}),e})();class fl{constructor(n,t,y){this.year=os(n)?n:null,this.month=os(t)?t:null,this.day=os(y)?y:null}static from(n){return n instanceof fl?n:n?new fl(n.year,n.month,n.day):null}equals(n){return null!=n&&this.year===n.year&&this.month===n.month&&this.day===n.day}before(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day<n.day:this.month<n.month:this.year<n.year)}after(n){return!!n&&(this.year===n.year?this.month===n.month?this.day!==n.day&&this.day>n.day:this.month>n.month:this.year>n.year)}}function B0(e,n){return!function iz(e,n){return!e&&!n||!!e&&!!n&&e.equals(n)}(e,n)}function kk(e,n){return!(!e&&!n||e&&n&&e.year===n.year&&e.month===n.month)}function Ly(e,n,t){return e&&n&&e.before(n)?n:e&&t&&e.after(t)?t:e||null}function O2(e,n){const{minDate:t,maxDate:y,disabled:L,markDisabled:K}=n;return!(null==e||L||K&&K(e,{year:e.year,month:e.month})||t&&e.before(t)||y&&e.after(y))}function Sk(e){return new fl(e.getFullYear(),e.getMonth()+1,e.getDate())}function Ny(e){const n=new Date(e.year,e.month-1,e.day,12);return isNaN(n.getTime())||n.setFullYear(e.year),n}let Fy=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(){return function hz(){return new pz}()},providedIn:"root"}),e})(),pz=(()=>{class e extends Fy{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,y="d",L=1){let K=Ny(t),me=!0,ze=K.getMonth();switch(y){case"y":K.setFullYear(K.getFullYear()+L);break;case"m":ze+=L,K.setMonth(ze),ze%=12,ze<0&&(ze+=12);break;case"d":K.setDate(K.getDate()+L),me=!1;break;default:return t}return me&&K.getMonth()!==ze&&K.setDate(0),Sk(K)}getPrev(t,y="d",L=1){return this.getNext(t,y,-L)}getWeekday(t){let L=Ny(t).getDay();return 0===L?7:L}getWeekNumber(t,y){7===y&&(y=0);const me=Ny(t[(11-y)%7]);me.setDate(me.getDate()+4-(me.getDay()||7));const ze=me.getTime();return me.setMonth(0),me.setDate(1),Math.floor(Math.round((ze-me.getTime())/864e5)/7)+1}getToday(){return Sk(new Date)}isValid(t){if(!(t&&os(t.year)&&os(t.month)&&os(t.day)&&0!==t.year))return!1;const y=Ny(t);return!isNaN(y.getTime())&&y.getFullYear()===t.year&&y.getMonth()+1===t.month&&y.getDate()===t.day}}return e.\u0275fac=function(){let n;return function(y){return(n||(n=Ga(e)))(y||e)}}(),e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})(),rp=(()=>{class e{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(t){let y=null;return y=t?new t:function gz(e){return new mz(e)}(Nr(lc)),y},providedIn:"root"}),e})(),mz=(()=>{class e extends rp{constructor(t){super(),this._locale=t,this._monthsShort=Rx(t,Ba.Standalone,Ui.Abbreviated),this._monthsFull=Rx(t,Ba.Standalone,Ui.Wide)}getWeekdayLabel(t,y){const L=d5(this._locale,Ba.Standalone,void 0===y?Ui.Short:y);return L.map((me,ze)=>L[(ze+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return p5(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return e.\u0275fac=function(t){return new(t||e)(Nr(lc))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})(),I2=(()=>{class e{constructor(t,y){this._calendar=t,this._i18n=y,this._VALIDATORS={dayTemplateData:L=>{if(this._state.dayTemplateData!==L)return{dayTemplateData:L}},displayMonths:L=>{if(os(L=Jl(L))&&L>0&&this._state.displayMonths!==L)return{displayMonths:L}},disabled:L=>{if(this._state.disabled!==L)return{disabled:L}},firstDayOfWeek:L=>{if(os(L=Jl(L))&&L>=0&&this._state.firstDayOfWeek!==L)return{firstDayOfWeek:L}},focusVisible:L=>{if(this._state.focusVisible!==L&&!this._state.disabled)return{focusVisible:L}},markDisabled:L=>{if(this._state.markDisabled!==L)return{markDisabled:L}},maxDate:L=>{const K=this.toValidDate(L,null);if(B0(this._state.maxDate,K))return{maxDate:K}},minDate:L=>{const K=this.toValidDate(L,null);if(B0(this._state.minDate,K))return{minDate:K}},navigation:L=>{if(this._state.navigation!==L)return{navigation:L}},outsideDays:L=>{if(this._state.outsideDays!==L)return{outsideDays:L}},weekdays:L=>{const K=!0===L||!1===L?Ui.Short:L,me=!0!==L&&!1!==L||L;if(this._state.weekdayWidth!==K||this._state.weekdaysVisible!==me)return{weekdayWidth:K,weekdaysVisible:me}}},this._model$=new Z,this._dateSelect$=new Z,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Ui.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(ul(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(ul(t=>null!==t))}set(t){let y=Object.keys(t).map(L=>this._VALIDATORS[L](t[L])).reduce((L,K)=>({...L,...K}),{});Object.keys(y).length>0&&this._nextState(y)}focus(t){const y=this.toValidDate(t,null);null!=y&&!this._state.disabled&&B0(this._state.focusDate,y)&&this._nextState({focusDate:t})}focusSelect(){O2(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const y=this.toValidDate(t,this._calendar.getToday());null!=y&&!this._state.disabled&&(!this._state.firstDate||kk(this._state.firstDate,y))&&this._nextState({firstDate:y})}select(t,y={}){const L=this.toValidDate(t,null);null!=L&&!this._state.disabled&&(B0(this._state.selectedDate,L)&&this._nextState({selectedDate:L}),y.emitEvent&&O2(L,this._state)&&this._dateSelect$.next(L))}toValidDate(t,y){const L=fl.from(t);return void 0===y&&(y=this._calendar.getToday()),this._calendar.isValid(L)?L:y}getMonth(t){for(let y of this._state.months)if(t.month===y.number&&t.year===y.year)return y;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const y=this._updateState(t);this._patchContexts(y),this._state=y,this._model$.next(this._state)}_patchContexts(t){const{months:y,displayMonths:L,selectedDate:K,focusDate:me,focusVisible:ze,disabled:Ze,outsideDays:ot}=t;t.months.forEach(yt=>{yt.weeks.forEach(zt=>{zt.days.forEach(Qt=>{me&&(Qt.context.focused=me.equals(Qt.date)&&ze),Qt.tabindex=!Ze&&me&&Qt.date.equals(me)&&me.month===yt.number?0:-1,!0===Ze&&(Qt.context.disabled=!0),void 0!==K&&(Qt.context.selected=null!==K&&K.equals(Qt.date)),yt.number!==Qt.date.month&&(Qt.hidden="hidden"===ot||"collapsed"===ot||L>1&&Qt.date.after(y[0].firstDate)&&Qt.date.before(y[L-1].lastDate))})})})}_updateState(t){const y=Object.assign({},this._state,t);let L=y.firstDate;if(("minDate"in t||"maxDate"in t)&&(function oz(e,n){if(n&&e&&n.before(e))throw new Error(`'maxDate' ${n} should be greater than 'minDate' ${e}`)}(y.minDate,y.maxDate),y.focusDate=Ly(y.focusDate,y.minDate,y.maxDate),y.firstDate=Ly(y.firstDate,y.minDate,y.maxDate),L=y.focusDate),"disabled"in t&&(y.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(L=y.selectedDate),"focusVisible"in t||"focusDate"in t&&(y.focusDate=Ly(y.focusDate,y.minDate,y.maxDate),L=y.focusDate,0!==y.months.length&&y.focusDate&&!y.focusDate.before(y.firstDate)&&!y.focusDate.after(y.lastDate)))return y;if("firstDate"in t&&(y.firstDate=Ly(y.firstDate,y.minDate,y.maxDate),L=y.firstDate),L){const me=function cz(e,n,t,y,L){const{displayMonths:K,months:me}=t,ze=me.splice(0,me.length);return Array.from({length:K},(ot,yt)=>{const zt=Object.assign(e.getNext(n,"m",yt),{day:1});if(me[yt]=null,!L){const Qt=ze.findIndex(hn=>hn.firstDate.equals(zt));-1!==Qt&&(me[yt]=ze.splice(Qt,1)[0])}return zt}).forEach((ot,yt)=>{null===me[yt]&&(me[yt]=function fz(e,n,t,y,L={}){const{dayTemplateData:K,minDate:me,maxDate:ze,firstDayOfWeek:Ze,markDisabled:ot,outsideDays:yt,weekdayWidth:zt,weekdaysVisible:Qt}=t,hn=e.getToday();L.firstDate=null,L.lastDate=null,L.number=n.month,L.year=n.year,L.weeks=L.weeks||[],L.weekdays=L.weekdays||[],n=function dz(e,n,t){const y=e.getDaysPerWeek(),L=new fl(n.year,n.month,1),K=e.getWeekday(L)%y;return e.getPrev(L,"d",(y+K-t)%y)}(e,n,Ze),Qt||(L.weekdays.length=0);for(let Bn=0;Bn<e.getWeeksPerMonth();Bn++){let Kn=L.weeks[Bn];Kn||(Kn=L.weeks[Bn]={number:0,days:[],collapsed:!0});const cr=Kn.days;for(let vr=0;vr<e.getDaysPerWeek();vr++){0===Bn&&Qt&&(L.weekdays[vr]=y.getWeekdayLabel(e.getWeekday(n),zt));const Dr=new fl(n.year,n.month,n.day),xr=e.getNext(Dr),qr=y.getDayAriaLabel(Dr);let pi=!!(me&&Dr.before(me)||ze&&Dr.after(ze));!pi&&ot&&(pi=ot(Dr,{month:L.number,year:L.year}));let ki=Dr.equals(hn),Oa=K?K(Dr,{month:L.number,year:L.year}):void 0;null===L.firstDate&&Dr.month===L.number&&(L.firstDate=Dr),Dr.month===L.number&&xr.month!==L.number&&(L.lastDate=Dr);let Ia=cr[vr];Ia||(Ia=cr[vr]={}),Ia.date=Dr,Ia.context=Object.assign(Ia.context||{},{$implicit:Dr,date:Dr,data:Oa,currentMonth:L.number,currentYear:L.year,disabled:pi,focused:!1,selected:!1,today:ki}),Ia.tabindex=-1,Ia.ariaLabel=qr,Ia.hidden=!1,n=xr}Kn.number=e.getWeekNumber(cr.map(vr=>vr.date),Ze),Kn.collapsed="collapsed"===yt&&cr[0].date.month!==L.number&&cr[cr.length-1].date.month!==L.number}return L}(e,ot,t,y,ze.shift()||{}))}),me}(this._calendar,L,y,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);y.months=me,y.firstDate=me[0].firstDate,y.lastDate=me[me.length-1].lastDate,"selectedDate"in t&&!O2(y.selectedDate,y)&&(y.selectedDate=null),"firstDate"in t&&(!y.focusDate||y.focusDate.before(y.firstDate)||y.focusDate.after(y.lastDate))&&(y.focusDate=L);const ze=!this._state.firstDate||this._state.firstDate.year!==y.firstDate.year,Ze=!this._state.firstDate||this._state.firstDate.month!==y.firstDate.month;"select"===y.navigation?(("minDate"in t||"maxDate"in t||0===y.selectBoxes.years.length||ze)&&(y.selectBoxes.years=function sz(e,n,t){if(!e)return[];const y=n?Math.max(n.year,e.year-500):e.year-10,K=(t?Math.min(t.year,e.year+500):e.year+10)-y+1,me=Array(K);for(let ze=0;ze<K;ze++)me[ze]=y+ze;return me}(y.firstDate,y.minDate,y.maxDate)),("minDate"in t||"maxDate"in t||0===y.selectBoxes.months.length||ze)&&(y.selectBoxes.months=function az(e,n,t,y){if(!n)return[];let L=e.getMonths(n.year);if(t&&n.year===t.year){const K=L.findIndex(me=>me===t.month);L=L.slice(K)}if(y&&n.year===y.year){const K=L.findIndex(me=>me===y.month);L=L.slice(0,K+1)}return L}(this._calendar,y.firstDate,y.minDate,y.maxDate))):y.selectBoxes={years:[],months:[]},("arrows"===y.navigation||"select"===y.navigation)&&(Ze||ze||"minDate"in t||"maxDate"in t||"disabled"in t)&&(y.prevDisabled=y.disabled||function uz(e,n,t){const y=Object.assign(e.getPrev(n,"m"),{day:1});return null!=t&&(y.year===t.year&&y.month<t.month||y.year<t.year&&1===t.month)}(this._calendar,y.firstDate,y.minDate),y.nextDisabled=y.disabled||function lz(e,n,t){const y=Object.assign(e.getNext(n,"m"),{day:1});return null!=t&&y.after(t)}(this._calendar,y.lastDate,y.maxDate))}return y}}return e.\u0275fac=function(t){return new(t||e)(Nr(Fy),Nr(rp))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();var j0=(()=>{return(e=j0||(j0={}))[e.PREV=0]="PREV",e[e.NEXT=1]="NEXT",j0;var e})();let vz=(()=>{class e{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return e.\u0275fac=function(t){return new(t||e)(Wn(rp))},e.\u0275cmp=ji({type:e,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,y){2&t&&Ri("bg-primary",y.selected)("text-white",y.selected)("text-muted",y.isMuted())("outside",y.isMuted())("active",y.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[sl],attrs:iN,decls:1,vars:1,template:function(t,y){1&t&&So(0),2&t&&Ol(y.i18n.getDayNumerals(y.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),e})(),yz=(()=>{class e{constructor(t,y){this.i18n=t,this._renderer=y,this.select=new Hr,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new fl(this.date.year,Jl(t),1))}changeYear(t){this.select.emit(new fl(Jl(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return e.\u0275fac=function(t){return new(t||e)(Wn(rp),Wn(Jo))},e.\u0275cmp=ji({type:e,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,y){if(1&t&&(qd(oN,7,ci),qd(aN,7,ci)),2&t){let L;Fo(L=zo())&&(y.monthSelect=L.first),Fo(L=zo())&&(y.yearSelect=L.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[sl],decls:6,vars:4,consts:function(){let n,t,y,L;return n=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,y=$localize`:@@ngb.datepicker.select-year:Select year`,L=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",n,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",y,"title",L,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,y){1&t&&(Rr(0,"select",0,1),Ti("change",function(K){return y.changeMonth(K.target.value)}),Jr(2,sN,2,3,"option",2),Gr(),Rr(3,"select",3,4),Ti("change",function(K){return y.changeYear(K.target.value)}),Jr(5,lN,2,2,"option",2),Gr()),2&t&&(jr("disabled",y.disabled),Or(2),jr("ngForOf",y.months),Or(1),jr("disabled",y.disabled),Or(2),jr("ngForOf",y.years))},dependencies:[uc],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),e})(),_z=(()=>{class e{constructor(t){this.i18n=t,this.navigation=j0,this.months=[],this.navigate=new Hr,this.select=new Hr}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return e.\u0275fac=function(t){return new(t||e)(Wn(rp))},e.\u0275cmp=ji({type:e,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[sl],decls:8,vars:4,consts:function(){let n,t,y,L;return n=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,y=$localize`:@@ngb.datepicker.next-month:Next month`,L=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",n,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",y,"title",L,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,y){1&t&&(Rr(0,"div",0)(1,"button",1),Ti("click",function(K){return y.onClickPrev(K)}),za(2,"span",2),Gr()(),Jr(3,uN,1,4,"ngb-datepicker-navigation-select",3),Jr(4,hN,1,1,null,4),Rr(5,"div",5)(6,"button",6),Ti("click",function(K){return y.onClickNext(K)}),za(7,"span",2),Gr()()),2&t&&(Or(1),jr("disabled",y.prevDisabled),Or(2),jr("ngIf",y.showSelect),Or(1),jr("ngIf",!y.showSelect),Or(2),jr("disabled",y.nextDisabled))},dependencies:[Xu,uc,yz],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),e})();var Oo=(()=>{return(e=Oo||(Oo={}))[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",Oo;var e})();let xz=(()=>{class e{processKey(t,y){const{state:L,calendar:K}=y;switch(t.which){case Oo.PageUp:y.focusDate(K.getPrev(L.focusedDate,t.shiftKey?"y":"m",1));break;case Oo.PageDown:y.focusDate(K.getNext(L.focusedDate,t.shiftKey?"y":"m",1));break;case Oo.End:y.focusDate(t.shiftKey?L.maxDate:L.lastDate);break;case Oo.Home:y.focusDate(t.shiftKey?L.minDate:L.firstDate);break;case Oo.ArrowLeft:y.focusDate(K.getPrev(L.focusedDate,"d",1));break;case Oo.ArrowUp:y.focusDate(K.getPrev(L.focusedDate,"d",K.getDaysPerWeek()));break;case Oo.ArrowRight:y.focusDate(K.getNext(L.focusedDate,"d",1));break;case Oo.ArrowDown:y.focusDate(K.getNext(L.focusedDate,"d",K.getDaysPerWeek()));break;case Oo.Enter:case Oo.Space:y.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),P2=(()=>{class e{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Ui.Short}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),R2=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(){return function bz(){return new wz}()},providedIn:"root"}),e})(),wz=(()=>{class e extends R2{fromModel(t){return t&&os(t.year)&&os(t.month)&&os(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&os(t.year)&&os(t.month)&&os(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return e.\u0275fac=function(){let n;return function(y){return(n||(n=Ga(e)))(y||e)}}(),e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})(),Ek=(()=>{class e{constructor(t){this.templateRef=t}}return e.\u0275fac=function(t){return new(t||e)(Wn(Ea))},e.\u0275dir=Br({type:e,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),e})(),L2=(()=>{class e{constructor(t,y,L,K){this.i18n=t,this.datepicker=y,this._keyboardService=L,this._service=K}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return e.\u0275fac=function(t){return new(t||e)(Wn(rp),Wn(er(()=>zy)),Wn(xz),Wn(I2))},e.\u0275cmp=ji({type:e,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,y){1&t&&Ti("keydown",function(K){return y.onKeyDown(K)})},inputs:{month:"month"},standalone:!0,features:[sl],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,y){1&t&&(Jr(0,mN,3,2,"div",0),Jr(1,wN,1,1,"ng-template",1)),2&t&&(jr("ngIf",y.viewModel.weekdays.length>0),Or(1),jr("ngForOf",y.viewModel.weeks))},dependencies:[Xu,uc,rd],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),e})(),zy=(()=>{class e{constructor(t,y,L,K,me,ze,Ze,ot){this._service=t,this._calendar=y,this._i18n=L,this._elementRef=ze,this._ngbDateAdapter=Ze,this._ngZone=ot,this.injector=mi(ol),this._controlValue=null,this._destroyed$=new Z,this._publicState={},this.navigate=new Hr,this.dateSelect=new Hr,this.onChange=yt=>{},this.onTouched=()=>{},["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(yt=>this[yt]=K[yt]),t.dateSelect$.pipe(gs(this._destroyed$)).subscribe(yt=>{this.dateSelect.emit(yt)}),t.model$.pipe(gs(this._destroyed$)).subscribe(yt=>{const zt=yt.firstDate,Qt=this.model?this.model.firstDate:null;this._publicState={maxDate:yt.maxDate,minDate:yt.minDate,firstDate:yt.firstDate,lastDate:yt.lastDate,focusedDate:yt.focusDate,months:yt.months.map(vr=>vr.firstDate)};let hn=!1;if(!zt.equals(Qt)&&(this.navigate.emit({current:Qt?{year:Qt.year,month:Qt.month}:null,next:{year:zt.year,month:zt.month},preventDefault:()=>hn=!0}),hn&&null!==Qt))return void this._service.open(Qt);const Bn=yt.selectedDate,Kn=yt.focusDate,cr=this.model?this.model.focusDate:null;this.model=yt,B0(Bn,this._controlValue)&&(this._controlValue=Bn,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(Bn))),B0(Kn,cr)&&cr&&yt.focusVisible&&this.focus(),me.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(t){this._service.focus(fl.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(Us(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(fl.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=Xl(this._contentEl.nativeElement,"focusin"),y=Xl(this._contentEl.nativeElement,"focusout"),{nativeElement:L}=this._elementRef;wn(t,y).pipe(ul(({target:K,relatedTarget:me})=>!(hk(K,"ngb-dp-day")&&hk(me,"ngb-dp-day")&&L.contains(K)&&L.contains(me))),gs(this._destroyed$)).subscribe(({type:K})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===K})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(y=>t[y]=this[y]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const y={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(L=>L in t).forEach(L=>y[L]=this[L]),this._service.set(y),"startDate"in t){const{currentValue:L,previousValue:K}=t.startDate;kk(K,L)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case j0.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case j0.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=fl.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return e.\u0275fac=function(t){return new(t||e)(Wn(I2),Wn(Fy),Wn(rp),Wn(P2),Wn(Zu),Wn(ci),Wn(R2),Wn(Bo))},e.\u0275cmp=ji({type:e,selectors:[["ngb-datepicker"]],contentQueries:function(t,y,L){if(1&t&&Ca(L,Ek,7),2&t){let K;Fo(K=zo())&&(y.contentTemplateFromContent=K.first)}},viewQuery:function(t,y){if(1&t&&(qd(TN,7),qd(MN,7)),2&t){let L;Fo(L=zo())&&(y._defaultDayTemplate=L.first),Fo(L=zo())&&(y._contentEl=L.first)}},hostVars:2,hostBindings:function(t,y){2&t&&Ri("disabled",y.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[ea([{provide:Ju,useExisting:er(()=>e),multi:!0},I2]),Li,sl],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,y){if(1&t&&(Jr(0,AN,1,5,"ng-template",null,0,Lu),Jr(2,EN,1,1,"ng-template",null,1,Lu),Rr(4,"div",2),Jr(5,CN,1,7,"ngb-datepicker-navigation",3),Gr(),Rr(6,"div",4,5),Jr(8,DN,0,0,"ng-template",6),Gr(),Jr(9,ON,0,0,"ng-template",7)),2&t){const L=$u(3);Or(5),jr("ngIf","none"!==y.navigation),Or(1),Ri("ngb-dp-months",!y.contentTemplate),Or(2),jr("ngTemplateOutlet",y.contentTemplate||(null==y.contentTemplateFromContent?null:y.contentTemplateFromContent.templateRef)||L)("ngTemplateOutletContext",rm(7,ck,y))("ngTemplateOutletInjector",y.injector),Or(1),jr("ngTemplateOutlet",y.footerTemplate)}},dependencies:[Xu,uc,rd,vz,L2,_z],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),e})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Ok=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ik(e){const n=Array.from(e.querySelectorAll(Ok)).filter(t=>-1!==t.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Wk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({imports:[zy,L2]}),e})(),Zk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({}),e})();class ap{constructor(n,t,y){this.nodes=n,this.viewRef=t,this.componentRef=y}}let $z=(()=>{class e{constructor(t,y){this._el=t,this._zone=y}ngOnInit(){this._zone.onStable.asObservable().pipe(Us(1)).subscribe(()=>{cl(this._zone,this._el.nativeElement,(t,y)=>{y&&z0(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return cl(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return e.\u0275fac=function(t){return new(t||e)(Wn(ci),Wn(Bo))},e.\u0275cmp=ji({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,y){2&t&&(Wd("modal-backdrop"+(y.backdropClass?" "+y.backdropClass:"")),Ri("show",!y.animation)("fade",y.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[sl],decls:0,vars:0,template:function(t,y){},encapsulation:2}),e})();class Yk{update(n){}close(n){}dismiss(n){}}const Zz=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Yz=["animation","backdropClass"];class Xz{constructor(n,t,y,L){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=y,this._beforeDismiss=L,this._closed=new Z,this._dismissed=new Z,this._hidden=new Z,n.instance.dismissEvent.subscribe(K=>{this.dismiss(K)}),this.result=new Promise((K,me)=>{this._resolve=K,this._reject=me}),this.result.then(null,()=>{})}_applyWindowOptions(n,t){Zz.forEach(y=>{Qh(t[y])&&(n[y]=t[y])})}_applyBackdropOptions(n,t){Yz.forEach(y=>{Qh(t[y])&&(n[y]=t[y])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(gs(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(gs(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function dk(e){return e&&e.then}(t)?!1!==t&&this._dismiss(n):t.then(y=>{!1!==y&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Mi(void 0);n.subscribe(()=>{const{nativeElement:y}=this._windowCmptRef.location;y.parentNode.removeChild(y),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:y}=this._backdropCmptRef.location;y.parentNode.removeChild(y),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),yy(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Xm=(()=>{return(e=Xm||(Xm={}))[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",Xm;var e})();let Kz=(()=>{class e{constructor(t,y,L){this._document=t,this._elRef=y,this._zone=L,this._closed$=new Z,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Hr,this.shown=new Z,this.hidden=new Z}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":N0(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Us(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,y={animation:this.animation,runningTransition:"stop"},me=yy(cl(this._zone,t,()=>t.classList.remove("show"),y),cl(this._zone,this._dialogEl.nativeElement,()=>{},y));return me.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),me}_show(){const t={animation:this.animation,runningTransition:"continue"};yy(cl(this._zone,this._elRef.nativeElement,(K,me)=>{me&&z0(K),K.classList.add("show")},t),cl(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Xl(t,"keydown").pipe(gs(this._closed$),ul(L=>L.which===Oo.Escape)).subscribe(L=>{this.keyboard?requestAnimationFrame(()=>{L.defaultPrevented||this._zone.run(()=>this.dismiss(Xm.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let y=!1;Xl(this._dialogEl.nativeElement,"mousedown").pipe(gs(this._closed$),Pl(()=>y=!1),Cc(()=>Xl(t,"mouseup").pipe(gs(this._closed$),Us(1))),ul(({target:L})=>t===L)).subscribe(()=>{y=!0}),Xl(t,"click").pipe(gs(this._closed$)).subscribe(({target:L})=>{t===L&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!y&&this._zone.run(()=>this.dismiss(Xm.BACKDROP_CLICK))),y=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const y=t.querySelector("[ngbAutofocus]"),L=Ik(t)[0];(y||L||t).focus()}}_restoreFocus(){const t=this._document.body,y=this._elWithFocus;let L;L=y&&y.focus&&t.contains(y)?y:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>L.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&cl(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return e.\u0275fac=function(t){return new(t||e)(Wn(ps),Wn(ci),Wn(Bo))},e.\u0275cmp=ji({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(t,y){if(1&t&&qd(IN,7),2&t){let L;Fo(L=zo())&&(y._dialogEl=L.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,y){2&t&&(bo("aria-modal",!0)("aria-labelledby",y.ariaLabelledBy)("aria-describedby",y.ariaDescribedBy),Wd("modal d-block"+(y.windowClass?" "+y.windowClass:"")),Ri("fade",y.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[sl],ngContentSelectors:Iy,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,y){1&t&&(a0(),Rr(0,"div",0,1)(2,"div",2),s0(3),Gr()()),2&t&&Wd("modal-dialog"+(y.size?" modal-"+y.size:"")+(y.centered?" modal-dialog-centered":"")+y.fullscreenClass+(y.scrollable?" modal-dialog-scrollable":"")+(y.modalDialogClass?" "+y.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),e})(),Jz=(()=>{class e{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),y=this._document.body,L=y.style,{overflow:K,paddingRight:me}=L;if(t>0){const ze=parseFloat(window.getComputedStyle(y).paddingRight);L.paddingRight=`${ze+t}px`}return L.overflow="hidden",()=>{t>0&&(L.paddingRight=me),L.overflow=K}}}return e.\u0275fac=function(t){return new(t||e)(Nr(ps))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Qz=(()=>{class e{constructor(t,y,L,K,me,ze,Ze){this._applicationRef=t,this._injector=y,this._environmentInjector=L,this._document=K,this._scrollBar=me,this._rendererFactory=ze,this._ngZone=Ze,this._activeWindowCmptHasChanged=new Z,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Hr,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ot=this._windowCmpts[this._windowCmpts.length-1];((e,n,t,y=!1)=>{e.runOutsideAngular(()=>{const L=Xl(n,"focusin").pipe(gs(t),te(K=>K.target));Xl(n,"keydown").pipe(gs(t),ul(K=>K.which===Oo.Tab),Gb(L)).subscribe(([K,me])=>{const[ze,Ze]=Ik(n);(me===ze||me===n)&&K.shiftKey&&(Ze.focus(),K.preventDefault()),me===Ze&&!K.shiftKey&&(ze.focus(),K.preventDefault())}),y&&Xl(n,"click").pipe(gs(t),Gb(L),te(K=>K[1])).subscribe(K=>K.focus())})})(this._ngZone,ot.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ot.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,y,L){const K=L.container instanceof HTMLElement?L.container:Qh(L.container)?this._document.querySelector(L.container):this._document.body,me=this._rendererFactory.createRenderer(null,null);if(!K)throw new Error(`The specified modal container "${L.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const ze=new Yk,Ze=(t=L.injector||t).get(qi,null)||this._environmentInjector,ot=this._getContentRef(t,Ze,y,ze,L);let yt=!1!==L.backdrop?this._attachBackdrop(K):void 0,zt=this._attachWindowComponent(K,ot.nodes),Qt=new Xz(zt,ot,yt,L.beforeDismiss);return this._registerModalRef(Qt),this._registerWindowCmpt(zt),Qt.hidden.pipe(Us(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(me.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),ze.close=hn=>{Qt.close(hn)},ze.dismiss=hn=>{Qt.dismiss(hn)},ze.update=hn=>{Qt.update(hn)},Qt.update(L),1===this._modalRefs.length&&me.addClass(this._document.body,"modal-open"),yt&&yt.instance&&yt.changeDetectorRef.detectChanges(),zt.changeDetectorRef.detectChanges(),Qt}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(y=>y.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let y=Cx($z,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(y.hostView),t.appendChild(y.location.nativeElement),y}_attachWindowComponent(t,y){let L=Cx(Kz,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:y});return this._applicationRef.attachView(L.hostView),t.appendChild(L.location.nativeElement),L}_getContentRef(t,y,L,K,me){return L?L instanceof Ea?this._createFromTemplateRef(L,K):N0(L)?this._createFromString(L):this._createFromComponent(t,y,L,K,me):new ap([])}_createFromTemplateRef(t,y){const K=t.createEmbeddedView({$implicit:y,close(me){y.close(me)},dismiss(me){y.dismiss(me)}});return this._applicationRef.attachView(K),new ap([K.rootNodes],K)}_createFromString(t){const y=this._document.createTextNode(`${t}`);return new ap([[y]])}_createFromComponent(t,y,L,K,me){const Ze=Cx(L,{environmentInjector:y,elementInjector:ol.create({providers:[{provide:Yk,useValue:K}],parent:t})}),ot=Ze.location.nativeElement;return me.scrollable&&ot.classList.add("component-host-scrollable"),this._applicationRef.attachView(Ze.hostView),new ap([[ot]],Ze.hostView,Ze)}_setAriaHidden(t){const y=t.parentElement;y&&t!==this._document.body&&(Array.from(y.children).forEach(L=>{L!==t&&"SCRIPT"!==L.nodeName&&(this._ariaHiddenValues.set(L,L.getAttribute("aria-hidden")),L.setAttribute("aria-hidden","true"))}),this._setAriaHidden(y))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,y)=>{t?y.setAttribute("aria-hidden",t):y.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const y=()=>{const L=this._modalRefs.indexOf(t);L>-1&&(this._modalRefs.splice(L,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(y,y)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const y=this._windowCmpts.indexOf(t);y>-1&&(this._windowCmpts.splice(y,1),this._activeWindowCmptHasChanged.next())})}}return e.\u0275fac=function(t){return new(t||e)(Nr(v0),Nr(ol),Nr(qi),Nr(ps),Nr(Jz),Nr(As),Nr(Bo))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),eB=(()=>{class e{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return e.\u0275fac=function(t){return new(t||e)(Nr(ep))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),tB=(()=>{class e{constructor(t,y,L){this._injector=t,this._modalStack=y,this._config=L}open(t,y={}){const L={...this._config,animation:this._config.animation,...y};return this._modalStack.open(this._injector,t,L)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.\u0275fac=function(t){return new(t||e)(Nr(ol),Nr(Qz),Nr(eB))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Xk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({providers:[tB]}),e})();const sB=({classList:e})=>(e.remove("show"),()=>e.remove("active")),lB=(e,n)=>{n&&z0(e),e.classList.add("show")};let B2=(()=>{class e{constructor(t){this.elRef=t}}return e.\u0275fac=function(t){return new(t||e)(Wn(ci))},e.\u0275dir=Br({type:e,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,y){2&t&&(sc("id",y.item.panelDomId),bo("role",y.role?y.role:y.nav.roles?"tabpanel":void 0)("aria-labelledby",y.item.domId),Ri("fade",y.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),e})(),Qk=(()=>{class e{constructor(t,y){this._cd=t,this._ngZone=y,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(gs(this.nav.destroy$),Zv(this._activePane?.item||null),Hb(),function zP(e){return ul((n,t)=>e<=t)}(1)).subscribe(t=>{const y={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?cl(this._ngZone,this._activePane.elRef.nativeElement,sB,y).subscribe(()=>{const L=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),cl(this._ngZone,this._activePane.elRef.nativeElement,lB,y).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),L&&(L.hidden.emit(),this.nav.hidden.emit(L.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(y=>y.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return e.\u0275fac=function(t){return new(t||e)(Wn(Zu),Wn(Bo))},e.\u0275cmp=ji({type:e,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,y){if(1&t&&qd(B2,5),2&t){let L;Fo(L=zo())&&(y._panes=L)}},hostVars:2,hostBindings:function(t,y){2&t&&Ri("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[sl],attrs:PN,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,y){1&t&&Jr(0,NN,1,1,"ng-template",0),2&t&&jr("ngForOf",y.nav.items)},dependencies:[B2,uc,Xu,rd],encapsulation:2,changeDetection:0}),e})(),eS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({imports:[Qk]}),e})(),uB=(()=>{class e{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),tS=(()=>{class e{constructor(t){this.templateRef=t}}return e.\u0275fac=function(t){return new(t||e)(Wn(Ea))},e.\u0275dir=Br({type:e,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),e})(),nS=(()=>{class e{constructor(t){this.templateRef=t}}return e.\u0275fac=function(t){return new(t||e)(Wn(Ea))},e.\u0275dir=Br({type:e,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),e})(),rS=(()=>{class e{constructor(t){this.templateRef=t}}return e.\u0275fac=function(t){return new(t||e)(Wn(Ea))},e.\u0275dir=Br({type:e,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),e})(),iS=(()=>{class e{constructor(t){this.templateRef=t}}return e.\u0275fac=function(t){return new(t||e)(Wn(Ea))},e.\u0275dir=Br({type:e,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),e})(),oS=(()=>{class e{constructor(t){this.templateRef=t}}return e.\u0275fac=function(t){return new(t||e)(Wn(Ea))},e.\u0275dir=Br({type:e,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),e})(),aS=(()=>{class e{constructor(t){this.templateRef=t}}return e.\u0275fac=function(t){return new(t||e)(Wn(Ea))},e.\u0275dir=Br({type:e,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),e})(),sS=(()=>{class e{constructor(t){this.templateRef=t}}return e.\u0275fac=function(t){return new(t||e)(Wn(Ea))},e.\u0275dir=Br({type:e,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),e})(),lS=(()=>{class e{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new Hr(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,y){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),y<this.pageCount&&(y<this.pageCount-2?this.pages.push(-1):y===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,y=this.pageCount,L=Math.floor(this.maxSize/2);return this.page<=L?y=this.maxSize:this.pageCount-this.page<L?t=this.pageCount-this.maxSize:(t=this.page-L-1,y=this.page+(this.maxSize%2==0?L-1:L)),[t,y]}_applyPagination(){let y=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[y,y+this.maxSize]}_setPageInRange(t){const y=this.page;this.page=Py(t,this.pageCount,1),this.page!==y&&ms(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),ms(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let y=1;y<=this.pageCount;y++)this.pages.push(y);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let y=0,L=this.pageCount;[y,L]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(y,L),this._applyEllipses(y,L)}}}return e.\u0275fac=function(t){return new(t||e)(Wn(uB))},e.\u0275cmp=ji({type:e,selectors:[["ngb-pagination"]],contentQueries:function(t,y,L){if(1&t&&(Ca(L,tS,5),Ca(L,nS,5),Ca(L,rS,5),Ca(L,iS,5),Ca(L,oS,5),Ca(L,aS,5),Ca(L,sS,5)),2&t){let K;Fo(K=zo())&&(y.tplEllipsis=K.first),Fo(K=zo())&&(y.tplFirst=K.first),Fo(K=zo())&&(y.tplLast=K.first),Fo(K=zo())&&(y.tplNext=K.first),Fo(K=zo())&&(y.tplNumber=K.first),Fo(K=zo())&&(y.tplPrevious=K.first),Fo(K=zo())&&(y.tplPages=K.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[Li,sl],decls:20,vars:12,consts:function(){let n,t,y,L,K,me,ze,Ze;return n=$localize`:@@ngb.pagination.first:««`,t=$localize`:@@ngb.pagination.previous:«`,y=$localize`:@@ngb.pagination.next:»`,L=$localize`:@@ngb.pagination.last:»»`,K=$localize`:@@ngb.pagination.first-aria:First`,me=$localize`:@@ngb.pagination.previous-aria:Previous`,ze=$localize`:@@ngb.pagination.next-aria:Next`,Ze=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],n,t,y,L,["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",K,"href","",1,"page-link",3,"click"],["aria-label",me,"href","",1,"page-link",3,"click"],["aria-label",ze,"href","",1,"page-link",3,"click"],["aria-label",Ze,"href","",1,"page-link",3,"click"]]},template:function(t,y){if(1&t&&(Jr(0,FN,2,0,"ng-template",null,0,Lu),Jr(2,zN,2,0,"ng-template",null,1,Lu),Jr(4,BN,2,0,"ng-template",null,2,Lu),Jr(6,jN,2,0,"ng-template",null,3,Lu),Jr(8,UN,1,0,"ng-template",null,4,Lu),Jr(10,VN,1,1,"ng-template",null,5,Lu),Jr(12,XN,1,1,"ng-template",null,6,Lu),Rr(14,"ul"),Jr(15,JN,3,9,"li",7),Jr(16,tF,3,8,"li",7),Jr(17,nF,0,0,"ng-template",8),Jr(18,iF,3,9,"li",7),Jr(19,aF,3,9,"li",7),Gr()),2&t){const L=$u(13);Or(14),Wd("pagination"+(y.size?" pagination-"+y.size:"")),Or(1),jr("ngIf",y.boundaryLinks),Or(1),jr("ngIf",y.directionLinks),Or(1),jr("ngTemplateOutlet",(null==y.tplPages?null:y.tplPages.templateRef)||L)("ngTemplateOutletContext",tx(8,sF,y.page,y.pages,y.disabled)),Or(1),jr("ngIf",y.directionLinks),Or(1),jr("ngIf",y.boundaryLinks)}},dependencies:[Xu,uc,rd],encapsulation:2,changeDetection:0}),e})(),uS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({imports:[lS]}),e})(),fS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({}),e})(),gB=(()=>{class e{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),mB=(()=>{class e{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!ms(t)||t<=0?100:t}get max(){return this._max}getValue(){return Py(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return e.\u0275fac=function(t){return new(t||e)(Wn(gB))},e.\u0275cmp=ji({type:e,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,y){2&t&&(bo("aria-valuenow",y.getValue())("aria-valuemax",y.max)("aria-label",y.ariaLabel),c0("height",y.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[sl],ngContentSelectors:Iy,decls:3,vars:11,consts:function(){let n;return n=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],n]},template:function(t,y){1&t&&(a0(),Rr(0,"div"),Jr(1,cF,3,3,"span",0),s0(2),Gr()),2&t&&(o3("progress-bar",y.type?y.textType?" bg-"+y.type:" text-bg-"+y.type:"","",y.textType?" text-"+y.textType:"",""),c0("width",y.getPercentValue(),"%"),Ri("progress-bar-animated",y.animated)("progress-bar-striped",y.striped),Or(1),jr("ngIf",y.showValue))},dependencies:[Xu,I5],encapsulation:2,changeDetection:0}),e})(),dS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({imports:[mB]}),e})(),vB=(()=>{class e{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),yB=(()=>{class e{constructor(t,y){this._changeDetectorRef=y,this.contexts=[],this.disabled=!1,this.hover=new Hr,this.leave=new Hr,this.rateChange=new Hr(!0),this.onChange=L=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(t,y){return`${t} out of ${y}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case Oo.ArrowDown:case Oo.ArrowLeft:this.update(this.rate-1);break;case Oo.ArrowUp:case Oo.ArrowRight:this.update(this.rate+1);break;case Oo.Home:this.update(0);break;case Oo.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,y=!0){const L=Py(t,this.max,0);this.isInteractive()&&this.rate!==L&&(this.rate=L,this.rateChange.emit(this.rate)),y&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((y,L)=>y.fill=Math.round(100*Py(t-L,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,y)=>({fill:0,index:y}))}}return e.\u0275fac=function(t){return new(t||e)(Wn(vB),Wn(Zu))},e.\u0275cmp=ji({type:e,selectors:[["ngb-rating"]],contentQueries:function(t,y,L){if(1&t&&Ca(L,Ea,5),2&t){let K;Fo(K=zo())&&(y.starTemplateFromContent=K.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,y){1&t&&Ti("blur",function(){return y.handleBlur()})("keydown",function(K){return y.handleKeyDown(K)})("mouseleave",function(){return y.reset()}),2&t&&(sc("tabindex",y.disabled?-1:y.tabindex),bo("aria-valuemax",y.max)("aria-valuenow",y.nextRate)("aria-valuetext",y.ariaValueText(y.nextRate,y.max))("aria-disabled",!!y.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[ea([{provide:Ju,useExisting:er(()=>e),multi:!0}]),Li,sl],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,y){1&t&&(Jr(0,fF,1,1,"ng-template",null,0,Lu),Jr(2,hF,4,5,"ng-template",1)),2&t&&(Or(2),jr("ngForOf",y.contexts))},dependencies:[uc,rd],encapsulation:2,changeDetection:0}),e})(),hS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({imports:[yB]}),e})();class pS{constructor(n,t,y){this.hour=Jl(n),this.minute=Jl(t),this.second=Jl(y)}changeHour(n=1){this.updateHour((isNaN(this.hour)?0:this.hour)+n)}updateHour(n){this.hour=ms(n)?(n<0?24+n:n)%24:NaN}changeMinute(n=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+n)}updateMinute(n){ms(n)?(this.minute=n%60<0?60+n%60:n%60,this.changeHour(Math.floor(n/60))):this.minute=NaN}changeSecond(n=1){this.updateSecond((isNaN(this.second)?0:this.second)+n)}updateSecond(n){ms(n)?(this.second=n<0?60+n%60:n%60,this.changeMinute(Math.floor(n/60))):this.second=NaN}isValid(n=!0){return ms(this.hour)&&ms(this.minute)&&(!n||ms(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let _B=(()=>{class e{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),gS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(){return function xB(){return new bB}()},providedIn:"root"}),e})(),bB=(()=>{class e extends gS{fromModel(t){return t&&os(t.hour)&&os(t.minute)?{hour:t.hour,minute:t.minute,second:os(t.second)?t.second:null}:null}toModel(t){return t&&os(t.hour)&&os(t.minute)?{hour:t.hour,minute:t.minute,second:os(t.second)?t.second:null}:null}}return e.\u0275fac=function(){let n;return function(y){return(n||(n=Ga(e)))(y||e)}}(),e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})(),mS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(t){let y=null;return y=t?new t:function wB(e){return new TB(e)}(Nr(lc)),y},providedIn:"root"}),e})(),TB=(()=>{class e extends mS{constructor(t){super(),this._periods=f5(t,Ba.Standalone,Ui.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return e.\u0275fac=function(t){return new(t||e)(Nr(lc))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();const MB=/[^0-9]/g;let AB=(()=>{class e{constructor(t,y,L,K){this._config=t,this._ngbTimeAdapter=y,this._cd=L,this.i18n=K,this.onChange=me=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=os(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=os(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=os(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const y=this._ngbTimeAdapter.fromModel(t);this.model=y?new pS(y.hour,y.minute,y.second):new pS,!this.seconds&&(!y||!ms(y.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const y=!!this.model&&this.model.hour>=12,L=Jl(t);this.model?.updateHour(this.meridian&&(y&&L<12||!y&&12===L)?L+12:L),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(Jl(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(Jl(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(MB,"")}formatHour(t){return ms(t)?F0(this.meridian?t%12==0?12:t%12:t%24):F0(NaN)}formatMinSec(t){return F0(ms(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!ms(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return e.\u0275fac=function(t){return new(t||e)(Wn(_B),Wn(gS),Wn(Zu),Wn(mS))},e.\u0275cmp=ji({type:e,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[ea([{provide:Ju,useExisting:er(()=>e),multi:!0}]),Li,sl],decls:16,vars:25,consts:function(){let n,t,y,L,K,me,ze,Ze,ot,yt,zt,Qt,hn,Bn;return n=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,y=$localize`:@@ngb.timepicker.MM:MM`,L=$localize`:@@ngb.timepicker.minutes:Minutes`,K=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,me=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,ze=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,Ze=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,ot=$localize`:@@ngb.timepicker.SS:SS`,yt=$localize`:@@ngb.timepicker.seconds:Seconds`,zt=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,Qt=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,hn=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,Bn=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",n,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",y,"aria-label",L,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],K,[1,"chevron","ngb-tp-chevron","bottom"],me,ze,Ze,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",ot,"aria-label",yt,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],zt,Qt,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],hn,Bn]},template:function(t,y){1&t&&(Rr(0,"fieldset",0)(1,"div",1)(2,"div",2),Jr(3,pF,4,7,"button",3),Rr(4,"input",4),Ti("change",function(K){return y.updateHour(K.target.value)})("blur",function(){return y.handleBlur()})("input",function(K){return y.formatInput(K.target)})("keydown.ArrowUp",function(K){return y.changeHour(y.hourStep),K.preventDefault()})("keydown.ArrowDown",function(K){return y.changeHour(-y.hourStep),K.preventDefault()}),Gr(),Jr(5,gF,4,7,"button",3),Gr(),Rr(6,"div",5),So(7,":"),Gr(),Rr(8,"div",6),Jr(9,mF,4,7,"button",3),Rr(10,"input",7),Ti("change",function(K){return y.updateMinute(K.target.value)})("blur",function(){return y.handleBlur()})("input",function(K){return y.formatInput(K.target)})("keydown.ArrowUp",function(K){return y.changeMinute(y.minuteStep),K.preventDefault()})("keydown.ArrowDown",function(K){return y.changeMinute(-y.minuteStep),K.preventDefault()}),Gr(),Jr(11,vF,4,7,"button",3),Gr(),Jr(12,yF,2,0,"div",8),Jr(13,bF,4,9,"div",9),Jr(14,wF,1,0,"div",8),Jr(15,AF,5,9,"div",10),Gr()()),2&t&&(Ri("disabled",y.disabled),jr("disabled",y.disabled),Or(3),jr("ngIf",y.spinners),Or(1),Ri("form-control-sm",y.isSmallSize)("form-control-lg",y.isLargeSize),jr("value",y.formatHour(null==y.model?null:y.model.hour))("readOnly",y.readonlyInputs)("disabled",y.disabled),Or(1),jr("ngIf",y.spinners),Or(4),jr("ngIf",y.spinners),Or(1),Ri("form-control-sm",y.isSmallSize)("form-control-lg",y.isLargeSize),jr("value",y.formatMinSec(null==y.model?null:y.model.minute))("readOnly",y.readonlyInputs)("disabled",y.disabled),Or(1),jr("ngIf",y.spinners),Or(1),jr("ngIf",y.seconds),Or(1),jr("ngIf",y.seconds),Or(1),jr("ngIf",y.meridian),Or(1),jr("ngIf",y.meridian))},dependencies:[Xu],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),e})(),vS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({imports:[AB]}),e})();const kB=(e,n)=>{const{classList:t}=e;if(n)return t.add("fade"),z0(e),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},SB=({classList:e})=>(e.add("showing"),()=>{e.remove("show","showing")});let EB=(()=>{class e{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return e.\u0275fac=function(t){return new(t||e)(Nr(ep))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),CB=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Br({type:e,selectors:[["","ngbToastHeader",""]],standalone:!0}),e})(),DB=(()=>{class e{constructor(t,y,L,K){this.ariaLive=t,this._zone=L,this._element=K,this.contentHeaderTpl=null,this.shown=new Hr,this.hidden=new Hr,null==this.ariaLive&&(this.ariaLive=y.ariaLive),this.delay=y.delay,this.autohide=y.autohide,this.animation=y.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(Us(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=cl(this._zone,this._element.nativeElement,SB,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=cl(this._zone,this._element.nativeElement,kB,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return e.\u0275fac=function(t){return new(t||e)(function zc(e){return function hp(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const y=t.length;let L=0;for(;L<y;){const K=t[L];if(Hi(K))break;if(0===K)L+=2;else if("number"==typeof K)for(L++;L<y&&"string"==typeof t[L];)L++;else{if(K===n)return t[L+1];L+=2}}}return null}(go(),e)}("aria-live"),Wn(EB),Wn(Bo),Wn(ci))},e.\u0275cmp=ji({type:e,selectors:[["ngb-toast"]],contentQueries:function(t,y,L){if(1&t&&Ca(L,CB,7,Ea),2&t){let K;Fo(K=zo())&&(y.contentHeaderTpl=K.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,y){2&t&&(bo("aria-live",y.ariaLive),Ri("fade",y.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[Li,sl],ngContentSelectors:Iy,decls:5,vars:1,consts:function(){let n;return n=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",n,1,"btn-close",3,"click"]]},template:function(t,y){1&t&&(a0(),Jr(0,kF,2,1,"ng-template",null,0,Lu),Jr(2,EF,3,1,"ng-template",1),Rr(3,"div",2),s0(4),Gr()),2&t&&(Or(2),jr("ngIf",y.contentHeaderTpl||y.header))},dependencies:[Xu,rd],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),e})(),yS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({imports:[DB]}),e})(),_S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({}),e})(),OB=(()=>{class e{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const y=fk(this.result),L=Array.isArray(this.term)?this.term:[this.term],K=ot=>this.accentSensitive?ot:pk(ot),me=L.map(ot=>function RF(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(K(fk(ot)))).filter(ot=>ot),ze=this.accentSensitive?y:pk(y),Ze=me.length?ze.split(new RegExp(`(${me.join("|")})`,"gmi")):[y];if(this.accentSensitive)this.parts=Ze;else{let ot=0;this.parts=Ze.map(yt=>y.substring(ot,ot+=yt.length))}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ji({type:e,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[Li,sl],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,y){1&t&&Jr(0,OF,3,2,"ng-template",0),2&t&&jr("ngForOf",y.parts)},dependencies:[Xu,uc],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),e})();new gi("live announcer delay",{providedIn:"root",factory:function IB(){return 100}});let xS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({imports:[OB]}),e})(),bS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({}),e})();const PB=[wk,Tk,Ak,D2,Wk,Zk,Xk,eS,bS,uS,fS,dS,hS,vS,yS,_S,xS];let RB=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ro({type:e}),e.\u0275inj=lr({imports:[PB,wk,Tk,Ak,D2,Wk,Zk,Xk,eS,bS,uS,fS,dS,hS,vS,yS,_S,xS]}),e})();function LB(e,n){if(1&e){const t=Sa();Rr(0,"div",5),Ti("click",function(){const K=_i(t).$implicit;return Ci(Xr().populateTable(K))}),So(1),Gr()}if(2&e){const t=n.$implicit;Or(1),Jf(" ",t.title," ")}}function NB(e,n){if(1&e&&(Rr(0,"tr")(1,"td"),So(2),Gr(),Rr(3,"td"),So(4),Gr(),Rr(5,"td"),So(6),Gr(),Rr(7,"td"),So(8),Gr()()),2&e){const t=n.$implicit;Or(2),Ol(t.name),Or(2),Ol(t.series||"-"),Or(2),Ol(t.repetitions||"-"),Or(2),Ol(t.weight||"-")}}function FB(e,n){if(1&e&&(Rr(0,"div",6)(1,"h2",7),So(2),Gr(),Rr(3,"table",8)(4,"thead")(5,"tr")(6,"th"),So(7,"Exerc\xedcio"),Gr(),Rr(8,"th"),So(9,"S\xe9ries"),Gr(),Rr(10,"th"),So(11,"Repeti\xe7\xf5es"),Gr(),Rr(12,"th"),So(13,"Carga"),Gr()()(),Rr(14,"tbody"),Jr(15,NB,9,4,"tr",9),Gr()()()),2&e){const t=Xr();Or(2),Ol(t.selectedWorkout.title),Or(13),jr("ngForOf",t.selectedWorkout.exercises)}}let zB=(()=>{class e{constructor(){this.workouts=[]}populateTable(t){this.selectedWorkout=t}static#e=this.\u0275fac=function(y){return new(y||e)};static#t=this.\u0275cmp=ji({type:e,selectors:[["app-workouts"]],inputs:{workouts:"workouts"},decls:5,vars:2,consts:[[1,"container","mt-5"],["id","titles-container",1,"mb-3"],[1,"row"],["class","col mx-3 clickable text-center",3,"click",4,"ngFor","ngForOf"],["id","table-container",4,"ngIf"],[1,"col","mx-3","clickable","text-center",3,"click"],["id","table-container"],[1,"text-center"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"]],template:function(y,L){1&y&&(Rr(0,"div",0)(1,"div",1)(2,"div",2),Jr(3,LB,2,1,"div",3),Gr()(),Jr(4,FB,16,2,"div",4),Gr()),2&y&&(Or(3),jr("ngForOf",L.workouts),Or(1),jr("ngIf",L.selectedWorkout))},dependencies:[uc,Xu],styles:[".clickable[_ngcontent-%COMP%]{cursor:pointer}.clickable[_ngcontent-%COMP%]:hover{text-decoration:underline}.selected[_ngcontent-%COMP%]{background-color:#f5f5f5;text-decoration:underline}"]})}return e})();function BB(e,n){if(1&e){const t=Sa();Rr(0,"div",6)(1,"div",7)(2,"h5",8)(3,"button",9),Ti("click",function(){const K=_i(t).index,me=Xr();return Ci(me.isCollapsed[K]=!me.isCollapsed[K])}),So(4),nx(5,"date"),Gr()()(),Rr(6,"div",10,11),Ti("ngbCollapseChange",function(L){const me=_i(t).index;return Ci(Xr().isCollapsed[me]=L)}),Rr(8,"div",12),za(9,"app-workouts",1),Gr()()()}if(2&e){const t=n.$implicit,y=n.index,L=Xr();Or(1),l0("id","heading",y,""),Or(2),bo("aria-expanded",!L.isCollapsed[y]),Or(1),Jf(" Encerrado em ",function rT(e,n,t,y){const L=e+di,K=kr(),me=xa(K,L);return am(K,L)?J3(K,_e(),n,me.transform,t,y,me):me.transform(t,y)}(5,6,t.date,"dd/MM/yyyy")," "),Or(2),l0("id","collapse",y,""),jr("ngbCollapse",L.isCollapsed[y]),Or(3),jr("workouts",t.workout)}}const jB=[{path:"workouts",component:(()=>{class e{constructor(t){this.workoutService=t,this.allWorkouts=[],this.workouts=[],this.isCollapsed=[],this.workoutService.getLastWorkout().subscribe(y=>{this.workouts=y.workout})}ngOnInit(){this.loadExercises(),this.workoutService.getWorkouts().subscribe(t=>{t.shift(),this.allWorkouts=t,t.forEach(()=>{this.isCollapsed.push(!0)})})}loadExercises(){this.workoutService.getLastWorkout().subscribe(t=>{this.workouts=t.workout})}populateTable(t){this.selectedWorkout=t}static#e=this.\u0275fac=function(y){return new(y||e)(Wn(RA))};static#t=this.\u0275cmp=ji({type:e,selectors:[["app-workout-sheet"]],decls:7,vars:2,consts:[[1,"container","mt-5"],[3,"workouts"],[1,"text-center","mt-5"],[1,"container"],["id","accordion"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-header",3,"id"],[1,"mb-0"],["type","button",1,"btn",3,"click"],[3,"id","ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],[1,"card-body"]],template:function(y,L){1&y&&(Rr(0,"div",0),za(1,"app-workouts",1),Gr(),Rr(2,"p",2),So(3,"Historico"),Gr(),Rr(4,"div",3)(5,"div",4),Jr(6,BB,10,9,"div",5),Gr()()),2&y&&(Or(1),jr("workouts",L.workouts),Or(5),jr("ngForOf",L.allWorkouts))},dependencies:[uc,E2,zB,D5]})}return e})()},{path:"history",component:gP},{path:"",component:xP}];let UB=(()=>{class e{static#e=this.\u0275fac=function(y){return new(y||e)};static#t=this.\u0275mod=ro({type:e});static#n=this.\u0275inj=lr({imports:[IA.forRoot(jB),IA]})}return e})(),VB=(()=>{class e{constructor(){this.title="workout-sheet"}static#e=this.\u0275fac=function(y){return new(y||e)};static#t=this.\u0275cmp=ji({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"],[1,"text-center","mt-5"]],template:function(y,L){1&y&&(Rr(0,"div",0)(1,"h1",1),So(2,"Workout Sheet"),Gr(),za(3,"router-outlet"),Gr())},dependencies:[Eb]})}return e})();var HB=lf(102);FA.plotlyjs=HB;let GB=(()=>{class e{static#e=this.\u0275fac=function(y){return new(y||e)};static#t=this.\u0275mod=ro({type:e,bootstrap:[VB]});static#n=this.\u0275inj=lr({imports:[a7,UB,RB,FA,N7,D2]})}return e})();o7().bootstrapModule(GB).catch(e=>console.error(e))},102:Df=>{self,Df.exports=function(){var sd={98847:function(ae,B,r){"use strict";var D=r(71828),E={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var f in E){var S=f.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");D.addStyleRule(S,E[f])}},98222:function(ae,B,r){"use strict";ae.exports=r(82887)},27206:function(ae,B,r){"use strict";ae.exports=r(60822)},59893:function(ae,B,r){"use strict";ae.exports=r(23381)},5224:function(ae,B,r){"use strict";ae.exports=r(83832)},59509:function(ae,B,r){"use strict";ae.exports=r(72201)},75557:function(ae,B,r){"use strict";ae.exports=r(91815)},40338:function(ae,B,r){"use strict";ae.exports=r(21462)},35080:function(ae,B,r){"use strict";ae.exports=r(51319)},61396:function(ae,B,r){"use strict";ae.exports=r(57516)},40549:function(ae,B,r){"use strict";ae.exports=r(98128)},49866:function(ae,B,r){"use strict";ae.exports=r(99442)},36089:function(ae,B,r){"use strict";ae.exports=r(93740)},19548:function(ae,B,r){"use strict";ae.exports=r(8729)},35831:function(ae,B,r){"use strict";ae.exports=r(93814)},61039:function(ae,B,r){"use strict";ae.exports=r(14382)},97040:function(ae,B,r){"use strict";ae.exports=r(51759)},77986:function(ae,B,r){"use strict";ae.exports=r(10421)},24296:function(ae,B,r){"use strict";ae.exports=r(43102)},58872:function(ae,B,r){"use strict";ae.exports=r(92165)},29626:function(ae,B,r){"use strict";ae.exports=r(3325)},65591:function(ae,B,r){"use strict";ae.exports=r(36071)},69738:function(ae,B,r){"use strict";ae.exports=r(43905)},92650:function(ae,B,r){"use strict";ae.exports=r(35902)},35630:function(ae,B,r){"use strict";ae.exports=r(69816)},73434:function(ae,B,r){"use strict";ae.exports=r(94507)},27909:function(ae,B,r){"use strict";var D=r(19548);D.register([r(27206),r(5224),r(58872),r(65591),r(69738),r(92650),r(49866),r(25743),r(6197),r(97040),r(85461),r(73434),r(54201),r(81299),r(47645),r(35630),r(77986),r(83043),r(93005),r(96881),r(4534),r(50581),r(40549),r(77900),r(47582),r(35080),r(21641),r(17280),r(5861),r(29626),r(10021),r(65317),r(96268),r(61396),r(35831),r(16122),r(46163),r(40344),r(40338),r(48131),r(36089),r(55334),r(75557),r(19440),r(99488),r(59893),r(97393),r(98222),r(61039),r(24296),r(66398),r(59509)]),ae.exports=D},46163:function(ae,B,r){"use strict";ae.exports=r(15154)},96881:function(ae,B,r){"use strict";ae.exports=r(64943)},50581:function(ae,B,r){"use strict";ae.exports=r(21164)},55334:function(ae,B,r){"use strict";ae.exports=r(54186)},65317:function(ae,B,r){"use strict";ae.exports=r(94873)},10021:function(ae,B,r){"use strict";ae.exports=r(67618)},54201:function(ae,B,r){"use strict";ae.exports=r(58810)},5861:function(ae,B,r){"use strict";ae.exports=r(20593)},16122:function(ae,B,r){"use strict";ae.exports=r(29396)},83043:function(ae,B,r){"use strict";ae.exports=r(13551)},48131:function(ae,B,r){"use strict";ae.exports=r(46858)},47582:function(ae,B,r){"use strict";ae.exports=r(17988)},21641:function(ae,B,r){"use strict";ae.exports=r(68868)},96268:function(ae,B,r){"use strict";ae.exports=r(20467)},19440:function(ae,B,r){"use strict";ae.exports=r(91271)},99488:function(ae,B,r){"use strict";ae.exports=r(21461)},97393:function(ae,B,r){"use strict";ae.exports=r(85956)},25743:function(ae,B,r){"use strict";ae.exports=r(52979)},66398:function(ae,B,r){"use strict";ae.exports=r(32275)},17280:function(ae,B,r){"use strict";ae.exports=r(6419)},77900:function(ae,B,r){"use strict";ae.exports=r(61510)},81299:function(ae,B,r){"use strict";ae.exports=r(87619)},93005:function(ae,B,r){"use strict";ae.exports=r(93601)},40344:function(ae,B,r){"use strict";ae.exports=r(96595)},47645:function(ae,B,r){"use strict";ae.exports=r(70954)},6197:function(ae,B,r){"use strict";ae.exports=r(47462)},4534:function(ae,B,r){"use strict";ae.exports=r(17659)},85461:function(ae,B,r){"use strict";ae.exports=r(19990)},82884:function(ae){"use strict";ae.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(ae,B,r){"use strict";var D=r(82884),E=r(41940),f=r(85555),S=r(44467).templatedArray;r(24695),ae.exports=S("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:E({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:D.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:D.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",f.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",f.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",f.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",f.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:E({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(92605).draw;function S(v){D.filterVisible(v._fullLayout.annotations).forEach(function(i){var s=E.getFromId(v,i.xref),a=E.getFromId(v,i.yref),o=E.getRefType(i.xref),l=E.getRefType(i.yref);i._extremes={},"range"===o&&M(i,s),"range"===l&&M(i,a)})}function M(v,c){var i,s=c._id,a=s.charAt(0),o=v[a],l=v["a"+a],m=v["_"+a+"padplus"],h=v["_"+a+"padminus"],T={x:1,y:-1}[a]*v[a+"shift"],_=3*v.arrowsize*v.arrowwidth||0,g=_+T,w=_-T,x=3*v.startarrowsize*v.arrowwidth||0,b=x+T,A=x-T;if(v["a"+a+"ref"]===v[a+"ref"]){var p=E.findExtremes(c,[c.r2c(o)],{ppadplus:g,ppadminus:w}),O=E.findExtremes(c,[c.r2c(l)],{ppadplus:Math.max(m,b),ppadminus:Math.max(h,A)});i={min:[p.min[0],O.min[0]],max:[p.max[0],O.max[0]]}}else b=l?b+l:b,A=l?A-l:A,i=E.findExtremes(c,[c.r2c(o)],{ppadplus:Math.max(m,g,b),ppadminus:Math.max(h,w,A)});v._extremes[s]=i}ae.exports=function(v){if(D.filterVisible(v._fullLayout.annotations).length&&v._fullData.length)return D.syncOrAsync([f,S],v)}},44317:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),f=r(44467).arrayEditor;function S(v,c){var i,s,a,o,l,u,d,m=v._fullLayout.annotations,h=[],T=[],_=[],g=(c||[]).length;for(i=0;i<m.length;i++)if(o=(a=m[i]).clicktoshow){for(s=0;s<g;s++)if(u=(l=c[s]).xaxis,d=l.yaxis,u._id===a.xref&&d._id===a.yref&&u.d2r(l.x)===M(a._xclick,u)&&d.d2r(l.y)===M(a._yclick,d)){(a.visible?"onout"===o?T:_:h).push(i);break}s===g&&a.visible&&"onout"===o&&T.push(i)}return{on:h,off:T,explicitOff:_}}function M(v,c){return"log"===c.type?c.l2r(v):c.d2r(v)}ae.exports={hasClickToShow:function(v,c){var i=S(v,c);return i.on.length>0||i.explicitOff.length>0},onClick:function(v,c){var i,s,a=S(v,c),o=a.on,l=a.off.concat(a.explicitOff),u={},d=v._fullLayout.annotations;if(o.length||l.length){for(i=0;i<o.length;i++)(s=f(v.layout,"annotations",d[o[i]])).modifyItem("visible",!0),D.extendFlat(u,s.getUpdateObj());for(i=0;i<l.length;i++)(s=f(v.layout,"annotations",d[l[i]])).modifyItem("visible",!1),D.extendFlat(u,s.getUpdateObj());return E.call("update",v,{},u)}}}},25625:function(ae,B,r){"use strict";var D=r(71828),E=r(7901);ae.exports=function(f,S,M,v){v("opacity");var c=v("bgcolor"),i=v("bordercolor"),s=E.opacity(i);v("borderpad");var a=v("borderwidth"),o=v("showarrow");if(v("text",o?" ":M._dfltTitle.annotation),v("textangle"),D.coerceFont(v,"font",M.font),v("width"),v("align"),v("height")&&v("valign"),o){var l,u,d=v("arrowside");-1!==d.indexOf("end")&&(l=v("arrowhead"),u=v("arrowsize")),-1!==d.indexOf("start")&&(v("startarrowhead",l),v("startarrowsize",u)),v("arrowcolor",s?S.bordercolor:E.defaultLine),v("arrowwidth",2*(s&&a||1)),v("standoff"),v("startstandoff")}var m=v("hovertext"),h=M.hoverlabel||{};if(m){var T=v("hoverlabel.bgcolor",h.bgcolor||(E.opacity(c)?E.rgb(c):E.defaultLine)),_=v("hoverlabel.bordercolor",h.bordercolor||E.contrast(T));D.coerceFont(v,"hoverlabel.font",{family:h.font.family,size:h.font.size,color:h.font.color||_})}v("captureevents",!!m)}},94128:function(ae,B,r){"use strict";var D=r(92770),E=r(58163);ae.exports=function(f,S,M,v){S=S||{};var c="log"===M&&"linear"===S.type;if(c||"linear"===M&&"log"===S.type)for(var s,a,o=f._fullLayout.annotations,l=S._id.charAt(0),u=0;u<o.length;u++)a="annotations["+u+"].",(s=o[u])[l+"ref"]===S._id&&d(l),s["a"+l+"ref"]===S._id&&d("a"+l);function d(m){var h=s[m],T=null;T=c?E(h,S.range):Math.pow(10,h),D(T)||(T=null),v(a+m,T)}}},84046:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(85501),S=r(25625),M=r(50215);function v(c,i,s){function a(O,k){return D.coerce(c,i,M,O,k)}var o=a("visible"),l=a("clicktoshow");if(o||l){S(c,i,s,a);for(var u=i.showarrow,d=["x","y"],m=[-10,-30],h={_fullLayout:s},T=0;T<2;T++){var _=d[T],g=E.coerceRef(c,i,h,_,"","paper");if("paper"!==g&&E.getFromId(h,g)._annIndices.push(i._index),E.coercePosition(i,h,a,g,_,.5),u){var w="a"+_,x=E.coerceRef(c,i,h,w,"pixel",["pixel","paper"]);"pixel"!==x&&x!==g&&(x=i[w]="pixel"),E.coercePosition(i,h,a,x,w,"pixel"===x?m[T]:.4)}a(_+"anchor"),a(_+"shift")}if(D.noneOrAll(c,i,["x","y"]),u&&D.noneOrAll(c,i,["ax","ay"]),l){var A=a("xclick"),p=a("yclick");i._xclick=void 0===A?i.x:E.cleanPosition(A,h,i.xref),i._yclick=void 0===p?i.y:E.cleanPosition(p,h,i.yref)}}}ae.exports=function(c,i){f(c,i,{name:"annotations",handleItemDefaults:v})}},92605:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(74875),S=r(71828),M=S.strTranslate,v=r(89298),c=r(7901),i=r(91424),s=r(30211),a=r(63893),o=r(6964),l=r(28569),u=r(44467).arrayEditor,d=r(13011);function m(_,g){var w=_._fullLayout.annotations[g]||{},x=v.getFromId(_,w.xref),b=v.getFromId(_,w.yref);x&&x.setScale(),b&&b.setScale(),T(_,w,g,!1,x,b)}function h(_,g,w,x,b){var A=b[w],p=b[w+"ref"],O=-1!==w.indexOf("y"),k="domain"===v.getRefType(p),I=O?x.h:x.w;return _?k?A+(O?-g:g)/_._length:_.p2r(_.r2p(A)+g):A+(O?-g:g)/I}function T(_,g,w,x,b,A){var p,O,k=_._fullLayout,I=_._fullLayout._size,P=_._context.edits;x?(p="annotation-"+x,O=x+".annotations"):(p="annotation",O="annotations");var R=u(_.layout,O,g),N=R.modifyBase,j=R.modifyItem,X=R.getUpdateObj;k._infolayer.selectAll("."+p+'[data-index="'+w+'"]').remove();var F="clip"+k._uid+"_ann"+w;if(g._input&&!1!==g.visible){var Z={x:{},y:{}},W=+g.textangle||0,H=k._infolayer.append("g").classed(p,!0).attr("data-index",String(w)).style("opacity",g.opacity),G=H.append("g").classed("annotation-text-g",!0),Y=P[g.showarrow?"annotationTail":"annotationPosition"],se=g.captureevents||P.annotationText||Y,te=G.append("g").style("pointer-events",se?"all":null).call(o,"pointer").on("click",function(){_._dragging=!1,_.emit("plotly_clickannotation",Ae(D.event))});g.hovertext&&te.on("mouseover",function(){var xe=g.hoverlabel,Fe=xe.font,Se=this.getBoundingClientRect(),ke=_.getBoundingClientRect();s.loneHover({x0:Se.left-ke.left,x1:Se.right-ke.left,y:(Se.top+Se.bottom)/2-ke.top,text:g.hovertext,color:xe.bgcolor,borderColor:xe.bordercolor,fontFamily:Fe.family,fontSize:Fe.size,fontColor:Fe.color},{container:k._hoverlayer.node(),outerContainer:k._paper.node(),gd:_})}).on("mouseout",function(){s.loneUnhover(k._hoverlayer.node())});var re=g.borderwidth,ee=re+g.borderpad,oe=te.append("rect").attr("class","bg").style("stroke-width",re+"px").call(c.stroke,g.bordercolor).call(c.fill,g.bgcolor),le=g.width||g.height,ue=k._topclips.selectAll("#"+F).data(le?[0]:[]);ue.enter().append("clipPath").classed("annclip",!0).attr("id",F).append("rect"),ue.exit().remove();var de=g.font,he=k._meta?S.templateString(g.text,k._meta):g.text,we=te.append("text").classed("annotation-text",!0).text(he);P.annotationText?we.call(a.makeEditable,{delegate:te,gd:_}).call(Te).on("edit",function(xe){g.text=xe,this.call(Te),j("text",xe),b&&b.autorange&&N(b._name+".autorange",!0),A&&A.autorange&&N(A._name+".autorange",!0),E.call("_guiRelayout",_,X())}):we.call(Te)}else D.selectAll("#"+F).remove();function Ae(xe){var Fe={index:w,annotation:g._input,fullAnnotation:g,event:xe};return x&&(Fe.subplotId=x),Fe}function Te(xe){return xe.call(i.font,de).attr({"text-anchor":{left:"start",right:"end"}[g.align]||"middle"}),a.convertToTspans(xe,_,ve),xe}function ve(){var xe=we.selectAll("a");1===xe.size()&&xe.text()===we.text()&&te.insert("a",":first-child").attr({"xlink:xlink:href":xe.attr("xlink:href"),"xlink:xlink:show":xe.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(oe.node());var Fe=te.select(".annotation-text-math-group"),Se=!Fe.empty(),ke=i.bBox((Se?Fe:we).node()),pe=ke.width,fe=ke.height,be=g.width||pe,Le=g.height||fe,Oe=Math.round(be+2*ee),De=Math.round(Le+2*ee);function Ue(kt,_t){return"auto"===_t&&(_t=kt<.3333333333333333?"left":kt>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[_t]}for(var Ge=!1,ye=["x","y"],Ie=0;Ie<ye.length;Ie++){var Ee,Be,We,He,Je,et=ye[Ie],at=g[et+"ref"]||et,mt=g["a"+et+"ref"],ct={x:b,y:A}[et],St=(W+("x"===et?0:-90))*Math.PI/180,Dt=Oe*Math.cos(St),Et=De*Math.sin(St),ht=Math.abs(Dt)+Math.abs(Et),pt=g[et+"anchor"],Pt=g[et+"shift"]*("x"===et?1:-1),Ft=Z[et],Ht=v.getRefType(at);if(ct&&"domain"!==Ht){var Lt=ct.r2fraction(g[et]);(Lt<0||Lt>1)&&(mt===at?((Lt=ct.r2fraction(g["a"+et]))<0||Lt>1)&&(Ge=!0):Ge=!0),Ee=ct._offset+ct.r2p(g[et]),He=.5}else{var tt="domain"===Ht;"x"===et?(We=g[et],Ee=tt?ct._offset+ct._length*We:Ee=I.l+I.w*We):(We=1-g[et],Ee=tt?ct._offset+ct._length*We:Ee=I.t+I.h*We),He=g.showarrow?.5:We}if(g.showarrow){Ft.head=Ee;var rt=g["a"+et];if(Je=Dt*Ue(.5,g.xanchor)-Et*Ue(.5,g.yanchor),mt===at){var Ke=v.getRefType(mt);"domain"===Ke?("y"===et&&(rt=1-rt),Ft.tail=ct._offset+ct._length*rt):Ft.tail="paper"===Ke?"y"===et?I.t+I.h*(rt=1-rt):I.l+I.w*rt:ct._offset+ct.r2p(rt),Be=Je}else Ft.tail=Ee+rt,Be=Je+rt;Ft.text=Ft.tail+Je;var it=k["x"===et?"width":"height"];if("paper"===at&&(Ft.head=S.constrain(Ft.head,1,it-1)),"pixel"===mt){var gt=-Math.max(Ft.tail-3,Ft.text),ft=Math.min(Ft.tail+3,Ft.text)-it;gt>0?(Ft.tail+=gt,Ft.text+=gt):ft>0&&(Ft.tail-=ft,Ft.text-=ft)}Ft.tail+=Pt,Ft.head+=Pt}else Be=Je=ht*Ue(He,pt),Ft.text=Ee+Je;Ft.text+=Pt,Je+=Pt,g["_"+et+"padplus"]=ht/2+(Be+=Pt),g["_"+et+"padminus"]=ht/2-Be,g["_"+et+"size"]=ht,g["_"+et+"shift"]=Je}if(Ge)te.remove();else{var Ve=0,qe=0;"left"!==g.align&&(Ve=(be-pe)*("center"===g.align?.5:1)),"top"!==g.valign&&(qe=(Le-fe)*("middle"===g.valign?.5:1)),Se?Fe.select("svg").attr({x:ee+Ve-1,y:ee+qe}).call(i.setClipUrl,le?F:null,_):we.call(a.positionText,ee+Ve-ke.left,ee+qe-ke.top).call(i.setClipUrl,le?F:null,_),ue.select("rect").call(i.setRect,ee,ee,be,Le),oe.call(i.setRect,re/2,re/2,Oe-re,De-re),te.call(i.setTranslate,Math.round(Z.x.text-Oe/2),Math.round(Z.y.text-De/2)),G.attr({transform:"rotate("+W+","+Z.x.text+","+Z.y.text+")"});var At,wt=function(kt,_t){H.selectAll(".annotation-arrow-g").remove();var Rt=Z.x.head,bt=Z.y.head,Tt=Z.x.tail+kt,Ot=Z.y.tail+_t,Wt=Z.x.text+kt,qt=Z.y.text+_t,Jt=S.rotationXYMatrix(W,Wt,qt),pn=S.apply2DTransform(Jt),en=S.apply2DTransform2(Jt),nn=+oe.attr("width"),dn=+oe.attr("height"),In=Wt-.5*nn,Hn=In+nn,An=qt-.5*dn,on=An+dn,yn=[[In,An,In,on],[In,on,Hn,on],[Hn,on,Hn,An],[Hn,An,In,An]].map(en);if(!yn.reduce(function(mr,dr){return mr^!!S.segmentsIntersect(Rt,bt,Rt+1e6,bt+1e6,dr[0],dr[1],dr[2],dr[3])},!1)){yn.forEach(function(mr){var dr=S.segmentsIntersect(Tt,Ot,Rt,bt,mr[0],mr[1],mr[2],mr[3]);dr&&(Tt=dr.x,Ot=dr.y)});var ln=g.arrowwidth,wn=g.arrowcolor,Cn=g.arrowside,Ln=H.append("g").style({opacity:c.opacity(wn)}).classed("annotation-arrow-g",!0),Sn=Ln.append("path").attr("d","M"+Tt+","+Ot+"L"+Rt+","+bt).style("stroke-width",ln+"px").call(c.stroke,c.rgb(wn));if(d(Sn,Cn,g),P.annotationPosition&&Sn.node().parentNode&&!x){var qn=Rt,kn=bt;if(g.standoff){var Zn=Math.sqrt(Math.pow(Rt-Tt,2)+Math.pow(bt-Ot,2));qn+=g.standoff*(Tt-Rt)/Zn,kn+=g.standoff*(Ot-bt)/Zn}var fr,er,nr=Ln.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Tt-qn)+","+(Ot-kn),transform:M(qn,kn)}).style("stroke-width",ln+6+"px").call(c.stroke,"rgba(0,0,0,0)").call(c.fill,"rgba(0,0,0,0)");l.init({element:nr.node(),gd:_,prepFn:function(){var mr=i.getTranslate(te);fr=mr.x,er=mr.y,b&&b.autorange&&N(b._name+".autorange",!0),A&&A.autorange&&N(A._name+".autorange",!0)},moveFn:function(mr,dr){var Ir=pn(fr,er),Yt=Ir[0]+mr,$t=Ir[1]+dr;te.call(i.setTranslate,Yt,$t),j("x",h(b,mr,"x",I,g)),j("y",h(A,dr,"y",I,g)),g.axref===g.xref&&j("ax",h(b,mr,"ax",I,g)),g.ayref===g.yref&&j("ay",h(A,dr,"ay",I,g)),Ln.attr("transform",M(mr,dr)),G.attr({transform:"rotate("+W+","+Yt+","+$t+")"})},doneFn:function(){E.call("_guiRelayout",_,X());var mr=document.querySelector(".js-notes-box-panel");mr&&mr.redraw(mr.selectedObj)}})}}};g.showarrow&&wt(0,0),Y&&l.init({element:te.node(),gd:_,prepFn:function(){At=G.attr("transform")},moveFn:function(kt,_t){var Rt="pointer";if(g.showarrow)j("ax",g.axref===g.xref?h(b,kt,"ax",I,g):g.ax+kt),j("ay",g.ayref===g.yref?h(A,_t,"ay",I.w,g):g.ay+_t),wt(kt,_t);else{if(x)return;var bt,Tt;if(b)bt=h(b,kt,"x",I,g);else{var Ot=g._xsize/I.w;bt=l.align(g.x+(g._xshift-g.xshift)/I.w-Ot/2+kt/I.w,Ot,0,1,g.xanchor)}if(A)Tt=h(A,_t,"y",I,g);else{var qt=g._ysize/I.h;Tt=l.align(g.y-(g._yshift+g.yshift)/I.h-qt/2-_t/I.h,qt,0,1,g.yanchor)}j("x",bt),j("y",Tt),b&&A||(Rt=l.getCursor(b?.5:bt,A?.5:Tt,g.xanchor,g.yanchor))}G.attr({transform:M(kt,_t)+At}),o(te,Rt)},clickFn:function(kt,_t){g.captureevents&&_.emit("plotly_clickannotation",Ae(_t))},doneFn:function(){o(te),E.call("_guiRelayout",_,X());var kt=document.querySelector(".js-notes-box-panel");kt&&kt.redraw(kt.selectedObj)}})}}}ae.exports={draw:function(_){var g=_._fullLayout;g._infolayer.selectAll(".annotation").remove();for(var w=0;w<g.annotations.length;w++)g.annotations[w].visible&&m(_,w);return f.previousPromises(_)},drawOne:m,drawRaw:T}},13011:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),f=r(82884),S=r(71828),M=S.strScale,v=S.strRotate,c=S.strTranslate;ae.exports=function(i,s,a){var o,l,u,d,m=i.node(),h=f[a.arrowhead||0],T=f[a.startarrowhead||0],_=(a.arrowwidth||1)*(a.arrowsize||1),g=(a.arrowwidth||1)*(a.startarrowsize||1),w=s.indexOf("start")>=0,x=s.indexOf("end")>=0,b=h.backoff*_+a.standoff,A=T.backoff*g+a.startstandoff;if("line"===m.nodeName){o={x:+i.attr("x1"),y:+i.attr("y1")},l={x:+i.attr("x2"),y:+i.attr("y2")};var p=o.x-l.x,O=o.y-l.y;if(d=(u=Math.atan2(O,p))+Math.PI,b&&A&&b+A>Math.sqrt(p*p+O*O))return void H();if(b){if(b*b>p*p+O*O)return void H();var k=b*Math.cos(u),I=b*Math.sin(u);l.x+=k,l.y+=I,i.attr({x2:l.x,y2:l.y})}if(A){if(A*A>p*p+O*O)return void H();var P=A*Math.cos(u),R=A*Math.sin(u);o.x-=P,o.y-=R,i.attr({x1:o.x,y1:o.y})}}else if("path"===m.nodeName){var N=m.getTotalLength(),j="";if(N<b+A)return void H();var X=m.getPointAtLength(0),F=m.getPointAtLength(.1);u=Math.atan2(X.y-F.y,X.x-F.x),o=m.getPointAtLength(Math.min(A,N)),j="0px,"+A+"px,";var Z=m.getPointAtLength(N),W=m.getPointAtLength(N-.1);d=Math.atan2(Z.y-W.y,Z.x-W.x),l=m.getPointAtLength(Math.max(0,N-b)),i.style("stroke-dasharray",j+=N-(j?A+b:b)+"px,"+N+"px")}function H(){i.style("stroke-dasharray","0px,100px")}function G(Y,se,te,re){Y.path&&(Y.noRotate&&(te=0),D.select(m.parentNode).append("path").attr({class:i.attr("class"),d:Y.path,transform:c(se.x,se.y)+v(180*te/Math.PI)+M(re)}).style({fill:E.rgb(a.arrowcolor),"stroke-width":0}))}w&&G(T,o,u,g),x&&G(h,l,d,_)}},32745:function(ae,B,r){"use strict";var D=r(92605),E=r(44317);ae.exports={moduleType:"component",name:"annotations",layoutAttributes:r(50215),supplyLayoutDefaults:r(84046),includeBasePlot:r(76325)("annotations"),calcAutorange:r(3749),draw:D.draw,drawOne:D.drawOne,drawRaw:D.drawRaw,hasClickToShow:E.hasClickToShow,onClick:E.onClick,convertCoords:r(94128)}},26997:function(ae,B,r){"use strict";var D=r(50215),E=r(30962).overrideAll,f=r(44467).templatedArray;ae.exports=E(f("annotation",{visible:D.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:D.xanchor,xshift:D.xshift,yanchor:D.yanchor,yshift:D.yshift,text:D.text,textangle:D.textangle,font:D.font,width:D.width,height:D.height,opacity:D.opacity,align:D.align,valign:D.valign,bgcolor:D.bgcolor,bordercolor:D.bordercolor,borderpad:D.borderpad,borderwidth:D.borderwidth,showarrow:D.showarrow,arrowcolor:D.arrowcolor,arrowhead:D.arrowhead,startarrowhead:D.startarrowhead,arrowside:D.arrowside,arrowsize:D.arrowsize,startarrowsize:D.startarrowsize,arrowwidth:D.arrowwidth,standoff:D.standoff,startstandoff:D.startstandoff,hovertext:D.hovertext,hoverlabel:D.hoverlabel,captureevents:D.captureevents}),"calc","from-root")},5485:function(ae,B,r){"use strict";var D=r(71828),E=r(89298);function f(S,M){var v=M.fullSceneLayout.domain,c=M.fullLayout._size,i={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};S._xa={},D.extendFlat(S._xa,i),E.setConvert(S._xa),S._xa._offset=c.l+v.x[0]*c.w,S._xa.l2p=function(){return.5*(1+S._pdata[0]/S._pdata[3])*c.w*(v.x[1]-v.x[0])},S._ya={},D.extendFlat(S._ya,i),E.setConvert(S._ya),S._ya._offset=c.t+(1-v.y[1])*c.h,S._ya.l2p=function(){return.5*(1-S._pdata[1]/S._pdata[3])*c.h*(v.y[1]-v.y[0])}}ae.exports=function(S){for(var M=S.fullSceneLayout.annotations,v=0;v<M.length;v++)f(M[v],S);S.fullLayout._infolayer.selectAll(".annotation-"+S.id).remove()}},20226:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(85501),S=r(25625),M=r(26997);function v(c,i,s,a){function o(u,d){return D.coerce(c,i,M,u,d)}function l(u){var d=u+"axis",m={_fullLayout:{}};return m._fullLayout[d]=s[d],E.coercePosition(i,m,o,u,u,.5)}o("visible")&&(S(c,i,a.fullLayout,o),l("x"),l("y"),l("z"),D.noneOrAll(c,i,["x","y","z"]),i.xref="x",i.yref="y",i.zref="z",o("xanchor"),o("yanchor"),o("xshift"),o("yshift"),i.showarrow&&(i.axref="pixel",i.ayref="pixel",o("ax",-10),o("ay",-30),D.noneOrAll(c,i,["ax","ay"])))}ae.exports=function(c,i,s){f(c,i,{name:"annotations",handleItemDefaults:v,fullLayout:s.fullLayout})}},82188:function(ae,B,r){"use strict";var D=r(92605).drawRaw,E=r(63538),f=["x","y","z"];ae.exports=function(S){for(var M=S.fullSceneLayout,v=S.dataScale,c=M.annotations,i=0;i<c.length;i++){for(var s=c[i],a=!1,o=0;o<3;o++){var l=f[o],d=M[l+"axis"].r2fraction(s[l]);if(d<0||d>1){a=!0;break}}a?S.fullLayout._infolayer.select(".annotation-"+S.id+'[data-index="'+i+'"]').remove():(s._pdata=E(S.glplot.cameraParams,[M.xaxis.r2l(s.x)*v[0],M.yaxis.r2l(s.y)*v[1],M.zaxis.r2l(s.z)*v[2]]),D(S.graphDiv,s,i,S.id,s._xa,s._ya))}}},2468:function(ae,B,r){"use strict";var D=r(73972),E=r(71828);ae.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:r(26997)}}},layoutAttributes:r(26997),handleDefaults:r(20226),includeBasePlot:function(f,S){var M=D.subplotsRegistry.gl3d;if(M)for(var v=M.attrRegex,c=Object.keys(f),i=0;i<c.length;i++){var s=c[i];v.test(s)&&(f[s].annotations||[]).length&&(E.pushUnique(S._basePlotModules,M),E.pushUnique(S._subplots.gl3d,s))}},convert:r(5485),draw:r(82188)}},7561:function(ae,B,r){"use strict";ae.exports=r(63489),r(94338),r(3961),r(38751),r(86825),r(37715),r(99384),r(43805),r(88874),r(83290),r(29108),r(55422),r(94320),r(31320),r(51367),r(21457)},72201:function(ae,B,r){"use strict";var D=r(7561),E=r(71828),f=r(50606),S=f.EPOCHJD,M=f.ONEDAY,v={valType:"enumerated",values:E.sortObjectKeys(D.calendars),editType:"calc",dflt:"gregorian"},c=function(_,g,w,x){var b={};return b[w]=v,E.coerce(_,g,b,w,x)},i="##",s={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:i,w:i,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},a={};function o(_){return a[_]||(a[_]=D.instance(_))}function l(_){return E.extendFlat({},v,{description:_})}function u(_){return"Sets the calendar system to use with `"+_+"` date data."}var d={xcalendar:l(u("x"))},m=E.extendFlat({},d,{ycalendar:l(u("y"))}),h=E.extendFlat({},m,{zcalendar:l(u("z"))}),T=l(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));ae.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:m,bar:m,box:m,heatmap:m,contour:m,histogram:m,histogram2d:m,histogram2dcontour:m,scatter3d:h,surface:h,mesh3d:h,scattergl:m,ohlc:d,candlestick:d},layout:{calendar:l(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:T},yaxis:{calendar:T},scene:{xaxis:{calendar:T},yaxis:{calendar:T},zaxis:{calendar:T}},polar:{radialaxis:{calendar:T}}},transforms:{filter:{valuecalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:c,handleTraceDefaults:function(_,g,w,x){for(var b=0;b<w.length;b++)c(_,g,w[b]+"calendar",x.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:o,worldCalFmt:function(_,g,w){for(var x,b,A,p,O,k=Math.floor((g+.05)/M)+S,I=o(w).fromJD(k),P=0;-1!==(P=_.indexOf("%",P));)"0"===(x=_.charAt(P+1))||"-"===x||"_"===x?(A=3,b=_.charAt(P+2),"_"===x&&(x="-")):(b=x,x="0",A=2),(p=s[b])?(O=p===i?i:I.formatDate(p[x]),_=_.substr(0,P)+O+_.substr(P+A),P+=O.length):P+=A;return _}}},22399:function(ae,B){"use strict";B.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],B.defaultLine="#444",B.lightLine="#eee",B.background="#fff",B.borderLine="#BEC8D9",B.lightFraction=90.9090909090909},7901:function(ae,B,r){"use strict";var D=r(84267),E=r(92770),f=r(73627).isTypedArray,S=ae.exports={},M=r(22399);S.defaults=M.defaults;var v=S.defaultLine=M.defaultLine;S.lightLine=M.lightLine;var c=S.background=M.background;function i(s){if(E(s)||"string"!=typeof s)return s;var a=s.trim();if("rgb"!==a.substr(0,3))return s;var o=a.match(/^rgba?\s*\(([^()]*)\)$/);if(!o)return s;var l=o[1].trim().split(/\s*[\s,]\s*/),u="a"===a.charAt(3)&&4===l.length;if(!u&&3!==l.length)return s;for(var d=0;d<l.length;d++){if(!(l[d].length&&(l[d]=Number(l[d]),l[d]>=0)))return s;if(3===d)l[d]>1&&(l[d]=1);else if(l[d]>=1)return s}var m=Math.round(255*l[0])+", "+Math.round(255*l[1])+", "+Math.round(255*l[2]);return u?"rgba("+m+", "+l[3]+")":"rgb("+m+")"}S.tinyRGB=function(s){var a=s.toRgb();return"rgb("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+")"},S.rgb=function(s){return S.tinyRGB(D(s))},S.opacity=function(s){return s?D(s).getAlpha():0},S.addOpacity=function(s,a){var o=D(s).toRgb();return"rgba("+Math.round(o.r)+", "+Math.round(o.g)+", "+Math.round(o.b)+", "+a+")"},S.combine=function(s,a){var o=D(s).toRgb();if(1===o.a)return D(s).toRgbString();var l=D(a||c).toRgb(),u=1===l.a?l:{r:255*(1-l.a)+l.r*l.a,g:255*(1-l.a)+l.g*l.a,b:255*(1-l.a)+l.b*l.a};return D({r:u.r*(1-o.a)+o.r*o.a,g:u.g*(1-o.a)+o.g*o.a,b:u.b*(1-o.a)+o.b*o.a}).toRgbString()},S.contrast=function(s,a,o){var l=D(s);return 1!==l.getAlpha()&&(l=D(S.combine(s,c))),(l.isDark()?a?l.lighten(a):c:o?l.darken(o):v).toString()},S.stroke=function(s,a){var o=D(a);s.style({stroke:S.tinyRGB(o),"stroke-opacity":o.getAlpha()})},S.fill=function(s,a){var o=D(a);s.style({fill:S.tinyRGB(o),"fill-opacity":o.getAlpha()})},S.clean=function(s){if(s&&"object"==typeof s){var a,o,l,u,d=Object.keys(s);for(a=0;a<d.length;a++)if(u=s[l=d[a]],"color"===l.substr(l.length-5))if(Array.isArray(u))for(o=0;o<u.length;o++)u[o]=i(u[o]);else s[l]=i(u);else if("colorscale"===l.substr(l.length-10)&&Array.isArray(u))for(o=0;o<u.length;o++)Array.isArray(u[o])&&(u[o][1]=i(u[o][1]));else if(Array.isArray(u)){var m=u[0];if(!Array.isArray(m)&&m&&"object"==typeof m)for(o=0;o<u.length;o++)S.clean(u[o])}else u&&"object"==typeof u&&!f(u)&&S.clean(u)}}},63583:function(ae,B,r){"use strict";var D=r(13838),E=r(41940),f=r(1426).extendFlat,S=r(30962).overrideAll;ae.exports=S({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:D.linecolor,outlinewidth:D.linewidth,bordercolor:D.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:D.minor.tickmode,nticks:D.nticks,tick0:D.tick0,dtick:D.dtick,tickvals:D.tickvals,ticktext:D.ticktext,ticks:f({},D.ticks,{dflt:""}),ticklabeloverflow:f({},D.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:D.ticklen,tickwidth:D.tickwidth,tickcolor:D.tickcolor,ticklabelstep:D.ticklabelstep,showticklabels:D.showticklabels,labelalias:D.labelalias,tickfont:E({}),tickangle:D.tickangle,tickformat:D.tickformat,tickformatstops:D.tickformatstops,tickprefix:D.tickprefix,showtickprefix:D.showtickprefix,ticksuffix:D.ticksuffix,showticksuffix:D.showticksuffix,separatethousands:D.separatethousands,exponentformat:D.exponentformat,minexponent:D.minexponent,showexponent:D.showexponent,title:{text:{valType:"string"},font:E({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:E({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(ae){"use strict";ae.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(ae,B,r){"use strict";var D=r(71828),E=r(44467),f=r(26218),S=r(38701),M=r(96115),v=r(89426),c=r(63583);ae.exports=function(i,s,a){var o=E.newContainer(s,"colorbar"),l=i.colorbar||{};function u(j,X){return D.coerce(l,o,c,j,X)}var d=a.margin||{t:0,b:0,l:0,r:0},m=a.width-d.l-d.r,h=a.height-d.t-d.b,T="v"===u("orientation"),_=u("thicknessmode");u("thickness","fraction"===_?30/(T?m:h):30);var g=u("lenmode");u("len","fraction"===g?1:T?h:m);var w,x,b,A="paper"===u("yref"),p="paper"===u("xref"),O="left";T?(b="middle",O=p?"left":"right",w=p?1.02:1,x=.5):(b=A?"bottom":"top",O="center",w=.5,x=A?1.02:1),D.coerce(l,o,{x:{valType:"number",min:p?-2:0,max:p?3:1,dflt:w}},"x"),D.coerce(l,o,{y:{valType:"number",min:A?-2:0,max:A?3:1,dflt:x}},"y"),u("xanchor",O),u("xpad"),u("yanchor",b),u("ypad"),D.noneOrAll(l,o,["x","y"]),u("outlinecolor"),u("outlinewidth"),u("bordercolor"),u("borderwidth"),u("bgcolor");var k=D.coerce(l,o,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:T?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");u("ticklabeloverflow",-1!==k.indexOf("inside")?"hide past domain":"hide past div"),f(l,o,u,"linear");var I=a.font,P={outerTicks:!1,font:I};-1!==k.indexOf("inside")&&(P.bgColor="black"),v(l,o,u,"linear",P),M(l,o,u,"linear",P),S(l,o,u,"linear",P),u("title.text",a._dfltTitle.colorbar);var R=o.showticklabels?o.tickfont:I,N=D.extendFlat({},R,{color:I.color,size:D.bigFont(R.size)});D.coerceFont(u,"title.font",N),u("title.side",T?"top":"right")}},98981:function(ae,B,r){"use strict";var D=r(39898),E=r(84267),f=r(74875),S=r(73972),M=r(89298),v=r(28569),c=r(71828),i=c.strTranslate,s=r(1426).extendFlat,a=r(6964),o=r(91424),l=r(7901),u=r(92998),d=r(63893),m=r(52075).flipScale,h=r(71453),T=r(52830),_=r(13838),g=r(18783),w=g.LINE_SPACING,x=g.FROM_TL,b=g.FROM_BR,A=r(30939).cn;ae.exports={draw:function(p){var O=p._fullLayout._infolayer.selectAll("g."+A.colorbar).data(function(k){var I,P,R,N,j=k._fullLayout,X=k.calcdata,F=[];function Z(le){return s(le,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function W(){"function"==typeof N.calc?N.calc(k,R,I):(I._fillgradient=P.reversescale?m(P.colorscale):P.colorscale,I._zrange=[P[N.min],P[N.max]])}for(var H=0;H<X.length;H++)if((R=X[H][0].trace)._module){var Y=R._module.colorbar;if(!0===R.visible&&Y)for(var se=Array.isArray(Y),te=se?Y:[Y],re=0;re<te.length;re++){var Q=(N=te[re]).container;(P=Q?R[Q]:R)&&P.showscale&&((I=Z(P.colorbar))._id="cb"+R.uid+(se&&Q?"-"+Q:""),I._traceIndex=R.index,I._propPrefix=(Q?Q+".":"")+"colorbar.",I._meta=R._meta,W(),F.push(I))}}for(var ee in j._colorAxes)if((P=j[ee]).showscale){var oe=j._colorAxes[ee];(I=Z(P.colorbar))._id="cb"+ee,I._propPrefix=ee+".colorbar.",I._meta=j._meta,N={min:"cmin",max:"cmax"},"heatmap"!==oe[0]&&(N.calc=(R=oe[1])._module.colorbar.calc),W(),F.push(I)}return F}(p),function(k){return k._id});O.enter().append("g").attr("class",function(k){return k._id}).classed(A.colorbar,!0),O.each(function(k){var I=D.select(this);c.ensureSingle(I,"rect",A.cbbg),c.ensureSingle(I,"g",A.cbfills),c.ensureSingle(I,"g",A.cblines),c.ensureSingle(I,"g",A.cbaxis,function(R){R.classed(A.crisp,!0)}),c.ensureSingle(I,"g",A.cbtitleunshift,function(R){R.append("g").classed(A.cbtitle,!0)}),c.ensureSingle(I,"rect",A.cboutline);var R,N,j,X,F,Z,W,H,P=function(R,N,j){var X="v"===N.orientation,F=N.len,Z=N.lenmode,W=N.thickness,H=N.thicknessmode,G=N.outlinewidth,Y=N.borderwidth,se=N.bgcolor,te=N.xanchor,re=N.yanchor,Q=N.xpad,ee=N.ypad,oe=N.x,le=X?N.y:1-N.y,ue="paper"===N.yref,de="paper"===N.xref,he=j._fullLayout,we=he._size,Ae=N._fillcolor,Te=N._line,ve=N.title,xe=ve.side,Fe=N._zrange||D.extent(("function"==typeof Ae?Ae:Te.color).domain()),Se="function"==typeof Te.color?Te.color:function(){return Te.color},ke="function"==typeof Ae?Ae:function(){return Ae},pe=N._levels,fe=function(Ke,it,gt){var ft,Ve,qe=it._levels,dt=[],ut=[],At=qe.end+qe.size/100,wt=qe.size,kt=1.001*gt[0]-.001*gt[1],_t=1.001*gt[1]-.001*gt[0];for(Ve=0;Ve<1e5&&(ft=qe.start+Ve*wt,!(wt>0?ft>=At:ft<=At));Ve++)ft>kt&&ft<_t&&dt.push(ft);if(it._fillgradient)ut=[0];else if("function"==typeof it._fillcolor){var Rt=it._filllevels;if(Rt)for(At=Rt.end+Rt.size/100,wt=Rt.size,Ve=0;Ve<1e5&&(ft=Rt.start+Ve*wt,!(wt>0?ft>=At:ft<=At));Ve++)ft>gt[0]&&ft<gt[1]&&ut.push(ft);else(ut=dt.map(function(bt){return bt-qe.size/2})).push(ut[ut.length-1]+qe.size)}else it._fillcolor&&"string"==typeof it._fillcolor&&(ut=[0]);return qe.size<0&&(dt.reverse(),ut.reverse()),{line:dt,fill:ut}}(0,N,Fe),be=fe.fill,Le=fe.line,Oe=Math.round(W*("fraction"===H?X?we.w:we.h:1)),De=Oe/(X?we.w:we.h),Ue=Math.round(F*("fraction"===Z?X?we.h:we.w:1)),Ge=Ue/(X?we.h:we.w),ye=de?we.w:j._fullLayout.width,Ie=ue?we.h:j._fullLayout.height,Ee=Math.round(X?oe*ye+Q:le*Ie+ee),Be={center:.5,right:1}[te]||0,We={top:1,middle:.5}[re]||0,He=X?oe-Be*De:le-We*De,Je=X?le-We*Ge:oe-Be*Ge,et=Math.round(X?Ie*(1-Je):ye*Je);N._lenFrac=Ge,N._thickFrac=De,N._uFrac=He,N._vFrac=Je;var at=N._axis=function(Ke,it,gt){var ft=Ke._fullLayout,Ve="v"===it.orientation,qe={type:"linear",range:gt,tickmode:it.tickmode,nticks:it.nticks,tick0:it.tick0,dtick:it.dtick,tickvals:it.tickvals,ticktext:it.ticktext,ticks:it.ticks,ticklen:it.ticklen,tickwidth:it.tickwidth,tickcolor:it.tickcolor,showticklabels:it.showticklabels,labelalias:it.labelalias,ticklabelposition:it.ticklabelposition,ticklabeloverflow:it.ticklabeloverflow,ticklabelstep:it.ticklabelstep,tickfont:it.tickfont,tickangle:it.tickangle,tickformat:it.tickformat,exponentformat:it.exponentformat,minexponent:it.minexponent,separatethousands:it.separatethousands,showexponent:it.showexponent,showtickprefix:it.showtickprefix,tickprefix:it.tickprefix,showticksuffix:it.showticksuffix,ticksuffix:it.ticksuffix,title:it.title,showline:!0,anchor:"free",side:Ve?"right":"bottom",position:1},dt=Ve?"y":"x",ut={type:"linear",_id:dt+it._id},At={letter:dt,font:ft.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:ft.calendar};function wt(kt,_t){return c.coerce(qe,ut,_,kt,_t)}return h(qe,ut,wt,At,ft),T(qe,ut,wt,At),ut}(j,N,Fe);at.position=De+(X?oe+Q/we.w:le+ee/we.h);var mt=-1!==["top","bottom"].indexOf(xe);if(X&&mt&&(at.title.side=xe,at.titlex=oe+Q/we.w,at.titley=Je+("top"===ve.side?Ge-ee/we.h:ee/we.h)),X||mt||(at.title.side=xe,at.titley=le+ee/we.h,at.titlex=Je+Q/we.w),Te.color&&"auto"===N.tickmode){at.tickmode="linear",at.tick0=pe.start;var ct=pe.size,St=c.constrain(Ue/50,4,15)+1,Dt=(Fe[1]-Fe[0])/((N.nticks||St)*ct);if(Dt>1){var Et=Math.pow(10,Math.floor(Math.log(Dt)/Math.LN10));ct*=Et*c.roundUp(Dt/Et,[2,5,10]),(Math.abs(pe.start)/pe.size+1e-6)%1<2e-6&&(at.tick0=0)}at.dtick=ct}at.domain=X?[Je+ee/we.h,Je+Ge-ee/we.h]:[Je+Q/we.w,Je+Ge-Q/we.w],at.setScale(),R.attr("transform",i(Math.round(we.l),Math.round(we.t)));var ht,pt=R.select("."+A.cbtitleunshift).attr("transform",i(-Math.round(we.l),-Math.round(we.t))),Pt=at.ticklabelposition,Ft=at.title.font.size,Ht=R.select("."+A.cbaxis),Lt=0,tt=0;function rt(Ke,it){var gt={propContainer:at,propName:N._propPrefix+"title",traceIndex:N._traceIndex,_meta:N._meta,placeholder:he._dfltTitle.colorbar,containerGroup:R.select("."+A.cbtitle)},ft="h"===Ke.charAt(0)?Ke.substr(1):"h"+Ke;R.selectAll("."+ft+",."+ft+"-math-group").remove(),u.draw(j,Ke,s(gt,it||{}))}return c.syncOrAsync([f.previousPromises,function(){var Ke,it;(X&&mt||!X&&!mt)&&("top"===xe&&(Ke=Q+we.l+ye*oe,it=ee+we.t+Ie*(1-Je-Ge)+3+.75*Ft),"bottom"===xe&&(Ke=Q+we.l+ye*oe,it=ee+we.t+Ie*(1-Je)-3-.25*Ft),"right"===xe&&(it=ee+we.t+Ie*le+3+.75*Ft,Ke=Q+we.l+ye*Je),rt(at._id+"title",{attributes:{x:Ke,y:it,"text-anchor":X?"start":"middle"}}))},function(){if(!X&&!mt||X&&mt){var Ke,it=R.select("."+A.cbtitle),gt=it.select("text"),ft=[-G/2,G/2],Ve=it.select(".h"+at._id+"title-math-group").node(),qe=15.6;if(gt.node()&&(qe=parseInt(gt.node().style.fontSize,10)*w),Ve?(Ke=o.bBox(Ve),tt=Ke.width,(Lt=Ke.height)>qe&&(ft[1]-=(Lt-qe)/2)):gt.node()&&!gt.classed(A.jsPlaceholder)&&(Ke=o.bBox(gt.node()),tt=Ke.width,Lt=Ke.height),X){if(Lt){if(Lt+=5,"top"===xe)at.domain[1]-=Lt/we.h,ft[1]*=-1;else{at.domain[0]+=Lt/we.h;var dt=d.lineCount(gt);ft[1]+=(1-dt)*qe}it.attr("transform",i(ft[0],ft[1])),at.setScale()}}else tt&&("right"===xe&&(at.domain[0]+=(tt+Ft/2)/we.w),it.attr("transform",i(ft[0],ft[1])),at.setScale())}R.selectAll("."+A.cbfills+",."+A.cblines).attr("transform",X?i(0,Math.round(we.h*(1-at.domain[1]))):i(Math.round(we.w*at.domain[0]),0)),Ht.attr("transform",X?i(0,Math.round(-we.t)):i(Math.round(-we.l),0));var ut=R.select("."+A.cbfills).selectAll("rect."+A.cbfill).attr("style","").data(be);ut.enter().append("rect").classed(A.cbfill,!0).attr("style",""),ut.exit().remove();var At=Fe.map(at.c2p).map(Math.round).sort(function(bt,Tt){return bt-Tt});ut.each(function(bt,Tt){var Ot=[0===Tt?Fe[0]:(be[Tt]+be[Tt-1])/2,Tt===be.length-1?Fe[1]:(be[Tt]+be[Tt+1])/2].map(at.c2p).map(Math.round);X&&(Ot[1]=c.constrain(Ot[1]+(Ot[1]>Ot[0])?1:-1,At[0],At[1]));var Wt=D.select(this).attr(X?"x":"y",Ee).attr(X?"y":"x",D.min(Ot)).attr(X?"width":"height",Math.max(Oe,2)).attr(X?"height":"width",Math.max(D.max(Ot)-D.min(Ot),2));if(N._fillgradient)o.gradient(Wt,j,N._id,X?"vertical":"horizontalreversed",N._fillgradient,"fill");else{var qt=ke(bt).replace("e-","");Wt.attr("fill",E(qt).toHexString())}});var wt=R.select("."+A.cblines).selectAll("path."+A.cbline).data(Te.color&&Te.width?Le:[]);wt.enter().append("path").classed(A.cbline,!0),wt.exit().remove(),wt.each(function(bt){var Tt=Ee,Ot=Math.round(at.c2p(bt))+Te.width/2%1;D.select(this).attr("d","M"+(X?Tt+","+Ot:Ot+","+Tt)+(X?"h":"v")+Oe).call(o.lineGroupStyle,Te.width,Se(bt),Te.dash)}),Ht.selectAll("g."+at._id+"tick,path").remove();var kt=Ee+Oe+(G||0)/2-("outside"===N.ticks?1:0),_t=M.calcTicks(at),Rt=M.getTickSigns(at)[2];return M.drawTicks(j,at,{vals:"inside"===at.ticks?M.clipEnds(at,_t):_t,layer:Ht,path:M.makeTickPath(at,kt,Rt),transFn:M.makeTransTickFn(at)}),M.drawLabels(j,at,{vals:_t,layer:Ht,transFn:M.makeTransTickLabelFn(at),labelFns:M.makeLabelFns(at,kt)})},function(){if(X&&!mt||!X&&mt){var Ke,it,gt=at.position||0,ft=at._offset+at._length/2;if("right"===xe)it=ft,Ke=we.l+ye*gt+10+Ft*(at.showticklabels?1:.5);else if(Ke=ft,"bottom"===xe&&(it=we.t+Ie*gt+10+(-1===Pt.indexOf("inside")?at.tickfont.size:0)+("intside"!==at.ticks&&N.ticklen||0)),"top"===xe){var Ve=ve.text.split("<br>").length;it=we.t+Ie*gt+10-Oe-w*Ft*Ve}rt((X?"h":"v")+at._id+"title",{avoid:{selection:D.select(j).selectAll("g."+at._id+"tick"),side:xe,offsetTop:X?0:we.t,offsetLeft:X?we.l:0,maxShift:X?he.width:he.height},attributes:{x:Ke,y:it,"text-anchor":"middle"},transform:{rotate:X?-90:0,offset:0}})}},f.previousPromises,function(){var Ke,it=Oe+G/2;-1===Pt.indexOf("inside")&&(Ke=o.bBox(Ht.node()),it+=X?Ke.width:Ke.height),ht=pt.select("text");var gt=0,ft=X&&"top"===xe,Ve=!X&&"right"===xe,qe=0;if(ht.node()&&!ht.classed(A.jsPlaceholder)){var dt,ut=pt.select(".h"+at._id+"title-math-group").node();ut&&(X&&mt||!X&&!mt)?(gt=(Ke=o.bBox(ut)).width,dt=Ke.height):(gt=(Ke=o.bBox(pt.node())).right-we.l-(X?Ee:et),dt=Ke.bottom-we.t-(X?et:Ee),X||"top"!==xe||(it+=Ke.height,qe=Ke.height)),Ve&&(ht.attr("transform",i(gt/2+Ft/2,0)),gt*=2),it=Math.max(it,X?gt:dt)}var At=2*(X?Q:ee)+it+Y+G/2,wt=0;!X&&ve.text&&"bottom"===re&&le<=0&&(At+=wt=At/2,qe+=wt),he._hColorbarMoveTitle=wt,he._hColorbarMoveCBTitle=qe;var kt=Y+G,_t=(X?Ee:et)-kt/2-(X?Q:0),Rt=(X?et:Ee)-(X?Ue:ee+qe-wt);R.select("."+A.cbbg).attr("x",_t).attr("y",Rt).attr(X?"width":"height",Math.max(At-wt,2)).attr(X?"height":"width",Math.max(Ue+kt,2)).call(l.fill,se).call(l.stroke,N.bordercolor).style("stroke-width",Y);var bt=Ve?Math.max(gt-10,0):0;R.selectAll("."+A.cboutline).attr("x",(X?Ee:et+Q)+bt).attr("y",(X?et+ee-Ue:Ee)+(ft?Lt:0)).attr(X?"width":"height",Math.max(Oe,2)).attr(X?"height":"width",Math.max(Ue-(X?2*ee+Lt:2*Q+bt),2)).call(l.stroke,N.outlinecolor).style({fill:"none","stroke-width":G});var Tt=X?Be*At:0,Ot=X?0:(1-We)*At-qe;if(R.attr("transform",i(Tt=de?we.l-Tt:-Tt,Ot=ue?we.t-Ot:-Ot)),!X&&(Y||E(se).getAlpha()&&!E.equals(he.paper_bgcolor,se))){var Wt=Ht.selectAll("text"),qt=Wt[0].length,Jt=R.select("."+A.cbbg).node(),pn=o.bBox(Jt),en=o.getTranslate(R);Wt.each(function(Cn,Ln){var Sn=qt-1;if(0===Ln||Ln===Sn){var qn,kn=o.bBox(this),Zn=o.getTranslate(this);Ln===Sn?(qn=pn.right+en.x+et-Y-2+oe-(kn.right+Zn.x))>0&&(qn=0):0===Ln&&(qn=pn.left+en.x+et+Y+2-(kn.left+Zn.x))<0&&(qn=0),qn&&(qt<3?this.setAttribute("transform","translate("+qn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var nn={},dn=x[te],In=b[te],Hn=x[re],An=b[re],on=At-Oe;X?("pixels"===Z?(nn.y=le,nn.t=Ue*Hn,nn.b=Ue*An):(nn.t=nn.b=0,nn.yt=le+F*Hn,nn.yb=le-F*An),"pixels"===H?(nn.x=oe,nn.l=At*dn,nn.r=At*In):(nn.l=on*dn,nn.r=on*In,nn.xl=oe-W*dn,nn.xr=oe+W*In)):("pixels"===Z?(nn.x=oe,nn.l=Ue*dn,nn.r=Ue*In):(nn.l=nn.r=0,nn.xl=oe+F*dn,nn.xr=oe-F*In),"pixels"===H?(nn.y=1-le,nn.t=At*Hn,nn.b=At*An):(nn.t=on*Hn,nn.b=on*An,nn.yt=le-W*Hn,nn.yb=le+W*An));var yn=N.y<.5?"b":"t",ln=N.x<.5?"l":"r";j._fullLayout._reservedMargin[N._id]={};var wn={r:he.width-_t-Tt,l:_t+nn.r,b:he.height-Rt-Ot,t:Rt+nn.b};de&&ue?f.autoMargin(j,N._id,nn):de?j._fullLayout._reservedMargin[N._id][yn]=wn[yn]:ue||X?j._fullLayout._reservedMargin[N._id][ln]=wn[ln]:j._fullLayout._reservedMargin[N._id][yn]=wn[yn]}],j)}(I,k,p);P&&P.then&&(p._promises||[]).push(P),p._context.edits.colorbarPosition&&(W="v"===(N=k).orientation,H=(j=p)._fullLayout._size,v.init({element:(R=I).node(),gd:j,prepFn:function(){X=R.attr("transform"),a(R)},moveFn:function(G,Y){R.attr("transform",X+i(G,Y)),F=v.align((W?N._uFrac:N._vFrac)+G/H.w,W?N._thickFrac:N._lenFrac,0,1,N.xanchor),Z=v.align((W?N._vFrac:1-N._uFrac)-Y/H.h,W?N._lenFrac:N._thickFrac,0,1,N.yanchor);var se=v.getCursor(F,Z,N.xanchor,N.yanchor);a(R,se)},doneFn:function(){if(a(R),void 0!==F&&void 0!==Z){var G={};G[N._propPrefix+"x"]=F,G[N._propPrefix+"y"]=Z,void 0!==N._traceIndex?S.call("_guiRestyle",j,G,N._traceIndex):S.call("_guiRelayout",j,G)}}}))}),O.exit().each(function(k){f.autoMargin(p,k._id)}).remove(),O.order()}}},76228:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E){return D.isPlainObject(E.colorbar)}},12311:function(ae,B,r){"use strict";ae.exports={moduleType:"component",name:"colorbar",attributes:r(63583),supplyDefaults:r(62499),draw:r(98981).draw,hasColorbar:r(76228)}},50693:function(ae,B,r){"use strict";var D=r(63583),E=r(30587).counter,f=r(78607),S=r(63282).scales;function M(v){return"`"+v+"`"}f(S),ae.exports=function(v,c){v=v||"";var i,s=(c=c||{}).cLetter||"c",a=("onlyIfNumerical"in c||Boolean(v),"noScale"in c?c.noScale:"marker.line"===v),o="showScaleDflt"in c?c.showScaleDflt:"z"===s,l="string"==typeof c.colorscaleDflt?S[c.colorscaleDflt]:null,u=c.editTypeOverride||"",d=v?v+".":"";"colorAttr"in c?i=c.colorAttr:M(d+(i={z:"z",c:"color"}[s]));var m=s+"auto",h=s+"min",T=s+"max",_=s+"mid",g=(M(d+m),M(d+h),M(d+T),{});g[h]=g[T]=void 0;var w={};w[m]=!1;var x={};return"color"===i&&(x.color={valType:"color",arrayOk:!0,editType:u||"style"},c.anim&&(x.color.anim=!0)),x[m]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:g},x[h]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:w},x[T]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:w},x[_]={valType:"number",dflt:null,editType:"calc",impliedEdits:g},x.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},x.autocolorscale={valType:"boolean",dflt:!1!==c.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},x.reversescale={valType:"boolean",dflt:!1,editType:"plot"},a||(x.showscale={valType:"boolean",dflt:o,editType:"calc"},x.colorbar=D),c.noColorAxis||(x.coloraxis={valType:"subplotid",regex:E("coloraxis"),dflt:null,editType:"calc"}),x}},78803:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(52075).extractOpts;ae.exports=function(S,M,v){var i=S._fullLayout,s=v.vals,a=v.containerStr,o=a?E.nestedProperty(M,a).get():M,l=f(o),u=!1!==l.auto,d=l.min,m=l.max,h=l.mid,T=function(){return E.aggNums(Math.min,null,s)},_=function(){return E.aggNums(Math.max,null,s)};void 0===d?d=T():u&&(d=o._colorAx&&D(d)?Math.min(d,T()):T()),void 0===m?m=_():u&&(m=o._colorAx&&D(m)?Math.max(m,_()):_()),u&&void 0!==h&&(m-h>h-d?d=h-(m-h):m-h<h-d&&(m=h+(h-d))),d===m&&(d-=.5,m+=.5),l._sync("min",d),l._sync("max",m),l.autocolorscale&&l._sync("colorscale",d*m<0?i.colorscale.diverging:d>=0?i.colorscale.sequential:i.colorscale.sequentialminus)}},33046:function(ae,B,r){"use strict";var D=r(71828),E=r(52075).hasColorscale,f=r(52075).extractOpts;ae.exports=function(S,M){function v(u,d){var m=u["_"+d];void 0!==m&&(u[d]=m)}function c(u,d){var m=d.container?D.nestedProperty(u,d.container).get():u;if(m)if(m.coloraxis)m._colorAx=M[m.coloraxis];else{var h=f(m),T=h.auto;(T||void 0===h.min)&&v(m,d.min),(T||void 0===h.max)&&v(m,d.max),h.autocolorscale&&v(m,"colorscale")}}for(var i=0;i<S.length;i++){var s=S[i],a=s._module.colorbar;if(a)if(Array.isArray(a))for(var o=0;o<a.length;o++)c(s,a[o]);else c(s,a);E(s,"marker.line")&&c(s,{container:"marker.line",min:"cmin",max:"cmax"})}for(var l in M._colorAxes)c(M[l],{min:"cmin",max:"cmax"})}},1586:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(76228),S=r(62499),M=r(63282).isValid,v=r(73972).traceIs;function c(i,s){var a=s.slice(0,s.length-1);return s?E.nestedProperty(i,a).get()||{}:i}ae.exports=function i(s,a,o,l,u){var d=u.prefix,m=u.cLetter,h="_module"in a,T=c(s,d),_=c(a,d),g=c(a._template||{},d)||{},w=function(){return delete s.coloraxis,delete a.coloraxis,i(s,a,o,l,u)};if(h){var x=o._colorAxes||{},b=l(d+"coloraxis");if(b){var A=v(a,"contour")&&E.nestedProperty(a,"contours.coloring").get()||"heatmap",p=x[b];return void(p?(p[2].push(w),p[0]!==A&&(p[0]=!1,E.warn(["Ignoring coloraxis:",b,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[b]=[A,a,[w]])}}var O=T[m+"min"],k=T[m+"max"],I=D(O)&&D(k)&&O<k;l(d+m+"auto",!I)?l(d+m+"mid"):(l(d+m+"min"),l(d+m+"max"));var P,R,N=T.colorscale,j=g.colorscale;void 0!==N&&(P=!M(N)),void 0!==j&&(P=!M(j)),l(d+"autocolorscale",P),l(d+"colorscale"),l(d+"reversescale"),"marker.line."!==d&&(d&&h&&(R=f(T)),l(d+"showscale",R)&&(d&&g&&(_._template=g),S(T,_,o)))}},52075:function(ae,B,r){"use strict";var D=r(39898),E=r(84267),f=r(92770),S=r(71828),M=r(7901),v=r(63282).isValid,c=["showscale","autocolorscale","colorscale","reversescale","colorbar"],i=["min","max","mid","auto"];function s(d){var m,h,T,_=d._colorAx,g=_||d,w={};for(h=0;h<c.length;h++)w[T=c[h]]=g[T];if(_)for(m="c",h=0;h<i.length;h++)w[T=i[h]]=g["c"+T];else{var x;for(h=0;h<i.length;h++)((x="c"+(T=i[h]))in g||(x="z"+T)in g)&&(w[T]=g[x]);m=x.charAt(0)}return w._sync=function(b,A){var p=-1!==i.indexOf(b)?m+b:b;g[p]=g["_"+p]=A},w}function a(d){for(var m=s(d),h=m.min,T=m.max,_=m.reversescale?o(m.colorscale):m.colorscale,g=_.length,w=new Array(g),x=new Array(g),b=0;b<g;b++){var A=_[b];w[b]=h+A[0]*(T-h),x[b]=A[1]}return{domain:w,range:x}}function o(d){for(var m=d.length,h=new Array(m),T=m-1,_=0;T>=0;T--,_++){var g=d[T];h[_]=[1-g[0],g[1]]}return h}function l(d,m){m=m||{};for(var h=d.domain,T=d.range,_=T.length,g=new Array(_),w=0;w<_;w++){var x=E(T[w]).toRgb();g[w]=[x.r,x.g,x.b,x.a]}var b,A=D.scale.linear().domain(h).range(g).clamp(!0),p=m.noNumericCheck,O=m.returnArray;return(b=p&&O?A:p?function(k){return u(A(k))}:O?function(k){return f(k)?A(k):E(k).isValid()?k:M.defaultLine}:function(k){return f(k)?u(A(k)):E(k).isValid()?k:M.defaultLine}).domain=A.domain,b.range=function(){return T},b}function u(d){return E({r:d[0],g:d[1],b:d[2],a:d[3]}).toRgbString()}ae.exports={hasColorscale:function(d,m,h){var T=m?S.nestedProperty(d,m).get()||{}:d,_=T[h||"color"],g=!1;if(S.isArrayOrTypedArray(_))for(var w=0;w<_.length;w++)if(f(_[w])){g=!0;break}return S.isPlainObject(T)&&(g||!0===T.showscale||f(T.cmin)&&f(T.cmax)||v(T.colorscale)||S.isPlainObject(T.colorbar))},extractOpts:s,extractScale:a,flipScale:o,makeColorScaleFunc:l,makeColorScaleFuncFromTrace:function(d,m){return l(a(d),m)}}},21081:function(ae,B,r){"use strict";var D=r(63282),E=r(52075);ae.exports={moduleType:"component",name:"colorscale",attributes:r(50693),layoutAttributes:r(72673),supplyLayoutDefaults:r(30959),handleDefaults:r(1586),crossTraceDefaults:r(33046),calc:r(78803),scales:D.scales,defaultScale:D.defaultScale,getScale:D.get,isValidScale:D.isValid,hasColorscale:E.hasColorscale,extractOpts:E.extractOpts,extractScale:E.extractScale,flipScale:E.flipScale,makeColorScaleFunc:E.makeColorScaleFunc,makeColorScaleFuncFromTrace:E.makeColorScaleFuncFromTrace}},72673:function(ae,B,r){"use strict";var D=r(1426).extendFlat,E=r(50693),f=r(63282).scales;ae.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:f.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:f.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:f.RdBu,editType:"calc"}},coloraxis:D({_isSubplotObj:!0,editType:"calc"},E("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(ae,B,r){"use strict";var D=r(71828),E=r(44467),f=r(72673),S=r(1586);ae.exports=function(M,v){function c(m,h){return D.coerce(M,v,f,m,h)}c("colorscale.sequential"),c("colorscale.sequentialminus"),c("colorscale.diverging");var i,s,a=v._colorAxes;function o(m,h){return D.coerce(i,s,f.coloraxis,m,h)}for(var l in a){var u=a[l];if(u[0])i=M[l]||{},(s=E.newContainer(v,l,"coloraxis"))._name=l,S(i,s,v,o,{prefix:"",cLetter:"c"});else{for(var d=0;d<u[2].length;d++)u[2][d]();delete v._colorAxes[l]}}}},63282:function(ae,B,r){"use strict";var D=r(84267),E={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},f=E.RdBu;function S(M){var v=0;if(!Array.isArray(M)||M.length<2||!M[0]||!M[M.length-1]||0!=+M[0][0]||1!=+M[M.length-1][0])return!1;for(var c=0;c<M.length;c++){var i=M[c];if(2!==i.length||+i[0]<v||!D(i[1]).isValid())return!1;v=+i[0]}return!0}ae.exports={scales:E,defaultScale:f,get:function(M,v){if(v||(v=f),!M)return v;function c(){try{M=E[M]||JSON.parse(M)}catch{M=v}}return"string"==typeof M&&(c(),"string"==typeof M&&c()),S(M)?M:v},isValid:function(M){return void 0!==E[M]||S(M)}}},92807:function(ae){"use strict";ae.exports=function(B,r,D,E,f){var S=(B-D)/(E-D),M=S+r/(E-D),v=(S+M)/2;return"left"===f||"bottom"===f?S:"center"===f||"middle"===f?v:"right"===f||"top"===f?M:S<.6666666666666666-v?S:M>1.3333333333333333-v?M:v}},70461:function(ae,B,r){"use strict";var D=r(71828),E=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];ae.exports=function(f,S,M,v){return f="left"===M?0:"center"===M?1:"right"===M?2:D.constrain(Math.floor(3*f),0,2),S="bottom"===v?0:"middle"===v?1:"top"===v?2:D.constrain(Math.floor(3*S),0,2),E[S][f]}},64505:function(ae,B){"use strict";B.selectMode=function(r){return"lasso"===r||"select"===r},B.drawMode=function(r){return"drawclosedpath"===r||"drawopenpath"===r||"drawline"===r||"drawrect"===r||"drawcircle"===r},B.openMode=function(r){return"drawline"===r||"drawopenpath"===r},B.rectMode=function(r){return"select"===r||"drawline"===r||"drawrect"===r||"drawcircle"===r},B.freeMode=function(r){return"lasso"===r||"drawclosedpath"===r||"drawopenpath"===r},B.selectingOrDrawing=function(r){return B.freeMode(r)||B.rectMode(r)}},28569:function(ae,B,r){"use strict";var D=r(48956),E=r(57035),f=r(38520),S=r(71828).removeElement,M=r(85555),v=ae.exports={};v.align=r(92807),v.getCursor=r(70461);var c=r(26041);function i(){var a=document.createElement("div");a.className="dragcover";var o=a.style;return o.position="fixed",o.left=0,o.right=0,o.top=0,o.bottom=0,o.zIndex=999999999,o.background="none",document.body.appendChild(a),a}function s(a){return D(a.changedTouches?a.changedTouches[0]:a,document.body)}v.unhover=c.wrapped,v.unhoverRaw=c.raw,v.init=function(a){var o,l,u,d,m,h,T,_,g=a.gd,w=1,x=g._context.doubleClickDelay,b=a.element;g._mouseDownTime||(g._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=p,f?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=p,b.addEventListener("touchstart",p,{passive:!1})):b.ontouchstart=p;var A=a.clampFn||function(I,P,R){return Math.abs(I)<R&&(I=0),Math.abs(P)<R&&(P=0),[I,P]};function p(I){g._dragged=!1,g._dragging=!0;var P=s(I);o=P[0],l=P[1],T=I.target,h=I,_=2===I.buttons||I.ctrlKey,void 0===I.clientX&&void 0===I.clientY&&(I.clientX=o,I.clientY=l),(u=(new Date).getTime())-g._mouseDownTime<x?w+=1:(w=1,g._mouseDownTime=u),a.prepFn&&a.prepFn(I,o,l),E&&!_?(m=i()).style.cursor=window.getComputedStyle(b).cursor:E||(m=document,d=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",k),document.addEventListener("touchend",k),!1!==a.dragmode&&(I.preventDefault(),document.addEventListener("mousemove",O),document.addEventListener("touchmove",O,{passive:!1}))}function O(I){I.preventDefault();var P=s(I),N=A(P[0]-o,P[1]-l,a.minDrag||M.MINDRAG),j=N[0],X=N[1];(j||X)&&(g._dragged=!0,v.unhover(g,I)),g._dragged&&a.moveFn&&!_&&(g._dragdata={element:b,dx:j,dy:X},a.moveFn(j,X))}function k(I){if(delete g._dragdata,!1!==a.dragmode&&(I.preventDefault(),document.removeEventListener("mousemove",O),document.removeEventListener("touchmove",O)),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k),E?S(m):d&&(m.documentElement.style.cursor=d,d=null),g._dragging){if(g._dragging=!1,(new Date).getTime()-g._mouseDownTime>x&&(w=Math.max(w-1,1)),g._dragged)a.doneFn&&a.doneFn();else if(a.clickFn&&a.clickFn(w,h),!_){var P;try{P=new MouseEvent("click",I)}catch{var R=s(I);(P=document.createEvent("MouseEvents")).initMouseEvent("click",I.bubbles,I.cancelable,I.view,I.detail,I.screenX,I.screenY,R[0],R[1],I.ctrlKey,I.altKey,I.shiftKey,I.metaKey,I.button,I.relatedTarget)}T.dispatchEvent(P)}g._dragging=!1,g._dragged=!1}else g._dragged=!1}},v.coverSlip=i},26041:function(ae,B,r){"use strict";var D=r(11086),E=r(79990),f=r(24401).getGraphDiv,S=r(26675),M=ae.exports={};M.wrapped=function(v,c,i){(v=f(v))._fullLayout&&E.clear(v._fullLayout._uid+S.HOVERID),M.raw(v,c,i)},M.raw=function(v,c){var i=v._fullLayout,s=v._hoverdata;c||(c={}),c.target&&!v._dragged&&!1===D.triggerHandler(v,"plotly_beforehover",c)||(i._hoverlayer.selectAll("g").remove(),i._hoverlayer.selectAll("line").remove(),i._hoverlayer.selectAll("circle").remove(),v._hoverdata=void 0,c.target&&s&&v.emit("plotly_unhover",{event:c,points:s}))}},79952:function(ae,B){"use strict";B.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},B.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=E.numberFormat,S=r(92770),M=r(84267),v=r(73972),c=r(7901),i=r(21081),s=E.strTranslate,a=r(63893),o=r(77922),l=r(18783).LINE_SPACING,u=r(37822).DESELECTDIM,d=r(34098),m=r(39984),h=r(23469).appendArrayPointValue,T=ae.exports={};function _(Se,ke,pe){var fe=ke.fillpattern,be=fe&&T.getPatternAttr(fe.shape,0,"");if(be){var Le=T.getPatternAttr(fe.bgcolor,0,null),Oe=T.getPatternAttr(fe.fgcolor,0,null),De=fe.fgopacity,Ue=T.getPatternAttr(fe.size,0,8),Ge=T.getPatternAttr(fe.solidity,0,.3);T.pattern(Se,"point",pe,ke.uid,be,Ue,Ge,void 0,fe.fillmode,Le,Oe,De)}else ke.fillcolor&&Se.call(c.fill,ke.fillcolor)}T.font=function(Se,ke,pe,fe){E.isPlainObject(ke)&&(fe=ke.color,pe=ke.size,ke=ke.family),ke&&Se.style("font-family",ke),pe+1&&Se.style("font-size",pe+"px"),fe&&Se.call(c.fill,fe)},T.setPosition=function(Se,ke,pe){Se.attr("x",ke).attr("y",pe)},T.setSize=function(Se,ke,pe){Se.attr("width",ke).attr("height",pe)},T.setRect=function(Se,ke,pe,fe,be){Se.call(T.setPosition,ke,pe).call(T.setSize,fe,be)},T.translatePoint=function(Se,ke,pe,fe){var be=pe.c2p(Se.x),Le=fe.c2p(Se.y);return!!(S(be)&&S(Le)&&ke.node())&&("text"===ke.node().nodeName?ke.attr("x",be).attr("y",Le):ke.attr("transform",s(be,Le)),!0)},T.translatePoints=function(Se,ke,pe){Se.each(function(fe){var be=D.select(this);T.translatePoint(fe,be,ke,pe)})},T.hideOutsideRangePoint=function(Se,ke,pe,fe,be,Le){ke.attr("display",pe.isPtWithinRange(Se,be)&&fe.isPtWithinRange(Se,Le)?null:"none")},T.hideOutsideRangePoints=function(Se,ke){if(ke._hasClipOnAxisFalse){var pe=ke.xaxis,fe=ke.yaxis;Se.each(function(be){var Le=be[0].trace,Oe=Le.xcalendar,De=Le.ycalendar,Ue=v.traceIs(Le,"bar-like")?".bartext":".point,.textpoint";Se.selectAll(Ue).each(function(Ge){T.hideOutsideRangePoint(Ge,D.select(this),pe,fe,Oe,De)})})}},T.crispRound=function(Se,ke,pe){return ke&&S(ke)?Se._context.staticPlot?ke:ke<1?1:Math.round(ke):pe||0},T.singleLineStyle=function(Se,ke,pe,fe,be){ke.style("fill","none");var Le=(((Se||[])[0]||{}).trace||{}).line||{},Oe=pe||Le.width||0,De=be||Le.dash||"";c.stroke(ke,fe||Le.color),T.dashLine(ke,De,Oe)},T.lineGroupStyle=function(Se,ke,pe,fe){Se.style("fill","none").each(function(be){var Le=(((be||[])[0]||{}).trace||{}).line||{},Oe=ke||Le.width||0,De=fe||Le.dash||"";D.select(this).call(c.stroke,pe||Le.color).call(T.dashLine,De,Oe)})},T.dashLine=function(Se,ke,pe){ke=T.dashStyle(ke,pe=+pe||0),Se.style({"stroke-dasharray":ke,"stroke-width":pe+"px"})},T.dashStyle=function(Se,ke){ke=+ke||1;var pe=Math.max(ke,3);return"solid"===Se?Se="":"dot"===Se?Se=pe+"px,"+pe+"px":"dash"===Se?Se=3*pe+"px,"+3*pe+"px":"longdash"===Se?Se=5*pe+"px,"+5*pe+"px":"dashdot"===Se?Se=3*pe+"px,"+pe+"px,"+pe+"px,"+pe+"px":"longdashdot"===Se&&(Se=5*pe+"px,"+2*pe+"px,"+pe+"px,"+2*pe+"px"),Se},T.singleFillStyle=function(Se,ke){var pe=D.select(Se.node());_(Se,((pe.data()[0]||[])[0]||{}).trace||{},ke)},T.fillGroupStyle=function(Se,ke){Se.style("stroke-width",0).each(function(pe){var fe=D.select(this);pe[0].trace&&_(fe,pe[0].trace,ke)})};var g=r(90998);T.symbolNames=[],T.symbolFuncs=[],T.symbolBackOffs=[],T.symbolNeedLines={},T.symbolNoDot={},T.symbolNoFill={},T.symbolList=[],Object.keys(g).forEach(function(Se){var ke=g[Se],pe=ke.n;T.symbolList.push(pe,String(pe),Se,pe+100,String(pe+100),Se+"-open"),T.symbolNames[pe]=Se,T.symbolFuncs[pe]=ke.f,T.symbolBackOffs[pe]=ke.backoff||0,ke.needLine&&(T.symbolNeedLines[pe]=!0),ke.noDot?T.symbolNoDot[pe]=!0:T.symbolList.push(pe+200,String(pe+200),Se+"-dot",pe+300,String(pe+300),Se+"-open-dot"),ke.noFill&&(T.symbolNoFill[pe]=!0)});var w=T.symbolNames.length;function x(Se,ke,pe,fe){return T.symbolFuncs[Se%100](ke,pe,fe)+(Se>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}T.symbolNumber=function(Se){if(S(Se))Se=+Se;else if("string"==typeof Se){var ke=0;Se.indexOf("-open")>0&&(ke=100,Se=Se.replace("-open","")),Se.indexOf("-dot")>0&&(ke+=200,Se=Se.replace("-dot","")),(Se=T.symbolNames.indexOf(Se))>=0&&(Se+=ke)}return Se%100>=w||Se>=400?0:Math.floor(Math.max(Se,0))};var b={x1:1,x2:0,y1:0,y2:0},A={x1:0,x2:0,y1:1,y2:0},p=f("~f"),O={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:b},horizontalreversed:{node:"linearGradient",attrs:b,reversed:!0},vertical:{node:"linearGradient",attrs:A},verticalreversed:{node:"linearGradient",attrs:A,reversed:!0}};T.gradient=function(Se,ke,pe,fe,be,Le){for(var Oe=be.length,De=O[fe],Ue=new Array(Oe),Ge=0;Ge<Oe;Ge++)De.reversed?Ue[Oe-1-Ge]=[p(100*(1-be[Ge][0])),be[Ge][1]]:Ue[Ge]=[p(100*be[Ge][0]),be[Ge][1]];var ye=ke._fullLayout,Ie="g"+ye._uid+"-"+pe,Ee=ye._defs.select(".gradients").selectAll("#"+Ie).data([fe+Ue.join(";")],E.identity);Ee.exit().remove(),Ee.enter().append(De.node).each(function(){var Be=D.select(this);De.attrs&&Be.attr(De.attrs),Be.attr("id",Ie);var We=Be.selectAll("stop").data(Ue);We.exit().remove(),We.enter().append("stop"),We.each(function(He){var Je=M(He[1]);D.select(this).attr({offset:He[0]+"%","stop-color":c.tinyRGB(Je),"stop-opacity":Je.getAlpha()})})}),Se.style(Le,te(Ie,ke)).style(Le+"-opacity",null),Se.classed("gradient_filled",!0)},T.pattern=function(Se,ke,pe,fe,be,Le,Oe,De,Ue,Ge,ye,Ie){var Ee="legend"===ke;De&&("overlay"===Ue?ye=c.contrast(Ge=De):(Ge=void 0,ye=De));var Be,We,He,Je,et,at,mt,ct,St,Dt=pe._fullLayout,Et="p"+Dt._uid+"-"+fe,ht={},pt=M(ye),Pt=c.tinyRGB(pt),Ft=Ie*pt.getAlpha();switch(be){case"/":Be=Le*Math.sqrt(2),We=Le*Math.sqrt(2),at="path",ht={d:He="M-"+Be/4+","+We/4+"l"+Be/2+",-"+We/2+"M0,"+We+"L"+Be+",0M"+Be/4*3+","+We/4*5+"l"+Be/2+",-"+We/2,opacity:Ft,stroke:Pt,"stroke-width":(Je=Oe*Le)+"px"};break;case"\\":Be=Le*Math.sqrt(2),We=Le*Math.sqrt(2),at="path",ht={d:He="M"+Be/4*3+",-"+We/4+"l"+Be/2+","+We/2+"M0,0L"+Be+","+We+"M-"+Be/4+","+We/4*3+"l"+Be/2+","+We/2,opacity:Ft,stroke:Pt,"stroke-width":(Je=Oe*Le)+"px"};break;case"x":Be=Le*Math.sqrt(2),We=Le*Math.sqrt(2),He="M-"+Be/4+","+We/4+"l"+Be/2+",-"+We/2+"M0,"+We+"L"+Be+",0M"+Be/4*3+","+We/4*5+"l"+Be/2+",-"+We/2+"M"+Be/4*3+",-"+We/4+"l"+Be/2+","+We/2+"M0,0L"+Be+","+We+"M-"+Be/4+","+We/4*3+"l"+Be/2+","+We/2,Je=Le-Le*Math.sqrt(1-Oe),at="path",ht={d:He,opacity:Ft,stroke:Pt,"stroke-width":Je+"px"};break;case"|":at="path",at="path",ht={d:He="M"+(Be=Le)/2+",0L"+Be/2+","+(We=Le),opacity:Ft,stroke:Pt,"stroke-width":(Je=Oe*Le)+"px"};break;case"-":at="path",at="path",ht={d:He="M0,"+(We=Le)/2+"L"+(Be=Le)+","+We/2,opacity:Ft,stroke:Pt,"stroke-width":(Je=Oe*Le)+"px"};break;case"+":at="path",He="M"+(Be=Le)/2+",0L"+Be/2+","+(We=Le)+"M0,"+We/2+"L"+Be+","+We/2,Je=Le-Le*Math.sqrt(1-Oe),at="path",ht={d:He,opacity:Ft,stroke:Pt,"stroke-width":Je+"px"};break;case".":Be=Le,We=Le,Oe<Math.PI/4?et=Math.sqrt(Oe*Le*Le/Math.PI):(mt=Oe,ct=Math.PI/4,et=(St=Le/2)+(Le/Math.sqrt(2)-St)*(mt-ct)/(1-ct)),at="circle",ht={cx:Be/2,cy:We/2,r:et,opacity:Ft,fill:Pt}}var Ht=[be||"noSh",Ge||"noBg",ye||"noFg",Le,Oe].join(";"),Lt=Dt._defs.select(".patterns").selectAll("#"+Et).data([Ht],E.identity);Lt.exit().remove(),Lt.enter().append("pattern").each(function(){var tt=D.select(this);if(tt.attr({id:Et,width:Be+"px",height:We+"px",patternUnits:"userSpaceOnUse",patternTransform:Ee?"scale(0.8)":""}),Ge){var rt=M(Ge),Ke=c.tinyRGB(rt),it=rt.getAlpha(),gt=tt.selectAll("rect").data([0]);gt.exit().remove(),gt.enter().append("rect").attr({width:Be+"px",height:We+"px",fill:Ke,"fill-opacity":it})}var ft=tt.selectAll(at).data([0]);ft.exit().remove(),ft.enter().append(at).attr(ht)}),Se.style("fill",te(Et,pe)).style("fill-opacity",null),Se.classed("pattern_filled",!0)},T.initGradients=function(Se){E.ensureSingle(Se._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),D.select(Se).selectAll(".gradient_filled").classed("gradient_filled",!1)},T.initPatterns=function(Se){E.ensureSingle(Se._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),D.select(Se).selectAll(".pattern_filled").classed("pattern_filled",!1)},T.getPatternAttr=function(Se,ke,pe){return Se&&E.isArrayOrTypedArray(Se)?ke<Se.length?Se[ke]:pe:Se},T.pointStyle=function(Se,ke,pe,fe){if(Se.size()){var be=T.makePointStyleFns(ke);Se.each(function(Le){T.singlePointStyle(Le,D.select(this),ke,be,pe,fe)})}},T.singlePointStyle=function(Se,ke,pe,fe,be,Le){var Oe=pe.marker,De=Oe.line;if(Le&&Le.i>=0&&void 0===Se.i&&(Se.i=Le.i),ke.style("opacity",fe.selectedOpacityFn?fe.selectedOpacityFn(Se):void 0===Se.mo?Oe.opacity:Se.mo),fe.ms2mrc){var Ue;Ue="various"===Se.ms||"various"===Oe.size?3:fe.ms2mrc(Se.ms),Se.mrc=Ue,fe.selectedSizeFn&&(Ue=Se.mrc=fe.selectedSizeFn(Se));var Ge=T.symbolNumber(Se.mx||Oe.symbol)||0;Se.om=Ge%200>=100;var ye=Fe(Se,pe),Ie=ee(Se,pe);ke.attr("d",x(Ge,Ue,ye,Ie))}var Ee,Be,We,He=!1;if(Se.so?(We=De.outlierwidth,Be=De.outliercolor,Ee=Oe.outliercolor):(We=(Se.mlw+1||(De||{}).width+1||(Se.trace?(Se.trace.marker.line||{}).width:0)+1)-1||0,Be="mlc"in Se?Se.mlcc=fe.lineScale(Se.mlc):E.isArrayOrTypedArray(De.color)?c.defaultLine:De.color,E.isArrayOrTypedArray(Oe.color)&&(Ee=c.defaultLine,He=!0),Ee="mc"in Se?Se.mcc=fe.markerScale(Se.mc):Oe.color||Oe.colors||"rgba(0,0,0,0)",fe.selectedColorFn&&(Ee=fe.selectedColorFn(Se))),Se.om)ke.call(c.stroke,Ee).style({"stroke-width":(We||1)+"px",fill:"none"});else{ke.style("stroke-width",(Se.isBlank?0:We)+"px");var et=Oe.gradient,at=Se.mgt;at?He=!0:at=et&&et.type,E.isArrayOrTypedArray(at)&&(O[at=at[0]]||(at=0));var mt=Oe.pattern,ct=mt&&T.getPatternAttr(mt.shape,Se.i,"");if(at&&"none"!==at){var St=Se.mgc;St?He=!0:St=et.color;var Dt=pe.uid;He&&(Dt+="-"+Se.i),T.gradient(ke,be,Dt,at,[[0,St],[1,Ee]],"fill")}else if(ct){var Et=!1,ht=mt.fgcolor;!ht&&Le&&Le.color&&(ht=Le.color,Et=!0);var pt=T.getPatternAttr(ht,Se.i,Le&&Le.color||null),Pt=T.getPatternAttr(mt.bgcolor,Se.i,null),Ft=mt.fgopacity,Ht=T.getPatternAttr(mt.size,Se.i,8),Lt=T.getPatternAttr(mt.solidity,Se.i,.3);Et=Et||Se.mcc||E.isArrayOrTypedArray(mt.shape)||E.isArrayOrTypedArray(mt.bgcolor)||E.isArrayOrTypedArray(mt.fgcolor)||E.isArrayOrTypedArray(mt.size)||E.isArrayOrTypedArray(mt.solidity);var tt=pe.uid;Et&&(tt+="-"+Se.i),T.pattern(ke,"point",be,tt,ct,Ht,Lt,Se.mcc,mt.fillmode,Pt,pt,Ft)}else E.isArrayOrTypedArray(Ee)?c.fill(ke,Ee[Se.i]):c.fill(ke,Ee);We&&c.stroke(ke,Be)}},T.makePointStyleFns=function(Se){var ke={},pe=Se.marker;return ke.markerScale=T.tryColorscale(pe,""),ke.lineScale=T.tryColorscale(pe,"line"),v.traceIs(Se,"symbols")&&(ke.ms2mrc=d.isBubble(Se)?m(Se):function(){return(pe.size||6)/2}),Se.selectedpoints&&E.extendFlat(ke,T.makeSelectedPointStyleFns(Se)),ke},T.makeSelectedPointStyleFns=function(Se){var ke={},be=Se.marker||{},Le=(Se.selected||{}).marker||{},Oe=(Se.unselected||{}).marker||{},Ue=Le.opacity,Ge=Oe.opacity,ye=void 0!==Ue,Ie=void 0!==Ge;(E.isArrayOrTypedArray(be.opacity)||ye||Ie)&&(ke.selectedOpacityFn=function(ct){var St=void 0===ct.mo?be.opacity:ct.mo;return ct.selected?ye?Ue:St:Ie?Ge:u*St});var Ee=be.color,Be=Le.color,We=Oe.color;(Be||We)&&(ke.selectedColorFn=function(ct){var St=ct.mcc||Ee;return ct.selected?Be||St:We||St});var He=be.size,Je=Le.size,et=Oe.size,at=void 0!==Je,mt=void 0!==et;return v.traceIs(Se,"symbols")&&(at||mt)&&(ke.selectedSizeFn=function(ct){var St=ct.mrc||He/2;return ct.selected?at?Je/2:St:mt?et/2:St}),ke},T.makeSelectedTextStyleFns=function(Se){var ke={},De=(Se.textfont||{}).color,Ue=((Se.selected||{}).textfont||{}).color,Ge=((Se.unselected||{}).textfont||{}).color;return ke.selectedTextColorFn=function(ye){var Ie=ye.tc||De;return ye.selected?Ue||Ie:Ge||(Ue?Ie:c.addOpacity(Ie,u))},ke},T.selectedPointStyle=function(Se,ke){if(Se.size()&&ke.selectedpoints){var pe=T.makeSelectedPointStyleFns(ke),fe=ke.marker||{},be=[];pe.selectedOpacityFn&&be.push(function(Le,Oe){Le.style("opacity",pe.selectedOpacityFn(Oe))}),pe.selectedColorFn&&be.push(function(Le,Oe){c.fill(Le,pe.selectedColorFn(Oe))}),pe.selectedSizeFn&&be.push(function(Le,Oe){var De=Oe.mx||fe.symbol||0,Ue=pe.selectedSizeFn(Oe);Le.attr("d",x(T.symbolNumber(De),Ue,Fe(Oe,ke),ee(Oe,ke))),Oe.mrc2=Ue}),be.length&&Se.each(function(Le){for(var Oe=D.select(this),De=0;De<be.length;De++)be[De](Oe,Le)})}},T.tryColorscale=function(Se,ke){var pe=ke?E.nestedProperty(Se,ke).get():Se;return pe&&(pe.colorscale||pe._colorAx)&&E.isArrayOrTypedArray(pe.color)?i.makeColorScaleFuncFromTrace(pe):E.identity};var k,I,P={start:1,end:-1,middle:0,bottom:1,top:-1};function R(Se,ke,pe,fe,be){var Le=D.select(Se.node().parentNode),Oe=-1!==ke.indexOf("top")?"top":-1!==ke.indexOf("bottom")?"bottom":"middle",De=-1!==ke.indexOf("left")?"end":-1!==ke.indexOf("right")?"start":"middle",Ue=fe?fe/.8+1:0,Ge=(a.lineCount(Se)-1)*l+1,ye=P[De]*Ue,Ie=.75*pe+P[Oe]*Ue+(P[Oe]-1)*Ge*pe/2;Se.attr("text-anchor",De),be||Le.attr("transform",s(ye,Ie))}function N(Se,ke){var pe=Se.ts||ke.textfont.size;return S(pe)&&pe>0?pe:0}function j(Se,ke,pe){return pe&&(Se=G(Se)),ke?F(Se[1]):X(Se[0])}function X(Se){var ke=D.round(Se,2);return k=ke,ke}function F(Se){var ke=D.round(Se,2);return I=ke,ke}function Z(Se,ke,pe,fe){var be=Se[0]-ke[0],Le=Se[1]-ke[1],Oe=pe[0]-ke[0],De=pe[1]-ke[1],Ue=Math.pow(be*be+Le*Le,.25),Ge=Math.pow(Oe*Oe+De*De,.25),ye=(Ge*Ge*be-Ue*Ue*Oe)*fe,Ie=(Ge*Ge*Le-Ue*Ue*De)*fe,Ee=3*Ge*(Ue+Ge),Be=3*Ue*(Ue+Ge);return[[X(ke[0]+(Ee&&ye/Ee)),F(ke[1]+(Ee&&Ie/Ee))],[X(ke[0]-(Be&&ye/Be)),F(ke[1]-(Be&&Ie/Be))]]}T.textPointStyle=function(Se,ke,pe){if(Se.size()){var fe;if(ke.selectedpoints){var be=T.makeSelectedTextStyleFns(ke);fe=be.selectedTextColorFn}var Le=ke.texttemplate,Oe=pe._fullLayout;Se.each(function(De){var Ue=D.select(this),Ge=Le?E.extractOption(De,ke,"txt","texttemplate"):E.extractOption(De,ke,"tx","text");if(Ge||0===Ge){if(Le){var ye=ke._module.formatLabels,Ie=ye?ye(De,ke,Oe):{},Ee={};h(Ee,ke,De.i),Ge=E.texttemplateString(Ge,Ie,Oe._d3locale,Ee,De,ke._meta||{})}var We=De.tp||ke.textposition,He=N(De,ke),Je=fe?fe(De):De.tc||ke.textfont.color;Ue.call(T.font,De.tf||ke.textfont.family,He,Je).text(Ge).call(a.convertToTspans,pe).call(R,We,He,De.mrc)}else Ue.remove()})}},T.selectedTextStyle=function(Se,ke){if(Se.size()&&ke.selectedpoints){var pe=T.makeSelectedTextStyleFns(ke);Se.each(function(fe){var be=D.select(this),Le=pe.selectedTextColorFn(fe),Oe=fe.tp||ke.textposition,De=N(fe,ke);c.fill(be,Le);var Ue=v.traceIs(ke,"bar-like");R(be,Oe,De,fe.mrc2||fe.mrc,Ue)})}},T.smoothopen=function(Se,ke){if(Se.length<3)return"M"+Se.join("L");var pe,fe="M"+Se[0],be=[];for(pe=1;pe<Se.length-1;pe++)be.push(Z(Se[pe-1],Se[pe],Se[pe+1],ke));for(fe+="Q"+be[0][0]+" "+Se[1],pe=2;pe<Se.length-1;pe++)fe+="C"+be[pe-2][1]+" "+be[pe-1][0]+" "+Se[pe];return fe+"Q"+be[Se.length-3][1]+" "+Se[Se.length-1]},T.smoothclosed=function(Se,ke){if(Se.length<3)return"M"+Se.join("L")+"Z";var pe,fe="M"+Se[0],be=Se.length-1,Le=[Z(Se[be],Se[0],Se[1],ke)];for(pe=1;pe<be;pe++)Le.push(Z(Se[pe-1],Se[pe],Se[pe+1],ke));for(Le.push(Z(Se[be-1],Se[be],Se[0],ke)),pe=1;pe<=be;pe++)fe+="C"+Le[pe-1][1]+" "+Le[pe][0]+" "+Se[pe];return fe+"C"+Le[be][1]+" "+Le[0][0]+" "+Se[0]+"Z"};var W={hv:function(Se,ke,pe){return"H"+X(ke[0])+"V"+j(ke,1,pe)},vh:function(Se,ke,pe){return"V"+F(ke[1])+"H"+j(ke,0,pe)},hvh:function(Se,ke,pe){return"H"+X((Se[0]+ke[0])/2)+"V"+F(ke[1])+"H"+j(ke,0,pe)},vhv:function(Se,ke,pe){return"V"+F((Se[1]+ke[1])/2)+"H"+X(ke[0])+"V"+j(ke,1,pe)}},H=function(Se,ke,pe){return"L"+j(ke,0,pe)+","+j(ke,1,pe)};function G(Se,ke){var pe=Se.backoff,fe=Se.trace,be=Se.d,Le=Se.i;if(pe&&fe&&fe.marker&&fe.marker.angle%360==0&&fe.line&&"spline"!==fe.line.shape){var Oe=E.isArrayOrTypedArray(pe),De=Se,Ue=ke?ke[0]:k||0,Ge=ke?ke[1]:I||0,ye=De[0],Ie=De[1],We=Math.atan2(Ie-Ge,ye-Ue),He=Oe?pe[Le]:pe;if("auto"===He){var Je=De.i;"scatter"===fe.type&&Je--;var et=De.marker,at=et.symbol;E.isArrayOrTypedArray(at)&&(at=at[Je]);var mt=et.size;E.isArrayOrTypedArray(mt)&&(mt=mt[Je]),He=et?T.symbolBackOffs[T.symbolNumber(at)]*mt:0,He+=T.getMarkerStandoff(be[Je],fe)||0}var ct=ye-He*Math.cos(We),St=Ie-He*Math.sin(We);(ct<=ye&&ct>=Ue||ct>=ye&&ct<=Ue)&&(St<=Ie&&St>=Ge||St>=Ie&&St<=Ge)&&(Se=[ct,St])}return Se}T.steps=function(Se){var ke=W[Se]||H;return function(pe){for(var fe="M"+X(pe[0][0])+","+F(pe[0][1]),be=pe.length,Le=1;Le<be;Le++)fe+=ke(pe[Le-1],pe[Le],Le===be-1);return fe}},T.applyBackoff=G,T.makeTester=function(){var Se=E.ensureSingleById(D.select("body"),"svg","js-plotly-tester",function(pe){pe.attr(o.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),ke=E.ensureSingle(Se,"path","js-reference-point",function(pe){pe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});T.tester=Se,T.testref=ke},T.savedBBoxes={};var Y=0;function se(Se){var ke=Se.getAttribute("data-unformatted");if(null!==ke)return ke+Se.getAttribute("data-math")+Se.getAttribute("text-anchor")+Se.getAttribute("style")}function te(Se,ke){if(!Se)return null;var pe=ke._context,fe=pe._exportedPlot?"":pe._baseUrl||"";return fe?"url('"+fe+"#"+Se+"')":"url(#"+Se+")"}T.bBox=function(Se,ke,pe){var fe,be,Le;if(pe||(pe=se(Se)),pe){if(fe=T.savedBBoxes[pe])return E.extendFlat({},fe)}else if(1===Se.childNodes.length){var Oe=Se.childNodes[0];if(pe=se(Oe)){var De=+Oe.getAttribute("x")||0,Ue=+Oe.getAttribute("y")||0,Ge=Oe.getAttribute("transform");if(!Ge){var ye=T.bBox(Oe,!1,pe);return De&&(ye.left+=De,ye.right+=De),Ue&&(ye.top+=Ue,ye.bottom+=Ue),ye}if(fe=T.savedBBoxes[pe+="~"+De+"~"+Ue+"~"+Ge])return E.extendFlat({},fe)}}ke?be=Se:(Le=T.tester.node(),be=Se.cloneNode(!0),Le.appendChild(be)),D.select(be).attr("transform",null).call(a.positionText,0,0);var Ie=be.getBoundingClientRect(),Ee=T.testref.node().getBoundingClientRect();ke||Le.removeChild(be);var Be={height:Ie.height,width:Ie.width,left:Ie.left-Ee.left,top:Ie.top-Ee.top,right:Ie.right-Ee.left,bottom:Ie.bottom-Ee.top};return Y>=1e4&&(T.savedBBoxes={},Y=0),pe&&(T.savedBBoxes[pe]=Be),Y++,E.extendFlat({},Be)},T.setClipUrl=function(Se,ke,pe){Se.attr("clip-path",te(ke,pe))},T.getTranslate=function(Se){var ke=(Se[Se.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(pe,fe,be){return[fe,be].join(" ")}).split(" ");return{x:+ke[0]||0,y:+ke[1]||0}},T.setTranslate=function(Se,ke,pe){var be=Se.attr?"attr":"setAttribute",Le=Se[Se.attr?"attr":"getAttribute"]("transform")||"";return ke=ke||0,pe=pe||0,Le=Le.replace(/(\btranslate\(.*?\);?)/,"").trim(),Le=(Le+=s(ke,pe)).trim(),Se[be]("transform",Le),Le},T.getScale=function(Se){var ke=(Se[Se.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(pe,fe,be){return[fe,be].join(" ")}).split(" ");return{x:+ke[0]||1,y:+ke[1]||1}},T.setScale=function(Se,ke,pe){var be=Se.attr?"attr":"setAttribute",Le=Se[Se.attr?"attr":"getAttribute"]("transform")||"";return ke=ke||1,pe=pe||1,Le=Le.replace(/(\bscale\(.*?\);?)/,"").trim(),Le=(Le+="scale("+ke+","+pe+")").trim(),Se[be]("transform",Le),Le};var re=/\s*sc.*/;T.setPointGroupScale=function(Se,ke,pe){if(ke=ke||1,pe=pe||1,Se){var fe=1===ke&&1===pe?"":"scale("+ke+","+pe+")";Se.each(function(){var be=(this.getAttribute("transform")||"").replace(re,"");be=(be+=fe).trim(),this.setAttribute("transform",be)})}};var Q=/translate\([^)]*\)\s*$/;function ee(Se,ke){var pe;return Se&&(pe=Se.mf),void 0===pe&&(pe=ke.marker&&ke.marker.standoff||0),ke._geo||ke._xA?pe:-pe}T.setTextPointsScale=function(Se,ke,pe){Se&&Se.each(function(){var fe,be=D.select(this),Le=be.select("text");if(Le.node()){var Oe=parseFloat(Le.attr("x")||0),De=parseFloat(Le.attr("y")||0),Ue=(be.attr("transform")||"").match(Q);fe=1===ke&&1===pe?[]:[s(Oe,De),"scale("+ke+","+pe+")",s(-Oe,-De)],Ue&&fe.push(Ue),be.attr("transform",fe.join(""))}})},T.getMarkerStandoff=ee;var oe,le,ue,de,he,we,Ae=Math.atan2,Te=Math.cos,ve=Math.sin;function xe(Se,ke){var pe=ke[0],fe=ke[1];return[pe*Te(Se)-fe*ve(Se),pe*ve(Se)+fe*Te(Se)]}function Fe(Se,ke){var pe,fe,be=Se.ma;void 0===be&&(be=ke.marker.angle||0);var Le=ke.marker.angleref;if("previous"===Le||"north"===Le){if(ke._geo){var Oe=ke._geo.project(Se.lonlat);pe=Oe[0],fe=Oe[1]}else{var De=ke._xA,Ue=ke._yA;if(!De||!Ue)return 90;pe=De.c2p(Se.x),fe=Ue.c2p(Se.y)}if(ke._geo){var Ge,ye=Se.lonlat[0],Ie=Se.lonlat[1],Ee=ke._geo.project([ye,Ie+1e-5]),Be=ke._geo.project([ye+1e-5,Ie]),We=Ae(Be[1]-fe,Be[0]-pe),He=Ae(Ee[1]-fe,Ee[0]-pe);if("north"===Le)Ge=be/180*Math.PI;else if("previous"===Le){var Je=ye/180*Math.PI,et=Ie/180*Math.PI,at=oe/180*Math.PI,mt=le/180*Math.PI,ct=at-Je,St=Te(mt)*ve(ct),Dt=ve(mt)*Te(et)-Te(mt)*ve(et)*Te(ct);Ge=-Ae(St,Dt)-Math.PI,oe=ye,le=Ie}var Et=xe(We,[Te(Ge),0]),ht=xe(He,[ve(Ge),0]);be=Ae(Et[1]+ht[1],Et[0]+ht[0])/Math.PI*180,"previous"!==Le||we===ke.uid&&Se.i===he+1||(be=null)}if("previous"===Le&&!ke._geo)if(we===ke.uid&&Se.i===he+1&&S(pe)&&S(fe)){var pt=pe-ue,Pt=fe-de,Ft=ke.line&&ke.line.shape||"",Ht=Ft.slice(Ft.length-1);"h"===Ht&&(Pt=0),"v"===Ht&&(pt=0),be+=Ae(Pt,pt)/Math.PI*180+90}else be=null}return ue=pe,de=fe,he=Se.i,we=ke.uid,be}T.getMarkerAngle=Fe},90998:function(ae,B,r){"use strict";var D,E,f,S,M=r(95616),v=r(39898).round,c="M0,0Z",i=Math.sqrt(2),s=Math.sqrt(3),a=Math.PI,o=Math.cos,l=Math.sin;function u(m){return null===m}function d(m,h,T){if(!(m&&m%360!=0||h))return T;if(f===m&&S===h&&D===T)return E;function _(j,X){var F=o(j),Z=l(j),W=X[0],H=X[1]+(h||0);return[W*F-H*Z,W*Z+H*F]}f=m,S=h,D=T;for(var g=m/180*a,w=0,x=0,b=M(T),A="",p=0;p<b.length;p++){var O=b[p],k=O[0],I=w,P=x;if("M"===k||"L"===k)w=+O[1],x=+O[2];else if("m"===k||"l"===k)w+=+O[1],x+=+O[2];else if("H"===k)w=+O[1];else if("h"===k)w+=+O[1];else if("V"===k)x=+O[1];else if("v"===k)x+=+O[1];else if("A"===k){w=+O[1],x=+O[2];var R=_(g,[+O[6],+O[7]]);O[6]=R[0],O[7]=R[1],O[3]=+O[3]+m}"H"!==k&&"V"!==k||(k="L"),"h"!==k&&"v"!==k||(k="l"),"m"!==k&&"l"!==k||(w-=I,x-=P);var N=_(g,[w,x]);"H"!==k&&"V"!==k||(k="L"),"M"!==k&&"L"!==k&&"m"!==k&&"l"!==k||(O[1]=N[0],O[2]=N[1]),O[0]=k,A+=O[0]+O.slice(1).join(",")}return E=A,A}ae.exports={circle:{n:0,f:function(m,h,T){if(u(h))return c;var _=v(m,2),g="M"+_+",0A"+_+","+_+" 0 1,1 0,-"+_+"A"+_+","+_+" 0 0,1 "+_+",0Z";return T?d(h,T,g):g}},square:{n:1,f:function(m,h,T){if(u(h))return c;var _=v(m,2);return d(h,T,"M"+_+","+_+"H-"+_+"V-"+_+"H"+_+"Z")}},diamond:{n:2,f:function(m,h,T){if(u(h))return c;var _=v(1.3*m,2);return d(h,T,"M"+_+",0L0,"+_+"L-"+_+",0L0,-"+_+"Z")}},cross:{n:3,f:function(m,h,T){if(u(h))return c;var _=v(.4*m,2),g=v(1.2*m,2);return d(h,T,"M"+g+","+_+"H"+_+"V"+g+"H-"+_+"V"+_+"H-"+g+"V-"+_+"H-"+_+"V-"+g+"H"+_+"V-"+_+"H"+g+"Z")}},x:{n:4,f:function(m,h,T){if(u(h))return c;var _=v(.8*m/i,2),g="l"+_+","+_,w="l"+_+",-"+_,x="l-"+_+",-"+_,b="l-"+_+","+_;return d(h,T,"M0,"+_+g+w+x+w+x+b+x+b+g+b+g+"Z")}},"triangle-up":{n:5,f:function(m,h,T){if(u(h))return c;var _=v(2*m/s,2);return d(h,T,"M-"+_+","+v(m/2,2)+"H"+_+"L0,-"+v(m,2)+"Z")}},"triangle-down":{n:6,f:function(m,h,T){if(u(h))return c;var _=v(2*m/s,2);return d(h,T,"M-"+_+",-"+v(m/2,2)+"H"+_+"L0,"+v(m,2)+"Z")}},"triangle-left":{n:7,f:function(m,h,T){if(u(h))return c;var _=v(2*m/s,2);return d(h,T,"M"+v(m/2,2)+",-"+_+"V"+_+"L-"+v(m,2)+",0Z")}},"triangle-right":{n:8,f:function(m,h,T){if(u(h))return c;var _=v(2*m/s,2);return d(h,T,"M-"+v(m/2,2)+",-"+_+"V"+_+"L"+v(m,2)+",0Z")}},"triangle-ne":{n:9,f:function(m,h,T){if(u(h))return c;var _=v(.6*m,2),g=v(1.2*m,2);return d(h,T,"M-"+g+",-"+_+"H"+_+"V"+g+"Z")}},"triangle-se":{n:10,f:function(m,h,T){if(u(h))return c;var _=v(.6*m,2),g=v(1.2*m,2);return d(h,T,"M"+_+",-"+g+"V"+_+"H-"+g+"Z")}},"triangle-sw":{n:11,f:function(m,h,T){if(u(h))return c;var _=v(.6*m,2),g=v(1.2*m,2);return d(h,T,"M"+g+","+_+"H-"+_+"V-"+g+"Z")}},"triangle-nw":{n:12,f:function(m,h,T){if(u(h))return c;var _=v(.6*m,2),g=v(1.2*m,2);return d(h,T,"M-"+_+","+g+"V-"+_+"H"+g+"Z")}},pentagon:{n:13,f:function(m,h,T){if(u(h))return c;var _=v(.951*m,2),g=v(.588*m,2),w=v(-m,2),x=v(-.309*m,2);return d(h,T,"M"+_+","+x+"L"+g+","+v(.809*m,2)+"H-"+g+"L-"+_+","+x+"L0,"+w+"Z")}},hexagon:{n:14,f:function(m,h,T){if(u(h))return c;var _=v(m,2),g=v(m/2,2),w=v(m*s/2,2);return d(h,T,"M"+w+",-"+g+"V"+g+"L0,"+_+"L-"+w+","+g+"V-"+g+"L0,-"+_+"Z")}},hexagon2:{n:15,f:function(m,h,T){if(u(h))return c;var _=v(m,2),g=v(m/2,2),w=v(m*s/2,2);return d(h,T,"M-"+g+","+w+"H"+g+"L"+_+",0L"+g+",-"+w+"H-"+g+"L-"+_+",0Z")}},octagon:{n:16,f:function(m,h,T){if(u(h))return c;var _=v(.924*m,2),g=v(.383*m,2);return d(h,T,"M-"+g+",-"+_+"H"+g+"L"+_+",-"+g+"V"+g+"L"+g+","+_+"H-"+g+"L-"+_+","+g+"V-"+g+"Z")}},star:{n:17,f:function(m,h,T){if(u(h))return c;var _=1.4*m,g=v(.225*_,2),w=v(.951*_,2),x=v(.363*_,2),b=v(.588*_,2),A=v(-_,2),p=v(-.309*_,2),O=v(.118*_,2),k=v(.809*_,2);return d(h,T,"M"+g+","+p+"H"+w+"L"+x+","+O+"L"+b+","+k+"L0,"+v(.382*_,2)+"L-"+b+","+k+"L-"+x+","+O+"L-"+w+","+p+"H-"+g+"L0,"+A+"Z")}},hexagram:{n:18,f:function(m,h,T){if(u(h))return c;var _=v(.66*m,2),g=v(.38*m,2),w=v(.76*m,2);return d(h,T,"M-"+w+",0l-"+g+",-"+_+"h"+w+"l"+g+",-"+_+"l"+g+","+_+"h"+w+"l-"+g+","+_+"l"+g+","+_+"h-"+w+"l-"+g+","+_+"l-"+g+",-"+_+"h-"+w+"Z")}},"star-triangle-up":{n:19,f:function(m,h,T){if(u(h))return c;var _=v(m*s*.8,2),g=v(.8*m,2),w=v(1.6*m,2),x=v(4*m,2),b="A "+x+","+x+" 0 0 1 ";return d(h,T,"M-"+_+","+g+b+_+","+g+b+"0,-"+w+b+"-"+_+","+g+"Z")}},"star-triangle-down":{n:20,f:function(m,h,T){if(u(h))return c;var _=v(m*s*.8,2),g=v(.8*m,2),w=v(1.6*m,2),x=v(4*m,2),b="A "+x+","+x+" 0 0 1 ";return d(h,T,"M"+_+",-"+g+b+"-"+_+",-"+g+b+"0,"+w+b+_+",-"+g+"Z")}},"star-square":{n:21,f:function(m,h,T){if(u(h))return c;var _=v(1.1*m,2),g=v(2*m,2),w="A "+g+","+g+" 0 0 1 ";return d(h,T,"M-"+_+",-"+_+w+"-"+_+","+_+w+_+","+_+w+_+",-"+_+w+"-"+_+",-"+_+"Z")}},"star-diamond":{n:22,f:function(m,h,T){if(u(h))return c;var _=v(1.4*m,2),g=v(1.9*m,2),w="A "+g+","+g+" 0 0 1 ";return d(h,T,"M-"+_+",0"+w+"0,"+_+w+_+",0"+w+"0,-"+_+w+"-"+_+",0Z")}},"diamond-tall":{n:23,f:function(m,h,T){if(u(h))return c;var _=v(.7*m,2),g=v(1.4*m,2);return d(h,T,"M0,"+g+"L"+_+",0L0,-"+g+"L-"+_+",0Z")}},"diamond-wide":{n:24,f:function(m,h,T){if(u(h))return c;var _=v(1.4*m,2),g=v(.7*m,2);return d(h,T,"M0,"+g+"L"+_+",0L0,-"+g+"L-"+_+",0Z")}},hourglass:{n:25,f:function(m,h,T){if(u(h))return c;var _=v(m,2);return d(h,T,"M"+_+","+_+"H-"+_+"L"+_+",-"+_+"H-"+_+"Z")},noDot:!0},bowtie:{n:26,f:function(m,h,T){if(u(h))return c;var _=v(m,2);return d(h,T,"M"+_+","+_+"V-"+_+"L-"+_+","+_+"V-"+_+"Z")},noDot:!0},"circle-cross":{n:27,f:function(m,h,T){if(u(h))return c;var _=v(m,2);return d(h,T,"M0,"+_+"V-"+_+"M"+_+",0H-"+_+"M"+_+",0A"+_+","+_+" 0 1,1 0,-"+_+"A"+_+","+_+" 0 0,1 "+_+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(m,h,T){if(u(h))return c;var _=v(m,2),g=v(m/i,2);return d(h,T,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g+"M"+_+",0A"+_+","+_+" 0 1,1 0,-"+_+"A"+_+","+_+" 0 0,1 "+_+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(m,h,T){if(u(h))return c;var _=v(m,2);return d(h,T,"M0,"+_+"V-"+_+"M"+_+",0H-"+_+"M"+_+","+_+"H-"+_+"V-"+_+"H"+_+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(m,h,T){if(u(h))return c;var _=v(m,2);return d(h,T,"M"+_+","+_+"L-"+_+",-"+_+"M"+_+",-"+_+"L-"+_+","+_+"M"+_+","+_+"H-"+_+"V-"+_+"H"+_+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(m,h,T){if(u(h))return c;var _=v(1.3*m,2);return d(h,T,"M"+_+",0L0,"+_+"L-"+_+",0L0,-"+_+"ZM0,-"+_+"V"+_+"M-"+_+",0H"+_)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(m,h,T){if(u(h))return c;var _=v(1.3*m,2),g=v(.65*m,2);return d(h,T,"M"+_+",0L0,"+_+"L-"+_+",0L0,-"+_+"ZM-"+g+",-"+g+"L"+g+","+g+"M-"+g+","+g+"L"+g+",-"+g)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(m,h,T){if(u(h))return c;var _=v(1.4*m,2);return d(h,T,"M0,"+_+"V-"+_+"M"+_+",0H-"+_)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(m,h,T){if(u(h))return c;var _=v(m,2);return d(h,T,"M"+_+","+_+"L-"+_+",-"+_+"M"+_+",-"+_+"L-"+_+","+_)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(m,h,T){if(u(h))return c;var _=v(1.2*m,2),g=v(.85*m,2);return d(h,T,"M0,"+_+"V-"+_+"M"+_+",0H-"+_+"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(m,h,T){if(u(h))return c;var _=v(m/2,2),g=v(m,2);return d(h,T,"M"+_+","+g+"V-"+g+"M"+(_-g)+",-"+g+"V"+g+"M"+g+","+_+"H-"+g+"M-"+g+","+(_-g)+"H"+g)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(m,h,T){if(u(h))return c;var _=v(1.2*m,2),g=v(1.6*m,2),w=v(.8*m,2);return d(h,T,"M-"+_+","+w+"L0,0M"+_+","+w+"L0,0M0,-"+g+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(m,h,T){if(u(h))return c;var _=v(1.2*m,2),g=v(1.6*m,2),w=v(.8*m,2);return d(h,T,"M-"+_+",-"+w+"L0,0M"+_+",-"+w+"L0,0M0,"+g+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(m,h,T){if(u(h))return c;var _=v(1.2*m,2),g=v(1.6*m,2),w=v(.8*m,2);return d(h,T,"M"+w+","+_+"L0,0M"+w+",-"+_+"L0,0M-"+g+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(m,h,T){if(u(h))return c;var _=v(1.2*m,2),g=v(1.6*m,2),w=v(.8*m,2);return d(h,T,"M-"+w+","+_+"L0,0M-"+w+",-"+_+"L0,0M"+g+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(m,h,T){if(u(h))return c;var _=v(1.4*m,2);return d(h,T,"M"+_+",0H-"+_)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(m,h,T){if(u(h))return c;var _=v(1.4*m,2);return d(h,T,"M0,"+_+"V-"+_)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(m,h,T){if(u(h))return c;var _=v(m,2);return d(h,T,"M"+_+",-"+_+"L-"+_+","+_)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(m,h,T){if(u(h))return c;var _=v(m,2);return d(h,T,"M"+_+","+_+"L-"+_+",-"+_)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(m,h,T){if(u(h))return c;var _=v(m,2);return d(h,T,"M0,0L-"+_+","+v(2*m,2)+"H"+_+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(m,h,T){if(u(h))return c;var _=v(m,2);return d(h,T,"M0,0L-"+_+",-"+v(2*m,2)+"H"+_+"Z")},noDot:!0},"arrow-left":{n:47,f:function(m,h,T){if(u(h))return c;var _=v(2*m,2),g=v(m,2);return d(h,T,"M0,0L"+_+",-"+g+"V"+g+"Z")},noDot:!0},"arrow-right":{n:48,f:function(m,h,T){if(u(h))return c;var _=v(2*m,2),g=v(m,2);return d(h,T,"M0,0L-"+_+",-"+g+"V"+g+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(m,h,T){if(u(h))return c;var _=v(m,2);return d(h,T,"M-"+_+",0H"+_+"M0,0L-"+_+","+v(2*m,2)+"H"+_+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(m,h,T){if(u(h))return c;var _=v(m,2);return d(h,T,"M-"+_+",0H"+_+"M0,0L-"+_+",-"+v(2*m,2)+"H"+_+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(m,h,T){if(u(h))return c;var _=v(2*m,2),g=v(m,2);return d(h,T,"M0,-"+g+"V"+g+"M0,0L"+_+",-"+g+"V"+g+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(m,h,T){if(u(h))return c;var _=v(2*m,2),g=v(m,2);return d(h,T,"M0,-"+g+"V"+g+"M0,0L-"+_+",-"+g+"V"+g+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(m,h,T){if(u(h))return c;var _=a/2.5,g=2*m*o(_),w=2*m*l(_);return d(h,T,"M0,0L"+-g+","+w+"L"+g+","+w+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(m,h,T){if(u(h))return c;var _=a/4,g=2*m*o(_),w=2*m*l(_);return d(h,T,"M0,0L"+-g+","+w+"A "+2*m+","+2*m+" 0 0 1 "+g+","+w+"Z")},backoff:.4,noDot:!0}}},25673:function(ae){"use strict";ae.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(ae,B,r){"use strict";var D=r(92770),E=r(73972),f=r(89298),S=r(71828),M=r(45827);function v(c,i,s,a){var o=i["error_"+a]||{},l=[];if(o.visible&&-1!==["linear","log"].indexOf(s.type)){for(var u=M(o),d=0;d<c.length;d++){var m=c[d],h=m.i;if(void 0===h)h=d;else if(null===h)continue;var T=m[a];if(D(s.c2l(T))){var _=u(T,h);if(D(_[0])&&D(_[1])){var g=m[a+"s"]=T-_[0],w=m[a+"h"]=T+_[1];l.push(g,w)}}}var b=i._extremes[s._id],A=f.findExtremes(s,l,S.extendFlat({tozero:b.opts.tozero},{padded:!0}));b.min=b.min.concat(A.min),b.max=b.max.concat(A.max)}}ae.exports=function(c){for(var i=c.calcdata,s=0;s<i.length;s++){var a=i[s],o=a[0].trace;if(!0===o.visible&&E.traceIs(o,"errorBarsOK")){var l=f.getFromId(c,o.xaxis),u=f.getFromId(c,o.yaxis);v(a,o,l,"x"),v(a,o,u,"y")}}}},45827:function(ae){"use strict";function B(r,D){return"percent"===r?function(E){return Math.abs(E*D/100)}:"constant"===r?function(){return Math.abs(D)}:"sqrt"===r?function(E){return Math.sqrt(Math.abs(E))}:void 0}ae.exports=function(r){var D=r.type,E=r.symmetric;if("data"===D){var f=r.array||[];if(E)return function(c,i){var s=+f[i];return[s,s]};var S=r.arrayminus||[];return function(c,i){var s=+f[i],a=+S[i];return isNaN(s)&&isNaN(a)?[NaN,NaN]:[a||0,s||0]}}var M=B(D,r.value),v=B(D,r.valueminus);return E||void 0===r.valueminus?function(c){var i=M(c);return[i,i]}:function(c){return[v(c),M(c)]}}},97587:function(ae,B,r){"use strict";var D=r(92770),E=r(73972),f=r(71828),S=r(44467),M=r(25673);ae.exports=function(v,c,i,s){var a="error_"+s.axis,o=S.newContainer(c,a),l=v[a]||{};function u(T,_){return f.coerce(l,o,M,T,_)}if(!1!==u("visible",void 0!==l.array||void 0!==l.value||"sqrt"===l.type)){var d=u("type","array"in l?"data":"percent"),m=!0;"sqrt"!==d&&(m=u("symmetric",!(("data"===d?"arrayminus":"valueminus")in l))),"data"===d?(u("array"),u("traceref"),m||(u("arrayminus"),u("tracerefminus"))):"percent"!==d&&"constant"!==d||(u("value"),m||u("valueminus"));var h="copy_"+s.inherit+"style";s.inherit&&(c["error_"+s.inherit]||{}).visible&&u(h,!(l.color||D(l.thickness)||D(l.width))),s.inherit&&o[h]||(u("color",i),u("thickness"),u("width",E.traceIs(c,"gl3d")?0:4))}}},37369:function(ae,B,r){"use strict";var D=r(71828),E=r(30962).overrideAll,f=r(25673),S={error_x:D.extendFlat({},f),error_y:D.extendFlat({},f)};delete S.error_x.copy_zstyle,delete S.error_y.copy_zstyle,delete S.error_y.copy_ystyle;var M={error_x:D.extendFlat({},f),error_y:D.extendFlat({},f),error_z:D.extendFlat({},f)};delete M.error_x.copy_ystyle,delete M.error_y.copy_ystyle,delete M.error_z.copy_ystyle,delete M.error_z.copy_zstyle,ae.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:S,bar:S,histogram:S,scatter3d:E(M,"calc","nested"),scattergl:E(S,"calc","nested")}},supplyDefaults:r(97587),calc:r(84532),makeComputeError:r(45827),plot:r(19398),style:r(62662),hoverInfo:function(v,c,i){(c.error_y||{}).visible&&(i.yerr=v.yh-v.y,c.error_y.symmetric||(i.yerrneg=v.y-v.ys)),(c.error_x||{}).visible&&(i.xerr=v.xh-v.x,c.error_x.symmetric||(i.xerrneg=v.x-v.xs))}}},19398:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(91424),S=r(34098);ae.exports=function(M,v,c,i){var s=c.xaxis,a=c.yaxis,o=i&&i.duration>0,l=M._context.staticPlot;v.each(function(u){var d,m=u[0].trace,h=m.error_x||{},T=m.error_y||{};m.ids&&(d=function(x){return x.id});var _=S.hasMarkers(m)&&m.marker.maxdisplayed>0;T.visible||h.visible||(u=[]);var g=D.select(this).selectAll("g.errorbar").data(u,d);if(g.exit().remove(),u.length){h.visible||g.selectAll("path.xerror").remove(),T.visible||g.selectAll("path.yerror").remove(),g.style("opacity",1);var w=g.enter().append("g").classed("errorbar",!0);o&&w.style("opacity",0).transition().duration(i.duration).style("opacity",1),f.setClipUrl(g,c.layerClipId,M),g.each(function(x){var R,N,j,X,b=D.select(this),A=(j=a,X={x:(N=s).c2p((R=x).x),y:j.c2p(R.y)},void 0!==R.yh&&(X.yh=j.c2p(R.yh),X.ys=j.c2p(R.ys),E(X.ys)||(X.noYS=!0,X.ys=j.c2p(R.ys,!0))),void 0!==R.xh&&(X.xh=N.c2p(R.xh),X.xs=N.c2p(R.xs),E(X.xs)||(X.noXS=!0,X.xs=N.c2p(R.xs,!0))),X);if(!_||x.vis){var p,O=b.select("path.yerror");if(T.visible&&E(A.x)&&E(A.yh)&&E(A.ys)){var k=T.width;p="M"+(A.x-k)+","+A.yh+"h"+2*k+"m-"+k+",0V"+A.ys,A.noYS||(p+="m-"+k+",0h"+2*k),O.size()?o&&(O=O.transition().duration(i.duration).ease(i.easing)):O=b.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("yerror",!0),O.attr("d",p)}else O.remove();var I=b.select("path.xerror");if(h.visible&&E(A.y)&&E(A.xh)&&E(A.xs)){var P=(h.copy_ystyle?T:h).width;p="M"+A.xh+","+(A.y-P)+"v"+2*P+"m0,-"+P+"H"+A.xs,A.noXS||(p+="m0,-"+P+"v"+2*P),I.size()?o&&(I=I.transition().duration(i.duration).ease(i.easing)):I=b.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("xerror",!0),I.attr("d",p)}else I.remove()}})}})}},62662:function(ae,B,r){"use strict";var D=r(39898),E=r(7901);ae.exports=function(f){f.each(function(S){var M=S[0].trace,v=M.error_y||{},c=M.error_x||{},i=D.select(this);i.selectAll("path.yerror").style("stroke-width",v.thickness+"px").call(E.stroke,v.color),c.copy_ystyle&&(c=v),i.selectAll("path.xerror").style("stroke-width",c.thickness+"px").call(E.stroke,c.color)})}},77914:function(ae,B,r){"use strict";var D=r(41940),E=r(528).hoverlabel,f=r(1426).extendFlat;ae.exports={hoverlabel:{bgcolor:f({},E.bgcolor,{arrayOk:!0}),bordercolor:f({},E.bordercolor,{arrayOk:!0}),font:D({arrayOk:!0,editType:"none"}),align:f({},E.align,{arrayOk:!0}),namelength:f({},E.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(ae,B,r){"use strict";var D=r(71828),E=r(73972);function f(S,M,v,c){c=c||D.identity,Array.isArray(S)&&(M[0][v]=c(S))}ae.exports=function(S){var M=S.calcdata,v=S._fullLayout;function c(l){return function(u){return D.coerceHoverinfo({hoverinfo:u},{_module:l._module},v)}}for(var i=0;i<M.length;i++){var s=M[i],a=s[0].trace;if(!E.traceIs(a,"pie-like")){var o=E.traceIs(a,"2dMap")?f:D.fillArray;o(a.hoverinfo,s,"hi",c(a)),a.hovertemplate&&o(a.hovertemplate,s,"ht"),a.hoverlabel&&(o(a.hoverlabel.bgcolor,s,"hbg"),o(a.hoverlabel.bordercolor,s,"hbc"),o(a.hoverlabel.font.size,s,"hts"),o(a.hoverlabel.font.color,s,"htc"),o(a.hoverlabel.font.family,s,"htf"),o(a.hoverlabel.namelength,s,"hnl"),o(a.hoverlabel.align,s,"hta"))}}}},75914:function(ae,B,r){"use strict";var D=r(73972),E=r(88335).hover;ae.exports=function(f,S,M){var v=D.getComponentMethod("annotations","onClick")(f,f._hoverdata);function c(){f.emit("plotly_click",{points:f._hoverdata,event:S})}void 0!==M&&E(f,S,M,!0),f._hoverdata&&S&&S.target&&(v&&v.then?v.then(c):c(),S.stopImmediatePropagation&&S.stopImmediatePropagation())}},26675:function(ae){"use strict";ae.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(ae,B,r){"use strict";var D=r(71828),E=r(77914),f=r(38048);ae.exports=function(S,M,v,c){var i=D.extendFlat({},c.hoverlabel);M.hovertemplate&&(i.namelength=-1),f(S,M,function(s,a){return D.coerce(S,M,E,s,a)},i)}},23469:function(ae,B,r){"use strict";var D=r(71828);B.getSubplot=function(c){return c.subplot||c.xaxis+c.yaxis||c.geo},B.isTraceInSubplots=function(c,i){if("splom"===c.type){for(var s=c.xaxes||[],a=c.yaxes||[],o=0;o<s.length;o++)for(var l=0;l<a.length;l++)if(-1!==i.indexOf(s[o]+a[l]))return!0;return!1}return-1!==i.indexOf(B.getSubplot(c))},B.flat=function(c,i){for(var s=new Array(c.length),a=0;a<c.length;a++)s[a]=i;return s},B.p2c=function(c,i){for(var s=new Array(c.length),a=0;a<c.length;a++)s[a]=c[a].p2c(i);return s},B.getDistanceFunction=function(c,i,s,a){return"closest"===c?a||B.quadrature(i,s):"x"===c.charAt(0)?i:s},B.getClosest=function(c,i,s){if(!1!==s.index)s.index>=0&&s.index<c.length?s.distance=0:s.index=!1;else for(var a=0;a<c.length;a++){var o=i(c[a]);o<=s.distance&&(s.index=a,s.distance=o)}return s},B.inbox=function(c,i,s){return c*i<0||0===c?s:1/0},B.quadrature=function(c,i){return function(s){var a=c(s),o=i(s);return Math.sqrt(a*a+o*o)}},B.makeEventData=function(c,i,s){var a="index"in c?c.index:c.pointNumber,o={data:i._input,fullData:i,curveNumber:i.index,pointNumber:a};if(i._indexToPoints){var l=i._indexToPoints[a];1===l.length?o.pointIndex=l[0]:o.pointIndices=l}else o.pointIndex=a;return i._module.eventData?o=i._module.eventData(o,c,i,s,a):("xVal"in c?o.x=c.xVal:"x"in c&&(o.x=c.x),"yVal"in c?o.y=c.yVal:"y"in c&&(o.y=c.y),c.xa&&(o.xaxis=c.xa),c.ya&&(o.yaxis=c.ya),void 0!==c.zLabelVal&&(o.z=c.zLabelVal)),B.appendArrayPointValue(o,i,a),o},B.appendArrayPointValue=function(c,i,s){var a=i._arrayAttrs;if(a)for(var o=0;o<a.length;o++){var l=a[o],u=f(l);if(void 0===c[u]){var d=S(D.nestedProperty(i,l).get(),s);void 0!==d&&(c[u]=d)}}},B.appendArrayMultiPointValues=function(c,i,s){var a=i._arrayAttrs;if(a)for(var o=0;o<a.length;o++){var l=a[o],u=f(l);if(void 0===c[u]){for(var d=D.nestedProperty(i,l).get(),m=new Array(s.length),h=0;h<s.length;h++)m[h]=S(d,s[h]);c[u]=m}}};var E={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function f(c){return E[c]||c}function S(c,i){return Array.isArray(i)?Array.isArray(c)&&Array.isArray(c[i[0]])?c[i[0]][i[1]]:void 0:c[i]}var M={x:!0,y:!0},v={"x unified":!0,"y unified":!0};B.isUnifiedHover=function(c){return"string"==typeof c&&!!v[c]},B.isXYhover=function(c){return"string"==typeof c&&!!M[c]}},88335:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(84267),S=r(71828),M=S.strTranslate,v=S.strRotate,c=r(11086),i=r(63893),s=r(39918),a=r(91424),o=r(7901),l=r(28569),u=r(89298),d=r(73972),m=r(23469),h=r(26675),T=r(99017),_=r(43969),g=h.YANGLE,w=Math.PI*g/180,x=1/Math.sin(w),b=Math.cos(w),A=Math.sin(w),p=h.HOVERARROWSIZE,O=h.HOVERTEXTPAD,k={box:!0,ohlc:!0,violin:!0,candlestick:!0},I={scatter:!0,scattergl:!0,splom:!0};function P(Q){return[Q.trace.index,Q.index,Q.x0,Q.y0,Q.name,Q.attr,Q.xa?Q.xa._id:"",Q.ya?Q.ya._id:""].join(",")}B.hover=function(Q,ee,oe,le){Q=S.getGraphDiv(Q);var ue=ee.target;S.throttle(Q._fullLayout._uid+h.HOVERID,h.HOVERMINTIME,function(){!function(de,he,we,Ae,Te){we||(we="xy");var ve=Array.isArray(we)?we:[we],xe=de._fullLayout,Fe=xe._plots||[],Se=Fe[we],ke=xe._has("cartesian");if(Se){var pe=Se.overlays.map(function(Yt){return Yt.id});ve=ve.concat(pe)}for(var fe=ve.length,be=new Array(fe),Le=new Array(fe),Oe=!1,De=0;De<fe;De++){var Ue=ve[De];if(Fe[Ue])Oe=!0,be[De]=Fe[Ue].xaxis,Le[De]=Fe[Ue].yaxis;else{if(!xe[Ue]||!xe[Ue]._subplot)return void S.warn("Unrecognized subplot: "+Ue);var Ge=xe[Ue]._subplot;be[De]=Ge.xaxis,Le[De]=Ge.yaxis}}var ye=he.hovermode||xe.hovermode;if(ye&&!Oe&&(ye="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(ye)||!de.calcdata||de.querySelector(".zoombox")||de._dragging)return l.unhoverRaw(de,he);var Ie=xe.hoverdistance;-1===Ie&&(Ie=1/0);var Ee=xe.spikedistance;-1===Ee&&(Ee=1/0);var Be,We,He,Je,et,at,mt,ct,St,Dt,Et,ht,pt,Pt=[],Ft=[],Ht={hLinePoint:null,vLinePoint:null},Lt=!1;if(Array.isArray(he))for(ye="array",He=0;He<he.length;He++)(et=de.calcdata[he[He].curveNumber||0])&&(at=et[0].trace,"skip"!==et[0].trace.hoverinfo&&(Ft.push(et),"h"===at.orientation&&(Lt=!0)));else{for(Je=0;Je<de.calcdata.length;Je++)"skip"!==(at=(et=de.calcdata[Je])[0].trace).hoverinfo&&m.isTraceInSubplots(at,ve)&&(Ft.push(et),"h"===at.orientation&&(Lt=!0));var tt,rt;if(Te){if(!1===c.triggerHandler(de,"plotly_beforehover",he))return;var Ke=Te.getBoundingClientRect();tt=he.clientX-Ke.left,rt=he.clientY-Ke.top,xe._calcInverseTransform(de);var it=S.apply3DTransform(xe._invTransform)(tt,rt);if(rt=it[1],(tt=it[0])<0||tt>be[0]._length||rt<0||rt>Le[0]._length)return l.unhoverRaw(de,he)}else tt="xpx"in he?he.xpx:be[0]._length/2,rt="ypx"in he?he.ypx:Le[0]._length/2;if(he.pointerX=tt+be[0]._offset,he.pointerY=rt+Le[0]._offset,Be="xval"in he?m.flat(ve,he.xval):m.p2c(be,tt),We="yval"in he?m.flat(ve,he.yval):m.p2c(Le,rt),!E(Be[0])||!E(We[0]))return S.warn("Fx.hover failed",he,de),l.unhoverRaw(de,he)}var gt=1/0;function ft(Yt,$t){for(Je=0;Je<Ft.length;Je++)if((et=Ft[Je])&&et[0]&&et[0].trace&&!0===(at=et[0].trace).visible&&0!==at._length&&-1===["carpet","contourcarpet"].indexOf(at._module.name)){if("splom"===at.type?mt=ve[ct=0]:(mt=m.getSubplot(at),ct=ve.indexOf(mt)),m.isUnifiedHover(St=ye)&&(St=St.charAt(0)),ht={cd:et,trace:at,xa:be[ct],ya:Le[ct],maxHoverDistance:Ie,maxSpikeDistance:Ee,index:!1,distance:Math.min(gt,Ie),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:o.defaultLine,name:at.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},xe[mt]&&(ht.subplot=xe[mt]._subplot),xe._splomScenes&&xe._splomScenes[at.uid]&&(ht.scene=xe._splomScenes[at.uid]),pt=Pt.length,"array"===St){var xn=he[Je];"pointNumber"in xn?(ht.index=xn.pointNumber,St="closest"):(St="","xval"in xn&&(Dt=xn.xval,St="x"),"yval"in xn&&(Et=xn.yval,St=St?"closest":"y"))}else void 0!==Yt&&void 0!==$t?(Dt=Yt,Et=$t):(Dt=Be[ct],Et=We[ct]);if(0!==Ie)if(at._module&&at._module.hoverPoints){var vn=at._module.hoverPoints(ht,Dt,Et,St,{finiteRange:!0,hoverLayer:xe._hoverlayer});if(vn)for(var Dn,or=0;or<vn.length;or++)E((Dn=vn[or]).x0)&&E(Dn.y0)&&Pt.push(Z(Dn,ye))}else S.log("Unrecognized trace type in hover:",at);if("closest"===ye&&Pt.length>pt&&(Pt.splice(0,pt),gt=Pt[0].distance),ke&&0!==Ee&&0===Pt.length){ht.distance=Ee,ht.index=!1;var Yn=at._module.hoverPoints(ht,Dt,Et,"closest",{hoverLayer:xe._hoverlayer});if(Yn&&(Yn=Yn.filter(function(an){return an.spikeDistance<=Ee})),Yn&&Yn.length){var Qn,gr=Yn.filter(function(an){return an.xa.showspikes&&"hovered data"!==an.xa.spikesnap});if(gr.length){var tn=gr[0];E(tn.x0)&&E(tn.y0)&&(Qn=qe(tn),(!Ht.vLinePoint||Ht.vLinePoint.spikeDistance>Qn.spikeDistance)&&(Ht.vLinePoint=Qn))}var Fn=Yn.filter(function(an){return an.ya.showspikes&&"hovered data"!==an.ya.spikesnap});if(Fn.length){var Nt=Fn[0];E(Nt.x0)&&E(Nt.y0)&&(Qn=qe(Nt),(!Ht.hLinePoint||Ht.hLinePoint.spikeDistance>Qn.spikeDistance)&&(Ht.hLinePoint=Qn))}}}}}function Ve(Yt,$t,xn){for(var vn,Dn=null,or=1/0,Yn=0;Yn<Yt.length;Yn++)vn=Yt[Yn].spikeDistance,xn&&0===Yn&&(vn=-1/0),vn<=or&&vn<=$t&&(Dn=Yt[Yn],or=vn);return Dn}function qe(Yt){return Yt?{xa:Yt.xa,ya:Yt.ya,x:void 0!==Yt.xSpike?Yt.xSpike:(Yt.x0+Yt.x1)/2,y:void 0!==Yt.ySpike?Yt.ySpike:(Yt.y0+Yt.y1)/2,distance:Yt.distance,spikeDistance:Yt.spikeDistance,curveNumber:Yt.trace.index,color:Yt.color,pointNumber:Yt.index}:null}ft();var dt={fullLayout:xe,container:xe._hoverlayer,event:he},ut=de._spikepoints;de._spikepoints={vLinePoint:Ht.vLinePoint,hLinePoint:Ht.hLinePoint};var wt=function(){Pt.sort(function(Yt,$t){return Yt.distance-$t.distance}),Pt=function(Yt,$t){for(var xn=$t.charAt(0),vn=[],Dn=[],or=[],Yn=0;Yn<Yt.length;Yn++){var Qn=Yt[Yn];d.traceIs(Qn.trace,"bar-like")||d.traceIs(Qn.trace,"box-violin")?or.push(Qn):Qn.trace[xn+"period"]?Dn.push(Qn):vn.push(Qn)}return vn.concat(Dn).concat(or)}(Pt,ye)};wt();var kt=ye.charAt(0),_t=("x"===kt||"y"===kt)&&Pt[0]&&I[Pt[0].trace.type];if(ke&&0!==Ee&&0!==Pt.length){var Rt=Ve(Pt.filter(function(Yt){return Yt.ya.showspikes}),Ee,_t);Ht.hLinePoint=qe(Rt);var bt=Ve(Pt.filter(function(Yt){return Yt.xa.showspikes}),Ee,_t);Ht.vLinePoint=qe(bt)}if(0===Pt.length){var Tt=l.unhoverRaw(de,he);return!ke||null===Ht.hLinePoint&&null===Ht.vLinePoint||H(ut)&&W(de,Ht,dt),Tt}if(ke&&H(ut)&&W(de,Ht,dt),m.isXYhover(St)&&0!==Pt[0].length&&"splom"!==Pt[0].trace.type){var Ot=Pt[0],Wt=(Pt=k[Ot.trace.type]?Pt.filter(function(Yt){return Yt.trace.index===Ot.trace.index}):[Ot]).length;ft(Y("x",Ot,xe),Y("y",Ot,xe));var qt,Jt=[],pn={},en=0,nn=function(Yt){var $t=k[Yt.trace.type]?P(Yt):Yt.trace.index;if(pn[$t]){var xn=pn[$t]-1,vn=Jt[xn];xn>0&&Math.abs(Yt.distance)<Math.abs(vn.distance)&&(Jt[xn]=Yt)}else en++,pn[$t]=en,Jt.push(Yt)};for(qt=0;qt<Wt;qt++)nn(Pt[qt]);for(qt=Pt.length-1;qt>Wt-1;qt--)nn(Pt[qt]);Pt=Jt,wt()}var dn=de._hoverdata,In=[],Hn=se(de),An=te(de);for(He=0;He<Pt.length;He++){var on=Pt[He],yn=m.makeEventData(on,on.trace,on.cd);if(!1!==on.hovertemplate){var ln=!1;on.cd[on.index]&&on.cd[on.index].ht&&(ln=on.cd[on.index].ht),on.hovertemplate=ln||on.trace.hovertemplate||!1}if(on.xa&&on.ya){var wn=on.x0+on.xa._offset,Cn=on.x1+on.xa._offset,Ln=on.y0+on.ya._offset,Sn=on.y1+on.ya._offset,qn=Math.min(wn,Cn),kn=Math.max(wn,Cn),Zn=Math.min(Ln,Sn),fr=Math.max(Ln,Sn);yn.bbox={x0:qn+An,x1:kn+An,y0:Zn+Hn,y1:fr+Hn}}on.eventData=[yn],In.push(yn)}de._hoverdata=In;var er="y"===ye&&(Ft.length>1||Pt.length>1)||"closest"===ye&&Lt&&Pt.length>1,nr=o.combine(xe.plot_bgcolor||o.background,xe.paper_bgcolor),mr=N(Pt,{gd:de,hovermode:ye,rotateLabels:er,bgColor:nr,container:xe._hoverlayer,outerContainer:xe._paper.node(),commonLabelOpts:xe.hoverlabel,hoverdistance:xe.hoverdistance}),dr=mr.hoverLabels;if(m.isUnifiedHover(ye)||(function(Yt,$t,xn,vn){var Dn,or,Yn,Qn,gr,tn,Fn,Nt=$t?"xa":"ya",an=$t?"ya":"xa",cn=0,Pn=1,Nn=Yt.size(),Gn=new Array(Nn),Tn=0,un=vn.minX,fn=vn.maxX,bn=vn.minY,Mn=vn.maxY,Un=function(Lr){return Lr*xn._invScaleX},Vn=function(Lr){return Lr*xn._invScaleY};function sr(Lr){var ii=Lr[0],pr=Lr[Lr.length-1];if(Yn=pr.pos+pr.dp+pr.size-ii.pmax,(or=ii.pmin-ii.pos-ii.dp+ii.size)>.01){for(gr=Lr.length-1;gr>=0;gr--)Lr[gr].dp+=or;Dn=!1}if(!(Yn<.01)){if(or<-.01){for(gr=Lr.length-1;gr>=0;gr--)Lr[gr].dp-=Yn;Dn=!1}if(Dn){var Ur=0;for(Qn=0;Qn<Lr.length;Qn++)(tn=Lr[Qn]).pos+tn.dp+tn.size>ii.pmax&&Ur++;for(Qn=Lr.length-1;Qn>=0&&!(Ur<=0);Qn--)(tn=Lr[Qn]).pos>ii.pmax-1&&(tn.del=!0,Ur--);for(Qn=0;Qn<Lr.length&&!(Ur<=0);Qn++)if((tn=Lr[Qn]).pos<ii.pmin+1)for(tn.del=!0,Ur--,Yn=2*tn.size,gr=Lr.length-1;gr>=0;gr--)Lr[gr].dp-=Yn;for(Qn=Lr.length-1;Qn>=0&&!(Ur<=0);Qn--)(tn=Lr[Qn]).pos+tn.dp+tn.size>ii.pmax&&(tn.del=!0,Ur--)}}}for(Yt.each(function(Lr){var ii=Lr[Nt],pr=Lr[an],Ur="x"===ii._id.charAt(0),ui=ii.range;0===Tn&&ui&&ui[0]>ui[1]!==Ur&&(Pn=-1);var Yi=0,Eo=Ur?xn.width:xn.height;if("x"===xn.hovermode||"y"===xn.hovermode){var Qr,wo,co=X(Lr,$t),Zi=Lr.anchor,Vs="end"===Zi?-1:1;if("middle"===Zi)wo=(Qr=Lr.crossPos+(Ur?Vn(co.y-Lr.by/2):Un(Lr.bx/2+Lr.tx2width/2)))+(Ur?Vn(Lr.by):Un(Lr.bx));else if(Ur)wo=(Qr=Lr.crossPos+Vn(p+co.y)-Vn(Lr.by/2-p))+Vn(Lr.by);else{var vs=Un(Vs*p+co.x),Xi=vs+Un(Vs*Lr.bx);Qr=Lr.crossPos+Math.min(vs,Xi),wo=Lr.crossPos+Math.max(vs,Xi)}Ur?void 0!==bn&&void 0!==Mn&&Math.min(wo,Mn)-Math.max(Qr,bn)>1&&("left"===pr.side?(Yi=pr._mainLinePosition,Eo=xn.width):Eo=pr._mainLinePosition):void 0!==un&&void 0!==fn&&Math.min(wo,fn)-Math.max(Qr,un)>1&&("top"===pr.side?(Yi=pr._mainLinePosition,Eo=xn.height):Eo=pr._mainLinePosition)}Gn[Tn++]=[{datum:Lr,traceIndex:Lr.trace.index,dp:0,pos:Lr.pos,posref:Lr.posref,size:Lr.by*(Ur?x:1)/2,pmin:Yi,pmax:Eo}]}),Gn.sort(function(Lr,ii){return Lr[0].posref-ii[0].posref||Pn*(ii[0].traceIndex-Lr[0].traceIndex)});!Dn&&cn<=Nn;){for(cn++,Dn=!0,Qn=0;Qn<Gn.length-1;){var rr=Gn[Qn],_r=Gn[Qn+1],Rn=rr[rr.length-1],Mr=_r[0];if((or=Rn.pos+Rn.dp+Rn.size-Mr.pos-Mr.dp+Mr.size)>.01&&Rn.pmin===Mr.pmin&&Rn.pmax===Mr.pmax){for(gr=_r.length-1;gr>=0;gr--)_r[gr].dp+=or;for(rr.push.apply(rr,_r),Gn.splice(Qn+1,1),Fn=0,gr=rr.length-1;gr>=0;gr--)Fn+=rr[gr].dp;for(Yn=Fn/rr.length,gr=rr.length-1;gr>=0;gr--)rr[gr].dp-=Yn;Dn=!1}else Qn++}Gn.forEach(sr)}for(Qn=Gn.length-1;Qn>=0;Qn--){var lr=Gn[Qn];for(gr=lr.length-1;gr>=0;gr--){var wr=lr[gr],Pr=wr.datum;Pr.offset=wr.dp,Pr.del=wr.del}}}(dr,er,xe,mr.commonLabelBoundingBox),F(dr,er,xe._invScaleX,xe._invScaleY)),Te&&Te.tagName){var Ir=d.getComponentMethod("annotations","hasClickToShow")(de,In);s(D.select(Te),Ir?"pointer":"")}Te&&!Ae&&function(Yt,$t,xn){if(!xn||xn.length!==Yt._hoverdata.length)return!0;for(var vn=xn.length-1;vn>=0;vn--){var Dn=xn[vn],or=Yt._hoverdata[vn];if(Dn.curveNumber!==or.curveNumber||String(Dn.pointNumber)!==String(or.pointNumber)||String(Dn.pointNumbers)!==String(or.pointNumbers))return!0}return!1}(de,0,dn)&&(dn&&de.emit("plotly_unhover",{event:he,points:dn}),de.emit("plotly_hover",{event:he,points:de._hoverdata,xaxes:be,yaxes:Le,xvals:Be,yvals:We}))}(Q,ee,oe,le,ue)})},B.loneHover=function(Q,ee){var oe=!0;Array.isArray(Q)||(oe=!1,Q=[Q]);var le=ee.gd,ue=se(le),de=te(le),he=N(Q.map(function(Te){var ve=Te._x0||Te.x0||Te.x||0,xe=Te._x1||Te.x1||Te.x||0,Fe=Te._y0||Te.y0||Te.y||0,Se=Te._y1||Te.y1||Te.y||0,ke=Te.eventData;if(ke){var pe=Math.min(ve,xe),fe=Math.max(ve,xe),be=Math.min(Fe,Se),Le=Math.max(Fe,Se),Oe=Te.trace;if(d.traceIs(Oe,"gl3d")){var De=le._fullLayout[Oe.scene]._scene.container,Ue=De.offsetLeft,Ge=De.offsetTop;pe+=Ue,fe+=Ue,be+=Ge,Le+=Ge}ke.bbox={x0:pe+de,x1:fe+de,y0:be+ue,y1:Le+ue},ee.inOut_bbox&&ee.inOut_bbox.push(ke.bbox)}else ke=!1;return{color:Te.color||o.defaultLine,x0:Te.x0||Te.x||0,x1:Te.x1||Te.x||0,y0:Te.y0||Te.y||0,y1:Te.y1||Te.y||0,xLabel:Te.xLabel,yLabel:Te.yLabel,zLabel:Te.zLabel,text:Te.text,name:Te.name,idealAlign:Te.idealAlign,borderColor:Te.borderColor,fontFamily:Te.fontFamily,fontSize:Te.fontSize,fontColor:Te.fontColor,nameLength:Te.nameLength,textAlign:Te.textAlign,trace:Te.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Te.hovertemplate||!1,hovertemplateLabels:Te.hovertemplateLabels||!1,eventData:ke}}),{gd:le,hovermode:"closest",rotateLabels:!1,bgColor:ee.bgColor||o.background,container:D.select(ee.container),outerContainer:ee.outerContainer||ee.container}).hoverLabels,we=0,Ae=0;return he.sort(function(Te,ve){return Te.y0-ve.y0}).each(function(Te,ve){var xe=Te.y0-Te.by/2;Te.offset=xe-5<we?we-xe+5:0,we=xe+Te.by+Te.offset,ve===ee.anchorIndex&&(Ae=Te.offset)}).each(function(Te){Te.offset-=Ae}),F(he,!1,le._fullLayout._invScaleX,le._fullLayout._invScaleY),oe?he:he.node()};var R=/<extra>([\s\S]*)<\/extra>/;function N(Q,ee){var oe=ee.gd,le=oe._fullLayout,ue=ee.hovermode,de=ee.rotateLabels,he=ee.bgColor,we=ee.container,Ae=ee.outerContainer,Te=ee.commonLabelOpts||{};if(0===Q.length)return[[]];var ve=ee.fontFamily||h.HOVERFONT,xe=ee.fontSize||h.HOVERFONTSIZE,Fe=Q[0],Se=Fe.xa,ke=Fe.ya,pe=ue.charAt(0),fe=pe+"Label",be=Fe[fe];if(void 0===be&&"multicategory"===Se.type)for(var Le=0;Le<Q.length&&void 0===(be=Q[Le][fe]);Le++);var Oe=re(oe,Ae),De=Oe.top,Ue=Oe.width,Ge=Oe.height,ye=void 0!==be&&Fe.distance<=ee.hoverdistance&&("x"===ue||"y"===ue);if(ye){var Ie,Ee,Be=!0;for(Ie=0;Ie<Q.length;Ie++)if(Be&&void 0===Q[Ie].zLabel&&(Be=!1),Ee=Q[Ie].hoverinfo||Q[Ie].trace.hoverinfo){var We=Array.isArray(Ee)?Ee:Ee.split("+");if(-1===We.indexOf("all")&&-1===We.indexOf(ue)){ye=!1;break}}Be&&(ye=!1)}var He=we.selectAll("g.axistext").data(ye?[0]:[]);He.enter().append("g").classed("axistext",!0),He.exit().remove();var Je={minX:0,maxX:0,minY:0,maxY:0};if(He.each(function(){var Tt=D.select(this),Ot=S.ensureSingle(Tt,"path","",function(Zn){Zn.style({"stroke-width":"1px"})}),Wt=S.ensureSingle(Tt,"text","",function(Zn){Zn.attr("data-notex",1)}),qt=Te.bgcolor||o.defaultLine,Jt=Te.bordercolor||o.contrast(qt),pn=o.contrast(qt),en={family:Te.font.family||ve,size:Te.font.size||xe,color:Te.font.color||pn};Ot.style({fill:qt,stroke:Jt}),Wt.text(be).call(a.font,en).call(i.positionText,0,0).call(i.convertToTspans,oe),Tt.attr("transform","");var nn,dn,In=re(oe,Wt.node());if("x"===ue){var Hn="top"===Se.side?"-":"";Wt.attr("text-anchor","middle").call(i.positionText,0,"top"===Se.side?De-In.bottom-p-O:De-In.top+p+O),dn=ke._offset+("top"===Se.side?0:ke._length);var An=In.width/2+O;(nn=Se._offset+(Fe.x0+Fe.x1)/2)<An?(nn=An,Ot.attr("d","M-"+(An-p)+",0L-"+(An-2*p)+","+Hn+p+"H"+An+"v"+Hn+(2*O+In.height)+"H-"+An+"V"+Hn+p+"Z")):nn>le.width-An?(nn=le.width-An,Ot.attr("d","M"+(An-p)+",0L"+An+","+Hn+p+"v"+Hn+(2*O+In.height)+"H-"+An+"V"+Hn+p+"H"+(An-2*p)+"Z")):Ot.attr("d","M0,0L"+p+","+Hn+p+"H"+An+"v"+Hn+(2*O+In.height)+"H-"+An+"V"+Hn+p+"H-"+p+"Z"),Je.minX=nn-An,Je.maxX=nn+An,"top"===Se.side?(Je.minY=dn-(2*O+In.height),Je.maxY=dn-O):(Je.minY=dn+O,Je.maxY=dn+(2*O+In.height))}else{var on,yn,ln;"right"===ke.side?(on="start",yn=1,ln="",nn=Se._offset+Se._length):(on="end",yn=-1,ln="-",nn=Se._offset),dn=ke._offset+(Fe.y0+Fe.y1)/2,Wt.attr("text-anchor",on),Ot.attr("d","M0,0L"+ln+p+","+p+"V"+(O+In.height/2)+"h"+ln+(2*O+In.width)+"V-"+(O+In.height/2)+"H"+ln+p+"V-"+p+"Z"),Je.minY=dn-(O+In.height/2),Je.maxY=dn+(O+In.height/2),"right"===ke.side?(Je.minX=nn+p,Je.maxX=nn+p+(2*O+In.width)):(Je.minX=nn-p-(2*O+In.width),Je.maxX=nn-p);var wn,Cn=In.height/2,Ln=De-In.top-Cn,Sn="clip"+le._uid+"commonlabel"+ke._id;if(nn<In.width+2*O+p){wn="M-"+(p+O)+"-"+Cn+"h-"+(In.width-O)+"V"+Cn+"h"+(In.width-O)+"Z";var qn=In.width-nn+O;i.positionText(Wt,qn,Ln),"end"===on&&Wt.selectAll("tspan").each(function(){var Zn=D.select(this),fr=a.tester.append("text").text(Zn.text()).call(a.font,en),er=re(oe,fr.node());Math.round(er.width)<Math.round(In.width)&&Zn.attr("x",qn-er.width),fr.remove()})}else i.positionText(Wt,yn*(O+p),Ln),wn=null;var kn=le._topclips.selectAll("#"+Sn).data(wn?[0]:[]);kn.enter().append("clipPath").attr("id",Sn).append("path"),kn.exit().remove(),kn.select("path").attr("d",wn),a.setClipUrl(Wt,wn?Sn:null,oe)}Tt.attr("transform",M(nn,dn))}),m.isUnifiedHover(ue)){we.selectAll("g.hovertext").remove();var et=Q.filter(function(Tt){return"none"!==Tt.hoverinfo});if(0===et.length)return[];var at=le.hoverlabel,mt=at.font,St={font:mt};T({showlegend:!0,legend:{title:{text:be,font:mt},font:mt,bgcolor:at.bgcolor,bordercolor:at.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:le.legend?le.legend.traceorder:void 0,orientation:"v"}},St,oe._fullData);var Dt=St.legend;Dt.entries=[];for(var Et=0;Et<et.length;Et++){var ht=et[Et];if("none"!==ht.hoverinfo){var pt=j(ht,!0,ue,le,be),Pt=pt[0],Ft=pt[1];ht.name=Ft,ht.text=""!==Ft?Ft+" : "+Pt:Pt;var Ht=ht.cd[ht.index];Ht&&(Ht.mc&&(ht.mc=Ht.mc),Ht.mcc&&(ht.mc=Ht.mcc),Ht.mlc&&(ht.mlc=Ht.mlc),Ht.mlcc&&(ht.mlc=Ht.mlcc),Ht.mlw&&(ht.mlw=Ht.mlw),Ht.mrc&&(ht.mrc=Ht.mrc),Ht.dir&&(ht.dir=Ht.dir)),ht._distinct=!0,Dt.entries.push([ht])}}Dt.entries.sort(function(Tt,Ot){return Tt[0].trace.index-Ot[0].trace.index}),Dt.layer=we,Dt._inHover=!0,Dt._groupTitleFont=at.grouptitlefont,_(oe,Dt);var Lt,tt,rt,Ke,it=we.select("g.legend"),gt=re(oe,it.node()),ft=gt.width+2*O,Ve=gt.height+2*O,qe=et[0],dt=(qe.x0+qe.x1)/2,ut=(qe.y0+qe.y1)/2,At=!(d.traceIs(qe.trace,"bar-like")||d.traceIs(qe.trace,"box-violin"));"y"===pe?At?(tt=ut-O,Lt=ut+O):(tt=Math.min.apply(null,et.map(function(Tt){return Math.min(Tt.y0,Tt.y1)})),Lt=Math.max.apply(null,et.map(function(Tt){return Math.max(Tt.y0,Tt.y1)}))):tt=Lt=S.mean(et.map(function(Tt){return(Tt.y0+Tt.y1)/2}))-Ve/2,"x"===pe?At?(rt=dt+O,Ke=dt-O):(rt=Math.max.apply(null,et.map(function(Tt){return Math.max(Tt.x0,Tt.x1)})),Ke=Math.min.apply(null,et.map(function(Tt){return Math.min(Tt.x0,Tt.x1)}))):rt=Ke=S.mean(et.map(function(Tt){return(Tt.x0+Tt.x1)/2}))-ft/2;var wt,kt,_t=Se._offset,Rt=ke._offset;return Ke+=_t-ft,tt+=Rt-Ve,wt=(rt+=_t)+ft<Ue&&rt>=0?rt:Ke+ft<Ue&&Ke>=0?Ke:_t+ft<Ue?_t:rt-dt<dt-Ke+ft?Ue-ft:0,kt=(Lt+=Rt)+Ve<Ge&&Lt>=0?Lt:tt+Ve<Ge&&tt>=0?tt:Rt+Ve<Ge?Rt:Lt-ut<ut-tt+Ve?Ge-Ve:0,it.attr("transform",M((wt+=O)-1,(kt+=O)-1)),it}var bt=we.selectAll("g.hovertext").data(Q,function(Tt){return P(Tt)});return bt.enter().append("g").classed("hovertext",!0).each(function(){var Tt=D.select(this);Tt.append("rect").call(o.fill,o.addOpacity(he,.8)),Tt.append("text").classed("name",!0),Tt.append("path").style("stroke-width","1px"),Tt.append("text").classed("nums",!0).call(a.font,ve,xe)}),bt.exit().remove(),bt.each(function(Tt){var Ot=D.select(this).attr("transform",""),Wt=Tt.color;Array.isArray(Wt)&&(Wt=Wt[Tt.eventData[0].pointNumber]);var qt=Tt.bgcolor||Wt,Jt=o.combine(o.opacity(qt)?qt:o.defaultLine,he),pn=o.combine(o.opacity(Wt)?Wt:o.defaultLine,he),en=Tt.borderColor||o.contrast(Jt),nn=j(Tt,ye,ue,le,be,Ot),dn=nn[0],In=nn[1],Hn=Ot.select("text.nums").call(a.font,Tt.fontFamily||ve,Tt.fontSize||xe,Tt.fontColor||en).text(dn).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,oe),An=Ot.select("text.name"),on=0,yn=0;if(In&&In!==dn){An.call(a.font,Tt.fontFamily||ve,Tt.fontSize||xe,pn).text(In).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,oe);var ln=re(oe,An.node());on=ln.width+2*O,yn=ln.height+2*O}else An.remove(),Ot.select("rect").remove();Ot.select("path").style({fill:Jt,stroke:en});var wn=Tt.xa._offset+(Tt.x0+Tt.x1)/2,Cn=Tt.ya._offset+(Tt.y0+Tt.y1)/2,Ln=Math.abs(Tt.x1-Tt.x0),Sn=Math.abs(Tt.y1-Tt.y0),qn=re(oe,Hn.node()),kn=qn.width/le._invScaleX,Zn=qn.height/le._invScaleY;Tt.ty0=(De-qn.top)/le._invScaleY,Tt.bx=kn+2*O,Tt.by=Math.max(Zn+2*O,yn),Tt.anchor="start",Tt.txwidth=kn,Tt.tx2width=on,Tt.offset=0;var fr,er,nr=(kn+p+O+on)*le._invScaleX;if(de)Tt.pos=wn,fr=Cn+Sn/2+nr<=Ge,er=Cn-Sn/2-nr>=0,"top"!==Tt.idealAlign&&fr||!er?fr?(Cn+=Sn/2,Tt.anchor="start"):Tt.anchor="middle":(Cn-=Sn/2,Tt.anchor="end"),Tt.crossPos=Cn;else{if(Tt.pos=Cn,fr=wn+Ln/2+nr<=Ue,er=wn-Ln/2-nr>=0,"left"!==Tt.idealAlign&&fr||!er)if(fr)wn+=Ln/2,Tt.anchor="start";else{Tt.anchor="middle";var mr=nr/2,dr=wn+mr-Ue,Ir=wn-mr;dr>0&&(wn-=dr),Ir<0&&(wn+=-Ir)}else wn-=Ln/2,Tt.anchor="end";Tt.crossPos=wn}Hn.attr("text-anchor",Tt.anchor),on&&An.attr("text-anchor",Tt.anchor),Ot.attr("transform",M(wn,Cn)+(de?v(g):""))}),{hoverLabels:bt,commonLabelBoundingBox:Je}}function j(Q,ee,oe,le,ue,de){var he="",we="";void 0!==Q.nameOverride&&(Q.name=Q.nameOverride),Q.name&&(Q.trace._meta&&(Q.name=S.templateString(Q.name,Q.trace._meta)),he=G(Q.name,Q.nameLength));var Ae=oe.charAt(0);void 0!==Q.zLabel?(void 0!==Q.xLabel&&(we+="x: "+Q.xLabel+"<br>"),void 0!==Q.yLabel&&(we+="y: "+Q.yLabel+"<br>"),"choropleth"!==Q.trace.type&&"choroplethmapbox"!==Q.trace.type&&(we+=(we?"z: ":"")+Q.zLabel)):ee&&Q[Ae+"Label"]===ue?we=Q[("x"===Ae?"y":"x")+"Label"]||"":void 0===Q.xLabel?void 0!==Q.yLabel&&"scattercarpet"!==Q.trace.type&&(we=Q.yLabel):we=void 0===Q.yLabel?Q.xLabel:"("+Q.xLabel+", "+Q.yLabel+")",!Q.text&&0!==Q.text||Array.isArray(Q.text)||(we+=(we?"<br>":"")+Q.text),void 0!==Q.extraText&&(we+=(we?"<br>":"")+Q.extraText),de&&""===we&&!Q.hovertemplate&&(""===he&&de.remove(),we=he);var ve=Q.hovertemplate||!1;if(ve){var xe=Q.hovertemplateLabels||Q;Q[Ae+"Label"]!==ue&&(xe[Ae+"other"]=xe[Ae+"Val"],xe[Ae+"otherLabel"]=xe[Ae+"Label"]),we=(we=S.hovertemplateString(ve,xe,le._d3locale,Q.eventData[0]||{},Q.trace._meta)).replace(R,function(Fe,Se){return he=G(Se,Q.nameLength),""})}return[we,he]}function X(Q,ee){var oe=0,le=Q.offset;return ee&&(le*=-A,oe=Q.offset*b),{x:oe,y:le}}function F(Q,ee,oe,le){var ue=function(he){return he*oe},de=function(he){return he*le};Q.each(function(he){var we=D.select(this);if(he.del)return we.remove();var Ae,Te,ve,xe,Fe=we.select("text.nums"),Se=he.anchor,ke="end"===Se?-1:1,pe=(xe=(ve=(Te={start:1,end:-1,middle:0}[(Ae=he).anchor])*(p+O))+Te*(Ae.txwidth+O),"middle"===Ae.anchor&&(ve-=Ae.tx2width/2,xe+=Ae.txwidth/2+O),{alignShift:Te,textShiftX:ve,text2ShiftX:xe}),fe=X(he,ee),be=fe.x,Le=fe.y,Oe="middle"===Se;we.select("path").attr("d",Oe?"M-"+ue(he.bx/2+he.tx2width/2)+","+de(Le-he.by/2)+"h"+ue(he.bx)+"v"+de(he.by)+"h-"+ue(he.bx)+"Z":"M0,0L"+ue(ke*p+be)+","+de(p+Le)+"v"+de(he.by/2-p)+"h"+ue(ke*he.bx)+"v-"+de(he.by)+"H"+ue(ke*p+be)+"V"+de(Le-p)+"Z");var De=be+pe.textShiftX,Ue=Le+he.ty0-he.by/2+O,Ge=he.textAlign||"auto";"auto"!==Ge&&("left"===Ge&&"start"!==Se?(Fe.attr("text-anchor","start"),De=Oe?-he.bx/2-he.tx2width/2+O:-he.bx-O):"right"===Ge&&"end"!==Se&&(Fe.attr("text-anchor","end"),De=Oe?he.bx/2-he.tx2width/2-O:he.bx+O)),Fe.call(i.positionText,ue(De),de(Ue)),he.tx2width&&(we.select("text.name").call(i.positionText,ue(pe.text2ShiftX+pe.alignShift*O+be),de(Le+he.ty0-he.by/2+O)),we.select("rect").call(a.setRect,ue(pe.text2ShiftX+(pe.alignShift-1)*he.tx2width/2+be),de(Le-he.by/2-1),ue(he.tx2width),de(he.by+2)))})}function Z(Q,ee){var oe=Q.index,le=Q.trace||{},ue=Q.cd[0],de=Q.cd[oe]||{};function he(Fe){return Fe||E(Fe)&&0===Fe}var we=Array.isArray(oe)?function(Fe,Se){var ke=S.castOption(ue,oe,Fe);return he(ke)?ke:S.extractOption({},le,"",Se)}:function(Fe,Se){return S.extractOption(de,le,Fe,Se)};function Ae(Fe,Se,ke){var pe=we(Se,ke);he(pe)&&(Q[Fe]=pe)}if(Ae("hoverinfo","hi","hoverinfo"),Ae("bgcolor","hbg","hoverlabel.bgcolor"),Ae("borderColor","hbc","hoverlabel.bordercolor"),Ae("fontFamily","htf","hoverlabel.font.family"),Ae("fontSize","hts","hoverlabel.font.size"),Ae("fontColor","htc","hoverlabel.font.color"),Ae("nameLength","hnl","hoverlabel.namelength"),Ae("textAlign","hta","hoverlabel.align"),Q.posref="y"===ee||"closest"===ee&&"h"===le.orientation?Q.xa._offset+(Q.x0+Q.x1)/2:Q.ya._offset+(Q.y0+Q.y1)/2,Q.x0=S.constrain(Q.x0,0,Q.xa._length),Q.x1=S.constrain(Q.x1,0,Q.xa._length),Q.y0=S.constrain(Q.y0,0,Q.ya._length),Q.y1=S.constrain(Q.y1,0,Q.ya._length),void 0!==Q.xLabelVal&&(Q.xLabel="xLabel"in Q?Q.xLabel:u.hoverLabelText(Q.xa,Q.xLabelVal,le.xhoverformat),Q.xVal=Q.xa.c2d(Q.xLabelVal)),void 0!==Q.yLabelVal&&(Q.yLabel="yLabel"in Q?Q.yLabel:u.hoverLabelText(Q.ya,Q.yLabelVal,le.yhoverformat),Q.yVal=Q.ya.c2d(Q.yLabelVal)),void 0!==Q.zLabelVal&&void 0===Q.zLabel&&(Q.zLabel=String(Q.zLabelVal)),!(isNaN(Q.xerr)||"log"===Q.xa.type&&Q.xerr<=0)){var Te=u.tickText(Q.xa,Q.xa.c2l(Q.xerr),"hover").text;Q.xLabel+=void 0!==Q.xerrneg?" +"+Te+" / -"+u.tickText(Q.xa,Q.xa.c2l(Q.xerrneg),"hover").text:" \xb1 "+Te,"x"===ee&&(Q.distance+=1)}if(!(isNaN(Q.yerr)||"log"===Q.ya.type&&Q.yerr<=0)){var ve=u.tickText(Q.ya,Q.ya.c2l(Q.yerr),"hover").text;Q.yLabel+=void 0!==Q.yerrneg?" +"+ve+" / -"+u.tickText(Q.ya,Q.ya.c2l(Q.yerrneg),"hover").text:" \xb1 "+ve,"y"===ee&&(Q.distance+=1)}var xe=Q.hoverinfo||Q.trace.hoverinfo;return xe&&"all"!==xe&&(-1===(xe=Array.isArray(xe)?xe:xe.split("+")).indexOf("x")&&(Q.xLabel=void 0),-1===xe.indexOf("y")&&(Q.yLabel=void 0),-1===xe.indexOf("z")&&(Q.zLabel=void 0),-1===xe.indexOf("text")&&(Q.text=void 0),-1===xe.indexOf("name")&&(Q.name=void 0)),Q}function W(Q,ee,oe){var le,ue,de=oe.container,he=oe.fullLayout,we=he._size,Ae=oe.event,Te=!!ee.hLinePoint,ve=!!ee.vLinePoint;if(de.selectAll(".spikeline").remove(),ve||Te){var xe=o.combine(he.plot_bgcolor,he.paper_bgcolor);if(Te){var Fe,Se,ke=ee.hLinePoint;le=ke&&ke.xa,"cursor"===(ue=ke&&ke.ya).spikesnap?(Fe=Ae.pointerX,Se=Ae.pointerY):(Fe=le._offset+ke.x,Se=ue._offset+ke.y);var pe,fe,be=f.readability(ke.color,xe)<1.5?o.contrast(xe):ke.color,Le=ue.spikemode,Oe=ue.spikethickness,De=ue.spikecolor||be,Ue=u.getPxPosition(Q,ue);if(-1!==Le.indexOf("toaxis")||-1!==Le.indexOf("across")){if(-1!==Le.indexOf("toaxis")&&(pe=Ue,fe=Fe),-1!==Le.indexOf("across")){var Ge=ue._counterDomainMin,ye=ue._counterDomainMax;"free"===ue.anchor&&(Ge=Math.min(Ge,ue.position),ye=Math.max(ye,ue.position)),pe=we.l+Ge*we.w,fe=we.l+ye*we.w}de.insert("line",":first-child").attr({x1:pe,x2:fe,y1:Se,y2:Se,"stroke-width":Oe,stroke:De,"stroke-dasharray":a.dashStyle(ue.spikedash,Oe)}).classed("spikeline",!0).classed("crisp",!0),de.insert("line",":first-child").attr({x1:pe,x2:fe,y1:Se,y2:Se,"stroke-width":Oe+2,stroke:xe}).classed("spikeline",!0).classed("crisp",!0)}-1!==Le.indexOf("marker")&&de.insert("circle",":first-child").attr({cx:Ue+("right"!==ue.side?Oe:-Oe),cy:Se,r:Oe,fill:De}).classed("spikeline",!0)}if(ve){var Ie,Ee,Be=ee.vLinePoint;ue=Be&&Be.ya,"cursor"===(le=Be&&Be.xa).spikesnap?(Ie=Ae.pointerX,Ee=Ae.pointerY):(Ie=le._offset+Be.x,Ee=ue._offset+Be.y);var We,He,Je=f.readability(Be.color,xe)<1.5?o.contrast(xe):Be.color,et=le.spikemode,at=le.spikethickness,mt=le.spikecolor||Je,ct=u.getPxPosition(Q,le);if(-1!==et.indexOf("toaxis")||-1!==et.indexOf("across")){if(-1!==et.indexOf("toaxis")&&(We=ct,He=Ee),-1!==et.indexOf("across")){var St=le._counterDomainMin,Dt=le._counterDomainMax;"free"===le.anchor&&(St=Math.min(St,le.position),Dt=Math.max(Dt,le.position)),We=we.t+(1-Dt)*we.h,He=we.t+(1-St)*we.h}de.insert("line",":first-child").attr({x1:Ie,x2:Ie,y1:We,y2:He,"stroke-width":at,stroke:mt,"stroke-dasharray":a.dashStyle(le.spikedash,at)}).classed("spikeline",!0).classed("crisp",!0),de.insert("line",":first-child").attr({x1:Ie,x2:Ie,y1:We,y2:He,"stroke-width":at+2,stroke:xe}).classed("spikeline",!0).classed("crisp",!0)}-1!==et.indexOf("marker")&&de.insert("circle",":first-child").attr({cx:Ie,cy:ct-("top"!==le.side?at:-at),r:at,fill:mt}).classed("spikeline",!0)}}}function H(Q,ee){return!ee||ee.vLinePoint!==Q._spikepoints.vLinePoint||ee.hLinePoint!==Q._spikepoints.hLinePoint}function G(Q,ee){return i.plainText(Q||"",{len:ee,allowedTags:["br","sub","sup","b","i","em"]})}function Y(Q,ee,oe){var le=ee[Q+"a"],ue=ee[Q+"Val"],de=ee.cd[0];if("category"===le.type||"multicategory"===le.type)ue=le._categoriesMap[ue];else if("date"===le.type){var he=ee.trace[Q+"periodalignment"];if(he){var we=ee.cd[ee.index],Ae=we[Q+"Start"];void 0===Ae&&(Ae=we[Q]);var Te=we[Q+"End"];void 0===Te&&(Te=we[Q]);var ve=Te-Ae;"end"===he?ue+=ve:"middle"===he&&(ue+=ve/2)}ue=le.d2c(ue)}return de&&de.t&&de.t.posLetter===le._id&&("group"!==oe.boxmode&&"group"!==oe.violinmode||(ue+=de.t.dPos)),ue}function se(Q){return Q.offsetTop+Q.clientTop}function te(Q){return Q.offsetLeft+Q.clientLeft}function re(Q,ee){var oe=Q._fullLayout,le=ee.getBoundingClientRect(),ue=le.left,de=le.top,he=ue+le.width,we=de+le.height,Ae=S.apply3DTransform(oe._invTransform)(ue,de),Te=S.apply3DTransform(oe._invTransform)(he,we),ve=Ae[0],xe=Ae[1],Fe=Te[0],Se=Te[1];return{x:ve,y:xe,width:Fe-ve,height:Se-xe,top:Math.min(xe,Se),left:Math.min(ve,Fe),right:Math.max(ve,Fe),bottom:Math.max(xe,Se)}}},38048:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(23469).isUnifiedHover;ae.exports=function(S,M,v,c){c=c||{};var i=M.legend;function s(a){c.font[a]||(c.font[a]=i?M.legend.font[a]:M.font[a])}M&&f(M.hovermode)&&(c.font||(c.font={}),s("size"),s("family"),s("color"),i?(c.bgcolor||(c.bgcolor=E.combine(M.legend.bgcolor,M.paper_bgcolor)),c.bordercolor||(c.bordercolor=M.legend.bordercolor)):c.bgcolor||(c.bgcolor=M.paper_bgcolor)),v("hoverlabel.bgcolor",c.bgcolor),v("hoverlabel.bordercolor",c.bordercolor),v("hoverlabel.namelength",c.namelength),D.coerceFont(v,"hoverlabel.font",c.font),v("hoverlabel.align",c.align)}},98212:function(ae,B,r){"use strict";var D=r(71828),E=r(528);ae.exports=function(f,S){function M(v,c){return void 0!==S[v]?S[v]:D.coerce(f,S,E,v,c)}return M("clickmode"),M("hovermode")}},30211:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(28569),S=r(23469),M=r(528),v=r(88335);ae.exports={moduleType:"component",name:"fx",constants:r(26675),schema:{layout:M},attributes:r(77914),layoutAttributes:M,supplyLayoutGlobalDefaults:r(22774),supplyDefaults:r(54268),supplyLayoutDefaults:r(34938),calc:r(30732),getDistanceFunction:S.getDistanceFunction,getClosest:S.getClosest,inbox:S.inbox,quadrature:S.quadrature,appendArrayPointValue:S.appendArrayPointValue,castHoverOption:function(c,i,s){return E.castOption(c,i,"hoverlabel."+s)},castHoverinfo:function(c,i,s){return E.castOption(c,s,"hoverinfo",function(a){return E.coerceHoverinfo({hoverinfo:a},{_module:c._module},i)})},hover:v.hover,unhover:f.unhover,loneHover:v.loneHover,loneUnhover:function(c){var i=E.isD3Selection(c)?c:D.select(c);i.selectAll("g.hovertext").remove(),i.selectAll(".spikeline").remove()},click:r(75914)}},528:function(ae,B,r){"use strict";var D=r(26675),E=r(41940),f=E({editType:"none"});f.family.dflt=D.HOVERFONT,f.size.dflt=D.HOVERFONTSIZE,ae.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:f,grouptitlefont:E({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(ae,B,r){"use strict";var D=r(71828),E=r(528),f=r(98212),S=r(38048);ae.exports=function(M,v){function c(o,l){return D.coerce(M,v,E,o,l)}f(M,v)&&(c("hoverdistance"),c("spikedistance")),"select"===c("dragmode")&&c("selectdirection");var i=v._has("mapbox"),s=v._has("geo"),a=v._basePlotModules.length;"zoom"===v.dragmode&&((i||s)&&1===a||i&&s&&2===a)&&(v.dragmode="pan"),S(M,v,c),D.coerceFont(c,"hoverlabel.grouptitlefont",v.hoverlabel.font)}},22774:function(ae,B,r){"use strict";var D=r(71828),E=r(38048),f=r(528);ae.exports=function(S,M){E(S,M,function(v,c){return D.coerce(S,M,f,v,c)})}},83312:function(ae,B,r){"use strict";var D=r(71828),E=r(30587).counter,f=r(27670).Y,S=r(85555).idRegex,M=r(44467),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[E("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[S.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[S.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:f({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function c(a,o,l){var u=o[l+"axes"],d=Object.keys((a._splomAxes||{})[l]||{});return Array.isArray(u)?u:d.length?d:void 0}function i(a,o,l,u,d,m){var h=o(a+"gap",l),T=o("domain."+a);o(a+"side",u);for(var _=new Array(d),g=T[0],w=(T[1]-g)/(d-h),x=w*(1-h),b=0;b<d;b++){var A=g+w*b;_[m?d-1-b:b]=[A,A+x]}return _}function s(a,o,l,u,d){var m,h=new Array(l);function T(_,g){-1!==o.indexOf(g)&&void 0===u[g]?(h[_]=g,u[g]=_):h[_]=""}if(Array.isArray(a))for(m=0;m<l;m++)T(m,a[m]);else for(T(0,d),m=1;m<l;m++)T(m,d+(m+1));return h}ae.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:function(a,o){var l=a.grid||{},u=c(o,l,"x"),d=c(o,l,"y");if(a.grid||u||d){var m,h,T=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),_=Array.isArray(u),g=Array.isArray(d),w=_&&u!==l.xaxes&&g&&d!==l.yaxes;T?(m=l.subplots.length,h=l.subplots[0].length):(g&&(m=d.length),_&&(h=u.length));var x=M.newContainer(o,"grid"),b=R("rows",m),A=R("columns",h);if(b*A>1){T||_||g||"independent"===R("pattern")&&(T=!0),x._hasSubplotGrid=T;var p,O,k="top to bottom"===R("roworder"),P=T?.3:.1;w&&o._splomGridDflt&&(p=o._splomGridDflt.xside,O=o._splomGridDflt.yside),x._domains={x:i("x",R,T?.2:.1,p,A),y:i("y",R,P,O,b,k)}}else delete o.grid}function R(N,j){return D.coerce(l,x,v,N,j)}},contentDefaults:function(a,o){var l=o.grid;if(l&&l._domains){var u,d,m,h,T,_,g,w=a.grid||{},x=o._subplots,b=l._hasSubplotGrid,A=l.rows,p=l.columns,O="independent"===l.pattern,k=l._axisMap={};if(b){var I=w.subplots||[];_=l.subplots=new Array(A);var P=1;for(u=0;u<A;u++){var R=_[u]=new Array(p),N=I[u]||[];for(d=0;d<p;d++)if(O?(T=1===P?"xy":"x"+P+"y"+P,P++):T=N[d],R[d]="",-1!==x.cartesian.indexOf(T)){if(g=T.indexOf("y"),m=T.slice(0,g),h=T.slice(g),void 0!==k[m]&&k[m]!==d||void 0!==k[h]&&k[h]!==u)continue;R[d]=T,k[m]=d,k[h]=u}}}else{var j=c(o,w,"x"),X=c(o,w,"y");l.xaxes=s(j,x.xaxis,p,k,"x"),l.yaxes=s(X,x.yaxis,A,k,"y")}var F=l._anchors={},Z="top to bottom"===l.roworder;for(var W in k){var H,G,Y,se=W.charAt(0),te=l[se+"side"];if(te.length<8)F[W]="free";else if("x"===se){if("t"===te.charAt(0)===Z?(H=0,G=1,Y=A):(H=A-1,G=-1,Y=-1),b){var re=k[W];for(u=H;u!==Y;u+=G)if((T=_[u][re])&&(g=T.indexOf("y"),T.slice(0,g)===W)){F[W]=T.slice(g);break}}else for(u=H;u!==Y;u+=G)if(-1!==x.cartesian.indexOf(W+(h=l.yaxes[u]))){F[W]=h;break}}else if("l"===te.charAt(0)?(H=0,G=1,Y=p):(H=p-1,G=-1,Y=-1),b){var Q=k[W];for(u=H;u!==Y;u+=G)if((T=_[Q][u])&&(g=T.indexOf("y"),T.slice(g)===W)){F[W]=T.slice(0,g);break}}else for(u=H;u!==Y;u+=G)if(-1!==x.cartesian.indexOf((m=l.xaxes[u])+W)){F[W]=m;break}}}}}},69819:function(ae,B,r){"use strict";var D=r(85555),E=r(44467).templatedArray;r(24695),ae.exports=E("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",D.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",D.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(ae,B,r){"use strict";var D=r(92770),E=r(58163);ae.exports=function(f,S,M,v){S=S||{};var c="log"===M&&"linear"===S.type;if(c||"linear"===M&&"log"===S.type)for(var s,a,o=f._fullLayout.images,l=S._id.charAt(0),u=0;u<o.length;u++)if(a="images["+u+"].",(s=o[u])[l+"ref"]===S._id){var d=s[l],m=s["size"+l],h=null,T=null;if(c){h=E(d,S.range);var _=m/Math.pow(10,h)/2;T=2*Math.log(_+Math.sqrt(1+_*_))/Math.LN10}else T=(h=Math.pow(10,d))*(Math.pow(10,m/2)-Math.pow(10,-m/2));D(h)?D(T)||(T=null):(h=null,T=null),v(a+l,h),v(a+"size"+l,T)}}},81603:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(85501),S=r(69819);function M(v,c,i){function s(h,T){return D.coerce(v,c,S,h,T)}var a=s("source");if(!s("visible",!!a))return c;s("layer"),s("xanchor"),s("yanchor"),s("sizex"),s("sizey"),s("sizing"),s("opacity");for(var o={_fullLayout:i},l=["x","y"],u=0;u<2;u++){var d=l[u],m=E.coerceRef(v,c,o,d,"paper",void 0);"paper"!==m&&E.getFromId(o,m)._imgIndices.push(c._index),E.coercePosition(c,o,s,m,d,0)}return c}ae.exports=function(v,c){f(v,c,{name:"images",handleItemDefaults:M})}},80750:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(89298),S=r(41675),M=r(77922);ae.exports=function(v){var c,i,s=v._fullLayout,a=[],o={},l=[];for(i=0;i<s.images.length;i++){var u=s.images[i];if(u.visible)if("below"===u.layer&&"paper"!==u.xref&&"paper"!==u.yref){c=S.ref2id(u.xref)+S.ref2id(u.yref);var d=s._plots[c];if(!d){l.push(u);continue}d.mainplot&&(c=d.mainplot.id),o[c]||(o[c]=[]),o[c].push(u)}else"above"===u.layer?a.push(u):l.push(u)}var m={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},h={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function T(p){var O=D.select(this);if(this._imgSrc!==p.source)if(O.attr("xmlns",M.svg),p.source&&"data:"===p.source.slice(0,5))O.attr("xlink:href",p.source),this._imgSrc=p.source;else{var k=new Promise(function(I){var P=new Image;function R(){O.remove(),I()}this.img=P,P.setAttribute("crossOrigin","anonymous"),P.onerror=R,P.onload=function(){var N=document.createElement("canvas");N.width=this.width,N.height=this.height,N.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var j=N.toDataURL("image/png");O.attr("xlink:href",j),I()},O.on("error",R),P.src=p.source,this._imgSrc=p.source}.bind(this));v._promises.push(k)}}function _(p){var O,k,I=D.select(this),P=f.getFromId(v,p.xref),R=f.getFromId(v,p.yref),N="domain"===f.getRefType(p.xref),j="domain"===f.getRefType(p.yref),X=s._size;O=void 0!==P?"string"==typeof p.xref&&N?P._length*p.sizex:Math.abs(P.l2p(p.sizex)-P.l2p(0)):p.sizex*X.w,k=void 0!==R?"string"==typeof p.yref&&j?R._length*p.sizey:Math.abs(R.l2p(p.sizey)-R.l2p(0)):p.sizey*X.h;var F,Z,W=O*m[p.xanchor].offset,H=k*h[p.yanchor].offset,G=m[p.xanchor].sizing+h[p.yanchor].sizing;switch(F=void 0!==P?"string"==typeof p.xref&&N?P._length*p.x+P._offset:P.r2p(p.x)+P._offset:p.x*X.w+X.l,F+=W,Z=void 0!==R?"string"==typeof p.yref&&j?R._length*(1-p.y)+R._offset:R.r2p(p.y)+R._offset:X.h-p.y*X.h+X.t,Z+=H,p.sizing){case"fill":G+=" slice";break;case"stretch":G="none"}I.attr({x:F,y:Z,width:O,height:k,preserveAspectRatio:G,opacity:p.opacity});var Y=(P&&"domain"!==f.getRefType(p.xref)?P._id:"")+(R&&"domain"!==f.getRefType(p.yref)?R._id:"");E.setClipUrl(I,Y?"clip"+s._uid+Y:null,v)}var g=s._imageLowerLayer.selectAll("image").data(l),w=s._imageUpperLayer.selectAll("image").data(a);g.enter().append("image"),w.enter().append("image"),g.exit().remove(),w.exit().remove(),g.each(function(p){T.bind(this)(p),_.bind(this)(p)}),w.each(function(p){T.bind(this)(p),_.bind(this)(p)});var x=Object.keys(s._plots);for(i=0;i<x.length;i++){var b=s._plots[c=x[i]];if(b.imagelayer){var A=b.imagelayer.selectAll("image").data(o[c]||[]);A.enter().append("image"),A.exit().remove(),A.each(function(p){T.bind(this)(p),_.bind(this)(p)})}}}},68804:function(ae,B,r){"use strict";ae.exports={moduleType:"component",name:"images",layoutAttributes:r(69819),supplyLayoutDefaults:r(81603),includeBasePlot:r(76325)("images"),draw:r(80750),convertCoords:r(75378)}},33030:function(ae,B,r){"use strict";var D=r(41940),E=r(22399);ae.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:E.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:D({editType:"legend"}),grouptitlefont:D({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:D({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(ae){"use strict";ae.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(44467),S=r(9012),M=r(33030),v=r(10820),c=r(10130);function i(s,a,o,l){var u=a[s]||{},d=f.newContainer(o,s);function m(G,Y){return E.coerce(u,d,M,G,Y)}var h=E.coerceFont(m,"font",o.font);if(m("bgcolor",o.paper_bgcolor),m("bordercolor"),m("visible")){for(var T,_=function(G,Y){return E.coerce(T._input,T,S,G,Y)},g=o.font||{},w=E.coerceFont(m,"grouptitlefont",E.extendFlat({},g,{size:Math.round(1.1*g.size)})),x=0,b=!1,A="normal",p=(o.shapes||[]).filter(function(G){return G.showlegend}),O=l.concat(p).filter(function(G){return s===(G.legend||"legend")}),k=0;k<O.length;k++)if((T=O[k]).visible){var I=T._isShape;(T.showlegend||T._dfltShowLegend&&!(T._module&&T._module.attributes&&T._module.attributes.showlegend&&!1===T._module.attributes.showlegend.dflt))&&(x++,T.showlegend&&(b=!0,(!I&&D.traceIs(T,"pie-like")||!0===T._input.showlegend)&&x++),E.coerceFont(_,"legendgrouptitle.font",w)),(!I&&D.traceIs(T,"bar")&&"stack"===o.barmode||-1!==["tonextx","tonexty"].indexOf(T.fill))&&(A=c.isGrouped({traceorder:A})?"grouped+reversed":"reversed"),void 0!==T.legendgroup&&""!==T.legendgroup&&(A=c.isReversed({traceorder:A})?"reversed+grouped":"grouped")}var P=E.coerce(a,o,v,"showlegend",b&&x>("legend"===s?1:0));if(!1===P&&(o[s]=void 0),(!1!==P||u.uirevision)&&(m("uirevision",o.uirevision),!1!==P)){m("borderwidth");var R,N,j,X="h"===m("orientation"),F="paper"===m("yref"),Z="paper"===m("xref"),W="left";if(X?(R=0,D.getComponentMethod("rangeslider","isVisible")(a.xaxis)?F?(N=1.1,j="bottom"):(N=1,j="top"):F?(N=-.1,j="top"):(N=0,j="bottom")):(N=1,j="auto",Z?R=1.02:(R=1,W="right")),E.coerce(u,d,{x:{valType:"number",editType:"legend",min:Z?-2:0,max:Z?3:1,dflt:R}},"x"),E.coerce(u,d,{y:{valType:"number",editType:"legend",min:F?-2:0,max:F?3:1,dflt:N}},"y"),m("traceorder",A),c.isGrouped(o[s])&&m("tracegroupgap"),m("entrywidth"),m("entrywidthmode"),m("itemsizing"),m("itemwidth"),m("itemclick"),m("itemdoubleclick"),m("groupclick"),m("xanchor",W),m("yanchor",j),m("valign"),E.noneOrAll(u,d,["x","y"]),m("title.text")){m("title.side",X?"left":"top");var H=E.extendFlat({},h,{size:E.bigFont(h.size)});E.coerceFont(m,"title.font",H)}}}}ae.exports=function(s,a,o){var l,u=o.slice(),d=a.shapes;if(d)for(l=0;l<d.length;l++){var m=d[l];m.showlegend&&u.push({_input:m._input,visible:m.visible,showlegend:m.showlegend,legend:m.legend})}var T=["legend"];for(l=0;l<u.length;l++)E.pushUnique(T,u[l].legend);for(a._legends=[],l=0;l<T.length;l++){var _=T[l];i(_,s,a,u),a[_]&&a[_].visible&&(a[_]._id=_),a._legends.push(_)}}},43969:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(74875),S=r(73972),M=r(11086),v=r(28569),c=r(91424),i=r(7901),s=r(63893),a=r(85167),o=r(14928),l=r(18783),u=l.LINE_SPACING,d=l.FROM_TL,m=l.FROM_BR,h=r(82424),T=r(53630),_=r(10130),g=1,w=/^legend[0-9]*$/;function x(j,X){var F,Z,W=X||{},H=j._fullLayout,G=N(W),Y=W._inHover;if(Y?(Z=W.layer,F="hover"):(Z=H._infolayer,F=G),Z){var se;if(F+=H._uid,j._legendMouseDownTime||(j._legendMouseDownTime=0),Y){if(!W.entries)return;se=h(W.entries,W)}else{for(var te=(j.calcdata||[]).slice(),re=H.shapes,Q=0;Q<re.length;Q++){var ee=re[Q];ee.showlegend&&te.push([{trace:{_isShape:!0,_fullInput:ee,index:ee._index,name:ee.name||ee.label.text||"shape "+ee._index,legend:ee.legend,legendgroup:ee.legendgroup,legendgrouptitle:ee.legendgrouptitle,legendrank:ee.legendrank,legendwidth:ee.legendwidth,showlegend:ee.showlegend,visible:ee.visible,opacity:ee.opacity,mode:"line"===ee.type?"lines":"markers",line:ee.line,marker:{line:ee.line,color:ee.fillcolor,size:12,symbol:"rect"===ee.type?"square":"circle"===ee.type?"circle":"hexagon2"}}}])}se=H.showlegend&&h(te,W,H._legends.length>1)}var le=H.hiddenlabels||[];if(!(Y||H.showlegend&&se.length))return Z.selectAll("."+G).remove(),H._topdefs.select("#"+F).remove(),f.autoMargin(j,G);var ue=E.ensureSingle(Z,"g",G,function(Se){Y||Se.attr("pointer-events","all")}),de=E.ensureSingleById(H._topdefs,"clipPath",F,function(Se){Se.append("rect")}),he=E.ensureSingle(ue,"rect","bg",function(Se){Se.attr("shape-rendering","crispEdges")});he.call(i.stroke,W.bordercolor).call(i.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px");var we,Ae=E.ensureSingle(ue,"g","scrollbox"),Te=W.title;W._titleWidth=0,W._titleHeight=0,Te.text?((we=E.ensureSingle(Ae,"text",G+"titletext")).attr("text-anchor","start").call(c.font,Te.font).text(Te.text),I(we,Ae,j,W,g)):Ae.selectAll("."+G+"titletext").remove();var ve=E.ensureSingle(ue,"rect","scrollbar",function(Se){Se.attr(o.scrollBarEnterAttrs).call(i.fill,o.scrollBarColor)}),xe=Ae.selectAll("g.groups").data(se);xe.enter().append("g").attr("class","groups"),xe.exit().remove();var Fe=xe.selectAll("g.traces").data(E.identity);Fe.enter().append("g").attr("class","traces"),Fe.exit().remove(),Fe.style("opacity",function(Se){var ke=Se[0].trace;return S.traceIs(ke,"pie-like")?-1!==le.indexOf(Se[0].label)?.5:1:"legendonly"===ke.visible?.5:1}).each(function(){D.select(this).call(p,j,W)}).call(T,j,W).each(function(){Y||D.select(this).call(k,j,G)}),E.syncOrAsync([f.previousPromises,function(){return function(Se,ke,pe,fe){var be=Se._fullLayout,Le=N(fe);fe||(fe=be[Le]);var Oe=be._size,De=_.isVertical(fe),Ue=_.isGrouped(fe),Ge="fraction"===fe.entrywidthmode,ye=fe.borderwidth,Ie=2*ye,Ee=o.itemGap,Be=fe.itemwidth+2*Ee,We=2*(ye+Ee),He=R(fe),Je=fe.y<0||0===fe.y&&"top"===He,et=fe.y>1||1===fe.y&&"bottom"===He,at=fe.tracegroupgap,mt={};fe._maxHeight=Math.max(Je||et?be.height/2:Oe.h,30);var ct=0;fe._width=0,fe._height=0;var wt,kt,_t,Rt,St=(kt=0,_t=0,(Rt=(wt=fe).title.side)&&(-1!==Rt.indexOf("left")&&(kt=wt._titleWidth),-1!==Rt.indexOf("top")&&(_t=wt._titleHeight)),[kt,_t]);if(De)pe.each(function(wt){var kt=wt[0].height;c.setTranslate(this,ye+St[0],ye+St[1]+fe._height+kt/2+Ee),fe._height+=kt,fe._width=Math.max(fe._width,wt[0].width)}),ct=Be+fe._width,fe._width+=Ee+Be+Ie,fe._height+=We,Ue&&(ke.each(function(wt,kt){c.setTranslate(this,0,kt*fe.tracegroupgap)}),fe._height+=(fe._lgroupsLength-1)*fe.tracegroupgap);else{var Dt=P(fe),pt=et||Je,Pt=be.width/2;fe._maxWidth=Math.max(fe.x<0||0===fe.x&&"right"===Dt?pt&&"left"===Dt?Oe.l+Oe.w:Pt:fe.x>1||1===fe.x&&"left"===Dt?pt&&"right"===Dt?Oe.r+Oe.w:Pt:Oe.w,2*Be);var Ft=0,Ht=0;pe.each(function(wt){var kt=b(wt,fe,Be);Ft=Math.max(Ft,kt),Ht+=kt}),ct=null;var Lt=0;if(Ue){var tt=0,rt=0,Ke=0;ke.each(function(){var wt=0,kt=0;D.select(this).selectAll("g.traces").each(function(Rt){var bt=b(Rt,fe,Be),Tt=Rt[0].height;c.setTranslate(this,St[0],St[1]+ye+Ee+Tt/2+kt),kt+=Tt,wt=Math.max(wt,bt),mt[Rt[0].trace.legendgroup]=wt});var _t=wt+Ee;rt>0&&_t+ye+rt>fe._maxWidth?(Lt=Math.max(Lt,rt),rt=0,Ke+=tt+at,tt=kt):tt=Math.max(tt,kt),c.setTranslate(this,rt,Ke),rt+=_t}),fe._width=Math.max(Lt,rt)+ye,fe._height=Ke+tt+We}else{var it=pe.size(),gt=Ht+Ie+(it-1)*Ee<fe._maxWidth,ft=0,Ve=0,qe=0,dt=0;pe.each(function(wt){var kt=wt[0].height,_t=b(wt,fe,Be),Rt=gt?_t:Ft;Ge||(Rt+=Ee),Rt+ye+Ve-Ee>=fe._maxWidth&&(Lt=Math.max(Lt,dt),Ve=0,qe+=ft,fe._height+=ft,ft=0),c.setTranslate(this,St[0]+ye+Ve,St[1]+ye+qe+kt/2+Ee),dt=Ve+_t+Ee,Ve+=Rt,ft=Math.max(ft,kt)}),gt?(fe._width=Ve+Ie,fe._height=ft+We):(fe._width=Math.max(Lt,dt)+Ie,fe._height+=ft+We)}}fe._width=Math.ceil(Math.max(fe._width+St[0],fe._titleWidth+2*(ye+o.titlePad))),fe._height=Math.ceil(Math.max(fe._height+St[1],fe._titleHeight+2*(ye+o.itemGap))),fe._effHeight=Math.min(fe._height,fe._maxHeight);var ut=Se._context.edits,At=ut.legendText||ut.legendPosition;pe.each(function(wt){var kt=D.select(this).select("."+Le+"toggle"),_t=wt[0].height,Rt=wt[0].trace.legendgroup,bt=b(wt,fe,Be);Ue&&""!==Rt&&(bt=mt[Rt]);var Tt=At?Be:ct||bt;De||Ge||(Tt+=Ee/2),c.setRect(kt,0,-_t/2,Tt,_t)})}(j,xe,Fe,W)},function(){var Se,ke,pe,fe,be=H._size,Le=W.borderwidth,Oe="paper"===W.xref,De="paper"===W.yref;if(Te.text&&function(pt,Pt,Ft){if("top center"===Pt.title.side||"top right"===Pt.title.side){var Ht=Pt.title.font.size*u,Lt=0,tt=pt.node(),rt=c.bBox(tt).width;"top center"===Pt.title.side?Lt=.5*(Pt._width-2*Ft-2*o.titlePad-rt):"top right"===Pt.title.side&&(Lt=Pt._width-2*Ft-2*o.titlePad-rt),s.positionText(pt,Ft+o.titlePad+Lt,Ft+Ht)}}(we,W,Le),!Y){var Ue,Ge;if(Ue=Oe?be.l+be.w*W.x-d[P(W)]*W._width:H.width*W.x-d[P(W)]*W._width,Ge=De?be.t+be.h*(1-W.y)-d[R(W)]*W._effHeight:H.height*(1-W.y)-d[R(W)]*W._effHeight,function(pt,Pt,Ft,Ht){var Lt=pt._fullLayout,tt=Lt[Pt],rt=P(tt),Ke=R(tt),it="paper"===tt.xref,gt="paper"===tt.yref;pt._fullLayout._reservedMargin[Pt]={};var ft=tt.y<.5?"b":"t",Ve=tt.x<.5?"l":"r",qe={r:Lt.width-Ft,l:Ft+tt._width,b:Lt.height-Ht,t:Ht+tt._effHeight};if(it&&gt)return f.autoMargin(pt,Pt,{x:tt.x,y:tt.y,l:tt._width*d[rt],r:tt._width*m[rt],b:tt._effHeight*m[Ke],t:tt._effHeight*d[Ke]});it?pt._fullLayout._reservedMargin[Pt][ft]=qe[ft]:gt||"v"===tt.orientation?pt._fullLayout._reservedMargin[Pt][Ve]=qe[Ve]:pt._fullLayout._reservedMargin[Pt][ft]=qe[ft]}(j,G,Ue,Ge))return;if(H.margin.autoexpand){var Ie=Ue,Ee=Ge;Ue=Oe?E.constrain(Ue,0,H.width-W._width):Ie,Ge=De?E.constrain(Ge,0,H.height-W._effHeight):Ee,Ue!==Ie&&E.log("Constrain "+G+".x to make legend fit inside graph"),Ge!==Ee&&E.log("Constrain "+G+".y to make legend fit inside graph")}c.setTranslate(ue,Ue,Ge)}if(ve.on(".drag",null),ue.on("wheel",null),Y||W._height<=W._maxHeight||j._context.staticPlot){var Be=W._effHeight;Y&&(Be=W._height),he.attr({width:W._width-Le,height:Be-Le,x:Le/2,y:Le/2}),c.setTranslate(Ae,0,0),de.select("rect").attr({width:W._width-2*Le,height:Be-2*Le,x:Le,y:Le}),c.setClipUrl(Ae,F,j),c.setRect(ve,0,0,0,0),delete W._scrollY}else{var We,Je,et=Math.max(o.scrollBarMinHeight,W._effHeight*W._effHeight/W._height),at=W._effHeight-et-2*o.scrollBarMargin,mt=W._height-W._effHeight,ct=at/mt,St=Math.min(W._scrollY||0,mt);he.attr({width:W._width-2*Le+o.scrollBarWidth+o.scrollBarMargin,height:W._effHeight-Le,x:Le/2,y:Le/2}),de.select("rect").attr({width:W._width-2*Le+o.scrollBarWidth+o.scrollBarMargin,height:W._effHeight-2*Le,x:Le,y:Le+St}),c.setClipUrl(Ae,F,j),ht(St,et,ct),ue.on("wheel",function(){ht(St=E.constrain(W._scrollY+D.event.deltaY/at*mt,0,mt),et,ct),0!==St&&St!==mt&&D.event.preventDefault()});var Dt=D.behavior.drag().on("dragstart",function(){var pt=D.event.sourceEvent;We="touchstart"===pt.type?pt.changedTouches[0].clientY:pt.clientY,Je=St}).on("drag",function(){var pt=D.event.sourceEvent;2===pt.buttons||pt.ctrlKey||ht(St=E.constrain((("touchmove"===pt.type?pt.changedTouches[0].clientY:pt.clientY)-We)/ct+Je,0,mt),et,ct)});ve.call(Dt);var Et=D.behavior.drag().on("dragstart",function(){var pt=D.event.sourceEvent;"touchstart"===pt.type&&(We=pt.changedTouches[0].clientY,Je=St)}).on("drag",function(){var pt=D.event.sourceEvent;"touchmove"===pt.type&&ht(St=E.constrain((We-pt.changedTouches[0].clientY)/ct+Je,0,mt),et,ct)});Ae.call(Et)}function ht(pt,Pt,Ft){W._scrollY=j._fullLayout[G]._scrollY=pt,c.setTranslate(Ae,0,-pt),c.setRect(ve,W._width,o.scrollBarMargin+pt*Ft,o.scrollBarWidth,Pt),de.select("rect").attr("y",Le+pt)}j._context.edits.legendPosition&&(ue.classed("cursor-move",!0),v.init({element:ue.node(),gd:j,prepFn:function(){var pt=c.getTranslate(ue);pe=pt.x,fe=pt.y},moveFn:function(pt,Pt){var Ft=pe+pt,Ht=fe+Pt;c.setTranslate(ue,Ft,Ht),Se=v.align(Ft,W._width,be.l,be.l+be.w,W.xanchor),ke=v.align(Ht+W._height,-W._height,be.t+be.h,be.t,W.yanchor)},doneFn:function(){if(void 0!==Se&&void 0!==ke){var pt={};pt[G+".x"]=Se,pt[G+".y"]=ke,S.call("_guiRelayout",j,pt)}},clickFn:function(pt,Pt){var Ft=Z.selectAll("g.traces").filter(function(){var Ht=this.getBoundingClientRect();return Pt.clientX>=Ht.left&&Pt.clientX<=Ht.right&&Pt.clientY>=Ht.top&&Pt.clientY<=Ht.bottom});Ft.size()>0&&A(j,ue,Ft,pt,Pt)}}))}],j)}}function b(j,X,F){var Z=j[0],G=Z.trace.legendwidth||X.entrywidth;return"fraction"===X.entrywidthmode?X._maxWidth*G:F+(G||Z.width)}function A(j,X,F,Z,W){var H=F.data()[0][0].trace,G={event:W,node:F.node(),curveNumber:H.index,expandedIndex:H._expandedIndex,data:j.data,layout:j.layout,frames:j._transitionData._frames,config:j._context,fullData:j._fullData,fullLayout:j._fullLayout};H._group&&(G.group=H._group),S.traceIs(H,"pie-like")&&(G.label=F.datum()[0].label);var Y=M.triggerHandler(j,"plotly_legendclick",G);if(1===Z){if(!1===Y)return;X._clickTimeout=setTimeout(function(){j._fullLayout&&a(F,j,Z)},j._context.doubleClickDelay)}else 2===Z&&(X._clickTimeout&&clearTimeout(X._clickTimeout),j._legendMouseDownTime=0,!1!==M.triggerHandler(j,"plotly_legenddoubleclick",G)&&!1!==Y&&a(F,j,Z))}function p(j,X,F){var Z,W,H=N(F),G=j.data()[0][0],Y=G.trace,se=S.traceIs(Y,"pie-like"),te=!F._inHover&&X._context.edits.legendText&&!se,re=F._maxNameLength;G.groupTitle?(Z=G.groupTitle.text,W=G.groupTitle.font):(W=F.font,F.entries?Z=G.text:(Z=se?G.label:Y.name,Y._meta&&(Z=E.templateString(Z,Y._meta))));var Q=E.ensureSingle(j,"text",H+"text");Q.attr("text-anchor","start").call(c.font,W).text(te?O(Z,re):Z),s.positionText(Q,F.itemwidth+2*o.itemGap,0),te?Q.call(s.makeEditable,{gd:X,text:Z}).call(I,j,X,F).on("edit",function(oe){this.text(O(oe,re)).call(I,j,X,F);var le=G.trace._fullInput||{},ue={};if(S.hasTransform(le,"groupby")){var de=S.getTransformIndices(le,"groupby"),we=E.keyedContainer(le,"transforms["+de[de.length-1]+"].styles","target","value.name");we.set(G.trace._group,oe),ue=we.constructUpdate()}else ue.name=oe;return le._isShape?S.call("_guiRelayout",X,"shapes["+Y.index+"].name",ue.name):S.call("_guiRestyle",X,ue,Y.index)}):I(Q,j,X,F)}function O(j,X){var F=Math.max(4,X);if(j&&j.trim().length>=F/2)return j;for(var Z=F-(j=j||"").length;Z>0;Z--)j+=" ";return j}function k(j,X,F){var Z,W=X._context.doubleClickDelay,H=1,G=E.ensureSingle(j,"rect",F+"toggle",function(Y){X._context.staticPlot||Y.style("cursor","pointer").attr("pointer-events","all"),Y.call(i.fill,"rgba(0,0,0,0)")});X._context.staticPlot||(G.on("mousedown",function(){(Z=(new Date).getTime())-X._legendMouseDownTime<W?H+=1:(H=1,X._legendMouseDownTime=Z)}),G.on("mouseup",function(){if(!X._dragged&&!X._editing){var Y=X._fullLayout[F];(new Date).getTime()-X._legendMouseDownTime>W&&(H=Math.max(H-1,1)),A(X,Y,j,H,D.event)}}))}function I(j,X,F,Z,W){Z._inHover&&j.attr("data-notex",!0),s.convertToTspans(j,F,function(){!function(H,G,Y,se){var te=H.data()[0][0];if(Y._inHover||!te||te.trace.showlegend){var re=H.select("g[class*=math-group]"),Q=re.node(),ee=N(Y);Y||(Y=G._fullLayout[ee]);var oe,le,ue=Y.borderwidth,de=(se===g?Y.title.font:te.groupTitle?te.groupTitle.font:Y.font).size*u;if(Q){var he=c.bBox(Q);oe=he.height,le=he.width,se===g?c.setTranslate(re,ue,ue+.75*oe):c.setTranslate(re,0,.25*oe)}else{var Ae=H.select("."+ee+(se===g?"title":"")+"text"),Te=s.lineCount(Ae),ve=Ae.node();if(oe=de*Te,le=ve?c.bBox(ve).width:0,se===g)"left"===Y.title.side&&(le+=2*o.itemGap),s.positionText(Ae,ue+o.titlePad,ue+de);else{var xe=2*o.itemGap+Y.itemwidth;te.groupTitle&&(xe=o.itemGap,le-=Y.itemwidth),s.positionText(Ae,xe,-de*((Te-1)/2-.3))}}se===g?(Y._titleWidth=le,Y._titleHeight=oe):(te.lineHeight=de,te.height=Math.max(oe,16)+3,te.width=le)}else H.remove()}(X,F,Z,W)})}function P(j){return E.isRightAnchor(j)?"right":E.isCenterAnchor(j)?"center":"left"}function R(j){return E.isBottomAnchor(j)?"bottom":E.isMiddleAnchor(j)?"middle":"top"}function N(j){return j._id||"legend"}ae.exports=function(j,X){if(X)x(j,X);else{var F=j._fullLayout,Z=F._legends;F._infolayer.selectAll('[class^="legend"]').each(function(){var G=D.select(this),Y=G.attr("class").split(" ")[0];Y.match(w)&&-1===Z.indexOf(Y)&&G.remove()});for(var W=0;W<Z.length;W++)x(j,j._fullLayout[Z[W]])}}},82424:function(ae,B,r){"use strict";var D=r(73972),E=r(10130);ae.exports=function(f,S,M){var v,c,i=S._inHover,s=E.isGrouped(S),a=E.isReversed(S),o={},l=[],u=!1,d={},m=0,h=0;function T(Z,W,H){if(!1!==S.visible&&(!M||Z===S._id))if(""!==W&&E.isGrouped(S))-1===l.indexOf(W)?(l.push(W),u=!0,o[W]=[H]):o[W].push(H);else{var G="~~i"+m;l.push(G),o[G]=[H],m++}}for(v=0;v<f.length;v++){var _=f[v],g=_[0],w=g.trace,x=w.legend,b=w.legendgroup;if(i||w.visible&&w.showlegend)if(D.traceIs(w,"pie-like"))for(d[b]||(d[b]={}),c=0;c<_.length;c++){var A=_[c].label;d[b][A]||(T(x,b,{label:A,color:_[c].color,i:_[c].i,trace:w,pts:_[c].pts}),d[b][A]=!0,h=Math.max(h,(A||"").length))}else T(x,b,g),h=Math.max(h,(w.name||"").length)}if(!l.length)return[];var p=!u||!s,O=[];for(v=0;v<l.length;v++){var k=o[l[v]];O.push(p?k[0]:k)}for(p&&(O=[O]),v=0;v<O.length;v++){var I=1/0;for(c=0;c<O[v].length;c++){var P=O[v][c].trace.legendrank;I>P&&(I=P)}O[v][0]._groupMinRank=I,O[v][0]._preGroupSort=v}var R=function(Z,W){return Z.trace.legendrank-W.trace.legendrank||Z._preSort-W._preSort};for(O.forEach(function(Z,W){Z[0]._preGroupSort=W}),O.sort(function(Z,W){return Z[0]._groupMinRank-W[0]._groupMinRank||Z[0]._preGroupSort-W[0]._preGroupSort}),v=0;v<O.length;v++){O[v].forEach(function(Z,W){Z._preSort=W}),O[v].sort(R);var N=O[v][0].trace,j=null;for(c=0;c<O[v].length;c++){var X=O[v][c].trace.legendgrouptitle;if(X&&X.text){j=X,i&&(X.font=S._groupTitleFont);break}}if(a&&O[v].reverse(),j){var F=!1;for(c=0;c<O[v].length;c++)if(D.traceIs(O[v][c].trace,"pie-like")){F=!0;break}O[v].unshift({i:-1,groupTitle:j,noClick:F,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,visible:"toggleitem"===S.groupclick||N.visible}})}for(c=0;c<O[v].length;c++)O[v][c]=[O[v][c]]}return S._lgroupsLength=O.length,S._maxNameLength=h,O}},85167:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=E.pushUnique,S=!0;ae.exports=function(M,v,c){var i=v._fullLayout;if(!v._dragged&&!v._editing){var s,a=i.legend.itemclick,o=i.legend.itemdoubleclick,l=i.legend.groupclick;if(1===c&&"toggle"===a&&"toggleothers"===o&&S&&v.data&&v._context.showTips&&E.notifier(E._(v,"Double-click on legend to isolate one trace"),"long"),S=!1,1===c?s=a:2===c&&(s=o),s){var u="togglegroup"===l,d=i.hiddenlabels?i.hiddenlabels.slice():[],m=M.data()[0][0];if(!m.groupTitle||!m.noClick){var h=v._fullData,T=(i.shapes||[]).filter(function(ke){return ke.showlegend}),_=h.concat(T),g=m.trace;g._isShape&&(g=g._fullInput);var w,x,b,A,p,O=g.legendgroup,k={},I=[],P=[],R=[],N=(i.shapes||[]).map(function(ke){return ke._input}),j=!1,X=g.legend,F=g._fullInput;if(F&&F._isShape||!D.traceIs(g,"pie-like")){var Z,W=O&&O.length,H=[];if(W)for(w=0;w<_.length;w++)(Z=_[w]).visible&&Z.legendgroup===O&&H.push(w);if("toggle"===s){var G;switch(g.visible){case!0:G="legendonly";break;case!1:G=!1;break;case"legendonly":G=!0}if(W)if(u)for(w=0;w<_.length;w++){var Y=_[w];!1!==Y.visible&&Y.legendgroup===O&&Se(Y,G)}else Se(g,G);else Se(g,G)}else if("toggleothers"===s){var se,te,Q,ee=!0;for(w=0;w<_.length;w++)if(se=(Q=_[w])===g,te=!0!==Q.showlegend,!(se||te||W&&Q.legendgroup===O||Q.legend!==X||!0!==Q.visible||D.traceIs(Q,"notLegendIsolatable"))){ee=!1;break}for(w=0;w<_.length;w++)if(!1!==(Q=_[w]).visible&&Q.legend===X&&!D.traceIs(Q,"notLegendIsolatable"))switch(g.visible){case"legendonly":Se(Q,!0);break;case!0:te=!0!==Q.showlegend&&!Q.legendgroup,Se(Q,!!((se=Q===g)||W&&Q.legendgroup===O||te)||!!ee||"legendonly")}}for(w=0;w<P.length;w++)if(b=P[w]){var oe=b.constructUpdate(),le=Object.keys(oe);for(x=0;x<le.length;x++)(k[A=le[x]]=k[A]||[])[R[w]]=oe[A]}for(p=Object.keys(k),w=0;w<p.length;w++)for(A=p[w],x=0;x<I.length;x++)k[A].hasOwnProperty(x)||(k[A][x]=void 0);j?D.call("_guiUpdate",v,k,{shapes:N},I):D.call("_guiRestyle",v,k,I)}else{var ue=m.label,de=d.indexOf(ue);if("toggle"===s)-1===de?d.push(ue):d.splice(de,1);else if("toggleothers"===s){var he=-1!==de,we=[];for(w=0;w<v.calcdata.length;w++){var Ae=v.calcdata[w];for(x=0;x<Ae.length;x++){var Te=Ae[x].label;X===Ae[0].trace.legend&&ue!==Te&&(-1===d.indexOf(Te)&&(he=!0),f(d,Te),we.push(Te))}}if(!he)for(var ve=0;ve<we.length;ve++){var xe=d.indexOf(we[ve]);-1!==xe&&d.splice(xe,1)}}D.call("_guiRelayout",v,"hiddenlabels",d)}}}}function Fe(ke,pe){var fe=I.indexOf(ke),be=k.visible;return be||(be=k.visible=[]),-1===I.indexOf(ke)&&(I.push(ke),fe=I.length-1),be[fe]=pe,fe}function Se(ke,pe){if(!m.groupTitle||u){var be=ke._fullInput||ke,Le=be._isShape,Oe=be.index;if(void 0===Oe&&(Oe=be._index),D.hasTransform(be,"groupby")){var De=P[Oe];if(!De){var Ue=D.getTransformIndices(be,"groupby");De=E.keyedContainer(be,"transforms["+Ue[Ue.length-1]+"].styles","target","value.visible"),P[Oe]=De}var ye=De.get(ke._group);void 0===ye&&(ye=!0),!1!==ye&&De.set(ke._group,pe),R[Oe]=Fe(Oe,!1!==be.visible)}else{var Ie=!1!==be.visible&&pe;Le?(N[Oe].visible=Ie,j=!0):Fe(Oe,Ie)}}}}},10130:function(ae,B){"use strict";B.isGrouped=function(r){return-1!==(r.traceorder||"").indexOf("grouped")},B.isVertical=function(r){return"h"!==r.orientation},B.isReversed=function(r){return-1!==(r.traceorder||"").indexOf("reversed")}},2199:function(ae,B,r){"use strict";ae.exports={moduleType:"component",name:"legend",layoutAttributes:r(33030),supplyLayoutDefaults:r(99017),draw:r(43969),style:r(53630)}},53630:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(71828),S=f.strTranslate,M=r(91424),v=r(7901),c=r(52075).extractOpts,i=r(34098),s=r(63463),a=r(53581).castOption,o=r(14928);function l(m,h){return(h?"radial":"horizontal")+(m?"":"reversed")}function u(m){var h=m[0].trace,T=h.contours,_=i.hasLines(h),g=i.hasMarkers(h),w=h.visible&&h.fill&&"none"!==h.fill,x=!1,b=!1;if(T){var A=T.coloring;"lines"===A?x=!0:_="none"===A||"heatmap"===A||T.showlines,"constraint"===T.type?w="="!==T._operation:"fill"!==A&&"heatmap"!==A||(b=!0)}return{showMarker:g,showLine:_,showFill:w,showGradientLine:x,showGradientFill:b,anyLine:_||x,anyFill:w||b}}function d(m,h,T){return m&&f.isArrayOrTypedArray(m)?h:m>T?T:m}ae.exports=function(m,h,T){T||(T=h._fullLayout.legend);var g="constant"===T.itemsizing,w=T.itemwidth,b=S((w+2*o.itemGap)/2,0),A=function(k,I,P,R){var N;if(k+1)N=k;else{if(!(I&&I.width>0))return 0;N=I.width}return g?R:Math.min(N,P)};function p(k,I,P){var R=k[0].trace,N=R.marker||{},j=N.line||{},X=P?R.visible&&R.type===P:E.traceIs(R,"bar"),F=D.select(I).select("g.legendpoints").selectAll("path.legend"+P).data(X?[k]:[]);F.enter().append("path").classed("legend"+P,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),F.exit().remove(),F.each(function(Z){var W=D.select(this),H=Z[0],G=A(H.mlw,N.line,5,2);W.style("stroke-width",G+"px");var Y=H.mcc;if(!T._inHover&&"mc"in H){var se=c(N),te=se.mid;void 0===te&&(te=(se.max+se.min)/2),Y=M.tryColorscale(N,"")(te)}var re=Y||H.mc||N.color,Q=N.pattern,ee=Q&&M.getPatternAttr(Q.shape,0,"");if(ee){var oe=M.getPatternAttr(Q.bgcolor,0,null),le=M.getPatternAttr(Q.fgcolor,0,null),ue=Q.fgopacity,de=d(Q.size,8,10),he=d(Q.solidity,.5,1);W.call(M.pattern,"legend",h,"legend-"+R.uid,ee,de,he,Y,Q.fillmode,oe,le,ue)}else W.call(v.fill,re);G&&v.stroke(W,H.mlc||j.color)})}function O(k,I,P){var R=k[0],N=R.trace,j=P?N.visible&&N.type===P:E.traceIs(N,P),X=D.select(I).select("g.legendpoints").selectAll("path.legend"+P).data(j?[k]:[]);if(X.enter().append("path").classed("legend"+P,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),X.exit().remove(),X.size()){var F=N.marker||{},Z=A(a(F.line.width,R.pts),F.line,5,2),W="pieLike",H=f.minExtend(N,{marker:{line:{width:Z}}},W),G=f.minExtend(R,{trace:H},W);s(X,G,H,h)}}m.each(function(k){var I=D.select(this),P=f.ensureSingle(I,"g","layers");P.style("opacity",k[0].trace.opacity);var R=T.valign,N=k[0].lineHeight,j=k[0].height;P.attr("transform","middle"!==R&&N&&j?S(0,{top:1,bottom:-1}[R]*(.5*(N-j+3))):null),P.selectAll("g.legendfill").data([k]).enter().append("g").classed("legendfill",!0),P.selectAll("g.legendlines").data([k]).enter().append("g").classed("legendlines",!0);var F=P.selectAll("g.legendsymbols").data([k]);F.enter().append("g").classed("legendsymbols",!0),F.selectAll("g.legendpoints").data([k]).enter().append("g").classed("legendpoints",!0)}).each(function(k){var I,P=k[0].trace,R=[];if(P.visible)switch(P.type){case"histogram2d":case"heatmap":R=[["M-15,-2V4H15V-2Z"]],I=!0;break;case"choropleth":case"choroplethmapbox":R=[["M-6,-6V6H6V-6Z"]],I=!0;break;case"densitymapbox":R=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],I="radial";break;case"cone":R=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],I=!1;break;case"streamtube":R=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],I=!1;break;case"surface":R=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],I=!0;break;case"mesh3d":R=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],I=!1;break;case"volume":R=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],I=!0;break;case"isosurface":R=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],I=!1}var N=D.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(R);N.enter().append("path").classed("legend3dandfriends",!0).attr("transform",b).style("stroke-miterlimit",1),N.exit().remove(),N.each(function(j,X){var F,Z=D.select(this),W=c(P),H=W.colorscale,G=W.reversescale;if(H){if(!I){var Y=H.length;F=0===X?H[G?Y-1:0][1]:1===X?H[G?0:Y-1][1]:H[Math.floor((Y-1)/2)][1]}}else{var se=P.vertexcolor||P.facecolor||P.color;F=f.isArrayOrTypedArray(se)?se[X]||se[0]:se}Z.attr("d",j[0]),F?Z.call(v.fill,F):Z.call(function(te){te.size()&&M.gradient(te,h,"legendfill-"+P.uid,l(G,"radial"===I),H,"fill")})})}).each(function(k){var I=k[0].trace,P="waterfall"===I.type;if(k[0]._distinct&&P){var R=k[0].trace[k[0].dir].marker;return k[0].mc=R.color,k[0].mlw=R.line.width,k[0].mlc=R.line.color,p(k,this,"waterfall")}var N=[];I.visible&&P&&(N=k[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var j=D.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(N);j.enter().append("path").classed("legendwaterfall",!0).attr("transform",b).style("stroke-miterlimit",1),j.exit().remove(),j.each(function(X){var F=D.select(this),Z=I[X[0]].marker,W=A(void 0,Z.line,5,2);F.attr("d",X[1]).style("stroke-width",W+"px").call(v.fill,Z.color),W&&F.call(v.stroke,Z.line.color)})}).each(function(k){p(k,this,"funnel")}).each(function(k){p(k,this)}).each(function(k){var I=k[0].trace,P=D.select(this).select("g.legendpoints").selectAll("path.legendbox").data(I.visible&&E.traceIs(I,"box-violin")?[k]:[]);P.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),P.exit().remove(),P.each(function(){var R=D.select(this);if("all"!==I.boxpoints&&"all"!==I.points||0!==v.opacity(I.fillcolor)||0!==v.opacity((I.line||{}).color)){var N=A(void 0,I.line,5,2);R.style("stroke-width",N+"px").call(v.fill,I.fillcolor),N&&v.stroke(R,I.line.color)}else{var j=f.minExtend(I,{marker:{size:g?12:f.constrain(I.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});P.call(M.pointStyle,j,h)}})}).each(function(k){O(k,this,"funnelarea")}).each(function(k){O(k,this,"pie")}).each(function(k){var I,P,R=u(k),N=R.showFill,j=R.showLine,X=R.showGradientLine,F=R.showGradientFill,Z=R.anyFill,W=R.anyLine,H=k[0],G=H.trace,Y=c(G),se=Y.colorscale,te=Y.reversescale,re=i.hasMarkers(G)||!Z?"M5,0":W?"M5,-2":"M5,-3",Q=D.select(this),ee=Q.select(".legendfill").selectAll("path").data(N||F?[k]:[]);if(ee.enter().append("path").classed("js-fill",!0),ee.exit().remove(),ee.attr("d",re+"h"+w+"v6h-"+w+"z").call(function(ue){ue.size()&&(N?M.fillGroupStyle(ue,h):M.gradient(ue,h,"legendfill-"+G.uid,l(te),se,"fill"))}),j||X){var oe=A(void 0,G.line,10,5);P=f.minExtend(G,{line:{width:oe}}),I=[f.minExtend(H,{trace:P})]}var le=Q.select(".legendlines").selectAll("path").data(j||X?[I]:[]);le.enter().append("path").classed("js-line",!0),le.exit().remove(),le.attr("d",re+(X?"l"+w+",0.0001":"h"+w)).call(j?M.lineGroupStyle:function(ue){if(ue.size()){var de="legendline-"+G.uid;M.lineGroupStyle(ue),M.gradient(ue,h,de,l(te),se,"stroke")}})}).each(function(k){var I,P,R=u(k),X=R.showLine,F=R.showMarker,Z=k[0],W=Z.trace,H=!F&&!R.anyLine&&!R.anyFill&&i.hasText(W);function G(le,ue,de,he){var we=f.nestedProperty(W,le).get(),Ae=f.isArrayOrTypedArray(we)&&ue?ue(we):we;if(g&&Ae&&void 0!==he&&(Ae=he),de){if(Ae<de[0])return de[0];if(Ae>de[1])return de[1]}return Ae}function Y(le){return Z._distinct&&Z.index&&le[Z.index]?le[Z.index]:le[0]}if(F||H||X){var se={},te={};if(F){se.mc=G("marker.color",Y),se.mx=G("marker.symbol",Y),se.mo=G("marker.opacity",f.mean,[.2,1]),se.mlc=G("marker.line.color",Y),se.mlw=G("marker.line.width",f.mean,[0,5],2),te.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var re=G("marker.size",f.mean,[2,16],12);se.ms=re,te.marker.size=re}X&&(te.line={width:G("line.width",Y,[0,10],5)}),H&&(se.tx="Aa",se.tp=G("textposition",Y),se.ts=10,se.tc=G("textfont.color",Y),se.tf=G("textfont.family",Y)),I=[f.minExtend(Z,se)],(P=f.minExtend(W,te)).selectedpoints=null,P.texttemplate=null}var Q=D.select(this).select("g.legendpoints"),ee=Q.selectAll("path.scatterpts").data(F?I:[]);ee.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",b),ee.exit().remove(),ee.call(M.pointStyle,P,h),F&&(I[0].mrc=3);var oe=Q.selectAll("g.pointtext").data(H?I:[]);oe.enter().append("g").classed("pointtext",!0).append("text").attr("transform",b),oe.exit().remove(),oe.selectAll("text").call(M.textPointStyle,P,h)}).each(function(k){var I=k[0].trace,P=D.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(I.visible&&"candlestick"===I.type?[k,k]:[]);P.enter().append("path").classed("legendcandle",!0).attr("d",function(R,N){return N?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",b).style("stroke-miterlimit",1),P.exit().remove(),P.each(function(R,N){var j=D.select(this),X=I[N?"increasing":"decreasing"],F=A(void 0,X.line,5,2);j.style("stroke-width",F+"px").call(v.fill,X.fillcolor),F&&v.stroke(j,X.line.color)})}).each(function(k){var I=k[0].trace,P=D.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(I.visible&&"ohlc"===I.type?[k,k]:[]);P.enter().append("path").classed("legendohlc",!0).attr("d",function(R,N){return N?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",b).style("stroke-miterlimit",1),P.exit().remove(),P.each(function(R,N){var j=D.select(this),X=I[N?"increasing":"decreasing"],F=A(void 0,X.line,5,2);j.style("fill","none").call(M.dashLine,X.line.dash,F),F&&v.stroke(j,X.line.color)})})}},42068:function(ae,B,r){"use strict";r(93348),ae.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(ae,B,r){"use strict";var D=r(73972),E=r(74875),f=r(41675),S=r(24255),M=r(34031).eraseActiveShape,v=r(71828),c=v._,i=ae.exports={};function s(_,g){var w,x,b=g.currentTarget,A=b.getAttribute("data-attr"),p=b.getAttribute("data-val")||!0,O=_._fullLayout,k={},I=f.list(_,null,!0),P=O._cartesianSpikesEnabled;if("zoom"===A){var R,N="in"===p?.5:2,j=(1+N)/2,X=(1-N)/2;for(x=0;x<I.length;x++)if(!(w=I[x]).fixedrange)if(R=w._name,"auto"===p)k[R+".autorange"]=!0;else if("reset"===p)void 0===w._rangeInitial0&&void 0===w._rangeInitial1?k[R+".autorange"]=!0:void 0===w._rangeInitial0?(k[R+".autorange"]=w._autorangeInitial,k[R+".range"]=[null,w._rangeInitial1]):void 0===w._rangeInitial1?(k[R+".range"]=[w._rangeInitial0,null],k[R+".autorange"]=w._autorangeInitial):k[R+".range"]=[w._rangeInitial0,w._rangeInitial1],void 0!==w._showSpikeInitial&&(k[R+".showspikes"]=w._showSpikeInitial,"on"!==P||w._showSpikeInitial||(P="off"));else{var F=[w.r2l(w.range[0]),w.r2l(w.range[1])],Z=[j*F[0]+X*F[1],j*F[1]+X*F[0]];k[R+".range[0]"]=w.l2r(Z[0]),k[R+".range[1]"]=w.l2r(Z[1])}}else"hovermode"!==A||"x"!==p&&"y"!==p||b.setAttribute("data-val",p=O._isHoriz?"y":"x"),k[A]=p;O._cartesianSpikesEnabled=P,D.call("_guiRelayout",_,k)}function a(_,g){for(var w=g.currentTarget,x=w.getAttribute("data-attr"),b=w.getAttribute("data-val")||!0,A=_._fullLayout._subplots.gl3d||[],p={},O=x.split("."),k=0;k<A.length;k++)p[A[k]+"."+O[1]]=b;p.dragmode="pan"===b?b:"zoom",D.call("_guiRelayout",_,p)}function o(_,g){for(var w=g.currentTarget.getAttribute("data-attr"),x="resetLastSave"===w,b="resetDefault"===w,A=_._fullLayout,p=A._subplots.gl3d||[],O={},k=0;k<p.length;k++){var I,P=p[k],R=P+".camera",N=P+".aspectratio",j=P+".aspectmode",X=A[P]._scene;x?(O[R+".up"]=X.viewInitial.up,O[R+".eye"]=X.viewInitial.eye,O[R+".center"]=X.viewInitial.center,I=!0):b&&(O[R+".up"]=null,O[R+".eye"]=null,O[R+".center"]=null,I=!0),I&&(O[N+".x"]=X.viewInitial.aspectratio.x,O[N+".y"]=X.viewInitial.aspectratio.y,O[N+".z"]=X.viewInitial.aspectratio.z,O[j]=X.viewInitial.aspectmode)}D.call("_guiRelayout",_,O)}function l(_,g){var w=g.currentTarget,x=w._previousVal,b=_._fullLayout,A=b._subplots.gl3d||[],p=["xaxis","yaxis","zaxis"],O={},k={};if(x)k=x,w._previousVal=null;else{for(var I=0;I<A.length;I++){var P=A[I],R=b[P],N=P+".hovermode";O[N]=R.hovermode,k[N]=!1;for(var j=0;j<3;j++){var X=p[j],F=P+"."+X+".showspikes";k[F]=!1,O[F]=R[X].showspikes}}w._previousVal=O}return k}function u(_,g){for(var w=g.currentTarget,x=w.getAttribute("data-attr"),b=w.getAttribute("data-val")||!0,A=_._fullLayout,p=A._subplots.geo||[],O=0;O<p.length;O++){var k=p[O];if("zoom"===x){var P=A[k].projection.scale;D.call("_guiRelayout",_,k+".projection.scale","in"===b?2*P:.5*P)}}"reset"===x&&T(_,"geo")}function d(_){var g=_._fullLayout;return!g.hovermode&&(g._has("cartesian")?g._isHoriz?"y":"x":"closest")}function m(_){var g=d(_);D.call("_guiRelayout",_,"hovermode",g)}function h(_,g){for(var w=g.currentTarget.getAttribute("data-val"),x=_._fullLayout,b=x._subplots.mapbox||[],A={},p=0;p<b.length;p++){var O=b[p],k=x[O].zoom;A[O+".zoom"]="in"===w?1.05*k:k/1.05}D.call("_guiRelayout",_,A)}function T(_,g){for(var w=_._fullLayout,x=w._subplots[g]||[],b={},A=0;A<x.length;A++)for(var p=x[A],O=w[p]._subplot.viewInitial,k=Object.keys(O),I=0;I<k.length;I++){var P=k[I];b[p+"."+P]=O[P]}D.call("_guiRelayout",_,b)}i.toImage={name:"toImage",title:function(_){return c(_,"png"===((_._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:S.camera,click:function(_){var g=_._context.toImageButtonOptions,w={format:g.format||"png"};v.notifier(c(_,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==w.format&&v.isIE()&&(v.notifier(c(_,"IE only supports svg.  Changing format to svg."),"long"),w.format="svg"),["filename","width","height","scale"].forEach(function(x){x in g&&(w[x]=g[x])}),D.call("downloadImage",_,w).then(function(x){v.notifier(c(_,"Snapshot succeeded")+" - "+x,"long")}).catch(function(){v.notifier(c(_,"Sorry, there was a problem downloading your snapshot!"),"long")})}},i.sendDataToCloud={name:"sendDataToCloud",title:function(_){return c(_,"Edit in Chart Studio")},icon:S.disk,click:function(_){E.sendDataToCloud(_)}},i.editInChartStudio={name:"editInChartStudio",title:function(_){return c(_,"Edit in Chart Studio")},icon:S.pencil,click:function(_){E.sendDataToCloud(_)}},i.zoom2d={name:"zoom2d",_cat:"zoom",title:function(_){return c(_,"Zoom")},attr:"dragmode",val:"zoom",icon:S.zoombox,click:s},i.pan2d={name:"pan2d",_cat:"pan",title:function(_){return c(_,"Pan")},attr:"dragmode",val:"pan",icon:S.pan,click:s},i.select2d={name:"select2d",_cat:"select",title:function(_){return c(_,"Box Select")},attr:"dragmode",val:"select",icon:S.selectbox,click:s},i.lasso2d={name:"lasso2d",_cat:"lasso",title:function(_){return c(_,"Lasso Select")},attr:"dragmode",val:"lasso",icon:S.lasso,click:s},i.drawclosedpath={name:"drawclosedpath",title:function(_){return c(_,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:S.drawclosedpath,click:s},i.drawopenpath={name:"drawopenpath",title:function(_){return c(_,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:S.drawopenpath,click:s},i.drawline={name:"drawline",title:function(_){return c(_,"Draw line")},attr:"dragmode",val:"drawline",icon:S.drawline,click:s},i.drawrect={name:"drawrect",title:function(_){return c(_,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:S.drawrect,click:s},i.drawcircle={name:"drawcircle",title:function(_){return c(_,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:S.drawcircle,click:s},i.eraseshape={name:"eraseshape",title:function(_){return c(_,"Erase active shape")},icon:S.eraseshape,click:M},i.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(_){return c(_,"Zoom in")},attr:"zoom",val:"in",icon:S.zoom_plus,click:s},i.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(_){return c(_,"Zoom out")},attr:"zoom",val:"out",icon:S.zoom_minus,click:s},i.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(_){return c(_,"Autoscale")},attr:"zoom",val:"auto",icon:S.autoscale,click:s},i.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(_){return c(_,"Reset axes")},attr:"zoom",val:"reset",icon:S.home,click:s},i.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(_){return c(_,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:S.tooltip_basic,gravity:"ne",click:s},i.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(_){return c(_,"Compare data on hover")},attr:"hovermode",val:function(_){return _._fullLayout._isHoriz?"y":"x"},icon:S.tooltip_compare,gravity:"ne",click:s},i.zoom3d={name:"zoom3d",_cat:"zoom",title:function(_){return c(_,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:S.zoombox,click:a},i.pan3d={name:"pan3d",_cat:"pan",title:function(_){return c(_,"Pan")},attr:"scene.dragmode",val:"pan",icon:S.pan,click:a},i.orbitRotation={name:"orbitRotation",title:function(_){return c(_,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:S["3d_rotate"],click:a},i.tableRotation={name:"tableRotation",title:function(_){return c(_,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:S["z-axis"],click:a},i.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(_){return c(_,"Reset camera to default")},attr:"resetDefault",icon:S.home,click:o},i.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(_){return c(_,"Reset camera to last save")},attr:"resetLastSave",icon:S.movie,click:o},i.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(_){return c(_,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:function(_,g){var w=l(_,g);D.call("_guiRelayout",_,w)}},i.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(_){return c(_,"Zoom in")},attr:"zoom",val:"in",icon:S.zoom_plus,click:u},i.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(_){return c(_,"Zoom out")},attr:"zoom",val:"out",icon:S.zoom_minus,click:u},i.resetGeo={name:"resetGeo",_cat:"reset",title:function(_){return c(_,"Reset")},attr:"reset",val:null,icon:S.autoscale,click:u},i.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(_){return c(_,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:m},i.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(_){return c(_,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:m},i.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(_){return c(_,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:S.tooltip_basic,gravity:"ne",click:m},i.resetViewSankey={name:"resetSankeyGroup",title:function(_){return c(_,"Reset view")},icon:S.home,click:function(_){for(var g={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<_._fullData.length;w++){var x=_._fullData[w]._viewInitial;g["node.groups"].push(x.node.groups.slice()),g["node.x"].push(x.node.x.slice()),g["node.y"].push(x.node.y.slice())}D.call("restyle",_,g)}},i.toggleHover={name:"toggleHover",title:function(_){return c(_,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:function(_,g){var w=l(_,g);w.hovermode=d(_),D.call("_guiRelayout",_,w)}},i.resetViews={name:"resetViews",title:function(_){return c(_,"Reset views")},icon:S.home,click:function(_,g){var w=g.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),s(_,g),w.setAttribute("data-attr","resetLastSave"),o(_,g),T(_,"geo"),T(_,"mapbox")}},i.toggleSpikelines={name:"toggleSpikelines",title:function(_){return c(_,"Toggle Spike Lines")},icon:S.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(_){var g=_._fullLayout;g._cartesianSpikesEnabled="on"===g._cartesianSpikesEnabled?"off":"on",D.call("_guiRelayout",_,function(x){for(var b="on"===x._fullLayout._cartesianSpikesEnabled,A=f.list(x,null,!0),p={},O=0;O<A.length;O++){var k=A[O];p[k._name+".showspikes"]=!!b||k._showSpikeInitial}return p}(_))}},i.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(_){return c(_,"Reset view")},attr:"reset",icon:S.home,click:function(_){T(_,"mapbox")}},i.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(_){return c(_,"Zoom in")},attr:"zoom",val:"in",icon:S.zoom_plus,click:h},i.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(_){return c(_,"Zoom out")},attr:"zoom",val:"out",icon:S.zoom_minus,click:h}},93348:function(ae,B,r){"use strict";var D=r(26023),E=Object.keys(D),f=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],S=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(f),M=[];E.forEach(function(v){!function(c){if(-1===S.indexOf(c._cat||c.name)){var i=c.name,s=(c._cat||c.name).toLowerCase();-1===M.indexOf(i)&&M.push(i),-1===M.indexOf(s)&&M.push(s)}}(D[v])}),M.sort(),ae.exports={DRAW_MODES:f,backButtons:S,foreButtons:M}},35750:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(44467),S=r(42068);ae.exports=function(M,v){var c=M.modebar||{},i=f.newContainer(v,"modebar");function s(o,l){return D.coerce(c,i,S,o,l)}s("orientation"),s("bgcolor",E.addOpacity(v.paper_bgcolor,.5));var a=E.contrast(E.rgb(v.modebar.bgcolor));s("color",E.addOpacity(a,.3)),s("activecolor",E.addOpacity(a,.7)),s("uirevision",v.uirevision),s("add"),s("remove")}},64168:function(ae,B,r){"use strict";ae.exports={moduleType:"component",name:"modebar",layoutAttributes:r(42068),supplyLayoutDefaults:r(35750),manage:r(14192)}},14192:function(ae,B,r){"use strict";var D=r(41675),E=r(34098),f=r(73972),S=r(23469).isUnifiedHover,M=r(37676),v=r(26023),c=r(93348).DRAW_MODES,i=r(71828).extendDeep;ae.exports=function(s){var a=s._fullLayout,o=s._context,l=a._modeBar;if(o.displayModeBar||o.watermark){if(!Array.isArray(o.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(o.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var u,d=o.modeBarButtons;u=Array.isArray(d)&&d.length?function(m){for(var h=i([],m),T=0;T<h.length;T++)for(var _=h[T],g=0;g<_.length;g++){var w=_[g];if("string"==typeof w){if(void 0===v[w])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));h[T][g]=v[w]}}return h}(d):!o.displayModeBar&&o.watermark?[]:function(m){var h=m._fullLayout,T=m._fullData,_=m._context;function g(we,Ae){if("string"==typeof Ae){if(Ae.toLowerCase()===we.toLowerCase())return!0}else if(Ae.name===we||(Ae._cat||Ae.name)===we.toLowerCase())return!0;return!1}var w=h.modebar.add;"string"==typeof w&&(w=[w]);var x=h.modebar.remove;"string"==typeof x&&(x=[x]);var b=_.modeBarButtonsToAdd.concat(w.filter(function(we){for(var Ae=0;Ae<_.modeBarButtonsToRemove.length;Ae++)if(g(we,_.modeBarButtonsToRemove[Ae]))return!1;return!0})),A=_.modeBarButtonsToRemove.concat(x.filter(function(we){for(var Ae=0;Ae<_.modeBarButtonsToAdd.length;Ae++)if(g(we,_.modeBarButtonsToAdd[Ae]))return!1;return!0})),p=h._has("cartesian"),O=h._has("gl3d"),k=h._has("geo"),I=h._has("pie"),P=h._has("funnelarea"),R=h._has("gl2d"),N=h._has("ternary"),j=h._has("mapbox"),X=h._has("polar"),F=h._has("smith"),Z=h._has("sankey"),W=function(we){for(var Ae=D.list({_fullLayout:we},null,!0),Te=0;Te<Ae.length;Te++)if(!Ae[Te].fixedrange)return!1;return!0}(h),H=S(h.hovermode),G=[];function Y(we){if(we.length){for(var Ae=[],Te=0;Te<we.length;Te++){for(var ve=we[Te],xe=v[ve],Fe=xe.name.toLowerCase(),Se=(xe._cat||xe.name).toLowerCase(),ke=!1,pe=0;pe<A.length;pe++){var fe=A[pe].toLowerCase();if(fe===Fe||fe===Se){ke=!0;break}}ke||Ae.push(v[ve])}G.push(Ae)}}var se=["toImage"];_.showEditInChartStudio?se.push("editInChartStudio"):_.showSendToCloud&&se.push("sendDataToCloud"),Y(se);var te=[],re=[],Q=[],ee=[];(p||R||I||P||N)+k+O+j+X+F>1?(re=["toggleHover"],Q=["resetViews"]):k?(te=["zoomInGeo","zoomOutGeo"],re=["hoverClosestGeo"],Q=["resetGeo"]):O?(re=["hoverClosest3d"],Q=["resetCameraDefault3d","resetCameraLastSave3d"]):j?(te=["zoomInMapbox","zoomOutMapbox"],re=["toggleHover"],Q=["resetViewMapbox"]):R?re=["hoverClosestGl2d"]:I?re=["hoverClosestPie"]:Z?(re=["hoverClosestCartesian","hoverCompareCartesian"],Q=["resetViewSankey"]):re=["toggleHover"],p&&(re=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(we){for(var Ae=0;Ae<we.length;Ae++)if(!f.traceIs(we[Ae],"noHover"))return!1;return!0}(T)||H)&&(re=[]),!p&&!R||W||(te=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==Q[0]&&(Q=["resetScale2d"])),O?ee=["zoom3d","pan3d","orbitRotation","tableRotation"]:(p||R)&&!W||N?ee=["zoom2d","pan2d"]:j||k?ee=["pan2d"]:X&&(ee=["zoom2d"]),function(we){for(var Ae=!1,Te=0;Te<we.length&&!Ae;Te++){var ve=we[Te];ve._module&&ve._module.selectPoints&&(f.traceIs(ve,"scatter-like")?(E.hasMarkers(ve)||E.hasText(ve))&&(Ae=!0):f.traceIs(ve,"box-violin")&&"all"!==ve.boxpoints&&"all"!==ve.points||(Ae=!0))}return Ae}(T)&&ee.push("select2d","lasso2d");var oe=[],le=function(we){-1===oe.indexOf(we)&&-1!==re.indexOf(we)&&oe.push(we)};if(Array.isArray(b)){for(var ue=[],de=0;de<b.length;de++){var he=b[de];"string"==typeof he?(he=he.toLowerCase(),-1!==c.indexOf(he)?(h._has("mapbox")||h._has("cartesian"))&&ee.push(he):"togglespikelines"===he?le("toggleSpikelines"):"togglehover"===he?le("toggleHover"):"hovercompare"===he?le("hoverCompareCartesian"):"hoverclosest"===he?(le("hoverClosestCartesian"),le("hoverClosestGeo"),le("hoverClosest3d"),le("hoverClosestGl2d"),le("hoverClosestPie")):"v1hovermode"===he&&(le("toggleHover"),le("hoverClosestCartesian"),le("hoverCompareCartesian"),le("hoverClosestGeo"),le("hoverClosest3d"),le("hoverClosestGl2d"),le("hoverClosestPie"))):ue.push(he)}b=ue}return Y(ee),Y(te.concat(Q)),Y(oe),function(we,Ae){if(Ae.length)if(Array.isArray(Ae[0]))for(var Te=0;Te<Ae.length;Te++)we.push(Ae[Te]);else we.push(Ae);return we}(G,b)}(s),l?l.update(s,u):a._modeBar=M(s,u)}else l&&(l.destroy(),delete a._modeBar)}},37676:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(71828),S=r(24255),M=r(11506).version,v=new DOMParser;function c(s){this.container=s.container,this.element=document.createElement("div"),this.update(s.graphInfo,s.buttons),this.container.appendChild(this.element)}var i=c.prototype;i.update=function(s,a){this.graphInfo=s;var o=this.graphInfo._context,l=this.graphInfo._fullLayout,u="modebar-"+l._uid;this.element.setAttribute("id",u),this._uid=u,this.element.className="modebar","hover"===o.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===l.modebar.orientation&&(this.element.className+=" vertical",a=a.reverse());var d=l.modebar,m="hover"===o.displayModeBar?".js-plotly-plot .plotly:hover ":"";f.deleteRelatedStyleRule(u),f.addRelatedStyleRule(u,m+"#"+u+" .modebar-group","background-color: "+d.bgcolor),f.addRelatedStyleRule(u,"#"+u+" .modebar-btn .icon path","fill: "+d.color),f.addRelatedStyleRule(u,"#"+u+" .modebar-btn:hover .icon path","fill: "+d.activecolor),f.addRelatedStyleRule(u,"#"+u+" .modebar-btn.active .icon path","fill: "+d.activecolor);var h=!this.hasButtons(a),T=this.hasLogo!==o.displaylogo,_=this.locale!==o.locale;if(this.locale=o.locale,(h||T||_)&&(this.removeAllButtons(),this.updateButtons(a),o.watermark||o.displaylogo)){var g=this.getLogo();o.watermark&&(g.className=g.className+" watermark"),"v"===l.modebar.orientation?this.element.insertBefore(g,this.element.childNodes[0]):this.element.appendChild(g),this.hasLogo=!0}this.updateActiveButton()},i.updateButtons=function(s){var a=this;this.buttons=s,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(o){var l=a.createGroup();o.forEach(function(u){var d=u.name;if(!d)throw new Error("must provide button 'name' in button config");if(-1!==a.buttonsNames.indexOf(d))throw new Error("button name '"+d+"' is taken");a.buttonsNames.push(d);var m=a.createButton(u);a.buttonElements.push(m),l.appendChild(m)}),a.element.appendChild(l)})},i.createGroup=function(){var s=document.createElement("div");return s.className="modebar-group",s},i.createButton=function(s){var a=this,o=document.createElement("a");o.setAttribute("rel","tooltip"),o.className="modebar-btn";var l=s.title;void 0===l?l=s.name:"function"==typeof l&&(l=l(this.graphInfo)),(l||0===l)&&o.setAttribute("data-title",l),void 0!==s.attr&&o.setAttribute("data-attr",s.attr);var u=s.val;if(void 0!==u&&("function"==typeof u&&(u=u(this.graphInfo)),o.setAttribute("data-val",u)),"function"!=typeof s.click)throw new Error("must provide button 'click' function in button config");o.addEventListener("click",function(m){s.click(a.graphInfo,m),a.updateActiveButton(m.currentTarget)}),o.setAttribute("data-toggle",s.toggle||!1),s.toggle&&D.select(o).classed("active",!0);var d=s.icon;return o.appendChild("function"==typeof d?d():this.createIcon(d||S.question)),o.setAttribute("data-gravity",s.gravity||"n"),o},i.createIcon=function(s){var a,o=E(s.height)?Number(s.height):s.ascent-s.descent,l="http://www.w3.org/2000/svg";if(s.path){(a=document.createElementNS(l,"svg")).setAttribute("viewBox",[0,0,s.width,o].join(" ")),a.setAttribute("class","icon");var u=document.createElementNS(l,"path");u.setAttribute("d",s.path),s.transform?u.setAttribute("transform",s.transform):void 0!==s.ascent&&u.setAttribute("transform","matrix(1 0 0 -1 0 "+s.ascent+")"),a.appendChild(u)}return s.svg&&(a=v.parseFromString(s.svg,"application/xml").childNodes[0]),a.setAttribute("height","1em"),a.setAttribute("width","1em"),a},i.updateActiveButton=function(s){var a=this.graphInfo._fullLayout,o=void 0!==s?s.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var u=l.getAttribute("data-val")||!0,d=l.getAttribute("data-attr"),m="true"===l.getAttribute("data-toggle"),h=D.select(l);if(m)d===o&&h.classed("active",!h.classed("active"));else{var T=null===d?d:f.nestedProperty(a,d).get();h.classed("active",T===u)}})},i.hasButtons=function(s){var a=this.buttons;if(!a||s.length!==a.length)return!1;for(var o=0;o<s.length;++o){if(s[o].length!==a[o].length)return!1;for(var l=0;l<s[o].length;l++)if(s[o][l].name!==a[o][l].name)return!1}return!0},i.getLogo=function(){var s=this.createGroup(),a=document.createElement("a");return a.href="https://plotly.com/",a.target="_blank",a.setAttribute("data-title",f._(this.graphInfo,"Produced with Plotly.js")+" (v"+M+")"),a.className="modebar-btn plotlyjsicon modebar-btn--logo",a.appendChild(this.createIcon(S.newplotlylogo)),s.appendChild(a),s},i.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},i.destroy=function(){f.removeElement(this.container.querySelector(".modebar")),f.deleteRelatedStyleRule(this._uid)},ae.exports=function(s,a){var o=s._fullLayout,l=new c({graphInfo:s,container:o._modebardiv.node(),buttons:a});return o._privateplot&&D.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}},37113:function(ae,B,r){"use strict";var D=r(41940),E=r(22399),f=(0,r(44467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});ae.exports={visible:{valType:"boolean",editType:"plot"},buttons:f,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:D({editType:"plot"}),bgcolor:{valType:"color",dflt:E.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:E.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(ae){"use strict";ae.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(44467),S=r(85501),M=r(37113),v=r(89573);function c(i,s,a,o){var l=o.calendar;function u(m,h){return D.coerce(i,s,M.buttons,m,h)}if(u("visible")){var d=u("step");"all"!==d&&(!l||"gregorian"===l||"month"!==d&&"year"!==d?u("stepmode"):s.stepmode="backward",u("count")),u("label")}}ae.exports=function(i,s,a,o,l){var u=i.rangeselector||{},d=f.newContainer(s,"rangeselector");function m(_,g){return D.coerce(u,d,M,_,g)}if(m("visible",S(u,d,{name:"buttons",handleItemDefaults:c,calendar:l}).length>0)){var h=function(_,g,w){for(var x=w.filter(function(O){return g[O].anchor===_._id}),b=0,A=0;A<x.length;A++){var p=g[x[A]].domain;p&&(b=Math.max(p[1],b))}return[_.domain[0],b+v.yPad]}(s,a,o);m("x",h[0]),m("y",h[1]),D.noneOrAll(i,s,["x","y"]),m("xanchor"),m("yanchor"),D.coerceFont(m,"font",a.font);var T=m("bgcolor");m("activecolor",E.contrast(T,v.lightAmount,v.darkAmount)),m("bordercolor"),m("borderwidth")}}},21598:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(74875),S=r(7901),M=r(91424),v=r(71828),c=v.strTranslate,i=r(63893),s=r(41675),a=r(18783),o=a.LINE_SPACING,l=a.FROM_TL,u=a.FROM_BR,d=r(89573),m=r(70565);function h(g){return g._id}function T(g,w,x){var A,p,b=v.ensureSingle(g,"rect","selector-rect",function(A){A.attr("shape-rendering","crispEdges")});b.attr({rx:d.rx,ry:d.ry}),b.call(S.stroke,w.bordercolor).call(S.fill,(A=w,p=x,p._isActive||p._isHovered?A.activecolor:A.bgcolor)).style("stroke-width",w.borderwidth+"px")}function _(g,w,x,b){var A,p;v.ensureSingle(g,"text","selector-text",function(O){O.attr("text-anchor","middle")}).call(M.font,w.font).text((A=x,p=b._fullLayout._meta,A.label?p?v.templateString(A.label,p):A.label:"all"===A.step?"all":A.count+A.step.charAt(0))).call(function(O){i.convertToTspans(O,b)})}ae.exports=function(g){var w=g._fullLayout._infolayer.selectAll(".rangeselector").data(function(x){for(var b=s.list(x,"x",!0),A=[],p=0;p<b.length;p++){var O=b[p];O.rangeselector&&O.rangeselector.visible&&A.push(O)}return A}(g),h);w.enter().append("g").classed("rangeselector",!0),w.exit().remove(),w.style({cursor:"pointer","pointer-events":"all"}),w.each(function(x){var b=D.select(this),A=x,p=A.rangeselector,O=b.selectAll("g.button").data(v.filterVisible(p.buttons));O.enter().append("g").classed("button",!0),O.exit().remove(),O.each(function(k){var I=D.select(this),P=m(A,k);k._isActive=function(R,N,j){if("all"===N.step)return!0===R.autorange;var X=Object.keys(j);return R.range[0]===j[X[0]]&&R.range[1]===j[X[1]]}(A,k,P),I.call(T,p,k),I.call(_,p,k,g),I.on("click",function(){g._dragged||E.call("_guiRelayout",g,P)}),I.on("mouseover",function(){k._isHovered=!0,I.call(T,p,k)}),I.on("mouseout",function(){k._isHovered=!1,I.call(T,p,k)})}),function(k,I,P,R,N){var j=0,X=0,F=P.borderwidth;I.each(function(){var se=D.select(this).select(".selector-text"),re=Math.max(P.font.size*o*i.lineCount(se),16)+3;X=Math.max(X,re)}),I.each(function(){var se=D.select(this),te=se.select(".selector-rect"),re=se.select(".selector-text"),Q=re.node()&&M.bBox(re.node()).width,ee=P.font.size*o,oe=i.lineCount(re),le=Math.max(Q+10,d.minButtonWidth);se.attr("transform",c(F+j,F)),te.attr({x:0,y:0,width:le,height:X}),i.positionText(re,le/2,X/2-(oe-1)*ee/2+3),j+=le+5});var Z=k._fullLayout._size,W=Z.l+Z.w*P.x,H=Z.t+Z.h*(1-P.y),G="left";v.isRightAnchor(P)&&(W-=j,G="right"),v.isCenterAnchor(P)&&(W-=j/2,G="center");var Y="top";v.isBottomAnchor(P)&&(H-=X,Y="bottom"),v.isMiddleAnchor(P)&&(H-=X/2,Y="middle"),j=Math.ceil(j),X=Math.ceil(X),W=Math.round(W),H=Math.round(H),f.autoMargin(k,R+"-range-selector",{x:P.x,y:P.y,l:j*l[G],r:j*u[G],b:X*u[Y],t:X*l[Y]}),N.attr("transform",c(W,H))}(g,O,p,A._name,b)})}},70565:function(ae,B,r){"use strict";var D=r(81041),E=r(71828).titleCase;ae.exports=function(f,S){var M=f._name,v={};if("all"===S.step)v[M+".autorange"]=!0;else{var c=function(i,s){var a,o=i.range,l=new Date(i.r2l(o[1])),d=D["utc"+E(s.step)],m=s.count;switch(s.stepmode){case"backward":a=i.l2r(+d.offset(l,-m));break;case"todate":var h=d.offset(l,-m);a=i.l2r(+d.ceil(h))}return[a,o[1]]}(f,S);v[M+".range[0]"]=c[0],v[M+".range[1]"]=c[1]}return v}},97218:function(ae,B,r){"use strict";ae.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:r(37113)}}},layoutAttributes:r(37113),handleDefaults:r(28674),draw:r(21598)}},75148:function(ae,B,r){"use strict";var D=r(22399);ae.exports={bgcolor:{valType:"color",dflt:D.background,editType:"plot"},bordercolor:{valType:"color",dflt:D.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(ae,B,r){"use strict";var D=r(41675).list,E=r(71739).getAutoRange,f=r(73251);ae.exports=function(S){for(var M=D(S,"x",!0),v=0;v<M.length;v++){var c=M[v],i=c[f.name];i&&i.visible&&i.autorange&&(i._input.autorange=!0,i._input.range=i.range=E(S,c))}}},73251:function(ae){"use strict";ae.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(ae,B,r){"use strict";var D=r(71828),E=r(44467),f=r(41675),S=r(75148),M=r(47850);ae.exports=function(v,c,i){var s=v[i],a=c[i];if(s.rangeslider||c._requestRangeslider[a._id]){D.isPlainObject(s.rangeslider)||(s.rangeslider={});var o,l,u=s.rangeslider,d=E.newContainer(a,"rangeslider");if(b("visible")){b("bgcolor",c.plot_bgcolor),b("bordercolor"),b("borderwidth"),b("thickness"),b("autorange",!a.isValidRange(u.range)),b("range");var m=c._subplots;if(m)for(var h=m.cartesian.filter(function(p){return p.substr(0,p.indexOf("y"))===f.name2id(i)}).map(function(p){return p.substr(p.indexOf("y"),p.length)}),T=D.simpleMap(h,f.id2name),_=0;_<T.length;_++){var g=T[_];o=u[g]||{},l=E.newContainer(d,g,"yaxis");var w,x=c[g];o.range&&x.isValidRange(o.range)&&(w="fixed"),"match"!==A("rangemode",w)&&A("range",x.range.slice())}d._input=u}}function b(p,O){return D.coerce(u,d,S,p,O)}function A(p,O){return D.coerce(o,l,M,p,O)}}},72413:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(74875),S=r(71828),M=S.strTranslate,v=r(91424),c=r(7901),i=r(92998),s=r(93612),a=r(41675),o=r(28569),l=r(6964),u=r(73251);function d(w,x,b,A){var p=S.ensureSingle(w,"rect",u.bgClassName,function(P){P.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),O=A.borderwidth%2==0?A.borderwidth:A.borderwidth-1,k=-A._offsetShift,I=v.crispRound(x,A.borderwidth);p.attr({width:A._width+O,height:A._height+O,transform:M(k,k),"stroke-width":I}).call(c.stroke,A.bordercolor).call(c.fill,A.bgcolor)}function m(w,x,b,A){S.ensureSingleById(x._fullLayout._topdefs,"clipPath",A._clipId,function(O){O.append("rect").attr({x:0,y:0})}).select("rect").attr({width:A._width,height:A._height})}function h(w,x,b,A){var p,O=x.calcdata,k=w.selectAll("g."+u.rangePlotClassName).data(b._subplotsWith,S.identity);k.enter().append("g").attr("class",function(I){return u.rangePlotClassName+" "+I}).call(v.setClipUrl,A._clipId,x),k.order(),k.exit().remove(),k.each(function(I,P){var R=D.select(this),N=0===P,j=a.getFromId(x,I,"y"),X=j._name,F=A[X],Z={data:[],layout:{xaxis:{type:b.type,domain:[0,1],range:A.range.slice(),calendar:b.calendar},width:A._width,height:A._height,margin:{t:0,b:0,l:0,r:0}},_context:x._context};b.rangebreaks&&(Z.layout.xaxis.rangebreaks=b.rangebreaks),Z.layout[X]={type:j.type,domain:[0,1],range:"match"!==F.rangemode?F.range.slice():j.range.slice(),calendar:j.calendar},j.rangebreaks&&(Z.layout[X].rangebreaks=j.rangebreaks),f.supplyDefaults(Z);var W=Z._fullLayout.xaxis,H=Z._fullLayout[X];W.clearCalc(),W.setScale(),H.clearCalc(),H.setScale();var G={id:I,plotgroup:R,xaxis:W,yaxis:H,isRangePlot:!0};N?p=G:(G.mainplot="xy",G.mainplotinfo=p),s.rangePlot(x,G,function(Y,se){for(var te=[],re=0;re<Y.length;re++){var Q=Y[re],ee=Q[0].trace;ee.xaxis+ee.yaxis===se&&te.push(Q)}return te}(O,I))})}function T(w,x,b,A,p){S.ensureSingle(w,"rect",u.maskMinClassName,function(O){O.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",A._height).call(c.fill,u.maskColor),S.ensureSingle(w,"rect",u.maskMaxClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",A._height).call(c.fill,u.maskColor),"match"!==p.rangemode&&(S.ensureSingle(w,"rect",u.maskMinOppAxisClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",A._width).call(c.fill,u.maskOppAxisColor),S.ensureSingle(w,"rect",u.maskMaxOppAxisClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",A._width).style("border-top",u.maskOppBorder).call(c.fill,u.maskOppAxisColor))}function _(w,x,b,A){x._context.staticPlot||S.ensureSingle(w,"rect",u.slideBoxClassName,function(p){p.attr({y:0,cursor:u.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:A._height,fill:u.slideBoxFill})}function g(w,x,b,A){var p=S.ensureSingle(w,"g",u.grabberMinClassName),O=S.ensureSingle(w,"g",u.grabberMaxClassName),k={x:0,width:u.handleWidth,rx:u.handleRadius,fill:c.background,stroke:c.defaultLine,"stroke-width":u.handleStrokeWidth,"shape-rendering":"crispEdges"},I={y:Math.round(A._height/4),height:Math.round(A._height/2)};S.ensureSingle(p,"rect",u.handleMinClassName,function(R){R.attr(k)}).attr(I),S.ensureSingle(O,"rect",u.handleMaxClassName,function(R){R.attr(k)}).attr(I);var P={width:u.grabAreaWidth,x:0,y:0,fill:u.grabAreaFill,cursor:x._context.staticPlot?void 0:u.grabAreaCursor};S.ensureSingle(p,"rect",u.grabAreaMinClassName,function(R){R.attr(P)}).attr("height",A._height),S.ensureSingle(O,"rect",u.grabAreaMaxClassName,function(R){R.attr(P)}).attr("height",A._height)}ae.exports=function(w){for(var x=w._fullLayout,b=x._rangeSliderData,A=0;A<b.length;A++){var p=b[A][u.name];p._clipId=p._id+"-"+x._uid}var O=x._infolayer.selectAll("g."+u.containerClassName).data(b,function(k){return k._name});O.exit().each(function(k){x._topdefs.select("#"+k[u.name]._clipId).remove()}).remove(),0!==b.length&&(O.enter().append("g").classed(u.containerClassName,!0).attr("pointer-events","all"),O.each(function(k){var I=D.select(this),P=k[u.name],R=x[a.id2name(k.anchor)],N=P[a.id2name(k.anchor)];if(P.range){var j,X=S.simpleMap(P.range,k.r2l),F=S.simpleMap(k.range,k.r2l);j=F[0]<F[1]?[Math.min(X[0],F[0]),Math.max(X[1],F[1])]:[Math.max(X[0],F[0]),Math.min(X[1],F[1])],P.range=P._input.range=S.simpleMap(j,k.l2r)}k.cleanRange("rangeslider.range");var Z=x._size,W=k.domain;P._width=Z.w*(W[1]-W[0]);var H=Math.round(Z.l+Z.w*W[0]),G=Math.round(Z.t+Z.h*(1-k._counterDomainMin)+("bottom"===k.side?k._depth:0)+P._offsetShift+u.extraPad);I.attr("transform",M(H,G)),P._rl=S.simpleMap(P.range,k.r2l);var Y=P._rl[0],se=P._rl[1],te=se-Y;if(P.p2d=function(we){return we/P._width*te+Y},P.d2p=function(we){return(we-Y)/te*P._width},k.rangebreaks){var re=k.locateBreaks(Y,se);if(re.length){var Q,ee,oe=0;for(Q=0;Q<re.length;Q++)oe+=(ee=re[Q]).max-ee.min;var le=P._width/(se-Y-oe),ue=[-le*Y];for(Q=0;Q<re.length;Q++)ue.push(ue[ue.length-1]-le*((ee=re[Q]).max-ee.min));for(P.d2p=function(we){for(var Ae=ue[0],Te=0;Te<re.length;Te++){var ve=re[Te];if(we>=ve.max)Ae=ue[Te+1];else if(we<ve.min)break}return Ae+le*we},Q=0;Q<re.length;Q++)(ee=re[Q]).pmin=P.d2p(ee.min),ee.pmax=P.d2p(ee.max);P.p2d=function(we){for(var Ae=ue[0],Te=0;Te<re.length;Te++){var ve=re[Te];if(we>=ve.pmax)Ae=ue[Te+1];else if(we<ve.pmin)break}return(we-Ae)/le}}}if("match"!==N.rangemode){var de=R.r2l(N.range[0]),he=R.r2l(N.range[1])-de;P.d2pOppAxis=function(we){return(we-de)/he*P._height}}I.call(d,w,k,P).call(m,w,k,P).call(h,w,k,P).call(T,w,k,P,N).call(_,w,k,P).call(g,w,k,P),function(we,Ae,Te,ve){if(!Ae._context.staticPlot){var xe=we.select("rect."+u.slideBoxClassName).node(),Fe=we.select("rect."+u.grabAreaMinClassName).node(),Se=we.select("rect."+u.grabAreaMaxClassName).node();we.on("mousedown",ke),we.on("touchstart",ke)}function ke(){var pe=D.event,fe=pe.target,be=pe.clientX||pe.touches[0].clientX,Le=be-we.node().getBoundingClientRect().left,Oe=ve.d2p(Te._rl[0]),De=ve.d2p(Te._rl[1]),Ue=o.coverSlip();function Ge(Ie){var Ee,Be,We,He=+(Ie.clientX||Ie.touches[0].clientX)-be;switch(fe){case xe:if(We="ew-resize",Oe+He>Te._length||De+He<0)return;Ee=Oe+He,Be=De+He;break;case Fe:if(We="col-resize",Oe+He>Te._length)return;Ee=Oe+He,Be=De;break;case Se:if(We="col-resize",De+He<0)return;Ee=Oe,Be=De+He;break;default:We="ew-resize",Ee=Le,Be=Le+He}if(Be<Ee){var Je=Be;Be=Ee,Ee=Je}ve._pixelMin=Ee,ve._pixelMax=Be,l(D.select(Ue),We),function(et,at,mt,ct){function St(ht){return mt.l2r(S.constrain(ht,ct._rl[0],ct._rl[1]))}var Dt=St(ct.p2d(ct._pixelMin)),Et=St(ct.p2d(ct._pixelMax));window.requestAnimationFrame(function(){E.call("_guiRelayout",at,mt._name+".range",[Dt,Et])})}(0,Ae,Te,ve)}function ye(){Ue.removeEventListener("mousemove",Ge),Ue.removeEventListener("mouseup",ye),this.removeEventListener("touchmove",Ge),this.removeEventListener("touchend",ye),S.removeElement(Ue)}this.addEventListener("touchmove",Ge),this.addEventListener("touchend",ye),Ue.addEventListener("mousemove",Ge),Ue.addEventListener("mouseup",ye)}}(I,w,k,P),function(we,Ae,Te,ve,xe,Fe){var Se=u.handleWidth/2;function ke(Ie){return S.constrain(Ie,0,ve._width)}function pe(Ie){return S.constrain(Ie,0,ve._height)}function fe(Ie){return S.constrain(Ie,-Se,ve._width+Se)}var be=ke(ve.d2p(Te._rl[0])),Le=ke(ve.d2p(Te._rl[1]));if(we.select("rect."+u.slideBoxClassName).attr("x",be).attr("width",Le-be),we.select("rect."+u.maskMinClassName).attr("width",be),we.select("rect."+u.maskMaxClassName).attr("x",Le).attr("width",ve._width-Le),"match"!==Fe.rangemode){var Oe=ve._height-pe(ve.d2pOppAxis(xe._rl[1])),De=ve._height-pe(ve.d2pOppAxis(xe._rl[0]));we.select("rect."+u.maskMinOppAxisClassName).attr("x",be).attr("height",Oe).attr("width",Le-be),we.select("rect."+u.maskMaxOppAxisClassName).attr("x",be).attr("y",De).attr("height",ve._height-De).attr("width",Le-be),we.select("rect."+u.slideBoxClassName).attr("y",Oe).attr("height",De-Oe)}var Ge=Math.round(fe(be-Se))-.5,ye=Math.round(fe(Le-Se))+.5;we.select("g."+u.grabberMinClassName).attr("transform",M(Ge,.5)),we.select("g."+u.grabberMaxClassName).attr("transform",M(ye,.5))}(I,0,k,P,R,N),"bottom"===k.side&&i.draw(w,k._id+"title",{propContainer:k,propName:k._name+".title",placeholder:x._dfltTitle.x,attributes:{x:k._offset+k._length/2,y:G+P._height+P._offsetShift+10+1.5*k.title.font.size,"text-anchor":"middle"}})}))}},549:function(ae,B,r){"use strict";var D=r(41675),E=r(63893),f=r(73251),S=r(18783).LINE_SPACING,M=f.name;function v(c){var i=c&&c[M];return i&&i.visible}B.isVisible=v,B.makeData=function(c){var i=D.list({_fullLayout:c},"x",!0),s=c.margin,a=[];if(!c._has("gl2d"))for(var o=0;o<i.length;o++){var l=i[o];if(v(l)){a.push(l);var u=l[M];u._id=M+l._id,u._height=(c.height-s.b-s.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}c._rangeSliderData=a},B.autoMarginOpts=function(c,i){var s=c._fullLayout,a=i[M],o=i._id.charAt(0),l=0,u=0;return"bottom"===i.side&&(l=i._depth,i.title.text!==s._dfltTitle[o]&&(u=1.5*i.title.font.size+10+a._offsetShift,u+=(i.title.text.match(E.BR_TAG_ALL)||[]).length*i.title.font.size*S)),{x:0,y:i._counterDomainMin,l:0,r:0,t:0,b:a._height+l+Math.max(s.margin.b,u),pad:f.extraPad+2*a._offsetShift}}},13137:function(ae,B,r){"use strict";var D=r(71828),E=r(75148),f=r(47850),S=r(549);ae.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:D.extendFlat({},E,{yaxis:f})}}},layoutAttributes:r(75148),handleDefaults:r(26377),calcAutorange:r(88443),draw:r(72413),isVisible:S.isVisible,makeData:S.makeData,autoMarginOpts:S.autoMarginOpts}},47850:function(ae){"use strict";ae.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(ae,B,r){"use strict";var D=r(50215),E=r(82196).line,f=r(79952).P,S=r(1426).extendFlat,M=r(30962).overrideAll,v=r(44467).templatedArray;r(24695),ae.exports=M(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:S({},D.xref,{}),yref:S({},D.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:E.color,width:S({},E.width,{min:1,dflt:1}),dash:S({},f,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(ae){"use strict";ae.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(85501),S=r(8389),M=r(30477);function v(c,i,s){function a(I,P){return D.coerce(c,i,S,I,P)}var o=a("path"),l="path"!==a("type",o?"path":"rect");l&&delete i.path,a("opacity"),a("line.color"),a("line.width"),a("line.dash");for(var u=["x","y"],d=0;d<2;d++){var m,h,T,_=u[d],g={_fullLayout:s},w=E.coerceRef(c,i,g,_);if((m=E.getFromId(g,w))._selectionIndices.push(i._index),T=M.rangeToShapePosition(m),h=M.shapePositionToRange(m),l){var x=_+"0",b=_+"1",A=c[x],p=c[b];c[x]=h(c[x],!0),c[b]=h(c[b],!0),E.coercePosition(i,g,a,w,x),E.coercePosition(i,g,a,w,b);var O=i[x],k=i[b];void 0!==O&&void 0!==k&&(i[x]=T(O),i[b]=T(k),c[x]=A,c[b]=p)}}l&&D.noneOrAll(c,i,["x0","x1","y0","y1"])}ae.exports=function(c,i){f(c,i,{name:"selections",handleItemDefaults:v});for(var s=i.selections,a=0;a<s.length;a++){var o=s[a];o&&void 0===o.path&&(void 0!==o.x0&&void 0!==o.x1&&void 0!==o.y0&&void 0!==o.y1||(i.selections[a]=null))}}},32485:function(ae,B,r){"use strict";var D=r(60165).readPaths,E=r(42359),f=r(51873).clearOutlineControllers,S=r(7901),M=r(91424),v=r(44467).arrayEditor,c=r(30477),i=c.getPathString;function s(d){var m=d._fullLayout;for(var h in f(d),m._selectionLayer.selectAll("path").remove(),m._plots){var T=m._plots[h].selectionLayer;T&&T.selectAll("path").remove()}for(var _=0;_<m.selections.length;_++)o(d,_)}function a(d){return d._context.editSelection}function o(d,m){d._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+m+'"]').remove();var h=c.makeSelectionsOptionsAndPlotinfo(d,m),T=h.options,_=h.plotinfo;T._input&&function(g){var w=i(d,T),x={"data-index":m,"fill-rule":"evenodd",d:w},b=T.opacity,A="rgba(0,0,0,0)",p=T.line.color||S.contrast(d._fullLayout.plot_bgcolor),O=T.line.width,k=T.line.dash;O||(O=5,k="solid");var I=a(d)&&d._fullLayout._activeSelectionIndex===m;I&&(A=d._fullLayout.activeselection.fillcolor,b=d._fullLayout.activeselection.opacity);for(var P=[],R=1;R>=0;R--){var N=g.append("path").attr(x).style("opacity",R?.1:b).call(S.stroke,p).call(S.fill,A).call(M.dashLine,R?"solid":k,R?4+O:O);if(l(N,d,T),I){var j=v(d.layout,"selections",T);N.style({cursor:"move"});var X={element:N.node(),plotinfo:_,gd:d,editHelpers:j,isActiveSelection:!0},F=D(w,d);E(F,N,X)}else N.style("pointer-events",R?"all":"none");P[R]=N}var Z=P[0];P[1].node().addEventListener("click",function(){return function(W,H){if(a(W)){var G=+H.node().getAttribute("data-index");if(G>=0){if(G===W._fullLayout._activeSelectionIndex)return void u(W);W._fullLayout._activeSelectionIndex=G,W._fullLayout._deactivateSelection=u,s(W)}}}(d,Z)})}(d._fullLayout._selectionLayer)}function l(d,m,h){M.setClipUrl(d,"clip"+m._fullLayout._uid+(h.xref+h.yref),m)}function u(d){a(d)&&d._fullLayout._activeSelectionIndex>=0&&(f(d),delete d._fullLayout._activeSelectionIndex,s(d))}ae.exports={draw:s,drawOne:o,activateLastSelection:function(d){a(d)&&(d._fullLayout._activeSelectionIndex=d._fullLayout.selections.length-1,d._fullLayout._deactivateSelection=u,s(d))}}},53777:function(ae,B,r){"use strict";var D=r(79952).P,E=r(1426).extendFlat;ae.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:E({},D,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(ae){"use strict";ae.exports=function(B,r,D){D("newselection.mode"),D("newselection.line.width")&&(D("newselection.line.color"),D("newselection.line.dash")),D("activeselection.fillcolor"),D("activeselection.opacity")}},35855:function(ae,B,r){"use strict";var D=r(64505).selectMode,E=r(51873).clearOutline,f=r(60165),S=f.readPaths,M=f.writePaths,v=f.fixDatesForPaths;ae.exports=function(c,i){if(c.length){var s=c[0][0];if(s){var a=s.getAttribute("d"),o=i.gd,l=o._fullLayout.newselection,u=i.plotinfo,d=u.xaxis,m=u.yaxis,h=i.isActiveSelection,T=i.dragmode,_=(o.layout||{}).selections||[];if(!D(T)&&void 0!==h){var g=o._fullLayout._activeSelectionIndex;if(g<_.length)switch(o._fullLayout.selections[g].type){case"rect":T="select";break;case"path":T="lasso"}}var w,x=S(a,o,u,h),b={xref:d._id,yref:m._id,opacity:l.opacity,line:{color:l.line.color,width:l.line.width,dash:l.line.dash}};1===x.length&&(w=x[0]),w&&5===w.length&&"select"===T?(b.type="rect",b.x0=w[0][1],b.y0=w[0][2],b.x1=w[2][1],b.y1=w[2][2]):(b.type="path",d&&m&&v(x,d,m),b.path=M(x),w=null),E(o);for(var A=i.editHelpers,p=(A||{}).modifyItem,O=[],k=0;k<_.length;k++){var I=o._fullLayout.selections[k];if(I){if(O[k]=I._input,void 0!==h&&k===o._fullLayout._activeSelectionIndex){var P=b;switch(I.type){case"rect":p("x0",P.x0),p("x1",P.x1),p("y0",P.y0),p("y1",P.y1);break;case"path":p("path",P.path)}}}else O[k]=I}return void 0===h?(O.push(b),O):A?A.getUpdateObj():{}}}}},75549:function(ae,B,r){"use strict";var D=r(71828).strTranslate;function E(f,S){switch(f.type){case"log":return f.p2d(S);case"date":return f.p2r(S,0,f.calendar);default:return f.p2r(S)}}ae.exports={p2r:E,r2p:function(f,S){switch(f.type){case"log":return f.d2p(S);case"date":return f.r2p(S,0,f.calendar);default:return f.r2p(S)}},axValue:function(f){var S="y"===f._id.charAt(0)?1:0;return function(M){return E(f,M[S])}},getTransform:function(f){return D(f.xaxis._offset,f.yaxis._offset)}}},47322:function(ae,B,r){"use strict";var D=r(32485),E=r(3937);ae.exports={moduleType:"component",name:"selections",layoutAttributes:r(8389),supplyLayoutDefaults:r(59402),supplyDrawNewSelectionDefaults:r(90849),includeBasePlot:r(76325)("selections"),draw:D.draw,drawOne:D.drawOne,reselect:E.reselect,prepSelect:E.prepSelect,clearOutline:E.clearOutline,clearSelectionsCache:E.clearSelectionsCache,selectOnClick:E.selectOnClick}},3937:function(ae,B,r){"use strict";var D=r(52142),E=r(38258),f=r(73972),S=r(91424).dashStyle,M=r(7901),v=r(30211),c=r(23469).makeEventData,i=r(64505),s=i.freeMode,a=i.rectMode,o=i.drawMode,l=i.openMode,u=i.selectMode,d=r(30477),m=r(21459),h=r(42359),T=r(51873).clearOutline,_=r(60165),g=_.handleEllipse,w=_.readPaths,x=r(90551).newShapes,b=r(35855),A=r(32485).activateLastSelection,p=r(71828),O=p.sorterAsc,k=r(61082),I=r(79990),P=r(41675).getFromId,R=r(33306),N=r(61549).redrawReglTraces,j=r(34122),X=j.MINSELECT,F=k.filter,Z=k.tester,W=r(75549),H=W.p2r,G=W.axValue,Y=W.getTransform;function se(ye){return void 0!==ye.subplot}function te(ye,Ie,Ee,Be,We,He,Je){var et,at,mt,ct,St,Dt,Et,ht,pt,it,Pt=Ie._hoverdata,Ft=Ie._fullLayout.clickmode.indexOf("event")>-1,Ht=[];if((it=Pt)&&Array.isArray(it)&&!0!==it[0].hoverOnBox){oe(ye,Ie,He);var Lt=function(it,gt){var ft,Ve,qe=it[0],dt=-1,ut=[];for(Ve=0;Ve<gt.length;Ve++)if(qe.fullData._expandedIndex===(ft=gt[Ve]).cd[0].trace._expandedIndex){if(!0===qe.hoverOnBox)break;void 0!==qe.pointNumber?dt=qe.pointNumber:void 0!==qe.binNumber&&(dt=qe.binNumber,ut=qe.pointNumbers);break}return{pointNumber:dt,pointNumbers:ut,searchInfo:ft}}(Pt,et=de(Ie,Ee,Be,We));if(Lt.pointNumbers.length>0?function(it,gt){var ft,Ve,qe,dt=[];for(qe=0;qe<it.length;qe++)(ft=it[qe]).cd[0].trace.selectedpoints&&ft.cd[0].trace.selectedpoints.length>0&&dt.push(ft);if(1===dt.length&&dt[0]===gt.searchInfo&&(Ve=gt.searchInfo.cd[0].trace).selectedpoints.length===gt.pointNumbers.length){for(qe=0;qe<gt.pointNumbers.length;qe++)if(Ve.selectedpoints.indexOf(gt.pointNumbers[qe])<0)return!1;return!0}return!1}(et,Lt):function(it){var gt,ft,Ve=0;for(ft=0;ft<it.length;ft++)if((gt=it[ft].cd[0].trace).selectedpoints&&(gt.selectedpoints.length>1||(Ve+=gt.selectedpoints.length)>1))return!1;return 1===Ve}(et)&&(Dt=we(Lt))){for(Je&&Je.remove(),pt=0;pt<et.length;pt++)(at=et[pt])._module.selectPoints(at,!1);Ae(Ie,et),le(He),Ft&&Ge(Ie)}else{for(Et=ye.shiftKey&&(void 0!==Dt?Dt:we(Lt)),mt=function(it,gt,ft){return{pointNumber:it,searchInfo:gt,subtract:!!ft}}(Lt.pointNumber,Lt.searchInfo,Et),ct=ee(He.selectionDefs.concat([mt])),pt=0;pt<et.length;pt++)if(St=ve(et[pt]._module.selectPoints(et[pt],ct),et[pt]),Ht.length)for(var tt=0;tt<St.length;tt++)Ht.push(St[tt]);else Ht=St;if(Ae(Ie,et,ht={points:Ht}),mt&&He&&He.selectionDefs.push(mt),Je){var rt=He.mergedPolygons,Ke=l(He.dragmode);h(xe(rt,Ke),Je,He)}Ft&&Ue(Ie,ht)}}}function re(ye){return"pointNumber"in ye&&"searchInfo"in ye}function Q(ye){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Ie,Ee,Be,We){return We.cd[0].trace._expandedIndex===ye.searchInfo.cd[0].trace._expandedIndex&&Be===ye.pointNumber},isRect:!1,degenerate:!1,subtract:!!ye.subtract}}function ee(ye){if(ye.length){for(var Ie=[],Ee=re(ye[0])?0:ye[0][0][0],Be=Ee,We=re(ye[0])?0:ye[0][0][1],He=We,Je=0;Je<ye.length;Je++)if(re(ye[Je]))Ie.push(Q(ye[Je]));else{var et=Z(ye[Je]);et.subtract=!!ye[Je].subtract,Ie.push(et),Ee=Math.min(Ee,et.xmin),Be=Math.max(Be,et.xmax),We=Math.min(We,et.ymin),He=Math.max(He,et.ymax)}return{xmin:Ee,xmax:Be,ymin:We,ymax:He,pts:[],contains:function(at,mt,ct,St){for(var Dt=!1,Et=0;Et<Ie.length;Et++)Ie[Et].contains(at,mt,ct,St)&&(Dt=!Ie[Et].subtract);return Dt},isRect:!1,degenerate:!1}}}function oe(ye,Ie,Ee){var Be=Ie._fullLayout,We=Ee.plotinfo,He=Ee.dragmode,Je=Be._lastSelectedSubplot&&Be._lastSelectedSubplot===We.id,et=(ye.shiftKey||ye.altKey)&&!(o(He)&&l(He));Je&&et&&We.selection&&We.selection.selectionDefs&&!Ee.selectionDefs?(Ee.selectionDefs=We.selection.selectionDefs,Ee.mergedPolygons=We.selection.mergedPolygons):et&&We.selection||le(Ee),Je||(T(Ie),Be._lastSelectedSubplot=We.id)}function le(ye,Ie){var Ee=ye.dragmode,Be=ye.plotinfo,We=ye.gd;We._fullLayout._activeShapeIndex>=0&&We._fullLayout._deactivateShape(We),We._fullLayout._activeSelectionIndex>=0&&We._fullLayout._deactivateSelection(We);var He=We._fullLayout._zoomlayer,Je=o(Ee),et=u(Ee);if(Je||et){var at,mt,ct=He.selectAll(".select-outline-"+Be.id);ct&&We._fullLayout._outlining&&(Je&&(at=x(ct,ye)),at&&f.call("_guiRelayout",We,{shapes:at}),et&&!se(ye)&&(mt=b(ct,ye)),mt&&(We._fullLayout._noEmitSelectedAtStart=!0,f.call("_guiRelayout",We,{selections:mt}).then(function(){Ie&&A(We)})),We._fullLayout._outlining=!1)}Be.selection={},Be.selection.selectionDefs=ye.selectionDefs=[],Be.selection.mergedPolygons=ye.mergedPolygons=[]}function ue(ye){return ye._id}function de(ye,Ie,Ee,Be){if(!ye.calcdata)return[];var We,He,Je,et=[],at=Ie.map(ue),mt=Ee.map(ue);for(Je=0;Je<ye.calcdata.length;Je++)if(!0===(He=(We=ye.calcdata[Je])[0].trace).visible&&He._module&&He._module.selectPoints)if(!se({subplot:Be})||He.subplot!==Be&&He.geo!==Be)if("splom"===He.type){if(He._xaxes[at[0]]&&He._yaxes[mt[0]]){var ct=he(He._module,We,Ie[0],Ee[0]);ct.scene=ye._fullLayout._splomScenes[He.uid],et.push(ct)}}else if("sankey"===He.type){var St=he(He._module,We,Ie[0],Ee[0]);et.push(St)}else{if(-1===at.indexOf(He.xaxis)||-1===mt.indexOf(He.yaxis))continue;et.push(he(He._module,We,P(ye,He.xaxis),P(ye,He.yaxis)))}else et.push(he(He._module,We,Ie[0],Ee[0]));return et}function he(ye,Ie,Ee,Be){return{_module:ye,cd:Ie,xaxis:Ee,yaxis:Be}}function we(ye){var Ie=ye.searchInfo.cd[0].trace,Be=ye.pointNumbers;return!!Ie.selectedpoints&&Ie.selectedpoints.indexOf(Be.length>0?Be[0]:ye.pointNumber)>-1}function Ae(ye,Ie,Ee){var Be,We;for(Be=0;Be<Ie.length;Be++){var He=Ie[Be].cd[0].trace._fullInput,Je=ye._fullLayout._tracePreGUI[He.uid]||{};void 0===Je.selectedpoints&&(Je.selectedpoints=He._input.selectedpoints||null)}if(Ee){var et=Ee.points||[];for(Be=0;Be<Ie.length;Be++)(We=Ie[Be].cd[0].trace)._input.selectedpoints=We._fullInput.selectedpoints=[],We._fullInput!==We&&(We.selectedpoints=[]);for(var at=0;at<et.length;at++){var mt=et[at],ct=mt.data,St=mt.fullData,Dt=mt.pointIndex,Et=mt.pointIndices;Et?([].push.apply(ct.selectedpoints,Et),We._fullInput!==We&&[].push.apply(St.selectedpoints,Et)):(ct.selectedpoints.push(Dt),We._fullInput!==We&&St.selectedpoints.push(Dt))}}else for(Be=0;Be<Ie.length;Be++)delete(We=Ie[Be].cd[0].trace).selectedpoints,delete We._input.selectedpoints,We._fullInput!==We&&delete We._fullInput.selectedpoints;!function(ht,pt){for(var Pt=!1,Ft=0;Ft<pt.length;Ft++){var Ht=pt[Ft],Lt=Ht.cd;f.traceIs(Lt[0].trace,"regl")&&(Pt=!0);var tt=Ht._module,rt=tt.styleOnSelect||tt.style;rt&&(rt(ht,Lt,Lt[0].node3),Lt[0].nodeRangePlot3&&rt(ht,Lt,Lt[0].nodeRangePlot3))}Pt&&(R(ht),N(ht))}(ye,Ie)}function Te(ye,Ie,Ee){for(var Be=(Ee?D.difference:D.union)({regions:ye},{regions:[Ie]}).regions.reverse(),We=0;We<Be.length;We++){var He=Be[We];He.subtract=be(He,Be.slice(0,We))}return Be}function ve(ye,Ie){if(Array.isArray(ye))for(var Ee=Ie.cd,Be=Ie.cd[0].trace,We=0;We<ye.length;We++)ye[We]=c(ye[We],Be,Ee);return ye}function xe(ye,Ie){for(var Ee=[],Be=0;Be<ye.length;Be++){Ee[Be]=[];for(var We=0;We<ye[Be].length;We++){Ee[Be][We]=[],Ee[Be][We][0]=We?"L":"M";for(var He=0;He<ye[Be][We].length;He++)Ee[Be][We].push(ye[Be][We][He])}Ie||Ee[Be].push(["Z",Ee[Be][0][1],Ee[Be][0][2]])}return Ee}function Fe(ye,Ie){for(var Ee,Be,We=[],He=[],Je=0;Je<Ie.length;Je++){var et=Ie[Je];Be=et._module.selectPoints(et,ye),He.push(Be),Ee=ve(Be,et),We=We.concat(Ee)}return We}function Se(ye,Ie,Ee,Be,We){var He,Je,et,at=!!Be;We&&(He=We.plotinfo,Je=We.xaxes[0]._id,et=We.yaxes[0]._id);var mt=[],ct=[],St=fe(ye),Dt=ye._fullLayout;if(He){var Et=Dt._zoomlayer,ht=Dt.dragmode,pt=o(ht),Pt=u(ht);if(pt||Pt){var Ft=P(ye,Je,"x"),Ht=P(ye,et,"y");if(Ft&&Ht){var Lt=Et.selectAll(".select-outline-"+He.id);if(Lt&&ye._fullLayout._outlining&&Lt.length){for(var tt=Lt[0][0].getAttribute("d"),rt=w(tt,ye,He),Ke=[],it=0;it<rt.length;it++){for(var gt=rt[it],ft=[],Ve=0;Ve<gt.length;Ve++)ft.push([Le(Ft,gt[Ve][1]),Le(Ht,gt[Ve][2])]);ft.xref=Je,ft.yref=et,ft.subtract=be(ft,Ke),Ke.push(ft)}St=St.concat(Ke)}}}}var qe=Je&&et?[Je+et]:Dt._subplots.cartesian;!function(Sn){var qn=Sn.calcdata;if(qn)for(var kn=0;kn<qn.length;kn++){var fr=Sn._fullLayout._splomScenes;if(fr){var er=fr[qn[kn][0].trace.uid];er&&(er.selectBatch=[])}}}(ye);for(var dt={},ut=0;ut<qe.length;ut++){var At=qe[ut],wt=At.indexOf("y"),kt=At.slice(0,wt),_t=At.slice(wt),Rt=Je&&et?Ee:void 0;if(Rt=pe(St,kt,_t,Rt)){var bt=Be;if(!at){var Tt=P(ye,kt,"x"),Ot=P(ye,_t,"y");bt=de(ye,[Tt],[Ot],At);for(var Wt=0;Wt<bt.length;Wt++){var qt=bt[Wt],Jt=qt.cd[0],pn=Jt.trace;if("scattergl"===qt._module.name&&!Jt.t.xpx){var en=pn.x,nn=pn.y,dn=pn._length;Jt.t.xpx=[],Jt.t.ypx=[];for(var In=0;In<dn;In++)Jt.t.xpx[In]=Tt.c2p(en[In]),Jt.t.ypx[In]=Ot.c2p(nn[In])}"splom"===qt._module.name&&(dt[pn.uid]||(dt[pn.uid]=!0))}}var Hn=Fe(Rt,bt);mt=mt.concat(Hn),ct=ct.concat(bt)}}var An={points:mt};Ae(ye,ct,An);var on=Dt.clickmode.indexOf("event")>-1&&Ie;if(!He&&Ie){var yn=fe(ye,!0);if(yn.length){var ln=yn[0].xref,wn=yn[0].yref;if(ln&&wn){var Cn=Oe(yn);De([P(ye,ln,"x"),P(ye,wn,"y")])(An,Cn)}}ye._fullLayout._noEmitSelectedAtStart?ye._fullLayout._noEmitSelectedAtStart=!1:on&&Ue(ye,An),Dt._reselect=!1}if(!He&&Dt._deselect){var Ln=Dt._deselect;(function(Sn,qn,kn){for(var Zn=0;Zn<kn.length;Zn++){var fr=kn[Zn];if(fr.xaxis&&fr.xaxis._id===Sn&&fr.yaxis&&fr.yaxis._id===qn)return!0}return!1})(Je=Ln.xref,et=Ln.yref,ct)||ke(ye,Je,et,Be),on&&(An.points.length?Ue(ye,An):Ge(ye)),Dt._deselect=!1}return{eventData:An,selectionTesters:Ee}}function ke(ye,Ie,Ee,Be){Be=de(ye,[P(ye,Ie,"x")],[P(ye,Ee,"y")],Ie+Ee);for(var We=0;We<Be.length;We++){var He=Be[We];He._module.selectPoints(He,!1)}Ae(ye,Be)}function pe(ye,Ie,Ee,Be){for(var We,He=0;He<ye.length;He++){var Je=ye[He];Ie===Je.xref&&Ee===Je.yref&&(We?Be=ee(We=Te(We,Je,!!Je.subtract)):(We=[Je],Be=Z(Je)))}return Be}function fe(ye,Ie){for(var Ee=[],Be=ye._fullLayout,We=Be.selections,He=We.length,Je=0;Je<He;Je++)if(!Ie||Je===Be._activeSelectionIndex){var et=We[Je];if(et){var at,mt,ct,St,Dt,Et=et.xref,ht=et.yref,pt=P(ye,Et,"x"),Pt=P(ye,ht,"y");if("rect"===et.type){Dt=[];var Ft=Le(pt,et.x0),Ht=Le(pt,et.x1),Lt=Le(Pt,et.y0),tt=Le(Pt,et.y1);Dt=[[Ft,Lt],[Ft,tt],[Ht,tt],[Ht,Lt]],at=Math.min(Ft,Ht),mt=Math.max(Ft,Ht),ct=Math.min(Lt,tt),St=Math.max(Lt,tt),Dt.xmin=at,Dt.xmax=mt,Dt.ymin=ct,Dt.ymax=St,Dt.xref=Et,Dt.yref=ht,Dt.subtract=!1,Dt.isRect=!0,Ee.push(Dt)}else if("path"===et.type)for(var rt=et.path.split("Z"),Ke=[],it=0;it<rt.length;it++){var gt=rt[it];if(gt){var ft=d.extractPathCoords(gt+="Z",m.paramIsX,"raw"),Ve=d.extractPathCoords(gt,m.paramIsY,"raw");at=1/0,mt=-1/0,ct=1/0,St=-1/0,Dt=[];for(var qe=0;qe<ft.length;qe++){var dt=Le(pt,ft[qe]),ut=Le(Pt,Ve[qe]);Dt.push([dt,ut]),at=Math.min(dt,at),mt=Math.max(dt,mt),ct=Math.min(ut,ct),St=Math.max(ut,St)}Dt.xmin=at,Dt.xmax=mt,Dt.ymin=ct,Dt.ymax=St,Dt.xref=Et,Dt.yref=ht,Dt.subtract=be(Dt,Ke),Ke.push(Dt),Ee.push(Dt)}}}}return Ee}function be(ye,Ie){for(var Ee=!1,Be=0;Be<Ie.length;Be++)for(var We=Ie[Be],He=0;He<ye.length;He++)if(E(ye[He],We)){Ee=!Ee;break}return Ee}function Le(ye,Ie){return"date"===ye.type&&(Ie=Ie.replace("_"," ")),"log"===ye.type?ye.c2p(Ie):ye.r2p(Ie,null,ye.calendar)}function Oe(ye){for(var Ie=ye.length,Ee=[],Be=0;Be<Ie;Be++){var We=ye[Be];Ee=(Ee=Ee.concat(We)).concat([We[0]])}return(He=Ee).isRect=5===He.length&&He[0][0]===He[4][0]&&He[0][1]===He[4][1]&&He[0][0]===He[1][0]&&He[2][0]===He[3][0]&&He[0][1]===He[3][1]&&He[1][1]===He[2][1]||He[0][1]===He[1][1]&&He[2][1]===He[3][1]&&He[0][0]===He[3][0]&&He[1][0]===He[2][0],He.isRect&&(He.xmin=Math.min(He[0][0],He[2][0]),He.xmax=Math.max(He[0][0],He[2][0]),He.ymin=Math.min(He[0][1],He[2][1]),He.ymax=Math.max(He[0][1],He[2][1])),He;var He}function De(ye){return function(Ie,Ee){for(var Be,We,He=0;He<ye.length;He++){var Je=ye[He],et=Je._id,at=et.charAt(0);if(Ee.isRect){Be||(Be={});var mt=Ee[at+"min"],ct=Ee[at+"max"];void 0!==mt&&void 0!==ct&&(Be[et]=[H(Je,mt),H(Je,ct)].sort(O))}else We||(We={}),We[et]=Ee.map(G(Je))}Be&&(Ie.range=Be),We&&(Ie.lassoPoints=We)}}function Ue(ye,Ie){Ie&&(Ie.selections=(ye.layout||{}).selections||[]),ye.emit("plotly_selected",Ie)}function Ge(ye){ye.emit("plotly_deselect",null)}ae.exports={reselect:Se,prepSelect:function(ye,Ie,Ee,Be,We){var He=!se(Be),Je=s(We),et=a(We),at=l(We),mt=o(We),ct=u(We),St="drawcircle"===We,Dt="drawline"===We||St,Et=Be.gd,ht=Et._fullLayout,pt=ct&&"immediate"===ht.newselection.mode&&He,Pt=ht._zoomlayer,Ft=Be.element.getBoundingClientRect(),Ht=Be.plotinfo,Lt=Y(Ht),tt=Ie-Ft.left,rt=Ee-Ft.top;ht._calcInverseTransform(Et);var it,gt,ft,Ve,qe,dt,ut,Ke=p.apply3DTransform(ht._invTransform)(tt,rt),At=ht._invScaleX,wt=ht._invScaleY,kt=tt=Ke[0],_t=rt=Ke[1],Rt="M"+tt+","+rt,bt=Be.xaxes[0],Tt=Be.yaxes[0],Ot=bt._length,Wt=Tt._length,qt=ye.altKey&&!(o(We)&&at);oe(ye,Et,Be),Je&&(it=F([[tt,rt]],j.BENDPX));var Jt=Pt.selectAll("path.select-outline-"+Ht.id).data([1]),pn=mt?ht.newshape:ht.newselection;mt&&(Be.hasText=pn.label.text||pn.label.texttemplate);var en=mt&&!at?pn.fillcolor:"rgba(0,0,0,0)",nn=pn.line.color||(He?M.contrast(Et._fullLayout.plot_bgcolor):"#7f7f7f");Jt.enter().append("path").attr("class","select-outline select-outline-"+Ht.id).style({opacity:mt?pn.opacity/2:1,"stroke-dasharray":S(pn.line.dash,pn.line.width),"stroke-width":pn.line.width+"px","shape-rendering":"crispEdges"}).call(M.stroke,nn).call(M.fill,en).attr("fill-rule","evenodd").classed("cursor-move",!!mt).attr("transform",Lt).attr("d",Rt+"Z");var dn=Pt.append("path").attr("class","zoombox-corners").style({fill:M.background,stroke:M.defaultLine,"stroke-width":1}).attr("transform",Lt).attr("d","M0,0Z");if(mt&&Be.hasText){var In=Pt.select(".label-temp");In.empty()&&(In=Pt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Hn=ht._uid+j.SELECTID,An=[],on=de(Et,Be.xaxes,Be.yaxes,Be.subplot);pt&&!ye.shiftKey&&(Be._clearSubplotSelections=function(){if(He){var ln=bt._id,wn=Tt._id;ke(Et,ln,wn,on);for(var Cn=(Et.layout||{}).selections||[],Ln=[],Sn=!1,qn=0;qn<Cn.length;qn++){var kn=ht.selections[qn];kn.xref!==ln||kn.yref!==wn?Ln.push(Cn[qn]):Sn=!0}Sn&&(Et._fullLayout._noEmitSelectedAtStart=!0,f.call("_guiRelayout",Et,{selections:Ln}))}});var ln,yn=(ln=Be).plotinfo.fillRangeItems||De(ln.xaxes.concat(ln.yaxes));Be.moveFn=function(ln,wn){Be._clearSubplotSelections&&(Be._clearSubplotSelections(),Be._clearSubplotSelections=void 0),kt=Math.max(0,Math.min(Ot,At*ln+tt)),_t=Math.max(0,Math.min(Wt,wt*wn+rt));var Cn=Math.abs(kt-tt),Ln=Math.abs(_t-rt);if(et){var Sn,qn,kn;if(ct){var Zn=ht.selectdirection;switch(Sn="any"===Zn?Ln<Math.min(.6*Cn,X)?"h":Cn<Math.min(.6*Ln,X)?"v":"d":Zn){case"h":qn=St?Wt/2:0,kn=Wt;break;case"v":qn=St?Ot/2:0,kn=Ot}}if(mt)switch(ht.newshape.drawdirection){case"vertical":Sn="h",qn=St?Wt/2:0,kn=Wt;break;case"horizontal":Sn="v",qn=St?Ot/2:0,kn=Ot;break;case"ortho":Cn<Ln?(Sn="h",qn=rt,kn=_t):(Sn="v",qn=tt,kn=kt);break;default:Sn="d"}"h"===Sn?((Ve=Dt?g(St,[kt,qn],[kt,kn]):[[tt,qn],[tt,kn],[kt,kn],[kt,qn]]).xmin=Dt?kt:Math.min(tt,kt),Ve.xmax=Dt?kt:Math.max(tt,kt),Ve.ymin=Math.min(qn,kn),Ve.ymax=Math.max(qn,kn),dn.attr("d","M"+Ve.xmin+","+(rt-X)+"h-4v"+2*X+"h4ZM"+(Ve.xmax-1)+","+(rt-X)+"h4v"+2*X+"h-4Z")):"v"===Sn?((Ve=Dt?g(St,[qn,_t],[kn,_t]):[[qn,rt],[qn,_t],[kn,_t],[kn,rt]]).xmin=Math.min(qn,kn),Ve.xmax=Math.max(qn,kn),Ve.ymin=Dt?_t:Math.min(rt,_t),Ve.ymax=Dt?_t:Math.max(rt,_t),dn.attr("d","M"+(tt-X)+","+Ve.ymin+"v-4h"+2*X+"v4ZM"+(tt-X)+","+(Ve.ymax-1)+"v4h"+2*X+"v-4Z")):"d"===Sn&&((Ve=Dt?g(St,[tt,rt],[kt,_t]):[[tt,rt],[tt,_t],[kt,_t],[kt,rt]]).xmin=Math.min(tt,kt),Ve.xmax=Math.max(tt,kt),Ve.ymin=Math.min(rt,_t),Ve.ymax=Math.max(rt,_t),dn.attr("d","M0,0Z"))}else Je&&(it.addPt([kt,_t]),Ve=it.filtered);if(Be.selectionDefs&&Be.selectionDefs.length?(ft=Te(Be.mergedPolygons,Ve,qt),Ve.subtract=qt,gt=ee(Be.selectionDefs.concat([Ve]))):(ft=[Ve],gt=Z(Ve)),h(xe(ft,at),Jt,Be),ct){var fr,er=Se(Et,!1),nr=er.eventData?er.eventData.points.slice():[];er=Se(Et,!1,gt,on,Be),gt=er.selectionTesters,ut=er.eventData,fr=it?it.filtered:Oe(ft),I.throttle(Hn,j.SELECTDELAY,function(){for(var mr=(An=Fe(gt,on)).slice(),dr=0;dr<nr.length;dr++){for(var Ir=nr[dr],Yt=!1,$t=0;$t<mr.length;$t++)if(mr[$t].curveNumber===Ir.curveNumber&&mr[$t].pointNumber===Ir.pointNumber){Yt=!0;break}Yt||mr.push(Ir)}mr.length&&(ut||(ut={}),ut.points=mr),yn(ut,fr),Et.emit("plotly_selecting",ut)})}},Be.clickFn=function(ln,wn){if(dn.remove(),Et._fullLayout._activeShapeIndex>=0)Et._fullLayout._deactivateShape(Et);else if(!mt){var Cn=ht.clickmode;I.done(Hn).then(function(){if(I.clear(Hn),2===ln){for(Jt.remove(),qe=0;qe<on.length;qe++)(dt=on[qe])._module.selectPoints(dt,!1);if(Ae(Et,on),le(Be),Ge(Et),on.length){var Ln=on[0].xaxis,Sn=on[0].yaxis;if(Ln&&Sn){for(var qn=[],kn=Et._fullLayout.selections,Zn=0;Zn<kn.length;Zn++){var fr=kn[Zn];fr&&(fr.xref===Ln._id&&fr.yref===Sn._id||qn.push(fr))}qn.length<kn.length&&(Et._fullLayout._noEmitSelectedAtStart=!0,f.call("_guiRelayout",Et,{selections:qn}))}}}else Cn.indexOf("select")>-1&&te(wn,Et,Be.xaxes,Be.yaxes,Be.subplot,Be,Jt),"event"===Cn&&Ue(Et,void 0);v.click(Et,wn,Ht.id)}).catch(p.error)}},Be.doneFn=function(){dn.remove(),I.done(Hn).then(function(){I.clear(Hn),!pt&&Ve&&Be.selectionDefs&&(Ve.subtract=qt,Be.selectionDefs.push(Ve),Be.mergedPolygons.length=0,[].push.apply(Be.mergedPolygons,ft)),(pt||mt)&&le(Be,pt),Be.doneFnCompleted&&Be.doneFnCompleted(An),ct&&Ue(Et,ut)}).catch(p.error)}},clearOutline:T,clearSelectionsCache:le,selectOnClick:te}},89827:function(ae,B,r){"use strict";var D=r(50215),E=r(41940),f=r(82196).line,S=r(79952).P,M=r(1426).extendFlat,v=r(44467).templatedArray,c=(r(24695),r(9012)),i=r(5386).R,s=r(37281);ae.exports=v("shape",{visible:M({},c.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:M({},c.legend,{editType:"calc+arraydraw"}),legendgroup:M({},c.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:M({},c.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:E({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:M({},c.legendrank,{editType:"calc+arraydraw"}),legendwidth:M({},c.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:M({},D.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:M({},D.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:M({},f.color,{editType:"arraydraw"}),width:M({},f.width,{editType:"calc+arraydraw"}),dash:M({},S,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:i({},{keys:Object.keys(s)}),font:E({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(21459),S=r(30477);function M(s){return c(s.line.width,s.xsizemode,s.x0,s.x1,s.path,!1)}function v(s){return c(s.line.width,s.ysizemode,s.y0,s.y1,s.path,!0)}function c(s,a,o,l,u,d){var m=s/2,h=d;if("pixel"===a){var T=u?S.extractPathCoords(u,d?f.paramIsY:f.paramIsX):[o,l],_=D.aggNums(Math.max,null,T),g=D.aggNums(Math.min,null,T),w=g<0?Math.abs(g)+m:m,x=_>0?_+m:m;return{ppad:m,ppadplus:h?w:x,ppadminus:h?x:w}}return{ppad:m}}function i(s,a,o,l,u){var d="category"===s.type||"multicategory"===s.type?s.r2c:s.d2c;if(void 0!==a)return[d(a),d(o)];if(l){var m,h,T,_,g=1/0,w=-1/0,x=l.match(f.segmentRE);for("date"===s.type&&(d=S.decodeDate(d)),m=0;m<x.length;m++)void 0!==(h=u[x[m].charAt(0)].drawn)&&(!(T=x[m].substr(1).match(f.paramRE))||T.length<h||((_=d(T[h]))<g&&(g=_),_>w&&(w=_)));return w>=g?[g,w]:void 0}}ae.exports=function(s){var o=D.filterVisible(s._fullLayout.shapes);if(o.length&&s._fullData.length)for(var l=0;l<o.length;l++){var u,d,m=o[l];m._extremes={};var h=E.getRefType(m.xref),T=E.getRefType(m.yref);if("paper"!==m.xref&&"domain"!==h){var _="pixel"===m.xsizemode?m.xanchor:m.x0,g="pixel"===m.xsizemode?m.xanchor:m.x1;(d=i(u=E.getFromId(s,m.xref),_,g,m.path,f.paramIsX))&&(m._extremes[u._id]=E.findExtremes(u,d,M(m)))}if("paper"!==m.yref&&"domain"!==T){var w="pixel"===m.ysizemode?m.yanchor:m.y0,x="pixel"===m.ysizemode?m.yanchor:m.y1;(d=i(u=E.getFromId(s,m.yref),w,x,m.path,f.paramIsY))&&(m._extremes[u._id]=E.findExtremes(u,d,v(m)))}}}},21459:function(ae){"use strict";ae.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(85501),S=r(89827),M=r(30477);function v(c,i,s){function a(W,H){return D.coerce(c,i,S,W,H)}if(i._isShape=!0,a("visible")){a("showlegend")&&(a("legend"),a("legendwidth"),a("legendgroup"),a("legendgrouptitle.text"),D.coerceFont(a,"legendgrouptitle.font"),a("legendrank"));var o=a("path"),l=a("type",o?"path":"rect"),u="path"!==l;u&&delete i.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule"),a("line.width")&&(a("line.color"),a("line.dash"));for(var d=a("xsizemode"),m=a("ysizemode"),h=["x","y"],T=0;T<2;T++){var _,g,w,x=h[T],b=x+"anchor",A="x"===x?d:m,p={_fullLayout:s},O=E.coerceRef(c,i,p,x,void 0,"paper");if("range"===E.getRefType(O)?((_=E.getFromId(p,O))._shapeIndices.push(i._index),w=M.rangeToShapePosition(_),g=M.shapePositionToRange(_)):g=w=D.identity,u){var k=x+"0",I=x+"1",P=c[k],R=c[I];c[k]=g(c[k],!0),c[I]=g(c[I],!0),"pixel"===A?(a(k,0),a(I,10)):(E.coercePosition(i,p,a,O,k,.25),E.coercePosition(i,p,a,O,I,.75)),i[k]=w(i[k]),i[I]=w(i[I]),c[k]=P,c[I]=R}if("pixel"===A){var N=c[b];c[b]=g(c[b],!0),E.coercePosition(i,p,a,O,b,.25),i[b]=w(i[b]),c[b]=N}}u&&D.noneOrAll(c,i,["x0","x1","y0","y1"]);var j,X,F="line"===l;if(u&&(j=a("label.texttemplate")),j||(X=a("label.text")),X||j){a("label.textangle");var Z=a("label.textposition",F?"middle":"middle center");a("label.xanchor"),a("label.yanchor",(H=Z,F?"bottom":-1!==H.indexOf("top")?"top":-1!==H.indexOf("bottom")?"bottom":"middle")),a("label.padding"),D.coerceFont(a,"label.font",s.font)}}var H}ae.exports=function(c,i){f(c,i,{name:"shapes",handleItemDefaults:v})}},48100:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(63893),S=r(91424),M=r(60165).readPaths,v=r(30477),c=v.getPathString,i=r(37281),s=r(18783).FROM_TL;ae.exports=function(a,o,l,u){if(u.selectAll(".shape-label").remove(),l.label.text||l.label.texttemplate){var d;if(l.label.texttemplate){var m={};if("path"!==l.type){var h=E.getFromId(a,l.xref),T=E.getFromId(a,l.yref);for(var _ in i){var g=i[_](l,h,T);void 0!==g&&(m[_]=g)}}d=D.texttemplateStringForShapes(l.label.texttemplate,{},a._fullLayout._d3locale,m)}else d=l.label.text;var w,x,b,A,p={"data-index":o},O=l.label.font,k=u.append("g").attr(p).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(d);if(l.path){var I=c(a,l),P=M(I,a);w=1/0,b=1/0,x=-1/0,A=-1/0;for(var R=0;R<P.length;R++)for(var N=0;N<P[R].length;N++)for(var j=P[R][N],X=1;X<j.length;X+=2){var F=j[X],Z=j[X+1];w=Math.min(w,F),x=Math.max(x,F),b=Math.min(b,Z),A=Math.max(A,Z)}}else{var W=E.getFromId(a,l.xref),H=E.getRefType(l.xref),G=E.getFromId(a,l.yref),Y=E.getRefType(l.yref),se=v.getDataToPixel(a,W,!1,H),te=v.getDataToPixel(a,G,!0,Y);w=se(l.x0),x=se(l.x1),b=te(l.y0),A=te(l.y1)}var re=l.label.textangle;"auto"===re&&(re="line"===l.type?(ue=w,de=b,he=x,we=A,Te=Math.abs(he-ue),-180/Math.PI*Math.atan2(he>=ue?de-we:we-de,Te)):0),k.call(function(ue){return ue.call(S.font,O).attr({}),f.convertToTspans(ue,a),ue});var Q=function(ue,de,he,we,Ae,Te,ve){var xe,Fe,Se,ke,pe=Ae.label.textposition,fe=Ae.label.textangle,be=Ae.label.padding,Le=Ae.type,Oe=Math.PI/180*Te,De=Math.sin(Oe),Ue=Math.cos(Oe),Ge=Ae.label.xanchor,ye=Ae.label.yanchor;if("line"===Le){"start"===pe?(xe=ue,Fe=de):"end"===pe?(xe=he,Fe=we):(xe=(ue+he)/2,Fe=(de+we)/2),"auto"===Ge&&(Ge="start"===pe?"auto"===fe?he>ue?"left":he<ue?"right":"center":he>ue?"right":he<ue?"left":"center":"end"===pe?"auto"===fe?he>ue?"right":he<ue?"left":"center":he>ue?"left":he<ue?"right":"center":"center");var Ie={bottom:-1,middle:0,top:1};if("auto"===fe){var Ee=Ie[ye];Se=-be*De*Ee,ke=be*Ue*Ee}else Se=be*{left:1,center:0,right:-1}[Ge],ke=be*Ie[ye];xe+=Se,Fe+=ke}else Se=be+3,-1!==pe.indexOf("right")?(xe=Math.max(ue,he)-Se,"auto"===Ge&&(Ge="right")):-1!==pe.indexOf("left")?(xe=Math.min(ue,he)+Se,"auto"===Ge&&(Ge="left")):(xe=(ue+he)/2,"auto"===Ge&&(Ge="center")),Fe=-1!==pe.indexOf("top")?Math.min(de,we):-1!==pe.indexOf("bottom")?Math.max(de,we):(de+we)/2,ke=be,"bottom"===ye?Fe-=ke:"top"===ye&&(Fe+=ke);var Be=s[ye],We=Ae.label.font.size,He=ve.height;return{textx:xe+(He*Be-We)*De,texty:Fe+-(He*Be-We)*Ue,xanchor:Ge}}(w,b,x,A,l,re,S.bBox(k.node())),ee=Q.textx,oe=Q.texty;k.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[Q.xanchor],y:oe,x:ee,transform:"rotate("+re+","+ee+","+oe+")"}).call(f.positionText,ee,oe)}var ue,de,he,we,Te}},42359:function(ae,B,r){"use strict";var D=r(71828).strTranslate,E=r(28569),f=r(64505),S=f.drawMode,M=f.selectMode,v=r(73972),c=r(7901),i=r(89995),s=i.i000,a=i.i090,o=i.i180,l=i.i270,u=r(51873).clearOutlineControllers,d=r(60165),m=d.pointsOnRectangle,h=d.pointsOnEllipse,T=d.writePaths,_=r(90551).newShapes,g=r(90551).createShapeObj,w=r(35855),x=r(48100);function b(A,p){var O,k,I,N=A.length;return k=A[O=(p+1)%N][1],I=A[O][2],k===A[p][1]&&I===A[p][2]&&(k=A[O=(p+2)%N][1],I=A[O][2]),[O,k,I]}ae.exports=function A(p,O,k,I){I||(I=0);var P=k.gd;function R(){A(p,O,k,I++),(h(p[0])||k.hasText)&&N({redrawing:!0})}function N(Ae){var Te={};void 0!==k.isActiveShape&&(k.isActiveShape=!1,Te=_(O,k)),void 0!==k.isActiveSelection&&(k.isActiveSelection=!1,Te=w(O,k),P._fullLayout._reselect=!0),Object.keys(Te).length&&v.call((Ae||{}).redrawing?"relayout":"_guiRelayout",P,Te)}var j,X,F,Z,W,H=P._fullLayout._zoomlayer,G=k.dragmode,Y=S(G),se=M(G);if((Y||se)&&(P._fullLayout._outlining=!0),u(P),O.attr("d",T(p)),I||!k.isActiveShape&&!k.isActiveSelection||(W=function(Ae,Te){for(var ve=0;ve<Te.length;ve++){var xe=Te[ve];Ae[ve]=[];for(var Fe=0;Fe<xe.length;Fe++){Ae[ve][Fe]=[];for(var Se=0;Se<xe[Fe].length;Se++)Ae[ve][Fe][Se]=xe[Fe][Se]}}return Ae}([],p),function(Ae){j=[];for(var Te=0;Te<p.length;Te++){var ve=p[Te],xe=m(ve),Fe=!xe&&h(ve);j[Te]=[];for(var Se=ve.length,ke=0;ke<Se;ke++)if("Z"!==ve[ke][0]&&(!Fe||ke===s||ke===a||ke===o||ke===l)){var pe,fe=xe&&k.isActiveSelection;fe&&(pe=b(ve,ke));var be=ve[ke][1],Le=ve[ke][2],Oe=Ae.append(fe?"rect":"circle").attr("data-i",Te).attr("data-j",ke).style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(fe){var De=pe[1]-be,Ue=pe[2]-Le,Ge=Ue?5:Math.max(Math.min(25,Math.abs(De)-5),5),ye=De?5:Math.max(Math.min(25,Math.abs(Ue)-5),5);Oe.classed(Ue?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Ge).attr("height",ye).attr("x",be-Ge/2).attr("y",Le-ye/2).attr("transform",D(De/2,Ue/2))}else Oe.classed("cursor-grab",!0).attr("r",5).attr("cx",be).attr("cy",Le);j[Te][ke]={element:Oe.node(),gd:P,prepFn:Q,doneFn:oe,clickFn:le},E.init(j[Te][ke])}}}(H.append("g").attr("class","outline-controllers")),X=[],p.length&&(X[0]={element:O[0][0],gd:P,prepFn:function de(Ae){(F=+Ae.srcElement.getAttribute("data-i"))||(F=0),X[F].moveFn=ue},doneFn:function he(){N()},clickFn:function we(Ae){2===Ae&&function(Te){if(M(Te._fullLayout.dragmode)){u(Te);var ve=Te._fullLayout._activeSelectionIndex,xe=(Te.layout||{}).selections||[];if(ve<xe.length){for(var Fe=[],Se=0;Se<xe.length;Se++)Se!==ve&&Fe.push(xe[Se]);delete Te._fullLayout._activeSelectionIndex;var ke=Te._fullLayout.selections[ve];Te._fullLayout._deselect={xref:ke.xref,yref:ke.yref},v.call("_guiRelayout",Te,{selections:Fe})}}}(P)}},E.init(X[0]))),Y&&k.hasText){var te=H.select(".label-temp"),re=g(O,k,k.dragmode);x(P,"label-temp",re,te)}function Q(Ae){F=+Ae.srcElement.getAttribute("data-i"),Z=+Ae.srcElement.getAttribute("data-j"),j[F][Z].moveFn=ee}function ee(Ae,Te){if(p.length){var ve=W[F][Z][1],xe=W[F][Z][2],Fe=p[F],Se=Fe.length;if(m(Fe)){var ke=Ae,pe=Te;k.isActiveSelection&&(b(Fe,Z)[1]===Fe[Z][1]?pe=0:ke=0);for(var fe=0;fe<Se;fe++)if(fe!==Z){var be=Fe[fe];be[1]===Fe[Z][1]&&(be[1]=ve+ke),be[2]===Fe[Z][2]&&(be[2]=xe+pe)}if(Fe[Z][1]=ve+ke,Fe[Z][2]=xe+pe,!m(Fe))for(var Le=0;Le<Se;Le++)for(var Oe=0;Oe<Fe[Le].length;Oe++)Fe[Le][Oe]=W[F][Le][Oe]}else Fe[Z][1]=ve+Ae,Fe[Z][2]=xe+Te;R()}}function oe(){N()}function le(Ae,Te){if(2===Ae){F=+Te.srcElement.getAttribute("data-i"),Z=+Te.srcElement.getAttribute("data-j");var ve=p[F];m(ve)||h(ve)||function(){if(p.length&&p[F]&&p[F].length){for(var xe=[],Fe=0;Fe<p[F].length;Fe++)Fe!==Z&&xe.push(p[F][Fe]);xe.length>1&&(2!==xe.length||"Z"!==xe[1][0])&&(0===Z&&(xe[0][0]="M"),p[F]=xe,R(),N())}}()}}function ue(Ae,Te){(function(ve,xe){if(p.length)for(var Fe=0;Fe<p.length;Fe++)for(var Se=0;Se<p[Fe].length;Se++)for(var ke=0;ke+2<p[Fe][Se].length;ke+=2)p[Fe][Se][ke+1]=W[Fe][Se][ke+1]+ve,p[Fe][Se][ke+2]=W[Fe][Se][ke+2]+xe})(Ae,Te),R()}}},34031:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(71828),S=r(89298),M=r(60165).readPaths,v=r(42359),c=r(48100),i=r(51873).clearOutlineControllers,s=r(7901),a=r(91424),o=r(44467).arrayEditor,l=r(28569),u=r(6964),d=r(21459),m=r(30477),h=m.getPathString;function T(p){var O=p._fullLayout;for(var k in O._shapeUpperLayer.selectAll("path").remove(),O._shapeLowerLayer.selectAll("path").remove(),O._shapeUpperLayer.selectAll("text").remove(),O._shapeLowerLayer.selectAll("text").remove(),O._plots){var I=O._plots[k].shapelayer;I&&(I.selectAll("path").remove(),I.selectAll("text").remove())}for(var P=0;P<O.shapes.length;P++)!0===O.shapes[P].visible&&w(p,P)}function _(p){return!!p._fullLayout._outlining}function g(p){return!p._context.edits.shapePosition}function w(p,O){p._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+O+'"]').remove();var k=m.makeShapesOptionsAndPlotinfo(p,O),I=k.options,P=k.plotinfo;I._input&&!0===I.visible&&function R(N){var j=h(p,I),X={"data-index":O,"fill-rule":I.fillrule,d:j},F=I.opacity,Z=I.fillcolor,W=I.line.width?I.line.color:"rgba(0,0,0,0)",H=I.line.width,G=I.line.dash;H||!0!==I.editable||(H=5,G="solid");var Y="Z"!==j[j.length-1],se=g(p)&&I.editable&&p._fullLayout._activeShapeIndex===O;se&&(Z=Y?"rgba(0,0,0,0)":p._fullLayout.activeshape.fillcolor,F=p._fullLayout.activeshape.opacity);var te,re=N.append("g").classed("shape-group",!0).attr({"data-index":O}),Q=re.append("path").attr(X).style("opacity",F).call(s.stroke,W).call(s.fill,Z).call(a.dashLine,G,H);if(x(re,p,I),c(p,O,I,re),(se||p._context.edits.shapePosition)&&(te=o(p.layout,"shapes",I)),se){Q.style({cursor:"move"});var ee={element:Q.node(),plotinfo:P,gd:p,editHelpers:te,hasText:I.label.text||I.label.texttemplate,isActiveShape:!0},oe=M(j,p);v(oe,Q,ee)}else p._context.edits.shapePosition?function(le,ue,de,he,we,Ae){var Te,ve,xe,Fe,Se,ke,pe,fe,be,Le,Oe,De,Ue,Ge,ye,Ie,Ee=10,Be=10,We="pixel"===de.xsizemode,He="pixel"===de.ysizemode,Je="line"===de.type,et="path"===de.type,at=Ae.modifyItem,mt=D.select(ue.node().parentNode),ct=S.getFromId(le,de.xref),St=S.getRefType(de.xref),Dt=S.getFromId(le,de.yref),Et=S.getRefType(de.yref),ht=m.getDataToPixel(le,ct,!1,St),pt=m.getDataToPixel(le,Dt,!0,Et),Pt=m.getPixelToData(le,ct,!1,St),Ft=m.getPixelToData(le,Dt,!0,Et),Ht=Je?function(){var Ve=Math.max(de.line.width,10),qe=we.append("g").attr("data-index",he).attr("drag-helper",!0);qe.append("path").attr("d",ue.attr("d")).style({cursor:"move","stroke-width":Ve,"stroke-opacity":"0"});var dt={"fill-opacity":"0"},ut=Math.max(Ve/2,10);return qe.append("circle").attr({"data-line-point":"start-point",cx:We?ht(de.xanchor)+de.x0:ht(de.x0),cy:He?pt(de.yanchor)-de.y0:pt(de.y0),r:ut}).style(dt).classed("cursor-grab",!0),qe.append("circle").attr({"data-line-point":"end-point",cx:We?ht(de.xanchor)+de.x1:ht(de.x1),cy:He?pt(de.yanchor)-de.y1:pt(de.y1),r:ut}).style(dt).classed("cursor-grab",!0),qe}():ue,Lt={element:Ht.node(),gd:le,prepFn:function(ft){var Ve,qe,dt,ut,At,wt,kt,_t;_(le)||(We&&(Se=ht(de.xanchor)),He&&(ke=pt(de.yanchor)),"path"===de.type?ye=de.path:(Te=We?de.x0:ht(de.x0),ve=He?de.y0:pt(de.y0),xe=We?de.x1:ht(de.x1),Fe=He?de.y1:pt(de.y1)),Te<xe?(be=Te,Ue="x0",Le=xe,Ge="x1"):(be=xe,Ue="x1",Le=Te,Ge="x0"),!He&&ve<Fe||He&&ve>Fe?(pe=ve,Oe="y0",fe=Fe,De="y1"):(pe=Fe,Oe="y1",fe=ve,De="y0"),tt(ft),it(we,de),Ve=ue,At=(qe=de).yref,wt=S.getFromId(dt=le,ut=qe.xref),kt=S.getFromId(dt,At),_t="","paper"===ut||wt.autorange||(_t+=ut),"paper"===At||kt.autorange||(_t+=At),a.setClipUrl(Ve,_t?"clip"+dt._fullLayout._uid+_t:null,dt),Lt.moveFn="move"===Ie?rt:Ke,Lt.altKey=ft.altKey)},doneFn:function(){_(le)||(u(ue),gt(we),x(ue,le,de),E.call("_guiRelayout",le,Ae.getUpdateObj()))},clickFn:function(){_(le)||gt(we)}};function tt(ft){if(_(le))Ie=null;else if(Je)Ie="path"===ft.target.tagName?"move":"start-point"===ft.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var Ve=Lt.element.getBoundingClientRect(),qe=Ve.right-Ve.left,dt=Ve.bottom-Ve.top,wt=!et&&qe>Ee&&dt>Be&&!ft.shiftKey?l.getCursor((ft.clientX-Ve.left)/qe,1-(ft.clientY-Ve.top)/dt):"move";u(ue,wt),Ie=wt.split("-")[0]}}function rt(ft,Ve){if("path"===de.type){var qe=function(At){return At},dt=qe,ut=qe;We?at("xanchor",de.xanchor=Pt(Se+ft)):(dt=function(At){return Pt(ht(At)+ft)},ct&&"date"===ct.type&&(dt=m.encodeDate(dt))),He?at("yanchor",de.yanchor=Ft(ke+Ve)):(ut=function(At){return Ft(pt(At)+Ve)},Dt&&"date"===Dt.type&&(ut=m.encodeDate(ut))),at("path",de.path=b(ye,dt,ut))}else We?at("xanchor",de.xanchor=Pt(Se+ft)):(at("x0",de.x0=Pt(Te+ft)),at("x1",de.x1=Pt(xe+ft))),He?at("yanchor",de.yanchor=Ft(ke+Ve)):(at("y0",de.y0=Ft(ve+Ve)),at("y1",de.y1=Ft(Fe+Ve)));ue.attr("d",h(le,de)),it(we,de),c(le,he,de,mt)}function Ke(ft,Ve){if(et){var qe=function(nn){return nn},dt=qe,ut=qe;We?at("xanchor",de.xanchor=Pt(Se+ft)):(dt=function(nn){return Pt(ht(nn)+ft)},ct&&"date"===ct.type&&(dt=m.encodeDate(dt))),He?at("yanchor",de.yanchor=Ft(ke+Ve)):(ut=function(nn){return Ft(pt(nn)+Ve)},Dt&&"date"===Dt.type&&(ut=m.encodeDate(ut))),at("path",de.path=b(ye,dt,ut))}else if(Je){if("resize-over-start-point"===Ie){var At=Te+ft,wt=He?ve-Ve:ve+Ve;at("x0",de.x0=We?At:Pt(At)),at("y0",de.y0=He?wt:Ft(wt))}else if("resize-over-end-point"===Ie){var kt=xe+ft,_t=He?Fe-Ve:Fe+Ve;at("x1",de.x1=We?kt:Pt(kt)),at("y1",de.y1=He?_t:Ft(_t))}}else{var Rt=function(nn){return-1!==Ie.indexOf(nn)},bt=Rt("n"),Tt=Rt("s"),Ot=Rt("w"),Wt=Rt("e"),qt=bt?pe+Ve:pe,Jt=Tt?fe+Ve:fe,pn=Ot?be+ft:be,en=Wt?Le+ft:Le;He&&(bt&&(qt=pe-Ve),Tt&&(Jt=fe-Ve)),(!He&&Jt-qt>Be||He&&qt-Jt>Be)&&(at(Oe,de[Oe]=He?qt:Ft(qt)),at(De,de[De]=He?Jt:Ft(Jt))),en-pn>Ee&&(at(Ue,de[Ue]=We?pn:Pt(pn)),at(Ge,de[Ge]=We?en:Pt(en)))}ue.attr("d",h(le,de)),it(we,de),c(le,he,de,mt)}function it(ft,Ve){(We||He)&&function(){var qe="path"!==Ve.type,dt=ft.selectAll(".visual-cue").data([0]);dt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var ut=ht(We?Ve.xanchor:f.midRange(qe?[Ve.x0,Ve.x1]:m.extractPathCoords(Ve.path,d.paramIsX))),At=pt(He?Ve.yanchor:f.midRange(qe?[Ve.y0,Ve.y1]:m.extractPathCoords(Ve.path,d.paramIsY)));ut=m.roundPositionForSharpStrokeRendering(ut,1),At=m.roundPositionForSharpStrokeRendering(At,1),dt.attr("d",We&&He?"M"+(ut-1-1)+","+(At-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":We?"M"+(ut-1-1)+","+(At-9-1)+"v18 h2 v-18 Z":"M"+(ut-9-1)+","+(At-1-1)+"h18 v2 h-18 Z")}()}function gt(ft){ft.selectAll(".visual-cue").remove()}l.init(Lt),Ht.node().onmousemove=tt}(p,Q,I,O,N,te):!0===I.editable&&Q.style("pointer-events",Y||s.opacity(Z)*F<=.5?"stroke":"all");Q.node().addEventListener("click",function(){return function(le,ue){if(g(le)){var de=+ue.node().getAttribute("data-index");if(de>=0){if(de===le._fullLayout._activeShapeIndex)return void A(le);le._fullLayout._activeShapeIndex=de,le._fullLayout._deactivateShape=A,T(le)}}}(p,Q)})}("below"!==I.layer?p._fullLayout._shapeUpperLayer:"paper"===I.xref||"paper"===I.yref?p._fullLayout._shapeLowerLayer:P._hadPlotinfo?(P.mainplotinfo||P).shapelayer:p._fullLayout._shapeLowerLayer)}function x(p,O,k){var I=(k.xref+k.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");a.setClipUrl(p,I?"clip"+O._fullLayout._uid+I:null,O)}function b(p,O,k){return p.replace(d.segmentRE,function(I){var P=0,R=I.charAt(0),N=d.paramIsX[R],j=d.paramIsY[R],X=d.numParams[R];return R+I.substr(1).replace(d.paramRE,function(F){return P>=X||(N[P]?F=O(F):j[P]&&(F=k(F)),P++),F})})}function A(p){g(p)&&p._fullLayout._activeShapeIndex>=0&&(i(p),delete p._fullLayout._activeShapeIndex,T(p))}ae.exports={draw:T,drawOne:w,eraseActiveShape:function(p){if(g(p)){i(p);var O=p._fullLayout._activeShapeIndex,k=(p.layout||{}).shapes||[];if(O<k.length){for(var I=[],P=0;P<k.length;P++)P!==O&&I.push(k[P]);return delete p._fullLayout._activeShapeIndex,E.call("_guiRelayout",p,{shapes:I})}}},drawLabel:c}},29241:function(ae,B,r){"use strict";var D=r(30962).overrideAll,E=r(9012),f=r(41940),S=r(79952).P,M=r(1426).extendFlat,v=r(5386).R,c=r(37281);ae.exports=D({newshape:{visible:M({},E.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:M({},E.legend,{}),legendgroup:M({},E.legendgroup,{}),legendgrouptitle:{text:M({},E.legendgrouptitle.text,{}),font:f({})},legendrank:M({},E.legendrank,{}),legendwidth:M({},E.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:M({},S,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:M({},E.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(c)}),font:f({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(ae){"use strict";ae.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(ae,B,r){"use strict";var D=r(7901),E=r(71828);ae.exports=function(f,S,M){M("newshape.visible"),M("newshape.name"),M("newshape.showlegend"),M("newshape.legend"),M("newshape.legendwidth"),M("newshape.legendgroup"),M("newshape.legendgrouptitle.text"),E.coerceFont(M,"newshape.legendgrouptitle.font"),M("newshape.legendrank"),M("newshape.drawdirection"),M("newshape.layer"),M("newshape.fillcolor"),M("newshape.fillrule"),M("newshape.opacity"),M("newshape.line.width")&&(M("newshape.line.color",D.contrast((f||{}).plot_bgcolor||"#FFF")),M("newshape.line.dash"));var l,c="drawline"===f.dragmode,i=M("newshape.label.text"),s=M("newshape.label.texttemplate");if(i||s){M("newshape.label.textangle");var a=M("newshape.label.textposition",c?"middle":"middle center");M("newshape.label.xanchor"),M("newshape.label.yanchor",(l=a,c?"bottom":-1!==l.indexOf("top")?"top":-1!==l.indexOf("bottom")?"bottom":"middle")),M("newshape.label.padding"),E.coerceFont(M,"newshape.label.font",S.font)}M("activeshape.fillcolor"),M("activeshape.opacity")}},60165:function(ae,B,r){"use strict";var D=r(95616),E=r(89995),f=E.CIRCLE_SIDES,S=E.SQRT2,M=r(75549),v=M.p2r,c=M.r2p,i=[0,3,4,5,6,1,2],s=[0,3,4,1,2];function a(l,u){return Math.abs(l-u)<=1e-6}function o(l,u){var d=u[1]-l[1],m=u[2]-l[2];return Math.sqrt(d*d+m*m)}B.writePaths=function(l){var u=l.length;if(!u)return"M0,0Z";for(var d="",m=0;m<u;m++)for(var h=l[m].length,T=0;T<h;T++){var _=l[m][T][0];if("Z"===_)d+="Z";else for(var g=l[m][T].length,w=0;w<g;w++){var x=w;"Q"===_||"S"===_?x=s[w]:"C"===_&&(x=i[w]),d+=l[m][T][x],w>0&&w<g-1&&(d+=",")}}return d},B.readPaths=function(l,u,d,m){var h,T,_,g=D(l),w=[],x=-1,b=0,A=0,p=function(){T=b,_=A};p();for(var O=0;O<g.length;O++){var N=[],j=g[O][0],X=j;switch(j){case"M":w[++x]=[],N.push([X,b=+g[O][1],A=+g[O][2]]),p();break;case"Q":case"S":N.push([X,b=+g[O][3],A=+g[O][4],+g[O][1],+g[O][2]]);break;case"C":N.push([X,b=+g[O][5],A=+g[O][6],+g[O][1],+g[O][2],+g[O][3],+g[O][4]]);break;case"T":case"L":N.push([X,b=+g[O][1],A=+g[O][2]]);break;case"H":N.push([X="L",b=+g[O][1],A]);break;case"V":N.push([X="L",b,A=+g[O][1]]);break;case"A":X="L";var F=+g[O][1],Z=+g[O][2];+g[O][4]||(F=-F,Z=-Z);var W=b-F,H=A;for(h=1;h<=f/2;h++){var G=2*Math.PI*h/f;N.push([X,W+F*Math.cos(G),H+Z*Math.sin(G)])}break;case"Z":b===T&&A===_||N.push([X,b=T,A=_])}for(var Y=(d||{}).domain,se=u._fullLayout._size,te=d&&"pixel"===d.xsizemode,re=d&&"pixel"===d.ysizemode,Q=!1===m,ee=0;ee<N.length;ee++){for(h=0;h+2<7;h+=2){var oe=N[ee][h+1],le=N[ee][h+2];void 0!==oe&&void 0!==le&&(b=oe,A=le,d&&(d.xaxis&&d.xaxis.p2r?(Q&&(oe-=d.xaxis._offset),oe=te?c(d.xaxis,d.xanchor)+oe:v(d.xaxis,oe)):(Q&&(oe-=se.l),Y?oe=Y.x[0]+oe/se.w:oe/=se.w),d.yaxis&&d.yaxis.p2r?(Q&&(le-=d.yaxis._offset),le=re?c(d.yaxis,d.yanchor)-le:v(d.yaxis,le)):(Q&&(le-=se.t),le=Y?Y.y[1]-le/se.h:1-le/se.h)),N[ee][h+1]=oe,N[ee][h+2]=le)}w[x].push(N[ee].slice())}}return w},B.pointsOnRectangle=function(l){if(5!==l.length)return!1;for(var u=1;u<3;u++)if(!a(l[0][u]-l[1][u],l[3][u]-l[2][u])||!a(l[0][u]-l[3][u],l[1][u]-l[2][u]))return!1;return!(!a(l[0][1],l[1][1])&&!a(l[0][1],l[3][1])||!(o(l[0],l[1])*o(l[0],l[3])))},B.pointsOnEllipse=function(l){var u=l.length;if(u!==f+1)return!1;u=f;for(var d=0;d<u;d++){var m=(2*u-d)%u,h=(u/2+m)%u;if(!a(o(l[d],l[(u/2+d)%u]),o(l[m],l[h])))return!1}return!0},B.handleEllipse=function(l,u,d){if(!l)return[u,d];var m=B.ellipseOver({x0:u[0],y0:u[1],x1:d[0],y1:d[1]}),h=(m.x1+m.x0)/2,T=(m.y1+m.y0)/2,_=(m.x1-m.x0)/2,g=(m.y1-m.y0)/2;_||(_=g/=S),g||(g=_/=S);for(var w=[],x=0;x<f;x++){var b=2*x*Math.PI/f;w.push([h+_*Math.cos(b),T+g*Math.sin(b)])}return w},B.ellipseOver=function(l){var u=l.x0,d=l.y0,m=l.x1,h=l.y1,T=m-u,_=h-d,g=((u-=T)+m)/2,w=((d-=_)+h)/2;return{x0:g-(T*=S),y0:w-(_*=S),x1:g+T,y1:w+_}},B.fixDatesForPaths=function(l,u,d){var m="date"===u.type,h="date"===d.type;if(!m&&!h)return l;for(var T=0;T<l.length;T++)for(var _=0;_<l[T].length;_++)for(var g=0;g+2<l[T][_].length;g+=2)m&&(l[T][_][g+1]=l[T][_][g+1].replace(" ","_")),h&&(l[T][_][g+2]=l[T][_][g+2].replace(" ","_"));return l}},90551:function(ae,B,r){"use strict";var D=r(64505),E=D.drawMode,f=D.openMode,S=r(89995),M=S.i000,v=S.i090,c=S.i180,i=S.i270,s=S.cos45,a=S.sin45,o=r(75549),l=o.p2r,u=o.r2p,d=r(51873).clearOutline,m=r(60165),h=m.readPaths,T=m.writePaths,_=m.ellipseOver,g=m.fixDatesForPaths;function w(x,b,A){var p,k=b.gd,I=x[0][0].getAttribute("d"),P=k._fullLayout.newshape,R=b.plotinfo,N=b.isActiveShape,j=R.xaxis,X=R.yaxis,F=!!R.domain||!R.xaxis,Z=!!R.domain||!R.yaxis,W=f(A),H=h(I,k,R,N),G={editable:!0,visible:P.visible,name:P.name,showlegend:P.showlegend,legend:P.legend,legendwidth:P.legendwidth,legendgroup:P.legendgroup,legendgrouptitle:{text:P.legendgrouptitle.text,font:P.legendgrouptitle.font},legendrank:P.legendrank,label:P.label,xref:F?"paper":j._id,yref:Z?"paper":X._id,layer:P.layer,opacity:P.opacity,line:{color:P.line.color,width:P.line.width,dash:P.line.dash}};if(W||(G.fillcolor=P.fillcolor,G.fillrule=P.fillrule),1===H.length&&(p=H[0]),p&&5===p.length&&"drawrect"===A)G.type="rect",G.x0=p[0][1],G.y0=p[0][2],G.x1=p[2][1],G.y1=p[2][2];else if(p&&"drawline"===A)G.type="line",G.x0=p[0][1],G.y0=p[0][2],G.x1=p[1][1],G.y1=p[1][2];else if(p&&"drawcircle"===A){G.type="circle";var Y=p[M][1],se=p[v][1],te=p[c][1],re=p[i][1],Q=p[M][2],ee=p[v][2],oe=p[c][2],le=p[i][2],ue=R.xaxis&&("date"===R.xaxis.type||"log"===R.xaxis.type),de=R.yaxis&&("date"===R.yaxis.type||"log"===R.yaxis.type);ue&&(Y=u(R.xaxis,Y),se=u(R.xaxis,se),te=u(R.xaxis,te),re=u(R.xaxis,re)),de&&(Q=u(R.yaxis,Q),ee=u(R.yaxis,ee),oe=u(R.yaxis,oe),le=u(R.yaxis,le));var he=(se+re)/2,we=(Q+oe)/2,Ae=_({x0:he,y0:we,x1:he+(re-se+te-Y)/2*s,y1:we+(le-ee+oe-Q)/2*a});ue&&(Ae.x0=l(R.xaxis,Ae.x0),Ae.x1=l(R.xaxis,Ae.x1)),de&&(Ae.y0=l(R.yaxis,Ae.y0),Ae.y1=l(R.yaxis,Ae.y1)),G.x0=Ae.x0,G.y0=Ae.y0,G.x1=Ae.x1,G.y1=Ae.y1}else G.type="path",j&&X&&g(H,j,X),G.path=T(H),p=null;return G}ae.exports={newShapes:function(x,b){if(x.length&&x[0][0]){var A=b.gd,p=b.isActiveShape,O=b.dragmode,k=(A.layout||{}).shapes||[];if(!E(O)&&void 0!==p){var I=A._fullLayout._activeShapeIndex;if(I<k.length)switch(A._fullLayout.shapes[I].type){case"rect":O="drawrect";break;case"circle":O="drawcircle";break;case"line":O="drawline";break;case"path":var P=k[I].path||"";O="Z"===P[P.length-1]?"drawclosedpath":"drawopenpath"}}var R=w(x,b,O);d(A);for(var N=b.editHelpers,j=(N||{}).modifyItem,X=[],F=0;F<k.length;F++){var Z=A._fullLayout.shapes[F];if(X[F]=Z._input,void 0!==p&&F===A._fullLayout._activeShapeIndex){var W=R;switch(Z.type){case"line":case"rect":case"circle":j("x0",W.x0),j("x1",W.x1),j("y0",W.y0),j("y1",W.y1);break;case"path":j("path",W.path)}}}return void 0===p?(X.push(R),X):N?N.getUpdateObj():{}}},createShapeObj:w}},51873:function(ae){"use strict";ae.exports={clearOutlineControllers:function(B){var r=B._fullLayout._zoomlayer;r&&r.selectAll(".outline-controllers").remove()},clearOutline:function(B){var r=B._fullLayout._zoomlayer;r&&r.selectAll(".select-outline").remove(),B._fullLayout._outlining=!1}}},30477:function(ae,B,r){"use strict";var D=r(21459),E=r(71828),f=r(89298);B.rangeToShapePosition=function(S){return"log"===S.type?S.r2d:function(M){return M}},B.shapePositionToRange=function(S){return"log"===S.type?S.d2r:function(M){return M}},B.decodeDate=function(S){return function(M){return M.replace&&(M=M.replace("_"," ")),S(M)}},B.encodeDate=function(S){return function(M){return S(M).replace(" ","_")}},B.extractPathCoords=function(S,M,v){var c=[];return S.match(D.segmentRE).forEach(function(i){var s=M[i.charAt(0)].drawn;if(void 0!==s){var a=i.substr(1).match(D.paramRE);if(a&&!(a.length<s)){var o=a[s],l=v?o:E.cleanNumber(o);c.push(l)}}}),c},B.getDataToPixel=function(S,M,v,c){var i,s=S._fullLayout._size;if(M)if("domain"===c)i=function(o){return M._length*(v?1-o:o)+M._offset};else{var a=B.shapePositionToRange(M);i=function(o){return M._offset+M.r2p(a(o,!0))},"date"===M.type&&(i=B.decodeDate(i))}else i=v?function(o){return s.t+s.h*(1-o)}:function(o){return s.l+s.w*o};return i},B.getPixelToData=function(S,M,v,c){var i,s=S._fullLayout._size;if(M)if("domain"===c)i=function(o){var l=(o-M._offset)/M._length;return v?1-l:l};else{var a=B.rangeToShapePosition(M);i=function(o){return a(M.p2r(o-M._offset))}}else i=v?function(o){return 1-(o-s.t)/s.h}:function(o){return(o-s.l)/s.w};return i},B.roundPositionForSharpStrokeRendering=function(S,M){var v=1===Math.round(M%2),c=Math.round(S);return v?c+.5:c},B.makeShapesOptionsAndPlotinfo=function(S,M){var v=S._fullLayout.shapes[M]||{},c=S._fullLayout._plots[v.xref+v.yref];return c?c._hadPlotinfo=!0:(c={},v.xref&&"paper"!==v.xref&&(c.xaxis=S._fullLayout[v.xref+"axis"]),v.yref&&"paper"!==v.yref&&(c.yaxis=S._fullLayout[v.yref+"axis"])),c.xsizemode=v.xsizemode,c.ysizemode=v.ysizemode,c.xanchor=v.xanchor,c.yanchor=v.yanchor,{options:v,plotinfo:c}},B.makeSelectionsOptionsAndPlotinfo=function(S,M){var v=S._fullLayout.selections[M]||{},c=S._fullLayout._plots[v.xref+v.yref];return c?c._hadPlotinfo=!0:(c={},v.xref&&(c.xaxis=S._fullLayout[v.xref+"axis"]),v.yref&&(c.yaxis=S._fullLayout[v.yref+"axis"])),{options:v,plotinfo:c}},B.getPathString=function(S,M){var v,c,i,s,a,o,l,u,P,R,N,X,F,Z,W,d=M.type,m=f.getRefType(M.xref),h=f.getRefType(M.yref),T=f.getFromId(S,M.xref),_=f.getFromId(S,M.yref),g=S._fullLayout._size;if(T?"domain"===m?c=function(P){return T._offset+T._length*P}:(v=B.shapePositionToRange(T),c=function(P){return T._offset+T.r2p(v(P,!0))}):c=function(P){return g.l+g.w*P},_?"domain"===h?s=function(P){return _._offset+_._length*(1-P)}:(i=B.shapePositionToRange(_),s=function(P){return _._offset+_.r2p(i(P,!0))}):s=function(P){return g.t+g.h*(1-P)},"path"===d)return T&&"date"===T.type&&(c=B.decodeDate(c)),_&&"date"===_.type&&(s=B.decodeDate(s)),R=c,N=s,X=(P=M).xsizemode,F=P.ysizemode,Z=P.xanchor,W=P.yanchor,P.path.replace(D.segmentRE,function(H){var G=0,Y=H.charAt(0),se=D.paramIsX[Y],te=D.paramIsY[Y],re=D.numParams[Y],Q=H.substr(1).replace(D.paramRE,function(ee){return se[G]?ee="pixel"===X?R(Z)+Number(ee):R(ee):te[G]&&(ee="pixel"===F?N(W)-Number(ee):N(ee)),++G>re&&(ee="X"),ee});return G>re&&(Q=Q.replace(/[\s,]*X.*/,""),E.log("Ignoring extra params in segment "+H)),Y+Q});if("pixel"===M.xsizemode){var w=c(M.xanchor);a=w+M.x0,o=w+M.x1}else a=c(M.x0),o=c(M.x1);if("pixel"===M.ysizemode){var x=s(M.yanchor);l=x-M.y0,u=x-M.y1}else l=s(M.y0),u=s(M.y1);if("line"===d)return"M"+a+","+l+"L"+o+","+u;if("rect"===d)return"M"+a+","+l+"H"+o+"V"+u+"H"+a+"Z";var b=(a+o)/2,A=(l+u)/2,p=Math.abs(b-a),O=Math.abs(A-l),k="A"+p+","+O,I=b+p+","+A;return"M"+I+k+" 0 1,1 "+b+","+(A-O)+k+" 0 0,1 "+I+"Z"}},89853:function(ae,B,r){"use strict";var D=r(34031);ae.exports={moduleType:"component",name:"shapes",layoutAttributes:r(89827),supplyLayoutDefaults:r(84726),supplyDrawNewShapeDefaults:r(45547),includeBasePlot:r(76325)("shapes"),calcAutorange:r(5627),draw:D.draw,drawOne:D.drawOne}},37281:function(ae){"use strict";function B(f,S){return S?S.d2l(f):f}function r(f,S){return S?S.l2d(f):f}function D(f,S){return B(f.x1,S)-B(f.x0,S)}function E(f,S,M){return B(f.y1,M)-B(f.y0,M)}ae.exports={x0:function(f){return f.x0},x1:function(f){return f.x1},y0:function(f){return f.y0},y1:function(f){return f.y1},slope:function(f,S,M){return"line"!==f.type?void 0:E(f,0,M)/D(f,S)},dx:D,dy:E,width:function(f,S){return Math.abs(D(f,S))},height:function(f,S,M){return Math.abs(E(f,0,M))},length:function(f,S,M){return"line"!==f.type?void 0:Math.sqrt(Math.pow(D(f,S),2)+Math.pow(E(f,0,M),2))},xcenter:function(f,S){return r((B(f.x1,S)+B(f.x0,S))/2,S)},ycenter:function(f,S,M){return r((B(f.y1,M)+B(f.y0,M))/2,M)}}},75067:function(ae,B,r){"use strict";var D=r(41940),E=r(35025),f=r(1426).extendDeepAll,S=r(30962).overrideAll,M=r(85594),v=r(44467).templatedArray,c=r(98292),i=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});ae.exports=S(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:i,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:f(E({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:M.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:D({})},font:D({}),activebgcolor:{valType:"color",dflt:c.gripBgActiveColor},bgcolor:{valType:"color",dflt:c.railBgColor},bordercolor:{valType:"color",dflt:c.railBorderColor},borderwidth:{valType:"number",min:0,dflt:c.railBorderWidth},ticklen:{valType:"number",min:0,dflt:c.tickLength},tickcolor:{valType:"color",dflt:c.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:c.minorTickLength}}),"arraydraw","from-root")},98292:function(ae){"use strict";ae.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(ae,B,r){"use strict";var D=r(71828),E=r(85501),f=r(75067),S=r(98292).name,M=f.steps;function v(i,s,a){function o(h,T){return D.coerce(i,s,f,h,T)}for(var l=E(i,s,{name:"steps",handleItemDefaults:c}),u=0,d=0;d<l.length;d++)l[d].visible&&u++;if(u<2?s.visible=!1:o("visible")){s._stepCount=u;var m=s._visibleSteps=D.filterVisible(l);(l[o("active")]||{}).visible||(s.active=m[0]._index),o("x"),o("y"),D.noneOrAll(i,s,["x","y"]),o("xanchor"),o("yanchor"),o("len"),o("lenmode"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),D.coerceFont(o,"font",a.font),o("currentvalue.visible")&&(o("currentvalue.xanchor"),o("currentvalue.prefix"),o("currentvalue.suffix"),o("currentvalue.offset"),D.coerceFont(o,"currentvalue.font",s.font)),o("transition.duration"),o("transition.easing"),o("bgcolor"),o("activebgcolor"),o("bordercolor"),o("borderwidth"),o("ticklen"),o("tickwidth"),o("tickcolor"),o("minorticklen")}}function c(i,s){function a(l,u){return D.coerce(i,s,M,l,u)}if("skip"===i.method||Array.isArray(i.args)?a("visible"):s.visible=!1){a("method"),a("args");var o=a("label","step-"+s._index);a("value",o),a("execute")}}ae.exports=function(i,s){E(i,s,{name:S,handleItemDefaults:v})}},44504:function(ae,B,r){"use strict";var D=r(39898),E=r(74875),f=r(7901),S=r(91424),M=r(71828),v=M.strTranslate,c=r(63893),i=r(44467).arrayEditor,s=r(98292),a=r(18783),o=a.LINE_SPACING,l=a.FROM_TL,u=a.FROM_BR;function d(N){return s.autoMarginIdRoot+N._index}function m(N){return N._index}function h(N,j){var X=S.tester.selectAll("g."+s.labelGroupClass).data(j._visibleSteps);X.enter().append("g").classed(s.labelGroupClass,!0);var F=0,Z=0;X.each(function(ee){var oe=g(D.select(this),{step:ee},j).node();if(oe){var le=S.bBox(oe);Z=Math.max(Z,le.height),F=Math.max(F,le.width)}}),X.remove();var W=j._dims={};W.inputAreaWidth=Math.max(s.railWidth,s.gripHeight);var H=N._fullLayout._size;if(W.lx=H.l+H.w*j.x,W.ly=H.t+H.h*(1-j.y),W.outerLength="fraction"===j.lenmode?Math.round(H.w*j.len):j.len,W.inputAreaStart=0,W.inputAreaLength=Math.round(W.outerLength-j.pad.l-j.pad.r),W.labelStride=Math.max(1,Math.ceil((F+s.labelPadding)/((W.inputAreaLength-2*s.stepInset)/(j._stepCount-1)))),W.labelHeight=Z,W.currentValueMaxWidth=0,W.currentValueHeight=0,W.currentValueTotalHeight=0,W.currentValueMaxLines=1,j.currentvalue.visible){var se=S.tester.append("g");X.each(function(ee){var oe=T(se,j,ee.label),le=oe.node()&&S.bBox(oe.node())||{width:0,height:0},ue=c.lineCount(oe);W.currentValueMaxWidth=Math.max(W.currentValueMaxWidth,Math.ceil(le.width)),W.currentValueHeight=Math.max(W.currentValueHeight,Math.ceil(le.height)),W.currentValueMaxLines=Math.max(W.currentValueMaxLines,ue)}),W.currentValueTotalHeight=W.currentValueHeight+j.currentvalue.offset,se.remove()}W.height=W.currentValueTotalHeight+s.tickOffset+j.ticklen+s.labelOffset+W.labelHeight+j.pad.t+j.pad.b;var te="left";M.isRightAnchor(j)&&(W.lx-=W.outerLength,te="right"),M.isCenterAnchor(j)&&(W.lx-=W.outerLength/2,te="center");var re="top";M.isBottomAnchor(j)&&(W.ly-=W.height,re="bottom"),M.isMiddleAnchor(j)&&(W.ly-=W.height/2,re="middle"),W.outerLength=Math.ceil(W.outerLength),W.height=Math.ceil(W.height),W.lx=Math.round(W.lx),W.ly=Math.round(W.ly);var Q={y:j.y,b:W.height*u[re],t:W.height*l[re]};"fraction"===j.lenmode?(Q.l=0,Q.xl=j.x-j.len*l[te],Q.r=0,Q.xr=j.x+j.len*u[te]):(Q.x=j.x,Q.l=W.outerLength*l[te],Q.r=W.outerLength*u[te]),E.autoMargin(N,d(j),Q)}function T(N,j,X){if(j.currentvalue.visible){var F,Z,W=j._dims;switch(j.currentvalue.xanchor){case"right":F=W.inputAreaLength-s.currentValueInset-W.currentValueMaxWidth,Z="left";break;case"center":F=.5*W.inputAreaLength,Z="middle";break;default:F=s.currentValueInset,Z="left"}var H=M.ensureSingle(N,"text",s.labelClass,function(Q){Q.attr({"text-anchor":Z,"data-notex":1})}),G=j.currentvalue.prefix?j.currentvalue.prefix:"";if("string"==typeof X)G+=X;else{var Y=j.steps[j.active].label,se=j._gd._fullLayout._meta;se&&(Y=M.templateString(Y,se)),G+=Y}j.currentvalue.suffix&&(G+=j.currentvalue.suffix),H.call(S.font,j.currentvalue.font).text(G).call(c.convertToTspans,j._gd);var te=c.lineCount(H);return c.positionText(H,F,(W.currentValueMaxLines+1-te)*j.currentvalue.font.size*o),H}}function _(N,j,X){M.ensureSingle(N,"rect",s.gripRectClass,function(F){F.call(A,j,N,X).style("pointer-events","all")}).attr({width:s.gripWidth,height:s.gripHeight,rx:s.gripRadius,ry:s.gripRadius}).call(f.stroke,X.bordercolor).call(f.fill,X.bgcolor).style("stroke-width",X.borderwidth+"px")}function g(N,j,X){var F=M.ensureSingle(N,"text",s.labelClass,function(H){H.attr({"text-anchor":"middle","data-notex":1})}),Z=j.step.label,W=X._gd._fullLayout._meta;return W&&(Z=M.templateString(Z,W)),F.call(S.font,X.font).text(Z).call(c.convertToTspans,X._gd),F}function w(N,j){var X=M.ensureSingle(N,"g",s.labelsClass),F=j._dims,Z=X.selectAll("g."+s.labelGroupClass).data(F.labelSteps);Z.enter().append("g").classed(s.labelGroupClass,!0),Z.exit().remove(),Z.each(function(W){var H=D.select(this);H.call(g,W,j),S.setTranslate(H,k(j,W.fraction),s.tickOffset+j.ticklen+j.font.size*o+s.labelOffset+F.currentValueTotalHeight)})}function x(N,j,X,F,Z){var W=Math.round(F*(X._stepCount-1)),H=X._visibleSteps[W]._index;H!==X.active&&b(N,j,X,H,!0,Z)}function b(N,j,X,F,Z,W){var H=X.active;X.active=F,i(N.layout,s.name,X).applyUpdate("active",F);var G=X.steps[X.active];j.call(O,X,W),j.call(T,X),N.emit("plotly_sliderchange",{slider:X,step:X.steps[X.active],interaction:Z,previousActive:H}),G&&G.method&&Z&&(j._nextMethod?(j._nextMethod.step=G,j._nextMethod.doCallback=Z,j._nextMethod.doTransition=W):(j._nextMethod={step:G,doCallback:Z,doTransition:W},j._nextMethodRaf=window.requestAnimationFrame(function(){var Y=j._nextMethod.step;Y.method&&(Y.execute&&E.executeAPICommand(N,Y.method,Y.args),j._nextMethod=null,j._nextMethodRaf=null)})))}function A(N,j,X){if(!j._context.staticPlot){var F=X.node(),Z=D.select(j);N.on("mousedown",H),N.on("touchstart",H)}function W(){return X.data()[0]}function H(){var G=W();j.emit("plotly_sliderstart",{slider:G});var Y=X.select("."+s.gripRectClass);D.event.stopPropagation(),D.event.preventDefault(),Y.call(f.fill,G.activebgcolor);var se=I(G,D.mouse(F)[0]);function te(){var Q=W(),ee=I(Q,D.mouse(F)[0]);x(j,X,Q,ee,!1)}function re(){var Q=W();Q._dragging=!1,Y.call(f.fill,Q.bgcolor),Z.on("mouseup",null),Z.on("mousemove",null),Z.on("touchend",null),Z.on("touchmove",null),j.emit("plotly_sliderend",{slider:Q,step:Q.steps[Q.active]})}x(j,X,G,se,!0),G._dragging=!0,Z.on("mousemove",te),Z.on("touchmove",te),Z.on("mouseup",re),Z.on("touchend",re)}}function p(N,j){var X=N.selectAll("rect."+s.tickRectClass).data(j._visibleSteps),F=j._dims;X.enter().append("rect").classed(s.tickRectClass,!0),X.exit().remove(),X.attr({width:j.tickwidth+"px","shape-rendering":"crispEdges"}),X.each(function(Z,W){var H=W%F.labelStride==0,G=D.select(this);G.attr({height:H?j.ticklen:j.minorticklen}).call(f.fill,j.tickcolor),S.setTranslate(G,k(j,W/(j._stepCount-1))-.5*j.tickwidth,(H?s.tickOffset:s.minorTickOffset)+F.currentValueTotalHeight)})}function O(N,j,X){for(var F=N.select("rect."+s.gripRectClass),Z=0,W=0;W<j._stepCount;W++)if(j._visibleSteps[W]._index===j.active){Z=W;break}var H=k(j,Z/(j._stepCount-1));if(!j._invokingCommand){var G=F;X&&j.transition.duration>0&&(G=G.transition().duration(j.transition.duration).ease(j.transition.easing)),G.attr("transform",v(H-.5*s.gripWidth,j._dims.currentValueTotalHeight))}}function k(N,j){var X=N._dims;return X.inputAreaStart+s.stepInset+(X.inputAreaLength-2*s.stepInset)*Math.min(1,Math.max(0,j))}function I(N,j){var X=N._dims;return Math.min(1,Math.max(0,(j-s.stepInset-X.inputAreaStart)/(X.inputAreaLength-2*s.stepInset-2*X.inputAreaStart)))}function P(N,j,X){var F=X._dims,Z=M.ensureSingle(N,"rect",s.railTouchRectClass,function(W){W.call(A,j,N,X).style("pointer-events","all")});Z.attr({width:F.inputAreaLength,height:Math.max(F.inputAreaWidth,s.tickOffset+X.ticklen+F.labelHeight)}).call(f.fill,X.bgcolor).attr("opacity",0),S.setTranslate(Z,0,F.currentValueTotalHeight)}function R(N,j){var X=j._dims,F=X.inputAreaLength-2*s.railInset,Z=M.ensureSingle(N,"rect",s.railRectClass);Z.attr({width:F,height:s.railWidth,rx:s.railRadius,ry:s.railRadius,"shape-rendering":"crispEdges"}).call(f.stroke,j.bordercolor).call(f.fill,j.bgcolor).style("stroke-width",j.borderwidth+"px"),S.setTranslate(Z,s.railInset,.5*(X.inputAreaWidth-s.railWidth)+X.currentValueTotalHeight)}ae.exports=function(N){var j=N._context.staticPlot,X=N._fullLayout,F=function(se,te){for(var re=se[s.name],Q=[],ee=0;ee<re.length;ee++){var oe=re[ee];oe.visible&&(oe._gd=te,Q.push(oe))}return Q}(X,N),Z=X._infolayer.selectAll("g."+s.containerClassName).data(F.length>0?[0]:[]);function W(se){se._commandObserver&&(se._commandObserver.remove(),delete se._commandObserver),E.autoMargin(N,d(se))}if(Z.enter().append("g").classed(s.containerClassName,!0).style("cursor",j?null:"ew-resize"),Z.exit().each(function(){D.select(this).selectAll("g."+s.groupClassName).each(W)}).remove(),0!==F.length){var H=Z.selectAll("g."+s.groupClassName).data(F,m);H.enter().append("g").classed(s.groupClassName,!0),H.exit().each(W).remove();for(var G=0;G<F.length;G++)h(N,F[G]);H.each(function(se){var te=D.select(this);(function(re){var Q=re._dims;Q.labelSteps=[];for(var ee=re._stepCount,oe=0;oe<ee;oe+=Q.labelStride)Q.labelSteps.push({fraction:oe/(ee-1),step:re._visibleSteps[oe]})})(se),E.manageCommandObserver(N,se,se._visibleSteps,function(re){var Q=te.data()[0];Q.active!==re.index&&(Q._dragging||b(N,te,Q,re.index,!1,!0))}),function(re,Q,ee){(ee.steps[ee.active]||{}).visible||(ee.active=ee._visibleSteps[0]._index),Q.call(T,ee).call(R,ee).call(w,ee).call(p,ee).call(P,re,ee).call(_,re,ee);var oe=ee._dims;S.setTranslate(Q,oe.lx+ee.pad.l,oe.ly+ee.pad.t),Q.call(O,ee,!1),Q.call(T,ee)}(N,D.select(this),se)})}}},23243:function(ae,B,r){"use strict";var D=r(98292);ae.exports={moduleType:"component",name:D.name,layoutAttributes:r(75067),supplyLayoutDefaults:r(12343),draw:r(44504)}},92998:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(74875),S=r(73972),M=r(71828),v=M.strTranslate,c=r(91424),i=r(7901),s=r(63893),a=r(37822),o=r(18783).OPPOSITE_SIDE,l=/ [XY][0-9]* /;ae.exports={draw:function(u,d,m){var h,T=m.propContainer,_=m.propName,g=m.placeholder,w=m.traceIndex,x=m.avoid||{},b=m.attributes,A=m.transform,p=m.containerGroup,O=u._fullLayout,k=1,I=!1,P=T.title,R=(P&&P.text?P.text:"").trim(),N=P&&P.font?P.font:{},j=N.family,X=N.size,F=N.color;"title.text"===_?h="titleText":-1!==_.indexOf("axis")?h="axisTitleText":_.indexOf(!0)&&(h="colorbarTitleText");var Z=u._context.edits[h];""===R?k=0:R.replace(l," % ")===g.replace(l," % ")&&(k=.2,I=!0,Z||(R="")),m._meta?R=M.templateString(R,m._meta):O._meta&&(R=M.templateString(R,O._meta));var W,H=R||Z;p||(p=M.ensureSingle(O._infolayer,"g","g-"+d),W=O._hColorbarMoveTitle);var G=p.selectAll("text").data(H?[0]:[]);if(G.enter().append("text"),G.text(R).attr("class",d),G.exit().remove(),!H)return p;function Y(re){M.syncOrAsync([se,te],re)}function se(re){var Q;return!A&&W&&(A={}),A?(Q="",A.rotate&&(Q+="rotate("+[A.rotate,b.x,b.y]+")"),(A.offset||W)&&(Q+=v(0,(A.offset||0)-(W||0)))):Q=null,re.attr("transform",Q),re.style({"font-family":j,"font-size":D.round(X,2)+"px",fill:i.rgb(F),opacity:k*i.opacity(F),"font-weight":f.fontWeight}).attr(b).call(s.convertToTspans,u),f.previousPromises(u)}function te(re){var Q=D.select(re.node().parentNode);if(x&&x.selection&&x.side&&R){Q.attr("transform",null);var ee=o[x.side],oe="left"===x.side||"top"===x.side?-1:1,le=E(x.pad)?x.pad:2,ue=c.bBox(Q.node()),de={t:0,b:0,l:0,r:0},he=u._fullLayout._reservedMargin;for(var we in he)for(var Ae in he[we])de[Ae]=Math.max(de[Ae],he[we][Ae]);var xe=x.maxShift||oe*({left:de.l,top:de.t,right:O.width-de.r,bottom:O.height-de.b}[x.side]-ue[x.side]),Fe=0;if(xe<0)Fe=xe;else{var Se=x.offsetLeft||0,ke=x.offsetTop||0;ue.left-=Se,ue.right-=Se,ue.top-=ke,ue.bottom-=ke,x.selection.each(function(){var fe=c.bBox(this);M.bBoxIntersect(ue,fe,le)&&(Fe=Math.max(Fe,oe*(fe[x.side]-ue[ee])+le))}),Fe=Math.min(xe,Fe),T._titleScoot=Math.abs(Fe)}if(Fe>0||xe<0){var pe={left:[-Fe,0],right:[Fe,0],top:[0,-Fe],bottom:[0,Fe]}[x.side];Q.attr("transform",v(pe[0],pe[1]))}}}return G.call(Y),Z&&(R?G.on(".opacity",null):(k=0,I=!0,G.text(g).on("mouseover.opacity",function(){D.select(this).transition().duration(a.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){D.select(this).transition().duration(a.HIDE_PLACEHOLDER).style("opacity",0)})),G.call(s.makeEditable,{gd:u}).on("edit",function(re){void 0!==w?S.call("_guiRestyle",u,_,re,w):S.call("_guiRelayout",u,_,re)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Y)}).on("input",function(re){this.text(re||" ").call(s.positionText,b.x,b.y)})),G.classed("js-placeholder",I),p}}},7163:function(ae,B,r){"use strict";var D=r(41940),E=r(22399),f=r(1426).extendFlat,S=r(30962).overrideAll,M=r(35025),v=r(44467).templatedArray,c=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});ae.exports=S(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:c,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:f(M({editType:"arraydraw"}),{}),font:D({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:E.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(ae){"use strict";ae.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},64897:function(ae,B,r){"use strict";var D=r(71828),E=r(85501),f=r(7163),S=r(75909).name,M=f.buttons;function v(i,s,a){function o(l,u){return D.coerce(i,s,f,l,u)}o("visible",E(i,s,{name:"buttons",handleItemDefaults:c}).length>0)&&(o("active"),o("direction"),o("type"),o("showactive"),o("x"),o("y"),D.noneOrAll(i,s,["x","y"]),o("xanchor"),o("yanchor"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),D.coerceFont(o,"font",a.font),o("bgcolor",a.paper_bgcolor),o("bordercolor"),o("borderwidth"))}function c(i,s){function a(o,l){return D.coerce(i,s,M,o,l)}a("visible","skip"===i.method||Array.isArray(i.args))&&(a("method"),a("args"),a("args2"),a("label"),a("execute"))}ae.exports=function(i,s){E(i,s,{name:S,handleItemDefaults:v})}},13689:function(ae,B,r){"use strict";var D=r(39898),E=r(74875),f=r(7901),S=r(91424),M=r(71828),v=r(63893),c=r(44467).arrayEditor,i=r(18783).LINE_SPACING,s=r(75909),a=r(25849);function o(k){return k._index}function l(k,I){return+k.attr(s.menuIndexAttrName)===I._index}function u(k,I,P,R,N,j,X,F){I.active=X,c(k.layout,s.name,I).applyUpdate("active",X),"buttons"===I.type?m(k,R,null,null,I):"dropdown"===I.type&&(N.attr(s.menuIndexAttrName,"-1"),d(k,R,N,j,I),F||m(k,R,N,j,I))}function d(k,I,P,R,N){var j=M.ensureSingle(I,"g",s.headerClassName,function(G){G.style("pointer-events","all")}),X=N._dims,W={y:N.pad.t,yPad:0,x:N.pad.l,xPad:0,index:0},H={width:X.headerWidth,height:X.headerHeight};j.call(h,N,N.buttons[N.active]||s.blankHeaderOpts,k).call(p,N,W,H),M.ensureSingle(I,"text",s.headerArrowClassName,function(G){G.attr("text-anchor","end").call(S.font,N.font).text(s.arrowSymbol[N.direction])}).attr({x:X.headerWidth-s.arrowOffsetX+N.pad.l,y:X.headerHeight/2+s.textOffsetY+N.pad.t}),j.on("click",function(){P.call(O,String(l(P,N)?-1:N._index)),m(k,I,P,R,N)}),j.on("mouseover",function(){j.call(w)}),j.on("mouseout",function(){j.call(x,N)}),S.setTranslate(I,X.lx,X.ly)}function m(k,I,P,R,N){P||(P=I).attr("pointer-events","all");var j=-1==+P.attr(s.menuIndexAttrName)&&"buttons"!==N.type?[]:N.buttons,X="dropdown"===N.type?s.dropdownButtonClassName:s.buttonClassName,F=P.selectAll("g."+X).data(M.filterVisible(j)),Z=F.enter().append("g").classed(X,!0),W=F.exit();"dropdown"===N.type?(Z.attr("opacity","0").transition().attr("opacity","1"),W.transition().attr("opacity","0").remove()):W.remove();var H=0,G=0,Y=N._dims,se=-1!==["up","down"].indexOf(N.direction);"dropdown"===N.type&&(se?G=Y.headerHeight+s.gapButtonHeader:H=Y.headerWidth+s.gapButtonHeader),"dropdown"===N.type&&"up"===N.direction&&(G=-s.gapButtonHeader+s.gapButton-Y.openHeight),"dropdown"===N.type&&"left"===N.direction&&(H=-s.gapButtonHeader+s.gapButton-Y.openWidth);var Q,ee,oe,te={x:Y.lx+H+N.pad.l,y:Y.ly+G+N.pad.t,yPad:s.gapButton,xPad:s.gapButton,index:0},re={l:te.x+N.borderwidth,t:te.y+N.borderwidth};F.each(function(Q,ee){var oe=D.select(this);oe.call(h,N,Q,k).call(p,N,te),oe.on("click",function(){D.event.defaultPrevented||(Q.execute&&(Q.args2&&N.active===ee?(u(k,N,0,I,P,R,-1),E.executeAPICommand(k,Q.method,Q.args2)):(u(k,N,0,I,P,R,ee),E.executeAPICommand(k,Q.method,Q.args))),k.emit("plotly_buttonclicked",{menu:N,button:Q,active:N.active}))}),oe.on("mouseover",function(){oe.call(w)}),oe.on("mouseout",function(){oe.call(x,N),F.call(g,N)})}),F.call(g,N),se?(re.w=Math.max(Y.openWidth,Y.headerWidth),re.h=te.y-re.t):(re.w=te.x-re.l,re.h=Math.max(Y.openHeight,Y.headerHeight)),re.direction=N.direction,R&&(F.size()?function(Q,ee,oe,le,ue,de){var he,we,Ae,Te=ue.direction,xe=ue._dims,Fe=ue.active;if("up"===Te||"down"===Te)for(we=0,Ae=0;Ae<Fe;Ae++)we+=xe.heights[Ae]+s.gapButton;else for(he=0,Ae=0;Ae<Fe;Ae++)he+=xe.widths[Ae]+s.gapButton;le.enable(de,he,we),le.hbar&&le.hbar.attr("opacity","0").transition().attr("opacity","1"),le.vbar&&le.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,R,N,re):(oe=!!(Q=R).vbar,(ee=!!Q.hbar)&&Q.hbar.transition().attr("opacity","0").each("end",function(){ee=!1,oe||Q.disable()}),oe&&Q.vbar.transition().attr("opacity","0").each("end",function(){oe=!1,ee||Q.disable()})))}function h(k,I,P,R){k.call(T,I).call(_,I,P,R)}function T(k,I){M.ensureSingle(k,"rect",s.itemRectClassName,function(P){P.attr({rx:s.rx,ry:s.ry,"shape-rendering":"crispEdges"})}).call(f.stroke,I.bordercolor).call(f.fill,I.bgcolor).style("stroke-width",I.borderwidth+"px")}function _(k,I,P,R){var N=M.ensureSingle(k,"text",s.itemTextClassName,function(F){F.attr({"text-anchor":"start","data-notex":1})}),j=P.label,X=R._fullLayout._meta;X&&(j=M.templateString(j,X)),N.call(S.font,I.font).text(j).call(v.convertToTspans,R)}function g(k,I){var P=I.active;k.each(function(R,N){var j=D.select(this);N===P&&I.showactive&&j.select("rect."+s.itemRectClassName).call(f.fill,s.activeColor)})}function w(k){k.select("rect."+s.itemRectClassName).call(f.fill,s.hoverColor)}function x(k,I){k.select("rect."+s.itemRectClassName).call(f.fill,I.bgcolor)}function b(k,I){var P=I._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},R=S.tester.selectAll("g."+s.dropdownButtonClassName).data(M.filterVisible(I.buttons));R.enter().append("g").classed(s.dropdownButtonClassName,!0);var N=-1!==["up","down"].indexOf(I.direction);R.each(function(H,G){var Y=D.select(this);Y.call(h,I,H,k);var se=Y.select("."+s.itemTextClassName),te=se.node()&&S.bBox(se.node()).width,re=Math.max(te+s.textPadX,s.minWidth),Q=I.font.size*i,ee=v.lineCount(se),oe=Math.max(Q*ee,s.minHeight)+s.textOffsetY;oe=Math.ceil(oe),re=Math.ceil(re),P.widths[G]=re,P.heights[G]=oe,P.height1=Math.max(P.height1,oe),P.width1=Math.max(P.width1,re),N?(P.totalWidth=Math.max(P.totalWidth,re),P.openWidth=P.totalWidth,P.totalHeight+=oe+s.gapButton,P.openHeight+=oe+s.gapButton):(P.totalWidth+=re+s.gapButton,P.openWidth+=re+s.gapButton,P.totalHeight=Math.max(P.totalHeight,oe),P.openHeight=P.totalHeight)}),N?P.totalHeight-=s.gapButton:P.totalWidth-=s.gapButton,P.headerWidth=P.width1+s.arrowPadX,P.headerHeight=P.height1,"dropdown"===I.type&&(N?(P.width1+=s.arrowPadX,P.totalHeight=P.height1):P.totalWidth=P.width1,P.totalWidth+=s.arrowPadX),R.remove();var j=P.totalWidth+I.pad.l+I.pad.r,X=P.totalHeight+I.pad.t+I.pad.b,F=k._fullLayout._size;P.lx=F.l+F.w*I.x,P.ly=F.t+F.h*(1-I.y);var Z="left";M.isRightAnchor(I)&&(P.lx-=j,Z="right"),M.isCenterAnchor(I)&&(P.lx-=j/2,Z="center");var W="top";M.isBottomAnchor(I)&&(P.ly-=X,W="bottom"),M.isMiddleAnchor(I)&&(P.ly-=X/2,W="middle"),P.totalWidth=Math.ceil(P.totalWidth),P.totalHeight=Math.ceil(P.totalHeight),P.lx=Math.round(P.lx),P.ly=Math.round(P.ly),E.autoMargin(k,A(I),{x:I.x,y:I.y,l:j*({right:1,center:.5}[Z]||0),r:j*({left:1,center:.5}[Z]||0),b:X*({top:1,middle:.5}[W]||0),t:X*({bottom:1,middle:.5}[W]||0)})}function A(k){return s.autoMarginIdRoot+k._index}function p(k,I,P,R){R=R||{};var N=k.select("."+s.itemRectClassName),j=k.select("."+s.itemTextClassName),X=I.borderwidth,F=P.index,Z=I._dims;S.setTranslate(k,X+P.x,X+P.y);var W=-1!==["up","down"].indexOf(I.direction),H=R.height||(W?Z.heights[F]:Z.height1);N.attr({x:0,y:0,width:R.width||(W?Z.width1:Z.widths[F]),height:H});var G=I.font.size*i,Y=(v.lineCount(j)-1)*G/2;v.positionText(j,s.textOffsetX,H/2-Y+s.textOffsetY),W?P.y+=Z.heights[F]+P.yPad:P.x+=Z.widths[F]+P.xPad,P.index++}function O(k,I){k.attr(s.menuIndexAttrName,I||"-1").selectAll("g."+s.dropdownButtonClassName).remove()}ae.exports=function(k){var I=k._fullLayout,P=M.filterVisible(I[s.name]);function R(G){E.autoMargin(k,A(G))}var N=I._menulayer.selectAll("g."+s.containerClassName).data(P.length>0?[0]:[]);if(N.enter().append("g").classed(s.containerClassName,!0).style("cursor","pointer"),N.exit().each(function(){D.select(this).selectAll("g."+s.headerGroupClassName).each(R)}).remove(),0!==P.length){var j=N.selectAll("g."+s.headerGroupClassName).data(P,o);j.enter().append("g").classed(s.headerGroupClassName,!0);for(var X=M.ensureSingle(N,"g",s.dropdownButtonGroupClassName,function(G){G.style("pointer-events","all")}),F=0;F<P.length;F++)b(k,P[F]);var H=new a(k,X,"updatemenus"+I._uid);j.enter().size()&&(X.node().parentNode.appendChild(X.node()),X.call(O)),j.exit().each(function(G){X.call(O),R(G)}).remove(),j.each(function(G){var Y=D.select(this),se="dropdown"===G.type?X:null;E.manageCommandObserver(k,G,G.buttons,function(te){u(k,G,0,Y,se,H,te.index,!0)}),"dropdown"===G.type?(d(k,Y,X,H,G),l(X,G)&&m(k,Y,X,H,G)):m(k,Y,null,null,G)})}}},20763:function(ae,B,r){"use strict";var D=r(75909);ae.exports={moduleType:"component",name:D.name,layoutAttributes:r(7163),supplyLayoutDefaults:r(64897),draw:r(13689)}},25849:function(ae,B,r){"use strict";ae.exports=M;var D=r(39898),E=r(7901),f=r(91424),S=r(71828);function M(v,c,i){this.gd=v,this.container=c,this.id=i,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}M.barWidth=2,M.barLength=20,M.barRadius=2,M.barPad=1,M.barColor="#808BA4",M.prototype.enable=function(v,c,i){var s=this.gd._fullLayout,a=s.width,o=s.height;this.position=v;var l,u,d,m,h=this.position.l,T=this.position.w,_=this.position.t,g=this.position.h,w=this.position.direction,x="down"===w,b="left"===w,A="up"===w,p=T,O=g;x||b||"right"===w||A||(this.position.direction="down",x=!0),x||A?(u=(l=h)+p,x?(d=_,O=(m=Math.min(d+O,o))-d):O=(m=_+O)-(d=Math.max(m-O,0))):(m=(d=_)+O,b?p=(u=h+p)-(l=Math.max(u-p,0)):(l=h,p=(u=Math.min(l+p,a))-l)),this._box={l,t:d,w:p,h:O};var k=T>p,I=M.barLength+2*M.barPad,P=M.barWidth+2*M.barPad,R=h,N=_+g;N+P>o&&(N=o-P);var j=this.container.selectAll("rect.scrollbar-horizontal").data(k?[0]:[]);j.exit().on(".drag",null).remove(),j.enter().append("rect").classed("scrollbar-horizontal",!0).call(E.fill,M.barColor),k?(this.hbar=j.attr({rx:M.barRadius,ry:M.barRadius,x:R,y:N,width:I,height:P}),this._hbarXMin=R+I/2,this._hbarTranslateMax=p-I):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var X=g>O,F=M.barWidth+2*M.barPad,Z=M.barLength+2*M.barPad,W=h+T,H=_;W+F>a&&(W=a-F);var G=this.container.selectAll("rect.scrollbar-vertical").data(X?[0]:[]);G.exit().on(".drag",null).remove(),G.enter().append("rect").classed("scrollbar-vertical",!0).call(E.fill,M.barColor),X?(this.vbar=G.attr({rx:M.barRadius,ry:M.barRadius,x:W,y:H,width:F,height:Z}),this._vbarYMin=H+Z/2,this._vbarTranslateMax=O-Z):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var Y=this.id,se=l-.5,te=X?u+F+.5:u+.5,re=d-.5,Q=k?m+P+.5:m+.5,ee=s._topdefs.selectAll("#"+Y).data(k||X?[0]:[]);if(ee.exit().remove(),ee.enter().append("clipPath").attr("id",Y).append("rect"),k||X?(this._clipRect=ee.select("rect").attr({x:Math.floor(se),y:Math.floor(re),width:Math.ceil(te)-Math.floor(se),height:Math.ceil(Q)-Math.floor(re)}),this.container.call(f.setClipUrl,Y,this.gd),this.bg.attr({x:h,y:_,width:T,height:g})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(f.setClipUrl,null),delete this._clipRect),k||X){var oe=D.behavior.drag().on("dragstart",function(){D.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(oe);var le=D.behavior.drag().on("dragstart",function(){D.event.sourceEvent.preventDefault(),D.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));k&&this.hbar.on(".drag",null).call(le),X&&this.vbar.on(".drag",null).call(le)}this.setTranslate(c,i)},M.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(f.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},M.prototype._onBoxDrag=function(){var v=this.translateX,c=this.translateY;this.hbar&&(v-=D.event.dx),this.vbar&&(c-=D.event.dy),this.setTranslate(v,c)},M.prototype._onBoxWheel=function(){var v=this.translateX,c=this.translateY;this.hbar&&(v+=D.event.deltaY),this.vbar&&(c+=D.event.deltaY),this.setTranslate(v,c)},M.prototype._onBarDrag=function(){var v=this.translateX,c=this.translateY;if(this.hbar){var i=v+this._hbarXMin,s=i+this._hbarTranslateMax;v=(S.constrain(D.event.x,i,s)-i)/(s-i)*(this.position.w-this._box.w)}if(this.vbar){var a=c+this._vbarYMin,o=a+this._vbarTranslateMax;c=(S.constrain(D.event.y,a,o)-a)/(o-a)*(this.position.h-this._box.h)}this.setTranslate(v,c)},M.prototype.setTranslate=function(v,c){var i=this.position.w-this._box.w,s=this.position.h-this._box.h;v=S.constrain(v||0,0,i),c=S.constrain(c||0,0,s),this.translateX=v,this.translateY=c,this.container.call(f.setTranslate,this._box.l-this.position.l-v,this._box.t-this.position.t-c),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+v-.5),y:Math.floor(this.position.t+c-.5)}),this.hbar&&this.hbar.call(f.setTranslate,v+v/i*this._hbarTranslateMax,c),this.vbar&&this.vbar.call(f.setTranslate,v,c+c/s*this._vbarTranslateMax)}},18783:function(ae){"use strict";ae.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(ae){"use strict";ae.exports={axisRefDescription:function(B,r,D){return["If set to a",B,"axis id (e.g. *"+B+"* or","*"+B+"2*), the `"+B+"` position refers to a",B,"coordinate. If set to *paper*, the `"+B+"`","position refers to the distance from the",r,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",r,"("+D+"). If set to a",B,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",r,"of the domain of that axis: e.g.,","*"+B+"2 domain* refers to the domain of the second",B," axis and a",B,"position of 0.5 refers to the","point between the",r,"and the",D,"of the domain of the","second",B,"axis."].join(" ")}}},22372:function(ae){"use strict";ae.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25b2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25bc"}}},31562:function(ae){"use strict";ae.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(ae){"use strict";ae.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(ae){"use strict";ae.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(ae){"use strict";ae.exports={circle:"\u25cf","circle-open":"\u25cb",square:"\u25a0","square-open":"\u25a1",diamond:"\u25c6","diamond-open":"\u25c7",cross:"+",x:"\u274c"}},37822:function(ae){"use strict";ae.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(ae){"use strict";ae.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},32396:function(ae,B){"use strict";B.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],B.STYLE=B.CSS_DECLARATIONS.map(function(r){return r.join(": ")+"; "}).join("")},77922:function(ae,B){"use strict";B.xmlns="http://www.w3.org/2000/xmlns/",B.svg="http://www.w3.org/2000/svg",B.xlink="http://www.w3.org/1999/xlink",B.svgAttrs={xmlns:B.svg,"xmlns:xlink":B.xlink}},8729:function(ae,B,r){"use strict";B.version=r(11506).version,r(7417),r(98847);for(var D=r(73972),E=B.register=D.register,f=r(10641),S=Object.keys(f),M=0;M<S.length;M++){var v=S[M];"_"!==v.charAt(0)&&(B[v]=f[v]),E({moduleType:"apiMethod",name:v,fn:f[v]})}E(r(67368)),E([r(32745),r(2468),r(47322),r(89853),r(68804),r(20763),r(23243),r(13137),r(97218),r(83312),r(37369),r(21081),r(12311),r(2199),r(30211),r(64168)]),E([r(92177),r(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(E(window.PlotlyLocales),delete window.PlotlyLocales),B.Icons=r(24255);var c=r(30211),i=r(74875);B.Plots={resize:i.resize,graphJson:i.graphJson,sendDataToCloud:i.sendDataToCloud},B.Fx={hover:c.hover,unhover:c.unhover,loneHover:c.loneHover,loneUnhover:c.loneUnhover},B.Snapshot=r(44511),B.PlotSchema=r(86281)},24255:function(ae){"use strict";ae.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(ae,B){"use strict";B.isLeftAnchor=function(r){return"left"===r.xanchor||"auto"===r.xanchor&&r.x<=.3333333333333333},B.isCenterAnchor=function(r){return"center"===r.xanchor||"auto"===r.xanchor&&r.x>.3333333333333333&&r.x<.6666666666666666},B.isRightAnchor=function(r){return"right"===r.xanchor||"auto"===r.xanchor&&r.x>=.6666666666666666},B.isTopAnchor=function(r){return"top"===r.yanchor||"auto"===r.yanchor&&r.y>=.6666666666666666},B.isMiddleAnchor=function(r){return"middle"===r.yanchor||"auto"===r.yanchor&&r.y>.3333333333333333&&r.y<.6666666666666666},B.isBottomAnchor=function(r){return"bottom"===r.yanchor||"auto"===r.yanchor&&r.y<=.3333333333333333}},26348:function(ae,B,r){"use strict";var D=r(64872),E=D.mod,f=D.modHalf,S=Math.PI,M=2*S;function v(a){return Math.abs(a[1]-a[0])>M-1e-14}function c(a,o){return f(o-a,M)}function i(a,o){if(v(o))return!0;var l,u;o[0]<o[1]?(l=o[0],u=o[1]):(l=o[1],u=o[0]),(l=E(l,M))>(u=E(u,M))&&(u+=M);var d=E(a,M),m=d+M;return d>=l&&d<=u||m>=l&&m<=u}function s(a,o,l,u,d,m,h){d=d||0,m=m||0;var T,_,g,w,x,b=v([l,u]);function A(I,P){return[I*Math.cos(P)+d,m-I*Math.sin(P)]}b?(T=0,_=S,g=M):l<u?(T=l,g=u):(T=u,g=l),a<o?(w=a,x=o):(w=o,x=a);var p,O=Math.abs(g-T)<=S?0:1;function k(I,P,R){return"A"+[I,I]+" "+[0,O,R]+" "+A(I,P)}return b?p=null===w?"M"+A(x,T)+k(x,_,0)+k(x,g,0)+"Z":"M"+A(w,T)+k(w,_,0)+k(w,g,0)+"ZM"+A(x,T)+k(x,_,1)+k(x,g,1)+"Z":null===w?(p="M"+A(x,T)+k(x,g,0),h&&(p+="L0,0Z")):p="M"+A(w,T)+"L"+A(x,T)+k(x,g,0)+"L"+A(w,g)+k(w,T,1)+"Z",p}ae.exports={deg2rad:function(a){return a/180*S},rad2deg:function(a){return a/S*180},angleDelta:c,angleDist:function(a,o){return Math.abs(c(a,o))},isFullCircle:v,isAngleInsideSector:i,isPtInsideSector:function(a,o,l,u){return!!i(o,u)&&(l[0]<l[1]?(d=l[0],m=l[1]):(d=l[1],m=l[0]),a>=d&&a<=m);var d,m},pathArc:function(a,o,l,u,d){return s(null,a,o,l,u,d,0)},pathSector:function(a,o,l,u,d){return s(null,a,o,l,u,d,1)},pathAnnulus:function(a,o,l,u,d,m){return s(a,o,l,u,d,m,1)}}},73627:function(ae,B){"use strict";var r=Array.isArray,D=ArrayBuffer,E=DataView;function f(v){return D.isView(v)&&!(v instanceof E)}function S(v){return r(v)||f(v)}function M(v,c,i){if(S(v)){if(S(v[0])){for(var s=i,a=0;a<v.length;a++)s=c(s,v[a].length);return s}return v.length}return 0}B.isTypedArray=f,B.isArrayOrTypedArray=S,B.isArray1D=function(v){return!S(v[0])},B.ensureArray=function(v,c){return r(v)||(v=[]),v.length=c,v},B.concat=function(){var v,c,i,s,a,o,l,u,d=[],m=!0,h=0;for(i=0;i<arguments.length;i++)(o=(s=arguments[i]).length)&&(c?d.push(s):(c=s,a=o),r(s)?v=!1:(m=!1,h?v!==s.constructor&&(v=!1):v=s.constructor),h+=o);if(!h)return[];if(!d.length)return c;if(m)return c.concat.apply(c,d);if(v){for((l=new v(h)).set(c),i=0;i<d.length;i++)l.set(s=d[i],a),a+=s.length;return l}for(l=new Array(h),u=0;u<c.length;u++)l[u]=c[u];for(i=0;i<d.length;i++){for(s=d[i],u=0;u<s.length;u++)l[a+u]=s[u];a+=u}return l},B.maxRowLength=function(v){return M(v,Math.max,0)},B.minRowLength=function(v){return M(v,Math.min,1/0)}},95218:function(ae,B,r){"use strict";var D=r(92770),E=r(50606).BADNUM,f=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;ae.exports=function(S){return"string"==typeof S&&(S=S.replace(f,"")),D(S)?Number(S):E}},33306:function(ae){"use strict";ae.exports=function(B){var r=B._fullLayout;r._glcanvas&&r._glcanvas.size()&&r._glcanvas.each(function(D){D.regl&&D.regl.clear({color:!0,depth:!0})})}},86367:function(ae){"use strict";ae.exports=function(B){B._responsiveChartHandler&&(window.removeEventListener("resize",B._responsiveChartHandler),delete B._responsiveChartHandler)}},96554:function(ae,B,r){"use strict";var D=r(92770),E=r(84267),f=r(9012),S=r(63282),M=r(7901),v=r(37822).DESELECTDIM,c=r(65487),i=r(30587).counter,s=r(64872).modHalf,a=r(73627).isArrayOrTypedArray;function o(l,u){var d=B.valObjectMeta[u.valType];if(u.arrayOk&&a(l))return!0;if(d.validateFunction)return d.validateFunction(l,u);var m={},h=m;return d.coerceFunction(l,{set:function(_){h=_}},m,u),h!==m}B.valObjectMeta={data_array:{coerceFunction:function(l,u,d){a(l)?u.set(l):void 0!==d&&u.set(d)}},enumerated:{coerceFunction:function(l,u,d,m){m.coerceNumber&&(l=+l),-1===m.values.indexOf(l)?u.set(d):u.set(l)},validateFunction:function(l,u){u.coerceNumber&&(l=+l);for(var d=u.values,m=0;m<d.length;m++){var h=String(d[m]);if("/"===h.charAt(0)&&"/"===h.charAt(h.length-1)){if(new RegExp(h.substr(1,h.length-2)).test(l))return!0}else if(l===d[m])return!0}return!1}},boolean:{coerceFunction:function(l,u,d){u.set(!0===l||!1===l?l:d)}},number:{coerceFunction:function(l,u,d,m){!D(l)||void 0!==m.min&&l<m.min||void 0!==m.max&&l>m.max?u.set(d):u.set(+l)}},integer:{coerceFunction:function(l,u,d,m){l%1||!D(l)||void 0!==m.min&&l<m.min||void 0!==m.max&&l>m.max?u.set(d):u.set(+l)}},string:{coerceFunction:function(l,u,d,m){u.set("string"!=typeof l?!0!==m.strict&&"number"==typeof l?String(l):d:m.noBlank&&!l?d:l)}},color:{coerceFunction:function(l,u,d){E(l).isValid()?u.set(l):u.set(d)}},colorlist:{coerceFunction:function(l,u,d){Array.isArray(l)&&l.length&&l.every(function(m){return E(m).isValid()})?u.set(l):u.set(d)}},colorscale:{coerceFunction:function(l,u,d){u.set(S.get(l,d))}},angle:{coerceFunction:function(l,u,d){"auto"===l?u.set("auto"):D(l)?u.set(s(+l,360)):u.set(d)}},subplotid:{coerceFunction:function(l,u,d,m){var h=m.regex||i(d);"string"==typeof l&&h.test(l)?u.set(l):u.set(d)},validateFunction:function(l,u){var d=u.dflt;return l===d||"string"==typeof l&&!!i(d).test(l)}},flaglist:{coerceFunction:function(l,u,d,m){if(-1===(m.extras||[]).indexOf(l))if("string"==typeof l){for(var h=l.split("+"),T=0;T<h.length;){var _=h[T];-1===m.flags.indexOf(_)||h.indexOf(_)<T?h.splice(T,1):T++}u.set(h.length?h.join("+"):d)}else u.set(d);else u.set(l)}},any:{coerceFunction:function(l,u,d){u.set(void 0===l?d:l)}},info_array:{coerceFunction:function(l,u,d,m){function h(N,j,X){var F;return void 0===X&&(X=j.dflt),B.valObjectMeta[j.valType].coerceFunction(N,{set:function(W){F=W}},X,j),F}var T=2===m.dimensions||"1-2"===m.dimensions&&Array.isArray(l)&&Array.isArray(l[0]);if(Array.isArray(l)){var _,g,w,b,A,p=m.items,O=[],k=Array.isArray(p),I=k&&T&&Array.isArray(p[0]),P=T&&k&&!I,R=k&&!P?p.length:l.length;if(d=Array.isArray(d)?d:[],T)for(_=0;_<R;_++)for(O[_]=[],w=Array.isArray(l[_])?l[_]:[],b=P?p.length:k?p[_].length:w.length,g=0;g<b;g++)void 0!==(A=h(w[g],P?p[g]:k?p[_][g]:p,(d[_]||[])[g]))&&(O[_][g]=A);else for(_=0;_<R;_++)void 0!==(A=h(l[_],k?p[_]:p,d[_]))&&(O[_]=A);u.set(O)}else u.set(d)},validateFunction:function(l,u){if(!Array.isArray(l))return!1;var d=u.items,m=Array.isArray(d),h=2===u.dimensions;if(!u.freeLength&&l.length!==d.length)return!1;for(var T=0;T<l.length;T++)if(h){if(!Array.isArray(l[T])||!u.freeLength&&l[T].length!==d[T].length)return!1;for(var _=0;_<l[T].length;_++)if(!o(l[T][_],m?d[T][_]:d))return!1}else if(!o(l[T],m?d[T]:d))return!1;return!0}}},B.coerce=function(l,u,d,m,h){var T=c(d,m).get(),_=c(l,m),g=c(u,m),w=_.get(),x=u._template;if(void 0===w&&x&&(w=c(x,m).get(),x=0),void 0===h&&(h=T.dflt),T.arrayOk&&a(w))return g.set(w),w;var b=B.valObjectMeta[T.valType].coerceFunction;b(w,g,h,T);var A=g.get();return x&&A===h&&!o(w,T)&&(b(w=c(x,m).get(),g,h,T),A=g.get()),A},B.coerce2=function(l,u,d,m,h){var T=c(l,m),_=B.coerce(l,u,d,m,h);return null!=T.get()&&_},B.coerceFont=function(l,u,d){var m={};return m.family=l(u+".family",(d=d||{}).family),m.size=l(u+".size",d.size),m.color=l(u+".color",d.color),m},B.coercePattern=function(l,u,d,m){if(l(u+".shape")){l(u+".solidity"),l(u+".size");var h="overlay"===l(u+".fillmode");if(!m){var T=l(u+".bgcolor",h?d:void 0);l(u+".fgcolor",h?M.contrast(T):d)}l(u+".fgopacity",h?.5:1)}},B.coerceHoverinfo=function(l,u,d){var m,h=u._module.attributes,T=h.hoverinfo?h:f,_=T.hoverinfo;if(1===d._dataLength){var g="all"===_.dflt?_.flags.slice():_.dflt.split("+");g.splice(g.indexOf("name"),1),m=g.join("+")}return B.coerce(l,u,T,"hoverinfo",m)},B.coerceSelectionMarkerOpacity=function(l,u){if(l.marker){var d,m,h=l.marker.opacity;void 0!==h&&(a(h)||l.selected||l.unselected||(d=h,m=v*h),u("selected.marker.opacity",d),u("unselected.marker.opacity",m))}},B.validate=o},41631:function(ae,B,r){"use strict";var D,E,f=r(84096).i$,S=r(92770),M=r(47769),v=r(64872).mod,c=r(50606),i=c.BADNUM,s=c.ONEDAY,a=c.ONEHOUR,o=c.ONEMIN,l=c.ONESEC,u=c.EPOCHJD,d=r(73972),m=r(84096).g0,h=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,T=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,_=(new Date).getFullYear()-70;function g(j){return j&&d.componentsRegistry.calendars&&"string"==typeof j&&"gregorian"!==j}function w(j,X){return String(j+Math.pow(10,X)).substr(1)}B.dateTick0=function(j,X){var W,H,F=(H=!!X,g(W=j)?H?d.getComponentMethod("calendars","CANONICAL_SUNDAY")[W]:d.getComponentMethod("calendars","CANONICAL_TICK")[W]:H?"2000-01-02":"2000-01-01");if(X<2)return F;var Z=B.dateTime2ms(F,j);return B.ms2DateTime(Z+=s*(X-1),0,j)},B.dfltRange=function(j){return g(j)?d.getComponentMethod("calendars","DFLTRANGE")[j]:["2000-01-01","2001-01-01"]},B.isJSDate=function(j){return"object"==typeof j&&null!==j&&"function"==typeof j.getTime},B.dateTime2ms=function(j,X){if(B.isJSDate(j)){var F=j.getTimezoneOffset()*o,Z=(j.getUTCMinutes()-j.getMinutes())*o+(j.getUTCSeconds()-j.getSeconds())*l+(j.getUTCMilliseconds()-j.getMilliseconds());if(Z){var W=3*o;F=F-W/2+v(Z-F+W/2,W)}return(j=Number(j)-F)>=D&&j<=E?j:i}if("string"!=typeof j&&"number"!=typeof j)return i;j=String(j);var H=g(X),G=j.charAt(0);!H||"G"!==G&&"g"!==G||(j=j.substr(1),X="");var Y=H&&"chinese"===X.substr(0,7),se=j.match(Y?T:h);if(!se)return i;var te=se[1],re=se[3]||"1",Q=Number(se[5]||1),ee=Number(se[7]||0),oe=Number(se[9]||0),le=Number(se[11]||0);if(H){if(2===te.length)return i;var ue;te=Number(te);try{var de=d.getComponentMethod("calendars","getCal")(X);if(Y){var he="i"===re.charAt(re.length-1);re=parseInt(re,10),ue=de.newDate(te,de.toMonthIndex(te,re,he),Q)}else ue=de.newDate(te,Number(re),Q)}catch{return i}return ue?(ue.toJD()-u)*s+ee*a+oe*o+le*l:i}te=2===te.length?(Number(te)+2e3-_)%100+_:Number(te),re-=1;var we=new Date(Date.UTC(2e3,re,Q,ee,oe));return we.setUTCFullYear(te),we.getUTCMonth()!==re||we.getUTCDate()!==Q?i:we.getTime()+le*l},D=B.MIN_MS=B.dateTime2ms("-9999"),E=B.MAX_MS=B.dateTime2ms("9999-12-31 23:59:59.9999"),B.isDateTime=function(j,X){return B.dateTime2ms(j,X)!==i};var x=90*s,b=3*a,A=5*o;function p(j,X,F,Z,W){if((X||F||Z||W)&&(j+=" "+w(X,2)+":"+w(F,2),(Z||W)&&(j+=":"+w(Z,2),W))){for(var H=4;W%10==0;)H-=1,W/=10;j+="."+w(W,H)}return j}B.ms2DateTime=function(j,X,F){if("number"!=typeof j||!(j>=D&&j<=E))return i;X||(X=0);var Z,W,H,G,Y,se,te=Math.floor(10*v(j+.05,1)),re=Math.round(j-te/10);if(g(F)){var Q=Math.floor(re/s)+u,ee=Math.floor(v(j,s));try{Z=d.getComponentMethod("calendars","getCal")(F).fromJD(Q).formatDate("yyyy-mm-dd")}catch{Z=m("G%Y-%m-%d")(new Date(re))}if("-"===Z.charAt(0))for(;Z.length<11;)Z="-0"+Z.substr(1);else for(;Z.length<10;)Z="0"+Z;W=X<x?Math.floor(ee/a):0,H=X<x?Math.floor(ee%a/o):0,G=X<b?Math.floor(ee%o/l):0,Y=X<A?ee%l*10+te:0}else se=new Date(re),Z=m("%Y-%m-%d")(se),W=X<x?se.getUTCHours():0,H=X<x?se.getUTCMinutes():0,G=X<b?se.getUTCSeconds():0,Y=X<A?10*se.getUTCMilliseconds()+te:0;return p(Z,W,H,G,Y)},B.ms2DateTimeLocal=function(j){if(!(j>=D+s&&j<=E-s))return i;var X=Math.floor(10*v(j+.05,1)),F=new Date(Math.round(j-X/10));return p(f("%Y-%m-%d")(F),F.getHours(),F.getMinutes(),F.getSeconds(),10*F.getUTCMilliseconds()+X)},B.cleanDate=function(j,X,F){if(j===i)return X;if(B.isJSDate(j)||"number"==typeof j&&isFinite(j)){if(g(F))return M.error("JS Dates and milliseconds are incompatible with world calendars",j),X;if(!(j=B.ms2DateTimeLocal(+j))&&void 0!==X)return X}else if(!B.isDateTime(j,F))return M.error("unrecognized date",j),X;return j};var O=/%\d?f/g,k=/%h/g,I={1:"1",2:"1",3:"2",4:"2"};function P(j,X,F,Z){j=j.replace(O,function(H){var G=Math.min(+H.charAt(1)||6,6);return(X/1e3%1+2).toFixed(G).substr(2).replace(/0+$/,"")||"0"});var W=new Date(Math.floor(X+.05));if(j=j.replace(k,function(){return I[F("%q")(W)]}),g(Z))try{j=d.getComponentMethod("calendars","worldCalFmt")(j,X,Z)}catch{return"Invalid"}return F(j)(W)}var R=[59,59.9,59.99,59.999,59.9999];B.formatDate=function(j,X,F,Z,W,H){if(W=g(W)&&W,!X)if("y"===F)X=H.year;else if("m"===F)X=H.month;else{if("d"!==F)return function(G,Y){var se=v(G+.05,s),te=w(Math.floor(se/a),2)+":"+w(v(Math.floor(se/o),60),2);if("M"!==Y){S(Y)||(Y=0);var re=(100+Math.min(v(G/l,60),R[Y])).toFixed(Y).substr(1);Y>0&&(re=re.replace(/0+$/,"").replace(/[\.]$/,"")),te+=":"+re}return te}(j,F)+"\n"+P(H.dayMonthYear,j,Z,W);X=H.dayMonth+"\n"+H.year}return P(X,j,Z,W)};var N=3*s;B.incrementMonth=function(j,X,F){F=g(F)&&F;var Z=v(j,s);if(j=Math.round(j-Z),F)try{var W=Math.round(j/s)+u,H=d.getComponentMethod("calendars","getCal")(F),G=H.fromJD(W);return X%12?H.add(G,X,"m"):H.add(G,X/12,"y"),(G.toJD()-u)*s+Z}catch{M.error("invalid ms "+j+" in calendar "+F)}var Y=new Date(j+N);return Y.setUTCMonth(Y.getUTCMonth()+X)+Z-N},B.findExactDates=function(j,X){for(var F,Z,W=0,H=0,G=0,Y=0,se=g(X)&&d.getComponentMethod("calendars","getCal")(X),te=0;te<j.length;te++)if(S(Z=j[te])){if(!(Z%s))if(se)try{1===(F=se.fromJD(Z/s+u)).day()?1===F.month()?W++:H++:G++}catch{}else 1===(F=new Date(Z)).getUTCDate()?0===F.getUTCMonth()?W++:H++:G++}else Y++;G+=H+=W;var re=j.length-Y;return{exactYears:W/re,exactMonths:H/re,exactDays:G/re}}},24401:function(ae,B,r){"use strict";var D=r(39898),E=r(47769),f=r(35657),S=r(79576);function M(a){var o=a&&a.parentNode;o&&o.removeChild(a)}function v(a,o,l){var u="plotly.js-style-"+a,d=document.getElementById(u);d||((d=document.createElement("style")).setAttribute("id",u),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var m=d.sheet;m.insertRule?m.insertRule(o+"{"+l+"}",0):m.addRule?m.addRule(o,l,0):E.warn("addStyleRule failed")}function c(a){var o=window.getComputedStyle(a,null),l=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("-moz-transform")||o.getPropertyValue("-ms-transform")||o.getPropertyValue("-o-transform")||o.getPropertyValue("transform");return"none"===l?null:l.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(u){return+u})}function i(a){for(var o=[];s(a);)o.push(a),a=a.parentNode;return o}function s(a){return a&&(a instanceof Element||a instanceof HTMLElement)}ae.exports={getGraphDiv:function(a){var o;if("string"==typeof a){if(null===(o=document.getElementById(a)))throw new Error("No DOM element with id '"+a+"' exists on the page.");return o}if(null==a)throw new Error("DOM element provided is null or undefined");return a},isPlotDiv:function(a){var o=D.select(a);return o.node()instanceof HTMLElement&&o.size()&&o.classed("js-plotly-plot")},removeElement:M,addStyleRule:function(a,o){v("global",a,o)},addRelatedStyleRule:v,deleteRelatedStyleRule:function(a){var l=document.getElementById("plotly.js-style-"+a);l&&M(l)},getFullTransformMatrix:function(a){var o=i(a),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return o.forEach(function(u){var d=c(u);if(d){var m=f.convertCssMatrix(d);l=S.multiply(l,l,m)}}),l},getElementTransformMatrix:c,getElementAndAncestors:i,equalDomRects:function(a,o){return a&&o&&a.top===o.top&&a.left===o.left&&a.right===o.right&&a.bottom===o.bottom}}},11086:function(ae,B,r){"use strict";var D=r(15398).EventEmitter;ae.exports={init:function(f){if(f._ev instanceof D)return f;var S=new D,M=new D;return f._ev=S,f._internalEv=M,f.on=S.on.bind(S),f.once=S.once.bind(S),f.removeListener=S.removeListener.bind(S),f.removeAllListeners=S.removeAllListeners.bind(S),f._internalOn=M.on.bind(M),f._internalOnce=M.once.bind(M),f._removeInternalListener=M.removeListener.bind(M),f._removeAllInternalListeners=M.removeAllListeners.bind(M),f.emit=function(v,c){typeof jQuery<"u"&&jQuery(f).trigger(v,c),S.emit(v,c),M.emit(v,c)},f},triggerHandler:function(f,S,M){var v,c;typeof jQuery<"u"&&(v=jQuery(f).triggerHandler(S,M));var i=f._ev;if(!i)return v;var s,a=i._events[S];if(!a)return v;function o(l){return l.listener?(i.removeListener(S,l.listener),l.fired?void 0:(l.fired=!0,l.listener.apply(i,[M]))):l.apply(i,[M])}for(a=Array.isArray(a)?a:[a],s=0;s<a.length-1;s++)o(a[s]);return c=o(a[s]),void 0!==v?v:c},purge:function(f){return delete f._ev,delete f.on,delete f.once,delete f.removeListener,delete f.removeAllListeners,delete f.emit,delete f._ev,delete f._internalEv,delete f._internalOn,delete f._internalOnce,delete f._removeInternalListener,delete f._removeAllInternalListeners,f}}},1426:function(ae,B,r){"use strict";var D=r(41965),E=Array.isArray;function f(S,M,v,c){var i,s,a,o,l,u,m=S[0],h=S.length;if(2===h&&E(m)&&E(S[1])&&0===m.length){if(function(_,g){var w,x;for(w=0;w<_.length;w++){if(null!==(x=_[w])&&"object"==typeof x)return!1;void 0!==x&&(g[w]=x)}return!0}(S[1],m))return m;m.splice(0,m.length)}for(var T=1;T<h;T++)for(s in i=S[T])a=m[s],o=i[s],c&&E(o)?m[s]=o:M&&o&&(D(o)||(l=E(o)))?(l?(l=!1,u=a&&E(a)?a:[]):u=a&&D(a)?a:{},m[s]=f([u,o],M,v,c)):(void 0!==o||v)&&(m[s]=o);return m}B.extendFlat=function(){return f(arguments,!1,!1,!1)},B.extendDeep=function(){return f(arguments,!0,!1,!1)},B.extendDeepAll=function(){return f(arguments,!0,!0,!1)},B.extendDeepNoArrays=function(){return f(arguments,!0,!1,!0)}},75744:function(ae){"use strict";ae.exports=function(B){for(var r={},D=[],E=0,f=0;f<B.length;f++){var S=B[f];1!==r[S]&&(r[S]=1,D[E++]=S)}return D}},76756:function(ae){"use strict";function B(D){return!0===D.visible}function r(D){var E=D[0].trace;return!0===E.visible&&0!==E._length}ae.exports=function(D){for(var E,f=(E=D,Array.isArray(E)&&Array.isArray(E[0])&&E[0][0]&&E[0][0].trace?r:B),S=[],M=0;M<D.length;M++){var v=D[M];f(v)&&S.push(v)}return S}},41327:function(ae,B,r){"use strict";var D=r(39898),E=r(24138),f=r(30774),S=r(29261),M=r(85268),v=r(23389),c=r(47769),i=r(41965),s=r(65487),a=r(61082),o=Object.keys(E),l={"ISO-3":v,"USA-states":v,"country names":function(d){for(var m=0;m<o.length;m++){var h=o[m];if(new RegExp(E[h]).test(d.trim().toLowerCase()))return h}return c.log("Unrecognized country name: "+d+"."),!1}};function u(d){var m=d.geojson,h=window.PlotlyGeoAssets||{},T="string"==typeof m?h[m]:m;return i(T)?T:(c.error("Oops ... something went wrong when fetching "+m),!1)}ae.exports={locationToFeature:function(d,m,h){if(!m||"string"!=typeof m)return!1;var T,_,g,w=l[d](m);if(w){if("USA-states"===d)for(T=[],g=0;g<h.length;g++)(_=h[g]).properties&&_.properties.gu&&"USA"===_.properties.gu&&T.push(_);else T=h;for(g=0;g<T.length;g++)if((_=T[g]).id===w)return _;c.log(["Location with id",w,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(d){var m,h,T,_,g=d.geometry,w=g.coordinates,x=d.id,b=[];function A(p){for(var O=0;O<p.length-1;O++)if(p[O][0]>0&&p[O+1][0]<0)return O;return null}switch(m="RUS"===x||"FJI"===x?function(p){var O;if(null===A(p))O=p;else for(O=new Array(p.length),_=0;_<p.length;_++)O[_]=[p[_][0]<0?p[_][0]+360:p[_][0],p[_][1]];b.push(a.tester(O))}:"ATA"===x?function(p){var O=A(p);if(null===O)return b.push(a.tester(p));var k=new Array(p.length+1),I=0;for(_=0;_<p.length;_++)_>O?k[I++]=[p[_][0]+360,p[_][1]]:_===O?(k[I++]=p[_],k[I++]=[p[_][0],-90]):k[I++]=p[_];var P=a.tester(k);P.pts.pop(),b.push(P)}:function(p){b.push(a.tester(p))},g.type){case"MultiPolygon":for(h=0;h<w.length;h++)for(T=0;T<w[h].length;T++)m(w[h][T]);break;case"Polygon":for(h=0;h<w.length;h++)m(w[h])}return b},getTraceGeojson:u,extractTraceFeature:function(d){var m=d[0].trace,h=u(m);if(!h)return!1;var T,_={},g=[];for(T=0;T<m._length;T++){var w=d[T];(w.loc||0===w.loc)&&(_[w.loc]=w)}function x(p){var O=s(p,m.featureidkey||"id").get(),k=_[O];if(k){var I=p.geometry;if("Polygon"===I.type||"MultiPolygon"===I.type){var P={type:"Feature",id:O,geometry:I,properties:{}};P.properties.ct=function(R){var N,j=R.geometry;if("MultiPolygon"===j.type)for(var X=j.coordinates,F=0,Z=0;Z<X.length;Z++){var W={type:"Polygon",coordinates:X[Z]},H=f.default(W);H>F&&(F=H,N=W)}else N=j;return S.default(N).geometry.coordinates}(P),k.fIn=p,k.fOut=P,g.push(P)}else c.log(["Location",k.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete _[O]}switch(h.type){case"FeatureCollection":var b=h.features;for(T=0;T<b.length;T++)x(b[T]);break;case"Feature":x(h);break;default:return c.warn(["Invalid GeoJSON type",(h.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var A in _)c.log(["Location *"+A+"*","does not have a matching feature with id-key","*"+m.featureidkey+"*."].join(" "));return g},fetchTraceGeoData:function(d){var m=window.PlotlyGeoAssets||{},h=[];function T(x){return new Promise(function(b,A){D.json(x,function(p,O){return p?(delete m[x],A(new Error(404===p.status?'GeoJSON at URL "'+x+'" does not exist.':"Unexpected error while fetching from "+x))):(m[x]=O,b(O))})})}function _(x){return new Promise(function(b,A){var p=0,O=setInterval(function(){return m[x]&&"pending"!==m[x]?(clearInterval(O),b(m[x])):p>100?(clearInterval(O),A("Unexpected error while fetching from "+x)):void p++},50)})}for(var g=0;g<d.length;g++){var w=d[g][0].trace.geojson;"string"==typeof w&&(m[w]?"pending"===m[w]&&h.push(_(w)):(m[w]="pending",h.push(T(w))))}return h},computeBbox:function(d){return M.default(d)}}},18214:function(ae,B,r){"use strict";var D=r(50606).BADNUM;B.calcTraceToLineCoords=function(E){for(var f=E[0].trace.connectgaps,S=[],M=[],v=0;v<E.length;v++){var c=E[v].lonlat;c[0]!==D?M.push(c):!f&&M.length>0&&(S.push(M),M=[])}return M.length>0&&S.push(M),S},B.makeLine=function(E){return 1===E.length?{type:"LineString",coordinates:E[0]}:{type:"MultiLineString",coordinates:E}},B.makePolygon=function(E){if(1===E.length)return{type:"Polygon",coordinates:E};for(var f=new Array(E.length),S=0;S<E.length;S++)f[S]=[E[S]];return{type:"MultiPolygon",coordinates:f}},B.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(ae,B,r){"use strict";var D,E,f,S=r(64872).mod;function M(c,i,s,a,o,l,u,d){var m=s-c,h=o-c,T=u-o,_=a-i,g=l-i,w=d-l,x=m*w-T*_;if(0===x)return null;var b=(h*w-T*g)/x,A=(h*_-m*g)/x;return A<0||A>1||b<0||b>1?null:{x:c+m*b,y:i+_*b}}function v(c,i,s,a,o){var l=a*c+o*i;if(l<0)return a*a+o*o;if(l>s){var u=a-c,d=o-i;return u*u+d*d}var m=a*i-o*c;return m*m/s}B.segmentsIntersect=M,B.segmentDistance=function(c,i,s,a,o,l,u,d){if(M(c,i,s,a,o,l,u,d))return 0;var m=s-c,h=a-i,T=u-o,_=d-l,g=m*m+h*h,w=T*T+_*_,x=Math.min(v(m,h,g,o-c,l-i),v(m,h,g,u-c,d-i),v(T,_,w,c-o,i-l),v(T,_,w,s-o,a-l));return Math.sqrt(x)},B.getTextLocation=function(c,i,s,a){if(c===E&&a===f||(D={},E=c,f=a),D[s])return D[s];var o=c.getPointAtLength(S(s-a/2,i)),l=c.getPointAtLength(S(s+a/2,i)),u=Math.atan((l.y-o.y)/(l.x-o.x)),d=c.getPointAtLength(S(s,i)),m={x:(4*d.x+o.x+l.x)/6,y:(4*d.y+o.y+l.y)/6,theta:u};return D[s]=m,m},B.clearLocationCache=function(){E=null},B.getVisibleSegment=function(c,i,s){var a,o,l=i.left,u=i.right,d=i.top,m=i.bottom,h=0,T=c.getTotalLength(),_=T;function g(x){var b=c.getPointAtLength(x);0===x?a=b:x===T&&(o=b);var A=b.x<l?l-b.x:b.x>u?b.x-u:0,p=b.y<d?d-b.y:b.y>m?b.y-m:0;return Math.sqrt(A*A+p*p)}for(var w=g(h);w;){if((h+=w+s)>_)return;w=g(h)}for(w=g(_);w;){if(h>(_-=w+s))return;w=g(_)}return{min:h,max:_,len:_-h,total:T,isClosed:0===h&&_===T&&Math.abs(a.x-o.x)<.1&&Math.abs(a.y-o.y)<.1}},B.findPointOnPath=function(c,i,s,a){for(var o,l,u,d=(a=a||{}).pathLength||c.getTotalLength(),m=a.tolerance||.001,h=a.iterationLimit||30,T=c.getPointAtLength(0)[s]>c.getPointAtLength(d)[s]?-1:1,_=0,g=0,w=d;_<h;){if(u=(l=c.getPointAtLength(o=(g+w)/2))[s]-i,Math.abs(u)<m)return l;T*u>0?w=o:g=o,_++}return l}},81697:function(ae,B,r){"use strict";var D=r(92770),E=r(84267),f=r(25075),S=r(21081),M=r(22399).defaultLine,v=r(73627).isArrayOrTypedArray,c=f(M);function i(o,l){var u=o;return u[3]*=l,u}function s(o){if(D(o))return c;var l=f(o);return l.length?l:c}function a(o){return D(o)?o:1}ae.exports={formatColor:function(o,l,u){var d,m,h,T,_,g=o.color,w=v(g),x=v(l),b=S.extractOpts(o),A=[];if(d=void 0!==b.colorscale?S.makeColorScaleFuncFromTrace(o):s,m=w?function(O,k){return void 0===O[k]?c:f(d(O[k]))}:s,h=x?function(O,k){return void 0===O[k]?1:a(O[k])}:a,w||x)for(var p=0;p<u;p++)T=m(g,p),_=h(l,p),A[p]=i(T,_);else A=i(f(g),l);return A},parseColorScale:function(o){var l=S.extractOpts(o),u=l.colorscale;return l.reversescale&&(u=S.flipScale(l.colorscale)),u.map(function(d){var m=d[0],h=E(d[1]).toRgb();return{index:m,rgb:[h.r,h.g,h.b,h.a]}})}}},28984:function(ae,B,r){"use strict";var D=r(23389);function E(f){return[f]}ae.exports={keyFun:function(f){return f.key},repeat:E,descend:D,wrap:E,unwrap:function(f){return f[0]}}},23389:function(ae){"use strict";ae.exports=function(B){return B}},39240:function(ae){"use strict";ae.exports=function(B,r){if(!r)return B;var D=1/Math.abs(r),E=D>1?(D*B+D*r)/D:B+r,f=String(E).length;if(f>16){var S=String(r).length;if(f>=String(B).length+S){var M=parseFloat(E).toPrecision(12);-1===M.indexOf("e+")&&(E=+M)}}return E}},71828:function(ae,B,r){"use strict";var D=r(39898),E=r(84096).g0,f=r(60721).WU,S=r(92770),M=r(50606),v=M.FP_SAFE,c=-v,i=M.BADNUM,s=ae.exports={};s.adjustFormat=function(ee){return!ee||/^\d[.]\df/.test(ee)||/[.]\d%/.test(ee)?ee:"0.f"===ee?"~f":/^\d%/.test(ee)?"~%":/^\ds/.test(ee)?"~s":!/^[~,.0$]/.test(ee)&&/[&fps]/.test(ee)?"~"+ee:ee};var a={};s.warnBadFormat=function(ee){var oe=String(ee);a[oe]||(a[oe]=1,s.warn('encountered bad format: "'+oe+'"'))},s.noFormat=function(ee){return String(ee)},s.numberFormat=function(ee){var oe;try{oe=f(s.adjustFormat(ee))}catch{return s.warnBadFormat(ee),s.noFormat}return oe},s.nestedProperty=r(65487),s.keyedContainer=r(66636),s.relativeAttr=r(6962),s.isPlainObject=r(41965),s.toLogRange=r(58163),s.relinkPrivateKeys=r(51332);var o=r(73627);s.isTypedArray=o.isTypedArray,s.isArrayOrTypedArray=o.isArrayOrTypedArray,s.isArray1D=o.isArray1D,s.ensureArray=o.ensureArray,s.concat=o.concat,s.maxRowLength=o.maxRowLength,s.minRowLength=o.minRowLength;var l=r(64872);s.mod=l.mod,s.modHalf=l.modHalf;var u=r(96554);s.valObjectMeta=u.valObjectMeta,s.coerce=u.coerce,s.coerce2=u.coerce2,s.coerceFont=u.coerceFont,s.coercePattern=u.coercePattern,s.coerceHoverinfo=u.coerceHoverinfo,s.coerceSelectionMarkerOpacity=u.coerceSelectionMarkerOpacity,s.validate=u.validate;var d=r(41631);s.dateTime2ms=d.dateTime2ms,s.isDateTime=d.isDateTime,s.ms2DateTime=d.ms2DateTime,s.ms2DateTimeLocal=d.ms2DateTimeLocal,s.cleanDate=d.cleanDate,s.isJSDate=d.isJSDate,s.formatDate=d.formatDate,s.incrementMonth=d.incrementMonth,s.dateTick0=d.dateTick0,s.dfltRange=d.dfltRange,s.findExactDates=d.findExactDates,s.MIN_MS=d.MIN_MS,s.MAX_MS=d.MAX_MS;var m=r(65888);s.findBin=m.findBin,s.sorterAsc=m.sorterAsc,s.sorterDes=m.sorterDes,s.distinctVals=m.distinctVals,s.roundUp=m.roundUp,s.sort=m.sort,s.findIndexOfMin=m.findIndexOfMin,s.sortObjectKeys=r(78607);var h=r(80038);s.aggNums=h.aggNums,s.len=h.len,s.mean=h.mean,s.median=h.median,s.midRange=h.midRange,s.variance=h.variance,s.stdev=h.stdev,s.interp=h.interp;var T=r(35657);s.init2dArray=T.init2dArray,s.transposeRagged=T.transposeRagged,s.dot=T.dot,s.translationMatrix=T.translationMatrix,s.rotationMatrix=T.rotationMatrix,s.rotationXYMatrix=T.rotationXYMatrix,s.apply3DTransform=T.apply3DTransform,s.apply2DTransform=T.apply2DTransform,s.apply2DTransform2=T.apply2DTransform2,s.convertCssMatrix=T.convertCssMatrix,s.inverseTransformMatrix=T.inverseTransformMatrix;var _=r(26348);s.deg2rad=_.deg2rad,s.rad2deg=_.rad2deg,s.angleDelta=_.angleDelta,s.angleDist=_.angleDist,s.isFullCircle=_.isFullCircle,s.isAngleInsideSector=_.isAngleInsideSector,s.isPtInsideSector=_.isPtInsideSector,s.pathArc=_.pathArc,s.pathSector=_.pathSector,s.pathAnnulus=_.pathAnnulus;var g=r(99863);s.isLeftAnchor=g.isLeftAnchor,s.isCenterAnchor=g.isCenterAnchor,s.isRightAnchor=g.isRightAnchor,s.isTopAnchor=g.isTopAnchor,s.isMiddleAnchor=g.isMiddleAnchor,s.isBottomAnchor=g.isBottomAnchor;var w=r(87642);s.segmentsIntersect=w.segmentsIntersect,s.segmentDistance=w.segmentDistance,s.getTextLocation=w.getTextLocation,s.clearLocationCache=w.clearLocationCache,s.getVisibleSegment=w.getVisibleSegment,s.findPointOnPath=w.findPointOnPath;var x=r(1426);s.extendFlat=x.extendFlat,s.extendDeep=x.extendDeep,s.extendDeepAll=x.extendDeepAll,s.extendDeepNoArrays=x.extendDeepNoArrays;var b=r(47769);s.log=b.log,s.warn=b.warn,s.error=b.error;var A=r(30587);s.counterRegex=A.counter;var p=r(79990);s.throttle=p.throttle,s.throttleDone=p.done,s.clearThrottle=p.clear;var O=r(24401);function k(ee){var oe={};for(var le in ee)for(var ue=ee[le],de=0;de<ue.length;de++)oe[ue[de]]=+le;return oe}s.getGraphDiv=O.getGraphDiv,s.isPlotDiv=O.isPlotDiv,s.removeElement=O.removeElement,s.addStyleRule=O.addStyleRule,s.addRelatedStyleRule=O.addRelatedStyleRule,s.deleteRelatedStyleRule=O.deleteRelatedStyleRule,s.getFullTransformMatrix=O.getFullTransformMatrix,s.getElementTransformMatrix=O.getElementTransformMatrix,s.getElementAndAncestors=O.getElementAndAncestors,s.equalDomRects=O.equalDomRects,s.clearResponsive=r(86367),s.preserveDrawingBuffer=r(45142),s.makeTraceGroups=r(77310),s._=r(15867),s.notifier=r(75046),s.filterUnique=r(75744),s.filterVisible=r(76756),s.pushUnique=r(75138),s.increment=r(39240),s.cleanNumber=r(95218),s.ensureNumber=function(ee){return S(ee)?(ee=Number(ee))>v||ee<c?i:ee:i},s.isIndex=function(ee,oe){return!(void 0!==oe&&ee>=oe)&&S(ee)&&ee>=0&&ee%1==0},s.noop=r(64213),s.identity=r(23389),s.repeat=function(ee,oe){for(var le=new Array(oe),ue=0;ue<oe;ue++)le[ue]=ee;return le},s.swapAttrs=function(ee,oe,le,ue){le||(le="x"),ue||(ue="y");for(var de=0;de<oe.length;de++){var he=oe[de],we=s.nestedProperty(ee,he.replace("?",le)),Ae=s.nestedProperty(ee,he.replace("?",ue)),Te=we.get();we.set(Ae.get()),Ae.set(Te)}},s.raiseToTop=function(ee){ee.parentNode.appendChild(ee)},s.cancelTransition=function(ee){return ee.transition().duration(0)},s.constrain=function(ee,oe,le){return oe>le?Math.max(le,Math.min(oe,ee)):Math.max(oe,Math.min(le,ee))},s.bBoxIntersect=function(ee,oe,le){return ee.left<=oe.right+(le=le||0)&&oe.left<=ee.right+le&&ee.top<=oe.bottom+le&&oe.top<=ee.bottom+le},s.simpleMap=function(ee,oe,le,ue,de){for(var he=ee.length,we=new Array(he),Ae=0;Ae<he;Ae++)we[Ae]=oe(ee[Ae],le,ue,de);return we},s.randstr=function ee(oe,le,ue,de){if(ue||(ue=16),void 0===le&&(le=24),le<=0)return"0";var he,we,Ae=Math.log(Math.pow(2,le))/Math.log(ue),Te="";for(he=2;Ae===1/0;he*=2)Ae=Math.log(Math.pow(2,le/he))/Math.log(ue)*he;var ve=Ae-Math.floor(Ae);for(he=0;he<Math.floor(Ae);he++)Te=Math.floor(Math.random()*ue).toString(ue)+Te;ve&&(we=Math.pow(ue,ve),Te=Math.floor(Math.random()*we).toString(ue)+Te);var xe=parseInt(Te,ue);return oe&&oe[Te]||xe!==1/0&&xe>=Math.pow(2,le)?de>10?(s.warn("randstr failed uniqueness"),Te):ee(oe,le,ue,(de||0)+1):Te},s.OptionControl=function(ee,oe){ee||(ee={}),oe||(oe="opt");var le={optionList:[],_newoption:function(ue){ue[oe]=ee,le[ue.name]=ue,le.optionList.push(ue)}};return le["_"+oe]=ee,le},s.smooth=function(ee,oe){if((oe=Math.round(oe)||0)<2)return ee;var le,ue,de,he,we=ee.length,Ae=2*we,Te=2*oe-1,ve=new Array(Te),xe=new Array(we);for(le=0;le<Te;le++)ve[le]=(1-Math.cos(Math.PI*(le+1)/oe))/(2*oe);for(le=0;le<we;le++){for(he=0,ue=0;ue<Te;ue++)(de=le+ue+1-oe)<-we?de-=Ae*Math.round(de/Ae):de>=Ae&&(de-=Ae*Math.floor(de/Ae)),de<0?de=-1-de:de>=we&&(de=Ae-1-de),he+=ee[de]*ve[ue];xe[le]=he}return xe},s.syncOrAsync=function(ee,oe,le){var ue;function de(){return s.syncOrAsync(ee,oe,le)}for(;ee.length;)if((ue=(0,ee.splice(0,1)[0])(oe))&&ue.then)return ue.then(de);return le&&le(oe)},s.stripTrailingSlash=function(ee){return"/"===ee.substr(-1)?ee.substr(0,ee.length-1):ee},s.noneOrAll=function(ee,oe,le){if(ee){var ue,de=!1,he=!0;for(ue=0;ue<le.length;ue++)null!=ee[le[ue]]?de=!0:he=!1;if(de&&!he)for(ue=0;ue<le.length;ue++)ee[le[ue]]=oe[le[ue]]}},s.mergeArray=function(ee,oe,le,ue){var de="function"==typeof ue;if(s.isArrayOrTypedArray(ee))for(var he=Math.min(ee.length,oe.length),we=0;we<he;we++){var Ae=ee[we];oe[we][le]=de?ue(Ae):Ae}},s.mergeArrayCastPositive=function(ee,oe,le){return s.mergeArray(ee,oe,le,function(ue){var de=+ue;return isFinite(de)&&de>0?de:0})},s.fillArray=function(ee,oe,le,ue){if(ue=ue||s.identity,s.isArrayOrTypedArray(ee))for(var de=0;de<oe.length;de++)oe[de][le]=ue(ee[de])},s.castOption=function(ee,oe,le,ue){ue=ue||s.identity;var de=s.nestedProperty(ee,le).get();return s.isArrayOrTypedArray(de)?Array.isArray(oe)&&s.isArrayOrTypedArray(de[oe[0]])?ue(de[oe[0]][oe[1]]):ue(de[oe]):de},s.extractOption=function(ee,oe,le,ue){if(le in ee)return ee[le];var de=s.nestedProperty(oe,ue).get();return Array.isArray(de)?void 0:de},s.tagSelected=function(ee,oe,le){var ue,de,he=oe.selectedpoints,we=oe._indexToPoints;we&&(ue=k(we));for(var Ae=0;Ae<he.length;Ae++){var Te=he[Ae];if(s.isIndex(Te)||s.isArrayOrTypedArray(Te)&&s.isIndex(Te[0])&&s.isIndex(Te[1])){var ve=ue?ue[Te]:Te,xe=le?le[ve]:ve;void 0!==(de=xe)&&de<ee.length&&(ee[xe].selected=1)}}},s.selIndices2selPoints=function(ee){var oe=ee.selectedpoints,le=ee._indexToPoints;if(le){for(var ue=k(le),de=[],he=0;he<oe.length;he++){var we=oe[he];if(s.isIndex(we)){var Ae=ue[we];s.isIndex(Ae)&&de.push(Ae)}}return de}return oe},s.getTargetArray=function(ee,oe){var le=oe.target;if("string"==typeof le&&le){var ue=s.nestedProperty(ee,le).get();return!!Array.isArray(ue)&&ue}return!!Array.isArray(le)&&le},s.minExtend=function ee(oe,le,ue){var de={};"object"!=typeof le&&(le={});var he,we,Ae,Te="pieLike"===ue?-1:3,ve=Object.keys(oe);for(he=0;he<ve.length;he++)Ae=oe[we=ve[he]],"_"!==we.charAt(0)&&"function"!=typeof Ae&&(de[we]="module"===we?Ae:Array.isArray(Ae)?"colorscale"===we||-1===Te?Ae.slice():Ae.slice(0,Te):s.isTypedArray(Ae)?-1===Te?Ae.subarray():Ae.subarray(0,Te):Ae&&"object"==typeof Ae?ee(oe[we],le[we],ue):Ae);for(ve=Object.keys(le),he=0;he<ve.length;he++)"object"==typeof(Ae=le[we=ve[he]])&&we in de&&"object"==typeof de[we]||(de[we]=Ae);return de},s.titleCase=function(ee){return ee.charAt(0).toUpperCase()+ee.substr(1)},s.containsAny=function(ee,oe){for(var le=0;le<oe.length;le++)if(-1!==ee.indexOf(oe[le]))return!0;return!1},s.isIE=function(){return void 0!==window.navigator.msSaveBlob};var I=/Version\/[\d\.]+.*Safari/;s.isSafari=function(){return I.test(window.navigator.userAgent)};var P=/iPad|iPhone|iPod/;s.isIOS=function(){return P.test(window.navigator.userAgent)};var R=/Firefox\/(\d+)\.\d+/;s.getFirefoxVersion=function(){var ee=R.exec(window.navigator.userAgent);if(ee&&2===ee.length){var oe=parseInt(ee[1]);if(!isNaN(oe))return oe}return null},s.isD3Selection=function(ee){return ee instanceof D.selection},s.ensureSingle=function(ee,oe,le,ue){var de=ee.select(oe+(le?"."+le:""));if(de.size())return de;var he=ee.append(oe);return le&&he.classed(le,!0),ue&&he.call(ue),he},s.ensureSingleById=function(ee,oe,le,ue){var de=ee.select(oe+"#"+le);if(de.size())return de;var he=ee.append(oe).attr("id",le);return ue&&he.call(ue),he},s.objectFromPath=function(ee,oe){for(var le,ue=ee.split("."),de=le={},he=0;he<ue.length;he++){var we=ue[he],Ae=null,Te=ue[he].match(/(.*)\[([0-9]+)\]/);Te?(Ae=Te[2],(le=le[we=Te[1]]=[])[Ae]=he===ue.length-1?oe:{},le=le[Ae]):(le[we]=he===ue.length-1?oe:{},le=le[we])}return de};var N=/^([^\[\.]+)\.(.+)?/,j=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function X(ee){return"__"===ee.slice(0,2)}s.expandObjectPaths=function(ee){var oe,le,ue,de,he,we,Ae;if("object"==typeof ee&&!Array.isArray(ee))for(le in ee)if(ee.hasOwnProperty(le))if(oe=le.match(N)){if(de=ee[le],X(ue=oe[1]))continue;delete ee[le],ee[ue]=s.extendDeepNoArrays(ee[ue]||{},s.objectFromPath(le,s.expandObjectPaths(de))[ue])}else if(oe=le.match(j)){if(de=ee[le],X(ue=oe[1]))continue;if(he=parseInt(oe[2]),delete ee[le],ee[ue]=ee[ue]||[],"."===oe[3])Ae=oe[4],we=ee[ue][he]=ee[ue][he]||{},s.extendDeepNoArrays(we,s.objectFromPath(Ae,s.expandObjectPaths(de)));else{if(X(ue))continue;ee[ue][he]=s.expandObjectPaths(de)}}else{if(X(le))continue;ee[le]=s.expandObjectPaths(ee[le])}return ee},s.numSeparate=function(ee,oe,le){if(le||(le=!1),"string"!=typeof oe||0===oe.length)throw new Error("Separator string required for formatting!");"number"==typeof ee&&(ee=String(ee));var ue=/(\d+)(\d{3})/,de=oe.charAt(0),he=oe.charAt(1),we=ee.split("."),Ae=we[0],Te=we.length>1?de+we[1]:"";if(he&&(we.length>1||Ae.length>4||le))for(;ue.test(Ae);)Ae=Ae.replace(ue,"$1"+he+"$2");return Ae+Te},s.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var F=/^\w*$/;s.templateString=function(ee,oe){var le={};return ee.replace(s.TEMPLATE_STRING_REGEX,function(ue,de){var he;return F.test(de)?he=oe[de]:(le[de]=le[de]||s.nestedProperty(oe,de).get,he=le[de]()),s.isValidTextValue(he)?he:""})};var Z={max:10,count:0,name:"hovertemplate"};s.hovertemplateString=function(){return se.apply(Z,arguments)};var W={max:10,count:0,name:"texttemplate"};s.texttemplateString=function(){return se.apply(W,arguments)};var H=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,G={max:10,count:0,name:"texttemplate",parseMultDiv:!0};s.texttemplateStringForShapes=function(){return se.apply(G,arguments)};var Y=/^[:|\|]/;function se(ee,oe,le){var ue=this,de=arguments;oe||(oe={});var he={};return ee.replace(s.TEMPLATE_STRING_REGEX,function(we,Ae,Te){var ve="_xother"===Ae||"_yother"===Ae,xe="_xother_"===Ae||"_yother_"===Ae,Fe="xother_"===Ae||"yother_"===Ae,Se="xother"===Ae||"yother"===Ae||ve||Fe||xe,ke=Ae;(ve||xe)&&(ke=ke.substring(1)),(Fe||xe)&&(ke=ke.substring(0,ke.length-1));var pe,fe,be,Ie,Ee,Le=null,Oe=null;if(ue.parseMultDiv){var De=(Ee=(Ie=ke).match(H))?{key:Ee[1],op:Ee[2],number:Number(Ee[3])}:{key:Ie,op:null,number:null};ke=De.key,Le=De.op,Oe=De.number}if(Se){if(void 0===(pe=oe[ke]))return""}else for(be=3;be<de.length;be++)if(fe=de[be]){if(fe.hasOwnProperty(ke)){pe=fe[ke];break}if(F.test(ke)||(pe=s.nestedProperty(fe,ke).get(),(pe=he[ke]||s.nestedProperty(fe,ke).get())&&(he[ke]=pe)),void 0!==pe)break}if(void 0!==pe&&("*"===Le&&(pe*=Oe),"/"===Le&&(pe/=Oe)),void 0===pe&&ue)return ue.count<ue.max&&(s.warn("Variable '"+ke+"' in "+ue.name+" could not be found!"),pe=we),ue.count===ue.max&&s.warn("Too many "+ue.name+" warnings - additional warnings will be suppressed"),ue.count++,we;if(Te){var Ue;if(":"===Te[0]&&(pe=(Ue=le?le.numberFormat:s.numberFormat)(Te.replace(Y,""))(pe)),"|"===Te[0]){Ue=le?le.timeFormat:E;var Ge=s.dateTime2ms(pe);pe=s.formatDate(Ge,Te.replace(Y,""),!1,Ue)}}else{var ye=ke+"Label";oe.hasOwnProperty(ye)&&(pe=oe[ye])}return Se&&(pe="("+pe+")",(ve||xe)&&(pe=" "+pe),(Fe||xe)&&(pe+=" ")),pe})}s.subplotSort=function(ee,oe){for(var le=Math.min(ee.length,oe.length)+1,ue=0,de=0,he=0;he<le;he++){var we=ee.charCodeAt(he)||0,Ae=oe.charCodeAt(he)||0,Te=we>=48&&we<=57,ve=Ae>=48&&Ae<=57;if(Te&&(ue=10*ue+we-48),ve&&(de=10*de+Ae-48),!Te||!ve){if(ue!==de)return ue-de;if(we!==Ae)return we-Ae}}return de-ue};var te=2e9;s.seedPseudoRandom=function(){te=2e9},s.pseudoRandom=function(){var ee=te;return te=(69069*te+1)%4294967296,Math.abs(te-ee)<429496729?s.pseudoRandom():te/4294967296},s.fillText=function(ee,oe,le){var ue=Array.isArray(le)?function(we){le.push(we)}:function(we){le.text=we},de=s.extractOption(ee,oe,"htx","hovertext");if(s.isValidTextValue(de))return ue(de);var he=s.extractOption(ee,oe,"tx","text");return s.isValidTextValue(he)?ue(he):void 0},s.isValidTextValue=function(ee){return ee||0===ee},s.formatPercent=function(ee,oe){oe=oe||0;for(var le=(Math.round(100*ee*Math.pow(10,oe))*Math.pow(.1,oe)).toFixed(oe)+"%",ue=0;ue<oe;ue++)-1!==le.indexOf(".")&&(le=(le=le.replace("0%","%")).replace(".%","%"));return le},s.isHidden=function(ee){var oe=window.getComputedStyle(ee).display;return!oe||"none"===oe},s.strTranslate=function(ee,oe){return ee||oe?"translate("+ee+","+oe+")":""},s.strRotate=function(ee){return ee?"rotate("+ee+")":""},s.strScale=function(ee){return 1!==ee?"scale("+ee+")":""},s.getTextTransform=function(ee){var oe=ee.noCenter,le=ee.textX,ue=ee.textY,Te=ee.rotate,ve=ee.scale;return ve?ve>1&&(ve=1):ve=0,s.strTranslate(ee.targetX-ve*(le+(ee.anchorX||0)),ee.targetY-ve*(ue+(ee.anchorY||0)))+s.strScale(ve)+(Te?"rotate("+Te+(oe?"":" "+le+" "+ue)+")":"")},s.setTransormAndDisplay=function(ee,oe){ee.attr("transform",s.getTextTransform(oe)),ee.style("display",oe.scale?null:"none")},s.ensureUniformFontSize=function(ee,oe){var le=s.extendFlat({},oe);return le.size=Math.max(oe.size,ee._fullLayout.uniformtext.minsize||0),le},s.join2=function(ee,oe,le){var ue=ee.length;return ue>1?ee.slice(0,-1).join(oe)+le+ee[ue-1]:ee.join(oe)},s.bigFont=function(ee){return Math.round(1.2*ee)};var re=s.getFirefoxVersion(),Q=null!==re&&re<86;s.getPositionFromD3Event=function(){return Q?[D.event.layerX,D.event.layerY]:[D.event.offsetX,D.event.offsetY]}},41965:function(ae){"use strict";ae.exports=function(B){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(B):"[object Object]"===Object.prototype.toString.call(B)&&Object.getPrototypeOf(B).hasOwnProperty("hasOwnProperty")}},66636:function(ae,B,r){"use strict";var D=r(65487),E=/^\w*$/;ae.exports=function(f,S,M,v){var c,i,s;M=M||"name",v=v||"value";var a={};S&&S.length?(s=D(f,S),i=s.get()):i=f,S=S||"";var o={};if(i)for(c=0;c<i.length;c++)o[i[c][M]]=c;var l=E.test(v),u={set:function(d,m){var h=null===m?4:0;if(!i){if(!s||4===h)return;s.set(i=[])}var T=o[d];if(void 0===T){if(4===h)return;h|=3,o[d]=T=i.length}else m!==(l?i[T][v]:D(i[T],v).get())&&(h|=2);var _=i[T]=i[T]||{};return _[M]=d,l?_[v]=m:D(_,v).set(m),null!==m&&(h&=-5),a[T]=a[T]|h,u},get:function(d){if(i){var m=o[d];return void 0===m?void 0:l?i[m][v]:D(i[m],v).get()}},rename:function(d,m){var h=o[d];return void 0===h||(a[h]=1|a[h],o[m]=h,delete o[d],i[h][M]=m),u},remove:function(d){var m=o[d];if(void 0===m)return u;var h=i[m];if(Object.keys(h).length>2)return a[m]=2|a[m],u.set(d,null);if(l){for(c=m;c<i.length;c++)a[c]=3|a[c];for(c=m;c<i.length;c++)o[i[c][M]]--;i.splice(m,1),delete o[d]}else D(h,v).set(null),a[m]=6|a[m];return u},constructUpdate:function(){for(var d,m,h={},T=Object.keys(a),_=0;_<T.length;_++)d=S+"["+(m=T[_])+"]",i[m]?(1&a[m]&&(h[d+"."+M]=i[m][M]),2&a[m]&&(h[d+"."+v]=l?4&a[m]?null:i[m][v]:4&a[m]?null:D(i[m],v).get())):h[d]=null;return h}};return u}},15867:function(ae,B,r){"use strict";var D=r(73972);ae.exports=function(E,f){for(var S=E._context.locale,M=0;M<2;M++){for(var v=E._context.locales,c=0;c<2;c++){var i=(v[S]||{}).dictionary;if(i){var s=i[f];if(s)return s}v=D.localeRegistry}var a=S.split("-")[0];if(a===S)break;S=a}return f}},47769:function(ae,B,r){"use strict";var D=r(72075).dfltConfig,E=r(75046),f=ae.exports={};f.log=function(){var S;if(D.logging>1){var M=["LOG:"];for(S=0;S<arguments.length;S++)M.push(arguments[S]);console.trace.apply(console,M)}if(D.notifyOnLogging>1){var v=[];for(S=0;S<arguments.length;S++)v.push(arguments[S]);E(v.join("<br>"),"long")}},f.warn=function(){var S;if(D.logging>0){var M=["WARN:"];for(S=0;S<arguments.length;S++)M.push(arguments[S]);console.trace.apply(console,M)}if(D.notifyOnLogging>0){var v=[];for(S=0;S<arguments.length;S++)v.push(arguments[S]);E(v.join("<br>"),"stick")}},f.error=function(){var S;if(D.logging>0){var M=["ERROR:"];for(S=0;S<arguments.length;S++)M.push(arguments[S]);console.error.apply(console,M)}if(D.notifyOnLogging>0){var v=[];for(S=0;S<arguments.length;S++)v.push(arguments[S]);E(v.join("<br>"),"stick")}}},77310:function(ae,B,r){"use strict";var D=r(39898);ae.exports=function(E,f,S){var M=E.selectAll("g."+S.replace(/\s/g,".")).data(f,function(c){return c[0].trace.uid});M.exit().remove(),M.enter().append("g").attr("class",S),M.order();var v=E.classed("rangeplot")?"nodeRangePlot3":"node3";return M.each(function(c){c[0][v]=D.select(this)}),M}},35657:function(ae,B,r){"use strict";var D=r(79576);B.init2dArray=function(E,f){for(var S=new Array(E),M=0;M<E;M++)S[M]=new Array(f);return S},B.transposeRagged=function(E){var f,S,M=0,v=E.length;for(f=0;f<v;f++)M=Math.max(M,E[f].length);var c=new Array(M);for(f=0;f<M;f++)for(c[f]=new Array(v),S=0;S<v;S++)c[f][S]=E[S][f];return c},B.dot=function(E,f){if(!E.length||!f.length||E.length!==f.length)return null;var S,M,v=E.length;if(E[0].length)for(S=new Array(v),M=0;M<v;M++)S[M]=B.dot(E[M],f);else if(f[0].length){var c=B.transposeRagged(f);for(S=new Array(c.length),M=0;M<c.length;M++)S[M]=B.dot(E,c[M])}else for(S=0,M=0;M<v;M++)S+=E[M]*f[M];return S},B.translationMatrix=function(E,f){return[[1,0,E],[0,1,f],[0,0,1]]},B.rotationMatrix=function(E){var f=E*Math.PI/180;return[[Math.cos(f),-Math.sin(f),0],[Math.sin(f),Math.cos(f),0],[0,0,1]]},B.rotationXYMatrix=function(E,f,S){return B.dot(B.dot(B.translationMatrix(f,S),B.rotationMatrix(E)),B.translationMatrix(-f,-S))},B.apply3DTransform=function(E){return function(){var f=arguments,S=1===arguments.length?f[0]:[f[0],f[1],f[2]||0];return B.dot(E,[S[0],S[1],S[2],1]).slice(0,3)}},B.apply2DTransform=function(E){return function(){var f=arguments;3===f.length&&(f=f[0]);var S=1===arguments.length?f[0]:[f[0],f[1]];return B.dot(E,[S[0],S[1],1]).slice(0,2)}},B.apply2DTransform2=function(E){var f=B.apply2DTransform(E);return function(S){return f(S.slice(0,2)).concat(f(S.slice(2,4)))}},B.convertCssMatrix=function(E){if(E){var f=E.length;if(16===f)return E;if(6===f)return[E[0],E[1],0,0,E[2],E[3],0,0,0,0,1,0,E[4],E[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},B.inverseTransformMatrix=function(E){var f=[];return D.invert(f,E),[[f[0],f[1],f[2],f[3]],[f[4],f[5],f[6],f[7]],[f[8],f[9],f[10],f[11]],[f[12],f[13],f[14],f[15]]]}},64872:function(ae){"use strict";ae.exports={mod:function(B,r){var D=B%r;return D<0?D+r:D},modHalf:function(B,r){return Math.abs(B)>r/2?B-Math.round(B/r)*r:B}}},65487:function(ae,B,r){"use strict";var D=r(92770),E=r(73627).isArrayOrTypedArray;function f(a,o){return function(){var l,u,d,m,h,T=a;for(m=0;m<o.length-1;m++){if(-1===(l=o[m])){for(u=!0,d=[],h=0;h<T.length;h++)d[h]=f(T[h],o.slice(m+1))(),d[h]!==d[0]&&(u=!1);return u?d[0]:d}if("number"==typeof l&&!E(T)||"object"!=typeof(T=T[l])||null===T)return}if("object"==typeof T&&null!==T&&null!==(d=T[o[m]]))return d}}ae.exports=function(a,o){if(D(o))o=String(o);else if("string"!=typeof o||"[-1]"===o.substr(o.length-4))throw"bad property string";var l,u,d,m,h=o.split(".");for(m=0;m<h.length;m++)if("__"===String(h[m]).slice(0,2))throw"bad property string";for(m=0;m<h.length;){if(l=String(h[m]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(l[1])h[m]=l[1];else{if(0!==m)throw"bad property string";h.splice(0,1)}for(u=l[2].substr(1,l[2].length-2).split("]["),d=0;d<u.length;d++)m++,h.splice(m,0,Number(u[d]))}m++}return"object"!=typeof a?{set:function(){throw"bad container"},get:function(){},astr:o,parts:h,obj:a}:{set:v(a,h,o),get:f(a,h),astr:o,parts:h,obj:a}};var S=/(^|\.)args\[/;function M(a,o){return void 0===a||null===a&&!o.match(S)}function v(a,o,l){return function(u){var d,m,h=a,T="",_=[[a,T]],g=M(u,l);for(m=0;m<o.length-1;m++){if("number"==typeof(d=o[m])&&!E(h))throw"array index but container is not an array";if(-1===d){if(g=!i(h,o.slice(m+1),u,l))break;return}if(!s(h,d,o[m+1],g))break;if("object"!=typeof(h=h[d])||null===h)throw"container is not an object";T=c(T,d),_.push([h,T])}if(g){if(m===o.length-1&&(delete h[o[m]],Array.isArray(h)&&+o[m]==h.length-1))for(;h.length&&void 0===h[h.length-1];)h.pop()}else h[o[m]]=u}}function c(a,o){var l=o;return D(o)?l="["+o+"]":a&&(l="."+o),a+l}function i(a,o,l,u){var d,m=E(l),h=!0,T=l,_=u.replace("-1",0),g=!m&&M(l,_),w=o[0];for(d=0;d<a.length;d++)_=u.replace("-1",d),m&&(g=M(T=l[d%l.length],_)),g&&(h=!1),s(a,d,w,g)&&v(a[d],o,u.replace("-1",d))(T);return h}function s(a,o,l,u){if(void 0===a[o]){if(u)return!1;a[o]="number"==typeof l?[]:{}}return!0}},64213:function(ae){"use strict";ae.exports=function(){}},75046:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=[];ae.exports=function(S,M){if(-1===f.indexOf(S)){f.push(S);var v=1e3;E(M)?v=M:"long"===M&&(v=3e3);var c=D.select("body").selectAll(".plotly-notifier").data([0]);c.enter().append("div").classed("plotly-notifier",!0),c.selectAll(".notifier-note").data(f).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(s){var a=D.select(this);a.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){a.transition().call(i)});for(var o=a.append("p"),l=s.split(/<br\s*\/?>/g),u=0;u<l.length;u++)u&&o.append("br"),o.append("span").text(l[u]);"stick"===M?a.transition().duration(350).style("opacity",1):a.transition().duration(700).style("opacity",1).transition().delay(v).call(i)})}function i(s){s.duration(700).style("opacity",0).each("end",function(a){var o=f.indexOf(a);-1!==o&&f.splice(o,1),D.select(this).remove()})}}},39918:function(ae,B,r){"use strict";var D=r(6964),E="data-savedcursor";ae.exports=function(f,S){var M=f.attr(E);if(S){if(!M){for(var v=(f.attr("class")||"").split(" "),c=0;c<v.length;c++){var i=v[c];0===i.indexOf("cursor-")&&f.attr(E,i.substr(7)).classed(i,!1)}f.attr(E)||f.attr(E,"!!")}D(f,S)}else M&&(f.attr(E,null),"!!"===M?D(f):D(f,M))}},61082:function(ae,B,r){"use strict";var D=r(35657).dot,E=r(50606).BADNUM,f=ae.exports={};f.tester=function(S){var M,v=S.slice(),c=v[0][0],i=c,s=v[0][1],a=s;for(v[v.length-1][0]===v[0][0]&&v[v.length-1][1]===v[0][1]||v.push(v[0]),M=1;M<v.length;M++)c=Math.min(c,v[M][0]),i=Math.max(i,v[M][0]),s=Math.min(s,v[M][1]),a=Math.max(a,v[M][1]);var o,l=!1;5===v.length&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(l=!0,o=function(m){return m[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(l=!0,o=function(m){return m[1]===v[0][1]}));var u=!0,d=v[0];for(M=1;M<v.length;M++)if(d[0]!==v[M][0]||d[1]!==v[M][1]){u=!1;break}return{xmin:c,xmax:i,ymin:s,ymax:a,pts:v,contains:l?function(m,h){var T=m[0],_=m[1];return!(T===E||T<c||T>i||_===E||_<s||_>a||h&&o(m))}:function(m,h){var T=m[0],_=m[1];if(T===E||T<c||T>i||_===E||_<s||_>a)return!1;var g,w,x,b,A,p=v.length,O=v[0][0],k=v[0][1],I=0;for(g=1;g<p;g++)if(w=O,x=k,O=v[g][0],k=v[g][1],!(T<(b=Math.min(w,O))||T>Math.max(w,O)||_>Math.max(x,k)))if(_<Math.min(x,k))T!==b&&I++;else{if(_===(A=O===w?_:x+(T-w)*(k-x)/(O-w)))return 1!==g||!h;_<=A&&T!==b&&I++}return I%2==1},isRect:l,degenerate:u}},f.isSegmentBent=function(S,M,v,c){var i,s,a,o=S[M],l=[S[v][0]-o[0],S[v][1]-o[1]],u=D(l,l),d=Math.sqrt(u),m=[-l[1]/d,l[0]/d];for(i=M+1;i<v;i++)if((a=D(s=[S[i][0]-o[0],S[i][1]-o[1]],l))<0||a>u||Math.abs(D(s,m))>c)return!0;return!1},f.filter=function(S,M){var v=[S[0]],c=0,i=0;function s(a){S.push(a);var o=v.length,l=c;v.splice(i+1);for(var u=l+1;u<S.length;u++)(u===S.length-1||f.isSegmentBent(S,l,u+1,M))&&(v.push(S[u]),v.length<o-2&&(c=u,i=v.length-1),l=u)}return S.length>1&&s(S.pop()),{addPt:s,raw:S,filtered:v}}},79749:function(ae,B,r){"use strict";var D=r(58617),E=r(98580);ae.exports=function(f,S,M){var v=f._fullLayout,c=!0;return v._glcanvas.each(function(i){if(i.regl)i.regl.preloadCachedCode(M);else if(!i.pick||v._has("parcoords")){try{i.regl=E({canvas:this,attributes:{antialias:!i.pick,preserveDrawingBuffer:!0},pixelRatio:f._context.plotGlPixelRatio||r.g.devicePixelRatio,extensions:S||[],cachedCode:M||{}})}catch{c=!1}i.regl||(c=!1),c&&this.addEventListener("webglcontextlost",function(s){f&&f.emit&&f.emit("plotly_webglcontextlost",{event:s,layer:i.key})},!1)}}),c||D({container:v._glcontainer.node()}),c}},45142:function(ae,B,r){"use strict";var D=r(92770),E=r(35791);ae.exports=function(f){var S,o;if("string"!=typeof(S=f&&f.hasOwnProperty("userAgent")?f.userAgent:(typeof navigator<"u"&&(o=navigator.userAgent),o&&o.headers&&"string"==typeof o.headers["user-agent"]&&(o=o.headers["user-agent"]),o)))return!0;var M=E({ua:{headers:{"user-agent":S}},tablet:!0,featureDetect:!1});if(!M)for(var v=S.split(" "),c=1;c<v.length;c++)if(-1!==v[c].indexOf("Safari"))for(var i=c-1;i>-1;i--){var s=v[i];if("Version/"===s.substr(0,8)){var a=s.substr(8).split(".")[0];if(D(a)&&(a=+a),a>=13)return!0}}return M}},75138:function(ae){"use strict";ae.exports=function(B,r){if(r instanceof RegExp){for(var D=r.toString(),E=0;E<B.length;E++)if(B[E]instanceof RegExp&&B[E].toString()===D)return B;B.push(r)}else!r&&0!==r||-1!==B.indexOf(r)||B.push(r);return B}},10847:function(ae,B,r){"use strict";var D=r(71828),E=r(72075).dfltConfig,f={add:function(S,M,v,c,i){var s,a;S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},a=S.undoQueue.index,S.autoplay?S.undoQueue.inSequence||(S.autoplay=!1):(!S.undoQueue.sequence||S.undoQueue.beginSequence?(S.undoQueue.queue.splice(a,S.undoQueue.queue.length-a,s={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),S.undoQueue.index+=1):s=S.undoQueue.queue[a-1],S.undoQueue.beginSequence=!1,s&&(s.undo.calls.unshift(M),s.undo.args.unshift(v),s.redo.calls.push(c),s.redo.args.push(i)),S.undoQueue.queue.length>E.queueLength&&(S.undoQueue.queue.shift(),S.undoQueue.index--))},startSequence:function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!0,S.undoQueue.beginSequence=!0},stopSequence:function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!1,S.undoQueue.beginSequence=!1},undo:function(S){var M,v;if(!(void 0===S.undoQueue||isNaN(S.undoQueue.index)||S.undoQueue.index<=0)){for(S.undoQueue.index--,M=S.undoQueue.queue[S.undoQueue.index],S.undoQueue.inSequence=!0,v=0;v<M.undo.calls.length;v++)f.plotDo(S,M.undo.calls[v],M.undo.args[v]);S.undoQueue.inSequence=!1,S.autoplay=!1}},redo:function(S){var M,v;if(!(void 0===S.undoQueue||isNaN(S.undoQueue.index)||S.undoQueue.index>=S.undoQueue.queue.length)){for(M=S.undoQueue.queue[S.undoQueue.index],S.undoQueue.inSequence=!0,v=0;v<M.redo.calls.length;v++)f.plotDo(S,M.redo.calls[v],M.redo.args[v]);S.undoQueue.inSequence=!1,S.autoplay=!1,S.undoQueue.index++}},plotDo:function(S,M,v){S.autoplay=!0,v=function(c,i){for(var s,a=[],o=0;o<i.length;o++)a[o]=(s=i[o])===c?s:"object"==typeof s?Array.isArray(s)?D.extendDeep([],s):D.extendDeepAll({},s):s;return a}(S,v),M.apply(null,v)}};ae.exports=f},30587:function(ae,B){"use strict";B.counter=function(r,D,E,f){var S=(D||"")+(E?"":"$"),M=!1===f?"":"^";return"xy"===r?new RegExp(M+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+S):new RegExp(M+r+"([2-9]|[1-9][0-9]+)?"+S)}},6962:function(ae){"use strict";var B=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,r=/^[^\.\[\]]+$/;ae.exports=function(D,E){for(;E;){var f=D.match(B);if(f)D=f[1];else{if(!D.match(r))throw new Error("bad relativeAttr call:"+[D,E]);D=""}if("^"!==E.charAt(0))break;E=E.slice(1)}return D&&"["!==E.charAt(0)?D+"."+E:D+E}},51332:function(ae,B,r){"use strict";var D=r(73627).isArrayOrTypedArray,E=r(41965);ae.exports=function f(S,M){for(var v in M){var c=M[v],i=S[v];if(i!==c)if("_"===v.charAt(0)||"function"==typeof c){if(v in S)continue;S[v]=c}else if(D(c)&&D(i)&&E(c[0])){if("customdata"===v||"ids"===v)continue;for(var s=Math.min(c.length,i.length),a=0;a<s;a++)i[a]!==c[a]&&E(c[a])&&E(i[a])&&f(i[a],c[a])}else E(c)&&E(i)&&(f(i,c),Object.keys(i).length||delete S[v])}}},65888:function(ae,B,r){"use strict";var D=r(92770),E=r(47769),f=r(23389),S=r(50606).BADNUM,M=1e-9;function v(a,o){return a<o}function c(a,o){return a<=o}function i(a,o){return a>o}function s(a,o){return a>=o}B.findBin=function(a,o,l){if(D(o.start))return l?Math.ceil((a-o.start)/o.size-M)-1:Math.floor((a-o.start)/o.size+M);var u,d,m=0,h=o.length,T=0,_=h>1?(o[h-1]-o[0])/(h-1):1;for(d=_>=0?l?v:c:l?s:i,a+=_*M*(l?-1:1)*(_>=0?1:-1);m<h&&T++<100;)d(o[u=Math.floor((m+h)/2)],a)?m=u+1:h=u;return T>90&&E.log("Long binary search..."),m-1},B.sorterAsc=function(a,o){return a-o},B.sorterDes=function(a,o){return o-a},B.distinctVals=function(a){var o,l=a.slice();for(l.sort(B.sorterAsc),o=l.length-1;o>-1&&l[o]===S;o--);for(var u,d=l[o]-l[0]||1,m=d/(o||1)/1e4,h=[],T=0;T<=o;T++){var _=l[T],g=_-u;void 0===u?(h.push(_),u=_):g>m&&(d=Math.min(d,g),h.push(_),u=_)}return{vals:h,minDiff:d}},B.roundUp=function(a,o,l){for(var u,d=0,m=o.length-1,h=0,T=l?0:1,_=l?1:0,g=l?Math.ceil:Math.floor;d<m&&h++<100;)o[u=g((d+m)/2)]<=a?d=u+T:m=u-_;return o[d]},B.sort=function(a,o){for(var l=0,u=0,d=1;d<a.length;d++){var m=o(a[d],a[d-1]);if(m<0?l=1:m>0&&(u=1),l&&u)return a.sort(o)}return u?a:a.reverse()},B.findIndexOfMin=function(a,o){o=o||f;for(var l,u=1/0,d=0;d<a.length;d++){var m=o(a[d]);m<u&&(u=m,l=d)}return l}},6964:function(ae){"use strict";ae.exports=function(B,r){(B.attr("class")||"").split(" ").forEach(function(D){0===D.indexOf("cursor-")&&B.classed(D,!1)}),r&&B.classed("cursor-"+r,!0)}},58617:function(ae,B,r){"use strict";var D=r(7901),E=function(){};ae.exports=function(f){for(var S in f)"function"==typeof f[S]&&(f[S]=E);f.destroy=function(){f.container.parentNode.removeChild(f.container)};var M=document.createElement("div");M.className="no-webgl",M.style.cursor="pointer",M.style.fontSize="24px",M.style.color=D.defaults[0],M.style.position="absolute",M.style.left=M.style.top="0px",M.style.width=M.style.height="100%",M.style["background-color"]=D.lightLine,M.style["z-index"]=30;var v=document.createElement("p");return v.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",v.style.position="relative",v.style.top="50%",v.style.left="50%",v.style.height="30%",v.style.width="50%",v.style.margin="-15% 0 0 -25%",M.appendChild(v),f.container.appendChild(M),f.container.style.background="#FFFFFF",f.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(ae){"use strict";ae.exports=function(B){return Object.keys(B).sort()}},80038:function(ae,B,r){"use strict";var D=r(92770),E=r(73627).isArrayOrTypedArray;B.aggNums=function(f,S,M,v){var c,i;if((!v||v>M.length)&&(v=M.length),D(S)||(S=!1),E(M[0])){for(i=new Array(v),c=0;c<v;c++)i[c]=B.aggNums(f,S,M[c]);M=i}for(c=0;c<v;c++)D(S)?D(M[c])&&(S=f(+S,+M[c])):S=M[c];return S},B.len=function(f){return B.aggNums(function(S){return S+1},0,f)},B.mean=function(f,S){return S||(S=B.len(f)),B.aggNums(function(M,v){return M+v},0,f)/S},B.midRange=function(f){if(void 0!==f&&0!==f.length)return(B.aggNums(Math.max,null,f)+B.aggNums(Math.min,null,f))/2},B.variance=function(f,S,M){return S||(S=B.len(f)),D(M)||(M=B.mean(f,S)),B.aggNums(function(v,c){return v+Math.pow(c-M,2)},0,f)/S},B.stdev=function(f,S,M){return Math.sqrt(B.variance(f,S,M))},B.median=function(f){var S=f.slice().sort();return B.interp(S,.5)},B.interp=function(f,S){if(!D(S))throw"n should be a finite number";if((S=S*f.length-.5)<0)return f[0];if(S>f.length-1)return f[f.length-1];var M=S%1;return M*f[Math.ceil(S)]+(1-M)*f[Math.floor(S)]}},78614:function(ae,B,r){"use strict";var D=r(25075);ae.exports=function(E){return E?D(E):[0,0,0,1]}},3883:function(ae,B,r){"use strict";var D=r(32396),E=r(91424),f=r(71828),S=null;ae.exports=function(){if(null!==S)return S;S=!1;var M=f.isIE()||f.isSafari()||f.isIOS();if(window.navigator.userAgent&&!M){var v=Array.from(D.CSS_DECLARATIONS).reverse(),c=window.CSS&&window.CSS.supports||window.supportsCSS;if("function"==typeof c)S=v.some(function(a){return c.apply(null,a)});else{var i=E.tester.append("image").attr("style",D.STYLE),s=window.getComputedStyle(i.node()).imageRendering;S=v.some(function(a){var o=a[1];return s===o||s===o.toLowerCase()}),i.remove()}}return S}},63893:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=E.strTranslate,S=r(77922),M=r(18783).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;B.convertToTspans=function(j,X,F){var Z=j.text(),W=!j.attr("data-notex")&&X&&X._context.typesetMath&&typeof MathJax<"u"&&Z.match(v),H=D.select(j.node().parentNode);if(!H.empty()){var G=j.attr("class")?j.attr("class").split(" ")[0]:"text";return H.selectAll("svg."+(G+="-math")).remove(),H.selectAll("g."+G+"-group").remove(),j.style("display",null).attr({"data-unformatted":Z,"data-math":"N"}),W?(X&&X._promises||[]).push(new Promise(function(se){j.style("display","none");var te=parseInt(j.node().style.fontSize,10);!function(Q,ee,oe){var le,ue,de,he,we=parseInt((MathJax.version||"").split(".")[0]);if(2===we||3===we){var Ae=function(){var ve="math-output-"+E.randstr({},64),xe=(he=D.select("body").append("div").attr({id:ve}).style({visibility:"hidden",position:"absolute","font-size":ee.fontSize+"px"}).text(Q.replace(c,"\\lt ").replace(i,"\\gt "))).node();return 2===we?MathJax.Hub.Typeset(xe):MathJax.typeset([xe])},Te=function(){var ve=he.select(2===we?".MathJax_SVG":".MathJax"),xe=!ve.empty()&&he.select("svg").node();if(xe){var Fe,Se=xe.getBoundingClientRect();Fe=2===we?D.select("body").select("#MathJax_SVG_glyphs"):ve.select("defs"),oe(ve,Fe,Se)}else E.log("There was an error in the tex syntax.",Q),oe();he.remove()};2===we?MathJax.Hub.Queue(function(){return ue=E.extendDeepAll({},MathJax.Hub.config),de=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:s},displayAlign:"left"})},function(){if("SVG"!==(le=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},Ae,Te,function(){if("SVG"!==le)return MathJax.Hub.setRenderer(le)},function(){return void 0!==de&&(MathJax.Hub.processSectionDelay=de),MathJax.Hub.Config(ue)}):3===we&&(ue=E.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=s,"svg"!==(le=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Ae(),Te(),"svg"!==le&&(MathJax.config.startup.output=le),MathJax.config=ue}))}else E.warn("No MathJax version:",MathJax.version)}(W[2],{fontSize:te},function(Q,ee,oe){H.selectAll("svg."+G).remove(),H.selectAll("g."+G+"-group").remove();var le=Q&&Q.select("svg");if(!le||!le.node())return Y(),void se();var ue=H.append("g").classed(G+"-group",!0).attr({"pointer-events":"none","data-unformatted":Z,"data-math":"Y"});ue.node().appendChild(le.node()),ee&&ee.node()&&le.node().insertBefore(ee.node().cloneNode(!0),le.node().firstChild);var de=oe.width,he=oe.height;le.attr({class:G,height:he,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var we=j.node().style.fill||"black",Ae=le.select("g");Ae.attr({fill:we,stroke:we});var Te=Ae.node().getBoundingClientRect(),ve=Te.width,xe=Te.height;(ve>de||xe>he)&&(le.style("overflow","hidden"),ve=(Te=le.node().getBoundingClientRect()).width,xe=Te.height);var Fe=+j.attr("x"),Se=+j.attr("y"),ke=-(te||j.node().getBoundingClientRect().height)/4;if("y"===G[0])ue.attr({transform:"rotate("+[-90,Fe,Se]+")"+f(-ve/2,ke-xe/2)});else if("l"===G[0])Se=ke-xe/2;else if("a"===G[0]&&0!==G.indexOf("atitle"))Fe=0,Se=ke;else{var pe=j.attr("text-anchor");Fe-=ve*("middle"===pe?.5:"end"===pe?1:0),Se=Se+ke-xe/2}le.attr({x:Fe,y:Se}),F&&F.call(j,ue),se(ue)})})):Y(),j}function Y(){H.empty()||(G=j.attr("class")+"-math",H.select("svg."+G).remove()),j.text("").style("white-space","pre"),function(te,re){re=re.replace(m," ");var Q,ee=!1,oe=[],le=-1;function ue(){le++;var Oe=document.createElementNS(S.svg,"tspan");D.select(Oe).attr({class:"line",dy:le*M+"em"}),te.appendChild(Oe),Q=Oe;var De=oe;if(oe=[{node:Oe}],De.length>1)for(var Ue=1;Ue<De.length;Ue++)de(De[Ue])}function de(Oe){var De,Ue=Oe.type,Ge={};if("a"===Ue){De="a";var ye=Oe.target,Ie=Oe.href,Ee=Oe.popup;Ie&&(Ge={"xlink:xlink:show":"_blank"===ye||"_"!==ye.charAt(0)?"new":"replace",target:ye,"xlink:xlink:href":Ie},Ee&&(Ge.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ee+'");return false;'))}else De="tspan";Oe.style&&(Ge.style=Oe.style);var Be=document.createElementNS(S.svg,De);if("sup"===Ue||"sub"===Ue){he(Q,u),Q.appendChild(Be);var We=document.createElementNS(S.svg,"tspan");he(We,u),D.select(We).attr("dy",l[Ue]),Ge.dy=o[Ue],Q.appendChild(Be),Q.appendChild(We)}else Q.appendChild(Be);D.select(Be).attr(Ge),Q=Oe.node=Be,oe.push(Oe)}function he(Oe,De){Oe.appendChild(document.createTextNode(De))}function we(Oe){if(1!==oe.length){var De=oe.pop();Oe!==De.type&&E.log("Start tag <"+De.type+"> doesnt match end tag <"+Oe+">. Pretending it did match.",re),Q=oe[oe.length-1].node}else E.log("Ignoring unexpected end tag </"+Oe+">.",re)}_.test(re)?ue():(Q=te,oe=[{node:te}]);for(var Ae=re.split(h),Te=0;Te<Ae.length;Te++){var ve=Ae[Te],xe=ve.match(T),Fe=xe&&xe[2].toLowerCase(),Se=a[Fe];if("br"===Fe)ue();else if(void 0===Se)he(Q,I(ve));else if(xe[1])we(Fe);else{var ke=xe[4],pe={type:Fe},fe=A(ke,g);if(fe?(fe=fe.replace(p,"$1 fill:"),Se&&(fe+=";"+Se)):Se&&(fe=Se),fe&&(pe.style=fe),"a"===Fe){ee=!0;var be=A(ke,w);if(be){var Le=P(be);Le&&(pe.href=Le,pe.target=A(ke,x)||"_blank",pe.popup=A(ke,b))}}de(pe)}}return ee}(j.node(),Z)&&j.style("pointer-events","all"),B.positionText(j),F&&F.call(j)}};var c=/(<|&lt;|&#60;)/g,i=/(>|&gt;|&#62;)/g,s=[["$","$"],["\\(","\\)"]],a={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},o={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},u="\u200b",d=["http:","https:","mailto:","",void 0,":"],m=B.NEWLINES=/(\r\n?|\n)/g,h=/(<[^<>]*>)/,T=/<(\/?)([^ >]*)(\s+(.*))?>/i,_=/<br(\s+.*)?>/i;B.BR_TAG_ALL=/<br(\s+.*)?>/gi;var g=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,x=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,b=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function A(j,X){if(!j)return null;var F=j.match(X),Z=F&&(F[3]||F[4]);return Z&&I(Z)}var p=/(^|;)\s*color:/;B.plainText=function(j,X){for(var F=void 0!==(X=X||{}).len&&-1!==X.len?X.len:1/0,Z=void 0!==X.allowedTags?X.allowedTags:["br"],W=j.split(h),H=[],G="",Y=0,se=0;se<W.length;se++){var te=W[se],re=te.match(T),Q=re&&re[2].toLowerCase();if(Q)-1!==Z.indexOf(Q)&&(H.push(te),G=Q);else{var ee=te.length;if(Y+ee<F)H.push(te),Y+=ee;else if(Y<F){var oe=F-Y;G&&("br"!==G||oe<=3||ee<=3)&&H.pop(),H.push(F>3?te.substr(0,oe-3)+"...":te.substr(0,oe));break}G=""}}return H.join("")};var O={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},k=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function I(j){return j.replace(k,function(X,F){return("#"===F.charAt(0)?function(Z){if(!(Z>1114111)){var W=String.fromCodePoint;if(W)return W(Z);var H=String.fromCharCode;return Z<=65535?H(Z):H(55232+(Z>>10),Z%1024+56320)}}("x"===F.charAt(1)?parseInt(F.substr(2),16):parseInt(F.substr(1),10)):O[F])||X})}function P(j){var X=encodeURI(decodeURI(j)),F=document.createElement("a"),Z=document.createElement("a");F.href=j,Z.href=X;var H=Z.protocol;return-1!==d.indexOf(F.protocol)&&-1!==d.indexOf(H)?X:""}function R(j,X,F){var Z,W,H,G=F.horizontalAlign,Y=F.verticalAlign||"top",se=j.node().getBoundingClientRect(),te=X.node().getBoundingClientRect();return W="bottom"===Y?function(){return se.bottom-Z.height}:"middle"===Y?function(){return se.top+(se.height-Z.height)/2}:function(){return se.top},H="right"===G?function(){return se.right-Z.width}:"center"===G?function(){return se.left+(se.width-Z.width)/2}:function(){return se.left},function(){Z=this.node().getBoundingClientRect();var re=H()-te.left,Q=W()-te.top,ee=F.gd||{};if(F.gd){ee._fullLayout._calcInverseTransform(ee);var oe=E.apply3DTransform(ee._fullLayout._invTransform)(re,Q);re=oe[0],Q=oe[1]}return this.style({top:Q+"px",left:re+"px","z-index":1e3}),this}}B.convertEntities=I,B.sanitizeHTML=function(j){j=j.replace(m," ");for(var X=document.createElement("p"),F=X,Z=[],W=j.split(h),H=0;H<W.length;H++){var G=W[H],Y=G.match(T),se=Y&&Y[2].toLowerCase();if(se in a)if(Y[1])Z.length&&(F=Z.pop());else{var te=Y[4],re=A(te,g),Q=re?{style:re}:{};if("a"===se){var ee=A(te,w);if(ee){var oe=P(ee);if(oe){Q.href=oe;var le=A(te,x);le&&(Q.target=le)}}}var ue=document.createElement(se);F.appendChild(ue),D.select(ue).attr(Q),F=ue,Z.push(ue)}else F.appendChild(document.createTextNode(I(G)))}return X.innerHTML},B.lineCount=function(j){return j.selectAll("tspan.line").size()||1},B.positionText=function(j,X,F){return j.each(function(){var Z=D.select(this);function W(Y,se){return void 0===se?null===(se=Z.attr(Y))&&(Z.attr(Y,0),se=0):Z.attr(Y,se),se}var H=W("x",X),G=W("y",F);"text"===this.nodeName&&Z.selectAll("tspan.line").attr({x:H,y:G})})};var N="1px ";B.makeTextShadow=function(j){return N+N+N+j+", -"+N+"-"+N+N+j+", "+N+"-"+N+N+j+", -"+N+N+N+j},B.makeEditable=function(j,X){var F=X.gd,Z=X.delegate,W=D.dispatch("edit","input","cancel"),H=Z||j;if(j.style({"pointer-events":Z?"none":"all"}),1!==j.size())throw new Error("boo");function G(){var se,te,re,Q,ee;se=D.select(F).select(".svg-container"),te=se.append("div"),re=j.node().style,Q=parseFloat(re.fontSize||12),void 0===(ee=X.text)&&(ee=j.attr("data-unformatted")),te.classed("plugin-editable editable",!0).style({position:"absolute","font-family":re.fontFamily||"Arial","font-size":Q,color:X.fill||re.fill||"black",opacity:1,"background-color":X.background||"transparent",outline:"#ffffff33 1px solid",margin:[-Q/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(ee).call(R(j,se,X)).on("blur",function(){F._editing=!1,j.text(this.textContent).style({opacity:1});var ue,de=D.select(this).attr("class");(ue=de?"."+de.split(" ")[0]+"-math-group":"[class*=-math-group]")&&D.select(j.node().parentNode).select(ue).style({opacity:0});var he=this.textContent;D.select(this).transition().duration(0).remove(),D.select(document).on("mouseup",null),W.edit.call(j,he)}).on("focus",function(){var ue=this;F._editing=!0,D.select(document).on("mouseup",function(){if(D.event.target===ue)return!1;document.activeElement===te.node()&&te.node().blur()})}).on("keyup",function(){27===D.event.which?(F._editing=!1,j.style({opacity:1}),D.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),W.cancel.call(j,this.textContent)):(W.input.call(j,this.textContent),D.select(this).call(R(j,se,X)))}).on("keydown",function(){13===D.event.which&&this.blur()}).call(Y),j.style({opacity:0});var oe,le=H.attr("class");(oe=le?"."+le.split(" ")[0]+"-math-group":"[class*=-math-group]")&&D.select(j.node().parentNode).select(oe).style({opacity:0})}function Y(se){var te=se.node(),re=document.createRange();re.selectNodeContents(te);var Q=window.getSelection();Q.removeAllRanges(),Q.addRange(re),te.focus()}return X.immediate?G():H.on("click",G),D.rebind(j,W,"on")}},79990:function(ae,B){"use strict";var r={};function D(E){E&&null!==E.timer&&(clearTimeout(E.timer),E.timer=null)}B.throttle=function(E,f,S){var M=r[E],v=Date.now();if(!M){for(var c in r)r[c].ts<v-6e4&&delete r[c];M=r[E]={ts:0,timer:null}}function i(){S(),M.ts=Date.now(),M.onDone&&(M.onDone(),M.onDone=null)}D(M),v>M.ts+f?i():M.timer=setTimeout(function(){i(),M.timer=null},f)},B.done=function(E){var f=r[E];return f&&f.timer?new Promise(function(S){var M=f.onDone;f.onDone=function(){M&&M(),S(),f.onDone=null}}):Promise.resolve()},B.clear=function(E){if(E)D(r[E]),delete r[E];else for(var f in r)B.clear(f)}},58163:function(ae,B,r){"use strict";var D=r(92770);ae.exports=function(E,f){if(E>0)return Math.log(E)/Math.LN10;var S=Math.log(Math.min(f[0],f[1]))/Math.LN10;return D(S)||(S=Math.log(Math.max(f[0],f[1]))/Math.LN10-6),S}},90973:function(ae,B,r){"use strict";var D=ae.exports={},E=r(78776).locationmodeToLayer,f=r(96892).zL;D.getTopojsonName=function(S){return[S.scope.replace(/ /g,"-"),"_",S.resolution.toString(),"m"].join("")},D.getTopojsonPath=function(S,M){return S+M+".json"},D.getTopojsonFeatures=function(S,M){return f(M,M.objects[E[S.locationmode]]).features}},37815:function(ae){"use strict";ae.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(ae){"use strict";ae.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(ae,B,r){"use strict";var D=r(73972);ae.exports=function(E){for(var f,S,M=D.layoutArrayContainers,v=D.layoutArrayRegexes,c=E.split("[")[0],i=0;i<v.length;i++)if((S=E.match(v[i]))&&0===S.index){f=S[0];break}if(f||(f=M[M.indexOf(c)]),!f)return!1;var s=E.substr(f.length);return s?!!(S=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:f,index:Number(S[1]),property:S[3]||""}:{array:f,index:"",property:""}}},30962:function(ae,B,r){"use strict";var D=r(1426).extendFlat,E=r(41965),f={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},S={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},M=f.flags.slice().concat(["fullReplot"]),v=S.flags.slice().concat("layoutReplot");function c(a){for(var o={},l=0;l<a.length;l++)o[a[l]]=!1;return o}function i(a,o,l){var u=D({},a);for(var d in u){var m=u[d];E(m)&&(u[d]=s(m,o,0,d))}return"from-root"===l&&(u.editType=o),u}function s(a,o,l,u){if(a.valType){var d=D({},a);if(d.editType=o,Array.isArray(a.items)){d.items=new Array(a.items.length);for(var m=0;m<a.items.length;m++)d.items[m]=s(a.items[m],o)}return d}return i(a,o,"_"===u.charAt(0)?"nested":"from-root")}ae.exports={traces:f,layout:S,traceFlags:function(){return c(M)},layoutFlags:function(){return c(v)},update:function(a,o){var l=o.editType;if(l&&"none"!==l)for(var u=l.split("+"),d=0;d<u.length;d++)a[u[d]]=!0},overrideAll:i}},58377:function(ae,B,r){"use strict";var D=r(92770),E=r(27812),f=r(73972),S=r(71828),M=r(74875),v=r(41675),c=r(7901),i=v.cleanId,s=v.getFromTrace,a=f.traceIs;function o(w,x){var b=w[x],A=x.charAt(0);b&&"paper"!==b&&(w[x]=i(b,A,!0))}function l(w){function x(b,A){w[b]&&(!w.title||!w.title[A])&&(w.title||(w.title={}),w.title[A]=w[b],delete w[b])}w&&("string"!=typeof w.title&&"number"!=typeof w.title||(w.title={text:w.title}),x("titlefont","font"),x("titleposition","position"),x("titleside","side"),x("titleoffset","offset"))}function u(w){if(!S.isPlainObject(w))return!1;var x=w.name;return delete w.name,delete w.showlegend,("string"==typeof x||"number"==typeof x)&&String(x)}function d(w,x,b,A){if(b&&!A)return w;if(A&&!b||!w.trim())return x;if(!x.trim())return w;var p,O=Math.min(w.length,x.length);for(p=0;p<O&&w.charAt(p)===x.charAt(p);p++);return w.substr(0,p).trim()}function m(w){var x="middle",b="center";return"string"==typeof w&&(-1!==w.indexOf("top")?x="top":-1!==w.indexOf("bottom")&&(x="bottom"),-1!==w.indexOf("left")?b="left":-1!==w.indexOf("right")&&(b="right")),x+" "+b}function h(w,x){return x in w&&"object"==typeof w[x]&&0===Object.keys(w[x]).length}B.clearPromiseQueue=function(w){Array.isArray(w._promises)&&w._promises.length>0&&S.log("Clearing previous rejected promises from queue."),w._promises=[]},B.cleanLayout=function(w){var x,b;w||(w={}),w.xaxis1&&(w.xaxis||(w.xaxis=w.xaxis1),delete w.xaxis1),w.yaxis1&&(w.yaxis||(w.yaxis=w.yaxis1),delete w.yaxis1),w.scene1&&(w.scene||(w.scene=w.scene1),delete w.scene1);var A=(M.subplotsRegistry.cartesian||{}).attrRegex,p=(M.subplotsRegistry.polar||{}).attrRegex,O=(M.subplotsRegistry.ternary||{}).attrRegex,k=(M.subplotsRegistry.gl3d||{}).attrRegex,I=Object.keys(w);for(x=0;x<I.length;x++){var P=I[x];if(A&&A.test(P)){var R=w[P];R.anchor&&"free"!==R.anchor&&(R.anchor=i(R.anchor)),R.overlaying&&(R.overlaying=i(R.overlaying)),R.type||(R.isdate?R.type="date":R.islog?R.type="log":!1===R.isdate&&!1===R.islog&&(R.type="linear")),"withzero"!==R.autorange&&"tozero"!==R.autorange||(R.autorange=!0,R.rangemode="tozero"),R.insiderange&&delete R.range,delete R.islog,delete R.isdate,delete R.categories,h(R,"domain")&&delete R.domain,void 0!==R.autotick&&(void 0===R.tickmode&&(R.tickmode=R.autotick?"auto":"linear"),delete R.autotick),l(R)}else if(p&&p.test(P))l(w[P].radialaxis);else if(O&&O.test(P)){var N=w[P];l(N.aaxis),l(N.baxis),l(N.caxis)}else if(k&&k.test(P)){var j=w[P],X=j.cameraposition;if(Array.isArray(X)&&4===X[0].length){var Z=X[1],W=X[2],H=E([],X[0]),G=[];for(b=0;b<3;++b)G[b]=Z[b]+W*H[2+4*b];j.camera={eye:{x:G[0],y:G[1],z:G[2]},center:{x:Z[0],y:Z[1],z:Z[2]},up:{x:0,y:0,z:1}},delete j.cameraposition}l(j.xaxis),l(j.yaxis),l(j.zaxis)}}var Y=Array.isArray(w.annotations)?w.annotations.length:0;for(x=0;x<Y;x++){var se=w.annotations[x];S.isPlainObject(se)&&(se.ref&&("paper"===se.ref?(se.xref="paper",se.yref="paper"):"data"===se.ref&&(se.xref="x",se.yref="y"),delete se.ref),o(se,"xref"),o(se,"yref"))}var te=Array.isArray(w.shapes)?w.shapes.length:0;for(x=0;x<te;x++){var re=w.shapes[x];S.isPlainObject(re)&&(o(re,"xref"),o(re,"yref"))}var Q=Array.isArray(w.images)?w.images.length:0;for(x=0;x<Q;x++){var ee=w.images[x];S.isPlainObject(ee)&&(o(ee,"xref"),o(ee,"yref"))}var oe=w.legend;return oe&&(oe.x>3?(oe.x=1.02,oe.xanchor="left"):oe.x<-2&&(oe.x=-.02,oe.xanchor="right"),oe.y>3?(oe.y=1.02,oe.yanchor="bottom"):oe.y<-2&&(oe.y=-.02,oe.yanchor="top")),l(w),"rotate"===w.dragmode&&(w.dragmode="orbit"),c.clean(w),w.template&&w.template.layout&&B.cleanLayout(w.template.layout),w},B.cleanData=function(w){for(var x=0;x<w.length;x++){var b,A=w[x];if("histogramy"===A.type&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var p=c.defaults,O=A.error_y.color||(a(A,"bar")?c.defaultLine:p[x%p.length]);A.error_y.color=c.addOpacity(c.rgb(O),c.opacity(O)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&("h"!==A.bardir||!a(A,"bar")&&"histogram"!==A.type.substr(0,9)||(A.orientation="h",B.swapXYData(A)),delete A.bardir),"histogramy"===A.type&&B.swapXYData(A),"histogramx"!==A.type&&"histogramy"!==A.type||(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=i(A.xaxis,"x")),A.yaxis&&(A.yaxis=i(A.yaxis,"y")),a(A,"gl3d")&&A.scene&&(A.scene=M.subplotsRegistry.gl3d.cleanId(A.scene)),!a(A,"pie-like")&&!a(A,"bar-like"))if(Array.isArray(A.textposition))for(b=0;b<A.textposition.length;b++)A.textposition[b]=m(A.textposition[b]);else A.textposition&&(A.textposition=m(A.textposition));var k=f.getModule(A);if(k&&k.colorbar){var I=k.colorbar.container,P=I?A[I]:A;P&&P.colorscale&&("YIGnBu"===P.colorscale&&(P.colorscale="YlGnBu"),"YIOrRd"===P.colorscale&&(P.colorscale="YlOrRd"))}if("surface"===A.type&&S.isPlainObject(A.contours)){var R=["x","y","z"];for(b=0;b<R.length;b++){var N=A.contours[R[b]];S.isPlainObject(N)&&(N.highlightColor&&(N.highlightcolor=N.highlightColor,delete N.highlightColor),N.highlightWidth&&(N.highlightwidth=N.highlightWidth,delete N.highlightWidth))}}if("candlestick"===A.type||"ohlc"===A.type){var j=!1!==(A.increasing||{}).showlegend,X=!1!==(A.decreasing||{}).showlegend,F=u(A.increasing),Z=u(A.decreasing);if(!1!==F&&!1!==Z){var W=d(F,Z,j,X);W&&(A.name=W)}else!F&&!Z||A.name||(A.name=F||Z)}if(Array.isArray(A.transforms)){var H=A.transforms;for(b=0;b<H.length;b++){var G=H[b];if(S.isPlainObject(G))switch(G.type){case"filter":G.filtersrc&&(G.target=G.filtersrc,delete G.filtersrc),G.calendar&&(G.valuecalendar||(G.valuecalendar=G.calendar),delete G.calendar);break;case"groupby":if(G.styles=G.styles||G.style,G.styles&&!Array.isArray(G.styles)){var Y=G.styles,se=Object.keys(Y);G.styles=[];for(var te=0;te<se.length;te++)G.styles.push({target:se[te],value:Y[se[te]]})}}}}h(A,"line")&&delete A.line,"marker"in A&&(h(A.marker,"line")&&delete A.marker.line,h(A,"marker")&&delete A.marker),c.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),l(A),A.colorbar&&l(A.colorbar),A.marker&&A.marker.colorbar&&l(A.marker.colorbar),A.line&&A.line.colorbar&&l(A.line.colorbar),A.aaxis&&l(A.aaxis),A.baxis&&l(A.baxis)}},B.swapXYData=function(w){var x;if(S.swapAttrs(w,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(w.z)&&Array.isArray(w.z[0])&&(w.transpose?delete w.transpose:w.transpose=!0),w.error_x&&w.error_y){var b=w.error_y,A="copy_ystyle"in b?b.copy_ystyle:!(b.color||b.thickness||b.width);S.swapAttrs(w,["error_?.copy_ystyle"]),A&&S.swapAttrs(w,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof w.hoverinfo){var p=w.hoverinfo.split("+");for(x=0;x<p.length;x++)"x"===p[x]?p[x]="y":"y"===p[x]&&(p[x]="x");w.hoverinfo=p.join("+")}},B.coerceTraceIndices=function(w,x){if(D(x))return[x];if(!Array.isArray(x)||!x.length)return w.data.map(function(p,O){return O});if(Array.isArray(x)){for(var b=[],A=0;A<x.length;A++)S.isIndex(x[A],w.data.length)?b.push(x[A]):S.warn("trace index (",x[A],") is not a number or is out of bounds");return b}return x},B.manageArrayContainers=function(w,x,b){var A=w.obj,p=w.parts,O=p.length,k=p[O-1],I=D(k);if(I&&null===x){var P=p.slice(0,O-1).join(".");S.nestedProperty(A,P).get().splice(k,1)}else I&&void 0===w.get()&&void 0===w.get()&&(b[w.astr]=null),w.set(x)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function _(w){var x=w.search(T);if(x>0)return w.substr(0,x)}B.hasParent=function(w,x){for(var b=_(x);b;){if(b in w)return!0;b=_(b)}return!1};var g=["x","y","z"];B.clearAxisTypes=function(w,x,b){for(var A=0;A<x.length;A++)for(var p=w._fullData[A],O=0;O<3;O++){var k=s(w,p,g[O]);if(k&&"log"!==k.type){var I=k._name,P=k._id.substr(1);if("scene"===P.substr(0,5)){if(void 0!==b[P])continue;I=P+"."+I}var R=I+".type";void 0===b[I]&&void 0===b[R]&&S.nestedProperty(w.layout,R).set(null)}}}},10641:function(ae,B,r){"use strict";var D=r(72391);B._doPlot=D._doPlot,B.newPlot=D.newPlot,B.restyle=D.restyle,B.relayout=D.relayout,B.redraw=D.redraw,B.update=D.update,B._guiRestyle=D._guiRestyle,B._guiRelayout=D._guiRelayout,B._guiUpdate=D._guiUpdate,B._storeDirectGUIEdit=D._storeDirectGUIEdit,B.react=D.react,B.extendTraces=D.extendTraces,B.prependTraces=D.prependTraces,B.addTraces=D.addTraces,B.deleteTraces=D.deleteTraces,B.moveTraces=D.moveTraces,B.purge=D.purge,B.addFrames=D.addFrames,B.deleteFrames=D.deleteFrames,B.animate=D.animate,B.setPlotConfig=D.setPlotConfig;var E=r(24401).getGraphDiv,f=r(34031).eraseActiveShape;B.deleteActiveShape=function(M){return f(E(M))},B.toImage=r(403),B.validate=r(84936),B.downloadImage=r(7239);var S=r(96318);B.makeTemplate=S.makeTemplate,B.validateTemplate=S.validateTemplate},6611:function(ae,B,r){"use strict";var D=r(41965),E=r(64213),f=r(47769),S=r(65888).sorterAsc,M=r(73972);B.containerArrayMatch=r(14458);var v=B.isAddVal=function(i){return"add"===i||D(i)},c=B.isRemoveVal=function(i){return null===i||"remove"===i};B.applyContainerArrayChanges=function(i,s,a,o,l){var u=s.astr,d=M.getComponentMethod(u,"supplyLayoutDefaults"),m=M.getComponentMethod(u,"draw"),h=M.getComponentMethod(u,"drawOne"),T=o.replot||o.recalc||d===E||m===E,_=i.layout,g=i._fullLayout;if(a[""]){Object.keys(a).length>1&&f.warn("Full array edits are incompatible with other edits",u);var w=a[""][""];if(c(w))s.set(null);else{if(!Array.isArray(w))return f.warn("Unrecognized full array edit value",u,w),!0;s.set(w)}return!T&&(d(_,g),m(i),!0)}var x,b,A,p,O,k,I,R=Object.keys(a).map(Number).sort(S),N=s.get(),j=N||[],X=l(g,u).get(),F=[],Z=-1,W=j.length;for(x=0;x<R.length;x++)if(p=a[A=R[x]],O=Object.keys(p),I=v(k=p[""]),A<0||A>j.length-(I?0:1))f.warn("index out of range",u,A);else if(void 0!==k)O.length>1&&f.warn("Insertion & removal are incompatible with edits to the same index.",u,A),c(k)?F.push(A):I?("add"===k&&(k={}),j.splice(A,0,k),X&&X.splice(A,0,{})):f.warn("Unrecognized full object edit value",u,A,k),-1===Z&&(Z=A);else for(b=0;b<O.length;b++)l(j[A],O[b],u+"["+A+"].").set(p[O[b]]);for(x=F.length-1;x>=0;x--)j.splice(F[x],1),X&&X.splice(F[x],1);if(j.length?N||s.set(j):s.set(null),T)return!1;if(d(_,g),h!==E){var H;if(-1===Z)H=R;else{for(W=Math.max(j.length,W),H=[],x=0;x<R.length&&!((A=R[x])>=Z);x++)H.push(A);for(x=Z;x<W;x++)H.push(x)}for(x=0;x<H.length;x++)h(i,H[x])}else m(i);return!0}},72391:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(57035),S=r(71828),M=S.nestedProperty,v=r(11086),c=r(10847),i=r(73972),s=r(86281),a=r(74875),o=r(89298),l=r(23608),u=r(13838),d=r(91424),m=r(7901),h=r(4305).initInteractions,T=r(77922),_=r(47322).clearOutline,g=r(72075).dfltConfig,w=r(6611),x=r(58377),b=r(61549),A=r(30962),p=r(85555).AX_NAME_PATTERN,O=0;function k(Oe){var De=Oe._fullLayout;De._redrawFromAutoMarginCount?De._redrawFromAutoMarginCount--:Oe.emit("plotly_afterplot")}function I(Oe,De){try{Oe._fullLayout._paper.style("background",De)}catch(Ue){S.error(Ue)}}function P(Oe,De){I(Oe,m.combine(De,"white"))}function R(Oe,De){if(!Oe._context){Oe._context=S.extendDeep({},g);var Ue=D.select("base");Oe._context._baseUrl=Ue.size()&&Ue.attr("href")?window.location.href.split("#")[0]:""}var Ge,ye,Ie,Ee=Oe._context;if(De){for(ye=Object.keys(De),Ge=0;Ge<ye.length;Ge++)"editable"!==(Ie=ye[Ge])&&"edits"!==Ie&&Ie in Ee&&(Ee[Ie]="setBackground"===Ie&&"opaque"===De[Ie]?P:De[Ie]);De.plot3dPixelRatio&&!Ee.plotGlPixelRatio&&(Ee.plotGlPixelRatio=Ee.plot3dPixelRatio);var Be=De.editable;if(void 0!==Be)for(Ee.editable=Be,ye=Object.keys(Ee.edits),Ge=0;Ge<ye.length;Ge++)Ee.edits[ye[Ge]]=Be;if(De.edits)for(ye=Object.keys(De.edits),Ge=0;Ge<ye.length;Ge++)(Ie=ye[Ge])in Ee.edits&&(Ee.edits[Ie]=De.edits[Ie]);Ee._exportedPlot=De._exportedPlot}Ee.staticPlot&&(Ee.editable=!1,Ee.edits={},Ee.autosizable=!1,Ee.scrollZoom=!1,Ee.doubleClick=!1,Ee.showTips=!1,Ee.showLink=!1,Ee.displayModeBar=!1),"hover"!==Ee.displayModeBar||f||(Ee.displayModeBar=!0),"transparent"!==Ee.setBackground&&"function"==typeof Ee.setBackground||(Ee.setBackground=I),Ee._hasZeroHeight=Ee._hasZeroHeight||0===Oe.clientHeight,Ee._hasZeroWidth=Ee._hasZeroWidth||0===Oe.clientWidth;var We=Ee.scrollZoom,He=Ee._scrollZoom={};if(!0===We)He.cartesian=1,He.gl3d=1,He.geo=1,He.mapbox=1;else if("string"==typeof We){var Je=We.split("+");for(Ge=0;Ge<Je.length;Ge++)He[Je[Ge]]=1}else!1!==We&&(He.gl3d=1,He.geo=1,He.mapbox=1)}function N(Oe,De){var Ue,Ge,ye=De+1,Ie=[];for(Ue=0;Ue<Oe.length;Ue++)(Ge=Oe[Ue])<0?Ie.push(ye+Ge):Ie.push(Ge);return Ie}function j(Oe,De,Ue){var Ge,ye;for(Ge=0;Ge<De.length;Ge++){if((ye=De[Ge])!==parseInt(ye,10))throw new Error("all values in "+Ue+" must be integers");if(ye>=Oe.data.length||ye<-Oe.data.length)throw new Error(Ue+" must be valid indices for gd.data.");if(De.indexOf(ye,Ge+1)>-1||ye>=0&&De.indexOf(-Oe.data.length+ye)>-1||ye<0&&De.indexOf(Oe.data.length+ye)>-1)throw new Error("each index in "+Ue+" must be unique.")}}function X(Oe,De,Ue){if(!Array.isArray(Oe.data))throw new Error("gd.data must be an array.");if(void 0===De)throw new Error("currentIndices is a required argument.");if(Array.isArray(De)||(De=[De]),j(Oe,De,"currentIndices"),void 0===Ue||Array.isArray(Ue)||(Ue=[Ue]),void 0!==Ue&&j(Oe,Ue,"newIndices"),void 0!==Ue&&De.length!==Ue.length)throw new Error("current and new indices must be of equal length.")}function F(Oe,De,Ue,Ge,ye){!function(at,mt,ct,St){var Dt=S.isPlainObject(St);if(!Array.isArray(at.data))throw new Error("gd.data must be an array");if(!S.isPlainObject(mt))throw new Error("update must be a key:value object");if(void 0===ct)throw new Error("indices must be an integer or array of integers");for(var Et in j(at,ct,"indices"),mt){if(!Array.isArray(mt[Et])||mt[Et].length!==ct.length)throw new Error("attribute "+Et+" must be an array of length equal to indices array length");if(Dt&&(!(Et in St)||!Array.isArray(St[Et])||St[Et].length!==mt[Et].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(Oe,De,Ue,Ge);for(var Ie=function(at,mt,ct,St){var Et,ht,pt,Pt,Ft=S.isPlainObject(St),Ht=[];for(var Lt in Array.isArray(ct)||(ct=[ct]),ct=N(ct,at.data.length-1),mt)for(var tt=0;tt<ct.length;tt++){if(Et=(ht=M(at.data[ct[tt]],Lt)).get(),!S.isArrayOrTypedArray(pt=mt[Lt][tt]))throw new Error("attribute: "+Lt+" index: "+tt+" must be an array");if(!S.isArrayOrTypedArray(Et))throw new Error("cannot extend missing or non-array attribute: "+Lt);if(Et.constructor!==pt.constructor)throw new Error("cannot extend array with an array of a different type: "+Lt);E(Pt=Ft?St[Lt][tt]:St)||(Pt=-1),Ht.push({prop:ht,target:Et,insert:pt,maxp:Math.floor(Pt)})}return Ht}(Oe,De,Ue,Ge),Ee={},Be={},We=0;We<Ie.length;We++){var He=Ie[We].prop,et=ye(Ie[We].target,Ie[We].insert,Ie[We].maxp);He.set(et[0]),Array.isArray(Ee[He.astr])||(Ee[He.astr]=[]),Ee[He.astr].push(et[1]),Array.isArray(Be[He.astr])||(Be[He.astr]=[]),Be[He.astr].push(Ie[We].target.length)}return{update:Ee,maxPoints:Be}}function Z(Oe,De){var Ue=new Oe.constructor(Oe.length+De.length);return Ue.set(Oe),Ue.set(De,Oe.length),Ue}function W(Oe,De,Ue,Ge){Oe=S.getGraphDiv(Oe),x.clearPromiseQueue(Oe);var ye={};if("string"==typeof De)ye[De]=Ue;else{if(!S.isPlainObject(De))return S.warn("Restyle fail.",De,Ue,Ge),Promise.reject();ye=S.extendFlat({},De),void 0===Ge&&(Ge=Ue)}Object.keys(ye).length&&(Oe.changed=!0);var Ie=x.coerceTraceIndices(Oe,Ge),Ee=se(Oe,ye,Ie),Be=Ee.flags;Be.calc&&(Oe.calcdata=void 0),Be.clearAxisTypes&&x.clearAxisTypes(Oe,Ie,{});var We=[];Be.fullReplot?We.push(B._doPlot):(We.push(a.previousPromises),a.supplyDefaults(Oe),Be.markerSize&&(a.doCalcdata(Oe),ee(We)),Be.style&&We.push(b.doTraceStyle),Be.colorbars&&We.push(b.doColorBars),We.push(k)),We.push(a.rehover,a.redrag,a.reselect),c.add(Oe,W,[Oe,Ee.undoit,Ee.traces],W,[Oe,Ee.redoit,Ee.traces]);var He=S.syncOrAsync(We,Oe);return He&&He.then||(He=Promise.resolve()),He.then(function(){return Oe.emit("plotly_restyle",Ee.eventData),Oe})}function H(Oe){return void 0===Oe?null:Oe}function G(Oe,De){return De?function(Ue,Ge,ye){var Ie=M(Ue,Ge),Ee=Ie.set;return Ie.set=function(Be){Y((ye||"")+Ge,Ie.get(),Be,Oe),Ee(Be)},Ie}:M}function Y(Oe,De,Ue,Ge){if(Array.isArray(De)||Array.isArray(Ue))for(var ye=Array.isArray(De)?De:[],Ie=Array.isArray(Ue)?Ue:[],Ee=Math.max(ye.length,Ie.length),Be=0;Be<Ee;Be++)Y(Oe+"["+Be+"]",ye[Be],Ie[Be],Ge);else if(S.isPlainObject(De)||S.isPlainObject(Ue)){var We=S.isPlainObject(De)?De:{},He=S.isPlainObject(Ue)?Ue:{},Je=S.extendFlat({},We,He);for(var et in Je)Y(Oe+"."+et,We[et],He[et],Ge)}else void 0===Ge[Oe]&&(Ge[Oe]=H(De))}function se(Oe,De,Ue){var Ge,ye=Oe._fullLayout,Ie=Oe._fullData,Ee=Oe.data,Be=ye._guiEditing,We=G(ye._preGUI,Be),He=S.extendDeepAll({},De);te(De);var Je,et=A.traceFlags(),at={},mt={};function ct(){return Ue.map(function(){})}function St(en){var nn=o.id2name(en);-1===Je.indexOf(nn)&&Je.push(nn)}function Dt(en){return"LAYOUT"+en+".autorange"}function Et(en){return"LAYOUT"+en+".range"}function ht(en){for(var nn=en;nn<Ie.length;nn++)if(Ie[nn]._input===Ee[en])return Ie[nn]}function pt(en,nn,dn){if(Array.isArray(en))en.forEach(function(An){pt(An,nn,dn)});else if(!(en in De)&&!x.hasParent(De,en)){var In;if("LAYOUT"===en.substr(0,6))In=We(Oe.layout,en.replace("LAYOUT",""));else{var Hn=Ue[dn];In=G(ye._tracePreGUI[ht(Hn)._fullInput.uid],Be)(Ee[Hn],en)}en in mt||(mt[en]=ct()),void 0===mt[en][dn]&&(mt[en][dn]=H(In.get())),void 0!==nn&&In.set(nn)}}function Pt(en){return function(nn){return Ie[nn][en]}}function Ft(en){return function(nn,dn){return!1===nn?Ie[Ue[dn]][en]:null}}for(var Ht in De){if(x.hasParent(De,Ht))throw new Error("cannot set "+Ht+" and a parent attribute simultaneously");var Lt,tt,rt,Ke,it,gt,ft=De[Ht];if("autobinx"!==Ht&&"autobiny"!==Ht||(Ht=Ht.charAt(Ht.length-1)+"bins",ft=Array.isArray(ft)?ft.map(Ft(Ht)):!1===ft?Ue.map(Pt(Ht)):null),at[Ht]=ft,"LAYOUT"!==Ht.substr(0,6)){for(mt[Ht]=ct(),Ge=0;Ge<Ue.length;Ge++)if(Lt=Ee[Ue[Ge]],tt=ht(Ue[Ge]),Ke=(rt=G(ye._tracePreGUI[tt._fullInput.uid],Be)(Lt,Ht)).get(),void 0!==(it=Array.isArray(ft)?ft[Ge%ft.length]:ft)){var Ve=rt.parts[rt.parts.length-1],qe=Ht.substr(0,Ht.length-Ve.length-1),dt=qe?qe+".":"",ut=qe?M(tt,qe).get():tt;if((gt=s.getTraceValObject(tt,rt.parts))&&gt.impliedEdits&&null!==it)for(var At in gt.impliedEdits)pt(S.relativeAttr(Ht,At),gt.impliedEdits[At],Ge);else if("thicknessmode"!==Ve&&"lenmode"!==Ve||Ke===it||"fraction"!==it&&"pixels"!==it||!ut){if("type"===Ht&&("pie"===it!=("pie"===Ke)||"funnelarea"===it!=("funnelarea"===Ke))){var wt="x",kt="y";"bar"!==it&&"bar"!==Ke||"h"!==Lt.orientation||(wt="y",kt="x"),S.swapAttrs(Lt,["?","?src"],"labels",wt),S.swapAttrs(Lt,["d?","?0"],"label",wt),S.swapAttrs(Lt,["?","?src"],"values",kt),"pie"===Ke||"funnelarea"===Ke?(M(Lt,"marker.color").set(M(Lt,"marker.colors").get()),ye._pielayer.selectAll("g.trace").remove()):i.traceIs(Lt,"cartesian")&&M(Lt,"marker.colors").set(M(Lt,"marker.color").get())}}else{var _t=ye._size,Rt=ut.orient,bt="top"===Rt||"bottom"===Rt;if("thicknessmode"===Ve){var Tt=bt?_t.h:_t.w;pt(dt+"thickness",ut.thickness*("fraction"===it?1/Tt:Tt),Ge)}else{var Ot=bt?_t.w:_t.h;pt(dt+"len",ut.len*("fraction"===it?1/Ot:Ot),Ge)}}if(mt[Ht][Ge]=H(Ke),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Ht)){if("orientation"===Ht){rt.set(it);var Wt=Lt.x&&!Lt.y?"h":"v";if((rt.get()||Wt)===tt.orientation)continue}else"orientationaxes"===Ht&&(Lt.orientation={v:"h",h:"v"}[tt.orientation]);x.swapXYData(Lt),et.calc=et.clearAxisTypes=!0}else-1!==a.dataArrayContainers.indexOf(rt.parts[0])?(x.manageArrayContainers(rt,it,mt),et.calc=!0):(gt?gt.arrayOk&&!i.traceIs(tt,"regl")&&(S.isArrayOrTypedArray(it)||S.isArrayOrTypedArray(Ke))?et.calc=!0:A.update(et,gt):et.calc=!0,rt.set(it))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Ht)&&o.swap(Oe,Ue),"orientationaxes"===Ht){var qt=M(Oe.layout,"hovermode"),Jt=qt.get();"x"===Jt?qt.set("y"):"y"===Jt?qt.set("x"):"x unified"===Jt?qt.set("y unified"):"y unified"===Jt&&qt.set("x unified")}if(-1!==["orientation","type"].indexOf(Ht)){for(Je=[],Ge=0;Ge<Ue.length;Ge++){var pn=Ee[Ue[Ge]];i.traceIs(pn,"cartesian")&&(St(pn.xaxis||"x"),St(pn.yaxis||"y"))}pt(Je.map(Dt),!0,0),pt(Je.map(Et),[0,1],0)}}else rt=We(Oe.layout,Ht.replace("LAYOUT","")),mt[Ht]=[H(rt.get())],rt.set(Array.isArray(ft)?ft[0]:ft),et.calc=!0}return(et.calc||et.plot)&&(et.fullReplot=!0),{flags:et,undoit:mt,redoit:at,traces:Ue,eventData:S.extendDeepNoArrays([],[He,Ue])}}function te(Oe){var De,Ue,Ge,ye=S.counterRegex("axis",".title",!1,!1),Ie=/colorbar\.title$/,Ee=Object.keys(Oe);for(De=0;De<Ee.length;De++)Ge=Oe[Ue=Ee[De]],"title"!==Ue&&!ye.test(Ue)&&!Ie.test(Ue)||"string"!=typeof Ge&&"number"!=typeof Ge?Ue.indexOf("titlefont")>-1&&-1===Ue.indexOf("grouptitlefont")?Be(Ue,Ue.replace("titlefont","title.font")):Ue.indexOf("titleposition")>-1?Be(Ue,Ue.replace("titleposition","title.position")):Ue.indexOf("titleside")>-1?Be(Ue,Ue.replace("titleside","title.side")):Ue.indexOf("titleoffset")>-1&&Be(Ue,Ue.replace("titleoffset","title.offset")):Be(Ue,Ue.replace("title","title.text"));function Be(We,He){Oe[He]=Oe[We],delete Oe[We]}}function re(Oe,De,Ue){Oe=S.getGraphDiv(Oe),x.clearPromiseQueue(Oe);var Ge={};if("string"==typeof De)Ge[De]=Ue;else{if(!S.isPlainObject(De))return S.warn("Relayout fail.",De,Ue),Promise.reject();Ge=S.extendFlat({},De)}Object.keys(Ge).length&&(Oe.changed=!0);var ye=de(Oe,Ge),Ie=ye.flags;Ie.calc&&(Oe.calcdata=void 0);var Ee=[a.previousPromises];Ie.layoutReplot?Ee.push(b.layoutReplot):Object.keys(Ge).length&&(Q(Oe,Ie,ye)||a.supplyDefaults(Oe),Ie.legend&&Ee.push(b.doLegend),Ie.layoutstyle&&Ee.push(b.layoutStyles),Ie.axrange&&ee(Ee,ye.rangesAltered),Ie.ticks&&Ee.push(b.doTicksRelayout),Ie.modebar&&Ee.push(b.doModeBar),Ie.camera&&Ee.push(b.doCamera),Ie.colorbars&&Ee.push(b.doColorBars),Ee.push(k)),Ee.push(a.rehover,a.redrag,a.reselect),c.add(Oe,re,[Oe,ye.undoit],re,[Oe,ye.redoit]);var Be=S.syncOrAsync(Ee,Oe);return Be&&Be.then||(Be=Promise.resolve(Oe)),Be.then(function(){return Oe.emit("plotly_relayout",ye.eventData),Oe})}function Q(Oe,De,Ue){var Ge,ye,Ie=Oe._fullLayout;if(!De.axrange)return!1;for(var Ee in De)if("axrange"!==Ee&&De[Ee])return!1;var Be=function(mt,ct){return S.coerce(Ge,ye,u,mt,ct)},We={};for(var He in Ue.rangesAltered){var Je=o.id2name(He);if(l(Ge=Oe.layout[Je],ye=Ie[Je],Be,We),ye._matchGroup)for(var et in ye._matchGroup)if(et!==He){var at=Ie[o.id2name(et)];at.autorange=ye.autorange,at.range=ye.range.slice(),at._input.range=ye.range.slice()}}return!0}function ee(Oe,De){Oe.push(_,b.doAutoRangeAndConstraints,De?function(Ge){var ye=[];for(var Ie in De){var Ee=o.getFromId(Ge,Ie);if(ye.push(Ie),-1!==(Ee.ticklabelposition||"").indexOf("inside")&&Ee._anchorAxis&&ye.push(Ee._anchorAxis._id),Ee._matchGroup)for(var Be in Ee._matchGroup)De[Be]||ye.push(Be)}return o.draw(Ge,ye,{skipTitle:!0})}:function(Ge){return o.draw(Ge,"redraw")},b.drawData,b.finalDraw)}var oe=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,le=/^[xyz]axis[0-9]*\.autorange$/,ue=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function de(Oe,De){var Ue,Ge,ye,Ie=Oe.layout,Ee=Oe._fullLayout,We=G(Ee._preGUI,Ee._guiEditing),He=Object.keys(De),Je=o.list(Oe),et=S.extendDeepAll({},De),at={};for(te(De),He=Object.keys(De),Ge=0;Ge<He.length;Ge++)if(0===He[Ge].indexOf("allaxes")){for(ye=0;ye<Je.length;ye++){var mt=Je[ye]._id.substr(1),ct=-1!==mt.indexOf("scene")?mt+".":"",St=He[Ge].replace("allaxes",ct+Je[ye]._name);De[St]||(De[St]=De[He[Ge]])}delete De[He[Ge]]}var Dt=A.layoutFlags(),Et={},ht={};function pt(An,on){if(Array.isArray(An))An.forEach(function(ln){pt(ln,on)});else if(!(An in De)&&!x.hasParent(De,An)){var yn=We(Ie,An);An in ht||(ht[An]=H(yn.get())),void 0!==on&&yn.set(on)}}var Pt,Ft={};function Ht(An){var on=o.name2id(An.split(".")[0]);return Ft[on]=1,on}for(var Lt in De){if(x.hasParent(De,Lt))throw new Error("cannot set "+Lt+" and a parent attribute simultaneously");for(var tt=We(Ie,Lt),rt=De[Lt],Ke=tt.parts.length-1;Ke>0&&"string"!=typeof tt.parts[Ke];)Ke--;var it=tt.parts[Ke],gt=tt.parts[Ke-1]+"."+it,ft=tt.parts.slice(0,Ke).join("."),Ve=M(Oe.layout,ft).get(),qe=M(Ee,ft).get(),dt=tt.get();if(void 0!==rt){Et[Lt]=rt,ht[Lt]="reverse"===it?rt:H(dt);var ut=s.getLayoutValObject(Ee,tt.parts);if(ut&&ut.impliedEdits&&null!==rt)for(var At in ut.impliedEdits)pt(S.relativeAttr(Lt,At),ut.impliedEdits[At]);if(-1!==["width","height"].indexOf(Lt))if(rt){pt("autosize",null);var wt="height"===Lt?"width":"height";pt(wt,Ee[wt])}else Ee[Lt]=Oe._initialAutoSize[Lt];else if("autosize"===Lt)pt("width",rt?null:Ee.width),pt("height",rt?null:Ee.height);else if(gt.match(oe))Ht(gt),M(Ee,ft+"._inputRange").set(null);else if(gt.match(le)){Ht(gt),M(Ee,ft+"._inputRange").set(null);var kt=M(Ee,ft).get();kt._inputDomain&&(kt._input.domain=kt._inputDomain.slice())}else gt.match(ue)&&M(Ee,ft+"._inputDomain").set(null);if("type"===it){Pt=Ve;var _t="linear"===qe.type&&"log"===rt;if(_t||"log"===qe.type&&"linear"===rt){if(Pt&&Pt.range)if(qe.autorange)_t&&(Pt.range=Pt.range[1]>Pt.range[0]?[1,2]:[2,1]);else{var bt=Pt.range[0],Tt=Pt.range[1];_t?(bt<=0&&Tt<=0&&pt(ft+".autorange",!0),bt<=0?bt=Tt/1e6:Tt<=0&&(Tt=bt/1e6),pt(ft+".range[0]",Math.log(bt)/Math.LN10),pt(ft+".range[1]",Math.log(Tt)/Math.LN10)):(pt(ft+".range[0]",Math.pow(10,bt)),pt(ft+".range[1]",Math.pow(10,Tt)))}else pt(ft+".autorange",!0);Array.isArray(Ee._subplots.polar)&&Ee._subplots.polar.length&&Ee[tt.parts[0]]&&"radialaxis"===tt.parts[1]&&delete Ee[tt.parts[0]]._subplot.viewInitial["radialaxis.range"],i.getComponentMethod("annotations","convertCoords")(Oe,qe,rt,pt),i.getComponentMethod("images","convertCoords")(Oe,qe,rt,pt)}else pt(ft+".autorange",!0),pt(ft+".range",null);M(Ee,ft+"._inputRange").set(null)}else if(it.match(p)){var Ot=M(Ee,Lt).get(),Wt=(rt||{}).type;Wt&&"-"!==Wt||(Wt="linear"),i.getComponentMethod("annotations","convertCoords")(Oe,Ot,Wt,pt),i.getComponentMethod("images","convertCoords")(Oe,Ot,Wt,pt)}var qt=w.containerArrayMatch(Lt);if(qt){Ue=qt.array;var Jt=qt.property,pn=ut||{editType:"calc"};""!==(Ge=qt.index)&&""===Jt&&(w.isAddVal(rt)?ht[Lt]=null:w.isRemoveVal(rt)?ht[Lt]=(M(Ie,Ue).get()||[])[Ge]:S.warn("unrecognized full object value",De)),A.update(Dt,pn),at[Ue]||(at[Ue]={});var en=at[Ue][Ge];en||(en=at[Ue][Ge]={}),en[Jt]=rt,delete De[Lt]}else"reverse"===it?(Ve.range?Ve.range.reverse():(pt(ft+".autorange",!0),Ve.range=[1,0]),qe.autorange?Dt.calc=!0:Dt.plot=!0):("dragmode"===Lt&&(!1===rt&&!1!==dt||!1!==rt&&!1===dt)||Ee._has("scatter-like")&&Ee._has("regl")&&"dragmode"===Lt&&("lasso"===rt||"select"===rt)&&"lasso"!==dt&&"select"!==dt||Ee._has("gl2d")?Dt.plot=!0:ut?A.update(Dt,ut):Dt.calc=!0,tt.set(rt))}}for(Ue in at)w.applyContainerArrayChanges(Oe,We(Ie,Ue),at[Ue],Dt,We)||(Dt.plot=!0);for(var nn in Ft){var dn=(Pt=o.getFromId(Oe,nn))&&Pt._constraintGroup;if(dn)for(var In in Dt.calc=!0,dn)Ft[In]||(o.getFromId(Oe,In)._constraintShrinkable=!0)}(he(Oe)||De.height||De.width)&&(Dt.plot=!0);var Hn=Ee.shapes;for(Ge=0;Ge<Hn.length;Ge++)if(Hn[Ge].showlegend){Dt.calc=!0;break}return(Dt.plot||Dt.calc)&&(Dt.layoutReplot=!0),{flags:Dt,rangesAltered:Ft,undoit:ht,redoit:Et,eventData:et}}function he(Oe){var De=Oe._fullLayout,Ue=De.width,Ge=De.height;return Oe.layout.autosize&&a.plotAutoSize(Oe,Oe.layout,De),De.width!==Ue||De.height!==Ge}function we(Oe,De,Ue,Ge){Oe=S.getGraphDiv(Oe),x.clearPromiseQueue(Oe),S.isPlainObject(De)||(De={}),S.isPlainObject(Ue)||(Ue={}),Object.keys(De).length&&(Oe.changed=!0),Object.keys(Ue).length&&(Oe.changed=!0);var ye=x.coerceTraceIndices(Oe,Ge),Ie=se(Oe,S.extendFlat({},De),ye),Ee=Ie.flags,Be=de(Oe,S.extendFlat({},Ue)),We=Be.flags;(Ee.calc||We.calc)&&(Oe.calcdata=void 0),Ee.clearAxisTypes&&x.clearAxisTypes(Oe,ye,Ue);var He=[];We.layoutReplot?He.push(b.layoutReplot):Ee.fullReplot?He.push(B._doPlot):(He.push(a.previousPromises),Q(Oe,We,Be)||a.supplyDefaults(Oe),Ee.style&&He.push(b.doTraceStyle),(Ee.colorbars||We.colorbars)&&He.push(b.doColorBars),We.legend&&He.push(b.doLegend),We.layoutstyle&&He.push(b.layoutStyles),We.axrange&&ee(He,Be.rangesAltered),We.ticks&&He.push(b.doTicksRelayout),We.modebar&&He.push(b.doModeBar),We.camera&&He.push(b.doCamera),He.push(k)),He.push(a.rehover,a.redrag,a.reselect),c.add(Oe,we,[Oe,Ie.undoit,Be.undoit,Ie.traces],we,[Oe,Ie.redoit,Be.redoit,Ie.traces]);var Je=S.syncOrAsync(He,Oe);return Je&&Je.then||(Je=Promise.resolve(Oe)),Je.then(function(){return Oe.emit("plotly_update",{data:Ie.eventData,layout:Be.eventData}),Oe})}function Ae(Oe){return function(De){De._fullLayout._guiEditing=!0;var Ue=Oe.apply(null,arguments);return De._fullLayout._guiEditing=!1,Ue}}var Te=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ve=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function xe(Oe,De){for(var Ue=0;Ue<De.length;Ue++){var Ge=De[Ue],ye=Oe.match(Ge.pattern);if(ye){var Ie=ye[1]||"";return{head:Ie,tail:Oe.substr(Ie.length+1),attr:Ge.attr}}}}function Fe(Oe,De){var Ue=M(De,Oe).get();if(void 0!==Ue)return Ue;var Ge=Oe.split(".");for(Ge.pop();Ge.length>1;)if(Ge.pop(),void 0!==(Ue=M(De,Ge.join(".")+".uirevision").get()))return Ue;return De.uirevision}function Se(Oe,De){for(var Ue=0;Ue<De.length;Ue++)if(De[Ue]._fullInput.uid===Oe)return Ue;return-1}function ke(Oe,De,Ue){for(var Ge=0;Ge<De.length;Ge++)if(De[Ge].uid===Oe)return Ge;return!De[Ue]||De[Ue].uid?-1:Ue}function pe(Oe,De){var Ue=S.isPlainObject(Oe),Ge=Array.isArray(Oe);return Ue||Ge?(Ue&&S.isPlainObject(De)||Ge&&Array.isArray(De))&&JSON.stringify(Oe)===JSON.stringify(De):Oe===De}function fe(Oe,De,Ue,Ge){var ye,Ie,Ee,Be=Ge.getValObject,We=Ge.flags,He=Ge.immutable,Je=Ge.inArray,et=Ge.arrayIndex;function at(){var Ve=ye.editType;Je&&-1!==Ve.indexOf("arraydraw")?S.pushUnique(We.arrays[Je],et):(A.update(We,ye),"none"!==Ve&&We.nChanges++,Ge.transition&&ye.anim&&We.nChangesAnim++,(oe.test(Ee)||le.test(Ee))&&(We.rangesAltered[Ue[0]]=1),ue.test(Ee)&&M(De,"_inputDomain").set(null),"datarevision"===Ie&&(We.newDataRevision=1))}function mt(Ve){return"data_array"===Ve.valType||Ve.arrayOk}for(Ie in Oe){if(We.calc&&!Ge.transition)return;var ct=Oe[Ie],St=De[Ie],Dt=Ue.concat(Ie);if(Ee=Dt.join("."),"_"!==Ie.charAt(0)&&"function"!=typeof ct&&ct!==St){if(("tick0"===Ie||"dtick"===Ie)&&"geo"!==Ue[0]){var Et=De.tickmode;if("auto"===Et||"array"===Et||!Et)continue}if(("range"!==Ie||!De.autorange)&&("zmin"!==Ie&&"zmax"!==Ie||"contourcarpet"!==De.type)&&(ye=Be(Dt))&&(!ye._compareAsJSON||JSON.stringify(ct)!==JSON.stringify(St))){var ht,pt=ye.valType,Pt=mt(ye),Ft=Array.isArray(ct),Ht=Array.isArray(St);if(Ft&&Ht){var Lt="_input_"+Ie,tt=Oe[Lt],rt=De[Lt];if(Array.isArray(tt)&&tt===rt)continue}if(void 0===St)Pt&&Ft?We.calc=!0:at();else if(ye._isLinkedToArray){var Ke=[],it=!1;Je||(We.arrays[Ie]=Ke);var gt=Math.min(ct.length,St.length),ft=Math.max(ct.length,St.length);if(gt!==ft){if("arraydraw"!==ye.editType){at();continue}it=!0}for(ht=0;ht<gt;ht++)fe(ct[ht],St[ht],Dt.concat(ht),S.extendFlat({inArray:Ie,arrayIndex:ht},Ge));if(it)for(ht=gt;ht<ft;ht++)Ke.push(ht)}else!pt&&S.isPlainObject(ct)?fe(ct,St,Dt,Ge):Pt?Ft&&Ht?(He&&(We.calc=!0),(He||Ge.newDataRevision)&&at()):Ft!==Ht?We.calc=!0:at():Ft&&Ht&&ct.length===St.length&&String(ct)===String(St)||at()}}}for(Ie in De)if(!(Ie in Oe)&&"_"!==Ie.charAt(0)&&"function"!=typeof De[Ie]){if(mt(ye=Be(Ue.concat(Ie)))&&Array.isArray(De[Ie]))return void(We.calc=!0);at()}}function be(Oe,De){var Ue;for(Ue in Oe)if("_"!==Ue.charAt(0)){var Ge=Oe[Ue],ye=De[Ue];if(Ge!==ye)if(S.isPlainObject(Ge)&&S.isPlainObject(ye)){if(be(Ge,ye))return!0}else{if(!Array.isArray(Ge)||!Array.isArray(ye)||Ge.length!==ye.length)return!0;for(var Ie=0;Ie<Ge.length;Ie++)if(Ge[Ie]!==ye[Ie]&&(!S.isPlainObject(Ge[Ie])||!S.isPlainObject(ye[Ie])||be(Ge[Ie],ye[Ie])))return!0}}}function Le(Oe){var De=Oe._fullLayout,Ue=Oe.getBoundingClientRect();if(!S.equalDomRects(Ue,De._lastBBox)){var Ge=De._invTransform=S.inverseTransformMatrix(S.getFullTransformMatrix(Oe));De._invScaleX=Math.sqrt(Ge[0][0]*Ge[0][0]+Ge[0][1]*Ge[0][1]+Ge[0][2]*Ge[0][2]),De._invScaleY=Math.sqrt(Ge[1][0]*Ge[1][0]+Ge[1][1]*Ge[1][1]+Ge[1][2]*Ge[1][2]),De._lastBBox=Ue}}B.animate=function(Oe,De,Ue){if(Oe=S.getGraphDiv(Oe),!S.isPlotDiv(Oe))throw new Error("This element is not a Plotly plot: "+Oe+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Ge=Oe._transitionData;Ge._frameQueue||(Ge._frameQueue=[]);var ye=(Ue=a.supplyAnimationDefaults(Ue)).transition,Ie=Ue.frame;function Ee(He){return Array.isArray(ye)?He>=ye.length?ye[0]:ye[He]:ye}function Be(He){return Array.isArray(Ie)?He>=Ie.length?Ie[0]:Ie[He]:Ie}function We(He,Je){var et=0;return function(){if(He&&++et===Je)return He()}}return void 0===Ge._frameWaitingCnt&&(Ge._frameWaitingCnt=0),new Promise(function(He,Je){var at,mt,ct=0;function St(Lt){return Lt.transitionOpts=Array.isArray(ye)?ct>=ye.length?ye[ct]:ye[0]:ye,ct++,Lt}var Dt=[],Et=null==De,ht=Array.isArray(De);if(Et||ht||!S.isPlainObject(De)){if(Et||-1!==["string","number"].indexOf(typeof De))for(at=0;at<Ge._frames.length;at++)(mt=Ge._frames[at])&&(Et||String(mt.group)===String(De))&&Dt.push({type:"byname",name:String(mt.name),data:St({name:mt.name})});else if(ht)for(at=0;at<De.length;at++){var pt=De[at];-1!==["number","string"].indexOf(typeof pt)?(pt=String(pt),Dt.push({type:"byname",name:pt,data:St({name:pt})})):S.isPlainObject(pt)&&Dt.push({type:"object",data:St(S.extendFlat({},pt))})}}else Dt.push({type:"object",data:St(S.extendFlat({},De))});for(at=0;at<Dt.length;at++)if("byname"===(mt=Dt[at]).type&&!Ge._frameHash[mt.data.name])return S.warn('animate failure: frame not found: "'+mt.data.name+'"'),void Je();-1!==["next","immediate"].indexOf(Ue.mode)&&function(){if(0!==Ge._frameQueue.length){for(;Ge._frameQueue.length;){var Lt=Ge._frameQueue.pop();Lt.onInterrupt&&Lt.onInterrupt()}Oe.emit("plotly_animationinterrupted",[])}}(),"reverse"===Ue.direction&&Dt.reverse();var Pt=Oe._fullLayout._currentFrame;if(Pt&&Ue.fromcurrent){var Ft=-1;for(at=0;at<Dt.length;at++)if("byname"===(mt=Dt[at]).type&&mt.name===Pt){Ft=at;break}if(Ft>0&&Ft<Dt.length-1){var Ht=[];for(at=0;at<Dt.length;at++)mt=Dt[at],("byname"!==Dt[at].type||at>Ft)&&Ht.push(mt);Dt=Ht}}Dt.length>0?function(Lt){if(0!==Lt.length){for(var tt=0;tt<Lt.length;tt++){var rt;rt="byname"===Lt[tt].type?a.computeFrame(Oe,Lt[tt].name):Lt[tt].data;var Ke=Be(tt),it=Ee(tt);it.duration=Math.min(it.duration,Ke.duration);var gt={frame:rt,name:Lt[tt].name,frameOpts:Ke,transitionOpts:it};tt===Lt.length-1&&(gt.onComplete=We(He,2),gt.onInterrupt=Je),Ge._frameQueue.push(gt)}"immediate"===Ue.mode&&(Ge._lastFrameAt=-1/0),Ge._animationRaf||function et(){Oe.emit("plotly_animating"),Ge._lastFrameAt=-1/0,Ge._timeToNext=0,Ge._runningTransitions=0,Ge._currentFrame=null;var Lt=function(){Ge._animationRaf=window.requestAnimationFrame(Lt),Date.now()-Ge._lastFrameAt>Ge._timeToNext&&function(){Ge._currentFrame&&Ge._currentFrame.onComplete&&Ge._currentFrame.onComplete();var tt=Ge._currentFrame=Ge._frameQueue.shift();if(tt){var rt=tt.name?tt.name.toString():null;Oe._fullLayout._currentFrame=rt,Ge._lastFrameAt=Date.now(),Ge._timeToNext=tt.frameOpts.duration,a.transition(Oe,tt.frame.data,tt.frame.layout,x.coerceTraceIndices(Oe,tt.frame.traces),tt.frameOpts,tt.transitionOpts).then(function(){tt.onComplete&&tt.onComplete()}),Oe.emit("plotly_animatingframe",{name:rt,frame:tt.frame,animation:{frame:tt.frameOpts,transition:tt.transitionOpts}})}else Oe.emit("plotly_animated"),window.cancelAnimationFrame(Ge._animationRaf),Ge._animationRaf=null}()};Lt()}()}}(Dt):(Oe.emit("plotly_animated"),He())})},B.addFrames=function(Oe,De,Ue){if(Oe=S.getGraphDiv(Oe),null==De)return Promise.resolve();if(!S.isPlotDiv(Oe))throw new Error("This element is not a Plotly plot: "+Oe+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Ge,ye,Ie,Ee,Be=Oe._transitionData._frames,We=Oe._transitionData._frameHash;if(!Array.isArray(De))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+De);var He=Be.length+2*De.length,Je=[],et={};for(Ge=De.length-1;Ge>=0;Ge--)if(S.isPlainObject(De[Ge])){var at=De[Ge].name,mt=(We[at]||et[at]||{}).name,ct=De[Ge].name;mt&&ct&&"number"==typeof ct&&(We[mt]||et[mt])&&O<5&&(O++,S.warn('addFrames: overwriting frame "'+(We[mt]||et[mt]).name+'" with a frame whose name of type "number" also equates to "'+mt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===O&&S.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),et[at]={name:at},Je.push({frame:a.supplyFrameDefaults(De[Ge]),index:Ue&&null!=Ue[Ge]?Ue[Ge]:He+Ge})}Je.sort(function(Lt,tt){return Lt.index>tt.index?-1:Lt.index<tt.index?1:0});var Dt=[],Et=[],ht=Be.length;for(Ge=Je.length-1;Ge>=0;Ge--){if("number"==typeof(ye=Je[Ge].frame).name&&S.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!ye.name)for(;We[ye.name="frame "+Oe._transitionData._counter++];);if(We[ye.name]){for(Ie=0;Ie<Be.length&&(Be[Ie]||{}).name!==ye.name;Ie++);Dt.push({type:"replace",index:Ie,value:ye}),Et.unshift({type:"replace",index:Ie,value:Be[Ie]})}else Ee=Math.max(0,Math.min(Je[Ge].index,ht)),Dt.push({type:"insert",index:Ee,value:ye}),Et.unshift({type:"delete",index:Ee}),ht++}return c&&c.add(Oe,a.modifyFrames,[Oe,Et],a.modifyFrames,[Oe,Dt]),a.modifyFrames(Oe,Dt)},B.deleteFrames=function(Oe,De){if(Oe=S.getGraphDiv(Oe),!S.isPlotDiv(Oe))throw new Error("This element is not a Plotly plot: "+Oe);var Ue,Ge,ye=Oe._transitionData._frames,Ie=[],Ee=[];if(!De)for(De=[],Ue=0;Ue<ye.length;Ue++)De.push(Ue);for((De=De.slice()).sort(),Ue=De.length-1;Ue>=0;Ue--)Ie.push({type:"delete",index:Ge=De[Ue]}),Ee.unshift({type:"insert",index:Ge,value:ye[Ge]});return c&&c.add(Oe,a.modifyFrames,[Oe,Ee],a.modifyFrames,[Oe,Ie]),a.modifyFrames(Oe,Ie)},B.addTraces=function Oe(De,Ue,Ge){De=S.getGraphDiv(De);var ye,Ie,Ee=[],Be=B.deleteTraces,We=Oe,He=[De,Ee],Je=[De,Ue];for(function(et,at,mt){var ct,St;if(!Array.isArray(et.data))throw new Error("gd.data must be an array.");if(void 0===at)throw new Error("traces must be defined.");for(Array.isArray(at)||(at=[at]),ct=0;ct<at.length;ct++)if("object"!=typeof(St=at[ct])||Array.isArray(St)||null===St)throw new Error("all values in traces array must be non-array objects");if(void 0===mt||Array.isArray(mt)||(mt=[mt]),void 0!==mt&&mt.length!==at.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(De,Ue,Ge),Array.isArray(Ue)||(Ue=[Ue]),Ue=Ue.map(function(et){return S.extendFlat({},et)}),x.cleanData(Ue),ye=0;ye<Ue.length;ye++)De.data.push(Ue[ye]);for(ye=0;ye<Ue.length;ye++)Ee.push(-Ue.length+ye);if(void 0===Ge)return Ie=B.redraw(De),c.add(De,Be,He,We,Je),Ie;Array.isArray(Ge)||(Ge=[Ge]);try{X(De,Ee,Ge)}catch(et){throw De.data.splice(De.data.length-Ue.length,Ue.length),et}return c.startSequence(De),c.add(De,Be,He,We,Je),Ie=B.moveTraces(De,Ee,Ge),c.stopSequence(De),Ie},B.deleteTraces=function Oe(De,Ue){De=S.getGraphDiv(De);var Ge,ye,Ie=[],Ee=B.addTraces,Be=Oe,We=[De,Ie,Ue],He=[De,Ue];if(void 0===Ue)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ue)||(Ue=[Ue]),j(De,Ue,"indices"),(Ue=N(Ue,De.data.length-1)).sort(S.sorterDes),Ge=0;Ge<Ue.length;Ge+=1)ye=De.data.splice(Ue[Ge],1)[0],Ie.push(ye);var Je=B.redraw(De);return c.add(De,Ee,We,Be,He),Je},B.extendTraces=function Oe(De,Ue,Ge,ye){var Ie=F(De=S.getGraphDiv(De),Ue,Ge,ye,function(We,He,Je){var et,at;if(S.isTypedArray(We))if(Je<0){var mt=new We.constructor(0),ct=Z(We,He);Je<0?(et=ct,at=mt):(et=mt,at=ct)}else if(et=new We.constructor(Je),at=new We.constructor(We.length+He.length-Je),Je===He.length)et.set(He),at.set(We);else if(Je<He.length){var St=He.length-Je;et.set(He.subarray(St)),at.set(We),at.set(He.subarray(0,St),We.length)}else{var Dt=Je-He.length,Et=We.length-Dt;et.set(We.subarray(Et)),et.set(He,Dt),at.set(We.subarray(0,Et))}else et=We.concat(He),at=Je>=0&&Je<et.length?et.splice(0,et.length-Je):[];return[et,at]}),Ee=B.redraw(De);return c.add(De,B.prependTraces,[De,Ie.update,Ge,Ie.maxPoints],Oe,arguments),Ee},B.moveTraces=function Oe(De,Ue,Ge){var ye,Ie=[],Ee=[],Be=Oe,We=Oe,He=[De=S.getGraphDiv(De),Ge,Ue],Je=[De,Ue,Ge];if(X(De,Ue,Ge),Ue=Array.isArray(Ue)?Ue:[Ue],void 0===Ge)for(Ge=[],ye=0;ye<Ue.length;ye++)Ge.push(-Ue.length+ye);for(Ge=Array.isArray(Ge)?Ge:[Ge],Ue=N(Ue,De.data.length-1),Ge=N(Ge,De.data.length-1),ye=0;ye<De.data.length;ye++)-1===Ue.indexOf(ye)&&Ie.push(De.data[ye]);for(ye=0;ye<Ue.length;ye++)Ee.push({newIndex:Ge[ye],trace:De.data[Ue[ye]]});for(Ee.sort(function(at,mt){return at.newIndex-mt.newIndex}),ye=0;ye<Ee.length;ye+=1)Ie.splice(Ee[ye].newIndex,0,Ee[ye].trace);De.data=Ie;var et=B.redraw(De);return c.add(De,Be,He,We,Je),et},B.prependTraces=function Oe(De,Ue,Ge,ye){var Ie=F(De=S.getGraphDiv(De),Ue,Ge,ye,function(We,He,Je){var et,at;if(S.isTypedArray(We))if(Je<=0){var mt=new We.constructor(0),ct=Z(He,We);Je<0?(et=ct,at=mt):(et=mt,at=ct)}else if(et=new We.constructor(Je),at=new We.constructor(We.length+He.length-Je),Je===He.length)et.set(He),at.set(We);else if(Je<He.length){var St=He.length-Je;et.set(He.subarray(0,St)),at.set(He.subarray(St)),at.set(We,St)}else{var Dt=Je-He.length;et.set(He),et.set(We.subarray(0,Dt),He.length),at.set(We.subarray(Dt))}else et=He.concat(We),at=Je>=0&&Je<et.length?et.splice(Je,et.length):[];return[et,at]}),Ee=B.redraw(De);return c.add(De,B.extendTraces,[De,Ie.update,Ge,Ie.maxPoints],Oe,arguments),Ee},B.newPlot=function(Oe,De,Ue,Ge){return Oe=S.getGraphDiv(Oe),a.cleanPlot([],{},Oe._fullData||[],Oe._fullLayout||{}),a.purge(Oe),B._doPlot(Oe,De,Ue,Ge)},B._doPlot=function(Oe,De,Ue,Ge){var ye;if(Oe=S.getGraphDiv(Oe),v.init(Oe),S.isPlainObject(De)){var Ie=De;De=Ie.data,Ue=Ie.layout,Ge=Ie.config,ye=Ie.frames}if(!1===v.triggerHandler(Oe,"plotly_beforeplot",[De,Ue,Ge]))return Promise.reject();De||Ue||S.isPlotDiv(Oe)||S.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Oe),R(Oe,Ge),Ue||(Ue={}),D.select(Oe).classed("js-plotly-plot",!0),d.makeTester(),Array.isArray(Oe._promises)||(Oe._promises=[]);var Ee=0===(Oe.data||[]).length&&Array.isArray(De);Array.isArray(De)&&(x.cleanData(De),Ee?Oe.data=De:Oe.data.push.apply(Oe.data,De),Oe.empty=!1),Oe.layout&&!Ee||(Oe.layout=x.cleanLayout(Ue)),a.supplyDefaults(Oe);var Be=Oe._fullLayout,We=Be._has("cartesian");Be._replotting=!0,(Ee||Be._shouldCreateBgLayer)&&(function(Et){var ht=D.select(Et),pt=Et._fullLayout;if(pt._calcInverseTransform=Le,pt._calcInverseTransform(Et),pt._container=ht.selectAll(".plot-container").data([0]),pt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),pt._paperdiv=pt._container.selectAll(".svg-container").data([0]),pt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),pt._glcontainer=pt._paperdiv.selectAll(".gl-container").data([{}]),pt._glcontainer.enter().append("div").classed("gl-container",!0),pt._paperdiv.selectAll(".main-svg").remove(),pt._paperdiv.select(".modebar-container").remove(),pt._paper=pt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),pt._toppaper=pt._paperdiv.append("svg").classed("main-svg",!0),pt._modebardiv=pt._paperdiv.append("div"),delete pt._modeBar,pt._hoverpaper=pt._paperdiv.append("svg").classed("main-svg",!0),!pt._uid){var Pt={};D.selectAll("defs").each(function(){this.id&&(Pt[this.id.split("-")[1]]=1)}),pt._uid=S.randstr(Pt)}pt._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),pt._defs=pt._paper.append("defs").attr("id","defs-"+pt._uid),pt._clips=pt._defs.append("g").classed("clips",!0),pt._topdefs=pt._toppaper.append("defs").attr("id","topdefs-"+pt._uid),pt._topclips=pt._topdefs.append("g").classed("clips",!0),pt._bgLayer=pt._paper.append("g").classed("bglayer",!0),pt._draggers=pt._paper.append("g").classed("draglayer",!0);var Ft=pt._paper.append("g").classed("layer-below",!0);pt._imageLowerLayer=Ft.append("g").classed("imagelayer",!0),pt._shapeLowerLayer=Ft.append("g").classed("shapelayer",!0),pt._cartesianlayer=pt._paper.append("g").classed("cartesianlayer",!0),pt._polarlayer=pt._paper.append("g").classed("polarlayer",!0),pt._smithlayer=pt._paper.append("g").classed("smithlayer",!0),pt._ternarylayer=pt._paper.append("g").classed("ternarylayer",!0),pt._geolayer=pt._paper.append("g").classed("geolayer",!0),pt._funnelarealayer=pt._paper.append("g").classed("funnelarealayer",!0),pt._pielayer=pt._paper.append("g").classed("pielayer",!0),pt._iciclelayer=pt._paper.append("g").classed("iciclelayer",!0),pt._treemaplayer=pt._paper.append("g").classed("treemaplayer",!0),pt._sunburstlayer=pt._paper.append("g").classed("sunburstlayer",!0),pt._indicatorlayer=pt._toppaper.append("g").classed("indicatorlayer",!0),pt._glimages=pt._paper.append("g").classed("glimages",!0);var Ht=pt._toppaper.append("g").classed("layer-above",!0);pt._imageUpperLayer=Ht.append("g").classed("imagelayer",!0),pt._shapeUpperLayer=Ht.append("g").classed("shapelayer",!0),pt._selectionLayer=pt._toppaper.append("g").classed("selectionlayer",!0),pt._infolayer=pt._toppaper.append("g").classed("infolayer",!0),pt._menulayer=pt._toppaper.append("g").classed("menulayer",!0),pt._zoomlayer=pt._toppaper.append("g").classed("zoomlayer",!0),pt._hoverlayer=pt._hoverpaper.append("g").classed("hoverlayer",!0),pt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Et.emit("plotly_framework")}(Oe),Be._shouldCreateBgLayer&&delete Be._shouldCreateBgLayer),d.initGradients(Oe),d.initPatterns(Oe),Ee&&o.saveShowSpikeInitial(Oe);var He=!Oe.calcdata||Oe.calcdata.length!==(Oe._fullData||[]).length;He&&a.doCalcdata(Oe);for(var Je=0;Je<Oe.calcdata.length;Je++)Oe.calcdata[Je][0].trace=Oe._fullData[Je];Oe._context.responsive?Oe._responsiveChartHandler||(Oe._responsiveChartHandler=function(){S.isHidden(Oe)||a.resize(Oe)},window.addEventListener("resize",Oe._responsiveChartHandler)):S.clearResponsive(Oe);var et=S.extendFlat({},Be._size),at=0;function mt(){if(a.clearAutoMarginIds(Oe),b.drawMarginPushers(Oe),o.allowAutoMargin(Oe),Oe._fullLayout.title.text&&Oe._fullLayout.title.automargin&&a.allowAutoMargin(Oe,"title.automargin"),Be._has("pie"))for(var Et=Oe._fullData,ht=0;ht<Et.length;ht++){var pt=Et[ht];"pie"===pt.type&&pt.automargin&&a.allowAutoMargin(Oe,"pie."+pt.uid+".automargin")}return a.doAutoMargin(Oe),a.previousPromises(Oe)}function ct(){Oe._transitioning||(b.doAutoRangeAndConstraints(Oe),Ee&&o.saveRangeInitial(Oe),i.getComponentMethod("rangeslider","calcAutorange")(Oe))}var St=[a.previousPromises,function(){if(ye)return B.addFrames(Oe,ye)},function Et(){for(var ht=Be._basePlotModules,pt=0;pt<ht.length;pt++)ht[pt].drawFramework&&ht[pt].drawFramework(Oe);!Be._glcanvas&&Be._has("gl")&&(Be._glcanvas=Be._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Lt){return Lt.key}),Be._glcanvas.enter().append("canvas").attr("class",function(Lt){return"gl-canvas gl-canvas-"+Lt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Pt=Oe._context.plotGlPixelRatio;if(Be._glcanvas){Be._glcanvas.attr("width",Be.width*Pt).attr("height",Be.height*Pt).style("width",Be.width+"px").style("height",Be.height+"px");var Ft=Be._glcanvas.data()[0].regl;if(Ft&&(Math.floor(Be.width*Pt)!==Ft._gl.drawingBufferWidth||Math.floor(Be.height*Pt)!==Ft._gl.drawingBufferHeight)){var Ht="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!at)return S.log(Ht+" Clearing graph and plotting again."),a.cleanPlot([],{},Oe._fullData,Be),a.supplyDefaults(Oe),Be=Oe._fullLayout,a.doCalcdata(Oe),at++,Et();S.error(Ht)}}return"h"===Be.modebar.orientation?Be._modebardiv.style("height",null).style("width","100%"):Be._modebardiv.style("width",null).style("height",Be.height+"px"),a.previousPromises(Oe)},mt,function(){if(a.didMarginChange(et,Be._size))return S.syncOrAsync([mt,b.layoutStyles],Oe)}];We&&St.push(function(){if(He)return S.syncOrAsync([i.getComponentMethod("shapes","calcAutorange"),i.getComponentMethod("annotations","calcAutorange"),ct],Oe);ct()}),St.push(b.layoutStyles),We&&St.push(function(){return o.draw(Oe,Ee?"":"redraw")},function(Et){var ht=Et._fullLayout._insideTickLabelsUpdaterange;if(ht)return Et._fullLayout._insideTickLabelsUpdaterange=void 0,re(Et,ht).then(function(){o.saveRangeInitial(Et,!0)})}),St.push(b.drawData,b.finalDraw,h,a.addLinks,a.rehover,a.redrag,a.reselect,a.doAutoMargin,a.previousPromises);var Dt=S.syncOrAsync(St,Oe);return Dt&&Dt.then||(Dt=Promise.resolve()),Dt.then(function(){return k(Oe),Oe})},B.purge=function(Oe){var De=(Oe=S.getGraphDiv(Oe))._fullLayout||{};return a.cleanPlot([],{},Oe._fullData||[],De),a.purge(Oe),v.purge(Oe),De._container&&De._container.remove(),delete Oe._context,Oe},B.react=function(Oe,De,Ue,Ge){var ye,Ie;Oe=S.getGraphDiv(Oe),x.clearPromiseQueue(Oe);var ft,Ve,qe,dt,ut,At,Ee=Oe._fullData,Be=Oe._fullLayout;if(S.isPlotDiv(Oe)&&Ee&&Be){if(S.isPlainObject(De)){var We=De;De=We.data,Ue=We.layout,Ge=We.config,ye=We.frames}var He=!1;if(Ge){var Je=S.extendDeep({},Oe._context);Oe._context=void 0,R(Oe,Ge),He=be(Je,Oe._context)}Oe.data=De||[],x.cleanData(Oe.data),Oe.layout=Ue||{},x.cleanLayout(Oe.layout),function(ft,Ve,qe,dt){var ut,At,wt,kt,_t,Rt,bt,Tt,Ot,Wt,qt=dt._preGUI,Jt=[],pn={},en={};for(ut in qt){if(_t=xe(ut,Te)){if(Ot=_t.head,Wt=_t.tail,(kt=(wt=M(dt,At=_t.attr||Ot+".uirevision").get())&&Fe(At,Ve))&&kt===wt){if(null===(Rt=qt[ut])&&(Rt=void 0),pe(Tt=(bt=M(Ve,ut)).get(),Rt)){void 0===Tt&&"autorange"===Wt&&Jt.push(Ot),bt.set(H(M(dt,ut).get()));continue}if("autorange"===Wt||"range["===Wt.substr(0,6)){var In=qt[Ot+".autorange"];if(In||null===In&&null===qt[Ot+".range[0]"]&&null===qt[Ot+".range[1]"]){if(!(Ot in pn)){var Hn=M(Ve,Ot).get();pn[Ot]=Hn&&(Hn.autorange||!1!==Hn.autorange&&(!Hn.range||2!==Hn.range.length))}if(pn[Ot]){bt.set(H(M(dt,ut).get()));continue}}}}}else S.warn("unrecognized GUI edit: "+ut);delete qt[ut],_t&&"range["===_t.tail.substr(0,6)&&(en[_t.head]=1)}for(var An=0;An<Jt.length;An++){var on=Jt[An];if(en[on]){var yn=M(Ve,on).get();yn&&delete yn.autorange}}var ln=dt._tracePreGUI;for(var wn in ln){var Cn,Ln=ln[wn],Sn=null;for(ut in Ln){if(!Sn){var qn=Se(wn,qe);if(qn<0){delete ln[wn];break}var kn=ke(wn,ft,(Cn=qe[qn]._fullInput).index);if(kn<0){delete ln[wn];break}Sn=ft[kn]}if(_t=xe(ut,ve)){if(_t.attr?kt=(wt=M(dt,_t.attr).get())&&Fe(_t.attr,Ve):(wt=Cn.uirevision,void 0===(kt=Sn.uirevision)&&(kt=Ve.uirevision)),kt&&kt===wt&&(null===(Rt=Ln[ut])&&(Rt=void 0),pe(Tt=(bt=M(Sn,ut)).get(),Rt))){bt.set(H(M(Cn,ut).get()));continue}}else S.warn("unrecognized GUI edit: "+ut+" in trace uid "+wn);delete Ln[ut]}}}(Oe.data,Oe.layout,Ee,Be),a.supplyDefaults(Oe,{skipUpdateCalc:!0});var et=Oe._fullData,at=Oe._fullLayout,mt=void 0===at.datarevision,ct=at.transition,St=(ft=Oe,Ve=Be,qe=at,dt=mt,ut=ct,(At=A.layoutFlags()).arrays={},At.rangesAltered={},At.nChanges=0,At.nChangesAnim=0,fe(Ve,qe,[],{getValObject:function(wt){return s.getLayoutValObject(qe,wt)},flags:At,immutable:dt,transition:ut,gd:ft}),(At.plot||At.calc)&&(At.layoutReplot=!0),ut&&At.nChanges&&At.nChangesAnim&&(At.anim=At.nChanges===At.nChangesAnim?"all":"some"),At),Et=function(ft,Ve,qe,dt,ut,At){var wt=Ve.length===qe.length;if(!ut&&!wt)return{fullReplot:!0,calc:!0};var kt,_t,Rt=A.traceFlags();Rt.arrays={},Rt.nChanges=0,Rt.nChangesAnim=0;var bt={getValObject:function(Ot){var Wt=s.getTraceValObject(_t,Ot);return!_t._module.animatable&&Wt.anim&&(Wt.anim=!1),Wt},flags:Rt,immutable:dt,transition:ut,newDataRevision:At,gd:ft},Tt={};for(kt=0;kt<Ve.length;kt++)if(qe[kt]){if(a.hasMakesDataTransform(_t=qe[kt]._fullInput)&&(_t=qe[kt]),Tt[_t.uid])continue;Tt[_t.uid]=1,fe(Ve[kt]._fullInput,_t,[],bt)}return(Rt.calc||Rt.plot)&&(Rt.fullReplot=!0),ut&&Rt.nChanges&&Rt.nChangesAnim&&(Rt.anim=Rt.nChanges===Rt.nChangesAnim&&wt?"all":"some"),Rt}(Oe,Ee,et,mt,ct,St.newDataRevision);if(he(Oe)&&(St.layoutReplot=!0),Et.calc||St.calc){Oe.calcdata=void 0;for(var ht=Object.getOwnPropertyNames(at),pt=0;pt<ht.length;pt++){var Pt=ht[pt],Ft=Pt.substring(0,5);if("xaxis"===Ft||"yaxis"===Ft){var Ht=at[Pt]._emptyCategories;Ht&&Ht()}}}else a.supplyDefaultsUpdateCalc(Oe.calcdata,et);var Lt=[];if(ye&&(Oe._transitionData={},a.createTransitionData(Oe),Lt.push(function(){return B.addFrames(Oe,ye)})),at.transition&&!He&&(Et.anim||St.anim))St.ticks&&Lt.push(b.doTicksRelayout),a.doCalcdata(Oe),b.doAutoRangeAndConstraints(Oe),Lt.push(function(){return a.transitionFromReact(Oe,Et,St,Be)});else if(Et.fullReplot||St.layoutReplot||He)Oe._fullLayout._skipDefaults=!0,Lt.push(B._doPlot);else{for(var tt in St.arrays){var rt=St.arrays[tt];if(rt.length){var Ke=i.getComponentMethod(tt,"drawOne");if(Ke!==S.noop)for(var it=0;it<rt.length;it++)Ke(Oe,rt[it]);else{var gt=i.getComponentMethod(tt,"draw");if(gt===S.noop)throw new Error("cannot draw components: "+tt);gt(Oe)}}}Lt.push(a.previousPromises),Et.style&&Lt.push(b.doTraceStyle),(Et.colorbars||St.colorbars)&&Lt.push(b.doColorBars),St.legend&&Lt.push(b.doLegend),St.layoutstyle&&Lt.push(b.layoutStyles),St.axrange&&ee(Lt),St.ticks&&Lt.push(b.doTicksRelayout),St.modebar&&Lt.push(b.doModeBar),St.camera&&Lt.push(b.doCamera),Lt.push(k)}Lt.push(a.rehover,a.redrag,a.reselect),(Ie=S.syncOrAsync(Lt,Oe))&&Ie.then||(Ie=Promise.resolve(Oe))}else Ie=B.newPlot(Oe,De,Ue,Ge);return Ie.then(function(){return Oe.emit("plotly_react",{data:De,layout:Ue}),Oe})},B.redraw=function(Oe){if(Oe=S.getGraphDiv(Oe),!S.isPlotDiv(Oe))throw new Error("This element is not a Plotly plot: "+Oe);return x.cleanData(Oe.data),x.cleanLayout(Oe.layout),Oe.calcdata=void 0,B._doPlot(Oe).then(function(){return Oe.emit("plotly_redraw"),Oe})},B.relayout=re,B.restyle=W,B.setPlotConfig=function(Oe){return S.extendFlat(g,Oe)},B.update=we,B._guiRelayout=Ae(re),B._guiRestyle=Ae(W),B._guiUpdate=Ae(we),B._storeDirectGUIEdit=function(Oe,De,Ue){for(var Ge in Ue)Y(Ge,M(Oe,Ge).get(),Ue[Ge],De)}},72075:function(ae){"use strict";var B={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},r={};(function D(E,f){for(var S in E){var M=E[S];M.valType?f[S]=M.dflt:(f[S]||(f[S]={}),D(M,f[S]))}})(B,r),ae.exports={configAttributes:B,dfltConfig:r}},86281:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(9012),S=r(10820),M=r(31391),v=r(85594),c=r(72075).configAttributes,i=r(30962),s=E.extendDeepAll,a=E.isPlainObject,o=E.isArrayOrTypedArray,l=E.nestedProperty,u=E.valObjectMeta,d="_isSubplotObj",m="_isLinkedToArray",h="_deprecated",T=[d,m,"_arrayAttrRegexps",h];function _(p,O,k){if(!p)return!1;if(p._isLinkedToArray)if(g(O[k]))k++;else if(k<O.length)return!1;for(;k<O.length;k++){var I=p[O[k]];if(!a(I)||(p=I,k===O.length-1))break;if(p._isLinkedToArray){if(!g(O[++k]))return!1}else if("info_array"===p.valType){var P=O[++k];if(!g(P))return!1;var R=p.items;if(Array.isArray(R)){if(P>=R.length)return!1;if(2===p.dimensions){if(k++,O.length===k)return p;var N=O[k];if(!g(N))return!1;p=R[P][N]}else p=R[P]}else p=R}}return p}function g(p){return p===Math.round(p)&&p>=0}function w(){var p,O,k={};for(p in s(k,S),D.subplotsRegistry)if((O=D.subplotsRegistry[p]).layoutAttributes)if(Array.isArray(O.attr))for(var I=0;I<O.attr.length;I++)b(k,O,O.attr[I]);else b(k,O,"subplot"===O.attr?O.name:O.attr);for(p in D.componentsRegistry){var P=(O=D.componentsRegistry[p]).schema;if(P&&(P.subplots||P.layout)){var R=P.subplots;if(R&&R.xaxis&&!R.yaxis)for(var N in R.xaxis)delete k.yaxis[N];delete k.xaxis.shift,delete k.xaxis.autoshift}else"colorscale"===O.name?s(k,O.layoutAttributes):O.layoutAttributes&&A(k,O.layoutAttributes,O.name)}return{layoutAttributes:x(k)}}function x(p){return B.crawl(p,function(k,I,P){B.isValObject(k)?!0!==k.arrayOk&&"data_array"!==k.valType||(P[I+"src"]={valType:"string",editType:"none"}):a(k)&&(k.role="object")}),B.crawl(p,function(k,I,P){if(k){var R=k[m];R&&(delete k[m],P[I]={items:{}},P[I].items[R]=k,P[I].role="object")}}),function(O){!function k(I){for(var P in I)if(a(I[P]))k(I[P]);else if(Array.isArray(I[P]))for(var R=0;R<I[P].length;R++)k(I[P][R]);else I[P]instanceof RegExp&&(I[P]=I[P].toString())}(O)}(p),p}function b(p,O,k){var I=l(p,k),P=s({},O.layoutAttributes);P[d]=!0,I.set(P)}function A(p,O,k){var I=l(p,k);I.set(s(I.get()||{},O))}B.IS_SUBPLOT_OBJ=d,B.IS_LINKED_TO_ARRAY=m,B.DEPRECATED=h,B.UNDERSCORE_ATTRS=T,B.get=function(){var p={};D.allTypes.forEach(function(I){p[I]=function(P){var R,N;N=(R=D.modules[P]._module).basePlotModule;var j={type:null},X=s({},f),F=s({},R.attributes);B.crawl(F,function(H,G,Y,se,te){l(X,te).set(void 0),void 0===H&&l(F,te).set(void 0)}),s(j,X),D.traceIs(P,"noOpacity")&&delete j.opacity,D.traceIs(P,"showLegend")||(delete j.showlegend,delete j.legendgroup),D.traceIs(P,"noHover")&&(delete j.hoverinfo,delete j.hoverlabel),R.selectPoints||delete j.selectedpoints,s(j,F),N.attributes&&s(j,N.attributes),j.type=P;var Z={meta:R.meta||{},categories:R.categories||{},animatable:Boolean(R.animatable),type:P,attributes:x(j)};if(R.layoutAttributes){var W={};s(W,R.layoutAttributes),Z.layoutAttributes=x(W)}return R.animatable||B.crawl(Z,function(H){B.isValObject(H)&&"anim"in H&&delete H.anim}),Z}(I)});var O,k={};return Object.keys(D.transformsRegistry).forEach(function(I){var P,N;k[I]=(N=s({},D.transformsRegistry[P=I].attributes),Object.keys(D.componentsRegistry).forEach(function(j){var X=D.componentsRegistry[j];X.schema&&X.schema.transforms&&X.schema.transforms[P]&&Object.keys(X.schema.transforms[P]).forEach(function(F){A(N,X.schema.transforms[P][F],F)})}),{attributes:x(N)})}),{defs:{valObjects:u,metaKeys:T.concat(["description","role","editType","impliedEdits"]),editType:{traces:i.traces,layout:i.layout},impliedEdits:{}},traces:p,layout:w(),transforms:k,frames:(O={frames:s({},M)},x(O),O.frames),animation:x(v),config:x(c)}},B.crawl=function(p,O,k,I){var P=k||0;I=I||"",Object.keys(p).forEach(function(R){var N=p[R];if(-1===T.indexOf(R)){var j=(I?I+".":"")+R;O(N,R,p,P,j),B.isValObject(N)||a(N)&&"impliedEdits"!==R&&B.crawl(N,O,P+1,j)}})},B.isValObject=function(p){return p&&void 0!==p.valType},B.findArrayAttributes=function(p){var O,k,I=[],P=[],R=[];function N(H,G,Y,se){P=P.slice(0,se).concat([G]),R=R.slice(0,se).concat([H&&H._isLinkedToArray]),H&&("data_array"===H.valType||!0===H.arrayOk)&&("colorbar"!==P[se-1]||"ticktext"!==G&&"tickvals"!==G)&&j(O,0,"")}function j(H,G,Y){var se=H[P[G]],te=Y+P[G];if(G===P.length-1)o(se)&&I.push(k+te);else if(R[G]){if(Array.isArray(se))for(var re=0;re<se.length;re++)a(se[re])&&j(se[re],G+1,te+"["+re+"].")}else a(se)&&j(se,G+1,te+".")}O=p,k="",B.crawl(f,N),p._module&&p._module.attributes&&B.crawl(p._module.attributes,N);var X=p.transforms;if(X)for(var F=0;F<X.length;F++){var Z=X[F],W=Z._module;W&&(k="transforms["+F+"].",O=Z,B.crawl(W.attributes,N))}return I},B.getTraceValObject=function(p,O){var k,I,P=O[0],R=1;if("transforms"===P){if(1===O.length)return f.transforms;var N=p.transforms;if(!Array.isArray(N)||!N.length)return!1;var j=O[1];if(!g(j)||j>=N.length)return!1;I=(k=(D.transformsRegistry[N[j].type]||{}).attributes)&&k[O[2]],R=3}else{var X=p._module;if(X||(X=(D.modules[p.type||f.type.dflt]||{})._module),!X)return!1;if(!(I=(k=X.attributes)&&k[P])){var F=X.basePlotModule;F&&F.attributes&&(I=F.attributes[P])}I||(I=f[P])}return _(I,O,R)},B.getLayoutValObject=function(p,O){return _(function(I,P){var R,N,j,X,F=I._basePlotModules;if(F){var Z;for(R=0;R<F.length;R++){if((j=F[R]).attrRegex&&j.attrRegex.test(P)){if(j.layoutAttrOverrides)return j.layoutAttrOverrides;!Z&&j.layoutAttributes&&(Z=j.layoutAttributes)}var W=j.baseLayoutAttrOverrides;if(W&&P in W)return W[P]}if(Z)return Z}var H=I._modules;if(H)for(R=0;R<H.length;R++)if((X=H[R].layoutAttributes)&&P in X)return X[P];for(N in D.componentsRegistry){if("colorscale"===(j=D.componentsRegistry[N]).name&&0===P.indexOf("coloraxis"))return j.layoutAttributes[P];if(!j.schema&&P===j.name)return j.layoutAttributes}return P in S&&S[P]}(p,O[0]),O,1)}},44467:function(ae,B,r){"use strict";var D=r(71828),E=r(9012),f="templateitemname",S={name:{valType:"string",editType:"none"}};function M(c){return c&&"string"==typeof c}function v(c){return"s"!==c.charAt(c.length-1)&&D.warn("bad argument to arrayDefaultKey: "+c),c.substr(0,c.length-1)+"defaults"}S[f]={valType:"string",editType:"calc"},B.templatedArray=function(c,i){return i._isLinkedToArray=c,i.name=S.name,i[f]=S[f],i},B.traceTemplater=function(c){var i,s,a={};for(i in c)s=c[i],Array.isArray(s)&&s.length&&(a[i]=0);return{newTrace:function(o){var l={type:i=D.coerce(o,{},E,"type"),_template:null};if(i in a){var u=a[i]%(s=c[i]).length;a[i]++,l._template=s[u]}return l}}},B.newContainer=function(c,i,s){var a=c._template,o=a&&(a[i]||s&&a[s]);return D.isPlainObject(o)||(o=null),c[i]={_template:o}},B.arrayTemplater=function(c,i,s){var a=c._template,o=a&&a[v(i)],l=a&&a[i];Array.isArray(l)&&l.length||(l=[]);var u={};return{newItem:function(d){var m={name:d.name,_input:d},h=m[f]=d[f];if(!M(h))return m._template=o,m;for(var T=0;T<l.length;T++){var _=l[T];if(_.name===h)return u[h]=1,m._template=_,m}return m[s]=d[s]||!1,m._template=!1,m},defaultItems:function(){for(var d=[],m=0;m<l.length;m++){var h=l[m],T=h.name;if(M(T)&&!u[T]){var _={_template:h,name:T,_input:{_templateitemname:T}};_[f]=h[f],d.push(_),u[T]=1}}return d}}},B.arrayDefaultKey=v,B.arrayEditor=function(c,i,s){var a=(D.nestedProperty(c,i).get()||[]).length,o=s._index,l=o>=a&&(s._input||{})._templateitemname;l&&(o=a);var u,d=i+"["+o+"]";function m(){u={},l&&(u[d]={},u[d][f]=l)}function h(_,g){l?D.nestedProperty(u[d],_).set(g):u[d+"."+_]=g}function T(){var _=u;return m(),_}return m(),{modifyBase:function(_,g){u[_]=g},modifyItem:h,getUpdateObj:T,applyUpdate:function(_,g){_&&h(_,g);var w=T();for(var x in w)D.nestedProperty(c,x).set(w[x])}}}},61549:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(74875),S=r(71828),M=r(63893),v=r(33306),c=r(7901),i=r(91424),s=r(92998),a=r(64168),o=r(89298),l=r(18783),u=r(99082),d=u.enforce,m=u.clean,h=r(71739).doAutoRange,T="start";function _(A,p,O){for(var k=0;k<O.length;k++){var I=O[k][0],P=O[k][1];if(!(I[0]>=A[1]||I[1]<=A[0])&&P[0]<p[1]&&P[1]>p[0])return!0}return!1}function g(A){var p,O,k,I,P,R,N=A._fullLayout,j=N._size,X=j.p,F=o.list(A,"",!0);if(N._paperdiv.style({width:A._context.responsive&&N.autosize&&!A._context._hasZeroWidth&&!A.layout.width?"100%":N.width+"px",height:A._context.responsive&&N.autosize&&!A._context._hasZeroHeight&&!A.layout.height?"100%":N.height+"px"}).selectAll(".main-svg").call(i.setSize,N.width,N.height),A._context.setBackground(A,N.paper_bgcolor),B.drawMainTitle(A),a.manage(A),!N._has("cartesian"))return f.previousPromises(A);function Z(He,Je,et){var at=He._lw/2;return"x"===He._id.charAt(0)?Je?"top"===et?Je._offset-X-at:Je._offset+Je._length+X+at:j.t+j.h*(1-(He.position||0))+at%1:Je?"right"===et?Je._offset+Je._length+X+at:Je._offset-X-at:j.l+j.w*(He.position||0)+at%1}for(p=0;p<F.length;p++){var W=(I=F[p])._anchorAxis;I._linepositions={},I._lw=i.crispRound(A,I.linewidth,1),I._mainLinePosition=Z(I,W,I.side),I._mainMirrorPosition=I.mirror&&W?Z(I,W,l.OPPOSITE_SIDE[I.side]):null}var H=[],G=[],Y=[],se=1===c.opacity(N.paper_bgcolor)&&1===c.opacity(N.plot_bgcolor)&&N.paper_bgcolor===N.plot_bgcolor;for(O in N._plots)if((k=N._plots[O]).mainplot)k.bg&&k.bg.remove(),k.bg=void 0;else{var te=k.xaxis.domain,re=k.yaxis.domain,Q=k.plotgroup;if(_(te,re,Y)){var ee=Q.node(),oe=k.bg=S.ensureSingle(Q,"rect","bg");ee.insertBefore(oe.node(),ee.childNodes[0]),G.push(O)}else Q.select("rect.bg").remove(),Y.push([te,re]),se||(H.push(O),G.push(O))}var le,ue,de,he,we,Ae,Te,ve,xe,Fe,Se,ke,pe,fe=N._bgLayer.selectAll(".bg").data(H);for(fe.enter().append("rect").classed("bg",!0),fe.exit().remove(),fe.each(function(He){N._plots[He].bg=D.select(this)}),p=0;p<G.length;p++)P=(k=N._plots[G[p]]).xaxis,R=k.yaxis,k.bg&&void 0!==P._offset&&void 0!==R._offset&&k.bg.call(i.setRect,P._offset-X,R._offset-X,P._length+2*X,R._length+2*X).call(c.fill,N.plot_bgcolor).style("stroke-width",0);if(!N._hasOnlyLargeSploms)for(O in N._plots){P=(k=N._plots[O]).xaxis,R=k.yaxis;var be,Le,Oe=k.clipId="clip"+N._uid+O+"plot",De=S.ensureSingleById(N._clips,"clipPath",Oe,function(He){He.classed("plotclip",!0).append("rect")});k.clipRect=De.select("rect").attr({width:P._length,height:R._length}),i.setTranslate(k.plot,P._offset,R._offset),k._hasClipOnAxisFalse?(be=null,Le=Oe):(be=Oe,Le=null),i.setClipUrl(k.plot,be,A),k.layerClipId=Le}function Ue(He){return"M"+le+","+He+"H"+ue}function Ge(He){return"M"+P._offset+","+He+"h"+P._length}function ye(He){return"M"+He+","+ve+"V"+Te}function Ie(He){return void 0!==R._shift&&(He+=R._shift),"M"+He+","+R._offset+"v"+R._length}function Ee(He,Je,et){if(!He.showline||O!==He._mainSubplot)return"";if(!He._anchorAxis)return et(He._mainLinePosition);var at=Je(He._mainLinePosition);return He.mirror&&(at+=Je(He._mainMirrorPosition)),at}for(O in N._plots){R=(k=N._plots[O]).yaxis;var Be="M0,0";w(P=k.xaxis,O)&&(we=b(P,"left",R,F),le=P._offset-(we?X+we:0),Ae=b(P,"right",R,F),ue=P._offset+P._length+(Ae?X+Ae:0),de=Z(P,R,"bottom"),he=Z(P,R,"top"),!(pe=!P._anchorAxis||O!==P._mainSubplot)||"allticks"!==P.mirror&&"all"!==P.mirror||(P._linepositions[O]=[de,he]),Be=Ee(P,Ue,Ge),pe&&P.showline&&("all"===P.mirror||"allticks"===P.mirror)&&(Be+=Ue(de)+Ue(he)),k.xlines.style("stroke-width",P._lw+"px").call(c.stroke,P.showline?P.linecolor:"rgba(0,0,0,0)")),k.xlines.attr("d",Be);var We="M0,0";w(R,O)&&(Se=b(R,"bottom",P,F),Te=R._offset+R._length+(Se?X:0),ke=b(R,"top",P,F),ve=R._offset-(ke?X:0),xe=Z(R,P,"left"),Fe=Z(R,P,"right"),!(pe=!R._anchorAxis||O!==R._mainSubplot)||"allticks"!==R.mirror&&"all"!==R.mirror||(R._linepositions[O]=[xe,Fe]),We=Ee(R,ye,Ie),pe&&R.showline&&("all"===R.mirror||"allticks"===R.mirror)&&(We+=ye(xe)+ye(Fe)),k.ylines.style("stroke-width",R._lw+"px").call(c.stroke,R.showline?R.linecolor:"rgba(0,0,0,0)")),k.ylines.attr("d",We)}return o.makeClipPaths(A),f.previousPromises(A)}function w(A,p){return(A.ticks||A.showline)&&(p===A._mainSubplot||"all"===A.mirror||"allticks"===A.mirror)}function x(A,p,O){if(!O.showline||!O._lw)return!1;if("all"===O.mirror||"allticks"===O.mirror)return!0;var k=O._anchorAxis;if(!k)return!1;var I=l.FROM_BL[p];return O.side===p?k.domain[I]===A.domain[I]:O.mirror&&k.domain[1-I]===A.domain[1-I]}function b(A,p,O,k){if(x(A,p,O))return O._lw;for(var I=0;I<k.length;I++){var P=k[I];if(P._mainAxis===O._mainAxis&&x(A,p,P))return P._lw}return 0}B.layoutStyles=function(A){return S.syncOrAsync([f.doAutoMargin,g],A)},B.drawMainTitle=function(A){var p,G,Y,O=A._fullLayout.title,k=A._fullLayout,I=(Y="middle",S.isRightAnchor(G=k.title)?Y="end":S.isLeftAnchor(G)&&(Y=T),Y),P=function(H){var G=H.title,Y="0em";return S.isTopAnchor(G)?Y=l.CAP_SHIFT+"em":S.isMiddleAnchor(G)&&(Y=l.MID_SHIFT+"em"),Y}(k),R=function(H,G){var Y=H.title,se=H._size,te=0;return"0em"!==G&&G?G===l.CAP_SHIFT+"em"&&(te=Y.pad.t):te=-Y.pad.b,"auto"===Y.y?se.t/2:"paper"===Y.yref?se.t+se.h-se.h*Y.y+te:H.height-H.height*Y.y+te}(k,P),N=function(H,G){var Y=H.title,se=H._size,te=0;return G===T?te=Y.pad.l:"end"===G&&(te=-Y.pad.r),"paper"===Y.xref?se.l+se.w*Y.x+te:H.width*Y.x+te}(k,I);if(s.draw(A,"gtitle",{propContainer:k,propName:"title.text",placeholder:k._dfltTitle.plot,attributes:{x:N,y:R,"text-anchor":I,dy:P}}),O.text&&O.automargin){var j=D.selectAll(".gtitle"),X=i.bBox(j.node()).height,F=function(H,G,Y){var le,ue,de,he,we,se=G.y,re=se>.5?"t":"b",ee=0;return"paper"===G.yref?ee=Y+G.pad.t+G.pad.b:"container"===G.yref&&(le=se,de=H._fullLayout.height,he=Y,we=0,"middle"===(ue=G.yanchor)&&(we+=he/2),"t"===re?("top"===ue&&(we+=he),we+=de-le*de):("bottom"===ue&&(we+=he),we+=le*de),ee=we+G.pad.t+G.pad.b),ee>H._fullLayout.margin[re]?ee:0}(A,O,X);if(F>0){(function(H,G,Y,se){var le,ue,de,he,we,Ae,Te,ve,te="title.automargin",re=H._fullLayout.title,Q=re.y>.5?"t":"b",ee={x:re.x,y:re.y,t:0,b:0},oe={};"paper"===re.yref&&(le=H,de=Q,he=G,we=se,Ae="paper"===(ue=re).yref?le._fullLayout._size.h:le._fullLayout.height,Te=S.isTopAnchor(ue)?he:he-we,ve="b"===de?Ae-Te:Te,!(S.isTopAnchor(ue)&&"t"===de||S.isBottomAnchor(ue)&&"b"===de)&&ve<we)?ee[Q]=Y:"container"===re.yref&&(oe[Q]=Y,H._fullLayout._reservedMargin[te]=oe),f.allowAutoMargin(H,te),f.autoMargin(H,te,ee)})(A,R,F,X),j.attr({x:N,y:R,"text-anchor":I,dy:(p=O.yanchor,"top"===p?l.CAP_SHIFT+.3+"em":"bottom"===p?"-0.3em":l.MID_SHIFT+"em")}).call(M.positionText,N,R);var Z=(O.text.match(M.BR_TAG_ALL)||[]).length;if(Z){var W=l.LINE_SPACING*Z+l.MID_SHIFT;0===O.y&&(W=-W),j.selectAll(".line").each(function(){var H=+this.getAttribute("dy").slice(0,-2)-W+"em";this.setAttribute("dy",H)})}}}},B.doTraceStyle=function(A){var p,O=A.calcdata,k=[];for(p=0;p<O.length;p++){var I=O[p],P=I[0]||{},R=P.trace||{},N=R._module||{},j=N.arraysToCalcdata;j&&j(I,R);var X=N.editStyle;X&&k.push({fn:X,cd0:P})}if(k.length){for(p=0;p<k.length;p++){var F=k[p];F.fn(A,F.cd0)}v(A),B.redrawReglTraces(A)}return f.style(A),E.getComponentMethod("legend","draw")(A),f.previousPromises(A)},B.doColorBars=function(A){return E.getComponentMethod("colorbar","draw")(A),f.previousPromises(A)},B.layoutReplot=function(A){var p=A.layout;return A.layout=void 0,E.call("_doPlot",A,"",p)},B.doLegend=function(A){return E.getComponentMethod("legend","draw")(A),f.previousPromises(A)},B.doTicksRelayout=function(A){return o.draw(A,"redraw"),A._fullLayout._hasOnlyLargeSploms&&(E.subplotsRegistry.splom.updateGrid(A),v(A),B.redrawReglTraces(A)),B.drawMainTitle(A),f.previousPromises(A)},B.doModeBar=function(A){var p=A._fullLayout;a.manage(A);for(var O=0;O<p._basePlotModules.length;O++){var k=p._basePlotModules[O].updateFx;k&&k(A)}return f.previousPromises(A)},B.doCamera=function(A){for(var p=A._fullLayout,O=p._subplots.gl3d,k=0;k<O.length;k++){var I=p[O[k]];I._scene.setViewport(I)}},B.drawData=function(A){var p=A._fullLayout;v(A);for(var O=p._basePlotModules,k=0;k<O.length;k++)O[k].plot(A);return B.redrawReglTraces(A),f.style(A),E.getComponentMethod("selections","draw")(A),E.getComponentMethod("shapes","draw")(A),E.getComponentMethod("annotations","draw")(A),E.getComponentMethod("images","draw")(A),p._replotting=!1,f.previousPromises(A)},B.redrawReglTraces=function(A){var p=A._fullLayout;if(p._has("regl")){var O,k,I=A._fullData,P=[],R=[];for(p._hasOnlyLargeSploms&&p._splomGrid.draw(),O=0;O<I.length;O++){var N=I[O];!0===N.visible&&0!==N._length&&("splom"===N.type?p._splomScenes[N.uid].draw():"scattergl"===N.type?S.pushUnique(P,N.xaxis+N.yaxis):"scatterpolargl"===N.type&&S.pushUnique(R,N.subplot))}for(O=0;O<P.length;O++)(k=p._plots[P[O]])._scene&&k._scene.draw();for(O=0;O<R.length;O++)(k=p[R[O]]._subplot)._scene&&k._scene.draw()}},B.doAutoRangeAndConstraints=function(A){for(var p,O=o.list(A,"",!0),k={},I=0;I<O.length;I++)if(!k[(p=O[I])._id]){k[p._id]=1,m(A,p),h(A,p);var P=p._matchGroup;if(P)for(var R in P){var N=o.getFromId(A,R);h(A,N,p.range),k[R]=1}}d(A)},B.finalDraw=function(A){E.getComponentMethod("rangeslider","draw")(A),E.getComponentMethod("rangeselector","draw")(A)},B.drawMarginPushers=function(A){E.getComponentMethod("legend","draw")(A),E.getComponentMethod("rangeselector","draw")(A),E.getComponentMethod("sliders","draw")(A),E.getComponentMethod("updatemenus","draw")(A),E.getComponentMethod("colorbar","draw")(A)}},96318:function(ae,B,r){"use strict";var D=r(71828),E=D.isPlainObject,f=r(86281),S=r(74875),M=r(9012),v=r(44467),c=r(72075).dfltConfig;function i(h,T){h=D.extendDeep({},h);var _,g,w=Object.keys(h).sort();function x(k,I,P){if(E(I)&&E(k))i(k,I);else if(Array.isArray(I)&&Array.isArray(k)){var R=v.arrayTemplater({_template:h},P);for(g=0;g<I.length;g++){var N=I[g],j=R.newItem(N)._template;j&&i(j,N)}var X=R.defaultItems();for(g=0;g<X.length;g++)I.push(X[g]._template);for(g=0;g<I.length;g++)delete I[g].templateitemname}}for(_=0;_<w.length;_++){var b=w[_],A=h[b];if(b in T?x(A,T[b],b):T[b]=A,s(b)===b)for(var p in T){var O=s(p);p===O||O!==b||p in h||x(A,T[p],b)}}}function s(h){return h.replace(/[0-9]+$/,"")}function a(h,T,_,g,w){var x=w&&_(w);for(var b in h){var A=h[b],p=u(h,b,g),O=u(h,b,w),k=_(O);if(!k){var I=s(b);I!==b&&(k=_(O=u(h,I,w)))}if(!(x&&x===k||!k||k._noTemplating||"data_array"===k.valType||k.arrayOk&&Array.isArray(A)))if(!k.valType&&E(A))a(A,T,_,p,O);else if(k._isLinkedToArray&&Array.isArray(A))for(var P=!1,R=0,N={},j=0;j<A.length;j++){var X=A[j];if(E(X)){var F=X.name;if(F)N[F]||(a(X,T,_,u(A,R,p),u(A,R,O)),R++,N[F]=1);else if(!P){var Z=u(h,v.arrayDefaultKey(b),g),W=u(A,R,p);a(X,T,_,W,u(A,R,O));var H=D.nestedProperty(T,W);D.nestedProperty(T,Z).set(H.get()),H.set(null),P=!0}}}else D.nestedProperty(T,p).set(A)}}function o(h,T){return f.getLayoutValObject(h,D.nestedProperty({},T).parts)}function l(h,T){return f.getTraceValObject(h,D.nestedProperty({},T).parts)}function u(h,T,_){return _?Array.isArray(h)?_+"["+T+"]":_+"."+T:T}function d(h){for(var T=0;T<h.length;T++)if(E(h[T]))return!0}function m(h){var T;switch(h.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":T=h.path?"There are no templates for item "+h.path+" with name "+h.templateitemname:"There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":T=h.path?"The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?"Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":"The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type."}return h.msg=T,h}B.makeTemplate=function(h){h=D.isPlainObject(h)?h:D.getGraphDiv(h),h=D.extendDeep({_context:c},{data:h.data,layout:h.layout}),S.supplyDefaults(h);var T=h.data||[],_=h.layout||{};_._basePlotModules=h._fullLayout._basePlotModules,_._modules=h._fullLayout._modules;var g={data:{},layout:{}};T.forEach(function(R){var N={};a(R,N,l.bind(null,R));var j=D.coerce(R,{},M,"type"),X=g.data[j];X||(X=g.data[j]=[]),X.push(N)}),a(_,g.layout,o.bind(null,_)),delete g.layout.template;var w=_.template;if(E(w)){var x,b,A,p,O,k,I=w.layout;E(I)&&i(I,g.layout);var P=w.data;if(E(P)){for(b in g.data)if(A=P[b],Array.isArray(A)){for(k=(O=g.data[b]).length,p=A.length,x=0;x<k;x++)i(A[x%p],O[x]);for(x=k;x<p;x++)O.push(D.extendDeep({},A[x]))}for(b in P)b in g.data||(g.data[b]=D.extendDeep([],P[b]))}}return g},B.validateTemplate=function(h,T){var _=D.extendDeep({},{_context:c,data:h.data,layout:h.layout}),g=_.layout||{};E(T)||(T=g.template||{});var w=T.layout,x=T.data,b=[];_.layout=g,_.layout.template=T,S.supplyDefaults(_);var A=_._fullLayout,p=_._fullData,O={};if(E(w)?(function X(F,Z){for(var W in F)if("_"!==W.charAt(0)&&E(F[W])){var H,G=s(W),Y=[];for(H=0;H<Z.length;H++)Y.push(u(F,W,Z[H])),G!==W&&Y.push(u(F,G,Z[H]));for(H=0;H<Y.length;H++)O[Y[H]]=1;X(F[W],Y)}}(A,["layout"]),function X(F,Z){for(var W in F)if(-1===W.indexOf("defaults")&&E(F[W])){var H=u(F,W,Z);O[H]?X(F[W],H):b.push({code:"unused",path:H})}}(w,"layout")):b.push({code:"layout"}),E(x)){for(var k,I={},P=0;P<p.length;P++){var R=p[P];I[k=R.type]=(I[k]||0)+1,R._fullInput._template||b.push({code:"missing",index:R._fullInput.index,traceType:k})}for(k in x){var N=x[k].length,j=I[k]||0;N>j?b.push({code:"unused",traceType:k,templateCount:N,dataCount:j}):j>N&&b.push({code:"reused",traceType:k,templateCount:N,dataCount:j})}}else b.push({code:"data"});if(function X(F,Z){for(var W in F)if("_"!==W.charAt(0)){var H=F[W],G=u(F,W,Z);E(H)?(Array.isArray(F)&&!1===H._template&&H.templateitemname&&b.push({code:"missing",path:G,templateitemname:H.templateitemname}),X(H,G)):Array.isArray(H)&&d(H)&&X(H,G)}}({data:p,layout:A},""),b.length)return b.map(m)}},403:function(ae,B,r){"use strict";var D=r(92770),E=r(72391),f=r(74875),S=r(71828),M=r(25095),v=r(5900),c=r(70942),i=r(11506).version,s={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};ae.exports=function(a,o){var l,u,d,m;function h(j){return!(j in o)||S.validate(o[j],s[j])}if(o=o||{},S.isPlainObject(a)?(l=a.data||[],u=a.layout||{},d=a.config||{},m={}):(a=S.getGraphDiv(a),l=S.extendDeep([],a.data),u=S.extendDeep({},a.layout),d=a._context,m=a._fullLayout||{}),!h("width")&&null!==o.width||!h("height")&&null!==o.height)throw new Error("Height and width should be pixel values.");if(!h("format"))throw new Error("Export format is not "+S.join2(s.format.values,", "," or ")+".");var T={};function _(j,X){return S.coerce(o,T,s,j,X)}var g=_("format"),w=_("width"),x=_("height"),b=_("scale"),A=_("setBackground"),p=_("imageDataOnly"),O=document.createElement("div");O.style.position="absolute",O.style.left="-5000px",document.body.appendChild(O);var k=S.extendFlat({},u);w?k.width=w:null===o.width&&D(m.width)&&(k.width=m.width),x?k.height=x:null===o.height&&D(m.height)&&(k.height=m.height);var I=S.extendFlat({},d,{_exportedPlot:!0,staticPlot:!0,setBackground:A}),P=M.getRedrawFunc(O);function R(){return new Promise(function(j){setTimeout(j,M.getDelay(O._fullLayout))})}function N(){return new Promise(function(j,X){var F=v(O,g,b),Z=O._fullLayout.width,W=O._fullLayout.height;function H(){E.purge(O),document.body.removeChild(O)}if("full-json"===g){var G=f.graphJson(O,!1,"keepdata","object",!0,!0);return G.version=i,G=JSON.stringify(G),H(),j(p?G:M.encodeJSON(G))}if(H(),"svg"===g)return j(p?F:M.encodeSVG(F));var Y=document.createElement("canvas");Y.id=S.randstr(),c({format:g,width:Z,height:W,scale:b,canvas:Y,svg:F,promise:!0}).then(j).catch(X)})}return new Promise(function(j,X){E.newPlot(O,l,k,I).then(P).then(R).then(N).then(function(F){var Z;j((Z=F,p?Z.replace(M.IMAGE_URL_PREFIX,""):Z))}).catch(function(F){X(F)})})}},84936:function(ae,B,r){"use strict";var D=r(71828),E=r(74875),f=r(86281),S=r(72075).dfltConfig,M=D.isPlainObject,v=Array.isArray,c=D.isArrayOrTypedArray;function i(h,T,_,g,w,x){x=x||[];for(var b=Object.keys(h),A=0;A<b.length;A++){var p=b[A];if("transforms"!==p){var O=x.slice();O.push(p);var k=h[p],I=T[p],P=u(_,p),R=(P||{}).valType,N="info_array"===R,j="colorscale"===R,X=(P||{}).items;if(l(_,p))if(M(k)&&M(I)&&"any"!==R)i(k,I,P,g,w,O);else if(N&&v(k)){k.length>I.length&&g.push(o("unused",w,O.concat(I.length)));var F,Z,H,G,Y=I.length,se=Array.isArray(X);if(se&&(Y=Math.min(Y,X.length)),2===P.dimensions)for(Z=0;Z<Y;Z++)if(v(k[Z])){k[Z].length>I[Z].length&&g.push(o("unused",w,O.concat(Z,I[Z].length)));var te=I[Z].length;for(F=0;F<(se?Math.min(te,X[Z].length):te);F++)G=I[Z][F],D.validate(H=k[Z][F],se?X[Z][F]:X)?G!==H&&G!==+H&&g.push(o("dynamic",w,O.concat(Z,F),H,G)):g.push(o("value",w,O.concat(Z,F),H))}else g.push(o("array",w,O.concat(Z),k[Z]));else for(Z=0;Z<Y;Z++)G=I[Z],D.validate(H=k[Z],se?X[Z]:X)?G!==H&&G!==+H&&g.push(o("dynamic",w,O.concat(Z),H,G)):g.push(o("value",w,O.concat(Z),H))}else if(P.items&&!N&&v(k)){var re,Q,ee=X[Object.keys(X)[0]],oe=[];for(re=0;re<I.length;re++){var le=I[re]._index||re;if((Q=O.slice()).push(le),M(k[le])&&M(I[re])){oe.push(le);var ue=k[le],de=I[re];M(ue)&&!1!==ue.visible&&!1===de.visible?g.push(o("invisible",w,Q)):i(ue,de,ee,g,w,Q)}}for(re=0;re<k.length;re++)(Q=O.slice()).push(re),M(k[re])?-1===oe.indexOf(re)&&g.push(o("unused",w,Q)):g.push(o("object",w,Q,k[re]))}else!M(k)&&M(I)?g.push(o("object",w,O,k)):c(k)||!c(I)||N||j?p in T?D.validate(k,P)?"enumerated"===P.valType&&(P.coerceNumber&&k!==+I||k!==I)&&g.push(o("dynamic",w,O,k,I)):g.push(o("value",w,O,k)):g.push(o("unused",w,O,k)):g.push(o("array",w,O,k));else g.push(o("schema",w,O))}}return g}ae.exports=function(h,T){void 0===h&&(h=[]),void 0===T&&(T={});var _,g,w=f.get(),x=[],b={_context:D.extendFlat({},S)};v(h)?(b.data=D.extendDeep([],h),_=h):(b.data=[],_=[],x.push(o("array","data"))),M(T)?(b.layout=D.extendDeep({},T),g=T):(b.layout={},g={},arguments.length>1&&x.push(o("object","layout"))),E.supplyDefaults(b);for(var A=b._fullData,p=_.length,O=0;O<p;O++){var k=_[O],I=["data",O];if(M(k)){var P=A[O],R=P.type,N=w.traces[R].attributes;N.type={valType:"enumerated",values:[R]},!1===P.visible&&!1!==k.visible&&x.push(o("invisible",I)),i(k,P,N,x,I);var j=k.transforms,X=P.transforms;if(j){v(j)||x.push(o("array",I,["transforms"])),I.push("transforms");for(var F=0;F<j.length;F++){var Z=["transforms",F],W=j[F].type;if(M(j[F])){var H=w.transforms[W]?w.transforms[W].attributes:{};H.type={valType:"enumerated",values:Object.keys(w.transforms)},i(j[F],X[F],H,x,I,Z)}else x.push(o("object",I,Z))}}}else x.push(o("object",I))}return i(g,b._fullLayout,function(se,te){for(var re=se.layout.layoutAttributes,Q=0;Q<te.length;Q++){var ee=te[Q],oe=se.traces[ee.type],le=oe.layoutAttributes;le&&D.extendFlat(ee.subplot?re[oe.attributes.subplot.dflt]:re,le)}return re}(w,A),x,"layout"),0===x.length?void 0:x};var s={object:function(h,T){return("layout"===h&&""===T?"The layout argument":"data"===h[0]&&""===T?"Trace "+h[1]+" in the data argument":a(h)+"key "+T)+" must be linked to an object container"},array:function(h,T){return("data"===h?"The data argument":a(h)+"key "+T)+" must be linked to an array container"},schema:function(h,T){return a(h)+"key "+T+" is not part of the schema"},unused:function(h,T,_){var g=M(_)?"container":"key";return a(h)+g+" "+T+" did not get coerced"},dynamic:function(h,T,_,g){return[a(h)+"key",T,"(set to '"+_+"')","got reset to","'"+g+"'","during defaults."].join(" ")},invisible:function(h,T){return(T?a(h)+"item "+T:"Trace "+h[1])+" got defaulted to be not visible"},value:function(h,T,_){return[a(h)+"key "+T,"is set to an invalid value ("+_+")"].join(" ")}};function a(h){return v(h)?"In data trace "+h[1]+", ":"In "+h+", "}function o(h,T,_,g,w){var x,b;_=_||"",v(T)?(x=T[0],b=T[1]):(x=T,b=null);var A=function(O){if(!v(O))return String(O);for(var k="",I=0;I<O.length;I++){var P=O[I];"number"==typeof P?k=k.substr(0,k.length-1)+"["+P+"]":k+=P,I<O.length-1&&(k+=".")}return k}(_),p=s[h](T,A,g,w);return D.log(p),{code:h,container:x,trace:b,path:_,astr:A,msg:p}}function l(h,T){var _=m(T),g=_.keyMinusId;return!!(g in h&&h[g]._isSubplotObj&&_.id)||T in h}function u(h,T){return T in h?h[T]:h[m(T).keyMinusId]}var d=D.counterRegex("([a-z]+)");function m(h){var T=h.match(d);return{keyMinusId:T&&T[1],id:T&&T[2]}}},85594:function(ae){"use strict";ae.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(ae,B,r){"use strict";var D=r(71828),E=r(44467);ae.exports=function(f,S,M){var v,c,i=M.name,s=M.inclusionAttr||"visible",a=S[i],o=D.isArrayOrTypedArray(f[i])?f[i]:[],l=S[i]=[],u=E.arrayTemplater(S,i,s);for(v=0;v<o.length;v++){var d=o[v];D.isPlainObject(d)?c=u.newItem(d):(c=u.newItem({}))[s]=!1,c._index=v,!1!==c[s]&&M.handleItemDefaults(d,c,S,M),l.push(c)}var m=u.defaultItems();for(v=0;v<m.length;v++)(c=m[v])._index=l.length,M.handleItemDefaults({},c,S,M,{}),l.push(c);if(D.isArrayOrTypedArray(a)){var h=Math.min(a.length,l.length);for(v=0;v<h;v++)D.relinkPrivateKeys(l[v],a[v])}return l}},9012:function(ae,B,r){"use strict";var D=r(41940),E=r(77914);ae.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:D({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:E.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=E.dateTime2ms,S=E.incrementMonth,M=r(50606).ONEAVGMONTH;ae.exports=function(v,c,i,s){if("date"!==c.type)return{vals:s};var a=v[i+"periodalignment"];if(!a)return{vals:s};var o,l=v[i+"period"];if(D(l)){if((l=+l)<=0)return{vals:s}}else if("string"==typeof l&&"M"===l.charAt(0)){var u=+l.substring(1);if(!(u>0&&Math.round(u)===u))return{vals:s};o=u}for(var d=c.calendar,m="start"===a,h="end"===a,_=f(v[i+"period0"],d)||0,g=[],w=[],x=[],b=s.length,A=0;A<b;A++){var p,O,k,I=s[A];if(o){for(p=Math.round((I-_)/(o*M)),k=S(_,o*p,d);k>I;)k=S(k,-o,d);for(;k<=I;)k=S(k,o,d);O=S(k,-o,d)}else{for(k=_+(p=Math.round((I-_)/l))*l;k>I;)k-=l;for(;k<=I;)k+=l;O=k-l}g[A]=m?O:h?k:(O+k)/2,w[A]=O,x[A]=k}return{vals:g,starts:w,ends:x}}},89502:function(ae){"use strict";ae.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(71828),S=r(50606).FP_SAFE,M=r(73972),v=r(91424),c=r(41675),i=c.getFromId,s=c.isLinked;function a(A,p){var O,k,I=[],P=A._fullLayout,R=l(P,p,0),N=l(P,p,1),j=d(A,p),X=j.min,F=j.max;if(0===X.length||0===F.length)return f.simpleMap(p.range,p.r2l);var Z=X[0].val,W=F[0].val;for(O=1;O<X.length&&Z===W;O++)Z=Math.min(Z,X[O].val);for(O=1;O<F.length&&Z===W;O++)W=Math.max(W,F[O].val);var H=p.autorange,G="reversed"===H||"min reversed"===H||"max reversed"===H;if(!G&&p.range){var Y=f.simpleMap(p.range,p.r2l);G=Y[1]<Y[0]}"reversed"===p.autorange&&(p.autorange=!0);var se,te,re,Q,ee,oe,le=p.rangemode,ue="tozero"===le,de="nonnegative"===le,he=p._length,we=he/10,Ae=0;for(O=0;O<X.length;O++)for(se=X[O],k=0;k<F.length;k++)(oe=(te=F[k]).val-se.val-o(p,se.val,te.val))>0&&((ee=he-R(se)-N(te))>we?oe/ee>Ae&&(re=se,Q=te,Ae=oe/ee):oe/he>Ae&&(re={val:se.val,nopad:1},Q={val:te.val,nopad:1},Ae=oe/he));if(Z===W){var Te=Z-1,ve=Z+1;if(ue)if(0===Z)I=[0,1];else{var xe=(Z>0?F:X).reduce(function(Se,ke){return Math.max(Se,N(ke))},0),Fe=Z/(1-Math.min(.5,xe/he));I=Z>0?[0,Fe]:[Fe,0]}else I=de?[Math.max(0,Te),Math.max(1,ve)]:[Te,ve]}else ue?(re.val>=0&&(re={val:0,nopad:1}),Q.val<=0&&(Q={val:0,nopad:1})):de&&(re.val-Ae*R(re)<0&&(re={val:0,nopad:1}),Q.val<=0&&(Q={val:1,nopad:1})),Ae=(Q.val-re.val-o(p,se.val,te.val))/(he-R(re)-N(Q)),I=[re.val-Ae*R(re),Q.val+Ae*N(Q)];return I=b(I,p),p.limitRange&&p.limitRange(),G&&I.reverse(),f.simpleMap(I,p.l2r||Number)}function o(A,p,O){var k=0;if(A.rangebreaks)for(var I=A.locateBreaks(p,O),P=0;P<I.length;P++){var R=I[P];k+=R.max-R.min}return k}function l(A,p,O){var k=.05*p._length,I=p._anchorAxis||{};if(-1!==(p.ticklabelposition||"").indexOf("inside")||-1!==(I.ticklabelposition||"").indexOf("inside")){var P=p.isReversed();if(!P){var R=f.simpleMap(p.range,p.r2l);P=R[1]<R[0]}P&&(O=!O)}var N=0;return s(A,p._id)||(N=function(j,X,F){var Z=0,W="x"===X._id.charAt(0);for(var H in j._plots){var G=j._plots[H];if(X._id===G.xaxis._id||X._id===G.yaxis._id){var Y=(W?G.yaxis:G.xaxis)||{};if(-1!==(Y.ticklabelposition||"").indexOf("inside")&&(!F&&("left"===Y.side||"bottom"===Y.side)||F&&("top"===Y.side||"right"===Y.side))){if(Y._vals){var se=f.deg2rad(Y._tickAngles[Y._id+"tick"]||0),te=Math.abs(Math.cos(se)),re=Math.abs(Math.sin(se));Y._vals[0].bb||Y._selections[Y._id+"tick"].each(function(de){var he=D.select(this);he.select(".text-math-group").empty()&&(de.bb=v.bBox(he.node()))});for(var ee=0;ee<Y._vals.length;ee++){var oe=Y._vals[ee].bb;if(oe){var le=2*u+oe.width,ue=2*u+oe.height;Z=Math.max(Z,W?Math.max(le*te,ue*re):Math.max(ue*te,le*re))}}}"inside"===Y.ticks&&"inside"===Y.ticklabelposition&&(Z+=Y.ticklen||0)}}}return Z}(A,p,O)),k=Math.max(N,k),"domain"===p.constrain&&p._inputDomain&&(k*=(p._inputDomain[1]-p._inputDomain[0])/(p.domain[1]-p.domain[0])),function(j){return j.nopad?0:j.pad+(j.extrapad?k:N)}}ae.exports={applyAutorangeOptions:b,getAutoRange:a,makePadFn:l,doAutoRange:function(A,p,O){if(p.setScale(),p.autorange){p.range=O?O.slice():a(A,p),p._r=p.range.slice(),p._rl=f.simpleMap(p._r,p.r2l);var k=p._input,I={};I[p._attr+".range"]=p.range,I[p._attr+".autorange"]=p.autorange,M.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,I),k.range=p.range.slice(),k.autorange=p.autorange}var P=p._anchorAxis;if(P&&P.rangeslider){var R=P.rangeslider[p._name];R&&"auto"===R.rangemode&&(R.range=a(A,p)),P._input.rangeslider[p._name]=f.extendFlat({},R)}},findExtremes:function(A,p,O){O||(O={}),A._m||A.setScale();var k,I,P,R,N,j,X,F,Z,W=[],H=[],G=p.length,Y=O.padded||!1,se=O.tozero&&("linear"===A.type||"-"===A.type),te="log"===A.type,re=!1,Q=O.vpadLinearized||!1;function ee(Te){if(Array.isArray(Te))return re=!0,function(xe){return Math.max(Number(Te[xe]||0),0)};var ve=Math.max(Number(Te||0),0);return function(){return ve}}var oe=ee((A._m>0?O.ppadplus:O.ppadminus)||O.ppad||0),le=ee((A._m>0?O.ppadminus:O.ppadplus)||O.ppad||0),ue=ee(O.vpadplus||O.vpad),de=ee(O.vpadminus||O.vpad);if(!re){if(F=1/0,Z=-1/0,te)for(k=0;k<G;k++)(I=p[k])<F&&I>0&&(F=I),I>Z&&I<S&&(Z=I);else for(k=0;k<G;k++)(I=p[k])<F&&I>-S&&(F=I),I>Z&&I<S&&(Z=I);p=[F,Z],G=2}var he={tozero:se,extrapad:Y};function we(Te){E(P=p[Te])&&(j=oe(Te),X=le(Te),Q?(R=A.c2l(P)-de(Te),N=A.c2l(P)+ue(Te)):(F=P-de(Te),Z=P+ue(Te),te&&F<Z/10&&(F=Z/10),R=A.c2l(F),N=A.c2l(Z)),se&&(R=Math.min(0,R),N=Math.max(0,N)),_(R)&&m(W,R,X,he),_(N)&&h(H,N,j,he))}var Ae=Math.min(6,G);for(k=0;k<Ae;k++)we(k);for(k=G-1;k>=Ae;k--)we(k);return{min:W,max:H,opts:O}},concatExtremes:d};var u=3;function d(A,p,O){var k,I,P,R=p._id,j=A._fullLayout,X=[],F=[];function Z(se,te){for(k=0;k<te.length;k++){var re=se[te[k]],Q=(re._extremes||{})[R];if(!0===re.visible&&Q){for(I=0;I<Q.min.length;I++)m(X,(P=Q.min[I]).val,P.pad,{extrapad:P.extrapad});for(I=0;I<Q.max.length;I++)h(F,(P=Q.max[I]).val,P.pad,{extrapad:P.extrapad})}}}if(Z(A._fullData,p._traceIndices),Z(j.annotations||[],p._annIndices||[]),Z(j.shapes||[],p._shapeIndices||[]),p._matchGroup&&!O)for(var W in p._matchGroup)if(W!==p._id){var H=i(A,W),G=d(A,H,!0),Y=p._length/H._length;for(I=0;I<G.min.length;I++)m(X,(P=G.min[I]).val,P.pad*Y,{extrapad:P.extrapad});for(I=0;I<G.max.length;I++)h(F,(P=G.max[I]).val,P.pad*Y,{extrapad:P.extrapad})}return{min:X,max:F}}function m(A,p,O,k){T(A,p,O,k,g)}function h(A,p,O,k){T(A,p,O,k,w)}function T(A,p,O,k,I){for(var P=k.tozero,R=k.extrapad,N=!0,j=0;j<A.length&&N;j++){var X=A[j];if(I(X.val,p)&&X.pad>=O&&(X.extrapad||!R)){N=!1;break}I(p,X.val)&&X.pad<=O&&(R||!X.extrapad)&&(A.splice(j,1),j--)}if(N){var F=P&&0===p;A.push({val:p,pad:F?0:O,extrapad:!F&&R})}}function _(A){return E(A)&&Math.abs(A)<S}function g(A,p){return A<=p}function w(A,p){return A>=p}function x(A,p,O){return void 0===p||void 0===O||(p=A.d2l(p))<A.d2l(O)}function b(A,p){if(!p||!p.autorangeoptions)return A;var X,F,Z,O=A[0],k=A[1],I=p.autorangeoptions.include;if(void 0!==I){var P=p.d2l(O),R=p.d2l(k);f.isArrayOrTypedArray(I)||(I=[I]);for(var N=0;N<I.length;N++){var j=p.d2l(I[N]);P>=j&&(P=j,O=j),R<=j&&(R=j,k=j)}}return X=O,O=(Z=(F=p).autorangeoptions)&&void 0!==Z.minallowed&&x(F,Z.minallowed,Z.maxallowed)?Z.minallowed:Z&&void 0!==Z.clipmin&&x(F,Z.clipmin,Z.clipmax)?Math.max(X,F.d2l(Z.clipmin)):X,k=function(X,F){var Z=F.autorangeoptions;return Z&&void 0!==Z.maxallowed&&x(F,Z.minallowed,Z.maxallowed)?Z.maxallowed:Z&&void 0!==Z.clipmax&&x(F,Z.clipmin,Z.clipmax)?Math.min(X,F.d2l(Z.clipmax)):X}(k,p),[O,k]}},23074:function(ae){"use strict";ae.exports=function(B,r,D){var E,f;if(D){var S="reversed"===r||"min reversed"===r||"max reversed"===r;E=D[S?1:0],f=D[S?0:1]}var M=B("autorangeoptions.minallowed",null===f?E:void 0),v=B("autorangeoptions.maxallowed",null===E?f:void 0);void 0===M&&B("autorangeoptions.clipmin"),void 0===v&&B("autorangeoptions.clipmax"),B("autorangeoptions.include")}},89298:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(74875),S=r(73972),M=r(71828),v=M.strTranslate,c=r(63893),i=r(92998),s=r(7901),a=r(91424),o=r(13838),l=r(66287),u=r(50606),d=u.ONEMAXYEAR,m=u.ONEAVGYEAR,h=u.ONEMINYEAR,T=u.ONEMAXQUARTER,_=u.ONEAVGQUARTER,g=u.ONEMINQUARTER,w=u.ONEMAXMONTH,x=u.ONEAVGMONTH,b=u.ONEMINMONTH,A=u.ONEWEEK,p=u.ONEDAY,O=p/2,k=u.ONEHOUR,I=u.ONEMIN,P=u.ONESEC,R=u.MINUS_SIGN,N=u.BADNUM,j={K:"zeroline"},X={K:"gridline",L:"path"},F={K:"minor-gridline",L:"path"},Z={K:"tick",L:"path"},W={K:"tick",L:"text"},H={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},G=r(18783),Y=G.MID_SHIFT,se=G.CAP_SHIFT,te=G.LINE_SPACING,re=G.OPPOSITE_SIDE,Q=ae.exports={};Q.setConvert=r(21994);var ee=r(4322),oe=r(41675),le=oe.idSort,ue=oe.isLinked;Q.id2name=oe.id2name,Q.name2id=oe.name2id,Q.cleanId=oe.cleanId,Q.list=oe.list,Q.listIds=oe.listIds,Q.getFromId=oe.getFromId,Q.getFromTrace=oe.getFromTrace;var de=r(71739);Q.getAutoRange=de.getAutoRange,Q.findExtremes=de.findExtremes;var he=1e-4;function we(Ve){var qe=(Ve[1]-Ve[0])*he;return[Ve[0]-qe,Ve[1]+qe]}Q.coerceRef=function(Ve,qe,dt,ut,At,wt){var kt=ut.charAt(ut.length-1),_t=dt._fullLayout._subplots[kt+"axis"],Rt=ut+"ref",bt={};return At||(At=_t[0]||("string"==typeof wt?wt:wt[0])),wt||(wt=At),_t=_t.concat(_t.map(function(Tt){return Tt+" domain"})),bt[Rt]={valType:"enumerated",values:_t.concat(wt?"string"==typeof wt?[wt]:wt:[]),dflt:At},M.coerce(Ve,qe,bt,Rt)},Q.getRefType=function(Ve){return void 0===Ve?Ve:"paper"===Ve?"paper":"pixel"===Ve?"pixel":/( domain)$/.test(Ve)?"domain":"range"},Q.coercePosition=function(Ve,qe,dt,ut,At,wt){var kt,_t;if("range"!==Q.getRefType(ut))kt=M.ensureNumber,_t=dt(At,wt);else{var Rt=Q.getFromId(qe,ut);_t=dt(At,wt=Rt.fraction2r(wt)),kt=Rt.cleanPos}Ve[At]=kt(_t)},Q.cleanPosition=function(Ve,qe,dt){return("paper"===dt||"pixel"===dt?M.ensureNumber:Q.getFromId(qe,dt).cleanPos)(Ve)},Q.redrawComponents=function(Ve,qe){qe=qe||Q.listIds(Ve);var dt=Ve._fullLayout;function ut(At,wt,kt,_t){for(var Rt=S.getComponentMethod(At,wt),bt={},Tt=0;Tt<qe.length;Tt++)for(var Ot=dt[Q.id2name(qe[Tt])][kt],Wt=0;Wt<Ot.length;Wt++){var qt=Ot[Wt];if(!bt[qt]&&(Rt(Ve,qt),bt[qt]=1,_t))return}}ut("annotations","drawOne","_annIndices"),ut("shapes","drawOne","_shapeIndices"),ut("images","draw","_imgIndices",!0),ut("selections","drawOne","_selectionIndices")};var Ae=Q.getDataConversions=function(Ve,qe,dt,ut){var At,wt="x"===dt||"y"===dt||"z"===dt?dt:ut;if(Array.isArray(wt)){if(At={type:ee(ut,void 0,{autotypenumbers:Ve._fullLayout.autotypenumbers}),_categories:[]},Q.setConvert(At),"category"===At.type)for(var kt=0;kt<ut.length;kt++)At.d2c(ut[kt])}else At=Q.getFromTrace(Ve,qe,wt);return At?{d2c:At.d2c,c2d:At.c2d}:"ids"===wt?{d2c:ve,c2d:ve}:{d2c:Te,c2d:Te}};function Te(Ve){return+Ve}function ve(Ve){return String(Ve)}function xe(Ve,qe){return Math.abs((Ve/qe+.5)%1-.5)<.001}function Fe(Ve,qe){return Math.abs(Ve/qe-1)<.001}function Se(Ve){return+Ve.substring(1)}function ke(Ve,qe){return Ve.rangebreaks&&(qe=qe.filter(function(dt){return Ve.maskBreaks(dt.x)!==N})),qe}function pe(Ve){var qe=Ve._mainAxis,dt=[];if(qe._vals)for(var ut=0;ut<qe._vals.length;ut++)if(!qe._vals[ut].noTick){var At=qe.l2p(qe._vals[ut].x),wt=Ve.p2l(At),kt=Q.tickText(Ve,wt);qe._vals[ut].minor&&(kt.minor=!0,kt.text=""),dt.push(kt)}return ke(Ve,dt)}function fe(Ve){var qe=we(M.simpleMap(Ve.range,Ve.r2l)),dt=Math.min(qe[0],qe[1]),ut=Math.max(qe[0],qe[1]),At="category"===Ve.type?Ve.d2l_noadd:Ve.d2l;"log"===Ve.type&&"L"!==String(Ve.dtick).charAt(0)&&(Ve.dtick="L"+Math.pow(10,Math.floor(Math.min(Ve.range[0],Ve.range[1]))-1));for(var wt=[],kt=0;kt<=1;kt++)if(!kt||Ve.minor){var _t=kt?Ve.minor.tickvals:Ve.tickvals,Rt=kt?[]:Ve.ticktext;if(_t){Array.isArray(Rt)||(Rt=[]);for(var bt=0;bt<_t.length;bt++){var Tt=At(_t[bt]);if(Tt>dt&&Tt<ut){var Ot=void 0===Rt[bt]?Q.tickText(Ve,Tt):Be(Ve,Tt,String(Rt[bt]));kt&&(Ot.minor=!0,Ot.text=""),wt.push(Ot)}}}}return ke(Ve,wt)}Q.getDataToCoordFunc=function(Ve,qe,dt,ut){return Ae(Ve,qe,dt,ut).d2c},Q.counterLetter=function(Ve){var qe=Ve.charAt(0);return"x"===qe?"y":"y"===qe?"x":void 0},Q.minDtick=function(Ve,qe,dt,ut){-1===["log","category","multicategory"].indexOf(Ve.type)&&ut?void 0===Ve._minDtick?(Ve._minDtick=qe,Ve._forceTick0=dt):Ve._minDtick&&((Ve._minDtick/qe+1e-6)%1<2e-6&&((dt-Ve._forceTick0)/qe%1+1.000001)%1<2e-6?(Ve._minDtick=qe,Ve._forceTick0=dt):((qe/Ve._minDtick+1e-6)%1>2e-6||((dt-Ve._forceTick0)/Ve._minDtick%1+1.000001)%1>2e-6)&&(Ve._minDtick=0)):Ve._minDtick=0},Q.saveRangeInitial=function(Ve,qe){for(var dt=Q.list(Ve,"",!0),ut=!1,At=0;At<dt.length;At++){var wt=dt[At],kt=void 0===wt._rangeInitial0&&void 0===wt._rangeInitial1,Rt=wt.autorange;(kt&&!0!==Rt||qe&&(kt||wt.range[0]!==wt._rangeInitial0||wt.range[1]!==wt._rangeInitial1))&&(wt._rangeInitial0="min"===Rt||"max reversed"===Rt?void 0:wt.range[0],wt._rangeInitial1="max"===Rt||"min reversed"===Rt?void 0:wt.range[1],wt._autorangeInitial=Rt,ut=!0)}return ut},Q.saveShowSpikeInitial=function(Ve,qe){for(var dt=Q.list(Ve,"",!0),ut=!1,At="on",wt=0;wt<dt.length;wt++){var kt=dt[wt],_t=void 0===kt._showSpikeInitial;(_t||qe&&(_t||kt.showspikes!==kt._showspikes))&&(kt._showSpikeInitial=kt.showspikes,ut=!0),"on"!==At||kt.showspikes||(At="off")}return Ve._fullLayout._cartesianSpikesEnabled=At,ut},Q.autoBin=function(Ve,qe,dt,ut,At,wt){var kt,_t=M.aggNums(Math.min,null,Ve),Rt=M.aggNums(Math.max,null,Ve);if("category"===qe.type||"multicategory"===qe.type)return{start:_t-.5,end:Rt+.5,size:Math.max(1,Math.round(wt)||1),_dataSpan:Rt-_t};if(At||(At=qe.calendar),kt="log"===qe.type?{type:"linear",range:[_t,Rt]}:{type:qe.type,range:M.simpleMap([_t,Rt],qe.c2r,0,At),calendar:At},Q.setConvert(kt),wt=wt&&l.dtick(wt,kt.type))kt.dtick=wt,kt.tick0=l.tick0(void 0,kt.type,At);else{var bt;if(dt)bt=(Rt-_t)/dt;else{var Tt=M.distinctVals(Ve),Ot=Math.pow(10,Math.floor(Math.log(Tt.minDiff)/Math.LN10)),Wt=Ot*M.roundUp(Tt.minDiff/Ot,[.9,1.9,4.9,9.9],!0);bt=Math.max(Wt,2*M.stdev(Ve)/Math.pow(Ve.length,ut?.25:.4)),E(bt)||(bt=1)}Q.autoTicks(kt,bt)}var qt,Jt=kt.dtick,pn=Q.tickIncrement(Q.tickFirst(kt),Jt,"reverse",At);if("number"==typeof Jt)qt=(pn=function(en,nn,dn,In,Hn){var An=0,on=0,yn=0,ln=0;function wn(qn){return(1+100*(qn-en)/dn.dtick)%100<2}for(var Cn=0;Cn<nn.length;Cn++)nn[Cn]%1==0?yn++:E(nn[Cn])||ln++,wn(nn[Cn])&&An++,wn(nn[Cn]+dn.dtick/2)&&on++;var Ln=nn.length-ln;if(yn===Ln&&"date"!==dn.type)dn.dtick<1?en=In-.5*dn.dtick:(en-=.5)+dn.dtick<In&&(en+=dn.dtick);else if(on<.1*Ln&&(An>.3*Ln||wn(In)||wn(Hn))){var Sn=dn.dtick/2;en+=en+Sn<In?Sn:-Sn}return en}(pn,Ve,kt,_t,Rt))+(1+Math.floor((Rt-pn)/Jt))*Jt;else for("M"===kt.dtick.charAt(0)&&(pn=function(en,nn,dn,In,Hn){var An=M.findExactDates(nn,Hn);if(An.exactDays>.8){var on=Number(dn.substr(1));An.exactYears>.8&&on%12==0?en=Q.tickIncrement(en,"M6","reverse")+1.5*p:An.exactMonths>.8?en=Q.tickIncrement(en,"M1","reverse")+15.5*p:en-=O;var yn=Q.tickIncrement(en,dn);if(yn<=In)return yn}return en}(pn,Ve,Jt,_t,At)),qt=pn;qt<=Rt;)qt=Q.tickIncrement(qt,Jt,!1,At);return{start:qe.c2r(pn,0,At),end:qe.c2r(qt,0,At),size:Jt,_dataSpan:Rt-_t}},Q.prepMinorTicks=function(Ve,qe,dt){if(!qe.minor.dtick){delete Ve.dtick;var ut,At=qe.dtick&&E(qe._tmin);if(At){var wt=Q.tickIncrement(qe._tmin,qe.dtick,!0);ut=[qe._tmin,.99*wt+.01*qe._tmin]}else{var kt=M.simpleMap(qe.range,qe.r2l);ut=[kt[0],.8*kt[0]+.2*kt[1]]}if(Ve.range=M.simpleMap(ut,qe.l2r),Ve._isMinor=!0,Q.prepTicks(Ve,dt),At){var _t=E(qe.dtick),Rt=E(Ve.dtick),bt=_t?qe.dtick:+qe.dtick.substring(1),Tt=Rt?Ve.dtick:+Ve.dtick.substring(1);_t&&Rt?xe(bt,Tt)?bt===2*A&&Tt===2*p&&(Ve.dtick=A):Ve.dtick=bt===2*A&&Tt===3*p?A:bt!==A||(qe._input.minor||{}).nticks?Fe(bt/Tt,2.5)?bt/2:bt:p:"M"===String(qe.dtick).charAt(0)?Rt?Ve.dtick="M1":xe(bt,Tt)?bt>=12&&2===Tt&&(Ve.dtick="M3"):Ve.dtick=qe.dtick:"L"===String(Ve.dtick).charAt(0)?"L"===String(qe.dtick).charAt(0)?xe(bt,Tt)||(Ve.dtick=Fe(bt/Tt,2.5)?qe.dtick/2:qe.dtick):Ve.dtick="D1":"D2"===Ve.dtick&&+qe.dtick>1&&(Ve.dtick=1)}Ve.range=qe.range}void 0===qe.minor._tick0Init&&(Ve.tick0=qe.tick0)},Q.prepTicks=function(Ve,qe){var dt=M.simpleMap(Ve.range,Ve.r2l,void 0,void 0,qe);if("auto"===Ve.tickmode||!Ve.dtick){var ut,At=Ve.nticks;At||("category"===Ve.type||"multicategory"===Ve.type?(ut=Ve.tickfont?M.bigFont(Ve.tickfont.size||12):15,At=Ve._length/ut):(ut="y"===Ve._id.charAt(0)?40:80,At=M.constrain(Ve._length/ut,4,9)+1),"radialaxis"===Ve._name&&(At*=2)),Ve.minor&&"array"!==Ve.minor.tickmode||"array"===Ve.tickmode&&(At*=100),Ve._roughDTick=Math.abs(dt[1]-dt[0])/At,Q.autoTicks(Ve,Ve._roughDTick),Ve._minDtick>0&&Ve.dtick<2*Ve._minDtick&&(Ve.dtick=Ve._minDtick,Ve.tick0=Ve.l2r(Ve._forceTick0))}"period"===Ve.ticklabelmode&&function(wt){var kt;function _t(){return!(E(wt.dtick)||"M"!==wt.dtick.charAt(0))}var Rt=_t(),bt=Q.getTickFormat(wt);if(bt){var Tt=wt._dtickInit!==wt.dtick;/%[fLQsSMX]/.test(bt)||(/%[HI]/.test(bt)?(kt=k,Tt&&!Rt&&wt.dtick<k&&(wt.dtick=k)):/%p/.test(bt)?(kt=O,Tt&&!Rt&&wt.dtick<O&&(wt.dtick=O)):/%[Aadejuwx]/.test(bt)?(kt=p,Tt&&!Rt&&wt.dtick<p&&(wt.dtick=p)):/%[UVW]/.test(bt)?(kt=A,Tt&&!Rt&&wt.dtick<A&&(wt.dtick=A)):/%[Bbm]/.test(bt)?(kt=x,Tt&&(Rt?Se(wt.dtick)<1:wt.dtick<b)&&(wt.dtick="M1")):/%[q]/.test(bt)?(kt=_,Tt&&(Rt?Se(wt.dtick)<3:wt.dtick<g)&&(wt.dtick="M3")):/%[Yy]/.test(bt)&&(kt=m,Tt&&(Rt?Se(wt.dtick)<12:wt.dtick<h)&&(wt.dtick="M12")))}(Rt=_t())&&wt.tick0===wt._dowTick0&&(wt.tick0=wt._rawTick0),wt._definedDelta=kt}(Ve),Ve.tick0||(Ve.tick0="date"===Ve.type?"2000-01-01":0),"date"===Ve.type&&Ve.dtick<.1&&(Ve.dtick=.1),Ee(Ve)},Q.calcTicks=function(Ve,qe){for(var dt,ut,At=Ve.type,wt=Ve.calendar,kt=Ve.ticklabelstep,_t="period"===Ve.ticklabelmode,Rt=M.simpleMap(Ve.range,Ve.r2l,void 0,void 0,qe),bt=Rt[1]<Rt[0],Tt=Math.min(Rt[0],Rt[1]),Ot=Math.max(Rt[0],Rt[1]),Wt=Math.max(1e3,Ve._length||0),qt=[],Jt=[],pn=[],en=[],nn=Ve.minor&&(Ve.minor.ticks||Ve.minor.showgrid),dn=1;dn>=(nn?0:1);dn--){var In=!dn;dn?(Ve._dtickInit=Ve.dtick,Ve._tick0Init=Ve.tick0):(Ve.minor._dtickInit=Ve.minor.dtick,Ve.minor._tick0Init=Ve.minor.tick0);var Hn=dn?Ve:M.extendFlat({},Ve,Ve.minor);if(In?Q.prepMinorTicks(Hn,Ve,qe):Q.prepTicks(Hn,qe),"array"!==Hn.tickmode)if("sync"!==Hn.tickmode){var An=we(Rt),on=An[0],yn=An[1],ln=E(Hn.dtick),wn="log"===At&&!(ln||"L"===Hn.dtick.charAt(0)),Cn=Q.tickFirst(Hn,qe);if(dn){if(Ve._tmin=Cn,Cn<on!==bt)break;"category"!==At&&"multicategory"!==At||(yn=bt?Math.max(-.5,yn):Math.min(Ve._categories.length-.5,yn))}var Ln,Sn,qn=null,kn=Cn;dn&&(ln?Sn=Ve.dtick:"date"===At?"string"==typeof Ve.dtick&&"M"===Ve.dtick.charAt(0)&&(Sn=x*Ve.dtick.substring(1)):Sn=Ve._roughDTick,Ln=Math.round((Ve.r2l(kn)-Ve.r2l(Ve.tick0))/Sn)-1);var Zn=Hn.dtick;for(Hn.rangebreaks&&Hn._tick0Init!==Hn.tick0&&(kn=Ke(kn,Ve),bt||(kn=Q.tickIncrement(kn,Zn,!bt,wt))),dn&&_t&&(kn=Q.tickIncrement(kn,Zn,!bt,wt),Ln--);bt?kn>=yn:kn<=yn;kn=Q.tickIncrement(kn,Zn,bt,wt)){if(dn&&Ln++,Hn.rangebreaks&&!bt){if(kn<on)continue;if(Hn.maskBreaks(kn)===N&&Ke(kn,Hn)>=Ot)break}if(pn.length>Wt||kn===qn)break;qn=kn;var fr={value:kn};dn?(wn&&kn!==(0|kn)&&(fr.simpleLabel=!0),kt>1&&Ln%kt&&(fr.skipLabel=!0),pn.push(fr)):(fr.minor=!0,en.push(fr))}}else pn=[],qt=pe(Ve);else dn?(pn=[],qt=fe(Ve)):(en=[],Jt=fe(Ve))}if(nn&&!("inside"===Ve.minor.ticks&&"outside"===Ve.ticks||"outside"===Ve.minor.ticks&&"inside"===Ve.ticks)){for(var er=pn.map(function(Nt){return Nt.value}),nr=[],mr=0;mr<en.length;mr++){var dr=en[mr],Ir=dr.value;if(-1===er.indexOf(Ir)){for(var Yt=!1,$t=0;!Yt&&$t<pn.length;$t++)1e7+pn[$t].value===1e7+Ir&&(Yt=!0);Yt||nr.push(dr)}}en=nr}if(_t&&function(Nt,an,cn){for(var Pn=0;Pn<Nt.length;Pn++){var Nn=Nt[Pn].value,Gn=Pn,Tn=Pn+1;Pn<Nt.length-1?(Gn=Pn,Tn=Pn+1):Pn>0?(Gn=Pn-1,Tn=Pn):(Gn=Pn,Tn=Pn);var un,Mn=Math.abs(Nt[Tn].value-Nt[Gn].value),Un=cn||Mn,Vn=0;Un>=h?Vn=Mn>=h&&Mn<=d?Mn:m:cn===_&&Un>=g?Vn=Mn>=g&&Mn<=T?Mn:_:Un>=b?Vn=Mn>=b&&Mn<=w?Mn:x:cn===A&&Un>=A?Vn=A:Un>=p?Vn=p:cn===O&&Un>=O?Vn=O:cn===k&&Un>=k&&(Vn=k),Vn>=Mn&&(Vn=Mn,un=!0);var sr=Nn+Vn;if(an.rangebreaks&&Vn>0){for(var rr=0,_r=0;_r<84;_r++){var Rn=(_r+.5)/84;an.maskBreaks(Nn*(1-Rn)+Rn*sr)!==N&&rr++}(Vn*=rr/84)||(Nt[Pn].drop=!0),un&&Mn>A&&(Vn=Mn)}(Vn>0||0===Pn)&&(Nt[Pn].periodX=Nn+Vn/2)}}(pn,Ve,Ve._definedDelta),Ve.rangebreaks){var xn="y"===Ve._id.charAt(0),vn=1;"auto"===Ve.tickmode&&(vn=Ve.tickfont?Ve.tickfont.size:12);var Dn=NaN;for(dt=pn.length-1;dt>-1;dt--)if(pn[dt].drop)pn.splice(dt,1);else{pn[dt].value=Ke(pn[dt].value,Ve);var or=Ve.c2p(pn[dt].value);(xn?Dn>or-vn:Dn<or+vn)?pn.splice(bt?dt+1:dt,1):Dn=or}}rt(Ve)&&360===Math.abs(Rt[1]-Rt[0])&&pn.pop(),Ve._tmax=(pn[pn.length-1]||{}).value,Ve._prevDateHead="",Ve._inCalcTicks=!0;var Yn,Qn,gr=function(Nt){Nt.text="",Ve._prevDateHead=ut};for(pn=pn.concat(en),dt=0;dt<pn.length;dt++){var Fn=pn[dt].value;pn[dt].minor?Jt.push({x:Fn,minor:!0}):(ut=Ve._prevDateHead,Yn=Q.tickText(Ve,Fn,!1,pn[dt].simpleLabel),void 0!==(Qn=pn[dt].periodX)&&(Yn.periodX=Qn,(Qn>Ot||Qn<Tt)&&(Qn>Ot&&(Yn.periodX=Ot),Qn<Tt&&(Yn.periodX=Tt),gr(Yn))),pn[dt].skipLabel&&gr(Yn),qt.push(Yn))}return qt=qt.concat(Jt),Ve._inCalcTicks=!1,_t&&qt.length&&(qt[0].noTick=!0),qt};var be=[2,5,10],Le=[1,2,3,6,12],Oe=[1,2,5,10,15,30],De=[1,2,3,7,14],Ue=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Ge=[-.301,0,.301,.699,1],ye=[15,30,45,90,180];function Ie(Ve,qe,dt){return qe*M.roundUp(Ve/qe,dt)}function Ee(Ve){var qe=Ve.dtick;if(Ve._tickexponent=0,E(qe)||"string"==typeof qe||(qe=1),"category"!==Ve.type&&"multicategory"!==Ve.type||(Ve._tickround=null),"date"===Ve.type){var dt=Ve.r2l(Ve.tick0),ut=Ve.l2r(dt).replace(/(^-|i)/g,""),At=ut.length;if("M"===String(qe).charAt(0))Ve._tickround=At>10||"01-01"!==ut.substr(5)?"d":+qe.substr(1)%12==0?"y":"m";else if(qe>=p&&At<=10||qe>=15*p)Ve._tickround="d";else if(qe>=I&&At<=16||qe>=k)Ve._tickround="M";else if(qe>=P&&At<=19||qe>=I)Ve._tickround="S";else{var wt=Ve.l2r(dt+qe).replace(/^-/,"").length;Ve._tickround=Math.max(At,wt)-20,Ve._tickround<0&&(Ve._tickround=4)}}else if(E(qe)||"L"===qe.charAt(0)){var kt=Ve.range.map(Ve.r2d||Number);E(qe)||(qe=Number(qe.substr(1))),Ve._tickround=2-Math.floor(Math.log(qe)/Math.LN10+.01);var _t=Math.max(Math.abs(kt[0]),Math.abs(kt[1])),Rt=Math.floor(Math.log(_t)/Math.LN10+.01),bt=void 0===Ve.minexponent?3:Ve.minexponent;Math.abs(Rt)>bt&&(Ve._tickexponent=He(Ve.exponentformat)&&!Je(Rt)?3*Math.round((Rt-1)/3):Rt)}else Ve._tickround=null}function Be(Ve,qe,dt){var ut=Ve.tickfont||{};return{x:qe,dx:0,dy:0,text:dt||"",fontSize:ut.size,font:ut.family,fontColor:ut.color}}Q.autoTicks=function(Ve,qe,dt){var ut;function At(Ot){return Math.pow(Ot,Math.floor(Math.log(qe)/Math.LN10))}if("date"===Ve.type){Ve.tick0=M.dateTick0(Ve.calendar,0);var wt=2*qe;if(wt>m)qe/=m,ut=At(10),Ve.dtick="M"+12*Ie(qe,ut,be);else if(wt>x)Ve.dtick="M"+Ie(qe/=x,1,Le);else if(wt>p){if(Ve.dtick=Ie(qe,p,Ve._hasDayOfWeekBreaks?[1,2,7,14]:De),!dt){var kt=Q.getTickFormat(Ve),_t="period"===Ve.ticklabelmode;_t&&(Ve._rawTick0=Ve.tick0),Ve.tick0=/%[uVW]/.test(kt)?M.dateTick0(Ve.calendar,2):M.dateTick0(Ve.calendar,1),_t&&(Ve._dowTick0=Ve.tick0)}}else wt>k?Ve.dtick=Ie(qe,k,Le):wt>I?Ve.dtick=Ie(qe,I,Oe):wt>P?Ve.dtick=Ie(qe,P,Oe):(ut=At(10),Ve.dtick=Ie(qe,ut,be))}else if("log"===Ve.type){Ve.tick0=0;var Rt=M.simpleMap(Ve.range,Ve.r2l);if(Ve._isMinor&&(qe*=1.5),qe>.7)Ve.dtick=Math.ceil(qe);else if(Math.abs(Rt[1]-Rt[0])<1){var bt=1.5*Math.abs((Rt[1]-Rt[0])/qe);qe=Math.abs(Math.pow(10,Rt[1])-Math.pow(10,Rt[0]))/bt,ut=At(10),Ve.dtick="L"+Ie(qe,ut,be)}else Ve.dtick=qe>.3?"D2":"D1"}else"category"===Ve.type||"multicategory"===Ve.type?(Ve.tick0=0,Ve.dtick=Math.ceil(Math.max(qe,1))):rt(Ve)?(Ve.tick0=0,Ve.dtick=Ie(qe,ut=1,ye)):(Ve.tick0=0,ut=At(10),Ve.dtick=Ie(qe,ut,be));if(0===Ve.dtick&&(Ve.dtick=1),!E(Ve.dtick)&&"string"!=typeof Ve.dtick){var Tt=Ve.dtick;throw Ve.dtick=1,"ax.dtick error: "+String(Tt)}},Q.tickIncrement=function(Ve,qe,dt,ut){var At=dt?-1:1;if(E(qe))return M.increment(Ve,At*qe);var wt=qe.charAt(0),kt=At*Number(qe.substr(1));if("M"===wt)return M.incrementMonth(Ve,kt,ut);if("L"===wt)return Math.log(Math.pow(10,Ve)+kt)/Math.LN10;if("D"===wt){var _t="D2"===qe?Ge:Ue,Rt=Ve+.01*At,bt=M.roundUp(M.mod(Rt,1),_t,dt);return Math.floor(Rt)+Math.log(D.round(Math.pow(10,bt),1))/Math.LN10}throw"unrecognized dtick "+String(qe)},Q.tickFirst=function(Ve,qe){var dt=Ve.r2l||Number,ut=M.simpleMap(Ve.range,dt,void 0,void 0,qe),At=ut[1]<ut[0],wt=At?Math.floor:Math.ceil,kt=we(ut)[0],_t=Ve.dtick,Rt=dt(Ve.tick0);if(E(_t)){var bt=wt((kt-Rt)/_t)*_t+Rt;return"category"!==Ve.type&&"multicategory"!==Ve.type||(bt=M.constrain(bt,0,Ve._categories.length-1)),bt}var Tt=_t.charAt(0),Ot=Number(_t.substr(1));if("M"===Tt){for(var Wt,qt,Jt,pn=0,en=Rt;pn<10;){if(((Wt=Q.tickIncrement(en,_t,At,Ve.calendar))-kt)*(en-kt)<=0)return At?Math.min(en,Wt):Math.max(en,Wt);qt=(kt-(en+Wt)/2)/(Wt-en),Jt=Tt+(Math.abs(Math.round(qt))||1)*Ot,en=Q.tickIncrement(en,Jt,qt<0?!At:At,Ve.calendar),pn++}return M.error("tickFirst did not converge",Ve),en}if("L"===Tt)return Math.log(wt((Math.pow(10,kt)-Rt)/Ot)*Ot+Rt)/Math.LN10;if("D"===Tt){var nn="D2"===_t?Ge:Ue,dn=M.roundUp(M.mod(kt,1),nn,At);return Math.floor(kt)+Math.log(D.round(Math.pow(10,dn),1))/Math.LN10}throw"unrecognized dtick "+String(_t)},Q.tickText=function(Ve,qe,dt,ut){var At,wt=Be(Ve,qe),kt="array"===Ve.tickmode,_t=dt||kt,Rt=Ve.type,bt="category"===Rt?Ve.d2l_noadd:Ve.d2l;if(kt&&Array.isArray(Ve.ticktext)){var Tt=M.simpleMap(Ve.range,Ve.r2l),Ot=(Math.abs(Tt[1]-Tt[0])-(Ve._lBreaks||0))/1e4;for(At=0;At<Ve.ticktext.length&&!(Math.abs(qe-bt(Ve.tickvals[At]))<Ot);At++);if(At<Ve.ticktext.length)return wt.text=String(Ve.ticktext[At]),wt}function Wt(en){return void 0===en||(dt?"none"===en:"all"!==en&&qe!=={first:Ve._tmin,last:Ve._tmax}[en])}var nn,dn,qt=dt?"never":"none"!==Ve.exponentformat&&Wt(Ve.showexponent)?"hide":"";if("date"===Rt?function(en,nn,dn,In){var Hn=en._tickround,An=dn&&en.hoverformat||Q.getTickFormat(en);(In=!An&&In)&&(Hn=E(Hn)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Hn]);var on,yn=M.formatDate(nn.x,An,Hn,en._dateFormat,en.calendar,en._extraFormat),ln=yn.indexOf("\n");if(-1!==ln&&(on=yn.substr(ln+1),yn=yn.substr(0,ln)),In&&(void 0===on||"00:00:00"!==yn&&"00:00"!==yn?8===yn.length&&(yn=yn.replace(/:00$/,"")):(yn=on,on="")),on)if(dn)"d"===Hn?yn+=", "+on:yn=on+(yn?", "+yn:"");else if(en._inCalcTicks&&en._prevDateHead===on){var wn=it(en),Cn=en._trueSide||en.side;(!wn&&"top"===Cn||wn&&"bottom"===Cn)&&(yn+="<br> ")}else en._prevDateHead=on,yn+="<br>"+on;nn.text=yn}(Ve,wt,dt,_t):"log"===Rt?function(en,nn,dn,In,Hn){var An=en.dtick,on=nn.x,yn=en.tickformat,ln="string"==typeof An&&An.charAt(0);if("never"===Hn&&(Hn=""),In&&"L"!==ln&&(An="L3",ln="L"),yn||"L"===ln)nn.text=et(Math.pow(10,on),en,Hn,In);else if(E(An)||"D"===ln&&M.mod(on+.01,1)<.1){var wn=Math.round(on),Cn=Math.abs(wn),Ln=en.exponentformat;"power"===Ln||He(Ln)&&Je(wn)?(nn.text=0===wn?1:1===wn?"10":"10<sup>"+(wn>1?"":R)+Cn+"</sup>",nn.fontSize*=1.25):("e"===Ln||"E"===Ln)&&Cn>2?nn.text="1"+Ln+(wn>0?"+":R)+Cn:(nn.text=et(Math.pow(10,on),en,"","fakehover"),"D1"===An&&"y"===en._id.charAt(0)&&(nn.dy-=nn.fontSize/6))}else{if("D"!==ln)throw"unrecognized dtick "+String(An);nn.text=String(Math.round(Math.pow(10,M.mod(on,1)))),nn.fontSize*=.75}if("D1"===en.dtick){var Sn=String(nn.text).charAt(0);"0"!==Sn&&"1"!==Sn||("y"===en._id.charAt(0)?nn.dx-=nn.fontSize/4:(nn.dy+=nn.fontSize/2,nn.dx+=(en.range[1]>en.range[0]?1:-1)*nn.fontSize*(on<0?.5:.25)))}}(Ve,wt,0,_t,qt):"category"===Rt?(nn=wt,void 0===(dn=Ve._categories[Math.round(nn.x)])&&(dn=""),nn.text=String(dn)):"multicategory"===Rt?function(en,nn,dn){var In=Math.round(nn.x),Hn=en._categories[In]||[],An=void 0===Hn[1]?"":String(Hn[1]),on=void 0===Hn[0]?"":String(Hn[0]);dn?nn.text=on+" - "+An:(nn.text=An,nn.text2=on)}(Ve,wt,dt):rt(Ve)?function(en,nn,dn,In,Hn){if("radians"!==en.thetaunit||dn)nn.text=et(nn.x,en,Hn,In);else{var An=nn.x/180;if(0===An)nn.text="0";else{var on=function(ln){function wn(qn,kn){return Math.abs(qn-kn)<=1e-6}var Cn=function(qn){for(var kn=1;!wn(Math.round(qn*kn)/kn,qn);)kn*=10;return kn}(ln),Ln=ln*Cn,Sn=Math.abs(function qn(kn,Zn){return wn(Zn,0)?kn:qn(Zn,kn%Zn)}(Ln,Cn));return[Math.round(Ln/Sn),Math.round(Cn/Sn)]}(An);if(on[1]>=100)nn.text=et(M.deg2rad(nn.x),en,Hn,In);else{var yn=nn.x<0;nn.text=1===on[1]?1===on[0]?"\u03c0":on[0]+"\u03c0":["<sup>",on[0],"</sup>","\u2044","<sub>",on[1],"</sub>","\u03c0"].join(""),yn&&(nn.text=R+nn.text)}}}}(Ve,wt,dt,_t,qt):function(en,nn,dn,In,Hn){"never"===Hn?Hn="":"all"===en.showexponent&&Math.abs(nn.x/en.dtick)<1e-6&&(Hn="hide"),nn.text=et(nn.x,en,Hn,In)}(Ve,wt,0,_t,qt),ut||(Ve.tickprefix&&!Wt(Ve.showtickprefix)&&(wt.text=Ve.tickprefix+wt.text),Ve.ticksuffix&&!Wt(Ve.showticksuffix)&&(wt.text+=Ve.ticksuffix)),Ve.labelalias&&Ve.labelalias.hasOwnProperty(wt.text)){var Jt=Ve.labelalias[wt.text];"string"==typeof Jt&&(wt.text=Jt)}if("boundaries"===Ve.tickson||Ve.showdividers){var pn=function(en){var nn=Ve.l2p(en);return nn>=0&&nn<=Ve._length?en:null};wt.xbnd=[pn(wt.x-.5),pn(wt.x+Ve.dtick-.5)]}return wt},Q.hoverLabelText=function(Ve,qe,dt){dt&&(Ve=M.extendFlat({},Ve,{hoverformat:dt}));var ut=Array.isArray(qe)?qe[0]:qe,At=Array.isArray(qe)?qe[1]:void 0;if(void 0!==At&&At!==ut)return Q.hoverLabelText(Ve,ut,dt)+" - "+Q.hoverLabelText(Ve,At,dt);var wt="log"===Ve.type&&ut<=0,kt=Q.tickText(Ve,Ve.c2l(wt?-ut:ut),"hover").text;return wt?0===ut?"0":R+kt:kt};var We=["f","p","n","\u03bc","m","","k","M","G","T"];function He(Ve){return"SI"===Ve||"B"===Ve}function Je(Ve){return Ve>14||Ve<-15}function et(Ve,qe,dt,ut){var At=Ve<0,wt=qe._tickround,kt=dt||qe.exponentformat||"B",_t=qe._tickexponent,Rt=Q.getTickFormat(qe),bt=qe.separatethousands;if(ut){var Tt={exponentformat:kt,minexponent:qe.minexponent,dtick:"none"===qe.showexponent?qe.dtick:E(Ve)&&Math.abs(Ve)||1,range:"none"===qe.showexponent?qe.range.map(qe.r2d):[0,Ve||1]};Ee(Tt),wt=(Number(Tt._tickround)||0)+4,_t=Tt._tickexponent,qe.hoverformat&&(Rt=qe.hoverformat)}if(Rt)return qe._numFormat(Rt)(Ve).replace(/-/g,R);var Ot,Wt=Math.pow(10,-wt)/2;if("none"===kt&&(_t=0),(Ve=Math.abs(Ve))<Wt)Ve="0",At=!1;else{if(Ve+=Wt,_t&&(Ve*=Math.pow(10,-_t),wt+=_t),0===wt)Ve=String(Math.floor(Ve));else if(wt<0){Ve=(Ve=String(Math.round(Ve))).substr(0,Ve.length+wt);for(var qt=wt;qt<0;qt++)Ve+="0"}else{var Jt=(Ve=String(Ve)).indexOf(".")+1;Jt&&(Ve=Ve.substr(0,Jt+wt).replace(/\.?0+$/,""))}Ve=M.numSeparate(Ve,qe._separators,bt)}return _t&&"hide"!==kt&&(He(kt)&&Je(_t)&&(kt="power"),Ot=_t<0?R+-_t:"power"!==kt?"+"+_t:String(_t),"e"===kt||"E"===kt?Ve+=kt+Ot:"power"===kt?Ve+="\xd710<sup>"+Ot+"</sup>":"B"===kt&&9===_t?Ve+="B":He(kt)&&(Ve+=We[_t/3+5])),At?R+Ve:Ve}function at(Ve,qe){if(Ve){var dt=Object.keys(H).reduce(function(ut,At){return-1!==qe.indexOf(At)&&H[At].forEach(function(wt){ut[wt]=1}),ut},{});Object.keys(Ve).forEach(function(ut){dt[ut]||(1===ut.length?Ve[ut]=0:delete Ve[ut])})}}function mt(Ve,qe){for(var dt=[],ut={},At=0;At<qe.length;At++){var wt=qe[At];ut[wt.text2]?ut[wt.text2].push(wt.x):ut[wt.text2]=[wt.x]}for(var kt in ut)dt.push(Be(Ve,M.interp(ut[kt],.5),kt));return dt}function ct(Ve){return void 0!==Ve.periodX?Ve.periodX:Ve.x}function St(Ve){return[Ve.text,Ve.x,Ve.axInfo,Ve.font,Ve.fontSize,Ve.fontColor].join("_")}function Dt(Ve){var qe=Ve.title.font.size,dt=(Ve.title.text.match(c.BR_TAG_ALL)||[]).length;return Ve.title.hasOwnProperty("standoff")?dt?qe*(se+dt*te):qe*se:dt?qe*(dt+1)*te:qe}function Et(Ve,qe){var dt=Ve.l2p(qe);return dt>1&&dt<Ve._length-1}function ht(Ve){var qe=D.select(Ve),dt=qe.select(".text-math-group");return dt.empty()?qe.select("text"):dt}function pt(Ve){return Ve._id+".automargin"}function Pt(Ve){return pt(Ve)+".mirror"}function Ft(Ve){return Ve._id+".rangeslider"}function Ht(Ve,qe){for(var dt=0;dt<qe.length;dt++)-1===Ve.indexOf(qe[dt])&&Ve.push(qe[dt])}function Lt(Ve,qe,dt){var ut,At,wt=[],kt=[],_t=Ve.layout;for(ut=0;ut<qe.length;ut++)wt.push(Q.getFromId(Ve,qe[ut]));for(ut=0;ut<dt.length;ut++)kt.push(Q.getFromId(Ve,dt[ut]));var Rt=Object.keys(o),bt=["anchor","domain","overlaying","position","side","tickangle","editType"],Tt=["linear","log"];for(ut=0;ut<Rt.length;ut++){var Ot=Rt[ut],Wt=wt[0][Ot],qt=kt[0][Ot],Jt=!0,pn=!1,en=!1;if("_"!==Ot.charAt(0)&&"function"!=typeof Wt&&-1===bt.indexOf(Ot)){for(At=1;At<wt.length&&Jt;At++){var nn=wt[At][Ot];"type"===Ot&&-1!==Tt.indexOf(Wt)&&-1!==Tt.indexOf(nn)&&Wt!==nn?pn=!0:nn!==Wt&&(Jt=!1)}for(At=1;At<kt.length&&Jt;At++){var dn=kt[At][Ot];"type"===Ot&&-1!==Tt.indexOf(qt)&&-1!==Tt.indexOf(dn)&&qt!==dn?en=!0:kt[At][Ot]!==qt&&(Jt=!1)}Jt&&(pn&&(_t[wt[0]._name].type="linear"),en&&(_t[kt[0]._name].type="linear"),tt(_t,Ot,wt,kt,Ve._fullLayout._dfltTitle))}}for(ut=0;ut<Ve._fullLayout.annotations.length;ut++){var In=Ve._fullLayout.annotations[ut];-1!==qe.indexOf(In.xref)&&-1!==dt.indexOf(In.yref)&&M.swapAttrs(_t.annotations[ut],["?"])}}function tt(Ve,qe,dt,ut,At){var wt,kt=M.nestedProperty,_t=kt(Ve[dt[0]._name],qe).get(),Rt=kt(Ve[ut[0]._name],qe).get();for("title"===qe&&(_t&&_t.text===At.x&&(_t.text=At.y),Rt&&Rt.text===At.y&&(Rt.text=At.x)),wt=0;wt<dt.length;wt++)kt(Ve,dt[wt]._name+"."+qe).set(Rt);for(wt=0;wt<ut.length;wt++)kt(Ve,ut[wt]._name+"."+qe).set(_t)}function rt(Ve){return"angularaxis"===Ve._id}function Ke(Ve,qe){for(var dt=qe._rangebreaks.length,ut=0;ut<dt;ut++){var At=qe._rangebreaks[ut];if(Ve>=At.min&&Ve<At.max)return At.max}return Ve}function it(Ve){return-1!==(Ve.ticklabelposition||"").indexOf("inside")}function gt(Ve,qe){it(Ve._anchorAxis||{})&&Ve._hideCounterAxisInsideTickLabels&&Ve._hideCounterAxisInsideTickLabels(qe)}function ft(Ve,qe,dt,ut){var At,wt="free"===Ve.anchor||void 0!==Ve.overlaying&&!1!==Ve.overlaying?Ve.overlaying:Ve._id;At=ut?"right"===Ve.side?qe:-qe:qe,wt in dt||(dt[wt]={}),Ve.side in dt[wt]||(dt[wt][Ve.side]=0),dt[wt][Ve.side]+=At}Q.getTickFormat=function(Ve){var qe,dt,ut,At,wt,kt,_t,Rt,Wt,qt,Jt,pn,en,nn;function bt(Wt){return"string"!=typeof Wt?Wt:Number(Wt.replace("M",""))*x}function Tt(Wt,qt){var Jt=["L","D"];if(typeof Wt==typeof qt){if("number"==typeof Wt)return Wt-qt;var pn=Jt.indexOf(Wt.charAt(0)),en=Jt.indexOf(qt.charAt(0));return pn===en?Number(Wt.replace(/(L|D)/g,""))-Number(qt.replace(/(L|D)/g,"")):pn-en}return"number"==typeof Wt?1:-1}if(Ve.tickformatstops&&Ve.tickformatstops.length>0)switch(Ve.type){case"date":case"linear":for(qe=0;qe<Ve.tickformatstops.length;qe++)if((ut=Ve.tickformatstops[qe]).enabled&&(At=Ve.dtick,kt=void 0,void 0,void 0,kt=bt||function(Wt){return Wt},Rt=(wt=ut.dtickrange)[1],(!(_t=wt[0])&&"number"!=typeof _t||kt(_t)<=kt(At))&&(!Rt&&"number"!=typeof Rt||kt(Rt)>=kt(At)))){dt=ut;break}break;case"log":for(qe=0;qe<Ve.tickformatstops.length;qe++)if((ut=Ve.tickformatstops[qe]).enabled&&(Jt=void 0,pn=void 0,en=void 0,nn=void 0,Jt=null===(qt=ut.dtickrange)[0],pn=null===qt[1],en=Tt(Wt=Ve.dtick,qt[0])>=0,nn=Tt(Wt,qt[1])<=0,(Jt||en)&&(pn||nn))){dt=ut;break}}return dt?dt.value:Ve.tickformat},Q.getSubplots=function(Ve,qe){var dt=Ve._fullLayout._subplots,ut=dt.cartesian.concat(dt.gl2d||[]),At=qe?Q.findSubplotsWithAxis(ut,qe):ut;return At.sort(function(wt,kt){var _t=wt.substr(1).split("y"),Rt=kt.substr(1).split("y");return _t[0]===Rt[0]?+_t[1]-+Rt[1]:+_t[0]-+Rt[0]}),At},Q.findSubplotsWithAxis=function(Ve,qe){for(var dt=new RegExp("x"===qe._id.charAt(0)?"^"+qe._id+"y":qe._id+"$"),ut=[],At=0;At<Ve.length;At++){var wt=Ve[At];dt.test(wt)&&ut.push(wt)}return ut},Q.makeClipPaths=function(Ve){var qe=Ve._fullLayout;if(!qe._hasOnlyLargeSploms){var dt,ut,At={_offset:0,_length:qe.width,_id:""},wt={_offset:0,_length:qe.height,_id:""},kt=Q.list(Ve,"x",!0),_t=Q.list(Ve,"y",!0),Rt=[];for(dt=0;dt<kt.length;dt++)for(Rt.push({x:kt[dt],y:wt}),ut=0;ut<_t.length;ut++)0===dt&&Rt.push({x:At,y:_t[ut]}),Rt.push({x:kt[dt],y:_t[ut]});var bt=qe._clips.selectAll(".axesclip").data(Rt,function(Tt){return Tt.x._id+Tt.y._id});bt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Tt){return"clip"+qe._uid+Tt.x._id+Tt.y._id}).append("rect"),bt.exit().remove(),bt.each(function(Tt){D.select(this).select("rect").attr({x:Tt.x._offset||0,y:Tt.y._offset||0,width:Tt.x._length||1,height:Tt.y._length||1})})}},Q.draw=function(Ve,qe,dt){var ut=Ve._fullLayout;"redraw"===qe&&ut._paper.selectAll("g.subplot").each(function(_t){var bt=ut._plots[_t[0]];if(bt){var Tt=bt.xaxis,Ot=bt.yaxis;bt.xaxislayer.selectAll("."+Tt._id+"tick").remove(),bt.yaxislayer.selectAll("."+Ot._id+"tick").remove(),bt.xaxislayer.selectAll("."+Tt._id+"tick2").remove(),bt.yaxislayer.selectAll("."+Ot._id+"tick2").remove(),bt.xaxislayer.selectAll("."+Tt._id+"divider").remove(),bt.yaxislayer.selectAll("."+Ot._id+"divider").remove(),bt.minorGridlayer&&bt.minorGridlayer.selectAll("path").remove(),bt.gridlayer&&bt.gridlayer.selectAll("path").remove(),bt.zerolinelayer&&bt.zerolinelayer.selectAll("path").remove(),ut._infolayer.select(".g-"+Tt._id+"title").remove(),ut._infolayer.select(".g-"+Ot._id+"title").remove()}});var At=qe&&"redraw"!==qe?qe:Q.listIds(Ve),wt=Q.list(Ve).filter(function(_t){return _t.autoshift}).map(function(_t){return _t.overlaying});At.map(function(_t){var Rt=Q.getFromId(Ve,_t);if("sync"===Rt.tickmode&&Rt.overlaying){var bt=At.findIndex(function(Tt){return Tt===Rt.overlaying});bt>=0&&At.unshift(At.splice(bt,1).shift())}});var kt={false:{left:0,right:0}};return M.syncOrAsync(At.map(function(_t){return function(){if(_t){var Rt=Q.getFromId(Ve,_t);dt||(dt={}),dt.axShifts=kt,dt.overlayingShiftedAx=wt;var bt=Q.drawOne(Ve,Rt,dt);return Rt._shiftPusher&&ft(Rt,Rt._fullDepth||0,kt,!0),Rt._r=Rt.range.slice(),Rt._rl=M.simpleMap(Rt._r,Rt.r2l),bt}}}))},Q.drawOne=function(Ve,qe,dt){var ut,At,wt,kt=(dt=dt||{}).axShifts||{},_t=dt.overlayingShiftedAx||[];qe.setScale();var Tn,Rt=Ve._fullLayout,bt=qe._id,Tt=bt.charAt(0),Ot=Q.counterLetter(bt),Wt=Rt._plots[qe._mainSubplot];if(Wt){if(qe._shiftPusher=qe.autoshift||-1!==_t.indexOf(qe._id)||-1!==_t.indexOf(qe.overlaying),qe._shiftPusher&"free"===qe.anchor){var qt=qe.linewidth/2||0;"inside"===qe.ticks&&(qt+=qe.ticklen),ft(qe,qt,kt,!0),ft(qe,qe.shift||0,kt,!1)}!0===dt.skipTitle&&void 0!==qe._shift||(qe._shift=(Tn=qe).autoshift?kt[Tn.overlaying][Tn.side]:Tn.shift||0);var Jt=Wt[Tt+"axislayer"],pn=qe._mainLinePosition,en=pn+=qe._shift,nn=qe._mainMirrorPosition,dn=qe._vals=Q.calcTicks(qe),In=[qe.mirror,en,nn].join("_");for(ut=0;ut<dn.length;ut++)dn[ut].axInfo=In;qe._selections={},qe._tickAngles&&(qe._prevTickAngles=qe._tickAngles),qe._tickAngles={},qe._depth=null;var Hn={};if(qe.visible){var An,on,yn=Q.makeTransTickFn(qe),ln=Q.makeTransTickLabelFn(qe),wn="inside"===qe.ticks,Cn="outside"===qe.ticks;if("boundaries"===qe.tickson){var Ln=function(Tn,un){var fn,bn=[],Mn=function(Un,Vn){var sr=Un.xbnd[Vn];null!==sr&&bn.push(M.extendFlat({},Un,{x:sr}))};if(un.length){for(fn=0;fn<un.length;fn++)Mn(un[fn],0);Mn(un[fn-1],1)}return bn}(0,dn);on=Q.clipEnds(qe,Ln),An=wn?on:Ln}else on=Q.clipEnds(qe,dn),An=wn&&"period"!==qe.ticklabelmode?on:dn;var Sn,qn=qe._gridVals=on,kn=function(Tn,un){var fn,bn,Mn=[],Un=un.length&&un[un.length-1].x<un[0].x,Vn=function(rr,_r){var Rn=rr.xbnd[_r];null!==Rn&&Mn.push(M.extendFlat({},rr,{x:Rn}))};if(Tn.showdividers&&un.length){for(fn=0;fn<un.length;fn++){var sr=un[fn];sr.text2!==bn&&Vn(sr,Un?1:0),bn=sr.text2}Vn(un[fn-1],Un?0:1)}return Mn}(qe,dn);if(!Rt._hasOnlyLargeSploms){var Zn=qe._subplotsWith,fr={};for(ut=0;ut<Zn.length;ut++){var er=(wt=Rt._plots[At=Zn[ut]])[Ot+"axis"],nr=er._mainAxis._id;if(!fr[nr]){fr[nr]=1;var mr="x"===Tt?"M0,"+er._offset+"v"+er._length:"M"+er._offset+",0h"+er._length;Q.drawGrid(Ve,qe,{vals:qn,counterAxis:er,layer:wt.gridlayer.select("."+bt),minorLayer:wt.minorGridlayer.select("."+bt),path:mr,transFn:yn}),Q.drawZeroLine(Ve,qe,{counterAxis:er,layer:wt.zerolinelayer,path:mr,transFn:yn})}}}var dr=Q.getTickSigns(qe),Ir=Q.getTickSigns(qe,"minor");if(qe.ticks||qe.minor&&qe.minor.ticks){var Yt,$t,xn,vn,Dn=Q.makeTickPath(qe,en,dr[2]),or=Q.makeTickPath(qe,en,Ir[2],{minor:!0});if(qe._anchorAxis&&qe.mirror&&!0!==qe.mirror?(Yt=Q.makeTickPath(qe,nn,dr[3]),$t=Q.makeTickPath(qe,nn,Ir[3],{minor:!0}),xn=Dn+Yt,vn=or+$t):(Yt="",$t="",xn=Dn,vn=or),qe.showdividers&&Cn&&"boundaries"===qe.tickson){var Yn={};for(ut=0;ut<kn.length;ut++)Yn[kn[ut].x]=1;Sn=function(Tn){return Yn[Tn.x]?Yt:xn}}else Sn=function(Tn){return Tn.minor?vn:xn}}if(Q.drawTicks(Ve,qe,{vals:An,layer:Jt,path:Sn,transFn:yn}),"allticks"===qe.mirror){var Qn=Object.keys(qe._linepositions||{});for(ut=0;ut<Qn.length;ut++){wt=Rt._plots[At=Qn[ut]];var gr=qe._linepositions[At]||[],Fn=gr[1],Nt=gr[2],an=Q.makeTickPath(qe,gr[0],Nt?dr[0]:Ir[0],{minor:Nt})+Q.makeTickPath(qe,Fn,Nt?dr[1]:Ir[1],{minor:Nt});Q.drawTicks(Ve,qe,{vals:An,layer:wt[Tt+"axislayer"],path:an,transFn:yn})}}var cn=[];if(cn.push(function(){return Q.drawLabels(Ve,qe,{vals:dn,layer:Jt,plotinfo:wt,transFn:ln,labelFns:Q.makeLabelFns(qe,en)})}),"multicategory"===qe.type){var Pn={x:2,y:10}[Tt];cn.push(function(){var Tn={x:"height",y:"width"}[Tt],un=Gn()[Tn]+Pn+(qe._tickAngles[bt+"tick"]?qe.tickfont.size*te:0);return Q.drawLabels(Ve,qe,{vals:mt(qe,dn),layer:Jt,cls:bt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:yn,labelFns:Q.makeLabelFns(qe,en+un*dr[4])})}),cn.push(function(){return qe._depth=dr[4]*(Gn("tick2")[qe.side]-en),function(Tn,un,fn){var bn=un._id+"divider",Mn=fn.vals,Un=fn.layer.selectAll("path."+bn).data(Mn,St);Un.exit().remove(),Un.enter().insert("path",":first-child").classed(bn,1).classed("crisp",1).call(s.stroke,un.dividercolor).style("stroke-width",a.crispRound(Tn,un.dividerwidth,1)+"px"),Un.attr("transform",fn.transFn).attr("d",fn.path)}(Ve,qe,{vals:kn,layer:Jt,path:Q.makeTickPath(qe,en,dr[4],{len:qe._depth}),transFn:yn})})}else qe.title.hasOwnProperty("standoff")&&cn.push(function(){qe._depth=dr[4]*(Gn()[qe.side]-en)});var Nn=S.getComponentMethod("rangeslider","isVisible")(qe);return dt.skipTitle||Nn&&"bottom"===qe.side||cn.push(function(){return function(Tn,un){var fn,bn=Tn._fullLayout,Mn=un._id,Un=Mn.charAt(0),Vn=un.title.font.size;if(un.title.hasOwnProperty("standoff"))fn=un._depth+un.title.standoff+Dt(un);else{var sr=it(un);if("multicategory"===un.type)fn=un._depth;else{var rr=1.5*Vn;sr&&(rr=.5*Vn,"outside"===un.ticks&&(rr+=un.ticklen)),fn=10+rr+(un.linewidth?un.linewidth-1:0)}sr||(fn+="x"===Un?"top"===un.side?Vn*(un.showticklabels?1:0):Vn*(un.showticklabels?1.5:.5):"right"===un.side?Vn*(un.showticklabels?1:.5):Vn*(un.showticklabels?.5:0))}var _r,Rn,Mr,lr,wr=Q.getPxPosition(Tn,un);if("x"===Un?(Rn=un._offset+un._length/2,Mr="top"===un.side?wr-fn:wr+fn):(Mr=un._offset+un._length/2,Rn="right"===un.side?wr+fn:wr-fn,_r={rotate:"-90",offset:0}),"multicategory"!==un.type){var Pr=un._selections[un._id+"tick"];if(lr={selection:Pr,side:un.side},Pr&&Pr.node()&&Pr.node().parentNode){var Lr=a.getTranslate(Pr.node().parentNode);lr.offsetLeft=Lr.x,lr.offsetTop=Lr.y}un.title.hasOwnProperty("standoff")&&(lr.pad=0)}return un._titleStandoff=fn,i.draw(Tn,Mn+"title",{propContainer:un,propName:un._name+".title.text",placeholder:bn._dfltTitle[Un],avoid:lr,transform:_r,attributes:{x:Rn,y:Mr,"text-anchor":"middle"}})}(Ve,qe)}),cn.push(function(){var Tn,un,fn,bn,Mn=qe.side.charAt(0),Un=re[qe.side].charAt(0),Vn=Q.getPxPosition(Ve,qe),sr=Cn?qe.ticklen:0;(qe.automargin||Nn||qe._shiftPusher)&&("multicategory"===qe.type?Tn=Gn("tick2"):(Tn=Gn(),"x"===Tt&&"b"===Mn&&(qe._depth=Math.max(Tn.width>0?Tn.bottom-Vn:0,sr))));var rr=0,_r=0;if(qe._shiftPusher&&(rr=Math.max(sr,Tn.height>0?"l"===Mn?Vn-Tn.left:Tn.right-Vn:0),qe.title.text!==Rt._dfltTitle[Tt]&&(_r=(qe._titleStandoff||0)+(qe._titleScoot||0),"l"===Mn&&(_r+=Dt(qe))),qe._fullDepth=Math.max(rr,_r)),qe.automargin){un={x:0,y:0,r:0,l:0,t:0,b:0};var Rn=[0,1],Mr="number"==typeof qe._shift?qe._shift:0;if("x"===Tt){if("b"===Mn?un[Mn]=qe._depth:(un[Mn]=qe._depth=Math.max(Tn.width>0?Vn-Tn.top:0,sr),Rn.reverse()),Tn.width>0){var lr=Tn.right-(qe._offset+qe._length);lr>0&&(un.xr=1,un.r=lr);var wr=qe._offset-Tn.left;wr>0&&(un.xl=0,un.l=wr)}}else if("l"===Mn?(qe._depth=Math.max(Tn.height>0?Vn-Tn.left:0,sr),un[Mn]=qe._depth-Mr):(qe._depth=Math.max(Tn.height>0?Tn.right-Vn:0,sr),un[Mn]=qe._depth+Mr,Rn.reverse()),Tn.height>0){var Pr=Tn.bottom-(qe._offset+qe._length);Pr>0&&(un.yb=0,un.b=Pr);var Lr=qe._offset-Tn.top;Lr>0&&(un.yt=1,un.t=Lr)}un[Ot]="free"===qe.anchor?qe.position:qe._anchorAxis.domain[Rn[0]],qe.title.text!==Rt._dfltTitle[Tt]&&(un[Mn]+=Dt(qe)+(qe.title.standoff||0)),qe.mirror&&"free"!==qe.anchor&&((fn={x:0,y:0,r:0,l:0,t:0,b:0})[Un]=qe.linewidth,qe.mirror&&!0!==qe.mirror&&(fn[Un]+=sr),!0===qe.mirror||"ticks"===qe.mirror?fn[Ot]=qe._anchorAxis.domain[Rn[1]]:"all"!==qe.mirror&&"allticks"!==qe.mirror||(fn[Ot]=[qe._counterDomainMin,qe._counterDomainMax][Rn[1]]))}Nn&&(bn=S.getComponentMethod("rangeslider","autoMarginOpts")(Ve,qe)),"string"==typeof qe.automargin&&(at(un,qe.automargin),at(fn,qe.automargin)),f.autoMargin(Ve,pt(qe),un),f.autoMargin(Ve,Pt(qe),fn),f.autoMargin(Ve,Ft(qe),bn)}),M.syncOrAsync(cn)}}function Gn(Tn){var fn,bn,Mn,Un,Vn,sr,un=bt+(Tn||"tick");return Hn[un]||(Hn[un]=((fn=qe)._selections[bn=un].size()?(Mn=1/0,Un=-1/0,Vn=1/0,sr=-1/0,fn._selections[bn].each(function(){var rr=ht(this),_r=a.bBox(rr.node().parentNode);Mn=Math.min(Mn,_r.top),Un=Math.max(Un,_r.bottom),Vn=Math.min(Vn,_r.left),sr=Math.max(sr,_r.right)})):(Mn=0,Un=0,Vn=0,sr=0),{top:Mn,bottom:Un,left:Vn,right:sr,height:Un-Mn,width:sr-Vn})),Hn[un]}},Q.getTickSigns=function(Ve,qe){var dt=Ve._id.charAt(0),At=Ve.side==={x:"top",y:"right"}[dt]?1:-1,wt=[-1,1,At,-At];return"inside"!==(qe?(Ve.minor||{}).ticks:Ve.ticks)==("x"===dt)&&(wt=wt.map(function(kt){return-kt})),Ve.side&&wt.push({l:-1,t:-1,r:1,b:1}[Ve.side.charAt(0)]),wt},Q.makeTransTickFn=function(Ve){return"x"===Ve._id.charAt(0)?function(qe){return v(Ve._offset+Ve.l2p(qe.x),0)}:function(qe){return v(0,Ve._offset+Ve.l2p(qe.x))}},Q.makeTransTickLabelFn=function(Ve){var qe=function(At){var wt=At.ticklabelposition||"",kt=function(nn){return-1!==wt.indexOf(nn)},_t=kt("top"),Rt=kt("left"),bt=kt("right"),Tt=kt("bottom"),Ot=kt("inside"),Wt=Tt||Rt||_t||bt;if(!Wt&&!Ot)return[0,0];var qt=At.side,Jt=Wt?(At.tickwidth||0)/2:0,pn=3,en=At.tickfont?At.tickfont.size:12;return(Tt||_t)&&(Jt+=en*se,pn+=(At.linewidth||0)/2),(Rt||bt)&&(Jt+=(At.linewidth||0)/2,pn+=3),Ot&&"top"===qt&&(pn-=en*(1-se)),(Rt||_t)&&(Jt=-Jt),"bottom"!==qt&&"right"!==qt||(pn=-pn),[Wt?Jt:0,Ot?pn:0]}(Ve),dt=qe[0],ut=qe[1];return"x"===Ve._id.charAt(0)?function(At){return v(dt+Ve._offset+Ve.l2p(ct(At)),ut)}:function(At){return v(ut,dt+Ve._offset+Ve.l2p(ct(At)))}},Q.makeTickPath=function(Ve,qe,dt,ut){ut||(ut={});var At=ut.minor;if(At&&!Ve.minor)return"";var wt=void 0!==ut.len?ut.len:At?Ve.minor.ticklen:Ve.ticklen,kt=Ve._id.charAt(0),_t=(Ve.linewidth||1)/2;return"x"===kt?"M0,"+(qe+_t*dt)+"v"+wt*dt:"M"+(qe+_t*dt)+",0h"+wt*dt},Q.makeLabelFns=function(Ve,qe,dt){var ut=Ve.ticklabelposition||"",At=function(Ln){return-1!==ut.indexOf(Ln)},wt=At("top"),kt=At("left"),_t=At("right"),Rt=At("bottom")||kt||wt||_t,bt=At("inside"),Tt="inside"===ut&&"inside"===Ve.ticks||!bt&&"outside"===Ve.ticks&&"boundaries"!==Ve.tickson,Ot=0,Wt=0,qt=Tt?Ve.ticklen:0;if(bt?qt*=-1:Rt&&(qt=0),Tt&&(Ot+=qt,dt)){var Jt=M.deg2rad(dt);Ot=qt*Math.cos(Jt)+1,Wt=qt*Math.sin(Jt)}Ve.showticklabels&&(Tt||Ve.showline)&&(Ot+=.2*Ve.tickfont.size);var pn,en,nn,dn,In,Hn={labelStandoff:Ot+=(Ve.linewidth||1)/2*(bt?-1:1),labelShift:Wt},An=0,on=Ve.side,yn=Ve._id.charAt(0),ln=Ve.tickangle;if("x"===yn)dn=(In=!bt&&"bottom"===on||bt&&"top"===on)?1:-1,bt&&(dn*=-1),pn=Wt*dn,en=qe+Ot*dn,nn=In?1:-.2,90===Math.abs(ln)&&(bt?nn+=Y:nn=-90===ln&&"bottom"===on?se:90===ln&&"top"===on?Y:.5,An=Y/2*(ln/90)),Hn.xFn=function(Ln){return Ln.dx+pn+An*Ln.fontSize},Hn.yFn=function(Ln){return Ln.dy+en+Ln.fontSize*nn},Hn.anchorFn=function(Ln,Sn){if(Rt){if(kt)return"end";if(_t)return"start"}return E(Sn)&&0!==Sn&&180!==Sn?Sn*dn<0!==bt?"end":"start":"middle"},Hn.heightFn=function(Ln,Sn,qn){return Sn<-60||Sn>60?-.5*qn:"top"===Ve.side!==bt?-qn:0};else if("y"===yn){if(dn=(In=!bt&&"left"===on||bt&&"right"===on)?1:-1,bt&&(dn*=-1),pn=Ot,en=Wt*dn,nn=0,bt||90!==Math.abs(ln)||(nn=-90===ln&&"left"===on||90===ln&&"right"===on?se:.5),bt){var wn=E(ln)?+ln:0;if(0!==wn){var Cn=M.deg2rad(wn);An=Math.abs(Math.sin(Cn))*se*dn,nn=0}}Hn.xFn=function(Ln){return Ln.dx+qe-(pn+Ln.fontSize*nn)*dn+An*Ln.fontSize},Hn.yFn=function(Ln){return Ln.dy+en+Ln.fontSize*Y},Hn.anchorFn=function(Ln,Sn){return E(Sn)&&90===Math.abs(Sn)?"middle":In?"end":"start"},Hn.heightFn=function(Ln,Sn,qn){return"right"===Ve.side&&(Sn*=-1),Sn<-30?-qn:Sn<30?-.5*qn:0}}return Hn},Q.drawTicks=function(Ve,qe,dt){dt=dt||{};var ut=qe._id+"tick",At=[].concat(qe.minor&&qe.minor.ticks?dt.vals.filter(function(kt){return kt.minor&&!kt.noTick}):[]).concat(qe.ticks?dt.vals.filter(function(kt){return!kt.minor&&!kt.noTick}):[]),wt=dt.layer.selectAll("path."+ut).data(At,St);wt.exit().remove(),wt.enter().append("path").classed(ut,1).classed("ticks",1).classed("crisp",!1!==dt.crisp).each(function(kt){return s.stroke(D.select(this),kt.minor?qe.minor.tickcolor:qe.tickcolor)}).style("stroke-width",function(kt){return a.crispRound(Ve,kt.minor?qe.minor.tickwidth:qe.tickwidth,1)+"px"}).attr("d",dt.path).style("display",null),gt(qe,[Z]),wt.attr("transform",dt.transFn)},Q.drawGrid=function(Ve,qe,dt){if(dt=dt||{},"sync"!==qe.tickmode){var ut=qe._id+"grid",At=qe.minor&&qe.minor.showgrid,wt=At?dt.vals.filter(function(nn){return nn.minor}):[],kt=qe.showgrid?dt.vals.filter(function(nn){return!nn.minor}):[],_t=dt.counterAxis;if(_t&&Q.shouldShowZeroLine(Ve,qe,_t))for(var Rt="array"===qe.tickmode,bt=0;bt<kt.length;bt++){var Tt=kt[bt].x;if(Rt?!Tt:Math.abs(Tt)<qe.dtick/100){if(kt=kt.slice(0,bt).concat(kt.slice(bt+1)),!Rt)break;bt--}}qe._gw=a.crispRound(Ve,qe.gridwidth,1);for(var Ot=At?a.crispRound(Ve,qe.minor.gridwidth,1):0,Wt=dt.layer,qt=dt.minorLayer,Jt=1;Jt>=0;Jt--){var pn=Jt?Wt:qt;if(pn){var en=pn.selectAll("path."+ut).data(Jt?kt:wt,St);en.exit().remove(),en.enter().append("path").classed(ut,1).classed("crisp",!1!==dt.crisp),en.attr("transform",dt.transFn).attr("d",dt.path).each(function(nn){return s.stroke(D.select(this),nn.minor?qe.minor.gridcolor:qe.gridcolor||"#ddd")}).style("stroke-dasharray",function(nn){return a.dashStyle(nn.minor?qe.minor.griddash:qe.griddash,nn.minor?qe.minor.gridwidth:qe.gridwidth)}).style("stroke-width",function(nn){return(nn.minor?Ot:qe._gw)+"px"}).style("display",null),"function"==typeof dt.path&&en.attr("d",dt.path)}}gt(qe,[X,F])}},Q.drawZeroLine=function(Ve,qe,dt){var ut=qe._id+"zl",At=Q.shouldShowZeroLine(Ve,qe,(dt=dt||dt).counterAxis),wt=dt.layer.selectAll("path."+ut).data(At?[{x:0,id:qe._id}]:[]);wt.exit().remove(),wt.enter().append("path").classed(ut,1).classed("zl",1).classed("crisp",!1!==dt.crisp).each(function(){dt.layer.selectAll("path").sort(function(kt,_t){return le(kt.id,_t.id)})}),wt.attr("transform",dt.transFn).attr("d",dt.path).call(s.stroke,qe.zerolinecolor||s.defaultLine).style("stroke-width",a.crispRound(Ve,qe.zerolinewidth,qe._gw||1)+"px").style("display",null),gt(qe,[j])},Q.drawLabels=function(Ve,qe,dt){dt=dt||{};var ut=Ve._fullLayout,At=qe._id,wt=At.charAt(0),kt=dt.cls||At+"tick",_t=dt.vals.filter(function(Sn){return Sn.text}),Rt=dt.labelFns,bt=dt.secondary?0:qe.tickangle,Tt=(qe._prevTickAngles||{})[kt],Ot=dt.layer.selectAll("g."+kt).data(qe.showticklabels?_t:[],St),Wt=[];function qt(Sn,qn){Sn.each(function(kn){var Zn=D.select(this),fr=Zn.select(".text-math-group"),er=Rt.anchorFn(kn,qn),nr=dt.transFn.call(Zn.node(),kn)+(E(qn)&&0!=+qn?" rotate("+qn+","+Rt.xFn(kn)+","+(Rt.yFn(kn)-kn.fontSize/2)+")":""),mr=c.lineCount(Zn),dr=te*kn.fontSize,Ir=Rt.heightFn(kn,E(qn)?+qn:0,(mr-1)*dr);if(Ir&&(nr+=v(0,Ir)),fr.empty()){var Yt=Zn.select("text");Yt.attr({transform:nr,"text-anchor":er}),Yt.style("opacity",1),qe._adjustTickLabelsOverflow&&qe._adjustTickLabelsOverflow()}else{var $t=a.bBox(fr.node()).width*{end:-.5,start:.5}[er];fr.attr("transform",nr+v($t,0))}})}Ot.enter().append("g").classed(kt,1).append("text").attr("text-anchor","middle").each(function(Sn){var qn=D.select(this),kn=Ve._promises.length;qn.call(c.positionText,Rt.xFn(Sn),Rt.yFn(Sn)).call(a.font,Sn.font,Sn.fontSize,Sn.fontColor).text(Sn.text).call(c.convertToTspans,Ve),Ve._promises[kn]?Wt.push(Ve._promises.pop().then(function(){qt(qn,bt)})):qt(qn,bt)}),gt(qe,[W]),Ot.exit().remove(),dt.repositionOnUpdate&&Ot.each(function(Sn){D.select(this).select("text").call(c.positionText,Rt.xFn(Sn),Rt.yFn(Sn))}),qe._adjustTickLabelsOverflow=function(){var Sn=qe.ticklabeloverflow;if(Sn&&"allow"!==Sn){var qn=-1!==Sn.indexOf("hide"),kn="x"===qe._id.charAt(0),Zn=0,fr=kn?Ve._fullLayout.width:Ve._fullLayout.height;if(-1!==Sn.indexOf("domain")){var er=M.simpleMap(qe.range,qe.r2l);Zn=qe.l2p(er[0])+qe._offset,fr=qe.l2p(er[1])+qe._offset}var nr=Math.min(Zn,fr),mr=Math.max(Zn,fr),dr=qe.side,Ir=1/0,Yt=-1/0;for(var $t in Ot.each(function(Dn){var or=D.select(this);if(or.select(".text-math-group").empty()){var Yn=a.bBox(or.node()),Qn=0;kn?(Yn.right>mr||Yn.left<nr)&&(Qn=1):(Yn.bottom>mr||Yn.top+(qe.tickangle?0:Dn.fontSize/4)<nr)&&(Qn=1);var gr=or.select("text");Qn?qn&&gr.style("opacity",0):(gr.style("opacity",1),Ir="bottom"===dr||"right"===dr?Math.min(Ir,kn?Yn.top:Yn.left):-1/0,Yt="top"===dr||"left"===dr?Math.max(Yt,kn?Yn.bottom:Yn.right):1/0)}}),ut._plots){var xn=ut._plots[$t];if(qe._id===xn.xaxis._id||qe._id===xn.yaxis._id){var vn=kn?xn.yaxis:xn.xaxis;vn&&(vn["_visibleLabelMin_"+qe._id]=Ir,vn["_visibleLabelMax_"+qe._id]=Yt)}}}},qe._hideCounterAxisInsideTickLabels=function(Sn){var qn="x"===qe._id.charAt(0),kn=[];for(var Zn in ut._plots){var fr=ut._plots[Zn];qe._id!==fr.xaxis._id&&qe._id!==fr.yaxis._id||kn.push(qn?fr.yaxis:fr.xaxis)}kn.forEach(function(er,nr){er&&it(er)&&(Sn||[j,F,X,Z,W]).forEach(function(mr){var dr="tick"===mr.K&&"text"===mr.L&&"period"===qe.ticklabelmode,Ir=ut._plots[qe._mainSubplot];(mr.K===j.K?Ir.zerolinelayer.selectAll("."+qe._id+"zl"):mr.K===F.K?Ir.minorGridlayer.selectAll("."+qe._id):mr.K===X.K?Ir.gridlayer.selectAll("."+qe._id):Ir[qe._id.charAt(0)+"axislayer"]).each(function(){var Yt=D.select(this);mr.L&&(Yt=Yt.selectAll(mr.L)),Yt.each(function($t){var xn=qe.l2p(dr?ct($t):$t.x)+qe._offset,vn=D.select(this);xn<qe["_visibleLabelMax_"+er._id]&&xn>qe["_visibleLabelMin_"+er._id]?vn.style("display","none"):"tick"!==mr.K||nr||vn.style("display",null)})})})})},qt(Ot,Tt+1?Tt:bt);var Jt=null;qe._selections&&(qe._selections[kt]=Ot);var pn=[function(){return Wt.length&&Promise.all(Wt)}];qe.automargin&&ut._redrawFromAutoMarginCount&&90===Tt?(Jt=90,pn.push(function(){qt(Ot,Tt)})):pn.push(function(){if(qt(Ot,bt),_t.length&&"x"===wt&&!E(bt)&&("log"!==qe.type||"D"!==String(qe.dtick).charAt(0))){Jt=0;var Sn,qn=0,kn=[];if(Ot.each(function(or){qn=Math.max(qn,or.fontSize);var Yn=qe.l2p(or.x),Qn=ht(this),gr=a.bBox(Qn.node());kn.push({top:0,bottom:10,height:10,left:Yn-gr.width/2,right:Yn+gr.width/2+2,width:gr.width+2})}),"boundaries"!==qe.tickson&&!qe.showdividers||dt.secondary){var Zn=_t.length,fr=Math.abs((_t[Zn-1].x-_t[0].x)*qe._m)/(Zn-1),er=qe.ticklabelposition||"",nr=function(or){return-1!==er.indexOf(or)},mr=nr("top"),dr=nr("left"),Ir=nr("right"),Yt=nr("bottom")||dr||mr||Ir?(qe.tickwidth||0)+6:0,$t=fr<2.5*qn||"multicategory"===qe.type||"realaxis"===qe._name;for(Sn=0;Sn<kn.length-1;Sn++)if(M.bBoxIntersect(kn[Sn],kn[Sn+1],Yt)){Jt=$t?90:30;break}}else{var xn=2;for(qe.ticks&&(xn+=qe.tickwidth/2),Sn=0;Sn<kn.length;Sn++){var vn=_t[Sn].xbnd,Dn=kn[Sn];if(null!==vn[0]&&Dn.left-qe.l2p(vn[0])<xn||null!==vn[1]&&qe.l2p(vn[1])-Dn.right<xn){Jt=90;break}}}Jt&&qt(Ot,Jt)}}),qe._tickAngles&&pn.push(function(){qe._tickAngles[kt]=null===Jt?E(bt)?bt:0:Jt});var en=function(){var Sn=0,qn=0;return Ot.each(function(kn,Zn){var fr,er=ht(this);er.select(".text-math-group").empty()&&(qe._vals[Zn]&&(fr=qe._vals[Zn].bb||a.bBox(er.node()),qe._vals[Zn].bb=fr),Sn=Math.max(Sn,fr.width),qn=Math.max(qn,fr.height))}),{labelsMaxW:Sn,labelsMaxH:qn}},nn=qe._anchorAxis;if(nn&&(nn.autorange||nn.insiderange)&&it(qe)&&!ue(ut,qe._id)&&(ut._insideTickLabelsUpdaterange||(ut._insideTickLabelsUpdaterange={}),nn.autorange&&(ut._insideTickLabelsUpdaterange[nn._name+".autorange"]=nn.autorange,pn.push(en)),nn.insiderange)){var dn=en(),In="y"===qe._id.charAt(0)?dn.labelsMaxW:dn.labelsMaxH;In+=6,"inside"===qe.ticklabelposition&&(In+=qe.ticklen||0);var Hn="right"===qe.side||"top"===qe.side?1:-1,An=1===Hn?1:0,on=1===Hn?0:1,yn=[];yn[on]=nn.range[on];var ln=nn.d2p(nn.range[An]),wn=nn.d2p(nn.range[on]),Cn=Math.abs(wn-ln);Cn-In>0?In*=1+In/(Cn-=In):In=0,"y"!==qe._id.charAt(0)&&(In=-In),yn[An]=nn.p2d(nn.d2p(nn.range[An])+Hn*In),"min"===nn.autorange||"max reversed"===nn.autorange?(yn[0]=null,nn._rangeInitial0=void 0,nn._rangeInitial1=void 0):"max"!==nn.autorange&&"min reversed"!==nn.autorange||(yn[1]=null,nn._rangeInitial0=void 0,nn._rangeInitial1=void 0),ut._insideTickLabelsUpdaterange[nn._name+".range"]=yn}var Ln=M.syncOrAsync(pn);return Ln&&Ln.then&&Ve._promises.push(Ln),Ln},Q.getPxPosition=function(Ve,qe){var dt,ut=Ve._fullLayout._size,At=qe._id.charAt(0),wt=qe.side;return"free"!==qe.anchor?dt=qe._anchorAxis:"x"===At?dt={_offset:ut.t+(1-(qe.position||0))*ut.h,_length:0}:"y"===At&&(dt={_offset:ut.l+(qe.position||0)*ut.w+qe._shift,_length:0}),"top"===wt||"left"===wt?dt._offset:"bottom"===wt||"right"===wt?dt._offset+dt._length:void 0},Q.shouldShowZeroLine=function(Ve,qe,dt){var ut=M.simpleMap(qe.range,qe.r2l);return ut[0]*ut[1]<=0&&qe.zeroline&&("linear"===qe.type||"-"===qe.type)&&!(qe.rangebreaks&&qe.maskBreaks(0)===N)&&(Et(qe,0)||!function(At,wt,kt,_t){var Rt=kt._mainAxis;if(Rt){var bt=At._fullLayout,Tt=wt._id.charAt(0),Ot=Q.counterLetter(wt._id),Wt=wt._offset+(Math.abs(_t[0])<Math.abs(_t[1])==("x"===Tt)?0:wt._length),qt=bt._plots[kt._mainSubplot];if(!(qt.mainplotinfo||qt).overlays.length)return nn(kt);for(var Jt=Q.list(At,Ot),pn=0;pn<Jt.length;pn++){var en=Jt[pn];if(en._mainAxis===Rt&&nn(en))return!0}}function nn(dn){if(!dn.showline||!dn.linewidth)return!1;var In=Math.max((dn.linewidth+wt.zerolinewidth)/2,1);function Hn(yn){return"number"==typeof yn&&Math.abs(yn-Wt)<In}if(Hn(dn._mainLinePosition)||Hn(dn._mainMirrorPosition))return!0;var An=dn._linepositions||{};for(var on in An)if(Hn(An[on][0])||Hn(An[on][1]))return!0}}(Ve,qe,dt,ut)||function(At,wt){for(var kt=At._fullData,_t=wt._mainSubplot,Rt=wt._id.charAt(0),bt=0;bt<kt.length;bt++){var Tt=kt[bt];if(!0===Tt.visible&&Tt.xaxis+Tt.yaxis===_t&&(S.traceIs(Tt,"bar-like")&&Tt.orientation==={x:"h",y:"v"}[Rt]||Tt.fill&&Tt.fill.charAt(Tt.fill.length-1)===Rt))return!0}return!1}(Ve,qe))},Q.clipEnds=function(Ve,qe){return qe.filter(function(dt){return Et(Ve,dt.x)})},Q.allowAutoMargin=function(Ve){for(var qe=Q.list(Ve,"",!0),dt=0;dt<qe.length;dt++){var ut=qe[dt];ut.automargin&&(f.allowAutoMargin(Ve,pt(ut)),ut.mirror&&f.allowAutoMargin(Ve,Pt(ut))),S.getComponentMethod("rangeslider","isVisible")(ut)&&f.allowAutoMargin(Ve,Ft(ut))}},Q.swap=function(Ve,qe){for(var dt=function(At,wt){var kt,_t,Rt=[];for(kt=0;kt<wt.length;kt++){var bt=[],Tt=At._fullData[wt[kt]].xaxis,Ot=At._fullData[wt[kt]].yaxis;if(Tt&&Ot){for(_t=0;_t<Rt.length;_t++)-1===Rt[_t].x.indexOf(Tt)&&-1===Rt[_t].y.indexOf(Ot)||bt.push(_t);if(bt.length){var Wt,qt=Rt[bt[0]];if(bt.length>1)for(_t=1;_t<bt.length;_t++)Ht(qt.x,(Wt=Rt[bt[_t]]).x),Ht(qt.y,Wt.y);Ht(qt.x,[Tt]),Ht(qt.y,[Ot])}else Rt.push({x:[Tt],y:[Ot]})}}return Rt}(Ve,qe),ut=0;ut<dt.length;ut++)Lt(Ve,dt[ut].x,dt[ut].y)}},4322:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(50606).BADNUM,S=E.isArrayOrTypedArray,M=E.isDateTime,v=E.cleanNumber,c=Math.round;function i(a,o){return o?D(a):"number"==typeof a}function s(a){return Math.max(1,(a-1)/1e3)}ae.exports=function(a,o,l){var g,u=a,d=l.noMultiCategory;if(S(u)&&!u.length)return"-";if(!d&&S((g=u)[0])&&S(g[1]))return"multicategory";if(d&&Array.isArray(u[0])){for(var m=[],h=0;h<u.length;h++)if(S(u[h]))for(var T=0;T<u[h].length;T++)m.push(u[h][T]);u=m}if(function(g,w){for(var x=g.length,b=s(x),A=0,p=0,O={},k=0;k<x;k+=b){var I=g[c(k)],P=String(I);O[P]||(O[P]=1,M(I,w)&&A++,D(I)&&p++)}return A>2*p}(u,o))return"date";var _="strict"!==l.autotypenumbers;return function(g,w){for(var x=g.length,b=s(x),A=0,p=0,O={},k=0;k<x;k+=b){var I=g[c(k)],P=String(I);if(!O[P]){O[P]=1;var R=typeof I;"boolean"===R?p++:(w?v(I)!==f:"number"===R)?A++:"string"===R&&p++}}return p>2*A}(u,_)?"category":function(g,w){for(var x=g.length,b=0;b<x;b++)if(i(g[b],w))return!0;return!1}(u,_)?"linear":"-"}},71453:function(ae,B,r){"use strict";var D=r(92770),E=r(73972),f=r(71828),S=r(44467),M=r(85501),v=r(13838),c=r(26218),i=r(38701),s=r(96115),a=r(89426),o=r(15258),l=r(92128),u=r(23608),d=r(21994),m=r(85555).WEEKDAY_PATTERN,h=r(85555).HOUR_PATTERN;function T(w,x,b){function A(j,X){return f.coerce(w,x,v.rangebreaks,j,X)}if(A("enabled")){var p=A("bounds");if(p&&p.length>=2){var O,k,I="";if(2===p.length)for(O=0;O<2;O++)if(k=g(p[O])){I=m;break}var P=A("pattern",I);if(P===m)for(O=0;O<2;O++)(k=g(p[O]))&&(x.bounds[O]=p[O]=k-1);if(P)for(O=0;O<2;O++)switch(k=p[O],P){case m:if(!D(k)||(k=+k)!==Math.floor(k)||k<0||k>=7)return void(x.enabled=!1);x.bounds[O]=p[O]=k;break;case h:if(!D(k)||(k=+k)<0||k>24)return void(x.enabled=!1);x.bounds[O]=p[O]=k}if(!1===b.autorange){var R=b.range;if(R[0]<R[1]){if(p[0]<R[0]&&p[1]>R[1])return void(x.enabled=!1)}else if(p[0]>R[0]&&p[1]<R[1])return void(x.enabled=!1)}}else{var N=A("values");if(!N||!N.length)return void(x.enabled=!1);A("dvalue")}}}ae.exports=function(w,x,b,A,p){var O,k=A.letter,I=A.font||{},P=A.splomStash||{},R=b("visible",!A.visibleDflt),j=x.type||(x._template||{}).type||"-";"date"===j&&(E.getComponentMethod("calendars","handleDefaults")(w,x,"calendar",A.calendar),A.noTicklabelmode||(O=b("ticklabelmode")));var X="";A.noTicklabelposition&&"multicategory"!==j||(X=f.coerce(w,x,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===O?["outside","inside"]:"x"===k?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),A.noTicklabeloverflow||b("ticklabeloverflow",-1!==X.indexOf("inside")?"hide past domain":"category"===j||"multicategory"===j?"allow":"hide past div"),d(x,p),u(w,x,b,A),o(w,x,b,A),"category"===j||A.noHover||b("hoverformat");var F=b("color"),Z=F!==v.color.dflt?F:I.color,W=P.label||p._dfltTitle[k];if(a(w,x,b,j,A),!R)return x;b("title.text",W),f.coerceFont(b,"title.font",{family:I.family,size:f.bigFont(I.size),color:Z}),c(w,x,b,j);var H=A.hasMinor;if(H&&(S.newContainer(x,"minor"),c(w,x,b,j,{isMinor:!0})),s(w,x,b,j,A),i(w,x,b,A),H){var G=A.isMinor;A.isMinor=!0,i(w,x,b,A),A.isMinor=G}l(w,x,b,{dfltColor:F,bgColor:A.bgColor,showGrid:A.showGrid,hasMinor:H,attributes:v}),!H||x.minor.ticks||x.minor.showgrid||delete x.minor,(x.showline||x.ticks)&&b("mirror");var Y,se="multicategory"===j;if(A.noTickson||"category"!==j&&!se||!x.ticks&&!x.showgrid||(se&&(Y="boundaries"),"boundaries"===b("tickson",Y)&&delete x.ticklabelposition),se&&b("showdividers")&&(b("dividercolor"),b("dividerwidth")),"date"===j)if(M(w,x,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),x.rangebreaks.length){for(var te=0;te<x.rangebreaks.length;te++)if(x.rangebreaks[te].pattern===m){x._hasDayOfWeekBreaks=!0;break}if(d(x,p),p._has("scattergl")||p._has("splom"))for(var re=0;re<A.data.length;re++){var Q=A.data[re];"scattergl"!==Q.type&&"splom"!==Q.type||(Q.visible=!1,f.warn(Q.type+" traces do not work on axes with rangebreaks. Setting trace "+Q.index+" to `visible: false`."))}}else delete x.rangebreaks;return x};var _={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function g(w){if("string"==typeof w)return _[w.substr(0,3).toLowerCase()]}},12663:function(ae,B,r){"use strict";var D=r(31562),E=D.FORMAT_LINK,f=D.DATE_FORMAT_LINK;function S(v,c){return["Sets the "+v+" formatting rule"+(c?"for `"+c+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+E+"."].join(" ")}function M(v,c){return S(v,c)+[" And for dates see: "+f+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}ae.exports={axisHoverFormat:function(v,c){return{valType:"string",dflt:"",editType:"none",description:(c?S:M)("hover text",v)+["By default the values are formatted using "+(c?"generic number format":"`"+v+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:S,descriptionWithDates:M}},41675:function(ae,B,r){"use strict";var D=r(73972),E=r(85555);function f(S,M){if(M&&M.length)for(var v=0;v<M.length;v++)if(M[v][S])return!0;return!1}B.id2name=function(S){if("string"==typeof S&&S.match(E.AX_ID_PATTERN)){var M=S.split(" ")[0].substr(1);return"1"===M&&(M=""),S.charAt(0)+"axis"+M}},B.name2id=function(S){if(S.match(E.AX_NAME_PATTERN)){var M=S.substr(5);return"1"===M&&(M=""),S.charAt(0)+M}},B.cleanId=function(S,M,v){var c=/( domain)$/.test(S);if("string"==typeof S&&S.match(E.AX_ID_PATTERN)&&(!M||S.charAt(0)===M)&&(!c||v)){var i=S.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===i&&(i=""),S.charAt(0)+i+(c&&v?" domain":"")}},B.list=function(S,M,v){var c=S._fullLayout;if(!c)return[];var i,s=B.listIds(S,M),a=new Array(s.length);for(i=0;i<s.length;i++){var o=s[i];a[i]=c[o.charAt(0)+"axis"+o.substr(1)]}if(!v){var l=c._subplots.gl3d||[];for(i=0;i<l.length;i++){var u=c[l[i]];M?a.push(u[M+"axis"]):a.push(u.xaxis,u.yaxis,u.zaxis)}}return a},B.listIds=function(S,M){var v=S._fullLayout;if(!v)return[];var c=v._subplots;return M?c[M+"axis"]:c.xaxis.concat(c.yaxis)},B.getFromId=function(S,M,v){var c=S._fullLayout;return M=void 0===M||"string"!=typeof M?M:M.replace(" domain",""),"x"===v?M=M.replace(/y[0-9]*/,""):"y"===v&&(M=M.replace(/x[0-9]*/,"")),c[B.id2name(M)]},B.getFromTrace=function(S,M,v){var c=S._fullLayout,i=null;if(D.traceIs(M,"gl3d")){var s=M.scene;"scene"===s.substr(0,5)&&(i=c[s][v+"axis"])}else i=B.getFromId(S,M[v+"axis"]||v);return i},B.idSort=function(S,M){var v=S.charAt(0),c=M.charAt(0);return v!==c?v>c?1:-1:+(S.substr(1)||1)-+(M.substr(1)||1)},B.ref2id=function(S){return!!/^[xyz]/.test(S)&&S.split(" ")[0]},B.isLinked=function(S,M){return f(M,S._axisMatchGroups)||f(M,S._axisConstraintGroups)}},15258:function(ae){"use strict";ae.exports=function(B,r,D,E){if("category"===r.type){var f,S=B.categoryarray,M=Array.isArray(S)&&S.length>0;M&&(f="array");var v,c=D("categoryorder",f);"array"===c&&(v=D("categoryarray")),M||"array"!==c||(c=r.categoryorder="trace"),"trace"===c?r._initialCategories=[]:"array"===c?r._initialCategories=v.slice():(v=function(i,s){var a,o,l,u=s.dataAttr||i._id.charAt(0),d={};if(s.axData)a=s.axData;else for(a=[],o=0;o<s.data.length;o++){var m=s.data[o];m[u+"axis"]===i._id&&a.push(m)}for(o=0;o<a.length;o++){var h=a[o][u];for(l=0;l<h.length;l++){var T=h[l];null!=T&&(d[T]=1)}}return Object.keys(d)}(r,E).sort(),"category ascending"===c?r._initialCategories=v:"category descending"===c&&(r._initialCategories=v.reverse()))}}},66287:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(50606),S=f.ONEDAY,M=f.ONEWEEK;B.dtick=function(v,c){var i="log"===c,s="date"===c,a="category"===c,o=s?S:1;if(!v)return o;if(D(v))return(v=Number(v))<=0?o:a?Math.max(1,Math.round(v)):s?Math.max(.1,v):v;if("string"!=typeof v||!s&&!i)return o;var l=v.charAt(0),u=v.substr(1);return(u=D(u)?Number(u):0)<=0||!(s&&"M"===l&&u===Math.round(u)||i&&"L"===l||i&&"D"===l&&(1===u||2===u))?o:v},B.tick0=function(v,c,i,s){return"date"===c?E.cleanDate(v,E.dateTick0(i,s%M==0?1:0)):"D1"!==s&&"D2"!==s?D(v)?Number(v):0:void 0}},85555:function(ae,B,r){"use strict";var D=r(30587).counter;ae.exports={idRegex:{x:D("x","( domain)?"),y:D("y","( domain)?")},attrRegex:D("[xy]axis"),xAxisMatch:D("xaxis"),yAxisMatch:D("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(ae,B,r){"use strict";var D=r(71828),E=r(71739),f=r(41675).id2name,S=r(13838),M=r(42449),v=r(21994),c=r(50606).ALMOST_EQUAL,i=r(18783).FROM_BL;function s(h,T,_){var g=_.axIds,w=_.layoutOut,x=_.hasImage,b=w._axisConstraintGroups,A=w._axisMatchGroups,p=T._id,O=p.charAt(0),k=((w._splomAxes||{})[O]||{})[p]||{},I=T._id,P="x"===I.charAt(0);function R(ee,oe){return D.coerce(h,T,S,ee,oe)}T._matchGroup=null,T._constraintGroup=null,R("constrain",x?"domain":"range"),D.coerce(h,T,{constraintoward:{valType:"enumerated",values:P?["left","center","right"]:["bottom","middle","top"],dflt:P?"center":"middle"}},"constraintoward");var N,j,X=T.type,F=[];for(N=0;N<g.length;N++)(j=g[N])!==I&&w[f(j)].type===X&&F.push(j);var Z=o(b,I);if(Z){var W=[];for(N=0;N<F.length;N++)Z[j=F[N]]||W.push(j);F=W}var H,G,Y=F.length;Y&&(h.matches||k.matches)&&(H=D.coerce(h,T,{matches:{valType:"enumerated",values:F,dflt:-1!==F.indexOf(k.matches)?k.matches:void 0}},"matches"));var se=x&&!P?T.anchor:void 0;if(Y&&!H&&(h.scaleanchor||se)&&(G=D.coerce(h,T,{scaleanchor:{valType:"enumerated",values:F.concat([!1])}},"scaleanchor",se)),H){T._matchGroup=l(A,I,H,1);var te=w[f(H)],re=a(w,T)/a(w,te);P!==("x"===H.charAt(0))&&(re=(P?"x":"y")+re),l(b,I,H,re)}else h.matches&&-1!==g.indexOf(h.matches)&&D.warn("ignored "+T._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(G){var Q=R("scaleratio");Q||(Q=T.scaleratio=1),l(b,I,G,Q)}else h.scaleanchor&&-1!==g.indexOf(h.scaleanchor)&&D.warn("ignored "+T._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function a(h,T){var _=T.domain;return _||(_=h[f(T.overlaying)].domain),_[1]-_[0]}function o(h,T){for(var _=0;_<h.length;_++)if(h[_][T])return h[_];return null}function l(h,T,_,g){var w,x,b,A,p,O=o(h,T);null===O?((O={})[T]=1,p=h.length,h.push(O)):p=h.indexOf(O);var k=Object.keys(O);for(w=0;w<h.length;w++)if(b=h[w],w!==p&&b[_]){var I=b[_];for(x=0;x<k.length;x++)b[A=k[x]]=u(I,u(g,O[A]));return void h.splice(p,1)}if(1!==g)for(x=0;x<k.length;x++){var P=k[x];O[P]=u(g,O[P])}O[_]=1}function u(h,T){var _,g,w="",x="";"string"==typeof h&&(_=(w=h.match(/^[xy]*/)[0]).length,h=+h.substr(_)),"string"==typeof T&&(g=(x=T.match(/^[xy]*/)[0]).length,T=+T.substr(g));var b=h*T;return _||g?_&&g&&w.charAt(0)!==x.charAt(0)?_===g?b:(_>g?w.substr(g):x.substr(_))+b:w+x+h*T:b}function d(h,T){for(var _=T._size,g=_.h/_.w,w={},x=Object.keys(h),b=0;b<x.length;b++){var A=x[b],p=h[A];if("string"==typeof p){var O=p.match(/^[xy]*/)[0],k=O.length;p=+p.substr(k);for(var I="y"===O.charAt(0)?g:1/g,P=0;P<k;P++)p*=I}w[A]=p}return w}function m(h,T){var _=h._inputDomain,w=_[0]+(_[1]-_[0])*i[h.constraintoward];h.domain=h._input.domain=[w+(_[0]-w)/T,w+(_[1]-w)/T],h.setScale()}B.handleDefaults=function(h,T,_){var g,w,x,b,A,p,O,k,I=_.axIds,P=_.axHasImage,R=T._axisConstraintGroups=[],N=T._axisMatchGroups=[];for(g=0;g<I.length;g++)s(A=h[b=f(I[g])],p=T[b],{axIds:I,layoutOut:T,hasImage:P[b]});function j(te,re){for(g=0;g<te.length;g++)for(x in w=te[g])T[f(x)][re]=w}for(j(N,"_matchGroup"),g=0;g<R.length;g++)for(x in w=R[g])if((p=T[f(x)]).fixedrange){for(var X in w){var F=f(X);!1===(h[F]||{}).fixedrange&&D.warn("fixedrange was specified as false for axis "+F+" but was overridden because another axis in its constraint group has fixedrange true"),T[F].fixedrange=!0}break}for(g=0;g<R.length;){for(x in w=R[g]){(p=T[f(x)])._matchGroup&&Object.keys(p._matchGroup).length===Object.keys(w).length&&(R.splice(g,1),g--);break}g++}j(R,"_constraintGroup");var Z=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],W=!1,H=!1;function G(){k=p[O],"rangebreaks"===O&&(H=p._hasDayOfWeekBreaks)}for(g=0;g<N.length;g++){w=N[g];for(var Y=0;Y<Z.length;Y++){var se;for(x in O=Z[Y],k=null,w)if(A=h[b=f(x)],O in(p=T[b])){if(!p.matches&&(se=p,O in A)){G();break}null===k&&O in A&&G()}if("range"===O&&k&&A.range&&2===A.range.length&&null!==A.range[0]&&null!==A.range[1]&&(W=!0),"autorange"===O&&null===k&&W&&(k=!1),null===k&&O in se&&(k=se[O]),null!==k)for(x in w)(p=T[f(x)])[O]="range"===O?k.slice():k,"rangebreaks"===O&&(p._hasDayOfWeekBreaks=H,v(p,T))}}},B.enforce=function(h){var T,_,g,w,x,b,A,p,O=h._fullLayout,k=O._axisConstraintGroups||[];for(T=0;T<k.length;T++){g=d(k[T],O);var I=Object.keys(g),P=1/0,R=0,N=1/0,j={},X={},F=!1;for(_=0;_<I.length;_++)X[w=I[_]]=x=O[f(w)],x._inputDomain?x.domain=x._inputDomain.slice():x._inputDomain=x.domain.slice(),x._inputRange||(x._inputRange=x.range.slice()),x.setScale(),j[w]=b=Math.abs(x._m)/g[w],P=Math.min(P,b),"domain"!==x.constrain&&x._constraintShrinkable||(N=Math.min(N,b)),delete x._constraintShrinkable,R=Math.max(R,b),"domain"===x.constrain&&(F=!0);if(!(P>c*R)||F)for(_=0;_<I.length;_++)if(b=j[w=I[_]],A=(x=X[w]).constrain,b!==N||"domain"===A)if(p=b/N,"range"===A)M(x,p);else{var Z=x._inputDomain,W=(x.domain[1]-x.domain[0])/(Z[1]-Z[0]),H=(x.r2l(x.range[1])-x.r2l(x.range[0]))/(x.r2l(x._inputRange[1])-x.r2l(x._inputRange[0]));if((p/=W)*H<1){x.domain=x._input.domain=Z.slice(),M(x,p);continue}if(H<1&&(x.range=x._input.range=x._inputRange.slice(),p*=H),x.autorange){var G=x.r2l(x.range[0]),Y=x.r2l(x.range[1]),se=(G+Y)/2,te=se,re=se,Q=Math.abs(Y-se),ee=se-Q*p*1.0001,oe=se+Q*p*1.0001,le=E.makePadFn(O,x,0),ue=E.makePadFn(O,x,1);m(x,p);var de,he,we=Math.abs(x._m),Ae=E.concatExtremes(h,x),Te=Ae.min,ve=Ae.max;for(he=0;he<Te.length;he++)(de=Te[he].val-le(Te[he])/we)>ee&&de<te&&(te=de);for(he=0;he<ve.length;he++)(de=ve[he].val+ue(ve[he])/we)<oe&&de>re&&(re=de);p/=(re-te)/(2*Q),te=x.l2r(te),re=x.l2r(re),x.range=x._input.range=G<Y?[te,re]:[re,te]}m(x,p)}}},B.getAxisGroup=function(h,T){for(var _=h._axisMatchGroups,g=0;g<_.length;g++)if(_[g][T])return"g"+g;return T},B.clean=function(h,T){if(T._inputDomain){for(var _=!1,g=T._id,w=h._fullLayout._axisConstraintGroups,x=0;x<w.length;x++)if(w[x][g]){_=!0;break}_&&"domain"===T.constrain||(T._input.domain=T.domain=T._inputDomain,delete T._inputDomain)}}},29323:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=E.numberFormat,S=r(84267),M=r(38520),v=r(73972),c=E.strTranslate,i=r(63893),s=r(7901),a=r(91424),o=r(30211),l=r(89298),u=r(6964),d=r(28569),m=r(64505),h=m.selectingOrDrawing,T=m.freeMode,_=r(18783).FROM_TL,g=r(33306),w=r(61549).redrawReglTraces,x=r(74875),b=r(41675).getFromId,A=r(47322).prepSelect,p=r(47322).clearOutline,O=r(47322).selectOnClick,k=r(42449),I=r(85555),P=I.MINDRAG,R=I.MINZOOM,N=!0;function j(de,he,we,Ae){var Te=E.ensureSingle(de.draglayer,he,we,function(ve){ve.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",de.id)});return Te.call(u,Ae),Te.node()}function X(de,he,we,Ae,Te,ve,xe){var Fe=j(de,"rect",he,we);return D.select(Fe).call(a.setRect,Ae,Te,ve,xe),Fe}function F(de,he){for(var we=0;we<de.length;we++)if(!de[we].fixedrange)return he;return""}function Z(de,he,we,Ae,Te){for(var ve=0;ve<de.length;ve++){var xe=de[ve];if(!xe.fixedrange)if(xe.rangebreaks){var Fe="y"===xe._id.charAt(0),ke=Fe?1-we:we;Ae[xe._name+".range[0]"]=xe.l2r(xe.p2l((Fe?1-he:he)*xe._length)),Ae[xe._name+".range[1]"]=xe.l2r(xe.p2l(ke*xe._length))}else{var pe=xe._rl[0],fe=xe._rl[1]-pe;Ae[xe._name+".range[0]"]=xe.l2r(pe+fe*he),Ae[xe._name+".range[1]"]=xe.l2r(pe+fe*we)}}if(Te&&Te.length){var be=(he+(1-we))/2;Z(Te,be,1-be,Ae,[])}}function W(de,he){for(var we=0;we<de.length;we++){var Ae=de[we];if(!Ae.fixedrange){if(Ae.rangebreaks){var Te=Ae._length,ve=(Ae.p2l(0+he)-Ae.p2l(0)+(Ae.p2l(Te+he)-Ae.p2l(Te)))/2;Ae.range=[Ae.l2r(Ae._rl[0]-ve),Ae.l2r(Ae._rl[1]-ve)]}else Ae.range=[Ae.l2r(Ae._rl[0]-he/Ae._m),Ae.l2r(Ae._rl[1]-he/Ae._m)];Ae.limitRange&&Ae.limitRange()}}}function H(de){return 1-(de>=0?Math.min(de,.9):1/(1/Math.max(de,-.3)+3.222))}function G(de,he,we,Ae,Te){return de.append("path").attr("class","zoombox").style({fill:he>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",c(we,Ae)).attr("d",Te+"Z")}function Y(de,he,we){return de.append("path").attr("class","zoombox-corners").style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,opacity:0}).attr("transform",c(he,we)).attr("d","M0,0Z")}function se(de,he,we,Ae,Te,ve){de.attr("d",Ae+"M"+we.l+","+we.t+"v"+we.h+"h"+we.w+"v-"+we.h+"h-"+we.w+"Z"),te(de,he,Te,ve)}function te(de,he,we,Ae){we||(de.transition().style("fill",Ae>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),he.transition().style("opacity",1).duration(200))}function re(de){D.select(de).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Q(de){N&&de.data&&de._context.showTips&&(E.notifier(E._(de,"Double-click to zoom back out"),"long"),N=!1)}function ee(de){var he=Math.floor(Math.min(de.b-de.t,de.r-de.l,R)/2);return"M"+(de.l-3.5)+","+(de.t-.5+he)+"h3v"+-he+"h"+he+"v-3h-"+(he+3)+"ZM"+(de.r+3.5)+","+(de.t-.5+he)+"h-3v"+-he+"h"+-he+"v-3h"+(he+3)+"ZM"+(de.r+3.5)+","+(de.b+.5-he)+"h-3v"+he+"h"+-he+"v3h"+(he+3)+"ZM"+(de.l-3.5)+","+(de.b+.5-he)+"h3v"+he+"h"+he+"v3h-"+(he+3)+"Z"}function oe(de,he,we,Ae,Te){for(var ve,xe,Fe,Se,ke=!1,pe={},fe={},be=(Te||{}).xaHash,Le=(Te||{}).yaHash,Oe=0;Oe<he.length;Oe++){var De=he[Oe];for(ve in we)if(De[ve]){for(Fe in De)Te&&(be[Fe]||Le[Fe])||("x"===Fe.charAt(0)?we:Ae)[Fe]||(pe[Fe]=ve);for(xe in Ae)Te&&(be[xe]||Le[xe])||!De[xe]||(ke=!0)}for(xe in Ae)if(De[xe])for(Se in De)Te&&(be[Se]||Le[Se])||("x"===Se.charAt(0)?we:Ae)[Se]||(fe[Se]=xe)}ke&&(E.extendFlat(pe,fe),fe={});var Ue={},Ge=[];for(Fe in pe){var ye=b(de,Fe);Ge.push(ye),Ue[ye._id]=ye}var Ie={},Ee=[];for(Se in fe){var Be=b(de,Se);Ee.push(Be),Ie[Be._id]=Be}return{xaHash:Ue,yaHash:Ie,xaxes:Ge,yaxes:Ee,xLinks:pe,yLinks:fe,isSubplotConstrained:ke}}function le(de,he){if(M){var we=void 0!==de.onwheel?"wheel":"mousewheel";de._onwheel&&de.removeEventListener(we,de._onwheel),de._onwheel=he,de.addEventListener(we,he,{passive:!1})}else void 0!==de.onwheel?de.onwheel=he:void 0!==de.onmousewheel?de.onmousewheel=he:de.isAddedWheelEvent||(de.isAddedWheelEvent=!0,de.addEventListener("wheel",he,{passive:!1}))}function ue(de){var he=[];for(var we in de)he.push(de[we]);return he}ae.exports={makeDragBox:function(de,he,we,Ae,Te,ve,xe,Fe){var Se,ke,pe,fe,be,Le,Oe,De,Ue,Ge,ye,Ie,Ee,Be,We,He,Je,et,at,mt,ct,St,Dt,Et=de._fullLayout._zoomlayer,ht=xe+Fe==="nsew",pt=1===(xe+Fe).length;function Pt(){if(Ue=(Se=he.xaxis)._length,Ge=(ke=he.yaxis)._length,Oe=Se._offset,De=ke._offset,(pe={})[Se._id]=Se,(fe={})[ke._id]=ke,xe&&Fe)for(var on=he.overlays,yn=0;yn<on.length;yn++){var ln=on[yn].xaxis;pe[ln._id]=ln;var wn=on[yn].yaxis;fe[wn._id]=wn}be=ue(pe),Le=ue(fe),Ee=F(be,Fe),Be=F(Le,xe),We=!Be&&!Ee,Ie=oe(de,de._fullLayout._axisMatchGroups,pe,fe);var Cn=(ye=oe(de,de._fullLayout._axisConstraintGroups,pe,fe,Ie)).isSubplotConstrained||Ie.isSubplotConstrained;He=Fe||Cn,Je=xe||Cn;var Ln=de._fullLayout;et=Ln._has("scattergl"),at=Ln._has("splom"),mt=Ln._has("svg")}we+=he.yaxis._shift,Pt();var on,Ft=(on=Be+Ee)?"nsew"===on?ht?"":"pan"===de._fullLayout.dragmode?"move":"crosshair":on.toLowerCase()+"-resize":"pointer",Ht=X(he,xe+Fe+"drag",Ft,we,Ae,Te,ve);if(We&&!ht)return Ht.onmousedown=null,Ht.style.pointerEvents="none",Ht;var Lt,tt,rt,Ke,it,gt,ft,Ve,qe,dt,ut={element:Ht,gd:de,plotinfo:he};function At(){ut.plotinfo.selection=!1,p(de)}function wt(on,yn){var fr,er,nr,mr,dr,ln=ut.gd;if(ln._fullLayout._activeShapeIndex>=0)ln._fullLayout._deactivateShape(ln);else{var wn=ln._fullLayout.clickmode;if(re(ln),2!==on||pt||function en(){if(!de._transitioningWithDuration){var on=de._context.doubleClick,yn=[];Ee&&(yn=yn.concat(be)),Be&&(yn=yn.concat(Le)),Ie.xaxes&&(yn=yn.concat(Ie.xaxes)),Ie.yaxes&&(yn=yn.concat(Ie.yaxes));var ln,wn,Cn={};if("reset+autosize"===on)for(on="autosize",wn=0;wn<yn.length;wn++){var Ln=(ln=yn[wn])._rangeInitial0,Sn=ln._rangeInitial1,qn=void 0!==Ln||void 0!==Sn;if(qn&&(void 0!==Ln&&Ln!==ln.range[0]||void 0!==Sn&&Sn!==ln.range[1])||!qn&&!0!==ln.autorange){on="reset";break}}if("autosize"===on)for(wn=0;wn<yn.length;wn++)(ln=yn[wn]).fixedrange||(Cn[ln._name+".autorange"]=!0);else if("reset"===on)for((Ee||ye.isSubplotConstrained)&&(yn=yn.concat(ye.xaxes)),Be&&!ye.isSubplotConstrained&&(yn=yn.concat(ye.yaxes)),ye.isSubplotConstrained&&(Ee?Be||(yn=yn.concat(Le)):yn=yn.concat(be)),wn=0;wn<yn.length;wn++)if(!(ln=yn[wn]).fixedrange){var kn=ln._name,Zn=ln._autorangeInitial;void 0===ln._rangeInitial0&&void 0===ln._rangeInitial1?Cn[kn+".autorange"]=!0:void 0===ln._rangeInitial0?(Cn[kn+".autorange"]=Zn,Cn[kn+".range"]=[null,ln._rangeInitial1]):void 0===ln._rangeInitial1?(Cn[kn+".range"]=[ln._rangeInitial0,null],Cn[kn+".autorange"]=Zn):Cn[kn+".range"]=[ln._rangeInitial0,ln._rangeInitial1]}de.emit("plotly_doubleclick",null),v.call("_guiRelayout",de,Cn)}}(),ht)wn.indexOf("select")>-1&&O(yn,ln,be,Le,he.id,ut),wn.indexOf("event")>-1&&o.click(ln,yn,he.id);else if(1===on&&pt){var Cn=xe?ke:Se,Ln="s"===xe||"w"===Fe?0:1,Sn=Cn._name+".range["+Ln+"]",qn=(mr=(fr=Cn).range[er=Ln],dr=Math.abs(mr-fr.range[1-er]),"date"===fr.type?mr:"log"===fr.type?(nr=Math.ceil(Math.max(0,-Math.log(dr)/Math.LN10))+3,f("."+nr+"g")(Math.pow(10,mr))):(nr=Math.floor(Math.log(Math.abs(mr))/Math.LN10)-Math.floor(Math.log(dr)/Math.LN10)+4,f("."+String(nr)+"g")(mr))),kn="left",Zn="middle";if(Cn.fixedrange)return;xe?(Zn="n"===xe?"top":"bottom","right"===Cn.side&&(kn="right")):"e"===Fe&&(kn="right"),ln._context.showAxisRangeEntryBoxes&&D.select(Ht).call(i.makeEditable,{gd:ln,immediate:!0,background:ln._fullLayout.paper_bgcolor,text:String(qn),fill:Cn.tickfont?Cn.tickfont.color:"#444",horizontalAlign:kn,verticalAlign:Zn}).on("edit",function(fr){var er=Cn.d2r(fr);void 0!==er&&v.call("_guiRelayout",ln,Sn,er)})}}}function kt(on,yn){if(de._transitioningWithDuration)return!1;var Zn,fr,ln=Math.max(0,Math.min(Ue,St*on+Lt)),wn=Math.max(0,Math.min(Ge,Dt*yn+tt)),Cn=Math.abs(ln-Lt),Ln=Math.abs(wn-tt);function Sn(){ft="",rt.r=rt.l,rt.t=rt.b,qe.attr("d","M0,0Z")}if(rt.l=Math.min(Lt,ln),rt.r=Math.max(Lt,ln),rt.t=Math.min(tt,wn),rt.b=Math.max(tt,wn),ye.isSubplotConstrained)Cn>R||Ln>R?(ft="xy",Cn/Ue>Ln/Ge?(Ln=Cn*Ge/Ue,tt>wn?rt.t=tt-Ln:rt.b=tt+Ln):(Cn=Ln*Ue/Ge,Lt>ln?rt.l=Lt-Cn:rt.r=Lt+Cn),qe.attr("d",ee(rt))):Sn();else if(Ie.isSubplotConstrained)if(Cn>R||Ln>R){ft="xy";var qn=Math.min(rt.l/Ue,(Ge-rt.b)/Ge),kn=Math.max(rt.r/Ue,(Ge-rt.t)/Ge);rt.l=qn*Ue,rt.r=kn*Ue,rt.b=(1-qn)*Ge,rt.t=(1-kn)*Ge,qe.attr("d",ee(rt))}else Sn();else!Be||Ln<Math.min(Math.max(.6*Cn,P),R)?Cn<P||!Ee?Sn():(rt.t=0,rt.b=Ge,ft="x",qe.attr("d","M"+((Zn=rt).l-.5)+","+((fr=tt)-R-.5)+"h-3v"+(2*R+1)+"h3ZM"+(Zn.r+.5)+","+(fr-R-.5)+"h3v"+(2*R+1)+"h-3Z")):!Ee||Cn<Math.min(.6*Ln,R)?(rt.l=0,rt.r=Ue,ft="y",qe.attr("d",function(Zn,fr){return"M"+(fr-R-.5)+","+(Zn.t-.5)+"v-3h"+(2*R+1)+"v3ZM"+(fr-R-.5)+","+(Zn.b+.5)+"v3h"+(2*R+1)+"v-3Z"}(rt,Lt))):(ft="xy",qe.attr("d",ee(rt)));rt.w=rt.r-rt.l,rt.h=rt.b-rt.t,ft&&(dt=!0),de._dragged=dt,se(Ve,qe,rt,it,gt,Ke),_t(),de.emit("plotly_relayouting",ct),gt=!0}function _t(){ct={},"xy"!==ft&&"x"!==ft||(Z(be,rt.l/Ue,rt.r/Ue,ct,ye.xaxes),Jt("x",ct)),"xy"!==ft&&"y"!==ft||(Z(Le,(Ge-rt.b)/Ge,(Ge-rt.t)/Ge,ct,ye.yaxes),Jt("y",ct))}function Rt(){_t(),re(de),nn(),Q(de)}ut.prepFn=function(on,yn,ln){var wn=ut.dragmode,Cn=de._fullLayout.dragmode;Cn!==wn&&(ut.dragmode=Cn),Pt(),St=de._fullLayout._invScaleX,Dt=de._fullLayout._invScaleY,We||(ht?on.shiftKey?"pan"===Cn?Cn="zoom":h(Cn)||(Cn="pan"):on.ctrlKey&&(Cn="pan"):Cn="pan"),ut.minDrag=T(Cn)?1:void 0,h(Cn)?(ut.xaxes=be,ut.yaxes=Le,A(on,yn,ln,ut,Cn)):(ut.clickFn=wt,h(wn)&&At(),We||("zoom"===Cn?(ut.moveFn=kt,ut.doneFn=Rt,ut.minDrag=1,function(Ln,Sn,qn){var kn=Ht.getBoundingClientRect();Lt=Sn-kn.left,tt=qn-kn.top,de._fullLayout._calcInverseTransform(de);var Zn=E.apply3DTransform(de._fullLayout._invTransform)(Lt,tt);rt={l:Lt=Zn[0],r:Lt,w:0,t:tt=Zn[1],b:tt,h:0},Ke=de._hmpixcount?de._hmlumcount/de._hmpixcount:S(de._fullLayout.plot_bgcolor).getLuminance(),gt=!1,ft="xy",dt=!1,Ve=G(Et,Ke,Oe,De,it="M0,0H"+Ue+"V"+Ge+"H0V0"),qe=Y(Et,Oe,De)}(0,yn,ln)):"pan"===Cn&&(ut.moveFn=qt,ut.doneFn=nn))),de._fullLayout._redrag=function(){var Ln=de._dragdata;Ln&&Ln.element===Ht&&(h(de._fullLayout.dragmode)||(Pt(),dn([0,0,Ue,Ge]),ut.moveFn(Ln.dx,Ln.dy)))}},d.init(ut);var bt=[0,0,Ue,Ge],Tt=null,Ot=I.REDRAWDELAY,Wt=he.mainplot?de._fullLayout._plots[he.mainplot]:he;function qt(on,yn){if(on*=St,yn*=Dt,!de._transitioningWithDuration){if(de._fullLayout._replotting=!0,"ew"===Ee||"ns"===Be){var ln=Ee?-on:0,wn=Be?-yn:0;if(Ie.isSubplotConstrained){if(Ee&&Be){var Cn=(on/Ue-yn/Ge)/2;ln=-(on=Cn*Ue),wn=-(yn=-Cn*Ge)}Be?ln=-wn*Ue/Ge:wn=-ln*Ge/Ue}return Ee&&(W(be,on),Jt("x")),Be&&(W(Le,yn),Jt("y")),dn([ln,wn,Ue,Ge]),pn(),void de.emit("plotly_relayouting",ct)}var Ln,Sn,qn="w"===Ee==("n"===Be)?1:-1;if(Ee&&Be&&(ye.isSubplotConstrained||Ie.isSubplotConstrained)){var kn=(on/Ue+qn*yn/Ge)/2;on=kn*Ue,yn=qn*kn*Ge}if("w"===Ee?on=nr(be,0,on):"e"===Ee?on=nr(be,1,-on):Ee||(on=0),"n"===Be?yn=nr(Le,1,yn):"s"===Be?yn=nr(Le,0,-yn):Be||(yn=0),Ln="w"===Ee?on:0,Sn="n"===Be?yn:0,ye.isSubplotConstrained&&!Ie.isSubplotConstrained||Ie.isSubplotConstrained&&Ee&&Be&&qn>0){var Zn;if(Ie.isSubplotConstrained||!Ee&&1===Be.length){for(Zn=0;Zn<be.length;Zn++)be[Zn].range=be[Zn]._r.slice(),k(be[Zn],1-yn/Ge);Ln=(on=yn*Ue/Ge)/2}if(Ie.isSubplotConstrained||!Be&&1===Ee.length){for(Zn=0;Zn<Le.length;Zn++)Le[Zn].range=Le[Zn]._r.slice(),k(Le[Zn],1-on/Ue);Sn=(yn=on*Ge/Ue)/2}}Ie.isSubplotConstrained&&Be||Jt("x"),Ie.isSubplotConstrained&&Ee||Jt("y");var fr=Ue-on,er=Ge-yn;!Ie.isSubplotConstrained||Ee&&Be||(Ee?(Sn=Ln?0:on*Ge/Ue,er=fr*Ge/Ue):(Ln=Sn?0:yn*Ue/Ge,fr=er*Ue/Ge)),dn([Ln,Sn,fr,er]),pn(),de.emit("plotly_relayouting",ct)}function nr(mr,dr,Ir){for(var Yt,$t,xn=1-dr,vn=0;vn<mr.length;vn++){var Dn=mr[vn];if(!Dn.fixedrange){Yt=Dn,$t=Dn._rl[xn]+(Dn._rl[dr]-Dn._rl[xn])/H(Ir/Dn._length);var or=Dn.l2r($t);!1!==or&&void 0!==or&&(Dn.range[dr]=or)}}return Yt._length*(Yt._rl[dr]-$t)/(Yt._rl[dr]-Yt._rl[xn])}}function Jt(on,yn){for(var ln=Ie.isSubplotConstrained?{x:Le,y:be}[on]:Ie[on+"axes"],wn=Ie.isSubplotConstrained?{x:be,y:Le}[on]:[],Cn=0;Cn<ln.length;Cn++){var Ln=ln[Cn],Sn=Ln._id,qn=Ie.xLinks[Sn]||Ie.yLinks[Sn],kn=wn[0]||pe[qn]||fe[qn];kn&&(yn?(yn[Ln._name+".range[0]"]=yn[kn._name+".range[0]"],yn[Ln._name+".range[1]"]=yn[kn._name+".range[1]"]):Ln.range=kn.range.slice())}}function pn(){var on,yn=[];function ln(Sn){for(on=0;on<Sn.length;on++)Sn[on].fixedrange||yn.push(Sn[on]._id)}function wn(Sn,qn){for(on=0;on<Sn.length;on++){var kn=Sn[on],Zn=kn[qn];kn.fixedrange||"sync"!==Zn.tickmode||yn.push(Zn._id)}}for(He&&(ln(be),ln(ye.xaxes),ln(Ie.xaxes),wn(he.overlays,"xaxis")),Je&&(ln(Le),ln(ye.yaxes),ln(Ie.yaxes),wn(he.overlays,"yaxis")),ct={},on=0;on<yn.length;on++){var Ln=b(de,yn[on]);l.drawOne(de,Ln,{skipTitle:!0}),ct[Ln._name+".range[0]"]=Ln.range[0],ct[Ln._name+".range[1]"]=Ln.range[1]}l.redrawComponents(de,yn)}function nn(){dn([0,0,Ue,Ge]),E.syncOrAsync([x.previousPromises,function(){de._fullLayout._replotting=!1,v.call("_guiRelayout",de,ct)}],de)}function dn(on){var yn,ln,wn,Cn,Ln=de._fullLayout,Sn=Ln._plots,qn=Ln._subplots.cartesian;if(at&&v.subplotsRegistry.splom.drag(de),et)for(yn=0;yn<qn.length;yn++)if(wn=(ln=Sn[qn[yn]]).xaxis,Cn=ln.yaxis,ln._scene){var kn=E.simpleMap(wn.range,wn.r2l),Zn=E.simpleMap(Cn.range,Cn.r2l);wn.limitRange&&wn.limitRange(),Cn.limitRange&&Cn.limitRange(),ln._scene.update({range:[(kn=wn.range)[0],(Zn=Cn.range)[0],kn[1],Zn[1]]})}if((at||et)&&(g(de),w(de)),mt){var fr=on[2]/Se._length,er=on[3]/ke._length;for(yn=0;yn<qn.length;yn++){wn=(ln=Sn[qn[yn]]).xaxis,Cn=ln.yaxis;var nr,mr,dr,Ir,$t=(Je||Ie.isSubplotConstrained)&&!Cn.fixedrange&&fe[Cn._id];if((He||Ie.isSubplotConstrained)&&!wn.fixedrange&&pe[wn._id]?(nr=fr,dr=Fe||Ie.isSubplotConstrained?on[0]:An(wn,nr)):Ie.xaHash[wn._id]?(nr=fr,dr=on[0]*wn._length/Se._length):Ie.yaHash[wn._id]?(nr=er,dr="ns"===Be?-on[1]*wn._length/ke._length:An(wn,nr,{n:"top",s:"bottom"}[Be])):dr=Hn(wn,nr=In(wn,fr,er)),nr>1&&(void 0!==wn.maxallowed&&He===(wn.range[0]<wn.range[1]?"e":"w")||void 0!==wn.minallowed&&He===(wn.range[0]<wn.range[1]?"w":"e"))&&(nr=1,dr=0),$t?(mr=er,Ir=xe||Ie.isSubplotConstrained?on[1]:An(Cn,mr)):Ie.yaHash[Cn._id]?(mr=er,Ir=on[1]*Cn._length/ke._length):Ie.xaHash[Cn._id]?(mr=fr,Ir="ew"===Ee?-on[0]*Cn._length/Se._length:An(Cn,mr,{e:"right",w:"left"}[Ee])):Ir=Hn(Cn,mr=In(Cn,fr,er)),mr>1&&(void 0!==Cn.maxallowed&&Je===(Cn.range[0]<Cn.range[1]?"n":"s")||void 0!==Cn.minallowed&&Je===(Cn.range[0]<Cn.range[1]?"s":"n"))&&(mr=1,Ir=0),nr||mr){nr||(nr=1),mr||(mr=1);var xn=wn._offset-dr/nr,vn=Cn._offset-Ir/mr;ln.clipRect.call(a.setTranslate,dr,Ir).call(a.setScale,nr,mr),ln.plot.call(a.setTranslate,xn,vn).call(a.setScale,1/nr,1/mr),nr===ln.xScaleFactor&&mr===ln.yScaleFactor||(a.setPointGroupScale(ln.zoomScalePts,nr,mr),a.setTextPointsScale(ln.zoomScaleTxt,nr,mr)),a.hideOutsideRangePoints(ln.clipOnAxisFalseTraces,ln),ln.xScaleFactor=nr,ln.yScaleFactor=mr}}}}function In(on,yn,ln){return on.fixedrange?0:He&&ye.xaHash[on._id]?yn:Je&&(ye.isSubplotConstrained?ye.xaHash:ye.yaHash)[on._id]?ln:0}function Hn(on,yn){return yn?(on.range=on._r.slice(),k(on,yn),An(on,yn)):0}function An(on,yn,ln){return on._length*(1-yn)*_[ln||on.constraintoward||"middle"]}return xe.length*Fe.length!=1&&le(Ht,function(on){if(de._context._scrollZoom.cartesian||de._fullLayout._enablescrollzoom){if(At(),de._transitioningWithDuration)return on.preventDefault(),void on.stopPropagation();Pt(),clearTimeout(Tt);var yn=-on.deltaY;if(isFinite(yn)||(yn=on.wheelDelta/10),isFinite(yn)){var ln,wn=Math.exp(-Math.min(Math.max(yn,-20),20)/200),Cn=Wt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Ln=(on.clientX-Cn.left)/Cn.width,Sn=(Cn.bottom-on.clientY)/Cn.height;if(He){for(Fe||(Ln=.5),ln=0;ln<be.length;ln++)qn(be[ln],Ln,wn);Jt("x"),bt[2]*=wn,bt[0]+=bt[2]*Ln*(1/wn-1)}if(Je){for(xe||(Sn=.5),ln=0;ln<Le.length;ln++)qn(Le[ln],Sn,wn);Jt("y"),bt[3]*=wn,bt[1]+=bt[3]*(1-Sn)*(1/wn-1)}dn(bt),pn(),de.emit("plotly_relayouting",ct),Tt=setTimeout(function(){de._fullLayout&&(bt=[0,0,Ue,Ge],nn())},Ot),on.preventDefault()}else E.log("Did not find wheel motion attributes: ",on)}function qn(kn,Zn,fr){if(!kn.fixedrange){var er=E.simpleMap(kn.range,kn.r2l),nr=er[0]+(er[1]-er[0])*Zn;kn.range=er.map(function(mr){return kn.l2r(nr+(mr-nr)*fr)})}}}),Ht},makeDragger:j,makeRectDragger:X,makeZoombox:G,makeCorners:Y,updateZoombox:se,xyCorners:ee,transitionZoombox:te,removeZoombox:re,showDoubleClickNotifier:Q,attachWheelEventHandler:le}},4305:function(ae,B,r){"use strict";var D=r(39898),E=r(30211),f=r(28569),S=r(6964),M=r(29323).makeDragBox,v=r(85555).DRAGGERSIZE;B.initInteractions=function(c){var i=c._fullLayout;if(c._context.staticPlot)D.select(c).selectAll(".drag").remove();else if(i._has("cartesian")||i._has("splom")){Object.keys(i._plots||{}).sort(function(a,o){if((i._plots[a].mainplot&&!0)===(i._plots[o].mainplot&&!0)){var l=a.split("y"),u=o.split("y");return l[0]===u[0]?Number(l[1]||1)-Number(u[1]||1):Number(l[0]||1)-Number(u[0]||1)}return i._plots[a].mainplot?1:-1}).forEach(function(a){var o=i._plots[a],l=o.xaxis,u=o.yaxis;if(!o.mainplot){var d=M(c,o,l._offset,u._offset,l._length,u._length,"ns","ew");d.onmousemove=function(T){c._fullLayout._rehover=function(){c._fullLayout._hoversubplot===a&&c._fullLayout._plots[a]&&E.hover(c,T,a)},E.hover(c,T,a),c._fullLayout._lasthover=d,c._fullLayout._hoversubplot=a},d.onmouseout=function(T){c._dragging||(c._fullLayout._hoversubplot=null,f.unhover(c,T))},c._context.showAxisDragHandles&&(M(c,o,l._offset-v,u._offset-v,v,v,"n","w"),M(c,o,l._offset+l._length,u._offset-v,v,v,"n","e"),M(c,o,l._offset-v,u._offset+u._length,v,v,"s","w"),M(c,o,l._offset+l._length,u._offset+u._length,v,v,"s","e"))}if(c._context.showAxisDragHandles){if(a===l._mainSubplot){var m=l._mainLinePosition;"top"===l.side&&(m-=v),M(c,o,l._offset+.1*l._length,m,.8*l._length,v,"","ew"),M(c,o,l._offset,m,.1*l._length,v,"","w"),M(c,o,l._offset+.9*l._length,m,.1*l._length,v,"","e")}if(a===u._mainSubplot){var h=u._mainLinePosition;"right"!==u.side&&(h-=v),M(c,o,h,u._offset+.1*u._length,v,.8*u._length,"ns",""),M(c,o,h,u._offset+.9*u._length,v,.1*u._length,"s",""),M(c,o,h,u._offset,v,.1*u._length,"n","")}}});var s=i._hoverlayer.node();s.onmousemove=function(a){a.target=c._fullLayout._lasthover,E.hover(c,a,i._hoversubplot)},s.onclick=function(a){a.target=c._fullLayout._lasthover,E.click(c,a)},s.onmousedown=function(a){c._fullLayout._lasthover.onmousedown(a)},B.updateFx(c)}},B.updateFx=function(c){var i=c._fullLayout;S(i._draggers,"pan"===i.dragmode?"move":"crosshair")}},76325:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(41675);ae.exports=function(S){return function(M,v){var c=M[S];if(Array.isArray(c))for(var i=D.subplotsRegistry.cartesian,s=i.idRegex,a=v._subplots,o=a.xaxis,l=a.yaxis,u=a.cartesian,d=v._has("cartesian")||v._has("gl2d"),m=0;m<c.length;m++){var h=c[m];if(E.isPlainObject(h)){var T=f.cleanId(h.xref,"x",!1),_=f.cleanId(h.yref,"y",!1),g=s.x.test(T),w=s.y.test(_);if(g||w){d||E.pushUnique(v._basePlotModules,i);var x=!1;g&&-1===o.indexOf(T)&&(o.push(T),x=!0),w&&-1===l.indexOf(_)&&(l.push(_),x=!0),x&&g&&w&&u.push(T+_)}}}}}},93612:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(71828),S=r(74875),M=r(91424),v=r(27659).a0,c=r(41675),i=r(85555),s=r(77922),a=f.ensureSingle;function o(h,T,_){return f.ensureSingle(h,T,_,function(g){g.datum(_)})}function l(h,T,_,g,w){for(var x,b,A,p=i.traceLayerClasses,O=h._fullLayout,k=O._modules,I=[],P=[],R=0;R<k.length;R++){var N=(x=k[R]).name,j=E.modules[N].categories;if(j.svg){var X=x.layerName||N+"layer",F=x.plot;A=(b=v(_,F))[0],_=b[1],A.length&&I.push({i:p.indexOf(X),className:X,plotMethod:F,cdModule:A}),j.zoomScale&&P.push("."+X)}}I.sort(function(H,G){return H.i-G.i});var Z=T.plot.selectAll("g.mlayer").data(I,function(H){return H.className});if(Z.enter().append("g").attr("class",function(H){return H.className}).classed("mlayer",!0).classed("rangeplot",T.isRangePlot),Z.exit().remove(),Z.order(),Z.each(function(H){var G=D.select(this),Y=H.className;H.plotMethod(h,T,H.cdModule,G,g,w),-1===i.clipOnAxisFalseQuery.indexOf("."+Y)&&M.setClipUrl(G,T.layerClipId,h)}),O._has("scattergl")&&(x=E.getModule("scattergl"),A=v(_,x)[0],x.plot(h,T,A)),!h._context.staticPlot&&(T._hasClipOnAxisFalse&&(T.clipOnAxisFalseTraces=T.plot.selectAll(i.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),P.length)){var W=T.plot.selectAll(P.join(",")).selectAll(".trace");T.zoomScalePts=W.selectAll("path.point"),T.zoomScaleTxt=W.selectAll(".textpoint")}}function u(h,T){var _=T.plotgroup,g=T.id,w=i.layerValue2layerClass[T.xaxis.layer],x=i.layerValue2layerClass[T.yaxis.layer],b=h._fullLayout._hasOnlyLargeSploms;if(T.mainplot){var A=T.mainplotinfo,p=A.plotgroup,O=g+"-x",k=g+"-y";T.minorGridlayer=A.minorGridlayer,T.gridlayer=A.gridlayer,T.zerolinelayer=A.zerolinelayer,a(A.overlinesBelow,"path",O),a(A.overlinesBelow,"path",k),a(A.overaxesBelow,"g",O),a(A.overaxesBelow,"g",k),T.plot=a(A.overplot,"g",g),a(A.overlinesAbove,"path",O),a(A.overlinesAbove,"path",k),a(A.overaxesAbove,"g",O),a(A.overaxesAbove,"g",k),T.xlines=p.select(".overlines-"+w).select("."+O),T.ylines=p.select(".overlines-"+x).select("."+k),T.xaxislayer=p.select(".overaxes-"+w).select("."+O),T.yaxislayer=p.select(".overaxes-"+x).select("."+k)}else if(b)T.xlines=a(_,"path","xlines-above"),T.ylines=a(_,"path","ylines-above"),T.xaxislayer=a(_,"g","xaxislayer-above"),T.yaxislayer=a(_,"g","yaxislayer-above");else{var I=a(_,"g","layer-subplot");T.shapelayer=a(I,"g","shapelayer"),T.imagelayer=a(I,"g","imagelayer"),T.minorGridlayer=a(_,"g","minor-gridlayer"),T.gridlayer=a(_,"g","gridlayer"),T.zerolinelayer=a(_,"g","zerolinelayer"),a(_,"path","xlines-below"),a(_,"path","ylines-below"),T.overlinesBelow=a(_,"g","overlines-below"),a(_,"g","xaxislayer-below"),a(_,"g","yaxislayer-below"),T.overaxesBelow=a(_,"g","overaxes-below"),T.plot=a(_,"g","plot"),T.overplot=a(_,"g","overplot"),T.xlines=a(_,"path","xlines-above"),T.ylines=a(_,"path","ylines-above"),T.overlinesAbove=a(_,"g","overlines-above"),a(_,"g","xaxislayer-above"),a(_,"g","yaxislayer-above"),T.overaxesAbove=a(_,"g","overaxes-above"),T.xlines=_.select(".xlines-"+w),T.ylines=_.select(".ylines-"+x),T.xaxislayer=_.select(".xaxislayer-"+w),T.yaxislayer=_.select(".yaxislayer-"+x)}b||(o(T.minorGridlayer,"g",T.xaxis._id),o(T.minorGridlayer,"g",T.yaxis._id),T.minorGridlayer.selectAll("g").map(function(P){return P[0]}).sort(c.idSort),o(T.gridlayer,"g",T.xaxis._id),o(T.gridlayer,"g",T.yaxis._id),T.gridlayer.selectAll("g").map(function(P){return P[0]}).sort(c.idSort)),T.xlines.style("fill","none").classed("crisp",!0),T.ylines.style("fill","none").classed("crisp",!0)}function d(h,T){if(h){var _={};for(var g in h.each(function(A){var p=A[0];D.select(this).remove(),m(p,T),_[p]=!0}),T._plots)for(var w=T._plots[g].overlays||[],x=0;x<w.length;x++){var b=w[x];_[b.id]&&b.plot.selectAll(".trace").remove()}}}function m(h,T){T._draggers.selectAll("g."+h).remove(),T._defs.select("#clip"+T._uid+h+"plot").remove()}B.name="cartesian",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=i.idRegex,B.attrRegex=i.attrRegex,B.attributes=r(89502),B.layoutAttributes=r(13838),B.supplyLayoutDefaults=r(86763),B.transitionAxes=r(66847),B.finalizeSubplots=function(h,T){var _,g,w,x=T._subplots,b=x.xaxis,A=x.yaxis,p=x.cartesian,O=p.concat(x.gl2d||[]),k={},I={};for(_=0;_<O.length;_++){var P=O[_].split("y");k[P[0]]=1,I["y"+P[1]]=1}for(_=0;_<b.length;_++)k[g=b[_]]||(w=(h[c.id2name(g)]||{}).anchor,i.idRegex.y.test(w)||(w="y"),p.push(g+w),O.push(g+w),I[w]||(I[w]=1,f.pushUnique(A,w)));for(_=0;_<A.length;_++)I[w=A[_]]||(g=(h[c.id2name(w)]||{}).anchor,i.idRegex.x.test(g)||(g="x"),p.push(g+w),O.push(g+w),k[g]||(k[g]=1,f.pushUnique(b,g)));if(!O.length){for(var R in g="",w="",h)i.attrRegex.test(R)&&("x"===R.charAt(0)?(!g||+R.substr(5)<+g.substr(5))&&(g=R):(!w||+R.substr(5)<+w.substr(5))&&(w=R));g=g?c.name2id(g):"x",w=w?c.name2id(w):"y",b.push(g),A.push(w),p.push(g+w)}},B.plot=function(h,T,_,g){var w,x=h._fullLayout,b=x._subplots.cartesian,A=h.calcdata;if(!Array.isArray(T))for(T=[],w=0;w<A.length;w++)T.push(w);for(w=0;w<b.length;w++){for(var p,O=b[w],k=x._plots[O],I=[],P=0;P<A.length;P++){var R=A[P],N=R[0].trace;N.xaxis+N.yaxis===O&&((-1!==T.indexOf(N.index)||N.carpet)&&(p&&p[0].trace.xaxis+p[0].trace.yaxis===O&&-1!==["tonextx","tonexty","tonext"].indexOf(N.fill)&&-1===I.indexOf(p)&&I.push(p),I.push(R)),p=R)}l(h,k,I,_,g)}},B.clean=function(h,T,_,g){var w,x,b,A=g._plots||{},p=T._plots||{},O=g._subplots||{};if(g._hasOnlyLargeSploms&&!T._hasOnlyLargeSploms)for(b in A)(w=A[b]).plotgroup&&w.plotgroup.remove();var k=g._has&&g._has("gl"),I=T._has&&T._has("gl");if(k&&!I)for(b in A)(w=A[b])._scene&&w._scene.destroy();if(O.xaxis&&O.yaxis){var P=c.listIds({_fullLayout:g});for(x=0;x<P.length;x++){var R=P[x];T[c.id2name(R)]||g._infolayer.selectAll(".g-"+R+"title").remove()}}var N=g._has&&g._has("cartesian"),j=T._has&&T._has("cartesian");if(N&&!j)d(g._cartesianlayer.selectAll(".subplot"),g),g._defs.selectAll(".axesclip").remove(),delete g._axisConstraintGroups,delete g._axisMatchGroups;else if(O.cartesian)for(x=0;x<O.cartesian.length;x++){var X=O.cartesian[x];p[X]||(g._cartesianlayer.selectAll("."+X+",."+X+"-x,."+X+"-y").remove(),m(X,g))}},B.drawFramework=function(h){var T=h._fullLayout,_=function(w){var x,b,A,p,O,k,I=w._fullLayout,P=I._subplots.cartesian,R=P.length,N=[],j=[];for(x=0;x<R;x++){var Z=(O=(p=I._plots[A=P[x]]).xaxis)._mainAxis._id+(k=p.yaxis)._mainAxis._id,W=I._plots[Z];p.overlays=[],Z!==A&&W?(p.mainplot=Z,p.mainplotinfo=W,j.push(A)):(p.mainplot=void 0,p.mainplotinfo=void 0,N.push(A))}for(x=0;x<j.length;x++)(p=I._plots[A=j[x]]).mainplotinfo.overlays.push(p);var H=N.concat(j),G=new Array(R);for(x=0;x<R;x++){var Y=[A=H[x],(O=(p=I._plots[A]).xaxis).layer,(k=p.yaxis).layer,O.overlaying||"",k.overlaying||""];for(b=0;b<p.overlays.length;b++)Y.push(p.overlays[b].id);G[x]=Y}return G}(h),g=T._cartesianlayer.selectAll(".subplot").data(_,String);g.enter().append("g").attr("class",function(w){return"subplot "+w[0]}),g.order(),g.exit().call(d,T),g.each(function(w){var x=w[0],b=T._plots[x];b.plotgroup=D.select(this),u(h,b),b.draglayer=a(T._draggers,"g",x)})},B.rangePlot=function(h,T,_){u(h,T),l(h,T,_),S.style(h)},B.toSVG=function(h){var T=h._fullLayout._glimages,_=D.select(h).selectAll(".svg-container");_.filter(function(g,w){return w===_.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var g=this,w=g.toDataURL("image/png");T.append("svg:image").attr({xmlns:s.svg,"xlink:href":w,preserveAspectRatio:"none",x:0,y:0,width:g.style.width,height:g.style.height})})},B.updateFx=r(4305).updateFx},13838:function(ae,B,r){"use strict";var D=r(41940),E=r(22399),f=r(79952).P,S=r(1426).extendFlat,M=r(44467).templatedArray,v=r(12663).descriptionWithDates,c=r(50606).ONEDAY,i=r(85555),s=i.HOUR_PATTERN,a=i.WEEKDAY_PATTERN,o={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},l=S({},o,{values:o.values.slice().concat(["sync"])});function u(O){return{valType:"integer",min:0,dflt:O?5:0,editType:"ticks"}}var d={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function _(O){var k={valType:"number",min:0,editType:"ticks"};return O||(k.dflt=5),k}function g(O){var k={valType:"number",min:0,editType:"ticks"};return O||(k.dflt=1),k}var w={valType:"color",dflt:E.defaultLine,editType:"ticks"},x={valType:"color",dflt:E.lightLine,editType:"ticks"};function b(O){var k={valType:"number",min:0,editType:"ticks"};return O||(k.dflt=1),k}var A=S({},f,{editType:"ticks"}),p={valType:"boolean",editType:"ticks"};ae.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:E.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:D({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[i.idRegex.x.toString(),i.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"calc"},rangebreaks:M("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[a,s,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:c},editType:"calc"}),tickmode:l,nticks:u(),tick0:d,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:_(),tickwidth:g(),tickcolor:w,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:S({},f,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:D({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:M("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:E.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:p,gridcolor:x,gridwidth:b(),griddash:A,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:E.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:E.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},minor:{tickmode:o,nticks:u("minor"),tick0:d,dtick:m,tickvals:h,ticks:T,ticklen:_("minor"),tickwidth:g("minor"),tickcolor:w,gridcolor:x,gridwidth:b("minor"),griddash:A,showgrid:p,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:D({editType:"ticks"})}}},86763:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(23469).isUnifiedHover,S=r(98212),M=r(44467),v=r(10820),c=r(13838),i=r(951),s=r(71453),a=r(99082),o=r(52830),l=r(41675),u=l.id2name,d=l.name2id,m=r(85555).AX_ID_PATTERN,h=r(73972),T=h.traceIs,_=h.getComponentMethod;function g(w,x,b){Array.isArray(w[x])?w[x].push(b):w[x]=[b]}ae.exports=function(w,x,b){var A,p,O=x.autotypenumbers,k={},I={},P={},R={},N={},j={},X={},F={},Z={},W={};for(A=0;A<b.length;A++){var H=b[A];if(T(H,"cartesian")||T(H,"gl2d")){var G,Y;if(H.xaxis)G=u(H.xaxis),g(k,G,H);else if(H.xaxes)for(p=0;p<H.xaxes.length;p++)g(k,u(H.xaxes[p]),H);if(H.yaxis)Y=u(H.yaxis),g(k,Y,H);else if(H.yaxes)for(p=0;p<H.yaxes.length;p++)g(k,u(H.yaxes[p]),H);"funnel"===H.type?"h"===H.orientation?(G&&(I[G]=!0),Y&&(X[Y]=!0)):Y&&(P[Y]=!0):"image"===H.type?(Y&&(F[Y]=!0),G&&(F[G]=!0)):(Y&&(N[Y]=!0,j[Y]=!0),T(H,"carpet")&&("carpet"!==H.type||H._cheater)||G&&(R[G]=!0)),"carpet"===H.type&&H._cheater&&G&&(I[G]=!0),T(H,"2dMap")&&(Z[G]=!0,Z[Y]=!0),T(H,"oriented")&&(W["h"===H.orientation?Y:G]=!0)}}var se=x._subplots,te=se.xaxis,re=se.yaxis,Q=D.simpleMap(te,u),ee=D.simpleMap(re,u),oe=Q.concat(ee),le=E.background;te.length&&re.length&&(le=D.coerce(w,x,v,"plot_bgcolor"));var ue,de,he,we,Ae,Te=E.combine(le,x.paper_bgcolor);function ve(){Ae._traceIndices=(k[ue]||[]).map(function(Pt){return Pt._expandedIndex}),Ae._annIndices=[],Ae._shapeIndices=[],Ae._selectionIndices=[],Ae._imgIndices=[],Ae._subplotsWith=[],Ae._counterAxes=[],Ae._name=Ae._attr=ue,Ae._id=de}function xe(pt,Pt){return D.coerce(we,Ae,c,pt,Pt)}function Fe(pt,Pt){return D.coerce2(we,Ae,c,pt,Pt)}function Se(pt){return"x"===pt?re:te}function ke(pt,Pt){for(var Ft="x"===pt?Q:ee,Ht=[],Lt=0;Lt<Ft.length;Lt++){var tt=Ft[Lt];tt===Pt||(w[tt]||{}).overlaying||Ht.push(d(tt))}return Ht}var pe={x:Se("x"),y:Se("y")},fe=pe.x.concat(pe.y),be={},Le=[];function Oe(){var pt=we.matches;m.test(pt)&&-1===fe.indexOf(pt)&&(be[pt]=we.type,Le=Object.keys(be))}var De=S(w,x),Ue=f(De);for(A=0;A<oe.length;A++){de=d(ue=oe[A]),he=ue.charAt(0),D.isPlainObject(w[ue])||(w[ue]={}),we=w[ue],Ae=M.newContainer(x,ue,he+"axis"),ve();var Ie={hasMinor:!0,letter:he,font:x.font,outerTicks:Z[ue],showGrid:!W[ue],data:k[ue]||[],bgColor:Te,calendar:x.calendar,automargin:!0,visibleDflt:"x"===he&&!R[ue]&&I[ue]||"y"===he&&!N[ue]&&P[ue],reverseDflt:"y"===he&&(!j[ue]&&X[ue]||F[ue]),autotypenumbersDflt:O,splomStash:((x._splomAxes||{})[he]||{})[de]};xe("uirevision",x.uirevision),i(we,Ae,xe,Ie),s(we,Ae,xe,Ie,x);var Ee=Ue&&he===De.charAt(0),Be=Fe("spikecolor",Ue?Ae.color:void 0),We=Fe("spikethickness",Ue?1.5:void 0),He=Fe("spikedash",Ue?"dot":void 0),Je=Fe("spikemode",Ue?"across":void 0),et=Fe("spikesnap");xe("showspikes",!!(Ee||Be||We||He||Je||et))||(delete Ae.spikecolor,delete Ae.spikethickness,delete Ae.spikedash,delete Ae.spikemode,delete Ae.spikesnap);var at=u(we.overlaying),mt=[0,1];if(void 0!==x[at]){var ct=u(x[at].anchor);void 0!==x[ct]&&(mt=x[ct].domain)}o(we,Ae,xe,{letter:he,counterAxes:pe[he],overlayableAxes:ke(he,ue),grid:x.grid,overlayingDomain:mt}),xe("title.standoff"),Oe(),Ae._input=we}for(A=0;A<Le.length;){de=Le[A++],he=(ue=u(de)).charAt(0),D.isPlainObject(w[ue])||(w[ue]={}),we=w[ue],Ae=M.newContainer(x,ue,he+"axis"),ve();var St={letter:he,font:x.font,outerTicks:Z[ue],showGrid:!W[ue],data:[],bgColor:Te,calendar:x.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:O,splomStash:((x._splomAxes||{})[he]||{})[de]};xe("uirevision",x.uirevision),Ae.type=be[de]||"linear",s(we,Ae,xe,St,x),o(we,Ae,xe,{letter:he,counterAxes:pe[he],overlayableAxes:ke(he,ue),grid:x.grid}),xe("fixedrange"),Oe(),Ae._input=we}var Dt=_("rangeslider","handleDefaults"),Et=_("rangeselector","handleDefaults");for(A=0;A<Q.length;A++)we=w[ue=Q[A]],Ae=x[ue],Dt(w,x,ue),"date"===Ae.type&&Et(we,Ae,x,ee,Ae.calendar),xe("fixedrange");for(A=0;A<ee.length;A++){we=w[ue=ee[A]];var ht=x[u((Ae=x[ue]).anchor)];xe("fixedrange",_("rangeslider","isVisible")(ht))}a.handleDefaults(w,x,{axIds:fe.concat(Le).sort(l.idSort),axHasImage:F})}},92128:function(ae,B,r){"use strict";var D=r(84267).mix,E=r(22399),f=r(71828);ae.exports=function(S,M,v,c){var i=(c=c||{}).dfltColor;function s(w,x){return f.coerce2(S,M,c.attributes,w,x)}var a=s("linecolor",i),o=s("linewidth");v("showline",c.showLine||!!a||!!o)||(delete M.linecolor,delete M.linewidth);var l=s("gridcolor",D(i,c.bgColor,c.blend||E.lightFraction).toRgbString()),u=s("gridwidth"),d=s("griddash");if(v("showgrid",c.showGrid||!!l||!!u||!!d)||(delete M.gridcolor,delete M.gridwidth,delete M.griddash),c.hasMinor){var m=s("minor.gridcolor",D(M.gridcolor,c.bgColor,67).toRgbString()),h=s("minor.gridwidth",M.gridwidth||1),T=s("minor.griddash",M.griddash||"solid");v("minor.showgrid",!!m||!!h||!!T)||(delete M.minor.gridcolor,delete M.minor.gridwidth,delete M.minor.griddash)}if(!c.noZeroLine){var _=s("zerolinecolor",i),g=s("zerolinewidth");v("zeroline",c.showGrid||!!_||!!g)||(delete M.zerolinecolor,delete M.zerolinewidth)}}},52830:function(ae,B,r){"use strict";var D=r(92770),E=r(71828);ae.exports=function(f,S,M,v){var c,i,s,a,o,l,u=v.counterAxes||[],d=v.overlayableAxes||[],m=v.letter,h=v.grid,T=v.overlayingDomain;h&&(c=h._anchors[S._id],(i=h._domains[m][h._axisMap[S._id]])&&(s=h[m+"side"].split(" ")[0],a=h.domain[m]["right"===s||"top"===s?1:0])),i=i||[0,1],c=c||(D(f.position)?"free":u[0]||"free"),s=s||("x"===m?"bottom":"left"),a=a||0,o=0,l=!1;var _=E.coerce(f,S,{anchor:{valType:"enumerated",values:["free"].concat(u),dflt:c}},"anchor"),g=E.coerce(f,S,{side:{valType:"enumerated",values:"x"===m?["bottom","top"]:["left","right"],dflt:s}},"side");"free"===_&&("y"===m&&(M("autoshift")&&(a="left"===g?T[0]:T[1],l=!S.automargin||S.automargin,o="left"===g?-3:3),M("shift",o)),M("position",a)),M("automargin",l);var w=!1;if(d.length&&(w=E.coerce(f,S,{overlaying:{valType:"enumerated",values:[!1].concat(d),dflt:!1}},"overlaying")),!w){var x=M("domain",i);x[0]>x[1]-.000244140625&&(S.domain=i),E.noneOrAll(f.domain,S.domain,i),"sync"===S.tickmode&&(S.tickmode="auto")}return M("layer"),S}},89426:function(ae,B,r){"use strict";var D=r(59652);ae.exports=function(E,f,S,M,v){v||(v={});var c=v.tickSuffixDflt,i=D(E);S("tickprefix")&&S("showtickprefix",i),S("ticksuffix",c)&&S("showticksuffix",i)}},23608:function(ae,B,r){"use strict";var D=r(23074);ae.exports=function(E,f,S,M){var c=f.type||(f._template||{}).type||"-";S("minallowed"),S("maxallowed");var i,s=S("range");s||M.noInsiderange||"log"===c||(!(i=S("insiderange"))||null!==i[0]&&null!==i[1]||(f.insiderange=!1,i=void 0),i&&(s=S("range",i)));var a,o=f.getAutorangeDflt(s,M),l=S("autorange",o);!s||(null!==s[0]||null!==s[1])&&(null!==s[0]&&null!==s[1]||"reversed"!==l&&!0!==l)&&(null===s[0]||"min"!==l&&"max reversed"!==l)&&(null===s[1]||"max"!==l&&"min reversed"!==l)||(s=void 0,delete f.range,f.autorange=!0,a=!0),a||(l=S("autorange",o=f.getAutorangeDflt(s,M))),l&&(D(S,l,s),"linear"!==c&&"-"!==c||S("rangemode")),f.cleanRange()}},42449:function(ae,B,r){"use strict";var D=r(18783).FROM_BL;ae.exports=function(E,f,S){void 0===S&&(S=D[E.constraintoward||"center"]);var M=[E.r2l(E.range[0]),E.r2l(E.range[1])],v=M[0]+(M[1]-M[0])*S;E.range=E._input.range=[E.l2r(v+(M[0]-v)*f),E.l2r(v+(M[1]-v)*f)],E.setScale()}},21994:function(ae,B,r){"use strict";var D=r(39898),E=r(84096).g0,f=r(71828),S=f.numberFormat,M=r(92770),v=f.cleanNumber,c=f.ms2DateTime,i=f.dateTime2ms,s=f.ensureNumber,a=f.isArrayOrTypedArray,o=r(50606),l=o.FP_SAFE,u=o.BADNUM,d=o.LOG_CLIP,m=o.ONEWEEK,h=o.ONEDAY,T=o.ONEHOUR,_=o.ONEMIN,g=o.ONESEC,w=r(41675),x=r(85555),b=x.HOUR_PATTERN,A=x.WEEKDAY_PATTERN;function p(k){return Math.pow(10,k)}function O(k){return null!=k}ae.exports=function(k,I){I=I||{};var P=k._id||"x",R=P.charAt(0);function N(oe,le){if(oe>0)return Math.log(oe)/Math.LN10;if(oe<=0&&le&&k.range&&2===k.range.length){var ue=k.range[0],de=k.range[1];return.5*(ue+de-2*d*Math.abs(ue-de))}return u}function j(oe,le,ue,de){if((de||{}).msUTC&&M(oe))return+oe;var he=i(oe,ue||k.calendar);if(he===u){if(!M(oe))return u;oe=+oe;var we=Math.floor(10*f.mod(oe+.05,1)),Ae=Math.round(oe-we/10);he=i(new Date(Ae))+we/10}return he}function X(oe,le,ue){return c(oe,le,ue||k.calendar)}function F(oe){return k._categories[Math.round(oe)]}function Z(oe){if(O(oe)){if(void 0===k._categoriesMap&&(k._categoriesMap={}),void 0!==k._categoriesMap[oe])return k._categoriesMap[oe];k._categories.push("number"==typeof oe?String(oe):oe);var le=k._categories.length-1;return k._categoriesMap[oe]=le,le}return u}function W(oe){if(k._categoriesMap)return k._categoriesMap[oe]}function H(oe){var le=W(oe);return void 0!==le?le:M(oe)?+oe:void 0}function G(oe){return M(oe)?+oe:W(oe)}function Y(oe,le,ue){return D.round(ue+le*oe,2)}function se(oe,le,ue){return(oe-ue)/le}var te=function(oe){return M(oe)?Y(oe,k._m,k._b):u},re=function(oe){return se(oe,k._m,k._b)};if(k.rangebreaks){var Q="y"===R;te=function(oe){if(!M(oe))return u;var le=k._rangebreaks.length;if(!le)return Y(oe,k._m,k._b);var ue=Q;k.range[0]>k.range[1]&&(ue=!ue);for(var de=ue?-1:1,he=de*oe,we=0,Ae=0;Ae<le;Ae++){var Te=de*k._rangebreaks[Ae].min,ve=de*k._rangebreaks[Ae].max;if(he<Te)break;if(!(he>ve)){we=he<(Te+ve)/2?Ae:Ae+1;break}we=Ae+1}var xe=k._B[we]||0;return isFinite(xe)?Y(oe,k._m2,xe):0},re=function(oe){var le=k._rangebreaks.length;if(!le)return se(oe,k._m,k._b);for(var ue=0,de=0;de<le&&!(oe<k._rangebreaks[de].pmin);de++)oe>k._rangebreaks[de].pmax&&(ue=de+1);return se(oe,k._m2,k._B[ue])}}k.c2l="log"===k.type?N:s,k.l2c="log"===k.type?p:s,k.l2p=te,k.p2l=re,k.c2p="log"===k.type?function(oe,le){return te(N(oe,le))}:te,k.p2c="log"===k.type?function(oe){return p(re(oe))}:re,-1!==["linear","-"].indexOf(k.type)?(k.d2r=k.r2d=k.d2c=k.r2c=k.d2l=k.r2l=v,k.c2d=k.c2r=k.l2d=k.l2r=s,k.d2p=k.r2p=function(oe){return k.l2p(v(oe))},k.p2d=k.p2r=re,k.cleanPos=s):"log"===k.type?(k.d2r=k.d2l=function(oe,le){return N(v(oe),le)},k.r2d=k.r2c=function(oe){return p(v(oe))},k.d2c=k.r2l=v,k.c2d=k.l2r=s,k.c2r=N,k.l2d=p,k.d2p=function(oe,le){return k.l2p(k.d2r(oe,le))},k.p2d=function(oe){return p(re(oe))},k.r2p=function(oe){return k.l2p(v(oe))},k.p2r=re,k.cleanPos=s):"date"===k.type?(k.d2r=k.r2d=f.identity,k.d2c=k.r2c=k.d2l=k.r2l=j,k.c2d=k.c2r=k.l2d=k.l2r=X,k.d2p=k.r2p=function(oe,le,ue){return k.l2p(j(oe,0,ue))},k.p2d=k.p2r=function(oe,le,ue){return X(re(oe),le,ue)},k.cleanPos=function(oe){return f.cleanDate(oe,u,k.calendar)}):"category"===k.type?(k.d2c=k.d2l=Z,k.r2d=k.c2d=k.l2d=F,k.d2r=k.d2l_noadd=H,k.r2c=function(oe){var le=G(oe);return void 0!==le?le:k.fraction2r(.5)},k.l2r=k.c2r=s,k.r2l=G,k.d2p=function(oe){return k.l2p(k.r2c(oe))},k.p2d=function(oe){return F(re(oe))},k.r2p=k.d2p,k.p2r=re,k.cleanPos=function(oe){return"string"==typeof oe&&""!==oe?oe:s(oe)}):"multicategory"===k.type&&(k.r2d=k.c2d=k.l2d=F,k.d2r=k.d2l_noadd=H,k.r2c=function(oe){var le=H(oe);return void 0!==le?le:k.fraction2r(.5)},k.r2c_just_indices=W,k.l2r=k.c2r=s,k.r2l=H,k.d2p=function(oe){return k.l2p(k.r2c(oe))},k.p2d=function(oe){return F(re(oe))},k.r2p=k.d2p,k.p2r=re,k.cleanPos=function(oe){return Array.isArray(oe)||"string"==typeof oe&&""!==oe?oe:s(oe)},k.setupMultiCategory=function(oe){var le,ue,de=k._traceIndices,he=k._matchGroup;if(he&&0===k._categories.length)for(var we in he)if(we!==P){var Ae=I[w.id2name(we)];de=de.concat(Ae._traceIndices)}var Te=[[0,{}],[0,{}]],ve=[];for(le=0;le<de.length;le++){var xe=oe[de[le]];if(R in xe){var Fe=xe[R],Se=xe._length||f.minRowLength(Fe);if(a(Fe[0])&&a(Fe[1]))for(ue=0;ue<Se;ue++){var ke=Fe[0][ue],pe=Fe[1][ue];O(ke)&&O(pe)&&(ve.push([ke,pe]),ke in Te[0][1]||(Te[0][1][ke]=Te[0][0]++),pe in Te[1][1]||(Te[1][1][pe]=Te[1][0]++))}}}for(ve.sort(function(fe,be){var Le=Te[0][1],Oe=Le[fe[0]]-Le[be[0]];if(Oe)return Oe;var De=Te[1][1];return De[fe[1]]-De[be[1]]}),le=0;le<ve.length;le++)Z(ve[le])}),k.fraction2r=function(oe){var le=k.r2l(k.range[0]),ue=k.r2l(k.range[1]);return k.l2r(le+oe*(ue-le))},k.r2fraction=function(oe){var le=k.r2l(k.range[0]),ue=k.r2l(k.range[1]);return(k.r2l(oe)-le)/(ue-le)},k.limitRange=function(oe){var le=k.minallowed,ue=k.maxallowed;if(void 0!==le||void 0!==ue){oe||(oe="range");var de=f.nestedProperty(k,oe).get(),he=f.simpleMap(de,k.r2l),we=he[1]<he[0];we&&he.reverse();var Ae=f.simpleMap([le,ue],k.r2l);void 0!==le&&he[0]<Ae[0]&&(de[we?1:0]=le),void 0!==ue&&he[1]>Ae[1]&&(de[we?0:1]=ue)}},k.cleanRange=function(oe,le){k._cleanRange(oe,le),k.limitRange(oe)},k._cleanRange=function(oe,le){le||(le={}),oe||(oe="range");var ue,de,he=f.nestedProperty(k,oe).get();if(de=(de="date"===k.type?f.dfltRange(k.calendar):"y"===R?x.DFLTRANGEY:"realaxis"===k._name?[0,1]:le.dfltRange||x.DFLTRANGEX).slice(),"tozero"!==k.rangemode&&"nonnegative"!==k.rangemode||(de[0]=0),he&&2===he.length){var we=null===he[0],Ae=null===he[1];for("date"!==k.type||k.autorange||(he[0]=f.cleanDate(he[0],u,k.calendar),he[1]=f.cleanDate(he[1],u,k.calendar)),ue=0;ue<2;ue++)if("date"===k.type){if(!f.isDateTime(he[ue],k.calendar)){k[oe]=de;break}if(k.r2l(he[0])===k.r2l(he[1])){var Te=f.constrain(k.r2l(he[0]),f.MIN_MS+1e3,f.MAX_MS-1e3);he[0]=k.l2r(Te-1e3),he[1]=k.l2r(Te+1e3);break}}else{if(!M(he[ue])){if(we||Ae||!M(he[1-ue])){k[oe]=de;break}he[ue]=he[1-ue]*(ue?10:.1)}if(he[ue]<-l?he[ue]=-l:he[ue]>l&&(he[ue]=l),he[0]===he[1]){var ve=Math.max(1,Math.abs(1e-6*he[0]));he[0]-=ve,he[1]+=ve}}}else f.nestedProperty(k,oe).set(de)},k.setScale=function(oe){var le=I._size;if(k.overlaying){var ue=w.getFromId({_fullLayout:I},k.overlaying);k.domain=ue.domain}var de=oe&&k._r?"_r":"range",he=k.calendar;k.cleanRange(de);var we,Ae,Te=k.r2l(k[de][0],he),ve=k.r2l(k[de][1],he),xe="y"===R;if(xe?(k._offset=le.t+(1-k.domain[1])*le.h,k._length=le.h*(k.domain[1]-k.domain[0]),k._m=k._length/(Te-ve),k._b=-k._m*ve):(k._offset=le.l+k.domain[0]*le.w,k._length=le.w*(k.domain[1]-k.domain[0]),k._m=k._length/(ve-Te),k._b=-k._m*Te),k._rangebreaks=[],k._lBreaks=0,k._m2=0,k._B=[],k.rangebreaks&&(k._rangebreaks=k.locateBreaks(Math.min(Te,ve),Math.max(Te,ve)),k._rangebreaks.length)){for(we=0;we<k._rangebreaks.length;we++)Ae=k._rangebreaks[we],k._lBreaks+=Math.abs(Ae.max-Ae.min);var Fe=xe;Te>ve&&(Fe=!Fe),Fe&&k._rangebreaks.reverse();var Se=Fe?-1:1;for(k._m2=Se*k._length/(Math.abs(ve-Te)-k._lBreaks),k._B.push(-k._m2*(xe?ve:Te)),we=0;we<k._rangebreaks.length;we++)k._B.push(k._B[k._B.length-1]-Se*k._m2*((Ae=k._rangebreaks[we]).max-Ae.min));for(we=0;we<k._rangebreaks.length;we++)(Ae=k._rangebreaks[we]).pmin=te(Ae.min),Ae.pmax=te(Ae.max)}if(!isFinite(k._m)||!isFinite(k._b)||k._length<0)throw I._replotting=!1,new Error("Something went wrong with axis scaling")},k.maskBreaks=function(oe){var le,ue,de,he,we,Ae=k.rangebreaks||[];Ae._cachedPatterns||(Ae._cachedPatterns=Ae.map(function(ke){return ke.enabled&&ke.bounds?f.simpleMap(ke.bounds,ke.pattern?v:k.d2c):null})),Ae._cachedValues||(Ae._cachedValues=Ae.map(function(ke){return ke.enabled&&ke.values?f.simpleMap(ke.values,k.d2c).sort(f.sorterAsc):null}));for(var Te=0;Te<Ae.length;Te++){var ve=Ae[Te];if(ve.enabled)if(ve.bounds){switch(ue=(le=Ae._cachedPatterns[Te])[0],de=le[1],ve.pattern){case A:he=(we=new Date(oe)).getUTCDay(),ue>de&&(de+=7,he<ue&&(he+=7));break;case b:he=(we=new Date(oe)).getUTCHours()+(we.getUTCMinutes()/60+we.getUTCSeconds()/3600+we.getUTCMilliseconds()/36e5),ue>de&&(de+=24,he<ue&&(he+=24));break;case"":he=oe}if(he>=ue&&he<de)return u}else for(var Fe=Ae._cachedValues[Te],Se=0;Se<Fe.length;Se++)if(de=(ue=Fe[Se])+ve.dvalue,oe>=ue&&oe<de)return u}return oe},k.locateBreaks=function(oe,le){var ue,de,he,we,Ae=[];if(!k.rangebreaks)return Ae;var Te=k.rangebreaks.slice().sort(function(De,Ue){return De.pattern===A&&Ue.pattern===b?-1:Ue.pattern===A&&De.pattern===b?1:0}),ve=function(De,Ue){if((De=f.constrain(De,oe,le))!==(Ue=f.constrain(Ue,oe,le))){for(var Ge=!0,ye=0;ye<Ae.length;ye++){var Ie=Ae[ye];De<Ie.max&&Ue>=Ie.min&&(De<Ie.min&&(Ie.min=De),Ue>Ie.max&&(Ie.max=Ue),Ge=!1)}Ge&&Ae.push({min:De,max:Ue})}};for(ue=0;ue<Te.length;ue++){var xe=Te[ue];if(xe.enabled)if(xe.bounds){var Fe=oe,Se=le;xe.pattern&&(Fe=Math.floor(Fe)),he=(de=f.simpleMap(xe.bounds,xe.pattern?v:k.r2l))[0],we=de[1];var ke,pe,fe=new Date(Fe);switch(xe.pattern){case A:pe=m,ke=(we-he+(we<he?7:0))*h,Fe+=he*h-(fe.getUTCDay()*h+fe.getUTCHours()*T+fe.getUTCMinutes()*_+fe.getUTCSeconds()*g+fe.getUTCMilliseconds());break;case b:pe=h,ke=(we-he+(we<he?24:0))*T,Fe+=he*T-(fe.getUTCHours()*T+fe.getUTCMinutes()*_+fe.getUTCSeconds()*g+fe.getUTCMilliseconds());break;default:Fe=Math.min(de[0],de[1]),ke=pe=(Se=Math.max(de[0],de[1]))-Fe}for(var be=Fe;be<Se;be+=pe)ve(be,be+ke)}else for(var Le=f.simpleMap(xe.values,k.d2c),Oe=0;Oe<Le.length;Oe++)ve(he=Le[Oe],we=he+xe.dvalue)}return Ae.sort(function(De,Ue){return De.min-Ue.min}),Ae},k.makeCalcdata=function(oe,le,ue){var de,he,we,Ae,Te=k.type,ve="date"===Te&&oe[le+"calendar"];if(le in oe){if(de=oe[le],Ae=oe._length||f.minRowLength(de),f.isTypedArray(de)&&("linear"===Te||"log"===Te)){if(Ae===de.length)return de;if(de.subarray)return de.subarray(0,Ae)}if("multicategory"===Te)return function(Se,ke){for(var pe=new Array(ke),fe=0;fe<ke;fe++)pe[fe]=W([(Se[0]||[])[fe],(Se[1]||[])[fe]]);return pe}(de,Ae);for(he=new Array(Ae),we=0;we<Ae;we++)he[we]=k.d2c(de[we],0,ve,ue)}else{var xe=le+"0"in oe?k.d2c(oe[le+"0"],0,ve):0,Fe=oe["d"+le]?Number(oe["d"+le]):1;for(de=oe[{x:"y",y:"x"}[le]],Ae=oe._length||de.length,he=new Array(Ae),we=0;we<Ae;we++)he[we]=xe+we*Fe}if(k.rangebreaks)for(we=0;we<Ae;we++)he[we]=k.maskBreaks(he[we]);return he},k.isValidRange=function(oe,le){return Array.isArray(oe)&&2===oe.length&&(le&&null===oe[0]||M(k.r2l(oe[0])))&&(le&&null===oe[1]||M(k.r2l(oe[1])))},k.getAutorangeDflt=function(oe,le){var ue=!k.isValidRange(oe,"nullOk");return ue&&le&&le.reverseDflt?ue="reversed":oe&&(null===oe[0]&&null===oe[1]?ue=!0:null===oe[0]&&null!==oe[1]?ue="min":null!==oe[0]&&null===oe[1]&&(ue="max")),ue},k.isReversed=function(){var oe=k.autorange;return"reversed"===oe||"min reversed"===oe||"max reversed"===oe},k.isPtWithinRange=function(oe,le){var ue=k.c2l(oe[R],null,le),de=k.r2l(k.range[0]),he=k.r2l(k.range[1]);return de<he?de<=ue&&ue<=he:he<=ue&&ue<=de},k._emptyCategories=function(){k._categories=[],k._categoriesMap={}},k.clearCalc=function(){var oe=k._matchGroup;if(oe){var le=null,ue=null;for(var de in oe){var he=I[w.id2name(de)];if(he._categories){le=he._categories,ue=he._categoriesMap;break}}le&&ue?(k._categories=le,k._categoriesMap=ue):k._emptyCategories()}else k._emptyCategories();if(k._initialCategories)for(var we=0;we<k._initialCategories.length;we++)Z(k._initialCategories[we])},k.sortByInitialCategories=function(){var oe=[];if(k._emptyCategories(),k._initialCategories)for(var le=0;le<k._initialCategories.length;le++)Z(k._initialCategories[le]);oe=oe.concat(k._traceIndices);var ue=k._matchGroup;for(var de in ue)if(P!==de){var he=I[w.id2name(de)];he._categories=k._categories,he._categoriesMap=k._categoriesMap,oe=oe.concat(he._traceIndices)}return oe};var ee=I._d3locale;"date"===k.type&&(k._dateFormat=ee?ee.timeFormat:E,k._extraFormat=I._extraFormat),k._separators=I.separators,k._numFormat=ee?ee.numberFormat:S,delete k._minDtick,delete k._forceTick0}},59652:function(ae){"use strict";ae.exports=function(B){var r=["showexponent","showtickprefix","showticksuffix"].filter(function(D){return void 0!==B[D]});if(r.every(function(D){return B[D]===B[r[0]]})||1===r.length)return B[r[0]]}},96115:function(ae,B,r){"use strict";var D=r(71828),E=r(7901).contrast,f=r(13838),S=r(59652),M=r(85501);function v(c,i){function s(a,o){return D.coerce(c,i,f.tickformatstops,a,o)}s("enabled")&&(s("dtickrange"),s("value"))}ae.exports=function(c,i,s,a,o){o||(o={});var l=s("labelalias");D.isPlainObject(l)||delete i.labelalias;var u=S(c);if(s("showticklabels")){var d=o.font||{},m=i.color,h=-1!==(i.ticklabelposition||"").indexOf("inside")?E(o.bgColor):m&&m!==f.color.dflt?m:d.color;if(D.coerceFont(s,"tickfont",{family:d.family,size:d.size,color:h}),o.noTicklabelstep||"multicategory"===a||"log"===a||s("ticklabelstep"),o.noAng||s("tickangle"),"category"!==a){var T=s("tickformat");M(c,i,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),i.tickformatstops.length||delete i.tickformatstops,o.noExp||T||"date"===a||(s("showexponent",u),s("exponentformat"),s("minexponent"),s("separatethousands"))}}}},38701:function(ae,B,r){"use strict";var D=r(71828),E=r(13838);ae.exports=function(f,S,M,v){var c=v.isMinor,i=c?f.minor||{}:f,s=c?S.minor:S,a=c?E.minor:E,o=c?"minor.":"",l=D.coerce2(i,s,a,"ticklen",c?.6*(S.ticklen||5):void 0),u=D.coerce2(i,s,a,"tickwidth",c?S.tickwidth||1:void 0),d=D.coerce2(i,s,a,"tickcolor",(c?S.tickcolor:void 0)||s.color);M(o+"ticks",!c&&v.outerTicks||l||u||d?"outside":"")||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)}},26218:function(ae,B,r){"use strict";var D=r(66287),E=r(71828).isArrayOrTypedArray;ae.exports=function(f,S,M,v,c){c||(c={});var i=c.isMinor,s=i?f.minor||{}:f,a=i?S.minor:S,o=i?"minor.":"";function l(_){var g=s[_];return void 0!==g?g:(a._template||{})[_]}var u=l("tick0"),d=l("dtick"),m=l("tickvals"),h=M(o+"tickmode",E(m)?"array":d?"linear":"auto");if("auto"===h||"sync"===h)M(o+"nticks");else if("linear"===h){var T=a.dtick=D.dtick(d,v);a.tick0=D.tick0(u,v,S.calendar,T)}else"multicategory"!==v&&(void 0===M(o+"tickvals")?a.tickmode="auto":i||M("ticktext"))}},66847:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(71828),S=r(91424),M=r(89298);ae.exports=function(v,c,i,s){var a=v._fullLayout;if(0!==c.length){var o,l,u,d;s&&(o=s());var m=D.ease(i.easing);return v._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(d),d=null,function(){for(var _={},g=0;g<c.length;g++){var w=c[g],b=w.plotinfo.yaxis;w.xr0&&(_[w.plotinfo.xaxis._name+".range"]=w.xr0.slice()),w.yr0&&(_[b._name+".range"]=w.yr0.slice())}return E.call("relayout",v,_).then(function(){for(var A=0;A<c.length;A++)h(c[A].plotinfo)})}()}),l=Date.now(),d=window.requestAnimationFrame(function _(){u=Date.now();for(var g=Math.min(1,(u-l)/i.duration),w=m(g),x=0;x<c.length;x++)T(c[x],w);u-l>i.duration?(function(){for(var b={},A=0;A<c.length;A++){var p=c[A],k=p.plotinfo.yaxis;p.xr1&&(b[p.plotinfo.xaxis._name+".range"]=p.xr1.slice()),p.yr1&&(b[k._name+".range"]=p.yr1.slice())}o&&o(),E.call("relayout",v,b).then(function(){for(var I=0;I<c.length;I++)h(c[I].plotinfo)})}(),d=window.cancelAnimationFrame(_)):d=window.requestAnimationFrame(_)}),Promise.resolve()}function h(_){var g=_.xaxis,w=_.yaxis;a._defs.select("#"+_.clipId+"> rect").call(S.setTranslate,0,0).call(S.setScale,1,1),_.plot.call(S.setTranslate,g._offset,w._offset).call(S.setScale,1,1);var x=_.plot.selectAll(".scatterlayer .trace");x.selectAll(".point").call(S.setPointGroupScale,1,1),x.selectAll(".textpoint").call(S.setTextPointsScale,1,1),x.call(S.hideOutsideRangePoints,_)}function T(_,g){var w=_.plotinfo,x=w.xaxis,b=w.yaxis,A=x._length,p=b._length,O=!!_.xr1,k=!!_.yr1,I=[];if(O){var P=f.simpleMap(_.xr0,x.r2l),R=f.simpleMap(_.xr1,x.r2l),N=P[1]-P[0],j=R[1]-R[0];I[0]=(P[0]*(1-g)+g*R[0]-P[0])/(P[1]-P[0])*A,I[2]=A*(1-g+g*j/N),x.range[0]=x.l2r(P[0]*(1-g)+g*R[0]),x.range[1]=x.l2r(P[1]*(1-g)+g*R[1])}else I[0]=0,I[2]=A;if(k){var X=f.simpleMap(_.yr0,b.r2l),F=f.simpleMap(_.yr1,b.r2l),Z=X[1]-X[0],W=F[1]-F[0];I[1]=(X[1]*(1-g)+g*F[1]-X[1])/(X[0]-X[1])*p,I[3]=p*(1-g+g*W/Z),b.range[0]=x.l2r(X[0]*(1-g)+g*F[0]),b.range[1]=b.l2r(X[1]*(1-g)+g*F[1])}else I[1]=0,I[3]=p;M.drawOne(v,x,{skipTitle:!0}),M.drawOne(v,b,{skipTitle:!0}),M.redrawComponents(v,[x._id,b._id]);var H=O?A/I[2]:1,G=k?p/I[3]:1,Q=x._offset-(O?I[0]/I[2]*A:0),ee=b._offset-(k?I[1]/I[3]*p:0);w.clipRect.call(S.setTranslate,O?I[0]:0,k?I[1]:0).call(S.setScale,1/H,1/G),w.plot.call(S.setTranslate,Q,ee).call(S.setScale,H,G),S.setPointGroupScale(w.zoomScalePts,1/H,1/G),S.setTextPointsScale(w.zoomScaleTxt,1/H,1/G)}M.redrawComponents(v)}},951:function(ae,B,r){"use strict";var D=r(73972).traceIs,E=r(4322);function f(M){return{v:"x",h:"y"}[M.orientation||"v"]}function S(M,v){var c=f(M),i=D(M,"box-violin"),s=D(M._fullInput||{},"candlestick");return i&&!s&&v===c&&void 0===M[c]&&void 0===M[c+"0"]}ae.exports=function(M,v,c,i){c("autotypenumbers",i.autotypenumbersDflt),"-"===c("type",(i.splomStash||{}).type)&&(function(s,a){if("-"===s.type){var o,l=s._id,u=l.charAt(0);-1!==l.indexOf("scene")&&(l=u);var d=function(b,A,p){for(var O=0;O<b.length;O++){var k=b[O];if("splom"===k.type&&k._length>0&&(k["_"+p+"axes"]||{})[A]||(k[p+"axis"]||p)===A&&(S(k,p)||(k[p]||[]).length||k[p+"0"]))return k}}(a,l,u);if(d)if("histogram"!==d.type||u!=={v:"y",h:"x"}[d.orientation||"v"]){var m=u+"calendar",h=d[m],T={noMultiCategory:!D(d,"cartesian")||D(d,"noMultiCategory")};if("box"===d.type&&d._hasPreCompStats&&u==={h:"x",v:"y"}[d.orientation||"v"]&&(T.noMultiCategory=!0),T.autotypenumbers=s.autotypenumbers,S(d,u)){var _=f(d),g=[];for(o=0;o<a.length;o++){var w=a[o];D(w,"box-violin")&&(w[u+"axis"]||u)===l&&(g.push(void 0!==w[_]?w[_][0]:void 0!==w.name?w.name:"text"),w[m]!==h&&(h=void 0))}s.type=E(g,h,T)}else if("splom"===d.type){var x=d.dimensions[d._axesDim[l]];x.visible&&(s.type=E(x.values,h,T))}else s.type=E(d[u]||[d[u+"0"]],h,T)}else s.type="linear"}}(v,i.data),"-"===v.type?v.type="linear":M.type=v.type)}},31137:function(ae,B,r){"use strict";var D=r(73972),E=r(71828);function f(c,i,s){var a,o,l,u=!1;if("data"===i.type)a=c._fullData[null!==i.traces?i.traces[0]:0];else{if("layout"!==i.type)return!1;a=c._fullLayout}return o=E.nestedProperty(a,i.prop).get(),(l=s[i.type]=s[i.type]||{}).hasOwnProperty(i.prop)&&l[i.prop]!==o&&(u=!0),l[i.prop]=o,{changed:u,value:o}}function S(c,i){var s=[],a=i[0],o={};if("string"==typeof a)o[a]=i[1];else{if(!E.isPlainObject(a))return s;o=a}return v(o,function(l,u,d){s.push({type:"layout",prop:l,value:d})},"",0),s}function M(c,i){var s,a,o,l,u=[];if(o=i[1],s=i[2],l={},"string"==typeof(a=i[0]))l[a]=o;else{if(!E.isPlainObject(a))return u;l=a,void 0===s&&(s=o)}return void 0===s&&(s=null),v(l,function(d,m,h){var T,_;if(Array.isArray(h)){_=h.slice();var g=Math.min(_.length,c.data.length);s&&(g=Math.min(g,s.length)),T=[];for(var w=0;w<g;w++)T[w]=s?s[w]:w}else _=h,T=s?s.slice():null;if(null===T)Array.isArray(_)&&(_=_[0]);else if(Array.isArray(T)){if(!Array.isArray(_)){var x=_;_=[];for(var b=0;b<T.length;b++)_[b]=x}_.length=Math.min(T.length,_.length)}u.push({type:"data",prop:d,traces:T,value:_})},"",0),u}function v(c,i,s,a){Object.keys(c).forEach(function(o){var l=c[o];if("_"!==o[0]){var u=s+(a>0?".":"")+o;E.isPlainObject(l)?v(l,i,u,a+1):i(u,o,l)}})}B.manageCommandObserver=function(c,i,s,a){var o={},l=!0;i&&i._commandObserver&&(o=i._commandObserver),o.cache||(o.cache={}),o.lookupTable={};var u=B.hasSimpleAPICommandBindings(c,s,o.lookupTable);if(i&&i._commandObserver){if(u)return o;if(i._commandObserver.remove)return i._commandObserver.remove(),i._commandObserver=null,o}if(u){f(c,u,o.cache),o.check=function(){if(l){var h=f(c,u,o.cache);return h.changed&&a&&void 0!==o.lookupTable[h.value]&&(o.disable(),Promise.resolve(a({value:h.value,type:u.type,prop:u.prop,traces:u.traces,index:o.lookupTable[h.value]})).then(o.enable,o.enable)),h.changed}};for(var d=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],m=0;m<d.length;m++)c._internalOn(d[m],o.check);o.remove=function(){for(var h=0;h<d.length;h++)c._removeInternalListener(d[h],o.check)}}else E.log("Unable to automatically bind plot updates to API command"),o.lookupTable={},o.remove=function(){};return o.disable=function(){l=!1},o.enable=function(){l=!0},i&&(i._commandObserver=o),o},B.hasSimpleAPICommandBindings=function(c,i,s){var a,o,l=i.length;for(a=0;a<l;a++){var u,d=i[a],m=d.method,h=d.args;if(Array.isArray(h)||(h=[]),!m)return!1;var T=B.computeAPICommandBindings(c,m,h);if(1!==T.length)return!1;if(o){if((u=T[0]).type!==o.type||u.prop!==o.prop)return!1;if(Array.isArray(o.traces)){if(!Array.isArray(u.traces))return!1;u.traces.sort();for(var _=0;_<o.traces.length;_++)if(o.traces[_]!==u.traces[_])return!1}else if(u.prop!==o.prop)return!1}else o=T[0],Array.isArray(o.traces)&&o.traces.sort();var g=(u=T[0]).value;if(Array.isArray(g)){if(1!==g.length)return!1;g=g[0]}s&&(s[g]=a)}return o},B.executeAPICommand=function(c,i,s){if("skip"===i)return Promise.resolve();var a=D.apiMethodRegistry[i],o=[c];Array.isArray(s)||(s=[]);for(var l=0;l<s.length;l++)o.push(s[l]);return a.apply(null,o).catch(function(u){return E.warn("API call to Plotly."+i+" rejected.",u),Promise.reject(u)})},B.computeAPICommandBindings=function(c,i,s){var a,l;switch(Array.isArray(s)||(s=[]),i){case"restyle":a=M(c,s);break;case"relayout":a=S(0,s);break;case"update":a=M(c,[s[0],s[2]]).concat(S(0,[s[1]]));break;case"animate":l=s,a=Array.isArray(l[0])&&1===l[0].length&&-1!==["string","number"].indexOf(typeof l[0][0])?[{type:"layout",prop:"_currentFrame",value:l[0][0].toString()}]:[];break;default:a=[]}return a}},27670:function(ae,B,r){"use strict";var D=r(1426).extendFlat;B.Y=function(E,f){f=f||{};var S={valType:"info_array",editType:(E=E||{}).editType,items:[{valType:"number",min:0,max:1,editType:E.editType},{valType:"number",min:0,max:1,editType:E.editType}],dflt:[0,1]},M={x:D({},S,{}),y:D({},S,{}),editType:E.editType};return E.noGridCell||(M.row={valType:"integer",min:0,dflt:0,editType:E.editType},M.column={valType:"integer",min:0,dflt:0,editType:E.editType}),M},B.c=function(E,f,S,M){var v=M&&M.x||[0,1],c=M&&M.y||[0,1],i=f.grid;if(i){var s=S("domain.column");void 0!==s&&(s<i.columns?v=i._domains.x[s]:delete E.domain.column);var a=S("domain.row");void 0!==a&&(a<i.rows?c=i._domains.y[a]:delete E.domain.row)}var o=S("domain.x",v),l=S("domain.y",c);o[0]<o[1]||(E.domain.x=v.slice()),l[0]<l[1]||(E.domain.y=c.slice())}},41940:function(ae){"use strict";ae.exports=function(B){var r=B.editType,D=B.colorEditType;void 0===D&&(D=r);var E={family:{valType:"string",noBlank:!0,strict:!0,editType:r},size:{valType:"number",min:1,editType:r},color:{valType:"color",editType:D},editType:r};return B.autoSize&&(E.size.dflt="auto"),B.autoColor&&(E.color.dflt="auto"),B.arrayOk&&(E.family.arrayOk=!0,E.size.arrayOk=!0,E.color.arrayOk=!0),E}},31391:function(ae){"use strict";ae.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(ae,B){"use strict";B.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},B.axesNames=["lonaxis","lataxis"],B.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},B.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},B.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},B.clipPad=.001,B.precision=.1,B.landColor="#F0DC82",B.waterColor="#3399FF",B.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},B.sphereSVG={type:"Sphere"},B.fillLayers={ocean:1,land:1,lakes:1},B.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},B.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],B.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],B.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(ae,B,r){"use strict";var D=r(39898),E=r(27362),f=E.geoPath,S=E.geoDistance,M=r(65704),v=r(73972),c=r(71828),i=c.strTranslate,s=r(7901),a=r(91424),o=r(30211),l=r(74875),u=r(89298),d=r(71739).getAutoRange,m=r(28569),h=r(47322).prepSelect,T=r(47322).clearOutline,_=r(47322).selectOnClick,g=r(74455),w=r(78776),x=r(41327),b=r(90973),A=r(96892).zL;function p(I){this.id=I.id,this.graphDiv=I.graphDiv,this.container=I.container,this.topojsonURL=I.topojsonURL,this.isStatic=I.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var O=p.prototype;function k(I,P){var R=w.clipPad,N=I[0]+R,j=I[1]-R,X=P[0]+R,F=P[1]-R;N>0&&j<0&&(j+=360);var Z=(j-N)/4;return{type:"Polygon",coordinates:[[[N,X],[N,F],[N+Z,F],[N+2*Z,F],[N+3*Z,F],[j,F],[j,X],[j-Z,X],[j-2*Z,X],[j-3*Z,X],[N,X]]]}}ae.exports=function(I){return new p(I)},O.plot=function(I,P,R,N){var j=this;if(N)return j.update(I,P,!0);j._geoCalcData=I,j._fullLayout=P;var X=P[this.id],F=[],Z=!1;for(var W in w.layerNameToAdjective)if("frame"!==W&&X["show"+W]){Z=!0;break}for(var H=!1,G=0;G<I.length;G++){var Y=I[0][0].trace;Y._geo=j,Y.locationmode&&(Z=!0);var se=Y.marker;if(se){var re=se.angleref;(se.angle||"north"===re||"previous"===re)&&(H=!0)}}if(this._hasMarkerAngles=H,Z){var Q=b.getTopojsonName(X);null!==j.topojson&&Q===j.topojsonName||(j.topojsonName=Q,void 0===PlotlyGeoAssets.topojson[j.topojsonName]&&F.push(j.fetchTopojson()))}F=F.concat(x.fetchTraceGeoData(I)),R.push(new Promise(function(ee,oe){Promise.all(F).then(function(){j.topojson=PlotlyGeoAssets.topojson[j.topojsonName],j.update(I,P),ee()}).catch(oe)}))},O.fetchTopojson=function(){var I=this,P=b.getTopojsonPath(I.topojsonURL,I.topojsonName);return new Promise(function(R,N){D.json(P,function(j,X){if(j)return N(404===j.status?new Error(["plotly.js could not find topojson file at",P+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" ")):new Error(["unexpected error while fetching topojson file at",P].join(" ")));PlotlyGeoAssets.topojson[I.topojsonName]=X,R()})})},O.update=function(I,P,R){var N=P[this.id];this.hasChoropleth=!1;for(var j=0;j<I.length;j++){var X=I[j],F=X[0].trace;"choropleth"===F.type&&(this.hasChoropleth=!0),!0===F.visible&&F._length>0&&F._module.calcGeoJSON(X,P)}if(!R){if(this.updateProjection(I,P))return;this.viewInitial&&this.scope===N.scope||this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(P,N),this.updateDims(P,N),this.updateFx(P,N),l.generalUpdatePerTraceModule(this.graphDiv,this,I,N);var Z=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=Z.selectAll(".point"),this.dataPoints.text=Z.selectAll("text"),this.dataPaths.line=Z.selectAll(".js-line");var W=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=W.selectAll("path"),this._render()},O.updateProjection=function(I,P){var R=this.graphDiv,N=P[this.id],j=P._size,X=N.domain,F=N.projection,Z=N.lonaxis,W=N.lataxis,H=Z._ax,G=W._ax,Y=this.projection=function(fe){var be=fe.projection,Le=be.type,Oe=w.projNames[Le];Oe="geo"+c.titleCase(Oe);for(var De=(E[Oe]||M[Oe])(),Ue=fe._isSatellite?180*Math.acos(1/be.distance)/Math.PI:fe._isClipped?w.lonaxisSpan[Le]/2:null,Ge=["center","rotate","parallels","clipExtent"],ye=function(Be){return Be?De:[]},Ie=0;Ie<Ge.length;Ie++){var Ee=Ge[Ie];"function"!=typeof De[Ee]&&(De[Ee]=ye)}return De.isLonLatOverEdges=function(Be){if(null===De(Be))return!0;if(Ue){var We=De.rotate();return S(Be,[-We[0],-We[1]])>Ue*Math.PI/180}return!1},De.getPath=function(){return f().projection(De)},De.getBounds=function(Be){return De.getPath().bounds(Be)},De.precision(w.precision),fe._isSatellite&&De.tilt(be.tilt).distance(be.distance),Ue&&De.clipAngle(Ue-w.clipPad),De}(N),se=[[j.l+j.w*X.x[0],j.t+j.h*(1-X.y[1])],[j.l+j.w*X.x[1],j.t+j.h*(1-X.y[0])]],te=N.center||{},re=F.rotation||{},Q=Z.range||[],ee=W.range||[];if(N.fitbounds){H._length=se[1][0]-se[0][0],G._length=se[1][1]-se[0][1],H.range=d(R,H),G.range=d(R,G);var oe=(H.range[0]+H.range[1])/2,le=(G.range[0]+G.range[1])/2;if(N._isScoped)te={lon:oe,lat:le};else if(N._isClipped){te={lon:oe,lat:le},re={lon:oe,lat:le,roll:re.roll};var ue=F.type,de=w.lonaxisSpan[ue]/2||180,he=w.lataxisSpan[ue]/2||90;Q=[oe-de,oe+de],ee=[le-he,le+he]}else te={lon:oe,lat:le},re={lon:oe,lat:re.lat,roll:re.roll}}Y.center([te.lon-re.lon,te.lat-re.lat]).rotate([-re.lon,-re.lat,re.roll]).parallels(F.parallels);var we=k(Q,ee);Y.fitExtent(se,we);var Ae=this.bounds=Y.getBounds(we),Te=this.fitScale=Y.scale(),ve=Y.translate();if(N.fitbounds){var xe=Y.getBounds(k(H.range,G.range)),Fe=Math.min((Ae[1][0]-Ae[0][0])/(xe[1][0]-xe[0][0]),(Ae[1][1]-Ae[0][1])/(xe[1][1]-xe[0][1]));isFinite(Fe)?Y.scale(Fe*Te):c.warn("Something went wrong during"+this.id+"fitbounds computations.")}else Y.scale(F.scale*Te);var Se=this.midPt=[(Ae[0][0]+Ae[1][0])/2,(Ae[0][1]+Ae[1][1])/2];if(Y.translate([ve[0]+(Se[0]-ve[0]),ve[1]+(Se[1]-ve[1])]).clipExtent(Ae),N._isAlbersUsa){var ke=Y([te.lon,te.lat]),pe=Y.translate();Y.translate([pe[0]-(ke[0]-pe[0]),pe[1]-(ke[1]-pe[1])])}},O.updateBaseLayers=function(I,P){var R=this,N=R.topojson,j=R.layers,X=R.basePaths;function F(Y){return"lonaxis"===Y||"lataxis"===Y}function Z(Y){return Boolean(w.lineLayers[Y])}function W(Y){return Boolean(w.fillLayers[Y])}var H=(this.hasChoropleth?w.layersForChoropleth:w.layers).filter(function(Y){return Z(Y)||W(Y)?P["show"+Y]:!F(Y)||P[Y].showgrid}),G=R.framework.selectAll(".layer").data(H,String);G.exit().each(function(Y){delete j[Y],delete X[Y],D.select(this).remove()}),G.enter().append("g").attr("class",function(Y){return"layer "+Y}).each(function(Y){var se=j[Y]=D.select(this);"bg"===Y?R.bgRect=se.append("rect").style("pointer-events","all"):F(Y)?X[Y]=se.append("path").style("fill","none"):"backplot"===Y?se.append("g").classed("choroplethlayer",!0):"frontplot"===Y?se.append("g").classed("scatterlayer",!0):Z(Y)?X[Y]=se.append("path").style("fill","none").style("stroke-miterlimit",2):W(Y)&&(X[Y]=se.append("path").style("stroke","none"))}),G.order(),G.each(function(Y){var se=X[Y],te=w.layerNameToAdjective[Y];"frame"===Y?se.datum(w.sphereSVG):Z(Y)||W(Y)?se.datum(A(N,N.objects[Y])):F(Y)&&se.datum(function(re,Q,ee){var oe,le,ue,de=Q[re],he=w.scopeDefaults[Q.scope];"lonaxis"===re?(oe=he.lonaxisRange,le=he.lataxisRange,ue=function(pe,fe){return[pe,fe]}):"lataxis"===re&&(oe=he.lataxisRange,le=he.lonaxisRange,ue=function(pe,fe){return[fe,pe]});var we={type:"linear",range:[oe[0],oe[1]-1e-6],tick0:de.tick0,dtick:de.dtick};u.setConvert(we,ee);var Ae=u.calcTicks(we);Q.isScoped||"lonaxis"!==re||Ae.pop();for(var Te=Ae.length,ve=new Array(Te),xe=0;xe<Te;xe++)for(var Fe=Ae[xe].x,Se=ve[xe]=[],ke=le[0];ke<le[1]+2.5;ke+=2.5)Se.push(ue(Fe,ke));return{type:"MultiLineString",coordinates:ve}}(Y,P,I)).call(s.stroke,P[Y].gridcolor).call(a.dashLine,P[Y].griddash,P[Y].gridwidth),Z(Y)?se.call(s.stroke,P[te+"color"]).call(a.dashLine,"",P[te+"width"]):W(Y)&&se.call(s.fill,P[te+"color"])})},O.updateDims=function(I,P){var R=this.bounds,N=(P.framewidth||0)/2,j=R[0][0]-N,X=R[0][1]-N,F=R[1][0]-j+N,Z=R[1][1]-X+N;a.setRect(this.clipRect,j,X,F,Z),this.bgRect.call(a.setRect,j,X,F,Z).call(s.fill,P.bgcolor),this.xaxis._offset=j,this.xaxis._length=F,this.yaxis._offset=X,this.yaxis._length=Z},O.updateFx=function(I,P){var R=this,N=R.graphDiv,j=R.bgRect,X=I.dragmode,F=I.clickmode;if(!R.isStatic){var Z={element:R.bgRect.node(),gd:N,plotinfo:{id:R.id,xaxis:R.xaxis,yaxis:R.yaxis,fillRangeItems:function(H,G){G.isRect?(H.range={})[R.id]=[W([G.xmin,G.ymin]),W([G.xmax,G.ymax])]:(H.lassoPoints={})[R.id]=G.map(W)}},xaxes:[R.xaxis],yaxes:[R.yaxis],subplot:R.id,clickFn:function(H){2===H&&T(N)}};"pan"===X?(j.node().onmousedown=null,j.call(g(R,P)),j.on("dblclick.zoom",function(){var H=R.viewInitial,G={};for(var Y in H)G[R.id+"."+Y]=H[Y];v.call("_guiRelayout",N,G),N.emit("plotly_doubleclick",null)}),N._context._scrollZoom.geo||j.on("wheel.zoom",null)):"select"!==X&&"lasso"!==X||(j.on(".zoom",null),Z.prepFn=function(H,G,Y){h(H,G,Y,Z,X)},m.init(Z)),j.on("mousemove",function(){var H=R.projection.invert(c.getPositionFromD3Event());if(!H)return m.unhover(N,D.event);R.xaxis.p2c=function(){return H[0]},R.yaxis.p2c=function(){return H[1]},o.hover(N,D.event,R.id)}),j.on("mouseout",function(){N._dragging||m.unhover(N,D.event)}),j.on("click",function(){"select"!==X&&"lasso"!==X&&(F.indexOf("select")>-1&&_(D.event,N,[R.xaxis],[R.yaxis],R.id,Z),F.indexOf("event")>-1&&o.click(N,D.event))})}function W(H){return R.projection.invert([H[0]+R.xaxis._offset,H[1]+R.yaxis._offset])}},O.makeFramework=function(){var I=this,P=I.graphDiv,R=P._fullLayout,N="clip"+R._uid+I.id;I.clipDef=R._clips.append("clipPath").attr("id",N),I.clipRect=I.clipDef.append("rect"),I.framework=D.select(I.container).append("g").attr("class","geo "+I.id).call(a.setClipUrl,N,P),I.project=function(j){var X=I.projection(j);return X?[X[0]-I.xaxis._offset,X[1]-I.yaxis._offset]:[null,null]},I.xaxis={_id:"x",c2p:function(j){return I.project(j)[0]}},I.yaxis={_id:"y",c2p:function(j){return I.project(j)[1]}},I.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},u.setConvert(I.mockAxis,R)},O.saveViewInitial=function(I){var R=I.center||{},N=I.projection,j=N.rotation||{};this.viewInitial={fitbounds:I.fitbounds,"projection.scale":N.scale},c.extendFlat(this.viewInitial,I._isScoped?{"center.lon":R.lon,"center.lat":R.lat}:I._isClipped?{"projection.rotation.lon":j.lon,"projection.rotation.lat":j.lat}:{"center.lon":R.lon,"center.lat":R.lat,"projection.rotation.lon":j.lon})},O.render=function(I){this._hasMarkerAngles&&I?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},O._render=function(){var I,P=this.projection,R=P.getPath();function N(X){var F=P(X.lonlat);return F?i(F[0],F[1]):null}function j(X){return P.isLonLatOverEdges(X.lonlat)?"none":null}for(I in this.basePaths)this.basePaths[I].attr("d",R);for(I in this.dataPaths)this.dataPaths[I].attr("d",function(X){return R(X.geojson)});for(I in this.dataPoints)this.dataPoints[I].attr("display",j).attr("transform",N)}},44622:function(ae,B,r){"use strict";var D=r(27659).AU,E=r(71828).counterRegex,f=r(69082),S="geo",M=E(S),v={};v[S]={valType:"subplotid",dflt:S,editType:"calc"},ae.exports={attr:S,name:S,idRoot:S,idRegex:M,attrRegex:M,attributes:v,layoutAttributes:r(77519),supplyLayoutDefaults:r(82161),plot:function(c){for(var i=c._fullLayout,s=c.calcdata,a=i._subplots[S],o=0;o<a.length;o++){var l=a[o],u=D(s,S,l),d=i[l]._subplot;d||(d=f({id:l,graphDiv:c,container:i._geolayer.node(),topojsonURL:c._context.topojsonURL,staticPlot:c._context.staticPlot}),i[l]._subplot=d),d.plot(u,i,c._promises)}},updateFx:function(c){for(var i=c._fullLayout,s=i._subplots[S],a=0;a<s.length;a++){var o=i[s[a]];o._subplot.updateFx(i,o)}},clean:function(c,i,s,a){for(var o=a._subplots[S]||[],l=0;l<o.length;l++){var u=o[l],d=a[u]._subplot;!i[u]&&d&&(d.framework.remove(),d.clipDef.remove())}}}},77519:function(ae,B,r){"use strict";var D=r(22399),E=r(27670).Y,f=r(79952).P,S=r(78776),M=r(30962).overrideAll,v=r(78607),c={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:D.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:f};(ae.exports=M({domain:E({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(S.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(S.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:D.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:S.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:S.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:S.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:S.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:D.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:D.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:D.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:D.background},lonaxis:c,lataxis:c},"plot","from-root")).uirevision={valType:"any",editType:"none"}},82161:function(ae,B,r){"use strict";var D=r(71828),E=r(49119),f=r(27659).NG,S=r(78776),M=r(77519),v=S.axesNames;function c(i,s,a,o){var l=f(o.fullData,"geo",o.id).map(function(re){return re._expandedIndex}),u=a("resolution"),d=a("scope"),m=S.scopeDefaults[d],h=a("projection.type",m.projType),T=s._isAlbersUsa="albers usa"===h;T&&(d=s.scope="usa");var _=s._isScoped="world"!==d,g=s._isSatellite="satellite"===h,w=s._isConic=-1!==h.indexOf("conic")||"albers"===h,x=s._isClipped=!!S.lonaxisSpan[h];if(!1===i.visible){var b=D.extendDeep({},s._template);b.showcoastlines=!1,b.showcountries=!1,b.showframe=!1,b.showlakes=!1,b.showland=!1,b.showocean=!1,b.showrivers=!1,b.showsubunits=!1,b.lonaxis&&(b.lonaxis.showgrid=!1),b.lataxis&&(b.lataxis.showgrid=!1),s._template=b}for(var A=a("visible"),p=0;p<v.length;p++){var O,k=v[p],I=[30,10][p];if(_)O=m[k+"Range"];else{var P=S[k+"Span"],R=(P[h]||P["*"])/2,N=a("projection.rotation."+k.substr(0,3),m.projRotate[p]);O=[N-R,N+R]}var j=a(k+".range",O);a(k+".tick0"),a(k+".dtick",I),a(k+".showgrid",!!A&&void 0)&&(a(k+".gridcolor"),a(k+".gridwidth"),a(k+".griddash")),s[k]._ax={type:"linear",_id:k.slice(0,3),_traceIndices:l,setScale:D.identity,c2l:D.identity,r2l:D.identity,autorange:!0,range:j.slice(),_m:1,_input:{}}}var X=s.lonaxis.range,F=s.lataxis.range,Z=X[0],W=X[1];Z>0&&W<0&&(W+=360);var H,G,Y,se=(Z+W)/2;if(!T){var te=_?m.projRotate:[se,0,0];H=a("projection.rotation.lon",te[0]),a("projection.rotation.lat",te[1]),a("projection.rotation.roll",te[2]),a("showcoastlines",!_&&A)&&(a("coastlinecolor"),a("coastlinewidth")),a("showocean",!!A&&void 0)&&a("oceancolor")}T?(G=-96.6,Y=38.7):(G=_?se:H,Y=(F[0]+F[1])/2),a("center.lon",G),a("center.lat",Y),g&&(a("projection.tilt"),a("projection.distance")),w&&a("projection.parallels",m.projParallels||[0,60]),a("projection.scale"),a("showland",!!A&&void 0)&&a("landcolor"),a("showlakes",!!A&&void 0)&&a("lakecolor"),a("showrivers",!!A&&void 0)&&(a("rivercolor"),a("riverwidth")),a("showcountries",_&&"usa"!==d&&A)&&(a("countrycolor"),a("countrywidth")),("usa"===d||"north america"===d&&50===u)&&(a("showsubunits",A),a("subunitcolor"),a("subunitwidth")),_||a("showframe",A)&&(a("framecolor"),a("framewidth")),a("bgcolor"),a("fitbounds")&&(delete s.projection.scale,_?(delete s.center.lon,delete s.center.lat):x?(delete s.center.lon,delete s.center.lat,delete s.projection.rotation.lon,delete s.projection.rotation.lat,delete s.lonaxis.range,delete s.lataxis.range):(delete s.center.lon,delete s.center.lat,delete s.projection.rotation.lon))}ae.exports=function(i,s,a){E(i,s,a,{type:"geo",attributes:M,handleDefaults:c,fullData:a,partition:"y"})}},74455:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(73972),S=Math.PI/180,M=180/Math.PI,v={cursor:"pointer"},c={cursor:"auto"};function i(_,g){return D.behavior.zoom().translate(g.translate()).scale(g.scale())}function s(_,g,w){var x=_.id,b=_.graphDiv,A=b.layout,p=A[x],O=b._fullLayout,k=O[x],I={},P={};function R(N,j){I[x+"."+N]=E.nestedProperty(p,N).get(),f.call("_storeDirectGUIEdit",A,O._preGUI,I);var X=E.nestedProperty(k,N);X.get()!==j&&(X.set(j),E.nestedProperty(p,N).set(j),P[x+"."+N]=j)}w(R),R("projection.scale",g.scale()/_.fitScale),R("fitbounds",!1),b.emit("plotly_relayout",P)}function a(_,g){var w=i(0,g);function x(b){var A=g.invert(_.midPt);b("center.lon",A[0]),b("center.lat",A[1])}return w.on("zoomstart",function(){D.select(this).style(v)}).on("zoom",function(){g.scale(D.event.scale).translate(D.event.translate),_.render(!0);var b=g.invert(_.midPt);_.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":g.scale()/_.fitScale,"geo.center.lon":b[0],"geo.center.lat":b[1]})}).on("zoomend",function(){D.select(this).style(c),s(_,g,x)}),w}function o(_,g){var w,x,b,A,p,O,k,I,P,R=i(0,g);function N(X){return g.invert(X)}function j(X){var F=g.rotate(),Z=g.invert(_.midPt);X("projection.rotation.lon",-F[0]),X("center.lon",Z[0]),X("center.lat",Z[1])}return R.on("zoomstart",function(){D.select(this).style(v),w=D.mouse(this),x=g.rotate(),b=g.translate(),A=x,p=N(w)}).on("zoom",function(){if(O=D.mouse(this),function(Z){var W=N(Z);if(!W)return!0;var H=g(W);return Math.abs(H[0]-Z[0])>2||Math.abs(H[1]-Z[1])>2}(w))return R.scale(g.scale()),void R.translate(g.translate());g.scale(D.event.scale),g.translate([b[0],D.event.translate[1]]),p?N(O)&&(I=N(O),g.rotate(k=[A[0]+(I[0]-p[0]),x[1],x[2]]),A=k):p=N(w=O),P=!0,_.render(!0);var X=g.rotate(),F=g.invert(_.midPt);_.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":g.scale()/_.fitScale,"geo.center.lon":F[0],"geo.center.lat":F[1],"geo.projection.rotation.lon":-X[0]})}).on("zoomend",function(){D.select(this).style(c),P&&s(_,g,j)}),R}function l(_,g){var w,x={r:g.rotate(),k:g.scale()},b=i(0,g),A=function(I){for(var P=0,R=arguments.length,N=[];++P<R;)N.push(arguments[P]);var j=D.dispatch.apply(null,N);return j.of=function(X,F){return function(Z){var W;try{W=Z.sourceEvent=D.event,Z.target=I,D.event=Z,j[Z.type].apply(X,F)}finally{D.event=W}}},j}(b,"zoomstart","zoom","zoomend"),p=0,O=b.on;function k(I){var P=g.rotate();I("projection.rotation.lon",-P[0]),I("projection.rotation.lat",-P[1])}return b.on("zoomstart",function(){D.select(this).style(v);var I,P,R,N,j,X,F,Z,W,H,G,Y=D.mouse(this),se=g.rotate(),te=se,re=g.translate(),Q=(P=.5*(I=se)[0]*S,R=.5*I[1]*S,N=.5*I[2]*S,j=Math.sin(P),X=Math.cos(P),F=Math.sin(R),Z=Math.cos(R),W=Math.sin(N),[X*Z*(H=Math.cos(N))+j*F*W,j*Z*H-X*F*W,X*F*H+j*Z*W,X*Z*W-j*F*H]);w=u(g,Y),O.call(b,"zoom",function(){var ee,oe,le,ue,de,he,we,Ae,Te,ve,fe,xe=D.mouse(this);if(g.scale(x.k=D.event.scale),w){if(u(g,xe)){g.rotate(se).translate(re);var Fe=u(g,xe),Se=function(fe,be){if(fe&&be){var Le=[(Ge=fe)[1]*(ye=be)[2]-Ge[2]*ye[1],Ge[2]*ye[0]-Ge[0]*ye[2],Ge[0]*ye[1]-Ge[1]*ye[0]],Oe=Math.sqrt(T(Le,Le)),De=.5*Math.acos(Math.max(-1,Math.min(1,T(fe,be)))),Ue=Math.sin(De)/Oe;return Oe&&[Math.cos(De),Le[2]*Ue,-Le[1]*Ue,Le[0]*Ue]}var Ge,ye}(w,Fe),ke=(fe=[(le=(ee=Q)[0])*(we=(oe=Se)[0])-(ue=ee[1])*(Ae=oe[1])-(de=ee[2])*(Te=oe[2])-(he=ee[3])*(ve=oe[3]),le*Ae+ue*we+de*ve-he*Te,le*Te-ue*ve+de*we+he*Ae,le*ve+ue*Te-de*Ae+he*we],[Math.atan2(2*(fe[0]*fe[1]+fe[2]*fe[3]),1-2*(fe[1]*fe[1]+fe[2]*fe[2]))*M,Math.asin(Math.max(-1,Math.min(1,2*(fe[0]*fe[2]-fe[3]*fe[1]))))*M,Math.atan2(2*(fe[0]*fe[3]+fe[1]*fe[2]),1-2*(fe[2]*fe[2]+fe[3]*fe[3]))*M]),pe=x.r=function(fe,be,Le){var Oe=h(be,2,fe[0]);Oe=h(Oe,1,fe[1]),Oe=h(Oe,0,fe[2]-Le[2]);var De,Ue,Ge=be[0],ye=be[1],Ie=be[2],Ee=Oe[0],Be=Oe[1],We=Oe[2],He=Math.atan2(ye,Ge)*M,Je=Math.sqrt(Ge*Ge+ye*ye);Math.abs(Be)>Je?(Ue=(Be>0?90:-90)-He,De=0):(Ue=Math.asin(Be/Je)*M-He,De=Math.sqrt(Je*Je-Be*Be));var et=180-Ue-2*He,at=(Math.atan2(We,Ee)-Math.atan2(Ie,De))*M,mt=(Math.atan2(We,Ee)-Math.atan2(Ie,-De))*M;return d(Le[0],Le[1],Ue,at)<=d(Le[0],Le[1],et,mt)?[Ue,at,Le[2]]:[et,mt,Le[2]]}(ke,w,te);isFinite(pe[0])&&isFinite(pe[1])&&isFinite(pe[2])||(pe=te),g.rotate(pe),te=pe}}else w=u(g,Y=xe);A.of(this,arguments)({type:"zoom"})}),G=A.of(this,arguments),p++||G({type:"zoomstart"})}).on("zoomend",function(){var I;D.select(this).style(c),O.call(b,"zoom",null),I=A.of(this,arguments),--p||I({type:"zoomend"}),s(_,g,k)}).on("zoom.redraw",function(){_.render(!0);var I=g.rotate();_.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":g.scale()/_.fitScale,"geo.projection.rotation.lon":-I[0],"geo.projection.rotation.lat":-I[1]})}),D.rebind(b,A,"on")}function u(_,g){var x,b,A,p,w=_.invert(g);return w&&isFinite(w[0])&&isFinite(w[1])&&(b=(x=w)[0]*S,A=x[1]*S,[(p=Math.cos(A))*Math.cos(b),p*Math.sin(b),Math.sin(A)])}function d(_,g,w,x){var b=m(w-_),A=m(x-g);return Math.sqrt(b*b+A*A)}function m(_){return(_%360+540)%360-180}function h(_,g,w){var x=w*S,b=_.slice(),A=0===g?1:0,p=2===g?1:2,O=Math.cos(x),k=Math.sin(x);return b[A]=_[A]*O-_[p]*k,b[p]=_[p]*O+_[A]*k,b}function T(_,g){for(var w=0,x=0,b=_.length;x<b;++x)w+=_[x]*g[x];return w}ae.exports=function(_,g){return(g._isScoped?a:g._isClipped?l:o)(_,_.projection)}},27659:function(ae,B,r){"use strict";var D=r(73972),E=r(85555).SUBPLOT_PATTERN;B.AU=function(f,S,M){var v=D.subplotsRegistry[S];if(!v)return[];for(var c=v.attr,i=[],s=0;s<f.length;s++){var a=f[s];a[0].trace[c]===M&&i.push(a)}return i},B.a0=function(f,S){var M,v=[],c=[];if(!(M="string"==typeof S?D.getModule(S).plot:"function"==typeof S?S:S.plot))return[v,f];for(var i=0;i<f.length;i++){var s=f[i],a=s[0].trace;!0===a.visible&&0!==a._length&&(a._module&&a._module.plot===M?v.push(s):c.push(s))}return[v,c]},B.NG=function(f,S,M){if(!D.subplotsRegistry[S])return[];var v,c,i,s=D.subplotsRegistry[S].attr,a=[];if("gl2d"===S){var o=M.match(E);c="x"+o[1],i="y"+o[2]}for(var l=0;l<f.length;l++)v=f[l],"gl2d"===S&&D.traceIs(v,"gl2d")?v[s[0]]===c&&v[s[1]]===i&&a.push(v):v[s]===M&&a.push(v);return a}},75071:function(ae,B,r){"use strict";var D=r(16825),E=r(1195),f=r(48956),S=r(85555),M=r(38520);function v(c,i){this.element=c,this.plot=i,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}ae.exports=function(c){var i=c.mouseContainer,s=c.glplot,a=new v(i,s);function o(){c.xaxis.autorange=!1,c.yaxis.autorange=!1}function l(u,d,m){var h,T,_=c.calcDataBox(),g=s.viewBox,w=a.lastPos[0],x=a.lastPos[1],b=S.MINDRAG*s.pixelRatio,A=S.MINZOOM*s.pixelRatio;function p(N,j,X){var F=Math.min(j,X),Z=Math.max(j,X);F!==Z?(_[N]=F,_[N+2]=Z,a.dataBox=_,c.setRanges(_)):(c.selectBox.selectBox=[0,0,1,1],c.glplot.setDirty())}switch(d*=s.pixelRatio,m=g[3]-g[1]-(m*=s.pixelRatio),c.fullLayout.dragmode){case"zoom":if(u){var O=d/(g[2]-g[0])*(_[2]-_[0])+_[0],k=m/(g[3]-g[1])*(_[3]-_[1])+_[1];a.boxInited||(a.boxStart[0]=O,a.boxStart[1]=k,a.dragStart[0]=d,a.dragStart[1]=m),a.boxEnd[0]=O,a.boxEnd[1]=k,a.boxInited=!0,a.boxEnabled||a.boxStart[0]===a.boxEnd[0]&&a.boxStart[1]===a.boxEnd[1]||(a.boxEnabled=!0);var I=Math.abs(a.dragStart[0]-d)<A,P=Math.abs(a.dragStart[1]-m)<A;if(!function(){for(var N=c.graphDiv._fullLayout._axisConstraintGroups,j=c.xaxis._id,X=c.yaxis._id,F=0;F<N.length;F++)if(-1!==N[F][j]){if(-1!==N[F][X])return!0;break}return!1}()||I&&P)I&&(a.boxEnd[0]=a.boxStart[0]),P&&(a.boxEnd[1]=a.boxStart[1]);else{h=a.boxEnd[0]-a.boxStart[0],T=a.boxEnd[1]-a.boxStart[1];var R=(_[3]-_[1])/(_[2]-_[0]);Math.abs(h*R)>Math.abs(T)?(a.boxEnd[1]=a.boxStart[1]+Math.abs(h)*R*(T>=0?1:-1),a.boxEnd[1]<_[1]?(a.boxEnd[1]=_[1],a.boxEnd[0]=a.boxStart[0]+(_[1]-a.boxStart[1])/Math.abs(R)):a.boxEnd[1]>_[3]&&(a.boxEnd[1]=_[3],a.boxEnd[0]=a.boxStart[0]+(_[3]-a.boxStart[1])/Math.abs(R))):(a.boxEnd[0]=a.boxStart[0]+Math.abs(T)/R*(h>=0?1:-1),a.boxEnd[0]<_[0]?(a.boxEnd[0]=_[0],a.boxEnd[1]=a.boxStart[1]+(_[0]-a.boxStart[0])*Math.abs(R)):a.boxEnd[0]>_[2]&&(a.boxEnd[0]=_[2],a.boxEnd[1]=a.boxStart[1]+(_[2]-a.boxStart[0])*Math.abs(R)))}}else a.boxEnabled?(T=a.boxStart[1]!==a.boxEnd[1],(h=a.boxStart[0]!==a.boxEnd[0])||T?(h&&(p(0,a.boxStart[0],a.boxEnd[0]),c.xaxis.autorange=!1),T&&(p(1,a.boxStart[1],a.boxEnd[1]),c.yaxis.autorange=!1),c.relayoutCallback()):c.glplot.setDirty(),a.boxEnabled=!1,a.boxInited=!1):a.boxInited&&(a.boxInited=!1);break;case"pan":a.boxEnabled=!1,a.boxInited=!1,u?(a.panning||(a.dragStart[0]=d,a.dragStart[1]=m),Math.abs(a.dragStart[0]-d)<b&&(d=a.dragStart[0]),Math.abs(a.dragStart[1]-m)<b&&(m=a.dragStart[1]),T=(x-m)*(_[3]-_[1])/(s.viewBox[3]-s.viewBox[1]),_[0]+=h=(w-d)*(_[2]-_[0])/(s.viewBox[2]-s.viewBox[0]),_[2]+=h,_[1]+=T,_[3]+=T,c.setRanges(_),a.panning=!0,a.lastInputTime=Date.now(),o(),c.cameraChanged(),c.handleAnnotations()):a.panning&&(a.panning=!1,c.relayoutCallback())}a.lastPos[0]=d,a.lastPos[1]=m}return a.mouseListener=D(i,l),i.addEventListener("touchstart",function(u){var d=f(u.changedTouches[0],i);l(0,d[0],d[1]),l(1,d[0],d[1]),u.preventDefault()},!!M&&{passive:!1}),i.addEventListener("touchmove",function(u){u.preventDefault();var d=f(u.changedTouches[0],i);l(1,d[0],d[1]),u.preventDefault()},!!M&&{passive:!1}),i.addEventListener("touchend",function(u){l(0,a.lastPos[0],a.lastPos[1]),u.preventDefault()},!!M&&{passive:!1}),a.wheelListener=E(i,function(u,d){if(!c.scrollZoom)return!1;var m=c.calcDataBox(),h=s.viewBox,T=a.lastPos[0],_=a.lastPos[1],g=Math.exp(5*d/(h[3]-h[1])),w=T/(h[2]-h[0])*(m[2]-m[0])+m[0],x=_/(h[3]-h[1])*(m[3]-m[1])+m[1];return m[0]=(m[0]-w)*g+w,m[2]=(m[2]-w)*g+w,m[1]=(m[1]-x)*g+x,m[3]=(m[3]-x)*g+x,c.setRanges(m),a.lastInputTime=Date.now(),o(),c.cameraChanged(),c.handleAnnotations(),c.relayoutCallback(),!0},!0),a}},82961:function(ae,B,r){"use strict";var D=r(89298),E=r(78614);function f(v){this.scene=v,this.gl=v.gl,this.pixelRatio=v.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var S=f.prototype,M=["xaxis","yaxis"];S.merge=function(v){var c,i,s,a,o,l,u,d,m,h,T;for(this.titleEnable=!1,this.backgroundColor=E(v.plot_bgcolor),h=0;h<2;++h){var _=(c=M[h]).charAt(0);for(s=(i=v[this.scene[c]._name]).title.text===this.scene.fullLayout._dfltTitle[_]?"":i.title.text,T=0;T<=2;T+=2)this.labelEnable[h+T]=!1,this.labels[h+T]=s,this.labelColor[h+T]=E(i.title.font.color),this.labelFont[h+T]=i.title.font.family,this.labelSize[h+T]=i.title.font.size,this.labelPad[h+T]=this.getLabelPad(c,i),this.tickEnable[h+T]=!1,this.tickColor[h+T]=E((i.tickfont||{}).color),this.tickAngle[h+T]="auto"===i.tickangle?0:Math.PI*-i.tickangle/180,this.tickPad[h+T]=this.getTickPad(i),this.tickMarkLength[h+T]=0,this.tickMarkWidth[h+T]=i.tickwidth||0,this.tickMarkColor[h+T]=E(i.tickcolor),this.borderLineEnable[h+T]=!1,this.borderLineColor[h+T]=E(i.linecolor),this.borderLineWidth[h+T]=i.linewidth||0;u=this.hasSharedAxis(i),o=this.hasAxisInDfltPos(c,i)&&!u,l=this.hasAxisInAltrPos(c,i)&&!u,a=i.mirror||!1,d=u?-1!==String(a).indexOf("all"):!!a,m=u?"allticks"===a:-1!==String(a).indexOf("ticks"),o?this.labelEnable[h]=!0:l&&(this.labelEnable[h+2]=!0),o?this.tickEnable[h]=i.showticklabels:l&&(this.tickEnable[h+2]=i.showticklabels),(o||d)&&(this.borderLineEnable[h]=i.showline),(l||d)&&(this.borderLineEnable[h+2]=i.showline),(o||m)&&(this.tickMarkLength[h]=this.getTickMarkLength(i)),(l||m)&&(this.tickMarkLength[h+2]=this.getTickMarkLength(i)),this.gridLineEnable[h]=i.showgrid,this.gridLineColor[h]=E(i.gridcolor),this.gridLineWidth[h]=i.gridwidth,this.zeroLineEnable[h]=i.zeroline,this.zeroLineColor[h]=E(i.zerolinecolor),this.zeroLineWidth[h]=i.zerolinewidth}},S.hasSharedAxis=function(v){var c=this.scene;return 0!==D.findSubplotsWithAxis(c.fullLayout._subplots.gl2d,v).indexOf(c.id)},S.hasAxisInDfltPos=function(v,c){var i=c.side;return"xaxis"===v?"bottom"===i:"yaxis"===v?"left"===i:void 0},S.hasAxisInAltrPos=function(v,c){var i=c.side;return"xaxis"===v?"top"===i:"yaxis"===v?"right"===i:void 0},S.getLabelPad=function(v,c){var i=1.5,s=c.title.font.size,a=c.showticklabels;return"xaxis"===v?"top"===c.side?s*(i+(a?1:0))-10:s*(i+(a?.5:0))-10:"yaxis"===v?"right"===c.side?10+s*(i+(a?1:.5)):10+s*(i+(a?.5:0)):void 0},S.getTickPad=function(v){return"outside"===v.ticks?10+v.ticklen:15},S.getTickMarkLength=function(v){if(!v.ticks)return 0;var c=v.ticklen;return"inside"===v.ticks?-c:c},ae.exports=function(v){return new f(v)}},4796:function(ae,B,r){"use strict";var D=r(30962).overrideAll,E=r(92918),f=r(10820),S=r(77922),M=r(85555),v=r(93612),c=r(528),i=r(27659).NG;B.name="gl2d",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=M.idRegex,B.attrRegex=M.attrRegex,B.attributes=r(89502),B.supplyLayoutDefaults=function(s,a,o){a._has("cartesian")||v.supplyLayoutDefaults(s,a,o)},B.layoutAttrOverrides=D(v.layoutAttributes,"plot","from-root"),B.baseLayoutAttrOverrides=D({plot_bgcolor:f.plot_bgcolor,hoverlabel:c.hoverlabel},"plot","nested"),B.plot=function(s){for(var a=s._fullLayout,o=s._fullData,l=a._subplots.gl2d,u=0;u<l.length;u++){var d=l[u],m=a._plots[d],h=i(o,"gl2d",d),T=m._scene2d;void 0===T&&(T=new E({id:d,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio},a),m._scene2d=T),T.plot(h,s.calcdata,a,s.layout)}},B.clean=function(s,a,o,l){for(var u=l._subplots.gl2d||[],d=0;d<u.length;d++){var m=u[d],h=l._plots[m];h._scene2d&&0===i(s,"gl2d",m).length&&(h._scene2d.destroy(),delete l._plots[m])}v.clean.apply(this,arguments)},B.drawFramework=function(s){s._context.staticPlot||v.drawFramework(s)},B.toSVG=function(s){for(var a=s._fullLayout,o=a._subplots.gl2d,l=0;l<o.length;l++){var u=a._plots[o[l]]._scene2d,d=u.toImage("png");a._glimages.append("svg:image").attr({xmlns:S.svg,"xlink:href":d,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),u.destroy()}},B.updateFx=function(s){for(var a=s._fullLayout,o=a._subplots.gl2d,l=0;l<o.length;l++)a._plots[o[l]]._scene2d.updateFx(a.dragmode)}},92918:function(ae,B,r){"use strict";var D,E,f=r(73972),S=r(89298),M=r(30211),v=r(9330).gl_plot2d,c=r(9330).gl_spikes2d,i=r(9330).gl_select_box,s=r(40372),a=r(82961),o=r(75071),l=r(58617),u=r(99082),d=u.enforce,m=u.clean,h=r(71739).doAutoRange,T=r(64505),_=T.drawMode,g=T.selectMode,w=["xaxis","yaxis"],x=r(85555).SUBPLOT_PATTERN;function b(p,O){this.container=p.container,this.graphDiv=p.graphDiv,this.pixelRatio=p.plotGlPixelRatio||window.devicePixelRatio,this.id=p.id,this.staticPlot=!!p.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(O),this.makeFramework(),this.stopped||(this.glplotOptions=a(this),this.glplotOptions.merge(O),this.glplot=v(this.glplotOptions),this.camera=o(this),this.traces={},this.spikes=c(this.glplot),this.selectBox=i(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}ae.exports=b;var A=b.prototype;A.makeFramework=function(){if(this.staticPlot){if(!(E||(D=document.createElement("canvas"),E=s({canvas:D,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=D,this.gl=E}else{var p=this.container.querySelector(".gl-canvas-focus"),O=s({canvas:p,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!O)return l(this),void(this.stopped=!0);this.canvas=p,this.gl=O}var k=this.canvas;k.style.width="100%",k.style.height="100%",k.style.position="absolute",k.style.top="0px",k.style.left="0px",k.style["pointer-events"]="none",this.updateSize(k);var I=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");I.style.position="absolute",I.style.top=I.style.left="0px",I.style.width=I.style.height="100%",I.style["z-index"]=20,I.style["pointer-events"]="none";var P=this.mouseContainer=document.createElement("div");P.style.position="absolute",P.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var R=this.container;R.appendChild(I),R.appendChild(P);var N=this;P.addEventListener("mouseout",function(){N.isMouseOver=!1,N.unhover()}),P.addEventListener("mouseover",function(){N.isMouseOver=!0})},A.toImage=function(p){p||(p="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(D),this.updateSize(this.canvas);var O=this.glplot.gl,k=O.drawingBufferWidth,I=O.drawingBufferHeight;O.clearColor(1,1,1,0),O.clear(O.COLOR_BUFFER_BIT|O.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),O.bindFramebuffer(O.FRAMEBUFFER,null);var P=new Uint8Array(k*I*4);O.readPixels(0,0,k,I,O.RGBA,O.UNSIGNED_BYTE,P);for(var R=0,N=I-1;R<N;++R,--N)for(var j=0;j<k;++j)for(var X=0;X<4;++X){var F=P[4*(k*R+j)+X];P[4*(k*R+j)+X]=P[4*(k*N+j)+X],P[4*(k*N+j)+X]=F}var Z=document.createElement("canvas");Z.width=k,Z.height=I;var W,H=Z.getContext("2d",{willReadFrequently:!0}),G=H.createImageData(k,I);switch(G.data.set(P),H.putImageData(G,0,0),p){case"jpeg":W=Z.toDataURL("image/jpeg");break;case"webp":W=Z.toDataURL("image/webp");break;default:W=Z.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(D),W},A.updateSize=function(p){p||(p=this.canvas);var O=this.pixelRatio,k=this.fullLayout,P=k.height,R=0|Math.ceil(O*k.width),N=0|Math.ceil(O*P);return p.width===R&&p.height===N||(p.width=R,p.height=N),p},A.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var p=[S.calcTicks(this.xaxis),S.calcTicks(this.yaxis)],O=0;O<2;++O)for(var k=0;k<p[O].length;++k)p[O][k].text=p[O][k].text+"";return p},A.updateRefs=function(p){this.fullLayout=p;var O=this.id.match(x),I="yaxis"+O[2];this.xaxis=this.fullLayout["xaxis"+O[1]],this.yaxis=this.fullLayout[I]},A.relayoutCallback=function(){var p=this.graphDiv,O=this.xaxis,k=this.yaxis,I=p.layout,P={},R=P[O._name+".range"]=O.range.slice(),N=P[k._name+".range"]=k.range.slice();P[O._name+".autorange"]=O.autorange,P[k._name+".autorange"]=k.autorange,f.call("_storeDirectGUIEdit",p.layout,p._fullLayout._preGUI,P);var j=I[O._name];j.range=R,j.autorange=O.autorange;var X=I[k._name];X.range=N,X.autorange=k.autorange,P.lastInputTime=this.camera.lastInputTime,p.emit("plotly_relayout",P)},A.cameraChanged=function(){var p=this.camera;this.glplot.setDataBox(this.calcDataBox());var O=this.computeTickMarks();(function(k,I){for(var P=0;P<2;++P){var R=k[P],N=I[P];if(R.length!==N.length)return!0;for(var j=0;j<R.length;++j)if(R[j].x!==N[j].x)return!0}return!1})(O,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=O,this.glplotOptions.dataBox=p.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},A.handleAnnotations=function(){for(var p=this.graphDiv,O=this.fullLayout.annotations,k=0;k<O.length;k++){var I=O[k];I.xref===this.xaxis._id&&I.yref===this.yaxis._id&&f.getComponentMethod("annotations","drawOne")(p,k)}},A.destroy=function(){if(this.glplot){var p=this.traces;p&&Object.keys(p).map(function(O){p[O].dispose(),delete p[O]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},A.plot=function(p,O,k){var I=this.glplot;this.updateRefs(k),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(p,O),this.updateFx(k.dragmode);var P=k.width,R=k.height;this.updateSize(this.canvas);var N=this.glplotOptions;N.merge(k),N.screenBox=[0,0,P,R];var j={_fullLayout:{_axisConstraintGroups:k._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:k._size}};m(j,this.xaxis),m(j,this.yaxis);var X,F,Z=k._size,W=this.xaxis.domain,H=this.yaxis.domain;for(N.viewBox=[Z.l+W[0]*Z.w,Z.b+H[0]*Z.h,P-Z.r-(1-W[1])*Z.w,R-Z.t-(1-H[1])*Z.h],this.mouseContainer.style.width=Z.w*(W[1]-W[0])+"px",this.mouseContainer.style.height=Z.h*(H[1]-H[0])+"px",this.mouseContainer.height=Z.h*(H[1]-H[0]),this.mouseContainer.style.left=Z.l+W[0]*Z.w+"px",this.mouseContainer.style.top=Z.t+(1-H[1])*Z.h+"px",F=0;F<2;++F)(X=this[w[F]])._length=N.viewBox[F+2]-N.viewBox[F],h(this.graphDiv,X),X.setScale();d(j),N.ticks=this.computeTickMarks(),N.dataBox=this.calcDataBox(),N.merge(k),I.update(N),this.glplot.draw()},A.calcDataBox=function(){var p=this.xaxis,O=this.yaxis,k=p.range,I=O.range,P=p.r2l,R=O.r2l;return[P(k[0]),R(I[0]),P(k[1]),R(I[1])]},A.setRanges=function(p){var O=this.xaxis,k=this.yaxis,I=O.l2r,P=k.l2r;O.range=[I(p[0]),I(p[2])],k.range=[P(p[1]),P(p[3])]},A.updateTraces=function(p,O){var k,I,P,R=Object.keys(this.traces);this.fullData=p;e:for(k=0;k<R.length;k++){var N=R[k],j=this.traces[N];for(I=0;I<p.length;I++)if((P=p[I]).uid===N&&P.type===j.type)continue e;j.dispose(),delete this.traces[N]}for(k=0;k<p.length;k++){var X=O[k],F=this.traces[(P=p[k]).uid];F?F.update(P,X):(F=P._module.plot(this,P,X),this.traces[P.uid]=F)}this.glplot.objects.sort(function(Z,W){return Z._trace.index-W._trace.index})},A.updateFx=function(p){g(p)||_(p)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===p?"move":"zoom"===p?"crosshair":null},A.emitPointAction=function(p,O){for(var k,I=p.trace.uid,P=p.pointIndex,R=0;R<this.fullData.length;R++)this.fullData[R].uid===I&&(k=this.fullData[R]);var N={x:p.traceCoord[0],y:p.traceCoord[1],curveNumber:k.index,pointNumber:P,data:k._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};M.appendArrayPointValue(N,k,P),this.graphDiv.emit(O,{points:[N]})},A.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var p=this.glplot,O=this.camera,k=O.mouseListener,I=1===this.lastButtonState&&0===k.buttons,P=this.fullLayout;this.lastButtonState=k.buttons,this.cameraChanged();var R,N=k.x*p.pixelRatio,j=this.canvas.height-p.pixelRatio*k.y;if(O.boxEnabled&&"zoom"===P.dragmode){this.selectBox.enabled=!0;for(var X=this.selectBox.selectBox=[Math.min(O.boxStart[0],O.boxEnd[0]),Math.min(O.boxStart[1],O.boxEnd[1]),Math.max(O.boxStart[0],O.boxEnd[0]),Math.max(O.boxStart[1],O.boxEnd[1])],F=0;F<2;F++)O.boxStart[F]===O.boxEnd[F]&&(X[F]=p.dataBox[F],X[F+2]=p.dataBox[F+2]);p.setDirty()}else if(!O.panning&&this.isMouseOver){this.selectBox.enabled=!1;var Z=P._size,G=(R=p.pick(N/p.pixelRatio+Z.l+this.xaxis.domain[0]*Z.w,j/p.pixelRatio-(Z.t+(1-this.yaxis.domain[1])*Z.h)))&&R.object._trace.handlePick(R);if(G&&I&&this.emitPointAction(G,"plotly_click"),R&&"skip"!==R.object._trace.hoverinfo&&P.hovermode&&G&&(!this.lastPickResult||this.lastPickResult.traceUid!==G.trace.uid||this.lastPickResult.dataCoord[0]!==G.dataCoord[0]||this.lastPickResult.dataCoord[1]!==G.dataCoord[1])){var Y=G;this.lastPickResult={traceUid:G.trace?G.trace.uid:null,dataCoord:G.dataCoord.slice()},this.spikes.update({center:R.dataCoord}),Y.screenCoord=[((p.viewBox[2]-p.viewBox[0])*(R.dataCoord[0]-p.dataBox[0])/(p.dataBox[2]-p.dataBox[0])+p.viewBox[0])/p.pixelRatio,(this.canvas.height-(p.viewBox[3]-p.viewBox[1])*(R.dataCoord[1]-p.dataBox[1])/(p.dataBox[3]-p.dataBox[1])-p.viewBox[1])/p.pixelRatio],this.emitPointAction(G,"plotly_hover");var se=this.fullData[Y.trace.index]||{},te=Y.pointIndex,re=M.castHoverinfo(se,P,te);if(re&&"all"!==re){var Q=re.split("+");-1===Q.indexOf("x")&&(Y.traceCoord[0]=void 0),-1===Q.indexOf("y")&&(Y.traceCoord[1]=void 0),-1===Q.indexOf("z")&&(Y.traceCoord[2]=void 0),-1===Q.indexOf("text")&&(Y.textLabel=void 0),-1===Q.indexOf("name")&&(Y.name=void 0)}M.loneHover({x:Y.screenCoord[0],y:Y.screenCoord[1],xLabel:this.hoverFormatter("xaxis",Y.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",Y.traceCoord[1]),zLabel:Y.traceCoord[2],text:Y.textLabel,name:Y.name,color:M.castHoverOption(se,te,"bgcolor")||Y.color,borderColor:M.castHoverOption(se,te,"bordercolor"),fontFamily:M.castHoverOption(se,te,"font.family"),fontSize:M.castHoverOption(se,te,"font.size"),fontColor:M.castHoverOption(se,te,"font.color"),nameLength:M.castHoverOption(se,te,"namelength"),textAlign:M.castHoverOption(se,te,"align")},{container:this.svgContainer,gd:this.graphDiv})}}R||this.unhover(),p.draw()}},A.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),M.loneUnhover(this.svgContainer))},A.hoverFormatter=function(p,O){if(void 0!==O){var k=this[p];return S.tickText(k,k.c2l(O),"hover").text}}},58547:function(ae,B,r){"use strict";var D=r(30962).overrideAll,E=r(528),f=r(33539),S=r(27659).NG,M=r(71828),v=r(77922),c="gl3d",i="scene";B.name=c,B.attr=i,B.idRoot=i,B.idRegex=B.attrRegex=M.counterRegex("scene"),B.attributes=r(59084),B.layoutAttributes=r(65500),B.baseLayoutAttrOverrides=D({hoverlabel:E.hoverlabel},"plot","nested"),B.supplyLayoutDefaults=r(24682),B.plot=function(s){for(var a=s._fullLayout,o=s._fullData,l=a._subplots[c],u=0;u<l.length;u++){var d=l[u],m=S(o,c,d),h=a[d],T=h.camera,_=h._scene;_||(_=new f({id:d,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio,camera:T},a),h._scene=_),_.viewInitial||(_.viewInitial={up:{x:T.up.x,y:T.up.y,z:T.up.z},eye:{x:T.eye.x,y:T.eye.y,z:T.eye.z},center:{x:T.center.x,y:T.center.y,z:T.center.z}}),_.plot(m,a,s.layout)}},B.clean=function(s,a,o,l){for(var u=l._subplots[c]||[],d=0;d<u.length;d++){var m=u[d];!a[m]&&l[m]._scene&&(l[m]._scene.destroy(),l._infolayer&&l._infolayer.selectAll(".annotation-"+m).remove())}},B.toSVG=function(s){for(var a=s._fullLayout,o=a._subplots[c],l=a._size,u=0;u<o.length;u++){var d=a[o[u]],m=d.domain,h=d._scene,T=h.toImage("png");a._glimages.append("svg:image").attr({xmlns:v.svg,"xlink:href":T,x:l.l+l.w*m.x[0],y:l.t+l.h*(1-m.y[1]),width:l.w*(m.x[1]-m.x[0]),height:l.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"}),h.destroy()}},B.cleanId=function(s){if(s.match(/^scene[0-9]*$/)){var a=s.substr(5);return"1"===a&&(a=""),i+a}},B.updateFx=function(s){for(var a=s._fullLayout,o=a._subplots[c],l=0;l<o.length;l++)a[o[l]]._scene.updateFx(a.dragmode,a.hovermode)}},59084:function(ae){"use strict";ae.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(ae,B,r){"use strict";var D=r(7901),E=r(13838),f=r(1426).extendFlat,S=r(30962).overrideAll;ae.exports=S({visible:E.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:D.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:E.color,categoryorder:E.categoryorder,categoryarray:E.categoryarray,title:{text:E.title.text,font:E.title.font},type:f({},E.type,{values:["-","linear","log","date","category"]}),autotypenumbers:E.autotypenumbers,autorange:E.autorange,autorangeoptions:{minallowed:E.autorangeoptions.minallowed,maxallowed:E.autorangeoptions.maxallowed,clipmin:E.autorangeoptions.clipmin,clipmax:E.autorangeoptions.clipmax,include:E.autorangeoptions.include,editType:"plot"},rangemode:E.rangemode,minallowed:E.minallowed,maxallowed:E.maxallowed,range:f({},E.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:E.minor.tickmode,nticks:E.nticks,tick0:E.tick0,dtick:E.dtick,tickvals:E.tickvals,ticktext:E.ticktext,ticks:E.ticks,mirror:E.mirror,ticklen:E.ticklen,tickwidth:E.tickwidth,tickcolor:E.tickcolor,showticklabels:E.showticklabels,labelalias:E.labelalias,tickfont:E.tickfont,tickangle:E.tickangle,tickprefix:E.tickprefix,showtickprefix:E.showtickprefix,ticksuffix:E.ticksuffix,showticksuffix:E.showticksuffix,showexponent:E.showexponent,exponentformat:E.exponentformat,minexponent:E.minexponent,separatethousands:E.separatethousands,tickformat:E.tickformat,tickformatstops:E.tickformatstops,hoverformat:E.hoverformat,showline:E.showline,linecolor:E.linecolor,linewidth:E.linewidth,showgrid:E.showgrid,gridcolor:f({},E.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:E.gridwidth,zeroline:E.zeroline,zerolinecolor:E.zerolinecolor,zerolinewidth:E.zerolinewidth,_deprecated:{title:E._deprecated.title,titlefont:E._deprecated.titlefont}},"plot","from-root")},3277:function(ae,B,r){"use strict";var D=r(84267).mix,E=r(71828),f=r(44467),S=r(77894),M=r(951),v=r(71453),c=["xaxis","yaxis","zaxis"];ae.exports=function(i,s,a){var o,l;function u(h,T){return E.coerce(o,l,S,h,T)}for(var d=0;d<c.length;d++){var m=c[d];o=i[m]||{},(l=f.newContainer(s,m))._id=m[0]+a.scene,l._name=m,M(o,l,u,a),v(o,l,u,{font:a.font,letter:m[0],data:a.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:a.bgColor,calendar:a.calendar},a.fullLayout),u("gridcolor",D(l.color,a.bgColor,72.72727272727273).toRgbString()),u("title.text",m[0]),l.setScale=E.noop,u("showspikes")&&(u("spikesides"),u("spikethickness"),u("spikecolor",l.color)),u("showaxeslabels"),u("showbackground")&&u("backgroundcolor")}}},30422:function(ae,B,r){"use strict";var D=r(78614),E=r(71828),f=["xaxis","yaxis","zaxis"];function S(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}S.prototype.merge=function(M,v){for(var c=this,i=0;i<3;++i){var s=v[f[i]];s.visible?(c.labels[i]=M._meta?E.templateString(s.title.text,M._meta):s.title.text,"font"in s.title&&(s.title.font.color&&(c.labelColor[i]=D(s.title.font.color)),s.title.font.family&&(c.labelFont[i]=s.title.font.family),s.title.font.size&&(c.labelSize[i]=s.title.font.size)),"showline"in s&&(c.lineEnable[i]=s.showline),"linecolor"in s&&(c.lineColor[i]=D(s.linecolor)),"linewidth"in s&&(c.lineWidth[i]=s.linewidth),"showgrid"in s&&(c.gridEnable[i]=s.showgrid),"gridcolor"in s&&(c.gridColor[i]=D(s.gridcolor)),"gridwidth"in s&&(c.gridWidth[i]=s.gridwidth),"log"===s.type?c.zeroEnable[i]=!1:"zeroline"in s&&(c.zeroEnable[i]=s.zeroline),"zerolinecolor"in s&&(c.zeroLineColor[i]=D(s.zerolinecolor)),"zerolinewidth"in s&&(c.zeroLineWidth[i]=s.zerolinewidth),c.lineTickEnable[i]=!(!("ticks"in s)||!s.ticks),"ticklen"in s&&(c.lineTickLength[i]=c._defaultLineTickLength[i]=s.ticklen),"tickcolor"in s&&(c.lineTickColor[i]=D(s.tickcolor)),"tickwidth"in s&&(c.lineTickWidth[i]=s.tickwidth),"tickangle"in s&&(c.tickAngle[i]="auto"===s.tickangle?-3600:Math.PI*-s.tickangle/180),"showticklabels"in s&&(c.tickEnable[i]=s.showticklabels),"tickfont"in s&&(s.tickfont.color&&(c.tickColor[i]=D(s.tickfont.color)),s.tickfont.family&&(c.tickFont[i]=s.tickfont.family),s.tickfont.size&&(c.tickSize[i]=s.tickfont.size)),"mirror"in s?-1!==["ticks","all","allticks"].indexOf(s.mirror)?(c.lineTickMirror[i]=!0,c.lineMirror[i]=!0):!0===s.mirror?(c.lineTickMirror[i]=!1,c.lineMirror[i]=!0):(c.lineTickMirror[i]=!1,c.lineMirror[i]=!1):c.lineMirror[i]=!1,"showbackground"in s&&!1!==s.showbackground?(c.backgroundEnable[i]=!0,c.backgroundColor[i]=D(s.backgroundcolor)):c.backgroundEnable[i]=!1):(c.tickEnable[i]=!1,c.labelEnable[i]=!1,c.lineEnable[i]=!1,c.lineTickEnable[i]=!1,c.gridEnable[i]=!1,c.zeroEnable[i]=!1,c.backgroundEnable[i]=!1)}},ae.exports=function(M,v){var c=new S;return c.merge(M,v),c}},24682:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(73972),S=r(49119),M=r(3277),v=r(65500),c=r(27659).NG,i="gl3d";function s(a,o,l,u){for(var d=l("bgcolor"),m=E.combine(d,u.paper_bgcolor),h=["up","center","eye"],T=0;T<h.length;T++)l("camera."+h[T]+".x"),l("camera."+h[T]+".y"),l("camera."+h[T]+".z");l("camera.projection.type");var _=!!l("aspectratio.x")&&!!l("aspectratio.y")&&!!l("aspectratio.z"),g=l("aspectmode",_?"manual":"auto");_||(a.aspectratio=o.aspectratio={x:1,y:1,z:1},"manual"===g&&(o.aspectmode="auto"),a.aspectmode=o.aspectmode);var w=c(u.fullData,i,u.id);M(a,o,{font:u.font,scene:u.id,data:w,bgColor:m,calendar:u.calendar,autotypenumbersDflt:u.autotypenumbersDflt,fullLayout:u.fullLayout}),f.getComponentMethod("annotations3d","handleDefaults")(a,o,u);var x=u.getDfltFromLayout("dragmode");if(!1!==x&&!x)if(x="orbit",a.camera&&a.camera.up){var b=a.camera.up.x,A=a.camera.up.y,p=a.camera.up.z;0!==p&&(b&&A&&p?p/Math.sqrt(b*b+A*A+p*p)>.999&&(x="turntable"):x="turntable")}else x="turntable";l("dragmode",x),l("hovermode",u.getDfltFromLayout("hovermode"))}ae.exports=function(a,o,l){var u=o._basePlotModules.length>1;S(a,o,l,{type:i,attributes:v,handleDefaults:s,fullLayout:o,font:o.font,fullData:l,getDfltFromLayout:function(d){if(!u)return D.validate(a[d],v[d])?a[d]:void 0},autotypenumbersDflt:o.autotypenumbers,paper_bgcolor:o.paper_bgcolor,calendar:o.calendar})}},65500:function(ae,B,r){"use strict";var D=r(77894),E=r(27670).Y,f=r(1426).extendFlat,S=r(71828).counterRegex;function M(v,c,i){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:c,editType:"camera"},z:{valType:"number",dflt:i,editType:"camera"},editType:"camera"}}ae.exports={_arrayAttrRegexps:[S("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:f(M(0,0,1),{}),center:f(M(0,0,0),{}),eye:f(M(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:E({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:D,yaxis:D,zaxis:D,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(ae,B,r){"use strict";var D=r(78614),E=["xaxis","yaxis","zaxis"];function f(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}f.prototype.merge=function(S){for(var M=0;M<3;++M){var v=S[E[M]];v.visible?(this.enabled[M]=v.showspikes,this.colors[M]=D(v.spikecolor),this.drawSides[M]=v.spikesides,this.lineWidth[M]=v.spikethickness):(this.enabled[M]=!1,this.drawSides[M]=!1)}},ae.exports=function(S){var M=new f;return M.merge(S),M}},96085:function(ae,B,r){"use strict";ae.exports=function(M){for(var v=M.axesOptions,c=M.glplot.axesPixels,i=M.fullSceneLayout,s=[[],[],[]],a=0;a<3;++a){var o=i[f[a]];if(o._length=(c[a].hi-c[a].lo)*c[a].pixelsPerDataUnit/M.dataScale[a],Math.abs(o._length)===1/0||isNaN(o._length))s[a]=[];else{o._input_range=o.range.slice(),o.range[0]=c[a].lo/M.dataScale[a],o.range[1]=c[a].hi/M.dataScale[a],o._m=1/(M.dataScale[a]*c[a].pixelsPerDataUnit),o.range[0]===o.range[1]&&(o.range[0]-=1,o.range[1]+=1);var l=o.tickmode;if("auto"===o.tickmode){o.tickmode="linear";var u=o.nticks||E.constrain(o._length/40,4,9);D.autoTicks(o,Math.abs(o.range[1]-o.range[0])/u)}for(var d=D.calcTicks(o,{msUTC:!0}),m=0;m<d.length;++m)d[m].x=d[m].x*M.dataScale[a],"date"===o.type&&(d[m].text=d[m].text.replace(/\<br\>/g," "));s[a]=d,o.tickmode=l}}for(v.ticks=s,a=0;a<3;++a)for(S[a]=.5*(M.glplot.bounds[0][a]+M.glplot.bounds[1][a]),m=0;m<2;++m)v.bounds[m][a]=M.glplot.bounds[m][a];M.contourLevels=function(h){for(var T=new Array(3),_=0;_<3;++_){for(var g=h[_],w=new Array(g.length),x=0;x<g.length;++x)w[x]=g[x].x;T[_]=w}return T}(s)};var D=r(89298),E=r(71828),f=["xaxis","yaxis","zaxis"],S=[0,0,0]},63538:function(ae){"use strict";function B(r,D){var E,f,S=[0,0,0,0];for(E=0;E<4;++E)for(f=0;f<4;++f)S[f]+=r[4*E+f]*D[E];return S}ae.exports=function(r,D){return B(r.projection,B(r.view,B(r.model,[D[0],D[1],D[2],1])))}},33539:function(ae,B,r){"use strict";var D,E,f=r(9330).gl_plot3d,S=f.createCamera,M=f.createScene,v=r(40372),c=r(38520),i=r(73972),s=r(71828),a=s.preserveDrawingBuffer(),o=r(89298),l=r(30211),u=r(78614),d=r(58617),m=r(63538),h=r(30422),T=r(13133),_=r(96085),g=r(71739).applyAutorangeOptions,w=!1;function x(k,I){var P=document.createElement("div"),R=k.container;this.graphDiv=k.graphDiv;var N=document.createElementNS("http://www.w3.org/2000/svg","svg");N.style.position="absolute",N.style.top=N.style.left="0px",N.style.width=N.style.height="100%",N.style["z-index"]=20,N.style["pointer-events"]="none",P.appendChild(N),this.svgContainer=N,P.id=k.id,P.style.position="absolute",P.style.top=P.style.left="0px",P.style.width=P.style.height="100%",R.appendChild(P),this.fullLayout=I,this.id=k.id||"scene",this.fullSceneLayout=I[this.id],this.plotArgs=[[],{},{}],this.axesOptions=h(I,I[this.id]),this.spikeOptions=T(I[this.id]),this.container=P,this.staticMode=!!k.staticPlot,this.pixelRatio=this.pixelRatio||k.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=i.getComponentMethod("annotations3d","convert"),this.drawAnnotations=i.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var b=x.prototype;b.prepareOptions=function(){var k=this,I={canvas:k.canvas,gl:k.gl,glOptions:{preserveDrawingBuffer:a,premultipliedAlpha:!0,antialias:!0},container:k.container,axes:k.axesOptions,spikes:k.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:k.camera,pixelRatio:k.pixelRatio};if(k.staticMode){if(!(E||(D=document.createElement("canvas"),E=v({canvas:D,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");I.gl=E,I.canvas=D}return I};var A=!0;b.tryCreatePlot=function(){var k=this,I=k.prepareOptions(),P=!0;try{k.glplot=M(I)}catch{if(k.staticMode||!A||a)P=!1;else{s.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{a=I.glOptions.preserveDrawingBuffer=!0,k.glplot=M(I)}catch{a=I.glOptions.preserveDrawingBuffer=!1,P=!1}}}return A=!1,P},b.initializeGLCamera=function(){var k=this,I=k.fullSceneLayout.camera;k.camera=S(k.container,{center:[I.center.x,I.center.y,I.center.z],eye:[I.eye.x,I.eye.y,I.eye.z],up:[I.up.x,I.up.y,I.up.z],_ortho:"orthographic"===I.projection.type,zoomMin:.01,zoomMax:100,mode:"orbit"})},b.initializeGLPlot=function(){var k=this;if(k.initializeGLCamera(),!k.tryCreatePlot())return d(k);k.traces={},k.make4thDimension();var I=k.graphDiv,P=I.layout,R=function(){var j={};return k.isCameraChanged(P)&&(j[k.id+".camera"]=k.getCamera()),k.isAspectChanged(P)&&(j[k.id+".aspectratio"]=k.glplot.getAspectratio(),"manual"!==P[k.id].aspectmode&&(k.fullSceneLayout.aspectmode=P[k.id].aspectmode=j[k.id+".aspectmode"]="manual")),j},N=function(j){if(!1!==j.fullSceneLayout.dragmode){var X=R();j.saveLayout(P),j.graphDiv.emit("plotly_relayout",X)}};return k.glplot.canvas&&(k.glplot.canvas.addEventListener("mouseup",function(){N(k)}),k.glplot.canvas.addEventListener("touchstart",function(){w=!0}),k.glplot.canvas.addEventListener("wheel",function(j){if(I._context._scrollZoom.gl3d){if(k.camera._ortho){var X=j.deltaX>j.deltaY?1.1:.9090909090909091,F=k.glplot.getAspectratio();k.glplot.setAspectratio({x:X*F.x,y:X*F.y,z:X*F.z})}N(k)}},!!c&&{passive:!1}),k.glplot.canvas.addEventListener("mousemove",function(){if(!1!==k.fullSceneLayout.dragmode&&0!==k.camera.mouseListener.buttons){var j=R();k.graphDiv.emit("plotly_relayouting",j)}}),k.staticMode||k.glplot.canvas.addEventListener("webglcontextlost",function(j){I&&I.emit&&I.emit("plotly_webglcontextlost",{event:j,layer:k.id})},!1)),k.glplot.oncontextloss=function(){k.recoverContext()},k.glplot.onrender=function(){k.render()},!0},b.render=function(){var k,I=this,P=I.graphDiv,R=I.svgContainer,N=I.container.getBoundingClientRect();P._fullLayout._calcInverseTransform(P);var F=N.width*P._fullLayout._invScaleX,Z=N.height*P._fullLayout._invScaleY;R.setAttributeNS(null,"viewBox","0 0 "+F+" "+Z),R.setAttributeNS(null,"width",F),R.setAttributeNS(null,"height",Z),_(I),I.glplot.axes.update(I.axesOptions);for(var W=Object.keys(I.traces),H=null,G=I.glplot.selection,Y=0;Y<W.length;++Y)"skip"!==(k=I.traces[W[Y]]).data.hoverinfo&&k.handlePick(G)&&(H=k),k.setContourLevels&&k.setContourLevels();function se(ve,xe,Fe){var Se=I.fullSceneLayout[ve+"axis"];return"log"!==Se.type&&(xe=Se.d2l(xe)),o.hoverLabelText(Se,xe,Fe)}if(null!==H){var re,te=m(I.glplot.cameraParams,G.dataCoordinate),Q=P._fullData[(k=H.data).index],ee=G.index,oe={xLabel:se("x",G.traceCoordinate[0],k.xhoverformat),yLabel:se("y",G.traceCoordinate[1],k.yhoverformat),zLabel:se("z",G.traceCoordinate[2],k.zhoverformat)},le=l.castHoverinfo(Q,I.fullLayout,ee),ue=(le||"").split("+"),de=le&&"all"===le;Q.hovertemplate||de||(-1===ue.indexOf("x")&&(oe.xLabel=void 0),-1===ue.indexOf("y")&&(oe.yLabel=void 0),-1===ue.indexOf("z")&&(oe.zLabel=void 0),-1===ue.indexOf("text")&&(G.textLabel=void 0),-1===ue.indexOf("name")&&(H.name=void 0));var he=[];"cone"===k.type||"streamtube"===k.type?(oe.uLabel=se("x",G.traceCoordinate[3],k.uhoverformat),(de||-1!==ue.indexOf("u"))&&he.push("u: "+oe.uLabel),oe.vLabel=se("y",G.traceCoordinate[4],k.vhoverformat),(de||-1!==ue.indexOf("v"))&&he.push("v: "+oe.vLabel),oe.wLabel=se("z",G.traceCoordinate[5],k.whoverformat),(de||-1!==ue.indexOf("w"))&&he.push("w: "+oe.wLabel),oe.normLabel=G.traceCoordinate[6].toPrecision(3),(de||-1!==ue.indexOf("norm"))&&he.push("norm: "+oe.normLabel),"streamtube"===k.type&&(oe.divergenceLabel=G.traceCoordinate[7].toPrecision(3),(de||-1!==ue.indexOf("divergence"))&&he.push("divergence: "+oe.divergenceLabel)),G.textLabel&&he.push(G.textLabel),re=he.join("<br>")):"isosurface"===k.type||"volume"===k.type?(oe.valueLabel=o.hoverLabelText(I._mockAxis,I._mockAxis.d2l(G.traceCoordinate[3]),k.valuehoverformat),he.push("value: "+oe.valueLabel),G.textLabel&&he.push(G.textLabel),re=he.join("<br>")):re=G.textLabel;var we={x:G.traceCoordinate[0],y:G.traceCoordinate[1],z:G.traceCoordinate[2],data:Q._input,fullData:Q,curveNumber:Q.index,pointNumber:ee};l.appendArrayPointValue(we,Q,ee),k._module.eventData&&(we=Q._module.eventData(we,G,Q,{},ee));var Ae={points:[we]};if(I.fullSceneLayout.hovermode){var Te=[];l.loneHover({trace:Q,x:(.5+.5*te[0]/te[3])*F,y:(.5-.5*te[1]/te[3])*Z,xLabel:oe.xLabel,yLabel:oe.yLabel,zLabel:oe.zLabel,text:re,name:H.name,color:l.castHoverOption(Q,ee,"bgcolor")||H.color,borderColor:l.castHoverOption(Q,ee,"bordercolor"),fontFamily:l.castHoverOption(Q,ee,"font.family"),fontSize:l.castHoverOption(Q,ee,"font.size"),fontColor:l.castHoverOption(Q,ee,"font.color"),nameLength:l.castHoverOption(Q,ee,"namelength"),textAlign:l.castHoverOption(Q,ee,"align"),hovertemplate:s.castOption(Q,ee,"hovertemplate"),hovertemplateLabels:s.extendFlat({},we,oe),eventData:[we]},{container:R,gd:P,inOut_bbox:Te}),we.bbox=Te[0]}P.emit(G.distance<5&&(G.buttons||w)?"plotly_click":"plotly_hover",Ae),this.oldEventData=Ae}else l.loneUnhover(R),this.oldEventData&&P.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;I.drawAnnotations(I)},b.recoverContext=function(){var k=this;k.glplot.dispose();var I=function(){k.glplot.gl.isContextLost()?requestAnimationFrame(I):k.initializeGLPlot()?k.plot.apply(k,k.plotArgs):s.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(I)};var p=["xaxis","yaxis","zaxis"];function O(k,I,P){for(var R=k.fullSceneLayout,N=0;N<3;N++){var j=p[N],X=j.charAt(0),F=R[j],Z=I[X],W=I[X+"calendar"],H=I["_"+X+"length"];if(s.isArrayOrTypedArray(Z))for(var G,Y=0;Y<(H||Z.length);Y++)if(s.isArrayOrTypedArray(Z[Y]))for(var se=0;se<Z[Y].length;++se)G=F.d2l(Z[Y][se],0,W),!isNaN(G)&&isFinite(G)&&(P[0][N]=Math.min(P[0][N],G),P[1][N]=Math.max(P[1][N],G));else G=F.d2l(Z[Y],0,W),!isNaN(G)&&isFinite(G)&&(P[0][N]=Math.min(P[0][N],G),P[1][N]=Math.max(P[1][N],G));else P[0][N]=Math.min(P[0][N],0),P[1][N]=Math.max(P[1][N],H-1)}}b.plot=function(k,I,P){var R=this;if(R.plotArgs=[k,I,P],!R.glplot.contextLost){var N,j,X,F,Z,W,H=I[R.id],G=P[R.id];R.fullLayout=I,R.fullSceneLayout=H,R.axesOptions.merge(I,H),R.spikeOptions.merge(H),R.setViewport(H),R.updateFx(H.dragmode,H.hovermode),R.camera.enableWheel=R.graphDiv._context._scrollZoom.gl3d,R.glplot.setClearColor(u(H.bgcolor)),R.setConvert(Z),k?Array.isArray(k)||(k=[k]):k=[];var Y=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(X=0;X<k.length;++X)!0===(N=k[X]).visible&&0!==N._length&&O(this,N,Y);!function(Ue,Ge){for(var ye=Ue.fullSceneLayout,Ie=ye.annotations||[],Ee=0;Ee<3;Ee++)for(var Be=p[Ee],We=Be.charAt(0),He=ye[Be],Je=0;Je<Ie.length;Je++){var et=Ie[Je];if(et.visible){var at=He.r2l(et[We]);!isNaN(at)&&isFinite(at)&&(Ge[0][Ee]=Math.min(Ge[0][Ee],at),Ge[1][Ee]=Math.max(Ge[1][Ee],at))}}}(this,Y);var se=[1,1,1];for(F=0;F<3;++F)se[F]=Y[1][F]===Y[0][F]?1:1/(Y[1][F]-Y[0][F]);for(R.dataScale=se,R.convertAnnotations(this),X=0;X<k.length;++X)!0===(N=k[X]).visible&&0!==N._length&&((j=R.traces[N.uid])?j.data.type===N.type?j.update(N):(j.dispose(),j=N._module.plot(this,N),R.traces[N.uid]=j):(j=N._module.plot(this,N),R.traces[N.uid]=j),j.name=N.name);var te=Object.keys(R.traces);e:for(X=0;X<te.length;++X){for(F=0;F<k.length;++F)if(k[F].uid===te[X]&&!0===k[F].visible&&0!==k[F]._length)continue e;(j=R.traces[te[X]]).dispose(),delete R.traces[te[X]]}R.glplot.objects.sort(function(Ue,Ge){return Ue._trace.data.index-Ge._trace.data.index});var re,Q=[[0,0,0],[0,0,0]],ee=[],oe={};for(X=0;X<3;++X){var le;if((W=(Z=H[p[X]]).type)in oe?(oe[W].acc*=se[X],oe[W].count+=1):oe[W]={acc:se[X],count:1},Z.autorange){Q[0][X]=1/0,Q[1][X]=-1/0;var ue=R.glplot.objects,de=R.fullSceneLayout.annotations||[],he=Z._name.charAt(0);for(F=0;F<ue.length;F++){var we=ue[F],Ae=we.bounds,Te=we._trace.data._pad||0;Q[0][X]="ErrorBars"===we.constructor.name&&Z._lowerLogErrorBound?Math.min(Q[0][X],Z._lowerLogErrorBound):Math.min(Q[0][X],Ae[0][X]/se[X]-Te),Q[1][X]=Math.max(Q[1][X],Ae[1][X]/se[X]+Te)}for(F=0;F<de.length;F++){var ve=de[F];if(ve.visible){var xe=Z.r2l(ve[he]);Q[0][X]=Math.min(Q[0][X],xe),Q[1][X]=Math.max(Q[1][X],xe)}}if("rangemode"in Z&&"tozero"===Z.rangemode&&(Q[0][X]=Math.min(Q[0][X],0),Q[1][X]=Math.max(Q[1][X],0)),Q[0][X]>Q[1][X])Q[0][X]=-1,Q[1][X]=1;else{var Fe=Q[1][X]-Q[0][X];Q[0][X]-=Fe/32,Q[1][X]+=Fe/32}if(le=g(le=[Q[0][X],Q[1][X]],Z),Q[0][X]=le[0],Q[1][X]=le[1],Z.isReversed()){var Se=Q[0][X];Q[0][X]=Q[1][X],Q[1][X]=Se}}else Q[0][X]=Z.r2l((le=Z.range)[0]),Q[1][X]=Z.r2l(le[1]);Q[0][X]===Q[1][X]&&(Q[0][X]-=1,Q[1][X]+=1),ee[X]=Q[1][X]-Q[0][X],Z.range=[Q[0][X],Q[1][X]],Z.limitRange(),R.glplot.setBounds(X,{min:Z.range[0]*se[X],max:Z.range[1]*se[X]})}var ke=H.aspectmode;if("cube"===ke)re=[1,1,1];else if("manual"===ke){var pe=H.aspectratio;re=[pe.x,pe.y,pe.z]}else{if("auto"!==ke&&"data"!==ke)throw new Error("scene.js aspectRatio was not one of the enumerated types");var fe=[1,1,1];for(X=0;X<3;++X){var be=oe[W=(Z=H[p[X]]).type];fe[X]=Math.pow(be.acc,1/be.count)/se[X]}re="data"===ke||Math.max.apply(null,fe)/Math.min.apply(null,fe)<=4?fe:[1,1,1]}H.aspectratio.x=G.aspectratio.x=re[0],H.aspectratio.y=G.aspectratio.y=re[1],H.aspectratio.z=G.aspectratio.z=re[2],R.glplot.setAspectratio(H.aspectratio),R.viewInitial.aspectratio||(R.viewInitial.aspectratio={x:H.aspectratio.x,y:H.aspectratio.y,z:H.aspectratio.z}),R.viewInitial.aspectmode||(R.viewInitial.aspectmode=H.aspectmode);var Le=H.domain||null,Oe=I._size||null;if(Le&&Oe){var De=R.container.style;De.position="absolute",De.left=Oe.l+Le.x[0]*Oe.w+"px",De.top=Oe.t+(1-Le.y[1])*Oe.h+"px",De.width=Oe.w*(Le.x[1]-Le.x[0])+"px",De.height=Oe.h*(Le.y[1]-Le.y[0])+"px"}R.glplot.redraw()}},b.destroy=function(){var k=this;k.glplot&&(k.camera.mouseListener.enabled=!1,k.container.removeEventListener("wheel",k.camera.wheelListener),k.camera=null,k.glplot.dispose(),k.container.parentNode.removeChild(k.container),k.glplot=null)},b.getCamera=function(){var k,I=this;return I.camera.view.recalcMatrix(I.camera.view.lastT()),{up:{x:(k=I.camera).up[0],y:k.up[1],z:k.up[2]},center:{x:k.center[0],y:k.center[1],z:k.center[2]},eye:{x:k.eye[0],y:k.eye[1],z:k.eye[2]},projection:{type:!0===k._ortho?"orthographic":"perspective"}}},b.setViewport=function(k){var I,P=this,R=k.camera;P.camera.lookAt.apply(this,[[(I=R).eye.x,I.eye.y,I.eye.z],[I.center.x,I.center.y,I.center.z],[I.up.x,I.up.y,I.up.z]]),P.glplot.setAspectratio(k.aspectratio),"orthographic"===R.projection.type!==P.camera._ortho&&(P.glplot.redraw(),P.glplot.clearRGBA(),P.glplot.dispose(),P.initializeGLPlot())},b.isCameraChanged=function(k){var I=this.getCamera(),P=s.nestedProperty(k,this.id+".camera").get();var F,Z,W,H,G,Y,N=!1;if(void 0===P)N=!0;else{for(var j=0;j<3;j++)for(var X=0;X<3;X++)if(F=I,H=X,G=void 0,Y=void 0,Y=["x","y","z"],!(Z=P)[(G=["up","center","eye"])[W=j]]||F[G[W]][Y[H]]!==Z[G[W]][Y[H]]){N=!0;break}(!P.projection||I.projection&&I.projection.type!==P.projection.type)&&(N=!0)}return N},b.isAspectChanged=function(k){var I=this.glplot.getAspectratio(),P=s.nestedProperty(k,this.id+".aspectratio").get();return void 0===P||P.x!==I.x||P.y!==I.y||P.z!==I.z},b.saveLayout=function(k){var I,P,R,N,j,X,F=this,Z=F.fullLayout,W=F.isCameraChanged(k),H=F.isAspectChanged(k),G=W||H;if(G){var Y={};W&&(I=F.getCamera(),R=(P=s.nestedProperty(k,F.id+".camera")).get(),Y[F.id+".camera"]=R),H&&(N=F.glplot.getAspectratio(),X=(j=s.nestedProperty(k,F.id+".aspectratio")).get(),Y[F.id+".aspectratio"]=X),i.call("_storeDirectGUIEdit",k,Z._preGUI,Y),W&&(P.set(I),s.nestedProperty(Z,F.id+".camera").set(I)),H&&(j.set(N),s.nestedProperty(Z,F.id+".aspectratio").set(N),F.glplot.redraw())}return G},b.updateFx=function(k,I){var P=this,R=P.camera;if(R)if("orbit"===k)R.mode="orbit",R.keyBindingMode="rotate";else if("turntable"===k){R.up=[0,0,1],R.mode="turntable",R.keyBindingMode="rotate";var N=P.graphDiv,j=N._fullLayout,X=P.fullSceneLayout.camera,F=X.up.x,Z=X.up.y,W=X.up.z;if(W/Math.sqrt(F*F+Z*Z+W*W)<.999){var H=P.id+".camera.up",G={x:0,y:0,z:1},Y={};Y[H]=G;var se=N.layout;i.call("_storeDirectGUIEdit",se,j._preGUI,Y),X.up=G,s.nestedProperty(se,H).set(G)}}else R.keyBindingMode=k;P.fullSceneLayout.hovermode=I},b.toImage=function(k){var I=this;k||(k="png"),I.staticMode&&I.container.appendChild(D),I.glplot.redraw();var P=I.glplot.gl,R=P.drawingBufferWidth,N=P.drawingBufferHeight;P.bindFramebuffer(P.FRAMEBUFFER,null);var j=new Uint8Array(R*N*4);P.readPixels(0,0,R,N,P.RGBA,P.UNSIGNED_BYTE,j),function(H,G,Y){for(var se=0,te=Y-1;se<te;++se,--te)for(var re=0;re<G;++re)for(var Q=0;Q<4;++Q){var ee=4*(G*se+re)+Q,oe=4*(G*te+re)+Q,le=H[ee];H[ee]=H[oe],H[oe]=le}}(j,R,N),function(H,G,Y){for(var se=0;se<Y;++se)for(var te=0;te<G;++te){var re=4*(G*se+te),Q=H[re+3];if(Q>0)for(var ee=255/Q,oe=0;oe<3;++oe)H[re+oe]=Math.min(ee*H[re+oe],255)}}(j,R,N);var X=document.createElement("canvas");X.width=R,X.height=N;var F,Z=X.getContext("2d",{willReadFrequently:!0}),W=Z.createImageData(R,N);switch(W.data.set(j),Z.putImageData(W,0,0),k){case"jpeg":F=X.toDataURL("image/jpeg");break;case"webp":F=X.toDataURL("image/webp");break;default:F=X.toDataURL("image/png")}return I.staticMode&&I.container.removeChild(D),F},b.setConvert=function(){for(var k=0;k<3;k++){var I=this.fullSceneLayout[p[k]];o.setConvert(I,this.fullLayout),I.setScale=s.noop}},b.make4thDimension=function(){var k=this,I=k.graphDiv._fullLayout;k._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},o.setConvert(k._mockAxis,I)},ae.exports=x},90060:function(ae){"use strict";ae.exports=function(B,r,D,E){E=E||B.length;for(var f=new Array(E),S=0;S<E;S++)f[S]=[B[S],r[S],D[S]];return f}},10820:function(ae,B,r){"use strict";var D=r(41940),E=r(85594),f=r(22399),S=r(29241),M=r(53777),v=r(35025),c=r(1426).extendFlat,i=D({editType:"calc"});i.family.dflt='"Open Sans", verdana, arial, sans-serif',i.size.dflt=12,i.color.dflt=f.defaultLine,ae.exports={font:i,title:{text:{valType:"string",editType:"layoutstyle"},font:D({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:c(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:f.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:f.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:f.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:S.newshape,activeshape:S.activeshape,newselection:M.newselection,activeselection:M.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:c({},E.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:D({editType:"layoutstyle"})}}},77734:function(ae,B,r){"use strict";var D=r(78607),E="1.10.1",f='\xa9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',S=['\xa9 <a target="_blank" href="https://carto.com/">Carto</a>',f].join(" "),M=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:f,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:S,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:S,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:M,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:M,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},c=D(v);ae.exports={requiredVersion:E,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:v,styleValuesNonMapbox:c,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+E+"."].join("\n"),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",c.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join("\n"),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join("\n"),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":'content: ""; cursor: pointer; position: absolute; background-image: url(\'data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E\'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;',"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":'display:block; width: 21px; height: 21px; background-image: url(\'data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E\')'}}},13056:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f){var S=E.split(" "),M=S[0],v=S[1],c=D.isArrayOrTypedArray(f)?D.mean(f):f,i=.5+c/100,s=1.5+c/100,a=["",""],o=[0,0];switch(M){case"top":a[0]="top",o[1]=-s;break;case"bottom":a[0]="bottom",o[1]=s}switch(v){case"left":a[1]="right",o[0]=-i;break;case"right":a[1]="left",o[0]=i}return{anchor:a[0]&&a[1]?a.join("-"):a[0]?a[0]:a[1]?a[1]:"center",offset:o}}},50101:function(ae,B,r){"use strict";var D=r(44517),E=r(71828),f=E.strTranslate,S=E.strScale,M=r(27659).AU,v=r(77922),c=r(39898),i=r(91424),s=r(63893),a=r(10481),o="mapbox",l=B.constants=r(77734);function u(d){return"string"==typeof d&&(-1!==l.styleValuesMapbox.indexOf(d)||0===d.indexOf("mapbox://")||0===d.indexOf("stamen"))}B.name=o,B.attr="subplot",B.idRoot=o,B.idRegex=B.attrRegex=E.counterRegex(o),B.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},B.layoutAttributes=r(23585),B.supplyLayoutDefaults=r(77882),B.plot=function(d){var m=d._fullLayout,h=d.calcdata,T=m._subplots[o];if(D.version!==l.requiredVersion)throw new Error(l.wrongVersionErrorMsg);var _=function(p,O){var k=p._fullLayout;if(""===p._context.mapboxAccessToken)return"";for(var I=[],P=[],R=!1,N=!1,j=0;j<O.length;j++){var X=k[O[j]],F=X.accesstoken;u(X.style)&&(F?E.pushUnique(I,F):(u(X._input.style)&&(E.error("Uses Mapbox map style, but did not set an access token."),R=!0),N=!0)),F&&E.pushUnique(P,F)}if(N){var Z=R?l.noAccessTokenErrorMsg:l.missingStyleErrorMsg;throw E.error(Z),new Error(Z)}return I.length?(I.length>1&&E.warn(l.multipleTokensErrorMsg),I[0]):(P.length&&E.log(["Listed mapbox access token(s)",P.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(d,T);D.accessToken=_;for(var g=0;g<T.length;g++){var w=T[g],x=M(h,o,w),b=m[w],A=b._subplot;A||(A=new a(d,w),m[w]._subplot=A),A.viewInitial||(A.viewInitial={center:E.extendFlat({},b.center),zoom:b.zoom,bearing:b.bearing,pitch:b.pitch}),A.plot(x,m,d._promises)}},B.clean=function(d,m,h,T){for(var _=T._subplots[o]||[],g=0;g<_.length;g++){var w=_[g];!m[w]&&T[w]._subplot&&T[w]._subplot.destroy()}},B.toSVG=function(d){for(var m=d._fullLayout,h=m._subplots[o],T=m._size,_=0;_<h.length;_++){var g=m[h[_]],w=g.domain,x=g._subplot.toImage("png");m._glimages.append("svg:image").attr({xmlns:v.svg,"xlink:href":x,x:T.l+T.w*w.x[0],y:T.t+T.h*(1-w.y[1]),width:T.w*(w.x[1]-w.x[0]),height:T.h*(w.y[1]-w.y[0]),preserveAspectRatio:"none"});var b=c.select(g._subplot.div);if(null!==b.select(".mapboxgl-ctrl-logo").node().offsetParent){var A=m._glimages.append("g");A.attr("transform",f(T.l+T.w*w.x[0]+10,T.t+T.h*(1-w.y[0])-31)),A.append("path").attr("d",l.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),A.append("path").attr("d",l.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),A.append("path").attr("d",l.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),A.append("polygon").attr("points",l.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var p=b.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),O=m._glimages.append("g"),k=O.append("text");k.text(p).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":p});var I=i.bBox(k.node()),P=T.w*(w.x[1]-w.x[0]);if(I.width>P/2){var R=p.split("|").join("<br>");k.text(R).attr("data-unformatted",R).call(s.convertToTspans,d),I=i.bBox(k.node())}k.attr("transform",f(-3,8-I.height)),O.insert("rect",".static-attribution").attr({x:-I.width-6,y:-I.height-3,width:I.width+6,height:I.height+3,fill:"rgba(255, 255, 255, 0.75)"});var N=1;I.width+6>P&&(N=P/(I.width+6));var j=[T.l+T.w*w.x[1],T.t+T.h*(1-w.y[0])];O.attr("transform",f(j[0],j[1])+S(N))}},B.updateFx=function(d){for(var m=d._fullLayout,h=m._subplots[o],T=0;T<h.length;T++)m[h[T]]._subplot.updateFx(m)}},67911:function(ae,B,r){"use strict";var D=r(71828),E=r(63893).sanitizeHTML,f=r(13056),S=r(77734);function M(s,a){this.subplot=s,this.uid=s.uid+"-"+a,this.index=a,this.idSource="source-"+this.uid,this.idLayer=S.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=M.prototype;function c(s){if(!s.visible)return!1;var a=s.source;if(Array.isArray(a)&&a.length>0){for(var o=0;o<a.length;o++)if("string"!=typeof a[o]||0===a[o].length)return!1;return!0}return D.isPlainObject(a)||"string"==typeof a&&a.length>0}function i(s){var a={},o={};switch(s.type){case"circle":D.extendFlat(o,{"circle-radius":s.circle.radius,"circle-color":s.color,"circle-opacity":s.opacity});break;case"line":D.extendFlat(o,{"line-width":s.line.width,"line-color":s.color,"line-opacity":s.opacity,"line-dasharray":s.line.dash});break;case"fill":D.extendFlat(o,{"fill-color":s.color,"fill-outline-color":s.fill.outlinecolor,"fill-opacity":s.opacity});break;case"symbol":var l=s.symbol,u=f(l.textposition,l.iconsize);D.extendFlat(a,{"icon-image":l.icon+"-15","icon-size":l.iconsize/10,"text-field":l.text,"text-size":l.textfont.size,"text-anchor":u.anchor,"text-offset":u.offset,"symbol-placement":l.placement}),D.extendFlat(o,{"icon-color":s.color,"text-color":l.textfont.color,"text-opacity":s.opacity});break;case"raster":D.extendFlat(o,{"raster-fade-duration":0,"raster-opacity":s.opacity})}return{layout:a,paint:o}}v.update=function(s){this.visible?this.needsNewImage(s)?this.updateImage(s):this.needsNewSource(s)?(this.removeLayer(),this.updateSource(s),this.updateLayer(s)):this.needsNewLayer(s)?this.updateLayer(s):this.updateStyle(s):(this.updateSource(s),this.updateLayer(s)),this.visible=c(s)},v.needsNewImage=function(s){return this.subplot.map.getSource(this.idSource)&&"image"===this.sourceType&&"image"===s.sourcetype&&(this.source!==s.source||JSON.stringify(this.coordinates)!==JSON.stringify(s.coordinates))},v.needsNewSource=function(s){return this.sourceType!==s.sourcetype||JSON.stringify(this.source)!==JSON.stringify(s.source)||this.layerType!==s.type},v.needsNewLayer=function(s){return this.layerType!==s.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(s){this.subplot.map.getSource(this.idSource).updateImage({url:s.source,coordinates:s.coordinates});var a=this.findFollowingMapboxLayerId(this.lookupBelow());null!==a&&this.subplot.map.moveLayer(this.idLayer,a)},v.updateSource=function(s){var l,u,d,m,h,a=this.subplot.map;if(a.getSource(this.idSource)&&a.removeSource(this.idSource),this.sourceType=s.sourcetype,this.source=s.source,c(s)){var o=(m=(l=s).source,h={type:d=l.sourcetype},"geojson"===d?u="data":"vector"===d?u="string"==typeof m?"url":"tiles":"raster"===d?(u="tiles",h.tileSize=256):"image"===d&&(u="url",h.coordinates=l.coordinates),h[u]=m,l.sourceattribution&&(h.attribution=E(l.sourceattribution)),h);a.addSource(this.idSource,o)}},v.findFollowingMapboxLayerId=function(s){if("traces"===s)for(var a=this.subplot.getMapLayers(),o=0;o<a.length;o++){var l=a[o].id;if("string"==typeof l&&0===l.indexOf(S.traceLayerPrefix)){s=l;break}}return s},v.updateLayer=function(s){var a=this.subplot,o=i(s),l=this.lookupBelow(),u=this.findFollowingMapboxLayerId(l);this.removeLayer(),c(s)&&a.addLayer({id:this.idLayer,source:this.idSource,"source-layer":s.sourcelayer||"",type:s.type,minzoom:s.minzoom,maxzoom:s.maxzoom,layout:o.layout,paint:o.paint},u),this.layerType=s.type,this.below=l},v.updateStyle=function(s){if(c(s)){var a=i(s);this.subplot.setOptions(this.idLayer,"setLayoutProperty",a.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",a.paint)}},v.removeLayer=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer)},v.dispose=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer),s.getSource(this.idSource)&&s.removeSource(this.idSource)},ae.exports=function(s,a,o){var l=new M(s,a);return l.update(o),l}},23585:function(ae,B,r){"use strict";var D=r(71828),E=r(7901).defaultLine,f=r(27670).Y,S=r(41940),M=r(82196).textposition,v=r(30962).overrideAll,c=r(44467).templatedArray,i=r(77734),s=S({});s.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(ae.exports=v({_arrayAttrRegexps:[D.counterRegex("mapbox",".layers",!0)],domain:f({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:i.styleValuesMapbox.concat(i.styleValuesNonMapbox),dflt:i.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:c("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:E},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:E}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:s,textposition:D.extendFlat({},M,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},77882:function(ae,B,r){"use strict";var D=r(71828),E=r(49119),f=r(85501),S=r(23585);function M(c,i,s,a){s("accesstoken",a.accessToken),s("style"),s("center.lon"),s("center.lat"),s("zoom"),s("bearing"),s("pitch");var o=s("bounds.west"),l=s("bounds.east"),u=s("bounds.south"),d=s("bounds.north");void 0!==o&&void 0!==l&&void 0!==u&&void 0!==d||delete i.bounds,f(c,i,{name:"layers",handleItemDefaults:v}),i._input=c}function v(c,i){function s(d,m){return D.coerce(c,i,S.layers,d,m)}if(s("visible")){var a,o=s("sourcetype"),l="raster"===o||"image"===o;s("source"),s("sourceattribution"),"vector"===o&&s("sourcelayer"),"image"===o&&s("coordinates"),l&&(a="raster");var u=s("type",a);l&&"raster"!==u&&(u=i.type="raster",D.log("Source types *raster* and *image* must drawn *raster* layer type.")),s("below"),s("color"),s("opacity"),s("minzoom"),s("maxzoom"),"circle"===u&&s("circle.radius"),"line"===u&&(s("line.width"),s("line.dash")),"fill"===u&&s("fill.outlinecolor"),"symbol"===u&&(s("symbol.icon"),s("symbol.iconsize"),s("symbol.text"),D.coerceFont(s,"symbol.textfont"),s("symbol.textposition"),s("symbol.placement"))}}ae.exports=function(c,i,s){E(c,i,s,{type:"mapbox",attributes:S,handleDefaults:M,partition:"y",accessToken:i._mapboxAccessToken})}},10481:function(ae,B,r){"use strict";var D=r(44517),E=r(71828),f=r(41327),S=r(73972),M=r(89298),v=r(28569),c=r(30211),i=r(64505),s=i.drawMode,a=i.selectMode,o=r(47322).prepSelect,l=r(47322).clearOutline,u=r(47322).clearSelectionsCache,d=r(47322).selectOnClick,m=r(77734),h=r(67911);function T(A,p){this.id=p,this.gd=A;var O=A._fullLayout,k=A._context;this.container=O._glcontainer.node(),this.isStatic=k.staticPlot,this.uid=O._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(O),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var _=T.prototype;_.plot=function(A,p,O){var k,I=this;I.map&&p[I.id].accesstoken!==I.accessToken&&(I.map.remove(),I.map=null,I.styleObj=null,I.traceHash={},I.layerList=[]),k=new Promise(I.map?function(R,N){I.updateMap(A,p,R,N)}:function(R,N){I.createMap(A,p,R,N)}),O.push(k)},_.createMap=function(A,p,O,k){var I=this,P=p[I.id],R=I.styleObj=w(P.style,p);I.accessToken=P.accesstoken;var N=P.bounds,j=N?[[N.west,N.south],[N.east,N.north]]:null,X=I.map=new D.Map({container:I.div,style:R.style,center:b(P.center),zoom:P.zoom,bearing:P.bearing,pitch:P.pitch,maxBounds:j,interactive:!I.isStatic,preserveDrawingBuffer:I.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new D.AttributionControl({compact:!0}));X._canvas.style.left="0px",X._canvas.style.top="0px",I.rejectOnError(k),I.isStatic||I.initFx(A,p);var F=[];F.push(new Promise(function(Z){X.once("load",Z)})),F=F.concat(f.fetchTraceGeoData(A)),Promise.all(F).then(function(){I.fillBelowLookup(A,p),I.updateData(A),I.updateLayout(p),I.resolveOnRender(O)}).catch(k)},_.updateMap=function(A,p,O,k){var I=this,P=I.map,R=p[this.id];I.rejectOnError(k);var N=[],j=w(R.style,p);JSON.stringify(I.styleObj)!==JSON.stringify(j)&&(I.styleObj=j,P.setStyle(j.style),I.traceHash={},N.push(new Promise(function(X){P.once("styledata",X)}))),N=N.concat(f.fetchTraceGeoData(A)),Promise.all(N).then(function(){I.fillBelowLookup(A,p),I.updateData(A),I.updateLayout(p),I.resolveOnRender(O)}).catch(k)},_.fillBelowLookup=function(A,p){var O,k,I=p[this.id].layers,P=this.belowLookup={},R=!1;for(O=0;O<A.length;O++){var N=A[O][0].trace,j=N._module;"string"==typeof N.below?k=N.below:j.getBelow&&(k=j.getBelow(N,this)),""===k&&(R=!0),P["trace-"+N.uid]=k||""}for(O=0;O<I.length;O++){var X=I[O];P["layout-"+O]=k="string"==typeof X.below?X.below:R?"traces":""}var F,Z,W={};for(F in P)W[k=P[F]]?W[k].push(F):W[k]=[F];for(k in W){var H=W[k];if(H.length>1)for(O=0;O<H.length;O++)0===(F=H[O]).indexOf("trace-")?(Z=F.split("trace-")[1],this.traceHash[Z]&&(this.traceHash[Z].below=null)):0===F.indexOf("layout-")&&(Z=F.split("layout-")[1],this.layerList[Z]&&(this.layerList[Z].below=null))}};var g={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function w(A,p){var O={};if(E.isPlainObject(A))O.id=A.id,O.style=A;else if("string"==typeof A)if(O.id=A,-1!==m.styleValuesMapbox.indexOf(A))O.style=x(A);else if(m.stylesNonMapbox[A]){O.style=m.stylesNonMapbox[A];var k=O.style.sources["plotly-"+A],I=k?k.tiles:void 0;I&&I[0]&&"?api_key="===I[0].slice(-9)&&(I[0]+=p._mapboxAccessToken)}else O.style=A;else O.id=m.styleValueDflt,O.style=x(m.styleValueDflt);return O.transition={duration:0,delay:0},O}function x(A){return m.styleUrlPrefix+A+"-"+m.styleUrlSuffix}function b(A){return[A.lon,A.lat]}_.updateData=function(A){var p,O,k,I,P=this.traceHash,R=A.slice().sort(function(Z,W){return g[Z[0].trace.type]-g[W[0].trace.type]});for(k=0;k<R.length;k++){var N=R[k],j=!1;(p=P[(O=N[0].trace).uid])&&(p.type===O.type?(p.update(N),j=!0):p.dispose()),!j&&O._module&&(P[O.uid]=O._module.plot(this,N))}var X=Object.keys(P);e:for(k=0;k<X.length;k++){var F=X[k];for(I=0;I<A.length;I++)if(F===(O=A[I][0].trace).uid)continue e;(p=P[F]).dispose(),delete P[F]}},_.updateLayout=function(A){var p=this.map,O=A[this.id];this.dragging||this.wheeling||(p.setCenter(b(O.center)),p.setZoom(O.zoom),p.setBearing(O.bearing),p.setPitch(O.pitch)),this.updateLayers(A),this.updateFramework(A),this.updateFx(A),this.map.resize(),this.gd._context._scrollZoom.mapbox?p.scrollZoom.enable():p.scrollZoom.disable()},_.resolveOnRender=function(A){var p=this.map;p.on("render",function O(){p.loaded()&&(p.off("render",O),setTimeout(A,10))})},_.rejectOnError=function(A){var p=this.map;function O(){A(new Error(m.mapOnErrorMsg))}p.once("error",O),p.once("style.error",O),p.once("source.error",O),p.once("tile.error",O),p.once("layer.error",O)},_.createFramework=function(A){var p=this,O=p.div=document.createElement("div");O.id=p.uid,O.style.position="absolute",p.container.appendChild(O),p.xaxis={_id:"x",c2p:function(k){return p.project(k).x}},p.yaxis={_id:"y",c2p:function(k){return p.project(k).y}},p.updateFramework(A),p.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},M.setConvert(p.mockAxis,A)},_.initFx=function(A,p){var O=this,k=O.gd,I=O.map;function P(){c.loneUnhover(p._hoverlayer)}function R(){var N=O.getView();k.emit("plotly_relayouting",O.getViewEditsWithDerived(N))}I.on("moveend",function(N){if(O.map){var j=k._fullLayout;if(N.originalEvent||O.wheeling){var X=j[O.id];S.call("_storeDirectGUIEdit",k.layout,j._preGUI,O.getViewEdits(X));var F=O.getView();X._input.center=X.center=F.center,X._input.zoom=X.zoom=F.zoom,X._input.bearing=X.bearing=F.bearing,X._input.pitch=X.pitch=F.pitch,k.emit("plotly_relayout",O.getViewEditsWithDerived(F))}N.originalEvent&&"mouseup"===N.originalEvent.type?O.dragging=!1:O.wheeling&&(O.wheeling=!1),j._rehover&&j._rehover()}}),I.on("wheel",function(){O.wheeling=!0}),I.on("mousemove",function(N){var j=O.div.getBoundingClientRect(),X=[N.originalEvent.offsetX,N.originalEvent.offsetY];N.target.getBoundingClientRect=function(){return j},O.xaxis.p2c=function(){return I.unproject(X).lng},O.yaxis.p2c=function(){return I.unproject(X).lat},k._fullLayout._rehover=function(){k._fullLayout._hoversubplot===O.id&&k._fullLayout[O.id]&&c.hover(k,N,O.id)},c.hover(k,N,O.id),k._fullLayout._hoversubplot=O.id}),I.on("dragstart",function(){O.dragging=!0,P()}),I.on("zoomstart",P),I.on("mouseout",function(){k._fullLayout._hoversubplot=null}),I.on("drag",R),I.on("zoom",R),I.on("dblclick",function(){var N=k._fullLayout[O.id];S.call("_storeDirectGUIEdit",k.layout,k._fullLayout._preGUI,O.getViewEdits(N));var j=O.viewInitial;I.setCenter(b(j.center)),I.setZoom(j.zoom),I.setBearing(j.bearing),I.setPitch(j.pitch);var X=O.getView();N._input.center=N.center=X.center,N._input.zoom=N.zoom=X.zoom,N._input.bearing=N.bearing=X.bearing,N._input.pitch=N.pitch=X.pitch,k.emit("plotly_doubleclick",null),k.emit("plotly_relayout",O.getViewEditsWithDerived(X))}),O.clearOutline=function(){u(O.dragOptions),l(O.dragOptions.gd)},O.onClickInPanFn=function(N){return function(j){var X=k._fullLayout.clickmode;X.indexOf("select")>-1&&d(j.originalEvent,k,[O.xaxis],[O.yaxis],O.id,N),X.indexOf("event")>-1&&c.click(k,j.originalEvent)}}},_.updateFx=function(A){var p=this,O=p.map;if(!p.isStatic){var P=A.dragmode;p.dragOptions=E.extendDeep(p.dragOptions||{},{dragmode:A.dragmode,element:p.div,gd:p.gd,plotinfo:{id:p.id,domain:A[p.id].domain,xaxis:p.xaxis,yaxis:p.yaxis,fillRangeItems:function(j,X){X.isRect?(j.range={})[p.id]=[N([X.xmin,X.ymin]),N([X.xmax,X.ymax])]:(j.lassoPoints={})[p.id]=X.map(N)}},xaxes:[p.xaxis],yaxes:[p.yaxis],subplot:p.id}),O.off("click",p.onClickInPanHandler),a(P)||s(P)?(O.dragPan.disable(),O.on("zoomstart",p.clearOutline),p.dragOptions.prepFn=function(j,X,F){o(j,X,F,p.dragOptions,P)},v.init(p.dragOptions)):(O.dragPan.enable(),O.off("zoomstart",p.clearOutline),p.div.onmousedown=null,p.div.ontouchstart=null,p.div.removeEventListener("touchstart",p.div._ontouchstart),p.onClickInPanHandler=p.onClickInPanFn(p.dragOptions),O.on("click",p.onClickInPanHandler))}function N(j){var X=p.map.unproject(j);return[X.lng,X.lat]}},_.updateFramework=function(A){var p=A[this.id].domain,O=A._size,k=this.div.style;k.width=O.w*(p.x[1]-p.x[0])+"px",k.height=O.h*(p.y[1]-p.y[0])+"px",k.left=O.l+p.x[0]*O.w+"px",k.top=O.t+(1-p.y[1])*O.h+"px",this.xaxis._offset=O.l+p.x[0]*O.w,this.xaxis._length=O.w*(p.x[1]-p.x[0]),this.yaxis._offset=O.t+(1-p.y[1])*O.h,this.yaxis._length=O.h*(p.y[1]-p.y[0])},_.updateLayers=function(A){var p,O=A[this.id].layers,k=this.layerList;if(O.length!==k.length){for(p=0;p<k.length;p++)k[p].dispose();for(k=this.layerList=[],p=0;p<O.length;p++)k.push(h(this,p,O[p]))}else for(p=0;p<O.length;p++)k[p].update(O[p])},_.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},_.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},_.setOptions=function(A,p,O){for(var k in O)this.map[p](A,k,O[k])},_.getMapLayers=function(){return this.map.getStyle().layers},_.addLayer=function(A,p){var O=this.map;if("string"==typeof p){if(""===p)return void O.addLayer(A,p);for(var k=this.getMapLayers(),I=0;I<k.length;I++)if(p===k[I].id)return void O.addLayer(A,p);E.warn(["Trying to add layer with *below* value",p,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}O.addLayer(A)},_.project=function(A){return this.map.project(new D.LngLat(A[0],A[1]))},_.getView=function(){var A=this.map,p=A.getCenter(),O={lon:p.lng,lat:p.lat},k=A.getCanvas(),I=parseInt(k.style.width),P=parseInt(k.style.height);return{center:O,zoom:A.getZoom(),bearing:A.getBearing(),pitch:A.getPitch(),_derived:{coordinates:[A.unproject([0,0]).toArray(),A.unproject([I,0]).toArray(),A.unproject([I,P]).toArray(),A.unproject([0,P]).toArray()]}}},_.getViewEdits=function(A){for(var p=this.id,O=["center","zoom","bearing","pitch"],k={},I=0;I<O.length;I++){var P=O[I];k[p+"."+P]=A[P]}return k},_.getViewEditsWithDerived=function(A){var p=this.id,O=this.getViewEdits(A);return O[p+"._derived"]=A._derived,O},ae.exports=T},35025:function(ae){"use strict";ae.exports=function(B){var r=B.editType;return{t:{valType:"number",dflt:0,editType:r},r:{valType:"number",dflt:0,editType:r},b:{valType:"number",dflt:0,editType:r},l:{valType:"number",dflt:0,editType:r},editType:r}}},74875:function(ae,B,r){"use strict";var D=r(39898),E=r(84096).Dq,f=r(60721).FF,S=r(92770),M=r(73972),v=r(86281),c=r(44467),i=r(71828),s=r(7901),a=r(50606).BADNUM,o=r(41675),l=r(51873).clearOutline,u=r(21479),d=r(85594),m=r(31391),h=r(27659).a0,T=i.relinkPrivateKeys,_=i._,g=ae.exports={};i.extendFlat(g,M),g.attributes=r(9012),g.attributes.type.values=g.allTypes,g.fontAttrs=r(41940),g.layoutAttributes=r(10820),g.fontWeight="normal";var w=g.transformsRegistry,x=r(31137);g.executeAPICommand=x.executeAPICommand,g.computeAPICommandBindings=x.computeAPICommandBindings,g.manageCommandObserver=x.manageCommandObserver,g.hasSimpleAPICommandBindings=x.hasSimpleAPICommandBindings,g.redrawText=function(W){return W=i.getGraphDiv(W),new Promise(function(H){setTimeout(function(){W._fullLayout&&(M.getComponentMethod("annotations","draw")(W),M.getComponentMethod("legend","draw")(W),M.getComponentMethod("colorbar","draw")(W),H(g.previousPromises(W)))},300)})},g.resize=function(W){var H;W=i.getGraphDiv(W);var G=new Promise(function(Y,se){W&&!i.isHidden(W)||se(new Error("Resize must be passed a displayed plot div element.")),W._redrawTimer&&clearTimeout(W._redrawTimer),W._resolveResize&&(H=W._resolveResize),W._resolveResize=Y,W._redrawTimer=setTimeout(function(){if(!W.layout||W.layout.width&&W.layout.height||i.isHidden(W))Y(W);else{delete W.layout.width,delete W.layout.height;var te=W.changed;W.autoplay=!0,M.call("relayout",W,{autosize:!0}).then(function(){W.changed=te,W._resolveResize===Y&&(delete W._resolveResize,Y(W))})}},100)});return H&&H(G),G},g.previousPromises=function(W){if((W._promises||[]).length)return Promise.all(W._promises).then(function(){W._promises=[]})},g.addLinks=function(W){if(W._context.showLink||W._context.showSources){var H=W._fullLayout,G=i.ensureSingle(H._paper,"text","js-plot-link-container",function(ee){ee.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:s.defaultLine,"pointer-events":"all"}).each(function(){var oe=D.select(this);oe.append("tspan").classed("js-link-to-tool",!0),oe.append("tspan").classed("js-link-spacer",!0),oe.append("tspan").classed("js-sourcelinks",!0)})}),Y=G.node(),se={y:H._paper.attr("height")-9};document.body.contains(Y)&&Y.getComputedTextLength()>=H.width-20?(se["text-anchor"]="start",se.x=5):(se["text-anchor"]="end",se.x=H._paper.attr("width")-7),G.attr(se);var te=G.select(".js-link-to-tool"),re=G.select(".js-link-spacer"),Q=G.select(".js-sourcelinks");W._context.showSources&&W._context.showSources(W),W._context.showLink&&function(ee,oe){oe.text("");var le=oe.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(ee._context.linkText+" "+String.fromCharCode(187));if(ee._context.sendData)le.on("click",function(){g.sendDataToCloud(ee)});else{var ue=window.location.pathname.split("/"),de=window.location.search;le.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ue[2].split(".")[0]+"/"+ue[1]+de})}}(W,te),re.text(te.text()&&Q.text()?" - ":"")}},g.sendDataToCloud=function(W){var H=(window.PLOTLYENV||{}).BASE_URL||W._context.plotlyServerURL;if(H){W.emit("plotly_beforeexport");var G=D.select(W).append("div").attr("id","hiddenform").style("display","none"),Y=G.append("form").attr({action:H+"/external",method:"post",target:"_blank"});return Y.append("input").attr({type:"text",name:"data"}).node().value=g.graphJson(W,!1,"keepdata"),Y.node().submit(),G.remove(),W.emit("plotly_afterexport"),!1}};var b=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],A=["year","month","dayMonth","dayMonthYear"];function p(W,H){var G=W._context.locale;G||(G="en-US");var Y=!1,se={};function te(ue){for(var de=!0,he=0;he<H.length;he++){var we=H[he];se[we]||(ue[we]?se[we]=ue[we]:de=!1)}de&&(Y=!0)}for(var re=0;re<2;re++){for(var Q=W._context.locales,ee=0;ee<2;ee++){var oe=(Q[G]||{}).format;if(oe&&(te(oe),Y))break;Q=M.localeRegistry}var le=G.split("-")[0];if(Y||le===G)break;G=le}return Y||te(M.localeRegistry.en.format),se}function O(W,H){var G={_fullLayout:H},Y="x"===W._id.charAt(0),se=W._mainAxis._anchorAxis,te="",re="",Q="";if(se&&(Q=se._mainAxis._id,te=Y?W._id+Q:Q+W._id),!te||!H._plots[te]){te="";for(var ee=W._counterAxes,oe=0;oe<ee.length;oe++){var le=ee[oe],ue=Y?W._id+le:le+W._id;re||(re=ue);var de=o.getFromId(G,le);if(Q&&de.overlaying===Q){te=ue;break}}}return te||re}function k(W){var H=W.transforms;if(Array.isArray(H)&&H.length)for(var G=0;G<H.length;G++){var Y=H[G],se=Y._module||w[Y.type];if(se&&se.makesData)return!0}return!1}function I(W,H,G,Y){for(var se=W.transforms,te=[W],re=0;re<se.length;re++){var Q=se[re],ee=w[Q.type];ee&&ee.transform&&(te=ee.transform(te,{transform:Q,fullTrace:W,fullData:H,layout:G,fullLayout:Y,transformIndex:re}))}return te}function P(W){return"string"==typeof W&&"px"===W.substr(W.length-2)&&parseFloat(W)}function R(W){var H=W.margin;if(!W._size){var G=W._size={l:Math.round(H.l),r:Math.round(H.r),t:Math.round(H.t),b:Math.round(H.b),p:Math.round(H.pad)};G.w=Math.round(W.width)-G.l-G.r,G.h=Math.round(W.height)-G.t-G.b}W._pushmargin||(W._pushmargin={}),W._pushmarginIds||(W._pushmarginIds={}),W._reservedMargin||(W._reservedMargin={})}g.supplyDefaults=function(W,H){var We,He,G=H&&H.skipUpdateCalc,Y=W._fullLayout||{};if(Y._skipDefaults)delete Y._skipDefaults;else{var se,te=W._fullLayout={},re=W.layout||{},Q=W._fullData||[],ee=W._fullData=[],oe=W.data||[],le=W.calcdata||[],ue=W._context||{};W._transitionData||g.createTransitionData(W),te._dfltTitle={plot:_(W,"Click to enter Plot title"),x:_(W,"Click to enter X axis title"),y:_(W,"Click to enter Y axis title"),colorbar:_(W,"Click to enter Colorscale title"),annotation:_(W,"new text")},te._traceWord=_(W,"trace");var de=p(W,b);if(te._mapboxAccessToken=ue.mapboxAccessToken,Y._initialAutoSizeIsDone){var he=Y.width,we=Y.height;g.supplyLayoutGlobalDefaults(re,te,de),re.width||(te.width=he),re.height||(te.height=we),g.sanitizeMargins(te)}else{g.supplyLayoutGlobalDefaults(re,te,de);var Ae=!re.width||!re.height,Te=te.autosize;Ae&&(Te||ue.autosizable)?g.plotAutoSize(W,re,te):Ae&&g.sanitizeMargins(te),!Te&&Ae&&(re.width=te.width,re.height=te.height)}te._d3locale=((We=de).decimal=(He=te.separators).charAt(0),We.thousands=He.charAt(1),{numberFormat:function(Je){try{Je=f(We).format(i.adjustFormat(Je))}catch{return i.warnBadFormat(Je),i.noFormat}return Je},timeFormat:E(We).utcFormat}),te._extraFormat=p(W,A),te._initialAutoSizeIsDone=!0,te._dataLength=oe.length,te._modules=[],te._visibleModules=[],te._basePlotModules=[];var xe=te._subplots=function(){var We,He,Je=M.collectableSubplotTypes,et={};if(!Je){Je=[];var at=M.subplotsRegistry;for(var mt in at){var ct=at[mt].attr;if(ct&&(Je.push(mt),Array.isArray(ct)))for(He=0;He<ct.length;He++)i.pushUnique(Je,ct[He])}}for(We=0;We<Je.length;We++)et[Je[We]]=[];return et}(),Fe=te._splomAxes={x:{},y:{}},Se=te._splomSubplots={};te._splomGridDflt={},te._scatterStackOpts={},te._firstScatter={},te._alignmentOpts={},te._colorAxes={},te._requestRangeslider={},te._traceUids=function(We,He){var Je,et,at=He.length,mt=[];for(Je=0;Je<We.length;Je++){var ct=We[Je]._fullInput;ct!==et&&mt.push(ct),et=ct}var St=mt.length,Dt=new Array(at),Et={};function ht(Ft,Ht){Dt[Ht]=Ft,Et[Ft]=1}function pt(Ft,Ht){if(Ft&&"string"==typeof Ft&&!Et[Ft])return ht(Ft,Ht),!0}for(Je=0;Je<at;Je++){var Pt=He[Je].uid;"number"==typeof Pt&&(Pt=String(Pt)),pt(Pt,Je)||Je<St&&pt(mt[Je].uid,Je)||ht(i.randstr(Et),Je)}return Dt}(Q,oe),te._globalTransforms=(W._context||{}).globalTransforms,g.supplyDataDefaults(oe,ee,re,te);var ke=Object.keys(Fe.x),pe=Object.keys(Fe.y);if(ke.length>1&&pe.length>1){for(M.getComponentMethod("grid","sizeDefaults")(re,te),se=0;se<ke.length;se++)i.pushUnique(xe.xaxis,ke[se]);for(se=0;se<pe.length;se++)i.pushUnique(xe.yaxis,pe[se]);for(var fe in Se)i.pushUnique(xe.cartesian,fe)}if(te._has=g._hasPlotType.bind(te),Q.length===ee.length)for(se=0;se<ee.length;se++)T(ee[se],Q[se]);g.supplyLayoutModuleDefaults(re,te,ee,W._transitionData);var be=te._visibleModules,Le=[];for(se=0;se<be.length;se++){var Oe=be[se].crossTraceDefaults;Oe&&i.pushUnique(Le,Oe)}for(se=0;se<Le.length;se++)Le[se](ee,te);te._hasOnlyLargeSploms=1===te._basePlotModules.length&&"splom"===te._basePlotModules[0].name&&ke.length>15&&pe.length>15&&0===te.shapes.length&&0===te.images.length,g.linkSubplots(ee,te,Q,Y),g.cleanPlot(ee,te,Q,Y);var De=!(!Y._has||!Y._has("gl2d")),Ue=!(!te._has||!te._has("gl2d")),Ge=!(!Y._has||!Y._has("cartesian"))||De,ye=!(!te._has||!te._has("cartesian"))||Ue;Ge&&!ye?Y._bgLayer.remove():ye&&!Ge&&(te._shouldCreateBgLayer=!0),Y._zoomlayer&&!W._dragging&&l({_fullLayout:Y}),function(We,He){var Je,et=[];He.meta&&(Je=He._meta={meta:He.meta,layout:{meta:He.meta}});for(var at=0;at<We.length;at++){var mt=We[at];mt.meta?et[mt.index]=mt._meta={meta:mt.meta}:He.meta&&(mt._meta={meta:He.meta}),He.meta&&(mt._meta.layout={meta:He.meta})}et.length&&(Je||(Je=He._meta={}),Je.data=et)}(ee,te),T(te,Y),M.getComponentMethod("colorscale","crossTraceDefaults")(ee,te),te._preGUI||(te._preGUI={}),te._tracePreGUI||(te._tracePreGUI={});var Ie,Ee=te._tracePreGUI,Be={};for(Ie in Ee)Be[Ie]="old";for(se=0;se<ee.length;se++)Be[Ie=ee[se]._fullInput.uid]||(Ee[Ie]={}),Be[Ie]="new";for(Ie in Be)"old"===Be[Ie]&&delete Ee[Ie];R(te),M.getComponentMethod("rangeslider","makeData")(te),G||le.length!==ee.length||g.supplyDefaultsUpdateCalc(le,ee)}},g.supplyDefaultsUpdateCalc=function(W,H){for(var G=0;G<H.length;G++){var Y=H[G],se=(W[G]||[])[0];if(se&&se.trace){var te=se.trace;if(te._hasCalcTransform){var re,Q,ee,oe=te._arrayAttrs;for(re=0;re<oe.length;re++)ee=i.nestedProperty(te,Q=oe[re]).get().slice(),i.nestedProperty(Y,Q).set(ee)}se.trace=Y}}},g.createTransitionData=function(W){W._transitionData||(W._transitionData={}),W._transitionData._frames||(W._transitionData._frames=[]),W._transitionData._frameHash||(W._transitionData._frameHash={}),W._transitionData._counter||(W._transitionData._counter=0),W._transitionData._interruptCallbacks||(W._transitionData._interruptCallbacks=[])},g._hasPlotType=function(W){var H,G=this._basePlotModules||[];for(H=0;H<G.length;H++)if(G[H].name===W)return!0;var Y=this._modules||[];for(H=0;H<Y.length;H++){var se=Y[H].name;if(se===W)return!0;var te=M.modules[se];if(te&&te.categories[W])return!0}return!1},g.cleanPlot=function(W,H,G,Y){var se,te,re=Y._basePlotModules||[];for(se=0;se<re.length;se++){var Q=re[se];Q.clean&&Q.clean(W,H,G,Y)}var ee=Y._has&&Y._has("gl"),oe=H._has&&H._has("gl");ee&&!oe&&void 0!==Y._glcontainer&&(Y._glcontainer.selectAll(".gl-canvas").remove(),Y._glcontainer.selectAll(".no-webgl").remove(),Y._glcanvas=null);var le=!!Y._infolayer;e:for(se=0;se<G.length;se++){var ue=G[se].uid;for(te=0;te<W.length;te++)if(ue===W[te].uid)continue e;le&&Y._infolayer.select(".cb"+ue).remove()}},g.linkSubplots=function(W,H,G,Y){var se,te,re=Y._plots||{},Q=H._plots={},ee=H._subplots,oe={_fullData:W,_fullLayout:H},le=ee.cartesian.concat(ee.gl2d||[]);for(se=0;se<le.length;se++){var ue,de=le[se],he=re[de],we=o.getFromId(oe,de,"x"),Ae=o.getFromId(oe,de,"y");for(he?ue=Q[de]=he:(ue=Q[de]={}).id=de,we._counterAxes.push(Ae._id),Ae._counterAxes.push(we._id),we._subplotsWith.push(de),Ae._subplotsWith.push(de),ue.xaxis=we,ue.yaxis=Ae,ue._hasClipOnAxisFalse=!1,te=0;te<W.length;te++){var Te=W[te];if(Te.xaxis===ue.xaxis._id&&Te.yaxis===ue.yaxis._id&&!1===Te.cliponaxis){ue._hasClipOnAxisFalse=!0;break}}}var ve,xe=o.list(oe,null,!0);for(se=0;se<xe.length;se++){var Fe=null;(ve=xe[se]).overlaying&&(Fe=o.getFromId(oe,ve.overlaying))&&Fe.overlaying&&(ve.overlaying=!1,Fe=null),ve._mainAxis=Fe||ve,Fe&&(ve.domain=Fe.domain.slice()),ve._anchorAxis="free"===ve.anchor?null:o.getFromId(oe,ve.anchor)}for(se=0;se<xe.length;se++)if((ve=xe[se])._counterAxes.sort(o.idSort),ve._subplotsWith.sort(i.subplotSort),ve._mainSubplot=O(ve,H),ve._counterAxes.length&&(ve.spikemode&&-1!==ve.spikemode.indexOf("across")||ve.automargin&&ve.mirror&&"free"!==ve.anchor||M.getComponentMethod("rangeslider","isVisible")(ve))){var Se=1,ke=0;for(te=0;te<ve._counterAxes.length;te++){var pe=o.getFromId(oe,ve._counterAxes[te]);Se=Math.min(Se,pe.domain[0]),ke=Math.max(ke,pe.domain[1])}Se<ke&&(ve._counterDomainMin=Se,ve._counterDomainMax=ke)}},g.clearExpandedTraceDefaultColors=function(W){var H,G,Y;for(G=[],(H=W._module._colorAttrs)||(W._module._colorAttrs=H=[],v.crawl(W._module.attributes,function(se,te,re,Q){G[Q]=te,G.length=Q+1,"color"===se.valType&&void 0===se.dflt&&H.push(G.join("."))})),Y=0;Y<H.length;Y++)i.nestedProperty(W,"_input."+H[Y]).get()||i.nestedProperty(W,H[Y]).set(null)},g.supplyDataDefaults=function(W,H,G,Y){var se,te,re,Q=Y._modules,ee=Y._visibleModules,oe=Y._basePlotModules,le=0,ue=0;function de(fe){H.push(fe);var be=fe._module;be&&(i.pushUnique(Q,be),!0===fe.visible&&i.pushUnique(ee,be),i.pushUnique(oe,fe._module.basePlotModule),le++,!1!==fe._input.visible&&ue++)}Y._transformModules=[];var he={},we=[],Te=c.traceTemplater((G.template||{}).data||{});for(se=0;se<W.length;se++){if((te=Te.newTrace(re=W[se])).uid=Y._traceUids[se],g.supplyTraceDefaults(re,te,ue,Y,se),te.index=se,te._input=re,te._expandedIndex=le,te.transforms&&te.transforms.length)for(var ve=!1!==re.visible&&!1===te.visible,xe=I(te,H,G,Y),Fe=0;Fe<xe.length;Fe++){var Se=xe[Fe],ke={_template:te._template,type:te.type,uid:te.uid+Fe};ve&&!1===Se.visible&&delete Se.visible,g.supplyTraceDefaults(Se,ke,le,Y,se),T(ke,Se),ke.index=se,ke._input=re,ke._fullInput=te,ke._expandedIndex=le,ke._expandedInput=Se,de(ke)}else te._fullInput=te,te._expandedInput=te,de(te);M.traceIs(te,"carpetAxis")&&(he[te.carpet]=te),M.traceIs(te,"carpetDependent")&&we.push(se)}for(se=0;se<we.length;se++)if((te=H[we[se]]).visible){var pe=he[te.carpet];te._carpet=pe,pe&&pe.visible?(te.xaxis=pe.xaxis,te.yaxis=pe.yaxis):te.visible=!1}},g.supplyAnimationDefaults=function(W){var H;W=W||{};var G={};function Y(se,te){return i.coerce(W||{},G,d,se,te)}if(Y("mode"),Y("direction"),Y("fromcurrent"),Array.isArray(W.frame))for(G.frame=[],H=0;H<W.frame.length;H++)G.frame[H]=g.supplyAnimationFrameDefaults(W.frame[H]||{});else G.frame=g.supplyAnimationFrameDefaults(W.frame||{});if(Array.isArray(W.transition))for(G.transition=[],H=0;H<W.transition.length;H++)G.transition[H]=g.supplyAnimationTransitionDefaults(W.transition[H]||{});else G.transition=g.supplyAnimationTransitionDefaults(W.transition||{});return G},g.supplyAnimationFrameDefaults=function(W){var H={};function G(Y,se){return i.coerce(W||{},H,d.frame,Y,se)}return G("duration"),G("redraw"),H},g.supplyAnimationTransitionDefaults=function(W){var H={};function G(Y,se){return i.coerce(W||{},H,d.transition,Y,se)}return G("duration"),G("easing"),H},g.supplyFrameDefaults=function(W){var H={};function G(Y,se){return i.coerce(W,H,m,Y,se)}return G("group"),G("name"),G("traces"),G("baseframe"),G("data"),G("layout"),H},g.supplyTraceDefaults=function(W,H,G,Y,se){var te,re=Y.colorway||s.defaults,Q=re[G%re.length];function ee(xe,Fe){return i.coerce(W,H,g.attributes,xe,Fe)}var oe=ee("visible");ee("type"),ee("name",Y._traceWord+" "+se),ee("uirevision",Y.uirevision);var le=g.getModule(H);if(H._module=le,le){var ue=le.basePlotModule,de=ue.attr,he=ue.attributes;if(de&&he){var we=Y._subplots,Ae="";if(oe||"gl2d"!==ue.name){if(Array.isArray(de))for(te=0;te<de.length;te++){var Te=de[te],ve=i.coerce(W,H,he,Te);we[Te]&&i.pushUnique(we[Te],ve),Ae+=ve}else Ae=i.coerce(W,H,he,de);we[ue.name]&&i.pushUnique(we[ue.name],Ae)}}}return oe&&(ee("customdata"),ee("ids"),ee("meta"),M.traceIs(H,"showLegend")?(i.coerce(W,H,le.attributes.showlegend?le.attributes:g.attributes,"showlegend"),ee("legend"),ee("legendwidth"),ee("legendgroup"),ee("legendgrouptitle.text"),ee("legendrank"),H._dfltShowLegend=!0):H._dfltShowLegend=!1,le&&le.supplyDefaults(W,H,Q,Y),M.traceIs(H,"noOpacity")||ee("opacity"),M.traceIs(H,"notLegendIsolatable")&&(H.visible=!!H.visible),M.traceIs(H,"noHover")||(H.hovertemplate||i.coerceHoverinfo(W,H,Y),"parcats"!==H.type&&M.getComponentMethod("fx","supplyDefaults")(W,H,Q,Y)),le&&le.selectPoints&&ee("selectedpoints"),g.supplyTransformDefaults(W,H,Y)),H},g.hasMakesDataTransform=k,g.supplyTransformDefaults=function(W,H,G){if(H._length||k(W)){var Y=G._globalTransforms||[],se=G._transformModules||[];if(Array.isArray(W.transforms)||0!==Y.length)for(var re=Y.concat(W.transforms||[]),Q=H.transforms=[],ee=0;ee<re.length;ee++){var oe,le=re[ee],ue=le.type,de=w[ue],he=!(le._module&&le._module===de),we=de&&"function"==typeof de.transform;de||i.warn("Unrecognized transform type "+ue+"."),de&&de.supplyDefaults&&(he||we)?((oe=de.supplyDefaults(le,H,G,W)).type=ue,oe._module=de,i.pushUnique(se,de)):oe=i.extendFlat({},le),Q.push(oe)}}},g.supplyLayoutGlobalDefaults=function(W,H,G){function Y(le,ue){return i.coerce(W,H,g.layoutAttributes,le,ue)}var se=W.template;i.isPlainObject(se)&&(H.template=se,H._template=se.layout,H._dataTemplate=se.data),Y("autotypenumbers");var te=i.coerceFont(Y,"font");i.coerceFont(Y,"title.font",i.extendFlat({},te,{size:Math.round(1.4*te.size)})),Y("title.text",H._dfltTitle.plot),Y("title.xref");var Q=Y("title.yref");Y("title.pad.t"),Y("title.pad.r"),Y("title.pad.b"),Y("title.pad.l");var ee=Y("title.automargin");Y("title.x"),Y("title.xanchor"),Y("title.y"),Y("title.yanchor"),ee&&("paper"===Q&&(0!==H.title.y&&(H.title.y=1),"auto"===H.title.yanchor&&(H.title.yanchor=0===H.title.y?"top":"bottom")),"container"===Q&&("auto"===H.title.y&&(H.title.y=1),"auto"===H.title.yanchor&&(H.title.yanchor=H.title.y<.5?"bottom":"top"))),Y("uniformtext.mode")&&Y("uniformtext.minsize"),Y("autosize",!(W.width&&W.height)),Y("width"),Y("height"),Y("minreducedwidth"),Y("minreducedheight"),Y("margin.l"),Y("margin.r"),Y("margin.t"),Y("margin.b"),Y("margin.pad"),Y("margin.autoexpand"),W.width&&W.height&&g.sanitizeMargins(H),M.getComponentMethod("grid","sizeDefaults")(W,H),Y("paper_bgcolor"),Y("separators",G.decimal+G.thousands),Y("hidesources"),Y("colorway"),Y("datarevision");var oe=Y("uirevision");Y("editrevision",oe),Y("selectionrevision",oe),M.getComponentMethod("modebar","supplyLayoutDefaults")(W,H),M.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(W,H,Y),M.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(W,H,Y),Y("meta"),i.isPlainObject(W.transition)&&(Y("transition.duration"),Y("transition.easing"),Y("transition.ordering")),M.getComponentMethod("calendars","handleDefaults")(W,H,"calendar"),M.getComponentMethod("fx","supplyLayoutGlobalDefaults")(W,H,Y),i.coerce(W,H,u,"scattermode")},g.plotAutoSize=function(W,H,G){var Y,se,te=W._context||{},re=te.frameMargins,Q=i.isPlotDiv(W);if(Q&&W.emit("plotly_autosize"),te.fillFrame)Y=window.innerWidth,se=window.innerHeight,document.body.style.overflow="hidden";else{var ee=Q?window.getComputedStyle(W):{};if(Y=P(ee.width)||P(ee.maxWidth)||G.width,se=P(ee.height)||P(ee.maxHeight)||G.height,S(re)&&re>0){var oe=1-2*re;Y=Math.round(oe*Y),se=Math.round(oe*se)}}var le=g.layoutAttributes.width.min,ue=g.layoutAttributes.height.min;Y<le&&(Y=le),se<ue&&(se=ue);var de=!H.width&&Math.abs(G.width-Y)>1,he=!H.height&&Math.abs(G.height-se)>1;(he||de)&&(de&&(G.width=Y),he&&(G.height=se)),W._initialAutoSize||(W._initialAutoSize={width:Y,height:se}),g.sanitizeMargins(G)},g.supplyLayoutModuleDefaults=function(W,H,G,Y){var se,te,re,Q=M.componentsRegistry,ee=H._basePlotModules,oe=M.subplotsRegistry.cartesian;for(se in Q)(re=Q[se]).includeBasePlot&&re.includeBasePlot(W,H);for(var le in ee.length||ee.push(oe),H._has("cartesian")&&(M.getComponentMethod("grid","contentDefaults")(W,H),oe.finalizeSubplots(W,H)),H._subplots)H._subplots[le].sort(i.subplotSort);for(te=0;te<ee.length;te++)(re=ee[te]).supplyLayoutDefaults&&re.supplyLayoutDefaults(W,H,G);var ue=H._modules;for(te=0;te<ue.length;te++)(re=ue[te]).supplyLayoutDefaults&&re.supplyLayoutDefaults(W,H,G);var de=H._transformModules;for(te=0;te<de.length;te++)(re=de[te]).supplyLayoutDefaults&&re.supplyLayoutDefaults(W,H,G,Y);for(se in Q)(re=Q[se]).supplyLayoutDefaults&&re.supplyLayoutDefaults(W,H,G)},g.purge=function(W){var H=W._fullLayout||{};void 0!==H._glcontainer&&(H._glcontainer.selectAll(".gl-canvas").remove(),H._glcontainer.remove(),H._glcanvas=null),H._modeBar&&H._modeBar.destroy(),W._transitionData&&(W._transitionData._interruptCallbacks&&(W._transitionData._interruptCallbacks.length=0),W._transitionData._animationRaf&&window.cancelAnimationFrame(W._transitionData._animationRaf)),i.clearThrottle(),i.clearResponsive(W),delete W.data,delete W.layout,delete W._fullData,delete W._fullLayout,delete W.calcdata,delete W.empty,delete W.fid,delete W.undoqueue,delete W.undonum,delete W.autoplay,delete W.changed,delete W._promises,delete W._redrawTimer,delete W._hmlumcount,delete W._hmpixcount,delete W._transitionData,delete W._transitioning,delete W._initialAutoSize,delete W._transitioningWithDuration,delete W._dragging,delete W._dragged,delete W._dragdata,delete W._hoverdata,delete W._snapshotInProgress,delete W._editing,delete W._mouseDownTime,delete W._legendMouseDownTime,W.removeAllListeners&&W.removeAllListeners()},g.style=function(W){var H,G=W._fullLayout._visibleModules,Y=[];for(H=0;H<G.length;H++){var se=G[H];se.style&&i.pushUnique(Y,se.style)}for(H=0;H<Y.length;H++)Y[H](W)},g.sanitizeMargins=function(W){if(W&&W.margin){var H,G=W.width,Y=W.height,se=W.margin,re=Y-(se.t+se.b);G-(se.l+se.r)<0&&(H=(G-1)/(se.l+se.r),se.l=Math.floor(H*se.l),se.r=Math.floor(H*se.r)),re<0&&(H=(Y-1)/(se.t+se.b),se.t=Math.floor(H*se.t),se.b=Math.floor(H*se.b))}},g.clearAutoMarginIds=function(W){W._fullLayout._pushmarginIds={}},g.allowAutoMargin=function(W,H){W._fullLayout._pushmarginIds[H]=1},g.autoMargin=function(W,H,G){var Y=W._fullLayout,se=Y.width,te=Y.height,re=Y.margin,ee=Y.minreducedheight,oe=i.constrain(se-re.l-re.r,2,Y.minreducedwidth),le=i.constrain(te-re.t-re.b,2,ee),ue=Math.max(0,se-oe),de=Math.max(0,te-le),he=Y._pushmargin,we=Y._pushmarginIds;if(!1!==re.autoexpand){if(G){var Ae=G.pad;if(void 0===Ae&&(Ae=Math.min(12,re.l,re.r,re.t,re.b)),ue){var Te=(G.l+G.r)/ue;Te>1&&(G.l/=Te,G.r/=Te)}if(de){var ve=(G.t+G.b)/de;ve>1&&(G.t/=ve,G.b/=ve)}he[H]={l:{val:void 0!==G.xl?G.xl:G.x,size:G.l+Ae},r:{val:void 0!==G.xr?G.xr:G.x,size:G.r+Ae},b:{val:void 0!==G.yb?G.yb:G.y,size:G.b+Ae},t:{val:void 0!==G.yt?G.yt:G.y,size:G.t+Ae}},we[H]=1}else delete he[H],delete we[H];if(!Y._replotting)return g.doAutoMargin(W)}},g.doAutoMargin=function(W){var H=W._fullLayout,G=H.width,Y=H.height;H._size||(H._size={}),R(H);var se=H._size,te=H.margin,re={t:0,b:0,l:0,r:0},Q=i.extendFlat({},se),ee=te.l,oe=te.r,le=te.t,ue=te.b,de=H._pushmargin,he=H._pushmarginIds,we=H.minreducedwidth,Ae=H.minreducedheight;if(!1!==te.autoexpand){for(var Te in de)he[Te]||delete de[Te];var ve=W._fullLayout._reservedMargin;for(var xe in ve)for(var Fe in ve[xe])re[Fe]=Math.max(re[Fe],ve[xe][Fe]);for(var ke in de.base={l:{val:0,size:ee},r:{val:1,size:oe},t:{val:1,size:le},b:{val:0,size:ue}},re){var pe=0;for(var fe in de)"base"!==fe&&S(de[fe][ke].size)&&(pe=de[fe][ke].size>pe?de[fe][ke].size:pe);var be=Math.max(0,te[ke]-pe);re[ke]=Math.max(0,re[ke]-be)}for(var Le in de){var Oe=de[Le].l||{},De=de[Le].b||{},Ue=Oe.val,Ge=Oe.size,ye=De.val,Ie=De.size,Ee=G-re.r-re.l,Be=Y-re.t-re.b;for(var We in de){if(S(Ge)&&de[We].r){var He=de[We].r.val,Je=de[We].r.size;if(He>Ue){var et=(Ge*He+(Je-Ee)*Ue)/(He-Ue),at=(Je*(1-Ue)+(Ge-Ee)*(1-He))/(He-Ue);et+at>ee+oe&&(ee=et,oe=at)}}if(S(Ie)&&de[We].t){var mt=de[We].t.val,ct=de[We].t.size;if(mt>ye){var St=(Ie*mt+(ct-Be)*ye)/(mt-ye),Dt=(ct*(1-ye)+(Ie-Be)*(1-mt))/(mt-ye);St+Dt>ue+le&&(ue=St,le=Dt)}}}}}var rt,Et=i.constrain(G-te.l-te.r,2,we),ht=i.constrain(Y-te.t-te.b,2,Ae),pt=Math.max(0,G-Et),Pt=Math.max(0,Y-ht);if(pt){var Ft=(ee+oe)/pt;Ft>1&&(ee/=Ft,oe/=Ft)}if(Pt){var Ht=(ue+le)/Pt;Ht>1&&(ue/=Ht,le/=Ht)}if(se.l=Math.round(ee)+re.l,se.r=Math.round(oe)+re.r,se.t=Math.round(le)+re.t,se.b=Math.round(ue)+re.b,se.p=Math.round(te.pad),se.w=Math.round(G)-se.l-se.r,se.h=Math.round(Y)-se.t-se.b,!H._replotting&&(g.didMarginChange(Q,se)||function(tt){if("_redrawFromAutoMarginCount"in tt._fullLayout)return!1;var rt=o.list(tt,"",!0);for(var Ke in rt)if(rt[Ke].autoshift||rt[Ke].shift)return!0;return!1}(W))){"_redrawFromAutoMarginCount"in H?H._redrawFromAutoMarginCount++:H._redrawFromAutoMarginCount=1;var Lt=3*(1+Object.keys(he).length);if(H._redrawFromAutoMarginCount<Lt)return M.call("_doPlot",W);H._size=Q,i.warn("Too many auto-margin redraws.")}rt=o.list(W,"",!0),["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Ke){for(var it=0;it<rt.length;it++){var gt=rt[it][Ke];gt&&gt()}})};var N=["l","r","t","b","p","w","h"];function j(W,H,G){var Y=!1,te=i.syncOrAsync([g.previousPromises,function(){if(W._transitionData)return W._transitioning=!1,function(re){var Q=Promise.resolve();if(!re)return Q;for(;re.length;)Q=Q.then(re.shift());return Q}(W._transitionData._interruptCallbacks)},G.prepareFn,g.rehover,g.reselect,function(){return W.emit("plotly_transitioning",[]),new Promise(function(re){W._transitioning=!0,H.duration>0&&(W._transitioningWithDuration=!0),W._transitionData._interruptCallbacks.push(function(){Y=!0}),G.redraw&&W._transitionData._interruptCallbacks.push(function(){return M.call("redraw",W)}),W._transitionData._interruptCallbacks.push(function(){W.emit("plotly_transitioninterrupted",[])});var Q=0,ee=0;function oe(){return Q++,function(){var le;ee++,Y||ee!==Q||(le=re,W._transitionData&&(function(ue){if(ue)for(;ue.length;)ue.shift()}(W._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(G.redraw)return M.call("redraw",W)}).then(function(){W._transitioning=!1,W._transitioningWithDuration=!1,W.emit("plotly_transitioned",[])}).then(le)))}}G.runFn(oe),setTimeout(oe())})}],W);return te&&te.then||(te=Promise.resolve()),te.then(function(){return W})}g.didMarginChange=function(W,H){for(var G=0;G<N.length;G++){var Y=N[G],se=W[Y],te=H[Y];if(!S(se)||Math.abs(te-se)>1)return!0}return!1},g.graphJson=function(W,H,G,Y,se,te){(se&&H&&!W._fullData||se&&!H&&!W._fullLayout)&&g.supplyDefaults(W);var Q=se?W._fullLayout:W.layout,ee=(W._transitionData||{})._frames;function oe(de,he){if("function"==typeof de)return he?"_function_":null;if(i.isPlainObject(de)){var we,Ae={};return Object.keys(de).sort().forEach(function(Te){if(-1===["_","["].indexOf(Te.charAt(0)))if("function"!=typeof de[Te]){if("keepdata"===G){if("src"===Te.substr(Te.length-3))return}else if("keepstream"===G){if("string"==typeof(we=de[Te+"src"])&&we.indexOf(":")>0&&!i.isPlainObject(de.stream))return}else if("keepall"!==G&&"string"==typeof(we=de[Te+"src"])&&we.indexOf(":")>0)return;Ae[Te]=oe(de[Te],he)}else he&&(Ae[Te]="_function")}),Ae}return Array.isArray(de)?de.map(function(Te){return oe(Te,he)}):i.isTypedArray(de)?i.simpleMap(de,i.identity):i.isJSDate(de)?i.ms2DateTimeLocal(+de):de}var le={data:((se?W._fullData:W.data)||[]).map(function(de){var he=oe(de);return H&&delete he.fit,he})};if(!H&&(le.layout=oe(Q),se)){var ue=Q._size;le.layout.computed={margin:{b:ue.b,l:ue.l,r:ue.r,t:ue.t}}}return ee&&(le.frames=oe(ee)),te&&(le.config=oe(W._context,!0)),"object"===Y?le:JSON.stringify(le)},g.modifyFrames=function(W,H){var G,Y,se,te=W._transitionData._frames,re=W._transitionData._frameHash;for(G=0;G<H.length;G++)switch((Y=H[G]).type){case"replace":var Q=(te[Y.index]||{}).name,ee=(se=Y.value).name;te[Y.index]=re[ee]=se,ee!==Q&&(delete re[Q],re[ee]=se);break;case"insert":re[(se=Y.value).name]=se,te.splice(Y.index,0,se);break;case"delete":delete re[(se=te[Y.index]).name],te.splice(Y.index,1)}return Promise.resolve()},g.computeFrame=function(W,H){var G,Y,se,te,re=W._transitionData._frameHash;if(!H)throw new Error("computeFrame must be given a string frame name");var Q=re[H.toString()];if(!Q)return!1;for(var ee=[Q],oe=[Q.name];Q.baseframe&&(Q=re[Q.baseframe.toString()])&&-1===oe.indexOf(Q.name);)ee.push(Q),oe.push(Q.name);for(var le={};Q=ee.pop();)if(Q.layout&&(le.layout=g.extendLayout(le.layout,Q.layout)),Q.data){if(le.data||(le.data=[]),!(Y=Q.traces))for(Y=[],G=0;G<Q.data.length;G++)Y[G]=G;for(le.traces||(le.traces=[]),G=0;G<Q.data.length;G++)null!=(se=Y[G])&&(-1===(te=le.traces.indexOf(se))&&(le.traces[te=le.data.length]=se),le.data[te]=g.extendTrace(le.data[te],Q.data[G]))}return le},g.recomputeFrameHash=function(W){for(var H=W._transitionData._frameHash={},G=W._transitionData._frames,Y=0;Y<G.length;Y++){var se=G[Y];se&&se.name&&(H[se.name]=se)}},g.extendObjectWithContainers=function(W,H,G){var Y,se,te,re,Q,ee,oe,le=i.extendDeepNoArrays({},H||{}),ue=i.expandObjectPaths(le),de={};if(G&&G.length)for(te=0;te<G.length;te++)void 0===(se=(Y=i.nestedProperty(ue,G[te])).get())?i.nestedProperty(de,G[te]).set(null):(Y.set(null),i.nestedProperty(de,G[te]).set(se));if(W=i.extendDeepNoArrays(W||{},ue),G&&G.length)for(te=0;te<G.length;te++)if(ee=i.nestedProperty(de,G[te]).get()){for(oe=(Q=i.nestedProperty(W,G[te])).get(),Array.isArray(oe)||Q.set(oe=[]),re=0;re<ee.length;re++){var he=ee[re];oe[re]=null===he?null:g.extendObjectWithContainers(oe[re],he)}Q.set(oe)}return W},g.dataArrayContainers=["transforms","dimensions"],g.layoutArrayContainers=M.layoutArrayContainers,g.extendTrace=function(W,H){return g.extendObjectWithContainers(W,H,g.dataArrayContainers)},g.extendLayout=function(W,H){return g.extendObjectWithContainers(W,H,g.layoutArrayContainers)},g.transition=function(W,H,G,Y,se,te){var re={redraw:se.redraw},Q={},ee=[];return re.prepareFn=function(){for(var oe=Array.isArray(H)?H.length:0,le=Y.slice(0,oe),ue=0;ue<le.length;ue++){var de=le[ue],he=W._fullData[de]._module;if(he){if(he.animatable){var we=he.basePlotModule.name;Q[we]||(Q[we]=[]),Q[we].push(de)}W.data[le[ue]]=g.extendTrace(W.data[le[ue]],H[ue])}}var Ae=i.expandObjectPaths(i.extendDeepNoArrays({},G)),Te=/^[xy]axis[0-9]*$/;for(var ve in Ae)Te.test(ve)&&delete Ae[ve].range;g.extendLayout(W.layout,Ae),delete W.calcdata,g.supplyDefaults(W),g.doCalcdata(W);var xe=i.expandObjectPaths(G);if(xe){var Fe=W._fullLayout._plots;for(var Se in Fe){var ke=Fe[Se],pe=ke.xaxis,fe=ke.yaxis,be=pe.range.slice(),Le=fe.range.slice(),Oe=null,De=null,Ue=null,Ge=null;Array.isArray(xe[pe._name+".range"])?Oe=xe[pe._name+".range"].slice():Array.isArray((xe[pe._name]||{}).range)&&(Oe=xe[pe._name].range.slice()),Array.isArray(xe[fe._name+".range"])?De=xe[fe._name+".range"].slice():Array.isArray((xe[fe._name]||{}).range)&&(De=xe[fe._name].range.slice()),be&&Oe&&(pe.r2l(be[0])!==pe.r2l(Oe[0])||pe.r2l(be[1])!==pe.r2l(Oe[1]))&&(Ue={xr0:be,xr1:Oe}),Le&&De&&(fe.r2l(Le[0])!==fe.r2l(De[0])||fe.r2l(Le[1])!==fe.r2l(De[1]))&&(Ge={yr0:Le,yr1:De}),(Ue||Ge)&&ee.push(i.extendFlat({plotinfo:ke},Ue,Ge))}}return Promise.resolve()},re.runFn=function(oe){var le,ue,de=W._fullLayout._basePlotModules,he=ee.length;if(G)for(ue=0;ue<de.length;ue++)de[ue].transitionAxes&&de[ue].transitionAxes(W,ee,te,oe);for(var we in he?((le=i.extendFlat({},te)).duration=0,delete Q.cartesian):le=te,Q){var Ae=Q[we];W._fullData[Ae[0]]._module.basePlotModule.plot(W,Ae,le,oe)}},j(W,te,re)},g.transitionFromReact=function(W,H,G,Y){var se=W._fullLayout,te=se.transition,re={},Q=[];return re.prepareFn=function(){var ee=se._plots;for(var oe in re.redraw=!1,"some"===H.anim&&(re.redraw=!0),"some"===G.anim&&(re.redraw=!0),ee){var le=ee[oe],ue=le.xaxis,de=le.yaxis,he=Y[ue._name].range.slice(),we=Y[de._name].range.slice(),Ae=ue.range.slice(),Te=de.range.slice();ue.setScale(),de.setScale();var ve=null,xe=null;ue.r2l(he[0])===ue.r2l(Ae[0])&&ue.r2l(he[1])===ue.r2l(Ae[1])||(ve={xr0:he,xr1:Ae}),de.r2l(we[0])===de.r2l(Te[0])&&de.r2l(we[1])===de.r2l(Te[1])||(xe={yr0:we,yr1:Te}),(ve||xe)&&Q.push(i.extendFlat({plotinfo:le},ve,xe))}return Promise.resolve()},re.runFn=function(ee){for(var oe,le,ue,de=W._fullData,he=W._fullLayout._basePlotModules,we=[],Ae=0;Ae<de.length;Ae++)we.push(Ae);function Te(){if(W._fullLayout)for(var xe=0;xe<he.length;xe++)he[xe].transitionAxes&&he[xe].transitionAxes(W,Q,oe,ee)}function ve(){if(W._fullLayout)for(var xe=0;xe<he.length;xe++)he[xe].plot(W,ue,le,ee)}Q.length&&H.anim?"traces first"===te.ordering?(oe=i.extendFlat({},te,{duration:0}),ue=we,le=te,setTimeout(Te,te.duration),ve()):(oe=te,ue=null,le=i.extendFlat({},te,{duration:0}),setTimeout(ve,oe.duration),Te()):Q.length?(oe=te,Te()):H.anim&&(ue=we,le=te,ve())},j(W,te,re)},g.doCalcdata=function(W,H){var G,Y,se,te,re=o.list(W),Q=W._fullData,ee=W._fullLayout,oe=new Array(Q.length),le=(W.calcdata||[]).slice();for(W.calcdata=oe,ee._numBoxes=0,ee._numViolins=0,ee._violinScaleGroupStats={},W._hmpixcount=0,W._hmlumcount=0,ee._piecolormap={},ee._sunburstcolormap={},ee._treemapcolormap={},ee._iciclecolormap={},ee._funnelareacolormap={},se=0;se<Q.length;se++)Array.isArray(H)&&-1===H.indexOf(se)&&(oe[se]=le[se]);for(se=0;se<Q.length;se++)(G=Q[se])._arrayAttrs=v.findArrayAttributes(G),G._extremes={};var ue=ee._subplots.polar||[];for(se=0;se<ue.length;se++)re.push(ee[ue[se]].radialaxis,ee[ue[se]].angularaxis);for(var de in ee._colorAxes){var he=ee[de];!1!==he.cauto&&(delete he.cmin,delete he.cmax)}var we=!1;function Ae(xe){if(Y=(G=Q[xe])._module,!0===G.visible&&G.transforms){if(Y&&Y.calc){var Fe=Y.calc(W,G);Fe[0]&&Fe[0].t&&Fe[0].t._scene&&delete Fe[0].t._scene.dirty}for(te=0;te<G.transforms.length;te++){var Se=G.transforms[te];(Y=w[Se.type])&&Y.calcTransform&&(G._hasCalcTransform=!0,we=!0,Y.calcTransform(W,G,Se))}}}function Te(xe,Fe){if(!!(Y=(G=Q[xe])._module).isContainer===Fe){var Se=[];if(!0===G.visible&&0!==G._length){delete G._indexToPoints;var ke=G.transforms||[];for(te=ke.length-1;te>=0;te--)if(ke[te].enabled){G._indexToPoints=ke[te]._indexToPoints;break}Y&&Y.calc&&(Se=Y.calc(W,G))}Array.isArray(Se)&&Se[0]||(Se=[{x:a,y:a}]),Se[0].t||(Se[0].t={}),Se[0].trace=G,oe[xe]=Se}}for(F(re,Q,ee),se=0;se<Q.length;se++)Te(se,!0);for(se=0;se<Q.length;se++)Ae(se);for(we&&F(re,Q,ee),se=0;se<Q.length;se++)Te(se,!0);for(se=0;se<Q.length;se++)Te(se,!1);Z(W);var ve=function(xe,Fe){var Se,ke,pe,fe,be,Le=[];function Oe(Ke,it,gt){var ft=it._id.charAt(0);if("histogram2dcontour"===Ke){var Ve=it._counterAxes[0],qe=o.getFromId(Fe,Ve),dt="x"===ft||"x"===Ve&&"category"===qe.type,ut="y"===ft||"y"===Ve&&"category"===qe.type;return function(At,wt){return 0===At||0===wt||dt&&At===gt[wt].length-1||ut&&wt===gt.length-1?-1:("y"===ft?wt:At)-1}}return function(At,wt){return"y"===ft?wt:At}}var De={min:function(Ke){return i.aggNums(Math.min,null,Ke)},max:function(Ke){return i.aggNums(Math.max,null,Ke)},sum:function(Ke){return i.aggNums(function(it,gt){return it+gt},null,Ke)},total:function(Ke){return i.aggNums(function(it,gt){return it+gt},null,Ke)},mean:function(Ke){return i.mean(Ke)},median:function(Ke){return i.median(Ke)}};function Ue(Ke,it){return Ke[1]-it[1]}function Ge(Ke,it){return it[1]-Ke[1]}for(Se=0;Se<xe.length;Se++){var ye=xe[Se];if("category"===ye.type){var Ie=ye.categoryorder.match(X);if(Ie){var Ee=Ie[1],Be=Ie[2],We=ye._id.charAt(0),He="x"===We,Je=[];for(ke=0;ke<ye._categories.length;ke++)Je.push([ye._categories[ke],[]]);for(ke=0;ke<ye._traceIndices.length;ke++){var et=ye._traceIndices[ke],at=Fe._fullData[et];if(!0===at.visible){var mt=at.type;M.traceIs(at,"histogram")&&(delete at._xautoBinFinished,delete at._yautoBinFinished);var ct="splom"===mt,St="scattergl"===mt,Dt=Fe.calcdata[et];for(pe=0;pe<Dt.length;pe++){var Et,ht,pt=Dt[pe];if(ct){var Pt=at._axesDim[ye._id];if(!He){var Ft=at._diag[Pt][0];Ft&&(ye=Fe._fullLayout[o.id2name(Ft)])}var Ht=pt.trace.dimensions[Pt].values;for(fe=0;fe<Ht.length;fe++)for(Et=ye._categoriesMap[Ht[fe]],be=0;be<pt.trace.dimensions.length;be++)be!==Pt&&Je[Et][1].push(pt.trace.dimensions[be].values[fe])}else if(St){for(fe=0;fe<pt.t.x.length;fe++)He?(Et=pt.t.x[fe],ht=pt.t.y[fe]):(Et=pt.t.y[fe],ht=pt.t.x[fe]),Je[Et][1].push(ht);pt.t&&pt.t._scene&&delete pt.t._scene.dirty}else if(pt.hasOwnProperty("z")){var tt=Oe(at.type,ye,ht=pt.z);for(fe=0;fe<ht.length;fe++)for(be=0;be<ht[fe].length;be++)(Et=tt(be,fe))+1&&Je[Et][1].push(ht[fe][be])}else for(void 0===(Et=pt.p)&&(Et=pt[We]),void 0===(ht=pt.s)&&(ht=pt.v),void 0===ht&&(ht=He?pt.y:pt.x),Array.isArray(ht)||(ht=void 0===ht?[]:[ht]),fe=0;fe<ht.length;fe++)Je[Et][1].push(ht[fe])}}}ye._categoriesValue=Je;var rt=[];for(ke=0;ke<Je.length;ke++)rt.push([Je[ke][0],De[Ee](Je[ke][1])]);rt.sort("descending"===Be?Ge:Ue),ye._categoriesAggregatedValue=rt,ye._initialCategories=rt.map(function(Ke){return Ke[0]}),Le=Le.concat(ye.sortByInitialCategories())}}}return Le}(re,W);if(ve.length){for(ee._numBoxes=0,ee._numViolins=0,se=0;se<ve.length;se++)Te(ve[se],!0);for(se=0;se<ve.length;se++)Te(ve[se],!1);Z(W)}M.getComponentMethod("fx","calc")(W),M.getComponentMethod("errorbars","calc")(W)};var X=/(total|sum|min|max|mean|median) (ascending|descending)/;function F(W,H,G){var Y={};function se(ee){ee.clearCalc(),"multicategory"===ee.type&&ee.setupMultiCategory(H),Y[ee._id]=1}i.simpleMap(W,se);for(var te=G._axisMatchGroups||[],re=0;re<te.length;re++)for(var Q in te[re])Y[Q]||se(G[o.id2name(Q)])}function Z(W){var H,G,Y,se=W._fullLayout,te=se._visibleModules,re={};for(G=0;G<te.length;G++){var Q=te[G],ee=Q.crossTraceCalc;if(ee){var oe=Q.basePlotModule.name;re[oe]?i.pushUnique(re[oe],ee):re[oe]=[ee]}}for(Y in re){var le=re[Y],ue=se._subplots[Y];if(Array.isArray(ue))for(H=0;H<ue.length;H++){var de=ue[H],he="cartesian"===Y?se._plots[de]:se[de];for(G=0;G<le.length;G++)le[G](W,he,de)}else for(G=0;G<le.length;G++)le[G](W)}}g.rehover=function(W){W._fullLayout._rehover&&W._fullLayout._rehover()},g.redrag=function(W){W._fullLayout._redrag&&W._fullLayout._redrag()},g.reselect=function(W){var H=W._fullLayout,G=(W.layout||{}).selections,Y=H._previousSelections;H._previousSelections=G;var se=H._reselect||JSON.stringify(G)!==JSON.stringify(Y);M.getComponentMethod("selections","reselect")(W,se)},g.generalUpdatePerTraceModule=function(W,H,G,Y){var se,te=H.traceHash,re={};for(se=0;se<G.length;se++){var Q=G[se],ee=Q[0].trace;ee.visible&&(re[ee.type]=re[ee.type]||[],re[ee.type].push(Q))}for(var oe in te)if(!re[oe]){var le=te[oe][0];le[0].trace.visible=!1,re[oe]=[le]}for(var ue in re){var de=re[ue];de[0][0].trace._module.plot(W,H,i.filterVisible(de),Y)}H.traceHash=re},g.plotBasePlot=function(W,H,G,Y,se){var te=M.getModule(W),re=h(H.calcdata,te)[0];te.plot(H,re,Y,se)},g.cleanBasePlot=function(W,H,G,Y,se){var te=se._has&&se._has(W),re=G._has&&G._has(W);te&&!re&&se["_"+W+"layer"].selectAll("g.trace").remove()}},9813:function(ae){"use strict";ae.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(ae,B,r){"use strict";var D=r(71828),E=r(61082).tester,f=D.findIndexOfMin,S=D.isAngleInsideSector,M=D.angleDelta,v=D.angleDist;function c(o,l,u,d){var m,h,T=d[0],_=d[1],g=s(Math.sin(l)-Math.sin(o)),w=s(Math.cos(l)-Math.cos(o)),x=Math.tan(u),b=s(1/x),A=g/w,p=_-A*T;return b?g&&w?h=x*(m=p/(x-A)):w?(m=_*b,h=_):(m=T,h=T*x):g&&w?(m=0,h=p):w?(m=0,h=_):m=h=NaN,[m,h]}function i(o,l,u,d){return D.isFullCircle([l,u])?function(m,h){var T,_=h.length,g=new Array(_+1);for(T=0;T<_;T++){var w=h[T];g[T]=[m*Math.cos(w),m*Math.sin(w)]}return g[T]=g[0].slice(),g}(o,d):function(m,h,T,_){var g,w,x=_.length,b=[];function A(X){return[m*Math.cos(X),m*Math.sin(X)]}function p(X,F,Z){return c(X,F,Z,A(X))}function O(X){return D.mod(X,x)}function k(X){return S(X,[h,T])}var I=f(_,function(X){return k(X)?v(X,h):1/0}),P=p(_[I],_[O(I-1)],h);for(b.push(P),g=I,w=0;w<x;g++,w++){var R=_[O(g)];if(!k(R))break;b.push(A(R))}var N=f(_,function(X){return k(X)?v(X,T):1/0}),j=p(_[N],_[O(N+1)],T);return b.push(j),b.push([0,0]),b.push(b[0].slice()),b}(o,l,u,d)}function s(o){return Math.abs(o)>1e-10?o:0}function a(o,l,u){l=l||0,u=u||0;for(var d=o.length,m=new Array(d),h=0;h<d;h++){var T=o[h];m[h]=[l+T[0],u-T[1]]}return m}ae.exports={isPtInsidePolygon:function(o,l,u,d,m){if(!S(l,d))return!1;var h,T;u[0]<u[1]?(h=u[0],T=u[1]):(h=u[1],T=u[0]);var _=E(i(h,d[0],d[1],m)),g=E(i(T,d[0],d[1],m)),w=[o*Math.cos(l),o*Math.sin(l)];return g.contains(w)&&!_.contains(w)},findPolygonOffset:function(o,l,u,d){for(var m=1/0,h=1/0,T=i(o,l,u,d),_=0;_<T.length;_++){var g=T[_];m=Math.min(m,g[0]),h=Math.min(h,-g[1])}return[m,h]},findEnclosingVertexAngles:function(o,l){var u=f(l,function(m){var h=M(m,o);return h>0?h:1/0}),d=D.mod(u+1,l.length);return[l[u],l[d]]},findIntersectionXY:c,findXYatLength:function(o,l,u,d){var m=-l*u,h=l*l+1,T=2*(l*m-u),g=Math.sqrt(T*T-4*h*(m*m+u*u-o*o)),w=(-T+g)/(2*h),x=(-T-g)/(2*h);return[[w,l*w+m+d],[x,l*x+m+d]]},clampTiny:s,pathPolygon:function(o,l,u,d,m,h){return"M"+a(i(o,l,u,d),m,h).join("L")},pathPolygonAnnulus:function(o,l,u,d,m,h,T){var _,g;o<l?(_=o,g=l):(_=l,g=o);var w=a(i(_,u,d,m),h,T);return"M"+a(i(g,u,d,m),h,T).reverse().join("L")+"M"+w.join("L")}}},23580:function(ae,B,r){"use strict";var D=r(27659).AU,E=r(71828).counterRegex,f=r(77997),S=r(9813),M=S.attr,v=S.name,c=E(v),i={};i[M]={valType:"subplotid",dflt:v,editType:"calc"},ae.exports={attr:M,name:v,idRoot:v,idRegex:c,attrRegex:c,attributes:i,layoutAttributes:r(73812),supplyLayoutDefaults:r(68993),plot:function(s){for(var a=s._fullLayout,o=s.calcdata,l=a._subplots[v],u=0;u<l.length;u++){var d=l[u],m=D(o,v,d),h=a[d]._subplot;h||(h=f(s,d),a[d]._subplot=h),h.plot(m,a,s._promises)}},clean:function(s,a,o,l){for(var u=l._subplots[v]||[],d=l._has&&l._has("gl"),m=a._has&&a._has("gl"),h=d&&!m,T=0;T<u.length;T++){var _=u[T],g=l[_]._subplot;if(!a[_]&&g)for(var w in g.framework.remove(),g.layers["radial-axis-title"].remove(),g.clipPaths)g.clipPaths[w].remove();h&&g._scene&&(g._scene.destroy(),g._scene=null)}},toSVG:r(93612).toSVG}},73812:function(ae,B,r){"use strict";var D=r(22399),E=r(13838),f=r(27670).Y,S=r(71828).extendFlat,M=r(30962).overrideAll,v=M({color:E.color,showline:S({},E.showline,{dflt:!0}),linecolor:E.linecolor,linewidth:E.linewidth,showgrid:S({},E.showgrid,{dflt:!0}),gridcolor:E.gridcolor,gridwidth:E.gridwidth,griddash:E.griddash},"plot","from-root"),c=M({tickmode:E.minor.tickmode,nticks:E.nticks,tick0:E.tick0,dtick:E.dtick,tickvals:E.tickvals,ticktext:E.ticktext,ticks:E.ticks,ticklen:E.ticklen,tickwidth:E.tickwidth,tickcolor:E.tickcolor,ticklabelstep:E.ticklabelstep,showticklabels:E.showticklabels,labelalias:E.labelalias,showtickprefix:E.showtickprefix,tickprefix:E.tickprefix,showticksuffix:E.showticksuffix,ticksuffix:E.ticksuffix,showexponent:E.showexponent,exponentformat:E.exponentformat,minexponent:E.minexponent,separatethousands:E.separatethousands,tickfont:E.tickfont,tickangle:E.tickangle,tickformat:E.tickformat,tickformatstops:E.tickformatstops,layer:E.layer},"plot","from-root"),i={visible:S({},E.visible,{dflt:!0}),type:S({},E.type,{values:["-","linear","log","date","category"]}),autotypenumbers:E.autotypenumbers,autorangeoptions:{minallowed:E.autorangeoptions.minallowed,maxallowed:E.autorangeoptions.maxallowed,clipmin:E.autorangeoptions.clipmin,clipmax:E.autorangeoptions.clipmax,include:E.autorangeoptions.include,editType:"plot"},autorange:S({},E.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:S({},E.minallowed,{editType:"plot"}),maxallowed:S({},E.maxallowed,{editType:"plot"}),range:S({},E.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:E.categoryorder,categoryarray:E.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:S({},E.title.text,{editType:"plot",dflt:""}),font:S({},E.title.font,{editType:"plot"}),editType:"plot"},hoverformat:E.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:E._deprecated.title,titlefont:E._deprecated.titlefont}};S(i,v,c);var s={visible:S({},E.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:E.autotypenumbers,categoryorder:E.categoryorder,categoryarray:E.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:E.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};S(s,v,c),ae.exports={domain:f({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:D.background},radialaxis:i,angularaxis:s,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(44467),S=r(49119),M=r(27659).NG,v=r(26218),c=r(38701),i=r(96115),s=r(89426),a=r(15258),o=r(92128),l=r(23074),u=r(4322),d=r(73812),m=r(12101),h=r(9813),T=h.axisNames;function _(w,x,b,A){var p=b("bgcolor");A.bgColor=E.combine(p,A.paper_bgcolor);var O=b("sector");b("hole");var k,I=M(A.fullData,h.name,A.id),P=A.layoutOut;function R(de,he){return b(k+"."+de,he)}for(var N=0;N<T.length;N++){D.isPlainObject(w[k=T[N]])||(w[k]={});var j=w[k],X=f.newContainer(x,k);X._id=X._name=k,X._attr=A.id+"."+k,X._traceIndices=I.map(function(de){return de._expandedIndex});var F=h.axisName2dataArray[k],Z=g(j,X,R,I,F,A);a(j,X,R,{axData:I,dataAttr:F});var W=R("visible");switch(m(X,x,P),R("uirevision",x.uirevision),X._m=1,k){case"radialaxis":R("minallowed"),R("maxallowed");var H,G=R("range"),Y=X.getAutorangeDflt(G),se=R("autorange",Y);!G||(null!==G[0]||null!==G[1])&&(null!==G[0]&&null!==G[1]||"reversed"!==se&&!0!==se)&&(null===G[0]||"min"!==se&&"max reversed"!==se)&&(null===G[1]||"max"!==se&&"min reversed"!==se)||(G=void 0,delete X.range,X.autorange=!0,H=!0),H||(se=R("autorange",Y=X.getAutorangeDflt(G))),j.autorange=se,se&&(l(R,se,G),"linear"!==Z&&"-"!==Z||R("rangemode"),X.isReversed()&&(X._m=-1)),X.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if("date"===Z){D.log("Polar plots do not support date angular axes yet.");for(var te=0;te<I.length;te++)I[te].visible=!1;Z=j.type=X.type="linear"}R("linear"===Z?"thetaunit":"period");var re=R("direction");R("rotation",{counterclockwise:0,clockwise:90}[re])}if(s(j,X,R,X.type,{tickSuffixDflt:"degrees"===X.thetaunit?"\xb0":void 0}),W){var Q,ee,oe,le,ue=A.font||{};ee=(Q=R("color"))===j.color?Q:ue.color,oe=ue.size,le=ue.family,v(j,X,R,X.type),i(j,X,R,X.type,{font:{color:ee,size:oe,family:le}}),c(j,X,R,{outerTicks:!0}),o(j,X,R,{dfltColor:Q,bgColor:A.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:d[k]}),R("layer"),"radialaxis"===k&&(R("side"),R("angle",O[0]),R("title.text"),D.coerceFont(R,"title.font",{color:ee,size:D.bigFont(oe),family:le}))}"category"!==Z&&R("hoverformat"),X._input=j}"category"===x.angularaxis.type&&b("gridshape")}function g(w,x,b,A,p,O){var k=b("autotypenumbers",O.autotypenumbersDflt);if("-"===b("type")){for(var I,P=0;P<A.length;P++)if(A[P].visible){I=A[P];break}I&&I[p]&&(x.type=u(I[p],"gregorian",{noMultiCategory:!0,autotypenumbers:k})),"-"===x.type?x.type="linear":w.type=x.type}return x.type}ae.exports=function(w,x,b){S(w,x,b,{type:h.name,attributes:d,handleDefaults:_,font:x.font,autotypenumbersDflt:x.autotypenumbers,paper_bgcolor:x.paper_bgcolor,fullData:b,layoutOut:x})}},77997:function(ae,B,r){"use strict";var D=r(39898),E=r(84267),f=r(73972),S=r(71828),M=S.strRotate,v=S.strTranslate,c=r(7901),i=r(91424),s=r(74875),a=r(89298),o=r(21994),l=r(12101),u=r(71739).doAutoRange,d=r(29323),m=r(28569),h=r(30211),T=r(92998),_=r(47322).prepSelect,g=r(47322).selectOnClick,w=r(47322).clearOutline,x=r(6964),b=r(33306),A=r(61549).redrawReglTraces,p=r(18783).MID_SHIFT,O=r(9813),k=r(10869),I=r(23893),P=I.smith,R=I.reactanceArc,N=I.resistanceArc,j=I.smithTransform,X=S._,F=S.mod,Z=S.deg2rad,W=S.rad2deg;function H(re,Q,ee){this.isSmith=ee||!1,this.id=Q,this.gd=re,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var oe=re._fullLayout;this.clipIds.forTraces="clip"+oe._uid+Q+"-for-traces",this.clipPaths.forTraces=oe._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=oe["_"+(ee?"smith":"polar")+"layer"].append("g").attr("class",Q),this.getHole=function(ue){return this.isSmith?0:ue.hole},this.getSector=function(ue){return this.isSmith?[0,360]:ue.sector},this.getRadial=function(ue){return this.isSmith?ue.realaxis:ue.radialaxis},this.getAngular=function(ue){return this.isSmith?ue.imaginaryaxis:ue.angularaxis},ee||(this.radialTickLayout=null,this.angularTickLayout=null)}var G=H.prototype;function Y(re){var Q=re.ticks+String(re.ticklen)+String(re.showticklabels);return"side"in re&&(Q+=re.side),Q}function se(re,Q){return Q[S.findIndexOfMin(Q,function(ee){return S.angleDist(re,ee)})]}function te(re,Q,ee){return Q?(re.attr("display",null),re.attr(ee)):re&&re.attr("display","none"),re}ae.exports=function(re,Q,ee){return new H(re,Q,ee)},G.plot=function(re,Q){for(var ee=this,oe=Q[ee.id],le=!1,ue=0;ue<re.length;ue++)if(!1===re[ue][0].trace.cliponaxis){le=!0;break}ee._hasClipOnAxisFalse=le,ee.updateLayers(Q,oe),ee.updateLayout(Q,oe),s.generalUpdatePerTraceModule(ee.gd,ee,re,oe),ee.updateFx(Q,oe),ee.isSmith&&(delete oe.realaxis.range,delete oe.imaginaryaxis.range)},G.updateLayers=function(re,Q){var ee=this,oe=ee.isSmith,le=ee.layers,ue=ee.getRadial(Q),de=ee.getAngular(Q),he=O.layerNames,we=he.indexOf("frontplot"),Ae=he.slice(0,we),Te="below traces"===de.layer,ve="below traces"===ue.layer;Te&&Ae.push("angular-line"),ve&&Ae.push("radial-line"),Te&&Ae.push("angular-axis"),ve&&Ae.push("radial-axis"),Ae.push("frontplot"),Te||Ae.push("angular-line"),ve||Ae.push("radial-line"),Te||Ae.push("angular-axis"),ve||Ae.push("radial-axis");var xe=(oe?"smith":"polar")+"sublayer",Fe=ee.framework.selectAll("."+xe).data(Ae,String);Fe.enter().append("g").attr("class",function(Se){return xe+" "+Se}).each(function(Se){var ke=le[Se]=D.select(this);switch(Se){case"frontplot":oe||ke.append("g").classed("barlayer",!0),ke.append("g").classed("scatterlayer",!0);break;case"backplot":ke.append("g").classed("maplayer",!0);break;case"plotbg":le.bg=ke.append("path");break;case"radial-grid":case"angular-grid":ke.style("fill","none");break;case"radial-line":ke.append("line").style("fill","none");break;case"angular-line":ke.append("path").style("fill","none")}}),Fe.order()},G.updateLayout=function(re,Q){var ee=this,oe=ee.layers,le=re._size,ue=ee.getRadial(Q),de=ee.getAngular(Q),he=Q.domain.x,we=Q.domain.y;ee.xOffset=le.l+le.w*he[0],ee.yOffset=le.t+le.h*(1-we[1]);var Ae=ee.xLength=le.w*(he[1]-he[0]),Te=ee.yLength=le.h*(we[1]-we[0]),ve=ee.getSector(Q);ee.sectorInRad=ve.map(Z);var xe,Fe,Se,ke,pe,mt,ct,St,Dt,Et,ht,pt,Pt,Ft,Ht,fe=ee.sectorBBox=(Dt=(mt=ve)[1]-(St=mt[0]),ht=(Et=F(St,360))+Dt,pt=Math.cos(Z(Et)),Pt=Math.sin(Z(Et)),Ft=Math.cos(Z(ht)),Ht=Math.sin(Z(ht)),ct=Et<=90&&ht>=90||Et>90&&ht>=450?1:Pt<=0&&Ht<=0?0:Math.max(Pt,Ht),[Et<=180&&ht>=180||Et>180&&ht>=540?-1:pt>=0&&Ft>=0?0:Math.min(pt,Ft),Et<=270&&ht>=270||Et>270&&ht>=630?-1:Pt>=0&&Ht>=0?0:Math.min(Pt,Ht),ht>=360?1:pt<=0&&Ft<=0?0:Math.max(pt,Ft),ct]),be=fe[2]-fe[0],Oe=Te/Ae,De=Math.abs((fe[3]-fe[1])/be);Oe>De?(xe=Ae,pe=(Te-(Fe=Ae*De))/le.h/2,Se=[he[0],he[1]],ke=[we[0]+pe,we[1]-pe]):(Fe=Te,pe=(Ae-(xe=Te/De))/le.w/2,Se=[he[0]+pe,he[1]-pe],ke=[we[0],we[1]]),ee.xLength2=xe,ee.yLength2=Fe,ee.xDomain2=Se,ee.yDomain2=ke;var Ue,Ge=ee.xOffset2=le.l+le.w*Se[0],ye=ee.yOffset2=le.t+le.h*(1-ke[1]),Ie=ee.radius=xe/be,Ee=ee.innerRadius=ee.getHole(Q)*Ie,Be=ee.cx=Ge-Ie*fe[0],We=ee.cy=ye+Ie*fe[3],He=ee.cxx=Be-Ge,Je=ee.cyy=We-ye,et=ue.side;"counterclockwise"===et?(Ue=et,et="top"):"clockwise"===et&&(Ue=et,et="bottom"),ee.radialAxis=ee.mockAxis(re,Q,ue,{_id:"x",side:et,_trueSide:Ue,domain:[Ee/le.w,Ie/le.w]}),ee.angularAxis=ee.mockAxis(re,Q,de,{side:"right",domain:[0,Math.PI],autorange:!1}),ee.doAutoRange(re,Q),ee.updateAngularAxis(re,Q),ee.updateRadialAxis(re,Q),ee.updateRadialAxisTitle(re,Q),ee.xaxis=ee.mockCartesianAxis(re,Q,{_id:"x",domain:Se}),ee.yaxis=ee.mockCartesianAxis(re,Q,{_id:"y",domain:ke});var at=ee.pathSubplot();ee.clipPaths.forTraces.select("path").attr("d",at).attr("transform",v(He,Je)),oe.frontplot.attr("transform",v(Ge,ye)).call(i.setClipUrl,ee._hasClipOnAxisFalse?null:ee.clipIds.forTraces,ee.gd),oe.bg.attr("d",at).attr("transform",v(Be,We)).call(c.fill,Q.bgcolor)},G.mockAxis=function(re,Q,ee,oe){var le=S.extendFlat({},ee,oe);return l(le,Q,re),le},G.mockCartesianAxis=function(re,Q,ee){var oe=this,le=oe.isSmith,ue=ee._id,de=S.extendFlat({type:"linear"},ee);o(de,re);var he={x:[0,2],y:[1,3]};return de.setRange=function(){var we=oe.sectorBBox,Ae=he[ue],Te=oe.radialAxis._rl,ve=(Te[1]-Te[0])/(1-oe.getHole(Q));de.range=[we[Ae[0]]*ve,we[Ae[1]]*ve]},de.isPtWithinRange="x"!==ue||le?function(){return!0}:function(we){return oe.isPtInside(we)},de.setRange(),de.setScale(),de},G.doAutoRange=function(re,Q){var oe=this.gd,le=this.radialAxis,ue=this.getRadial(Q);u(oe,le);var de=le.range;ue.range=de.slice(),ue._input.range=de.slice(),le._rl=[le.r2l(de[0],null,"gregorian"),le.r2l(de[1],null,"gregorian")]},G.updateRadialAxis=function(re,Q){var ee=this,oe=ee.gd,le=ee.layers,ue=ee.radius,de=ee.innerRadius,he=ee.cx,we=ee.cy,Ae=ee.getRadial(Q),Te=F(ee.getSector(Q)[0],360),ve=ee.radialAxis,xe=de<ue,Fe=ee.isSmith;Fe||(ee.fillViewInitialKey("radialaxis.angle",Ae.angle),ee.fillViewInitialKey("radialaxis.range",ve.range.slice()),ve.setGeometry()),"auto"===ve.tickangle&&Te>90&&Te<=270&&(ve.tickangle=180);var Se=Fe?function(ye){var Ie=j(ee,P([ye.x,0]));return v(Ie[0]-he,Ie[1]-we)}:function(ye){return v(ve.l2p(ye.x)+de,0)},ke=Fe?function(ye){return N(ee,ye.x,-1/0,1/0)}:function(ye){return ee.pathArc(ve.r2p(ye.x)+de)},pe=Y(Ae);if(ee.radialTickLayout!==pe&&(le["radial-axis"].selectAll(".xtick").remove(),ee.radialTickLayout=pe),xe){ve.setScale();var fe=0,be=Fe?(ve.tickvals||[]).filter(function(ye){return ye>=0}).map(function(ye){return a.tickText(ve,ye,!0,!1)}):a.calcTicks(ve),Le=Fe?be:a.clipEnds(ve,be),Oe=a.getTickSigns(ve)[2];Fe&&(("top"===ve.ticks&&"bottom"===ve.side||"bottom"===ve.ticks&&"top"===ve.side)&&(Oe=-Oe),"top"===ve.ticks&&"top"===ve.side&&(fe=-ve.ticklen),"bottom"===ve.ticks&&"bottom"===ve.side&&(fe=ve.ticklen)),a.drawTicks(oe,ve,{vals:be,layer:le["radial-axis"],path:a.makeTickPath(ve,0,Oe),transFn:Se,crisp:!1}),a.drawGrid(oe,ve,{vals:Le,layer:le["radial-grid"],path:ke,transFn:S.noop,crisp:!1}),a.drawLabels(oe,ve,{vals:be,layer:le["radial-axis"],transFn:Se,labelFns:a.makeLabelFns(ve,fe)})}var De=ee.radialAxisAngle=ee.vangles?W(se(Z(Ae.angle),ee.vangles)):Ae.angle,Ue=v(he,we),Ge=Ue+M(-De);te(le["radial-axis"],xe&&(Ae.showticklabels||Ae.ticks),{transform:Ge}),te(le["radial-grid"],xe&&Ae.showgrid,{transform:Fe?"":Ue}),te(le["radial-line"].select("line"),xe&&Ae.showline,{x1:Fe?-ue:de,y1:0,x2:ue,y2:0,transform:Ge}).attr("stroke-width",Ae.linewidth).call(c.stroke,Ae.linecolor)},G.updateRadialAxisTitle=function(re,Q,ee){if(!this.isSmith){var oe=this,le=oe.gd,ue=oe.radius,de=oe.cx,he=oe.cy,we=oe.getRadial(Q),Ae=oe.id+"title",Te=0;if(we.title){var ve=i.bBox(oe.layers["radial-axis"].node()).height,xe=we.title.font.size,Fe=we.side;Te="top"===Fe?xe:"counterclockwise"===Fe?-(ve+.4*xe):ve+.8*xe}var Se=void 0!==ee?ee:oe.radialAxisAngle,ke=Z(Se),pe=Math.cos(ke),fe=Math.sin(ke),be=de+ue/2*pe+Te*fe,Le=he-ue/2*fe+Te*pe;oe.layers["radial-axis-title"]=T.draw(le,Ae,{propContainer:we,propName:oe.id+".radialaxis.title",placeholder:X(le,"Click to enter radial axis title"),attributes:{x:be,y:Le,"text-anchor":"middle"},transform:{rotate:-Se}})}},G.updateAngularAxis=function(re,Q){var ee=this,oe=ee.gd,le=ee.layers,ue=ee.radius,de=ee.innerRadius,he=ee.cx,we=ee.cy,Ae=ee.getAngular(Q),Te=ee.angularAxis,ve=ee.isSmith;ve||(ee.fillViewInitialKey("angularaxis.rotation",Ae.rotation),Te.setGeometry(),Te.setScale());var xe=ve?function(ye){var Ie=j(ee,P([0,ye.x]));return Math.atan2(Ie[0]-he,Ie[1]-we)-Math.PI/2}:function(ye){return Te.t2g(ye.x)};"linear"===Te.type&&"radians"===Te.thetaunit&&(Te.tick0=W(Te.tick0),Te.dtick=W(Te.dtick));var Fe=function(ye){return v(he+ue*Math.cos(ye),we-ue*Math.sin(ye))},Se=ve?function(ye){var Ie=j(ee,P([0,ye.x]));return v(Ie[0],Ie[1])}:function(ye){return Fe(xe(ye))},ke=ve?function(ye){var Ie=j(ee,P([0,ye.x])),Ee=Math.atan2(Ie[0]-he,Ie[1]-we)-Math.PI/2;return v(Ie[0],Ie[1])+M(-W(Ee))}:function(ye){var Ie=xe(ye);return Fe(Ie)+M(-W(Ie))},pe=ve?function(ye){return R(ee,ye.x,0,1/0)}:function(ye){var Ie=xe(ye),Ee=Math.cos(Ie),Be=Math.sin(Ie);return"M"+[he+de*Ee,we-de*Be]+"L"+[he+ue*Ee,we-ue*Be]},fe=a.makeLabelFns(Te,0).labelStandoff,be={xFn:function(ye){var Ie=xe(ye);return Math.cos(Ie)*fe},yFn:function(ye){var Ie=xe(ye),Ee=Math.sin(Ie)>0?.2:1;return-Math.sin(Ie)*(fe+ye.fontSize*Ee)+Math.abs(Math.cos(Ie))*(ye.fontSize*p)},anchorFn:function(ye){var Ie=xe(ye),Ee=Math.cos(Ie);return Math.abs(Ee)<.1?"middle":Ee>0?"start":"end"},heightFn:function(ye,Ie,Ee){var Be=xe(ye);return-.5*(1+Math.sin(Be))*Ee}},Le=Y(Ae);ee.angularTickLayout!==Le&&(le["angular-axis"].selectAll("."+Te._id+"tick").remove(),ee.angularTickLayout=Le);var Oe,De=ve?[1/0].concat(Te.tickvals||[]).map(function(ye){return a.tickText(Te,ye,!0,!1)}):a.calcTicks(Te);if(ve&&(De[0].text="\u221e",De[0].fontSize*=1.75),"linear"===Q.gridshape?(Oe=De.map(xe),S.angleDelta(Oe[0],Oe[1])<0&&(Oe=Oe.slice().reverse())):Oe=null,ee.vangles=Oe,"category"===Te.type&&(De=De.filter(function(ye){return S.isAngleInsideSector(xe(ye),ee.sectorInRad)})),Te.visible){var Ue="inside"===Te.ticks?-1:1;a.drawTicks(oe,Te,{vals:De,layer:le["angular-axis"],path:"M"+Ue*((Te.linewidth||1)/2)+",0h"+Ue*Te.ticklen,transFn:ke,crisp:!1}),a.drawGrid(oe,Te,{vals:De,layer:le["angular-grid"],path:pe,transFn:S.noop,crisp:!1}),a.drawLabels(oe,Te,{vals:De,layer:le["angular-axis"],repositionOnUpdate:!0,transFn:Se,labelFns:be})}te(le["angular-line"].select("path"),Ae.showline,{d:ee.pathSubplot(),transform:v(he,we)}).attr("stroke-width",Ae.linewidth).call(c.stroke,Ae.linecolor)},G.updateFx=function(re,Q){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(re),this.updateRadialDrag(re,Q,0),this.updateRadialDrag(re,Q,1)),this.updateHoverAndMainDrag(re))},G.updateHoverAndMainDrag=function(re){var Q,ee,oe=this,le=oe.isSmith,ue=oe.gd,he=re._zoomlayer,we=O.MINZOOM,Ae=O.OFFEDGE,Te=oe.radius,ve=oe.innerRadius,xe=oe.cx,Fe=oe.cy,Se=oe.cxx,ke=oe.cyy,pe=oe.sectorInRad,fe=oe.vangles,be=oe.radialAxis,Le=k.clampTiny,Oe=k.findXYatLength,De=k.findEnclosingVertexAngles,Ue=O.cornerHalfWidth,Ge=O.cornerLen/2,ye=d.makeDragger(oe.layers,"path","maindrag",!1===re.dragmode?"none":"crosshair");D.select(ye).attr("d",oe.pathSubplot()).attr("transform",v(xe,Fe)),ye.onmousemove=function(ft){h.hover(ue,ft,oe.id),ue._fullLayout._lasthover=ye,ue._fullLayout._hoversubplot=oe.id},ye.onmouseout=function(ft){ue._dragging||m.unhover(ue,ft)};var Ie,Ee,Be,We,He,Je,et,at,mt,ct={element:ye,gd:ue,subplot:oe.id,plotinfo:{id:oe.id,xaxis:oe.xaxis,yaxis:oe.yaxis},xaxes:[oe.xaxis],yaxes:[oe.yaxis]};function St(ft,Ve){return Math.sqrt(ft*ft+Ve*Ve)}function Dt(ft,Ve){return St(ft-Se,Ve-ke)}function Et(ft,Ve){return Math.atan2(ke-Ve,ft-Se)}function ht(ft,Ve){return[ft*Math.cos(Ve),ft*Math.sin(-Ve)]}function pt(ft,Ve){if(0===ft)return oe.pathSector(2*Ue);var qe=Ge/ft,dt=Ve-qe,ut=Ve+qe,At=Math.max(0,Math.min(ft,Te)),wt=At-Ue,kt=At+Ue;return"M"+ht(wt,dt)+"A"+[wt,wt]+" 0,0,0 "+ht(wt,ut)+"L"+ht(kt,ut)+"A"+[kt,kt]+" 0,0,1 "+ht(kt,dt)+"Z"}function Pt(ft,Ve,qe){if(0===ft)return oe.pathSector(2*Ue);var dt,ut,At=ht(ft,Ve),wt=ht(ft,qe),kt=Le((At[0]+wt[0])/2),_t=Le((At[1]+wt[1])/2);if(kt&&_t){var Rt=_t/kt,bt=-1/Rt,Tt=Oe(Ue,Rt,kt,_t);dt=Oe(Ge,bt,Tt[0][0],Tt[0][1]),ut=Oe(Ge,bt,Tt[1][0],Tt[1][1])}else{var Ot,Wt;_t?(Ot=Ge,Wt=Ue):(Ot=Ue,Wt=Ge),dt=[[kt-Ot,_t-Wt],[kt+Ot,_t-Wt]],ut=[[kt-Ot,_t+Wt],[kt+Ot,_t+Wt]]}return"M"+dt.join("L")+"L"+ut.reverse().join("L")+"Z"}function Ft(ft,Ve){return Ve=Math.max(Math.min(Ve,Te),ve),ft<Ae?ft=0:Te-ft<Ae?ft=Te:Ve<Ae?Ve=0:Te-Ve<Ae&&(Ve=Te),Math.abs(Ve-ft)>we?(ft<Ve?(Be=ft,We=Ve):(Be=Ve,We=ft),!0):(Be=null,We=null,!1)}function Ht(ft,Ve){Ve=Ve||"M0,0Z",at.attr("d",ft=ft||He),mt.attr("d",Ve),d.transitionZoombox(at,mt,Je,et),Je=!0;var qe={};it(qe),ue.emit("plotly_relayouting",qe)}function Lt(ft,Ve){var qe,dt,ut=Ie+(ft*=Q),At=Ee+(Ve*=ee),wt=Dt(Ie,Ee),kt=Math.min(Dt(ut,At),Te),_t=Et(Ie,Ee);Ft(wt,kt)&&(qe=He+oe.pathSector(We),Be&&(qe+=oe.pathSector(Be)),dt=pt(Be,_t)+pt(We,_t)),Ht(qe,dt)}function tt(ft,Ve,qe,dt){var ut=k.findIntersectionXY(qe,dt,qe,[ft-Se,ke-Ve]);return St(ut[0],ut[1])}function rt(ft,Ve){var qe,dt,ut=Ie+ft,At=Ee+Ve,wt=Et(Ie,Ee),kt=Et(ut,At),_t=De(wt,fe),Rt=De(kt,fe);Ft(tt(Ie,Ee,_t[0],_t[1]),Math.min(tt(ut,At,Rt[0],Rt[1]),Te))&&(qe=He+oe.pathSector(We),Be&&(qe+=oe.pathSector(Be)),dt=[Pt(Be,_t[0],_t[1]),Pt(We,_t[0],_t[1])].join(" ")),Ht(qe,dt)}function Ke(){if(d.removeZoombox(ue),null!==Be&&null!==We){var ft={};it(ft),d.showDoubleClickNotifier(ue),f.call("_guiRelayout",ue,ft)}}function it(ft){var Ve=be._rl,qe=(Ve[1]-Ve[0])/(1-ve/Te)/Te;ft[oe.id+".radialaxis.range"]=[Ve[0]+(Be-ve)*qe,Ve[0]+(We-ve)*qe]}function gt(ft,Ve){var qe=ue._fullLayout.clickmode;if(d.removeZoombox(ue),2===ft){var dt={};for(var ut in oe.viewInitial)dt[oe.id+"."+ut]=oe.viewInitial[ut];ue.emit("plotly_doubleclick",null),f.call("_guiRelayout",ue,dt)}qe.indexOf("select")>-1&&1===ft&&g(Ve,ue,[oe.xaxis],[oe.yaxis],oe.id,ct),qe.indexOf("event")>-1&&h.click(ue,Ve,oe.id)}ct.prepFn=function(ft,Ve,qe){var dt=ue._fullLayout.dragmode,ut=ye.getBoundingClientRect();ue._fullLayout._calcInverseTransform(ue),Q=ue._fullLayout._invScaleX,ee=ue._fullLayout._invScaleY;var wt=S.apply3DTransform(ue._fullLayout._invTransform)(Ve-ut.left,qe-ut.top);if(Ie=wt[0],Ee=wt[1],fe){var kt=k.findPolygonOffset(Te,pe[0],pe[1],fe);Ie+=Se+kt[0],Ee+=ke+kt[1]}switch(dt){case"zoom":ct.clickFn=gt,le||(ct.moveFn=fe?rt:Lt,ct.doneFn=Ke,Be=null,We=null,He=oe.pathSubplot(),Je=!1,et=E(ue._fullLayout[oe.id].bgcolor).getLuminance(),(at=d.makeZoombox(he,et,xe,Fe,He)).attr("fill-rule","evenodd"),mt=d.makeCorners(he,xe,Fe),w(ue));break;case"select":case"lasso":_(ft,Ve,qe,ct,dt)}},m.init(ct)},G.updateRadialDrag=function(re,Q,ee){var oe=this,le=oe.gd,ue=oe.layers,de=oe.radius,he=oe.innerRadius,we=oe.cx,Ae=oe.cy,Te=oe.radialAxis,ve=O.radialDragBoxSize,xe=ve/2;if(Te.visible){var Fe,Se,ke,pe=Z(oe.radialAxisAngle),fe=Te._rl,be=fe[0],Le=fe[1],Oe=fe[ee],De=.75*(fe[1]-fe[0])/(1-oe.getHole(Q))/de;ee?(Fe=we+(de+xe)*Math.cos(pe),Se=Ae-(de+xe)*Math.sin(pe),ke="radialdrag"):(Fe=we+(he-xe)*Math.cos(pe),Se=Ae-(he-xe)*Math.sin(pe),ke="radialdrag-inner");var Ue,Ge,ye,Ie=d.makeRectDragger(ue,ke,"crosshair",-xe,-xe,ve,ve),Ee={element:Ie,gd:le};!1===re.dragmode&&(Ee.dragmode=!1),te(D.select(Ie),Te.visible&&he<de,{transform:v(Fe,Se)}),Ee.prepFn=function(){Ue=null,Ge=null,ye=null,Ee.moveFn=Be,Ee.doneFn=We,w(le)},Ee.clampFn=function(et,at){return Math.sqrt(et*et+at*at)<O.MINDRAG&&(et=0,at=0),[et,at]},m.init(Ee)}function Be(et,at){if(Ue)Ue(et,at);else{var mt=[et,-at],ct=[Math.cos(pe),Math.sin(pe)],St=Math.abs(S.dot(mt,ct)/Math.sqrt(S.dot(mt,mt)));isNaN(St)||(Ue=St<.5?He:Je)}var Et,Dt={};Et=Dt,null!==Ge?Et[oe.id+".radialaxis.angle"]=Ge:null!==ye&&(Et[oe.id+".radialaxis.range["+ee+"]"]=ye),le.emit("plotly_relayouting",Dt)}function We(){null!==Ge?f.call("_guiRelayout",le,oe.id+".radialaxis.angle",Ge):null!==ye&&f.call("_guiRelayout",le,oe.id+".radialaxis.range["+ee+"]",ye)}function He(et,at){if(0!==ee){Ge=Math.atan2(Ae-(Se+at),Fe+et-we),oe.vangles&&(Ge=se(Ge,oe.vangles)),Ge=W(Ge);var St=v(we,Ae)+M(-Ge);ue["radial-axis"].attr("transform",St),ue["radial-line"].select("line").attr("transform",St);var Dt=oe.gd._fullLayout;oe.updateRadialAxisTitle(Dt,Dt[oe.id],Ge)}}function Je(et,at){var mt=S.dot([et,-at],[Math.cos(pe),Math.sin(pe)]);if(ye=Oe-De*mt,De>0==(ee?ye>be:ye<Le)){var ct=le._fullLayout,St=ct[oe.id];Te.range[ee]=ye,Te._rl[ee]=ye,oe.updateRadialAxis(ct,St),oe.xaxis.setRange(),oe.xaxis.setScale(),oe.yaxis.setRange(),oe.yaxis.setScale();var Dt=!1;for(var Et in oe.traceHash){var ht=oe.traceHash[Et],pt=S.filterVisible(ht);ht[0][0].trace._module.plot(le,oe,pt,St),f.traceIs(Et,"gl")&&pt.length&&(Dt=!0)}Dt&&(b(le),A(le))}else ye=null}},G.updateAngularDrag=function(re){var Q=this,ee=Q.gd,oe=Q.layers,le=Q.radius,ue=Q.angularAxis,de=Q.cx,he=Q.cy,we=Q.cxx,Ae=Q.cyy,Te=O.angularDragBoxSize,ve=d.makeDragger(oe,"path","angulardrag",!1===re.dragmode?"none":"move"),xe={element:ve,gd:ee};function Fe(Ee,Be){return Math.atan2(Ae+Te-Be,Ee-we-Te)}!1===re.dragmode?xe.dragmode=!1:D.select(ve).attr("d",Q.pathAnnulus(le,le+Te)).attr("transform",v(de,he)).call(x,"move");var Se,ke,pe,fe,be,Le,Oe=oe.frontplot.select(".scatterlayer").selectAll(".trace"),De=Oe.selectAll(".point"),Ue=Oe.selectAll(".textpoint");function Ge(Ee,Be){var We=Q.gd._fullLayout,He=We[Q.id],Je=Fe(Se+Ee*re._invScaleX,ke+Be*re._invScaleY),et=W(Je-Le);if(fe=pe+et,oe.frontplot.attr("transform",v(Q.xOffset2,Q.yOffset2)+M([-et,we,Ae])),Q.vangles){be=Q.radialAxisAngle+et;var at=v(de,he)+M(-et),mt=v(de,he)+M(-be);oe.bg.attr("transform",at),oe["radial-grid"].attr("transform",at),oe["radial-axis"].attr("transform",mt),oe["radial-line"].select("line").attr("transform",mt),Q.updateRadialAxisTitle(We,He,be)}else Q.clipPaths.forTraces.select("path").attr("transform",v(we,Ae)+M(et));De.each(function(){var pt=D.select(this),Pt=i.getTranslate(pt);pt.attr("transform",v(Pt.x,Pt.y)+M([et]))}),Ue.each(function(){var pt=D.select(this),Pt=pt.select("text"),Ft=i.getTranslate(pt);pt.attr("transform",M([et,Pt.attr("x"),Pt.attr("y")])+v(Ft.x,Ft.y))}),ue.rotation=S.modHalf(fe,360),Q.updateAngularAxis(We,He),Q._hasClipOnAxisFalse&&!S.isFullCircle(Q.sectorInRad)&&Oe.call(i.hideOutsideRangePoints,Q);var ct=!1;for(var St in Q.traceHash)if(f.traceIs(St,"gl")){var Dt=Q.traceHash[St],Et=S.filterVisible(Dt);Dt[0][0].trace._module.plot(ee,Q,Et,He),Et.length&&(ct=!0)}ct&&(b(ee),A(ee));var ht={};ye(ht),ee.emit("plotly_relayouting",ht)}function ye(Ee){Ee[Q.id+".angularaxis.rotation"]=fe,Q.vangles&&(Ee[Q.id+".radialaxis.angle"]=be)}function Ie(){Ue.select("text").attr("transform",null);var Ee={};ye(Ee),f.call("_guiRelayout",ee,Ee)}xe.prepFn=function(Ee,Be,We){pe=re[Q.id].angularaxis.rotation;var Je=ve.getBoundingClientRect();Se=Be-Je.left,ke=We-Je.top,ee._fullLayout._calcInverseTransform(ee);var et=S.apply3DTransform(re._invTransform)(Se,ke);Le=Fe(Se=et[0],ke=et[1]),xe.moveFn=Ge,xe.doneFn=Ie,w(ee)},Q.vangles&&!S.isFullCircle(Q.sectorInRad)&&(xe.prepFn=S.noop,x(D.select(ve),null)),m.init(xe)},G.isPtInside=function(re){if(this.isSmith)return!0;var Q=this.sectorInRad,ee=this.vangles,oe=this.angularAxis.c2g(re.theta),le=this.radialAxis,ue=le.c2l(re.r);return(ee?k.isPtInsidePolygon:S.isPtInsideSector)(ue,oe,le._rl,Q,ee)},G.pathArc=function(re){var Q=this.sectorInRad,ee=this.vangles;return(ee?k.pathPolygon:S.pathArc)(re,Q[0],Q[1],ee)},G.pathSector=function(re){var Q=this.sectorInRad,ee=this.vangles;return(ee?k.pathPolygon:S.pathSector)(re,Q[0],Q[1],ee)},G.pathAnnulus=function(re,Q){var ee=this.sectorInRad,oe=this.vangles;return(oe?k.pathPolygonAnnulus:S.pathAnnulus)(re,Q,ee[0],ee[1],oe)},G.pathSubplot=function(){var re=this.innerRadius,Q=this.radius;return re?this.pathAnnulus(re,Q):this.pathSector(Q)},G.fillViewInitialKey=function(re,Q){re in this.viewInitial||(this.viewInitial[re]=Q)}},12101:function(ae,B,r){"use strict";var D=r(71828),E=r(21994),f=D.deg2rad,S=D.rad2deg;ae.exports=function(M,v,c){switch(E(M,c),M._id){case"x":case"radialaxis":a=v._subplot,(i=M).setGeometry=function(){var o=i._rl[0],l=i._rl[1],u=a.innerRadius,d=(a.radius-u)/(l-o),m=u/d,h=o>l?function(T){return T<=0}:function(T){return T>=0};i.c2g=function(T){var _=i.c2l(T)-o;return(h(_)?_:0)+m},i.g2c=function(T){return i.l2c(T+o-m)},i.g2p=function(T){return T*d},i.c2p=function(T){return i.g2p(i.c2g(T))}};break;case"angularaxis":!function(i,s){var a=i.type;if("linear"===a){var o=i.d2c,l=i.c2d;i.d2c=function(u,d){return m=o(u),"degrees"===d?f(m):m;var m},i.c2d=function(u,d){return l((m=u,"degrees"===d?S(m):m));var m}}i.makeCalcdata=function(u,d){var m,h,T=u[d],_=u._length,g=function(p){return i.d2c(p,u.thetaunit)};if(T){if(D.isTypedArray(T)&&"linear"===a){if(_===T.length)return T;if(T.subarray)return T.subarray(0,_)}for(m=new Array(_),h=0;h<_;h++)m[h]=g(T[h])}else{var w=d+"0",x="d"+d,b=w in u?g(u[w]):0,A=u[x]?g(u[x]):(i.period||2*Math.PI)/_;for(m=new Array(_),h=0;h<_;h++)m[h]=b+h*A}return m},i.setGeometry=function(){var u,d,m,h,T=s.sector,_=T.map(f),g={clockwise:-1,counterclockwise:1}[i.direction],w=f(i.rotation),x=function(O){return g*O+w},b=function(O){return(O-w)/g};switch(a){case"linear":d=u=D.identity,h=f,m=S,i.range=D.isFullCircle(_)?[T[0],T[0]+360]:_.map(b).map(S);break;case"category":var A=i._categories.length,p=i.period?Math.max(i.period,A):A;0===p&&(p=1),d=h=function(O){return 2*O*Math.PI/p},u=m=function(O){return O*p/Math.PI/2},i.range=[0,p]}i.c2g=function(O){return x(d(O))},i.g2c=function(O){return u(b(O))},i.t2g=function(O){return x(h(O))},i.g2t=function(O){return m(b(O))}}}(M,v)}var i,a}},39779:function(ae){"use strict";ae.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(ae){"use strict";function B(f){return f<0?-1:f>0?1:0}function r(f){var S=f[0],M=f[1];if(!isFinite(S)||!isFinite(M))return[1,0];var v=(S+1)*(S+1)+M*M;return[(S*S+M*M-1)/v,2*M/v]}function D(f,S){return[S[0]*f.radius+f.cx,-S[1]*f.radius+f.cy]}function E(f,S){return S*f.radius}ae.exports={smith:r,reactanceArc:function(f,S,M,v){var c=D(f,r([M,S])),i=c[0],s=c[1],a=D(f,r([v,S])),o=a[0],l=a[1];if(0===S)return["M"+i+","+s,"L"+o+","+l].join(" ");var u=E(f,1/Math.abs(S));return["M"+i+","+s,"A"+u+","+u+" 0 0,"+(S<0?1:0)+" "+o+","+l].join(" ")},resistanceArc:function(f,S,M,v){var c=E(f,1/(S+1)),i=D(f,r([S,M])),s=i[0],a=i[1],o=D(f,r([S,v])),l=o[0],u=o[1];if(B(M)!==B(v)){var d=D(f,r([S,0]));return["M"+s+","+a,"A"+c+","+c+" 0 0,"+(0<M?0:1)+" "+d[0]+","+d[1],"A"+c+","+c+" 0 0,"+(v<0?0:1)+l+","+u].join(" ")}return["M"+s+","+a,"A"+c+","+c+" 0 0,"+(v<M?0:1)+" "+l+","+u].join(" ")},smithTransform:D}},7504:function(ae,B,r){"use strict";var D=r(27659).AU,E=r(71828).counterRegex,f=r(77997),S=r(39779),M=S.attr,v=S.name,c=E(v),i={};i[M]={valType:"subplotid",dflt:v,editType:"calc"},ae.exports={attr:M,name:v,idRoot:v,idRegex:c,attrRegex:c,attributes:i,layoutAttributes:r(33419),supplyLayoutDefaults:r(9558),plot:function(s){for(var a=s._fullLayout,o=s.calcdata,l=a._subplots[v],u=0;u<l.length;u++){var d=l[u],m=D(o,v,d),h=a[d]._subplot;h||(h=f(s,d,!0),a[d]._subplot=h),h.plot(m,a,s._promises)}},clean:function(s,a,o,l){for(var u=l._subplots[v]||[],d=0;d<u.length;d++){var m=u[d],h=l[m]._subplot;if(!a[m]&&h)for(var T in h.framework.remove(),h.clipPaths)h.clipPaths[T].remove()}},toSVG:r(93612).toSVG}},33419:function(ae,B,r){"use strict";var D=r(22399),E=r(13838),f=r(27670).Y,S=r(71828).extendFlat,M=r(30962).overrideAll,v=M({color:E.color,showline:S({},E.showline,{dflt:!0}),linecolor:E.linecolor,linewidth:E.linewidth,showgrid:S({},E.showgrid,{dflt:!0}),gridcolor:E.gridcolor,gridwidth:E.gridwidth,griddash:E.griddash},"plot","from-root"),c=M({ticklen:E.ticklen,tickwidth:S({},E.tickwidth,{dflt:2}),tickcolor:E.tickcolor,showticklabels:E.showticklabels,labelalias:E.labelalias,showtickprefix:E.showtickprefix,tickprefix:E.tickprefix,showticksuffix:E.showticksuffix,ticksuffix:E.ticksuffix,tickfont:E.tickfont,tickformat:E.tickformat,hoverformat:E.hoverformat,layer:E.layer},"plot","from-root"),i=S({visible:S({},E.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:S({},E.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,c),s=S({visible:S({},E.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:E.ticks,editType:"calc"},v,c);ae.exports={domain:f({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:D.background},realaxis:i,imaginaryaxis:s,editType:"calc"}},9558:function(ae,B,r){"use strict";var D,E,f,S=r(71828),M=r(7901),v=r(44467),c=r(49119),i=r(27659).NG,s=r(89426),a=r(96115),o=r(92128),l=r(21994),u=r(33419),d=r(39779),m=d.axisNames,h=(D=function(_){return _.slice().reverse().map(function(g){return-g}).concat([0]).concat(_)},E=String,f={},function(_){var g=E?E(_):_;if(g in f)return f[g];var w=D(_);return f[g]=w,w});function T(_,g,w,x){var b=w("bgcolor");x.bgColor=M.combine(b,x.paper_bgcolor);var A,p=i(x.fullData,d.name,x.id),O=x.layoutOut;function k(G,Y){return w(A+"."+G,Y)}for(var I=0;I<m.length;I++){S.isPlainObject(_[A=m[I]])||(_[A]={});var P=_[A],R=v.newContainer(g,A);R._id=R._name=A,R._attr=x.id+"."+A,R._traceIndices=p.map(function(G){return G._expandedIndex});var N=k("visible");if(R.type="linear",l(R,O),s(P,R,k,R.type),N){var j,X,F,Z,W="realaxis"===A;W&&k("side"),W?k("tickvals"):k("tickvals",h(g.realaxis.tickvals||u.realaxis.tickvals.dflt));var H=x.font||{};N&&(X=(j=k("color"))===P.color?j:H.color,F=H.size,Z=H.family),a(P,R,k,R.type,{noTicklabelstep:!0,noAng:!W,noExp:!0,font:{color:X,size:F,family:Z}}),S.coerce2(_,g,u,A+".ticklen"),S.coerce2(_,g,u,A+".tickwidth"),S.coerce2(_,g,u,A+".tickcolor",g.color),k("ticks")||(delete g[A].ticklen,delete g[A].tickwidth,delete g[A].tickcolor),o(P,R,k,{dfltColor:j,bgColor:x.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[A]}),k("layer")}k("hoverformat"),delete R.type,R._input=P}}ae.exports=function(_,g,w){c(_,g,w,{noUirevision:!0,type:d.name,attributes:u,handleDefaults:T,font:g.font,paper_bgcolor:g.paper_bgcolor,fullData:w,layoutOut:g})}},49119:function(ae,B,r){"use strict";var D=r(71828),E=r(44467),f=r(27670).c;ae.exports=function(S,M,v,c){var i,s,o=c.attributes,l=c.handleDefaults,u=c.partition||"x",d=M._subplots[c.type],m=d.length,h=m&&d[0].replace(/\d+$/,"");function T(x,b){return D.coerce(i,s,o,x,b)}for(var _=0;_<m;_++){var g=d[_];i=S[g]?S[g]:S[g]={},s=E.newContainer(M,g,h),c.noUirevision||T("uirevision",M.uirevision);var w={};w[u]=[_/m,(_+1)/m],f(s,M,T,w),c.id=g,l(i,s,T,c)}}},5386:function(ae,B,r){"use strict";function E(f){var S=f.description?" "+f.description:"",M=f.keys||[];if(M.length>0){for(var v=[],c=0;c<M.length;c++)v[c]="`"+M[c]+"`";S+="Finally, the template string has access to ",S=1===M.length?S+"variable "+v[0]:S+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return S}r(31562),B.fF=function(f,S){f=f||{},E(S=S||{});var M={valType:"string",dflt:"",editType:f.editType||"none"};return!1!==f.arrayOk&&(M.arrayOk=!0),M},B.si=function(f,S){f=f||{},E(S=S||{});var M={valType:"string",dflt:"",editType:f.editType||"calc"};return!1!==f.arrayOk&&(M.arrayOk=!0),M},B.R=function(f,S){return f=f||{},E(S=S||{}),{valType:"string",dflt:"",editType:f.editType||"arraydraw"}}},61639:function(ae,B,r){"use strict";var D=r(64380),E=r(27659).AU,f=r(71828).counterRegex,S="ternary";B.name=S;var M=B.attr="subplot";B.idRoot=S,B.idRegex=B.attrRegex=f(S),(B.attributes={})[M]={valType:"subplotid",dflt:"ternary",editType:"calc"},B.layoutAttributes=r(81367),B.supplyLayoutDefaults=r(25369),B.plot=function(v){for(var c=v._fullLayout,i=v.calcdata,s=c._subplots[S],a=0;a<s.length;a++){var o=s[a],l=E(i,S,o),u=c[o]._subplot;u||(u=new D({id:o,graphDiv:v,container:c._ternarylayer.node()},c),c[o]._subplot=u),u.plot(l,c,v._promises)}},B.clean=function(v,c,i,s){for(var a=s._subplots[S]||[],o=0;o<a.length;o++){var l=a[o],u=s[l]._subplot;!c[l]&&u&&(u.plotContainer.remove(),u.clipDef.remove(),u.clipDefRelative.remove(),u.layers["a-title"].remove(),u.layers["b-title"].remove(),u.layers["c-title"].remove())}}},81367:function(ae,B,r){"use strict";var D=r(22399),E=r(27670).Y,f=r(13838),S=r(30962).overrideAll,M=r(1426).extendFlat,v={title:{text:f.title.text,font:f.title.font},color:f.color,tickmode:f.minor.tickmode,nticks:M({},f.nticks,{dflt:6,min:1}),tick0:f.tick0,dtick:f.dtick,tickvals:f.tickvals,ticktext:f.ticktext,ticks:f.ticks,ticklen:f.ticklen,tickwidth:f.tickwidth,tickcolor:f.tickcolor,ticklabelstep:f.ticklabelstep,showticklabels:f.showticklabels,labelalias:f.labelalias,showtickprefix:f.showtickprefix,tickprefix:f.tickprefix,showticksuffix:f.showticksuffix,ticksuffix:f.ticksuffix,showexponent:f.showexponent,exponentformat:f.exponentformat,minexponent:f.minexponent,separatethousands:f.separatethousands,tickfont:f.tickfont,tickangle:f.tickangle,tickformat:f.tickformat,tickformatstops:f.tickformatstops,hoverformat:f.hoverformat,showline:M({},f.showline,{dflt:!0}),linecolor:f.linecolor,linewidth:f.linewidth,showgrid:M({},f.showgrid,{dflt:!0}),gridcolor:f.gridcolor,gridwidth:f.gridwidth,griddash:f.griddash,layer:f.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:f._deprecated.title,titlefont:f._deprecated.titlefont}},c=ae.exports=S({domain:E({name:"ternary"}),bgcolor:{valType:"color",dflt:D.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");c.uirevision={valType:"any",editType:"none"},c.aaxis.uirevision=c.baxis.uirevision=c.caxis.uirevision={valType:"any",editType:"none"}},25369:function(ae,B,r){"use strict";var D=r(7901),E=r(44467),f=r(71828),S=r(49119),M=r(96115),v=r(89426),c=r(38701),i=r(26218),s=r(92128),a=r(81367),o=["aaxis","baxis","caxis"];function l(d,m,h,T){var _,g,w,x=h("bgcolor"),b=h("sum");T.bgColor=D.combine(x,T.paper_bgcolor);for(var A=0;A<o.length;A++)g=d[_=o[A]]||{},(w=E.newContainer(m,_))._name=_,u(g,w,T,m);var p=m.aaxis,O=m.baxis,k=m.caxis;p.min+O.min+k.min>=b&&(p.min=0,O.min=0,k.min=0,d.aaxis&&delete d.aaxis.min,d.baxis&&delete d.baxis.min,d.caxis&&delete d.caxis.min)}function u(d,m,h,T){var _=a[m._name];function g(O,k){return f.coerce(d,m,_,O,k)}g("uirevision",T.uirevision),m.type="linear";var w=g("color"),x=w!==_.color.dflt?w:h.font.color,b=m._name.charAt(0).toUpperCase(),A="Component "+b,p=g("title.text",A);m._hovertitle=p===A?p:b,f.coerceFont(g,"title.font",{family:h.font.family,size:f.bigFont(h.font.size),color:x}),g("min"),i(d,m,g,"linear"),v(d,m,g,"linear"),M(d,m,g,"linear"),c(d,m,g,{outerTicks:!0}),g("showticklabels")&&(f.coerceFont(g,"tickfont",{family:h.font.family,size:h.font.size,color:x}),g("tickangle"),g("tickformat")),s(d,m,g,{dfltColor:w,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:_}),g("hoverformat"),g("layer")}ae.exports=function(d,m,h){S(d,m,h,{type:"ternary",attributes:a,handleDefaults:l,font:m.font,paper_bgcolor:m.paper_bgcolor})}},64380:function(ae,B,r){"use strict";var D=r(39898),E=r(84267),f=r(73972),S=r(71828),M=S.strTranslate,v=S._,c=r(7901),i=r(91424),s=r(21994),a=r(1426).extendFlat,o=r(74875),l=r(89298),u=r(28569),d=r(30211),m=r(64505),h=m.freeMode,T=m.rectMode,_=r(92998),g=r(47322).prepSelect,w=r(47322).selectOnClick,x=r(47322).clearOutline,b=r(47322).clearSelectionsCache,A=r(85555);function p(F,Z){this.id=F.id,this.graphDiv=F.graphDiv,this.init(Z),this.makeFramework(Z),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}ae.exports=p;var O=p.prototype;O.init=function(F){this.container=F._ternarylayer,this.defs=F._defs,this.layoutId=F._uid,this.traceHash={},this.layers={}},O.plot=function(F,Z){var W=this,H=Z[W.id],G=Z._size;W._hasClipOnAxisFalse=!1;for(var Y=0;Y<F.length;Y++)if(!1===F[Y][0].trace.cliponaxis){W._hasClipOnAxisFalse=!0;break}W.updateLayers(H),W.adjustLayout(H,G),o.generalUpdatePerTraceModule(W.graphDiv,W,F,H),W.layers.plotbg.select("path").call(c.fill,H.bgcolor)},O.makeFramework=function(F){var Z=this,W=Z.graphDiv,H=F[Z.id],G=Z.clipId="clip"+Z.layoutId+Z.id,Y=Z.clipIdRelative="clip-relative"+Z.layoutId+Z.id;Z.clipDef=S.ensureSingleById(F._clips,"clipPath",G,function(se){se.append("path").attr("d","M0,0Z")}),Z.clipDefRelative=S.ensureSingleById(F._clips,"clipPath",Y,function(se){se.append("path").attr("d","M0,0Z")}),Z.plotContainer=S.ensureSingle(Z.container,"g",Z.id),Z.updateLayers(H),i.setClipUrl(Z.layers.backplot,G,W),i.setClipUrl(Z.layers.grids,G,W)},O.updateLayers=function(F){var Z=this.layers,W=["draglayer","plotbg","backplot","grids"];"below traces"===F.aaxis.layer&&W.push("aaxis","aline"),"below traces"===F.baxis.layer&&W.push("baxis","bline"),"below traces"===F.caxis.layer&&W.push("caxis","cline"),W.push("frontplot"),"above traces"===F.aaxis.layer&&W.push("aaxis","aline"),"above traces"===F.baxis.layer&&W.push("baxis","bline"),"above traces"===F.caxis.layer&&W.push("caxis","cline");var H=this.plotContainer.selectAll("g.toplevel").data(W,String),G=["agrid","bgrid","cgrid"];H.enter().append("g").attr("class",function(Y){return"toplevel "+Y}).each(function(Y){var se=D.select(this);Z[Y]=se,"frontplot"===Y?se.append("g").classed("scatterlayer",!0):"backplot"===Y?se.append("g").classed("maplayer",!0):"plotbg"===Y?se.append("path").attr("d","M0,0Z"):"aline"===Y||"bline"===Y||"cline"===Y?se.append("path"):"grids"===Y&&G.forEach(function(te){Z[te]=se.append("g").classed("grid "+te,!0)})}),H.order()};var k=Math.sqrt(4/3);O.adjustLayout=function(F,Z){var W,H,G,Y,se,te,re=this,Q=F.domain,ee=(Q.x[0]+Q.x[1])/2,oe=(Q.y[0]+Q.y[1])/2,le=Q.x[1]-Q.x[0],ue=Q.y[1]-Q.y[0],de=le*Z.w,he=ue*Z.h,we=F.sum,Ae=F.aaxis.min,Te=F.baxis.min,ve=F.caxis.min;de>k*he?G=(Y=he)*k:Y=(G=de)/k,se=le*G/de,te=ue*Y/he,H=Z.t+Z.h*(1-oe)-Y/2,re.x0=W=Z.l+Z.w*ee-G/2,re.y0=H,re.w=G,re.h=Y,re.sum=we,re.xaxis={type:"linear",range:[Ae+2*ve-we,we-Ae-2*Te],domain:[ee-se/2,ee+se/2],_id:"x"},s(re.xaxis,re.graphDiv._fullLayout),re.xaxis.setScale(),re.xaxis.isPtWithinRange=function(Ue){return Ue.a>=re.aaxis.range[0]&&Ue.a<=re.aaxis.range[1]&&Ue.b>=re.baxis.range[1]&&Ue.b<=re.baxis.range[0]&&Ue.c>=re.caxis.range[1]&&Ue.c<=re.caxis.range[0]},re.yaxis={type:"linear",range:[Ae,we-Te-ve],domain:[oe-te/2,oe+te/2],_id:"y"},s(re.yaxis,re.graphDiv._fullLayout),re.yaxis.setScale(),re.yaxis.isPtWithinRange=function(){return!0};var xe=re.yaxis.domain[0],Fe=re.aaxis=a({},F.aaxis,{range:[Ae,we-Te-ve],side:"left",tickangle:(+F.aaxis.tickangle||0)-30,domain:[xe,xe+te*k],anchor:"free",position:0,_id:"y",_length:G});s(Fe,re.graphDiv._fullLayout),Fe.setScale();var Se=re.baxis=a({},F.baxis,{range:[we-Ae-ve,Te],side:"bottom",domain:re.xaxis.domain,anchor:"free",position:0,_id:"x",_length:G});s(Se,re.graphDiv._fullLayout),Se.setScale();var ke=re.caxis=a({},F.caxis,{range:[we-Ae-Te,ve],side:"right",tickangle:(+F.caxis.tickangle||0)+30,domain:[xe,xe+te*k],anchor:"free",position:0,_id:"y",_length:G});s(ke,re.graphDiv._fullLayout),ke.setScale();var pe="M"+W+","+(H+Y)+"h"+G+"l-"+G/2+",-"+Y+"Z";re.clipDef.select("path").attr("d",pe),re.layers.plotbg.select("path").attr("d",pe);var fe="M0,"+Y+"h"+G+"l-"+G/2+",-"+Y+"Z";re.clipDefRelative.select("path").attr("d",fe);var be=M(W,H);re.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",be),re.clipDefRelative.select("path").attr("transform",null);var Le=M(W-Se._offset,H+Y);re.layers.baxis.attr("transform",Le),re.layers.bgrid.attr("transform",Le);var Oe=M(W+G/2,H)+"rotate(30)"+M(0,-Fe._offset);re.layers.aaxis.attr("transform",Oe),re.layers.agrid.attr("transform",Oe);var De=M(W+G/2,H)+"rotate(-30)"+M(0,-ke._offset);re.layers.caxis.attr("transform",De),re.layers.cgrid.attr("transform",De),re.drawAxes(!0),re.layers.aline.select("path").attr("d",Fe.showline?"M"+W+","+(H+Y)+"l"+G/2+",-"+Y:"M0,0").call(c.stroke,Fe.linecolor||"#000").style("stroke-width",(Fe.linewidth||0)+"px"),re.layers.bline.select("path").attr("d",Se.showline?"M"+W+","+(H+Y)+"h"+G:"M0,0").call(c.stroke,Se.linecolor||"#000").style("stroke-width",(Se.linewidth||0)+"px"),re.layers.cline.select("path").attr("d",ke.showline?"M"+(W+G/2)+","+H+"l"+G/2+","+Y:"M0,0").call(c.stroke,ke.linecolor||"#000").style("stroke-width",(ke.linewidth||0)+"px"),re.graphDiv._context.staticPlot||re.initInteractions(),i.setClipUrl(re.layers.frontplot,re._hasClipOnAxisFalse?null:re.clipId,re.graphDiv)},O.drawAxes=function(F){var Z=this,W=Z.graphDiv,H=Z.id.substr(7)+"title",G=Z.layers,Y=Z.aaxis,se=Z.baxis,te=Z.caxis;if(Z.drawAx(Y),Z.drawAx(se),Z.drawAx(te),F){var re=Math.max(Y.showticklabels?Y.tickfont.size/2:0,(te.showticklabels?.75*te.tickfont.size:0)+("outside"===te.ticks?.87*te.ticklen:0)),Q=(se.showticklabels?se.tickfont.size:0)+("outside"===se.ticks?se.ticklen:0)+3;G["a-title"]=_.draw(W,"a"+H,{propContainer:Y,propName:Z.id+".aaxis.title",placeholder:v(W,"Click to enter Component A title"),attributes:{x:Z.x0+Z.w/2,y:Z.y0-Y.title.font.size/3-re,"text-anchor":"middle"}}),G["b-title"]=_.draw(W,"b"+H,{propContainer:se,propName:Z.id+".baxis.title",placeholder:v(W,"Click to enter Component B title"),attributes:{x:Z.x0-Q,y:Z.y0+Z.h+.83*se.title.font.size+Q,"text-anchor":"middle"}}),G["c-title"]=_.draw(W,"c"+H,{propContainer:te,propName:Z.id+".caxis.title",placeholder:v(W,"Click to enter Component C title"),attributes:{x:Z.x0+Z.w+Q,y:Z.y0+Z.h+.83*te.title.font.size+Q,"text-anchor":"middle"}})}},O.drawAx=function(F){var Z,W=this,H=W.graphDiv,G=F._name,Y=G.charAt(0),se=F._id,te=W.layers[G],re=Y+"tickLayout",Q=(Z=F).ticks+String(Z.ticklen)+String(Z.showticklabels);W[re]!==Q&&(te.selectAll("."+se+"tick").remove(),W[re]=Q),F.setScale();var ee=l.calcTicks(F),oe=l.clipEnds(F,ee),le=l.makeTransTickFn(F),ue=l.getTickSigns(F)[2],de=S.deg2rad(30),he=ue*(F.linewidth||1)/2,we=ue*F.ticklen,Ae=W.w,Te=W.h,ve="b"===Y?"M0,"+he+"l"+Math.sin(de)*we+","+Math.cos(de)*we:"M"+he+",0l"+Math.cos(de)*we+","+-Math.sin(de)*we,xe={a:"M0,0l"+Te+",-"+Ae/2,b:"M0,0l-"+Ae/2+",-"+Te,c:"M0,0l-"+Te+","+Ae/2}[Y];l.drawTicks(H,F,{vals:"inside"===F.ticks?oe:ee,layer:te,path:ve,transFn:le,crisp:!1}),l.drawGrid(H,F,{vals:oe,layer:W.layers[Y+"grid"],path:xe,transFn:le,crisp:!1}),l.drawLabels(H,F,{vals:ee,layer:te,transFn:le,labelFns:l.makeLabelFns(F,0,30)})};var I=A.MINZOOM/2+.87,P="m-0.87,.5h"+I+"v3h-"+(I+5.2)+"l"+(I/2+2.6)+",-"+(.87*I+4.5)+"l2.6,1.5l-"+I/2+","+.87*I+"Z",R="m0.87,.5h-"+I+"v3h"+(I+5.2)+"l-"+(I/2+2.6)+",-"+(.87*I+4.5)+"l-2.6,1.5l"+I/2+","+.87*I+"Z",N="m0,1l"+I/2+","+.87*I+"l2.6,-1.5l-"+(I/2+2.6)+",-"+(.87*I+4.5)+"l-"+(I/2+2.6)+","+(.87*I+4.5)+"l2.6,1.5l"+I/2+",-"+.87*I+"Z",j=!0;function X(F){D.select(F).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}O.clearOutline=function(){b(this.dragOptions),x(this.dragOptions.gd)},O.initInteractions=function(){var F,Z,W,H,G,Y,se,te,re,Q,ee,oe,le=this,ue=le.layers.plotbg.select("path").node(),de=le.graphDiv,he=de._fullLayout._zoomlayer;function we(fe){var be={};return be[le.id+".aaxis.min"]=fe.a,be[le.id+".baxis.min"]=fe.b,be[le.id+".caxis.min"]=fe.c,be}function Ae(fe,be){var Le=de._fullLayout.clickmode;X(de),2===fe&&(de.emit("plotly_doubleclick",null),f.call("_guiRelayout",de,we({a:0,b:0,c:0}))),Le.indexOf("select")>-1&&1===fe&&w(be,de,[le.xaxis],[le.yaxis],le.id,le.dragOptions),Le.indexOf("event")>-1&&d.click(de,be,le.id)}function Te(fe,be){return 1-be/le.h}function ve(fe,be){return 1-(fe+(le.h-be)/Math.sqrt(3))/le.w}function xe(fe,be){return(fe-(le.h-be)/Math.sqrt(3))/le.w}function Fe(fe,be){var Le=W+fe*F,Oe=H+be*Z,De=Math.max(0,Math.min(1,Te(0,H),Te(0,Oe))),Ue=Math.max(0,Math.min(1,ve(W,H),ve(Le,Oe))),Ge=Math.max(0,Math.min(1,xe(W,H),xe(Le,Oe))),ye=(De/2+Ge)*le.w,Ie=(1-De/2-Ue)*le.w,Ee=(ye+Ie)/2,Be=Ie-ye,We=(1-De)*le.h,He=We-Be/k;Be<A.MINZOOM?(se=G,ee.attr("d",re),oe.attr("d","M0,0Z")):(se={a:G.a+De*Y,b:G.b+Ue*Y,c:G.c+Ge*Y},ee.attr("d",re+"M"+ye+","+We+"H"+Ie+"L"+Ee+","+He+"L"+ye+","+We+"Z"),oe.attr("d","M"+W+","+H+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+ye+","+We+P+"M"+Ie+","+We+R+"M"+Ee+","+He+N)),Q||(ee.transition().style("fill",te>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),oe.transition().style("opacity",1).duration(200),Q=!0),de.emit("plotly_relayouting",we(se))}function Se(){X(de),se!==G&&(f.call("_guiRelayout",de,we(se)),j&&de.data&&de._context.showTips&&(S.notifier(v(de,"Double-click to zoom back out"),"long"),j=!1))}function ke(fe,be){var Le=fe/le.xaxis._m,Oe=be/le.yaxis._m,De=[(se={a:G.a-Oe,b:G.b+(Le+Oe)/2,c:G.c-(Le-Oe)/2}).a,se.b,se.c].sort(S.sorterAsc),Ue=De.indexOf(se.a),Ge=De.indexOf(se.b),ye=De.indexOf(se.c);De[0]<0&&(De[1]+De[0]/2<0?(De[2]+=De[0]+De[1],De[0]=De[1]=0):(De[2]+=De[0]/2,De[1]+=De[0]/2,De[0]=0),be=(G.a-(se={a:De[Ue],b:De[Ge],c:De[ye]}).a)*le.yaxis._m,fe=(G.c-se.c-G.b+se.b)*le.xaxis._m);var Ie=M(le.x0+fe,le.y0+be);le.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ie);var Ee=M(-fe,-be);le.clipDefRelative.select("path").attr("transform",Ee),le.aaxis.range=[se.a,le.sum-se.b-se.c],le.baxis.range=[le.sum-se.a-se.c,se.b],le.caxis.range=[le.sum-se.a-se.b,se.c],le.drawAxes(!1),le._hasClipOnAxisFalse&&le.plotContainer.select(".scatterlayer").selectAll(".trace").call(i.hideOutsideRangePoints,le),de.emit("plotly_relayouting",we(se))}function pe(){f.call("_guiRelayout",de,we(se))}this.dragOptions={element:ue,gd:de,plotinfo:{id:le.id,domain:de._fullLayout[le.id].domain,xaxis:le.xaxis,yaxis:le.yaxis},subplot:le.id,prepFn:function(fe,be,Le){le.dragOptions.xaxes=[le.xaxis],le.dragOptions.yaxes=[le.yaxis],F=de._fullLayout._invScaleX,Z=de._fullLayout._invScaleY;var Oe=le.dragOptions.dragmode=de._fullLayout.dragmode;le.dragOptions.minDrag=h(Oe)?1:void 0,"zoom"===Oe?(le.dragOptions.moveFn=Fe,le.dragOptions.clickFn=Ae,le.dragOptions.doneFn=Se,function(De,Ue,Ge){var ye=ue.getBoundingClientRect();W=Ue-ye.left,H=Ge-ye.top,de._fullLayout._calcInverseTransform(de);var Ee=S.apply3DTransform(de._fullLayout._invTransform)(W,H);W=Ee[0],H=Ee[1],se=G={a:le.aaxis.range[0],b:le.baxis.range[1],c:le.caxis.range[1]},Y=le.aaxis.range[1]-G.a,te=E(le.graphDiv._fullLayout[le.id].bgcolor).getLuminance(),re="M0,"+le.h+"L"+le.w/2+", 0L"+le.w+","+le.h+"Z",Q=!1,ee=he.append("path").attr("class","zoombox").attr("transform",M(le.x0,le.y0)).style({fill:te>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",re),oe=he.append("path").attr("class","zoombox-corners").attr("transform",M(le.x0,le.y0)).style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),le.clearOutline(de)}(0,be,Le)):"pan"===Oe?(le.dragOptions.moveFn=ke,le.dragOptions.clickFn=Ae,le.dragOptions.doneFn=pe,se=G={a:le.aaxis.range[0],b:le.baxis.range[1],c:le.caxis.range[1]},le.clearOutline(de)):(T(Oe)||h(Oe))&&g(fe,be,Le,le.dragOptions,Oe)}},ue.onmousemove=function(fe){d.hover(de,fe,le.id),de._fullLayout._lasthover=ue,de._fullLayout._hoversubplot=le.id},ue.onmouseout=function(fe){de._dragging||u.unhover(de,fe)},u.init(this.dragOptions)}},73972:function(ae,B,r){"use strict";var D=r(47769),E=r(64213),f=r(75138),S=r(41965),M=r(24401).addStyleRule,v=r(1426),c=r(9012),i=r(10820),s=v.extendFlat,a=v.extendDeepAll;function o(w){var x=w.name,b=w.categories,A=w.meta;if(B.modules[x])D.log("Type "+x+" already registered");else{B.subplotsRegistry[w.basePlotModule.name]||function(j){var X=j.name;if(B.subplotsRegistry[X])D.log("Plot type "+X+" already registered.");else for(var F in m(j),B.subplotsRegistry[X]=j,B.componentsRegistry)_(F,j.name)}(w.basePlotModule);for(var p={},O=0;O<b.length;O++)p[b[O]]=!0,B.allCategories[b[O]]=!0;for(var k in B.modules[x]={_module:w,categories:p},A&&Object.keys(A).length&&(B.modules[x].meta=A),B.allTypes.push(x),B.componentsRegistry)h(k,x);w.layoutAttributes&&s(B.traceLayoutAttributes,w.layoutAttributes);var I=w.basePlotModule,P=I.name;if("mapbox"===P){var R=I.constants.styleRules;for(var N in R)M(".js-plotly-plot .plotly .mapboxgl-"+N,R[N])}"geo"!==P&&"mapbox"!==P||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function l(w){if("string"!=typeof w.name)throw new Error("Component module *name* must be a string.");var x=w.name;for(var b in B.componentsRegistry[x]=w,w.layoutAttributes&&(w.layoutAttributes._isLinkedToArray&&f(B.layoutArrayContainers,x),m(w)),B.modules)h(x,b);for(var A in B.subplotsRegistry)_(x,A);for(var p in B.transformsRegistry)T(x,p);w.schema&&w.schema.layout&&a(i,w.schema.layout)}function u(w){if("string"!=typeof w.name)throw new Error("Transform module *name* must be a string.");var x="Transform module "+w.name,b="function"==typeof w.transform,A="function"==typeof w.calcTransform;if(!b&&!A)throw new Error(x+" is missing a *transform* or *calcTransform* method.");for(var p in b&&A&&D.log([x+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),S(w.attributes)||D.log(x+" registered without an *attributes* object."),"function"!=typeof w.supplyDefaults&&D.log(x+" registered without a *supplyDefaults* method."),B.transformsRegistry[w.name]=w,B.componentsRegistry)T(p,w.name)}function d(w){var x=w.name,b=x.split("-")[0],A=w.dictionary,p=w.format,O=A&&Object.keys(A).length,k=p&&Object.keys(p).length,I=B.localeRegistry,P=I[x];if(P||(I[x]=P={}),b!==x){var R=I[b];R||(I[b]=R={}),O&&R.dictionary===P.dictionary&&(R.dictionary=A),k&&R.format===P.format&&(R.format=p)}O&&(P.dictionary=A),k&&(P.format=p)}function m(w){if(w.layoutAttributes){var x=w.layoutAttributes._arrayAttrRegexps;if(x)for(var b=0;b<x.length;b++)f(B.layoutArrayRegexes,x[b])}}function h(w,x){var b=B.componentsRegistry[w].schema;if(b&&b.traces){var A=b.traces[x];A&&a(B.modules[x]._module.attributes,A)}}function T(w,x){var b=B.componentsRegistry[w].schema;if(b&&b.transforms){var A=b.transforms[x];A&&a(B.transformsRegistry[x].attributes,A)}}function _(w,x){var b=B.componentsRegistry[w].schema;if(b&&b.subplots){var A=B.subplotsRegistry[x],p=A.layoutAttributes,O="subplot"===A.attr?A.name:A.attr;Array.isArray(O)&&(O=O[0]);var k=b.subplots[O];p&&k&&a(p,k)}}function g(w){return"object"==typeof w&&(w=w.type),w}B.modules={},B.allCategories={},B.allTypes=[],B.subplotsRegistry={},B.transformsRegistry={},B.componentsRegistry={},B.layoutArrayContainers=[],B.layoutArrayRegexes=[],B.traceLayoutAttributes={},B.localeRegistry={},B.apiMethodRegistry={},B.collectableSubplotTypes=null,B.register=function(w){if(B.collectableSubplotTypes=null,!w)throw new Error("No argument passed to Plotly.register.");w&&!Array.isArray(w)&&(w=[w]);for(var x=0;x<w.length;x++){var b=w[x];if(!b)throw new Error("Invalid module was attempted to be registered!");switch(b.moduleType){case"trace":o(b);break;case"transform":u(b);break;case"component":l(b);break;case"locale":d(b);break;case"apiMethod":B.apiMethodRegistry[b.name]=b.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},B.getModule=function(w){var x=B.modules[g(w)];return!!x&&x._module},B.traceIs=function(w,x){if("various"===(w=g(w)))return!1;var b=B.modules[w];return b||(w&&D.log("Unrecognized trace type "+w+"."),b=B.modules[c.type.dflt]),!!b.categories[x]},B.getTransformIndices=function(w,x){for(var b=[],A=w.transforms||[],p=0;p<A.length;p++)A[p].type===x&&b.push(p);return b},B.hasTransform=function(w,x){for(var b=w.transforms||[],A=0;A<b.length;A++)if(b[A].type===x)return!0;return!1},B.getComponentMethod=function(w,x){var b=B.componentsRegistry[w];return b&&b[x]||E},B.call=function(){var w=arguments[0],x=[].slice.call(arguments,1);return B.apiMethodRegistry[w].apply(null,x)}},61914:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=E.extendFlat,S=E.extendDeep;function M(v){var c;switch(v){case"themes__thumb":c={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":c={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:c={}}return c}ae.exports=function(v,c){var i,o=v.layout,l=S([],v.data),u=S({},o,M(c.tileClass)),d=v._context||{};if(c.width&&(u.width=c.width),c.height&&(u.height=c.height),"thumbnail"===c.tileClass||"themes__thumb"===c.tileClass){u.annotations=[];var m=Object.keys(u);for(i=0;i<m.length;i++)["xaxis","yaxis","zaxis"].indexOf(m[i].slice(0,5))>-1&&(u[m[i]].title={text:""});for(i=0;i<l.length;i++){var h=l[i];h.showscale=!1,h.marker&&(h.marker.showscale=!1),D.traceIs(h,"pie-like")&&(h.textposition="none")}}if(Array.isArray(c.annotations))for(i=0;i<c.annotations.length;i++)u.annotations.push(c.annotations[i]);var T=Object.keys(u).filter(function(b){return b.match(/^scene\d*$/)});if(T.length){var _={};for("thumbnail"===c.tileClass&&(_={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<T.length;i++){var g=u[T[i]];g.xaxis||(g.xaxis={}),g.yaxis||(g.yaxis={}),g.zaxis||(g.zaxis={}),f(g.xaxis,_),f(g.yaxis,_),f(g.zaxis,_),g._scene=null}}var w=document.createElement("div");c.tileClass&&(w.className=c.tileClass);var x={gd:w,td:w,layout:u,data:l,config:{staticPlot:void 0===c.staticPlot||c.staticPlot,plotGlPixelRatio:void 0===c.plotGlPixelRatio?2:c.plotGlPixelRatio,displaylogo:c.displaylogo||!1,showLink:c.showLink||!1,showTips:c.showTips||!1,mapboxAccessToken:d.mapboxAccessToken}};return"transparent"!==c.setBackground&&(x.config.setBackground=c.setBackground||"opaque"),x.gd.defaultLayout=M(c.tileClass),x}},7239:function(ae,B,r){"use strict";var D=r(71828),E=r(403),f=r(22435),S=r(25095);ae.exports=function(M,v){var c;return D.isPlainObject(M)||(c=D.getGraphDiv(M)),(v=v||{}).format=v.format||"png",v.width=v.width||null,v.height=v.height||null,v.imageDataOnly=!0,new Promise(function(i,s){c&&c._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),D.isIE()&&"svg"!==v.format&&s(new Error(S.MSG_IE_BAD_FORMAT)),c&&(c._snapshotInProgress=!0);var a=E(M,v),o=v.filename||M.fn||"newplot";o+="."+v.format.replace("-","."),a.then(function(l){return c&&(c._snapshotInProgress=!1),f(l,o,v.format)}).then(function(l){i(l)}).catch(function(l){c&&(c._snapshotInProgress=!1),s(l)})})}},22435:function(ae,B,r){"use strict";var D=r(71828),E=r(25095);ae.exports=function(f,S,M){var v=document.createElement("a"),c="download"in v;return new Promise(function(i,s){var a,o;return D.isIE()?(a=E.createBlob(f,"svg"),window.navigator.msSaveBlob(a,S),a=null,i(S)):c?(a=E.createBlob(f,M),o=E.createObjectURL(a),v.href=o,v.download=S,document.body.appendChild(v),v.click(),document.body.removeChild(v),E.revokeObjectURL(o),a=null,i(S)):D.isSafari()?(E.octetStream(("svg"===M?",":";base64,")+encodeURIComponent(f)),i(S)):void s(new Error("download error"))})}},25095:function(ae,B,r){"use strict";var D=r(73972);B.getDelay=function(f){return f._has&&(f._has("gl3d")||f._has("gl2d")||f._has("mapbox"))?500:0},B.getRedrawFunc=function(f){return function(){D.getComponentMethod("colorbar","draw")(f)}},B.encodeSVG=function(f){return"data:image/svg+xml,"+encodeURIComponent(f)},B.encodeJSON=function(f){return"data:application/json,"+encodeURIComponent(f)};var E=window.URL||window.webkitURL;B.createObjectURL=function(f){return E.createObjectURL(f)},B.revokeObjectURL=function(f){return E.revokeObjectURL(f)},B.createBlob=function(f,S){if("svg"===S)return new window.Blob([f],{type:"image/svg+xml;charset=utf-8"});if("full-json"===S)return new window.Blob([f],{type:"application/json;charset=utf-8"});var M=function(v){for(var c=v.length,i=new ArrayBuffer(c),s=new Uint8Array(i),a=0;a<c;a++)s[a]=v.charCodeAt(a);return i}(window.atob(f));return new window.Blob([M],{type:"image/"+S})},B.octetStream=function(f){document.location.href="data:application/octet-stream"+f},B.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,B.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(ae,B,r){"use strict";var D=r(25095),E={getDelay:D.getDelay,getRedrawFunc:D.getRedrawFunc,clone:r(61914),toSVG:r(5900),svgToImg:r(70942),toImage:r(56395),downloadImage:r(7239)};ae.exports=E},70942:function(ae,B,r){"use strict";var D=r(71828),E=r(15398).EventEmitter,f=r(25095);ae.exports=function(S){var M=S.emitter||new E,v=new Promise(function(c,i){var s=window.Image,a=S.svg,o=S.format||"png";if(D.isIE()&&"svg"!==o){var l=new Error(f.MSG_IE_BAD_FORMAT);return i(l),S.promise?v:M.emit("error",l)}var u,d,m=S.canvas,h=S.scale||1,g=h*(S.width||300),w=h*(S.height||150),x=m.getContext("2d",{willReadFrequently:!0}),b=new s;"svg"===o||D.isSafari()?d=f.encodeSVG(a):(u=f.createBlob(a,"svg"),d=f.createObjectURL(u)),m.width=g,m.height=w,b.onload=function(){var A;switch(u=null,f.revokeObjectURL(d),"svg"!==o&&x.drawImage(b,0,0,g,w),o){case"jpeg":A=m.toDataURL("image/jpeg");break;case"png":A=m.toDataURL("image/png");break;case"webp":A=m.toDataURL("image/webp");break;case"svg":A=d;break;default:var p="Image format is not jpeg, png, svg or webp.";if(i(new Error(p)),!S.promise)return M.emit("error",p)}c(A),S.promise||M.emit("success",A)},b.onerror=function(A){if(u=null,f.revokeObjectURL(d),i(A),!S.promise)return M.emit("error",A)},b.src=d});return S.promise?v:M}},56395:function(ae,B,r){"use strict";var D=r(15398).EventEmitter,E=r(73972),f=r(71828),S=r(25095),M=r(61914),v=r(5900),c=r(70942);ae.exports=function(i,s){var a=new D,o=M(i,{format:"png"}),l=o.gd;l.style.position="absolute",l.style.left="-5000px",document.body.appendChild(l);var u=S.getRedrawFunc(l);return E.call("_doPlot",l,o.data,o.layout,o.config).then(u).then(function(){var d=S.getDelay(l._fullLayout);setTimeout(function(){var m=v(l),h=document.createElement("canvas");h.id=f.randstr(),(a=c({format:s.format,width:l._fullLayout.width,height:l._fullLayout.height,canvas:h,emitter:a,svg:m})).clean=function(){l&&document.body.removeChild(l)}},d)}).catch(function(d){a.emit("error",d)}),a}},5900:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424),S=r(7901),M=r(77922),v=/"/g,c="TOBESTRIPPED",i=new RegExp('("'+c+")|("+c+'")',"g");ae.exports=function(s,a,o){var l,u=s._fullLayout,d=u._paper,m=u._toppaper,h=u.width,T=u.height;d.insert("rect",":first-child").call(f.setRect,0,0,h,T).call(S.fill,u.paper_bgcolor);var _=u._basePlotModules||[];for(l=0;l<_.length;l++){var g=_[l];g.toSVG&&g.toSVG(s)}if(m){var w=m.node().childNodes,x=Array.prototype.slice.call(w);for(l=0;l<x.length;l++){var b=x[l];b.childNodes.length&&d.node().appendChild(b)}}u._draggers&&u._draggers.remove(),d.node().style.background="",d.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var p=D.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){p.style({visibility:null,display:null});var O=this.style.fontFamily;O&&-1!==O.indexOf('"')&&p.style("font-family",O.replace(v,c))}else p.remove()}),d.selectAll(".gradient_filled,.pattern_filled").each(function(){var p=D.select(this),O=this.style.fill;O&&-1!==O.indexOf("url(")&&p.style("fill",O.replace(v,c));var k=this.style.stroke;k&&-1!==k.indexOf("url(")&&p.style("stroke",k.replace(v,c))}),"pdf"!==a&&"eps"!==a||d.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),d.node().setAttributeNS(M.xmlns,"xmlns",M.svg),d.node().setAttributeNS(M.xmlns,"xmlns:xlink",M.xlink),"svg"===a&&o&&(d.attr("width",o*h),d.attr("height",o*T),d.attr("viewBox","0 0 "+h+" "+T));var p,O,k,A=(new window.XMLSerializer).serializeToString(d.node());return A=(A=(p=A,O=D.select("body").append("div").style({display:"none"}).html(""),k=p.replace(/(&[^;]*;)/gi,function(I){return"&lt;"===I?"&#60;":"&rt;"===I?"&#62;":-1!==I.indexOf("<")||-1!==I.indexOf(">")?"":O.html(I).text()}),O.remove(),A=k).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(i,"'"),E.isIE()&&(A=(A=(A=A.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),A}},75341:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f){for(var S=0;S<E.length;S++)E[S].i=S;D.mergeArray(f.text,E,"tx"),D.mergeArray(f.hovertext,E,"htx");var M=f.marker;if(M){D.mergeArray(M.opacity,E,"mo",!0),D.mergeArray(M.color,E,"mc");var v=M.line;v&&(D.mergeArray(v.color,E,"mlc"),D.mergeArrayCastPositive(v.width,E,"mlw"))}}},1486:function(ae,B,r){"use strict";var D=r(82196),E=r(12663).axisHoverFormat,f=r(5386).fF,S=r(5386).si,M=r(50693),v=r(41940),c=r(97313),i=r(79952).u,s=r(1426).extendFlat,a=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),o=s({},D.marker.line.width,{dflt:0}),l=s({width:o,editType:"calc"},M("marker.line")),u=s({line:l,editType:"calc"},M("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:i});ae.exports={x:D.x,x0:D.x0,dx:D.dx,y:D.y,y0:D.y0,dy:D.dy,xperiod:D.xperiod,yperiod:D.yperiod,xperiod0:D.xperiod0,yperiod0:D.yperiod0,xperiodalignment:D.xperiodalignment,yperiodalignment:D.yperiodalignment,xhoverformat:E("x"),yhoverformat:E("y"),text:D.text,texttemplate:S({editType:"plot"},{keys:c.eventDataKeys}),hovertext:D.hovertext,hovertemplate:f({},{keys:c.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:s({},a,{}),insidetextfont:s({},a,{}),outsidetextfont:s({},a,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:s({},D.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:u,offsetgroup:D.offsetgroup,alignmentgroup:D.alignmentgroup,selected:{marker:{opacity:D.selected.marker.opacity,color:D.selected.marker.color,editType:"style"},textfont:D.selected.textfont,editType:"style"},unselected:{marker:{opacity:D.unselected.marker.opacity,color:D.unselected.marker.color,editType:"style"},textfont:D.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(ae,B,r){"use strict";var D=r(89298),E=r(42973),f=r(52075).hasColorscale,S=r(78803),M=r(75341),v=r(66279);ae.exports=function(c,i){var s,a,o,l,u,d,m=D.getFromId(c,i.xaxis||"x"),h=D.getFromId(c,i.yaxis||"y"),T={msUTC:!(!i.base&&0!==i.base)};"h"===i.orientation?(s=m.makeCalcdata(i,"x",T),o=h.makeCalcdata(i,"y"),l=E(i,h,"y",o),u=!!i.yperiodalignment,d="y"):(s=h.makeCalcdata(i,"y",T),o=m.makeCalcdata(i,"x"),l=E(i,m,"x",o),u=!!i.xperiodalignment,d="x"),a=l.vals;for(var _=Math.min(a.length,s.length),g=new Array(_),w=0;w<_;w++)g[w]={p:a[w],s:s[w]},u&&(g[w].orig_p=o[w],g[w][d+"End"]=l.ends[w],g[w][d+"Start"]=l.starts[w]),i.ids&&(g[w].id=String(i.ids[w]));return f(i,"marker")&&S(c,i,{vals:i.marker.color,containerStr:"marker",cLetter:"c"}),f(i,"marker.line")&&S(c,i,{vals:i.marker.line.color,containerStr:"marker.line",cLetter:"c"}),M(g,i),v(g,i),g}},97313:function(ae){"use strict";ae.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(ae,B,r){"use strict";var D=r(92770),E=r(71828).isArrayOrTypedArray,f=r(50606).BADNUM,S=r(73972),M=r(89298),v=r(99082).getAxisGroup,c=r(61546);function i(_,g,w,x,b){if(x.length){var A,p,O,k;switch(function(I,P){var R,N;for(R=0;R<P.length;R++){var j,X=P[R],F=X[0].trace,Z="funnel"===F.type?F._base:F.base,W="h"===F.orientation?F.xcalendar:F.ycalendar,H="category"===I.type||"multicategory"===I.type?function(){return null}:I.d2c;if(E(Z)){for(N=0;N<Math.min(Z.length,X.length);N++)j=H(Z[N],0,W),D(j)?(X[N].b=+j,X[N].hasB=1):X[N].b=0;for(;N<X.length;N++)X[N].b=0}else{j=H(Z,0,W);var G=D(j);for(j=G?j:0,N=0;N<X.length;N++)X[N].b=j,G&&(X[N].hasB=1)}}}(w,x),b.mode){case"overlay":s(g,w,x,b);break;case"group":for(A=[],p=[],O=0;O<x.length;O++)void 0===(k=x[O])[0].trace.offset?p.push(k):A.push(k);p.length&&(I=_,R=w,X=new c(p,{posAxis:P=g,sepNegVal:!1,overlapNoMerge:!(j=b).norm}),function(F,Z,W,H){for(var G=F._fullLayout,te=W.minDiff,re=W.traces,Q=re.length,ee=W.positions.length!==W.distinctPositions.length,oe=te*(1-H.gap),le=v(G,Z._id)+re[0][0].trace.orientation,ue=G._alignmentOpts[le]||{},de=0;de<Q;de++){var he,we,Ae=re[de],Te=Ae[0].trace,xe=Object.keys((ue[Te.alignmentgroup]||{}).offsetGroups||{}).length,Fe=(he=xe?oe/xe:ee?oe/Q:oe)*(1-(H.groupgap||0));we=xe?((2*Te._offsetIndex+1-xe)*he-Fe)/2:ee?((2*de+1-Q)*he-Fe)/2:-Fe/2;var Se=Ae[0].t;Se.barwidth=Fe,Se.poffset=we,Se.bargroupwidth=oe,Se.bardelta=te}W.binWidth=re[0][0].t.barwidth/100,o(W),l(Z,W),u(Z,W,ee)}(I,P,X,j),function(F,Z){for(var W=F.traces,H=0;H<W.length;H++){var G=W[H];if(void 0===G[0].trace.base)for(var Y=new c([G],{posAxis:Z,sepNegVal:!0,overlapNoMerge:!0}),se=0;se<G.length;se++){var te=G[se];if(te.p!==f){var re=Y.put(te.p,te.b+te.s);re&&(te.b=re)}}}}(X,P),j.norm?(m(X),h(R,X,j)):d(R,X)),A.length&&s(g,w,A,b);break;case"stack":case"relative":for(A=[],p=[],O=0;O<x.length;O++)void 0===(k=x[O])[0].trace.base?p.push(k):A.push(k);p.length&&function(I,P,R,N,j){var X=new c(N,{posAxis:P,sepNegVal:"relative"===j.mode,overlapNoMerge:!(j.norm||"stack"===j.mode||"relative"===j.mode)});a(P,X,j),function(G,Y,se){var te,re,Q,ee,oe,le,ue=T(G),de=Y.traces;for(ee=0;ee<de.length;ee++)if("funnel"===(re=(te=de[ee])[0].trace).type)for(oe=0;oe<te.length;oe++)(le=te[oe]).s!==f&&Y.put(le.p,-.5*le.s);for(ee=0;ee<de.length;ee++){Q="funnel"===(re=(te=de[ee])[0].trace).type;var he=[];for(oe=0;oe<te.length;oe++)if((le=te[oe]).s!==f){var we,Ae=Y.put(le.p,we=Q?le.s:le.s+le.b),Te=Ae+we;le.b=Ae,le[ue]=Te,se.norm||(he.push(Te),le.hasB&&he.push(Ae))}se.norm||(re._extremes[G._id]=M.findExtremes(G,he,{tozero:!0,padded:!0}))}}(R,X,j);for(var F=0;F<N.length;F++)for(var Z=N[F],W=0;W<Z.length;W++){var H=Z[W];H.s!==f&&H.b+H.s===X.get(H.p,H.s)&&(H._outmost=!0)}j.norm&&h(R,X,j)}(0,g,w,p,b),A.length&&s(g,w,A,b)}!function(I,P){var R,N,j,X=T(P),F={},Z=1/0,W=-1/0;for(R=0;R<I.length;R++)for(j=I[R],N=0;N<j.length;N++){var H=j[N].p;D(H)&&(Z=Math.min(Z,H),W=Math.max(W,H))}var G=1e4/(W-Z),Y=F.round=function(le){return String(Math.round(G*(le-Z)))};for(R=0;R<I.length;R++){(j=I[R])[0].t.extents=F;var se=j[0].t.poffset,te=Array.isArray(se);for(N=0;N<j.length;N++){var re=j[N],Q=re[X]-re.w/2;if(D(Q)){var ee=re[X]+re.w/2,oe=Y(re.p);F[oe]=F[oe]?[Math.min(Q,F[oe][0]),Math.max(ee,F[oe][1])]:[Q,ee]}re.p0=re.p+(te?se[N]:se),re.p1=re.p0+re.w,re.s0=re.b,re.s1=re.s0+re.s}}}(x,g)}var I,P,R,j,X}function s(_,g,w,x){for(var b=0;b<w.length;b++){var p=new c([w[b]],{posAxis:_,sepNegVal:!1,overlapNoMerge:!x.norm});a(_,p,x),x.norm?(m(p),h(g,p,x)):d(g,p)}}function a(_,g,w){for(var x=g.minDiff,b=g.traces,A=x*(1-w.gap),p=A*(1-(w.groupgap||0)),O=-p/2,k=0;k<b.length;k++){var I=b[k][0].t;I.barwidth=p,I.poffset=O,I.bargroupwidth=A,I.bardelta=x}g.binWidth=b[0][0].t.barwidth/100,o(g),l(_,g),u(_,g)}function o(_){var g,w,x=_.traces;for(g=0;g<x.length;g++){var b,A=x[g],p=A[0],O=p.trace,k=p.t,I=O._offset||O.offset,P=k.poffset;if(E(I)){for(b=Array.prototype.slice.call(I,0,A.length),w=0;w<b.length;w++)D(b[w])||(b[w]=P);for(w=b.length;w<A.length;w++)b.push(P);k.poffset=b}else void 0!==I&&(k.poffset=I);var R=O._width||O.width,N=k.barwidth;if(E(R)){var j=Array.prototype.slice.call(R,0,A.length);for(w=0;w<j.length;w++)D(j[w])||(j[w]=N);for(w=j.length;w<A.length;w++)j.push(N);if(k.barwidth=j,void 0===I){for(b=[],w=0;w<A.length;w++)b.push(P+(N-j[w])/2);k.poffset=b}}else void 0!==R&&(k.barwidth=R,void 0===I&&(k.poffset=P+(N-R)/2))}}function l(_,g){for(var w=g.traces,x=T(_),b=0;b<w.length;b++)for(var A=w[b],p=A[0].t,O=p.poffset,k=Array.isArray(O),I=p.barwidth,P=Array.isArray(I),R=0;R<A.length;R++){var N=A[R],j=N.w=P?I[R]:I;void 0===N.p&&(N.p=N[x],N["orig_"+x]=N[x]),N[x]=N.p+((k?O[R]:O)+j/2)}}function u(_,g,w){var x=g.traces,b=g.minDiff/2;M.minDtick(_,g.minDiff,g.distinctPositions[0],w);for(var A=0;A<x.length;A++){var p,O,k,I,P=x[A],R=P[0],N=R.trace,j=[];for(I=0;I<P.length;I++)O=(p=P[I]).p-b,j.push(O,k=p.p+b);if(N.width||N.offset){var X=R.t,F=X.poffset,Z=X.barwidth,W=Array.isArray(F),H=Array.isArray(Z);for(I=0;I<P.length;I++)k=(O=(p=P[I]).p+(W?F[I]:F))+(H?Z[I]:Z),j.push(O,k)}N._extremes[_._id]=M.findExtremes(_,j,{padded:!1})}}function d(_,g){for(var w=g.traces,x=T(_),b=0;b<w.length;b++){for(var A=w[b],p=A[0].trace,O="scatter"===p.type,k="v"===p.orientation,I=[],P=!1,R=0;R<A.length;R++){var N=A[R],j=O?0:N.b,X=O?k?N.y:N.x:j+N.s;N[x]=X,I.push(X),N.hasB&&I.push(j),N.hasB&&N.b||(P=!0)}p._extremes[_._id]=M.findExtremes(_,I,{tozero:P,padded:!0})}}function m(_){for(var g=_.traces,w=0;w<g.length;w++)for(var x=g[w],b=0;b<x.length;b++){var A=x[b];A.s!==f&&_.put(A.p,A.b+A.s)}}function h(_,g,w){var x=g.traces,b=T(_),A="fraction"===w.norm?1:100,p=A/1e9,O=_.l2c(_.c2l(0)),k="stack"===w.mode?A:O;function I(se){return D(_.c2l(se))&&(se<O-p||se>k+p||!D(O))}for(var P=0;P<x.length;P++){for(var R=x[P],N=R[0].trace,j=[],X=!1,F=!1,Z=0;Z<R.length;Z++){var W=R[Z];if(W.s!==f){var H=Math.abs(A/g.get(W.p,W.s));W.b*=H,W.s*=H;var G=W.b,Y=G+W.s;W[b]=Y,j.push(Y),F=F||I(Y),W.hasB&&(j.push(G),F=F||I(G)),W.hasB&&W.b||(X=!0)}}N._extremes[_._id]=M.findExtremes(_,j,{tozero:X,padded:F})}}function T(_){return _._id.charAt(0)}ae.exports={crossTraceCalc:function(_,g){for(var w=g.xaxis,x=g.yaxis,b=_._fullLayout,A=_._fullData,p=_.calcdata,O=[],k=[],I=0;I<A.length;I++){var P=A[I];if(!0===P.visible&&S.traceIs(P,"bar")&&P.xaxis===w._id&&P.yaxis===x._id&&("h"===P.orientation?O.push(p[I]):k.push(p[I]),P._computePh))for(var R=_.calcdata[I],N=0;N<R.length;N++)"function"==typeof R[N].ph0&&(R[N].ph0=R[N].ph0()),"function"==typeof R[N].ph1&&(R[N].ph1=R[N].ph1())}var j={xCat:"category"===w.type||"multicategory"===w.type,yCat:"category"===x.type||"multicategory"===x.type,mode:b.barmode,norm:b.barnorm,gap:b.bargap,groupgap:b.bargroupgap};i(_,w,x,k,j),i(_,x,w,O,j)},setGroupPositions:i}},90769:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(73972),S=r(67513),M=r(73927),v=r(98340),c=r(26125),i=r(1486),s=D.coerceFont;function a(o,l,u,d,m,h){var T=!1!==(h=h||{}).moduleHasSelected,_=!1!==h.moduleHasUnselected,g=!1!==h.moduleHasConstrain,w=!1!==h.moduleHasCliponaxis,x=!1!==h.moduleHasTextangle,b=!1!==h.moduleHasInsideanchor,A=!!h.hasPathbar,p=Array.isArray(m)||"auto"===m,O=p||"inside"===m,k=p||"outside"===m;if(O||k){var I=s(d,"textfont",u.font),P=D.extendFlat({},I),R=!(o.textfont&&o.textfont.color);if(R&&delete P.color,s(d,"insidetextfont",P),A){var N=D.extendFlat({},I);R&&delete N.color,s(d,"pathbar.textfont",N)}k&&s(d,"outsidetextfont",I),T&&d("selected.textfont.color"),_&&d("unselected.textfont.color"),g&&d("constraintext"),w&&d("cliponaxis"),x&&d("textangle"),d("texttemplate")}O&&b&&d("insidetextanchor")}ae.exports={supplyDefaults:function(o,l,u,d){function m(g,w){return D.coerce(o,l,i,g,w)}if(S(o,l,d,m)){M(o,l,d,m),m("xhoverformat"),m("yhoverformat"),m("orientation",l.x&&!l.y?"h":"v"),m("base"),m("offset"),m("width"),m("text"),m("hovertext"),m("hovertemplate");var h=m("textposition");a(o,0,d,m,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),v(o,l,m,u,d);var T=(l.marker.line||{}).color,_=f.getComponentMethod("errorbars","supplyDefaults");_(o,l,T||E.defaultLine,{axis:"y"}),_(o,l,T||E.defaultLine,{axis:"x",inherit:"y"}),D.coerceSelectionMarkerOpacity(l,m)}else l.visible=!1},crossTraceDefaults:function(o,l){var d;function m(T){return D.coerce(d._input,d,i,T)}if("group"===l.barmode)for(var h=0;h<o.length;h++)"bar"===(d=o[h]).type&&c(d._input,d,l,m)},handleText:a}},58065:function(ae){"use strict";ae.exports=function(B,r,D){return B.x="xVal"in r?r.xVal:r.x,B.y="yVal"in r?r.yVal:r.y,r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),"h"===D.orientation?(B.label=B.y,B.value=B.x):(B.label=B.x,B.value=B.y),B}},69383:function(ae,B,r){"use strict";var D=r(92770),E=r(84267),f=r(71828).isArrayOrTypedArray;B.coerceString=function(S,M,v){if("string"==typeof M){if(M||!S.noBlank)return M}else if(("number"==typeof M||!0===M)&&!S.strict)return String(M);return void 0!==v?v:S.dflt},B.coerceNumber=function(S,M,v){if(D(M)){M=+M;var c=S.min,i=S.max;if(!(void 0!==c&&M<c||void 0!==i&&M>i))return M}return void 0!==v?v:S.dflt},B.coerceColor=function(S,M,v){return E(M).isValid()?M:void 0!==v?v:S.dflt},B.coerceEnumerated=function(S,M,v){return S.coerceNumber&&(M=+M),-1!==S.values.indexOf(M)?M:void 0!==v?v:S.dflt},B.getValue=function(S,M){var v;return Array.isArray(S)?M<S.length&&(v=S[M]):v=S,v},B.getLineWidth=function(S,M){return 0<M.mlw?M.mlw:f(S.marker.line.width)?0:S.marker.line.width}},95423:function(ae,B,r){"use strict";var D=r(30211),E=r(73972),f=r(7901),S=r(71828).fillText,M=r(69383).getLineWidth,v=r(89298).hoverLabelText,c=r(50606).BADNUM;function i(a,o,l,u,d){var m,h,T,_,g,w,x,b=a.cd,A=b[0].trace,p=b[0].t,O="closest"===u,k="waterfall"===A.type,I=a.maxHoverDistance,P=a.maxSpikeDistance;"h"===A.orientation?(m=l,h=o,T="y",_="x",g=te,w=Y):(m=o,h=l,T="x",_="y",w=te,g=Y);var R=A[T+"period"],N=O||R;function j(he){return F(he,-1)}function X(he){return F(he,1)}function F(he,we){return he[T]+we*he.w/2}function Z(he){return he[T+"End"]-he[T+"Start"]}var W=O?j:R?function(he){return he.p-Z(he)/2}:function(he){return Math.min(j(he),he.p-p.bardelta/2)},H=O?X:R?function(he){return he.p+Z(he)/2}:function(he){return Math.max(X(he),he.p+p.bardelta/2)};function G(he,we,Ae){return d.finiteRange&&(Ae=0),D.inbox(he-m,we-m,Ae+Math.min(1,Math.abs(we-he)/x)-1)}function Y(he){return G(W(he),H(he),I)}function se(he){var we=he[_];if(k){var Ae=Math.abs(he.rawS)||0;h>0?we+=Ae:h<0&&(we-=Ae)}return we}function te(he){var we=h,Ae=he.b,Te=se(he);return D.inbox(Ae-we,Te-we,I+(Te-we)/(Te-Ae)-1)}var re=a[T+"a"],Q=a[_+"a"];x=Math.abs(re.r2c(re.range[1])-re.r2c(re.range[0]));var he,we,Ae,Te,ee=D.getDistanceFunction(u,g,w,function(he){return(g(he)+w(he))/2});if(D.getClosest(b,ee,a),!1!==a.index&&b[a.index].p!==c){N||(W=function(he){return Math.min(j(he),he.p-p.bargroupwidth/2)},H=function(he){return Math.max(X(he),he.p+p.bargroupwidth/2)});var oe=b[a.index],le=A.base?oe.b+oe.s:oe.s;a[_+"0"]=a[_+"1"]=Q.c2p(oe[_],!0),a[_+"LabelVal"]=le;var ue=p.extents[p.extents.round(oe.p)];return a[T+"0"]=re.c2p(O?W(oe):ue[0],!0),a[T+"1"]=re.c2p(O?H(oe):ue[1],!0),a[T+"LabelVal"]=void 0!==oe.orig_p?oe.orig_p:oe.p,a.labelLabel=v(re,a[T+"LabelVal"],A[T+"hoverformat"]),a.valueLabel=v(Q,a[_+"LabelVal"],A[_+"hoverformat"]),a.baseLabel=v(Q,oe.b,A[_+"hoverformat"]),a.spikeDistance=(we=h,Ae=(he=oe).b,Te=se(he),(D.inbox(Ae-we,Te-we,P+(Te-we)/(Te-Ae)-1)+function(he){return G(j(he),X(he),P)}(oe))/2),a[T+"Spike"]=re.c2p(oe.p,!0),S(oe,A,a),a.hovertemplate=A.hovertemplate,a}}function s(a,o){var l=o.mcc||a.marker.color,u=o.mlcc||a.marker.line.color,d=M(a,o);return f.opacity(l)?l:f.opacity(u)&&d?u:void 0}ae.exports={hoverPoints:function(a,o,l,u,d){var m=i(a,o,l,u,d);if(m){var h=m.cd,T=h[0].trace,_=h[m.index];return m.color=s(T,_),E.getComponentMethod("errorbars","hoverInfo")(_,T,m),[m]}},hoverOnBars:i,getTraceColor:s}},60822:function(ae,B,r){"use strict";ae.exports={attributes:r(1486),layoutAttributes:r(43641),supplyDefaults:r(90769).supplyDefaults,crossTraceDefaults:r(90769).crossTraceDefaults,supplyLayoutDefaults:r(13957),calc:r(92290),crossTraceCalc:r(11661).crossTraceCalc,colorbar:r(4898),arraysToCalcdata:r(75341),plot:r(17295).plot,style:r(16688).style,styleOnSelect:r(16688).styleOnSelect,hoverPoints:r(95423).hoverPoints,eventData:r(58065),selectPoints:r(81974),moduleType:"trace",name:"bar",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(ae){"use strict";ae.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(ae,B,r){"use strict";var D=r(73972),E=r(89298),f=r(71828),S=r(43641);ae.exports=function(M,v,c){function i(T,_){return f.coerce(M,v,S,T,_)}for(var s=!1,a=!1,o=!1,l={},u=i("barmode"),d=0;d<c.length;d++){var m=c[d];if(D.traceIs(m,"bar")&&m.visible){if(s=!0,"group"===u){var h=m.xaxis+m.yaxis;l[h]&&(o=!0),l[h]=!0}m.visible&&"histogram"===m.type&&"category"!==E.getFromId({_fullLayout:v},m["v"===m.orientation?"xaxis":"yaxis"]).type&&(a=!0)}}s?("overlay"!==u&&i("barnorm"),i("bargap",a&&!o?0:.2),i("bargroupgap")):delete v.barmode}},17295:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(71828),S=r(63893),M=r(7901),v=r(91424),c=r(73972),i=r(89298).tickText,s=r(72597),a=s.recordMinTextSize,o=s.clearMinTextSize,l=r(16688),u=r(69383),d=r(97313),m=r(1486),h=m.text,T=m.textposition,_=r(23469).appendArrayPointValue,g=d.TEXTPAD;function w(P){return P.id}function b(P,R){return P<R?1:-1}function A(P,R,N,j){var X;return!R.uniformtext.mode&&p(N)?(j&&(X=j()),P.transition().duration(N.duration).ease(N.easing).each("end",function(){X&&X()}).each("interrupt",function(){X&&X()})):P}function p(P){return P&&P.duration>0}function O(P){return"auto"===P?0:P}function k(P,R){var N=Math.PI/180*R,j=Math.abs(Math.sin(N)),X=Math.abs(Math.cos(N));return{x:P.width*X+P.height*j,y:P.width*j+P.height*X}}function I(P,R,N,j,X,F){var Z=!!F.isHorizontal,W=!!F.constrained,H=F.angle||0,G=F.anchor||"end",Y="end"===G,se="start"===G,te=((F.leftToRight||0)+1)/2,re=1-te,Q=X.width,ee=X.height,oe=Math.abs(R-P),le=Math.abs(j-N),ue=oe>2*g&&le>2*g?g:0;oe-=2*ue,le-=2*ue;var de=O(H);"auto"!==H||Q<=oe&&ee<=le||!(Q>oe||ee>le)||(Q>le||ee>oe)&&Q<ee==oe<le||(de+=90);var he=k(X,de),we=1;W&&(we=Math.min(1,oe/he.x,le/he.y));var Ae=X.left*re+X.right*te,Te=(X.top+X.bottom)/2,ve=(P+g)*re+(R-g)*te,xe=(N+j)/2,Fe=0,Se=0;if(se||Y){var ke=(Z?he.x:he.y)/2,pe=Z?b(P,R):b(N,j);Z?se?(ve=P+pe*ue,Fe=-pe*ke):(ve=R-pe*ue,Fe=pe*ke):se?(xe=N+pe*ue,Se=-pe*ke):(xe=j-pe*ue,Se=pe*ke)}return{textX:Ae,textY:Te,targetX:ve,targetY:xe,anchorX:Fe,anchorY:Se,scale:we,rotate:de}}ae.exports={plot:function(P,R,N,j,X,F){var Z=R.xaxis,W=R.yaxis,H=P._fullLayout,G=P._context.staticPlot;X||(X={mode:H.barmode,norm:H.barmode,gap:H.bargap,groupgap:H.bargroupgap},o("bar",H));var Y=f.makeTraceGroups(j,N,"trace bars").each(function(se){var te=D.select(this),re=se[0].trace,oe="bar"===re.type||"funnel"===re.type,le=0;"waterfall"===re.type&&re.connector.visible&&"between"===re.connector.mode&&(le=re.connector.line.width/2);var ue="h"===re.orientation,de=p(X),he=f.ensureSingle(te,"g","points"),we=function x(P){if(P.ids)return w}(re),Ae=he.selectAll("g.point").data(f.identity,we);Ae.enter().append("g").classed("point",!0),Ae.exit().remove(),Ae.each(function(ve,xe){var Fe,Se,Be,We,He,Je,et,at,mt,ct,ke=D.select(this),pe=(We=Z,He=W,at=[],ct=(Je=ue)?He:We,(et=[])[0]=(mt=Je?We:He).c2p((Be=ve).s0,!0),at[0]=ct.c2p(Be.p0,!0),et[1]=mt.c2p(Be.s1,!0),at[1]=ct.c2p(Be.p1,!0),Je?[et,at]:[at,et]),fe=pe[0][0],be=pe[0][1],Le=pe[1][0],Oe=pe[1][1],De=0==(ue?be-fe:Oe-Le);if(De&&oe&&u.getLineWidth(re,ve)&&(De=!1),De||(De=!(E(fe)&&E(be)&&E(Le)&&E(Oe))),ve.isBlank=De,De&&(ue?be=fe:Oe=Le),le&&!De&&(ue?(fe-=b(fe,be)*le,be+=b(fe,be)*le):(Le-=b(Le,Oe)*le,Oe+=b(Le,Oe)*le)),"waterfall"===re.type){if(!De){var Ue=re[ve.dir].marker;Fe=Ue.line.width,Se=Ue.color}}else Fe=u.getLineWidth(re,ve),Se=ve.mc||re.marker.color;function Ge(Be){var We=D.round(Fe/2%1,2);return 0===X.gap&&0===X.groupgap?D.round(Math.round(Be)-We,2):Be}if(!P._context.staticPlot){var ye=M.opacity(Se)<1||Fe>.01?Ge:function(Be,We,He){return He&&Be===We?Be:Math.abs(Be-We)>=2?Ge(Be):Be>We?Math.ceil(Be):Math.floor(Be)};fe=ye(fe,be,ue),be=ye(be,fe,ue),Le=ye(Le,Oe,!ue),Oe=ye(Oe,Le,!ue)}var Ie=A(f.ensureSingle(ke,"path"),H,X,F);if(Ie.style("vector-effect",G?"none":"non-scaling-stroke").attr("d",isNaN((be-fe)*(Oe-Le))||De&&P._context.staticPlot?"M0,0Z":"M"+fe+","+Le+"V"+Oe+"H"+be+"V"+Le+"Z").call(v.setClipUrl,R.layerClipId,P),!H.uniformtext.mode&&de){var Ee=v.makePointStyleFns(re);v.singlePointStyle(ve,Ie,re,Ee,P)}(function(Be,We,He,Je,et,at,mt,ct,St,Dt,Et){var ht,pt=We.xaxis,Pt=We.yaxis,Ft=Be._fullLayout;function Ht(pn,en,nn){return f.ensureSingle(pn,"text").text(en).attr({class:"bartext bartext-"+ht,"text-anchor":"middle","data-notex":1}).call(v.font,nn).call(S.convertToTspans,Be)}var en,nn,dn,In,Hn,An,Lt=Je[0].trace,tt="h"===Lt.orientation,rt=(nn=et,dn=pt,In=Pt,Hn=(An=(en=Je)[0].trace).texttemplate?function(on,yn,ln,wn,Cn){var Ln=yn[0].trace,Sn=f.castOption(Ln,ln,"texttemplate");if(!Sn)return"";var qn,kn,Zn,fr,er="histogram"===Ln.type,nr="waterfall"===Ln.type,mr="funnel"===Ln.type,dr="h"===Ln.orientation;function Ir(Yn){return i(fr,fr.c2l(Yn),!0).text}dr?(qn="y",kn=Cn,Zn="x",fr=wn):(qn="x",kn=wn,Zn="y",fr=Cn);var $t=yn[ln],xn={};xn.label=$t.p,xn.labelLabel=xn[qn+"Label"]=i(kn,kn.c2l($t.p),!0).text;var vn=f.castOption(Ln,$t.i,"text");(0===vn||vn)&&(xn.text=vn),xn.value=$t.s,xn.valueLabel=xn[Zn+"Label"]=Ir($t.s);var Dn={};_(Dn,Ln,$t.i),(er||void 0===Dn.x)&&(Dn.x=dr?xn.value:xn.label),(er||void 0===Dn.y)&&(Dn.y=dr?xn.label:xn.value),(er||void 0===Dn.xLabel)&&(Dn.xLabel=dr?xn.valueLabel:xn.labelLabel),(er||void 0===Dn.yLabel)&&(Dn.yLabel=dr?xn.labelLabel:xn.valueLabel),nr&&(xn.delta=+$t.rawS||$t.s,xn.deltaLabel=Ir(xn.delta),xn.final=$t.v,xn.finalLabel=Ir(xn.final),xn.initial=xn.final-xn.delta,xn.initialLabel=Ir(xn.initial)),mr&&(xn.value=$t.s,xn.valueLabel=Ir(xn.value),xn.percentInitial=$t.begR,xn.percentInitialLabel=f.formatPercent($t.begR),xn.percentPrevious=$t.difR,xn.percentPreviousLabel=f.formatPercent($t.difR),xn.percentTotal=$t.sumR,xn.percenTotalLabel=f.formatPercent($t.sumR));var or=f.castOption(Ln,$t.i,"customdata");return or&&(xn.customdata=or),f.texttemplateString(Sn,xn,on._d3locale,Dn,xn,Ln._meta||{})}(Ft,en,nn,dn,In):An.textinfo?function(on,yn,ln,wn){var Cn=on[0].trace,Ln="h"===Cn.orientation,Sn="waterfall"===Cn.type,qn="funnel"===Cn.type;function kn(or){return i(Ln?ln:wn,+or,!0).text}var Zn,nr=on[yn],mr=Cn.textinfo.split("+"),dr=[],Ir=function(or){return-1!==mr.indexOf(or)};if(Ir("label")&&dr.push(i(Ln?wn:ln,on[yn].p,!0).text),Ir("text")&&(0===(Zn=f.castOption(Cn,nr.i,"text"))||Zn)&&dr.push(Zn),Sn){var Yt=+nr.rawS||nr.s,$t=nr.v,xn=$t-Yt;Ir("initial")&&dr.push(kn(xn)),Ir("delta")&&dr.push(kn(Yt)),Ir("final")&&dr.push(kn($t))}if(qn){Ir("value")&&dr.push(kn(nr.s));var vn=0;Ir("percent initial")&&vn++,Ir("percent previous")&&vn++,Ir("percent total")&&vn++;var Dn=vn>1;Ir("percent initial")&&(Zn=f.formatPercent(nr.begR),Dn&&(Zn+=" of initial"),dr.push(Zn)),Ir("percent previous")&&(Zn=f.formatPercent(nr.difR),Dn&&(Zn+=" of previous"),dr.push(Zn)),Ir("percent total")&&(Zn=f.formatPercent(nr.sumR),Dn&&(Zn+=" of total"),dr.push(Zn))}return dr.join("<br>")}(en,nn,dn,In):u.getValue(An.text,nn),u.coerceString(h,Hn));ht=function(pn,en){var nn=u.getValue(pn.textposition,en);return u.coerceEnumerated(T,nn)}(Lt,et);var it=Je[et],gt=!("stack"===Dt.mode||"relative"===Dt.mode)||it._outmost;if(rt&&"none"!==ht&&(!it.isBlank&&at!==mt&&ct!==St||"auto"!==ht&&"inside"!==ht)){var ft=Ft.font,Ve=l.getBarColor(Je[et],Lt),qe=l.getInsideTextFont(Lt,et,ft,Ve),dt=l.getOutsideTextFont(Lt,et,ft),ut=He.datum();tt?"log"===pt.type&&ut.s0<=0&&(at=pt.range[0]<pt.range[1]?0:pt._length):"log"===Pt.type&&ut.s0<=0&&(ct=Pt.range[0]<Pt.range[1]?Pt._length:0);var At,wt,kt,_t,Rt,bt=Math.abs(mt-at)-2*g,Tt=Math.abs(St-ct)-2*g;if("outside"===ht&&(gt||it.hasB||(ht="inside")),"auto"===ht&&(gt?(ht="inside",At=Ht(He,rt,Rt=f.ensureUniformFontSize(Be,qe)),kt=(wt=v.bBox(At.node())).width,_t=wt.height,kt>0&&_t>0&&(kt<=bt&&_t<=Tt||kt<=Tt&&_t<=bt||(tt?bt>=kt*(Tt/_t):Tt>=_t*(bt/kt)))?ht="inside":(ht="outside",At.remove(),At=null)):ht="inside"),!At){var Ot=(At=Ht(He,rt,Rt=f.ensureUniformFontSize(Be,"outside"===ht?dt:qe))).attr("transform");if(At.attr("transform",""),kt=(wt=v.bBox(At.node())).width,_t=wt.height,At.attr("transform",Ot),kt<=0||_t<=0)return void At.remove()}var Wt,qt=Lt.textangle;Wt="outside"===ht?function(pn,en,nn,dn,In,Hn){var An,on=!!Hn.isHorizontal,yn=!!Hn.constrained,ln=Hn.angle||0,wn=In.width,Cn=In.height,Ln=Math.abs(en-pn),Sn=Math.abs(dn-nn);An=on?Sn>2*g?g:0:Ln>2*g?g:0;var qn=1;yn&&(qn=on?Math.min(1,Sn/Cn):Math.min(1,Ln/wn));var kn=O(ln),Zn=k(In,kn),fr=(on?Zn.x:Zn.y)/2,er=(In.left+In.right)/2,nr=(In.top+In.bottom)/2,mr=(pn+en)/2,dr=(nn+dn)/2,Ir=0,Yt=0,$t=on?b(en,pn):b(nn,dn);return on?(mr=en-$t*An,Ir=$t*fr):(dr=dn+$t*An,Yt=-$t*fr),{textX:er,textY:nr,targetX:mr,targetY:dr,anchorX:Ir,anchorY:Yt,scale:qn,rotate:kn}}(at,mt,ct,St,wt,{isHorizontal:tt,constrained:"both"===Lt.constraintext||"outside"===Lt.constraintext,angle:qt}):I(at,mt,ct,St,wt,{isHorizontal:tt,constrained:"both"===Lt.constraintext||"inside"===Lt.constraintext,angle:qt,anchor:Lt.insidetextanchor}),Wt.fontSize=Rt.size,a("histogram"===Lt.type?"bar":Lt.type,Wt,Ft),it.transform=Wt;var Jt=A(At,Ft,Dt,Et);f.setTransormAndDisplay(Jt,Wt)}else He.select("text").remove()})(P,R,ke,se,xe,fe,be,Le,Oe,X,F),R.layerClipId&&v.hideOutsideRangePoint(ve,ke.select("text"),Z,W,re.xcalendar,re.ycalendar)}),v.setClipUrl(te,!1===re.cliponaxis?null:R.layerClipId,P)});c.getComponentMethod("errorbars","plot")(P,Y,R,X)},toMoveInsideBar:I}},81974:function(ae){"use strict";function B(r,D,E,f,S){var M=D.c2p(f?r.s0:r.p0,!0),v=D.c2p(f?r.s1:r.p1,!0),c=E.c2p(f?r.p0:r.s0,!0),i=E.c2p(f?r.p1:r.s1,!0);return S?[(M+v)/2,(c+i)/2]:f?[v,(c+i)/2]:[(M+v)/2,i]}ae.exports=function(r,D){var E,f=r.cd,S=r.xaxis,M=r.yaxis,v=f[0].trace,c="funnel"===v.type,i="h"===v.orientation,s=[];if(!1===D)for(E=0;E<f.length;E++)f[E].selected=0;else for(E=0;E<f.length;E++){var a=f[E],o="ct"in a?a.ct:B(a,S,M,i,c);D.contains(o,!1,E,r)?(s.push({pointNumber:E,x:S.c2d(a.x),y:M.c2d(a.y)}),a.selected=1):a.selected=0}return s}},61546:function(ae,B,r){"use strict";ae.exports=E;var D=r(71828).distinctVals;function E(f,S){this.traces=f,this.sepNegVal=S.sepNegVal,this.overlapNoMerge=S.overlapNoMerge;for(var M=1/0,v=S.posAxis._id.charAt(0),c=[],i=0;i<f.length;i++){for(var s=f[i],a=0;a<s.length;a++){var o=s[a],l=o.p;void 0===l&&(l=o[v]),void 0!==l&&c.push(l)}s[0]&&s[0].width1&&(M=Math.min(s[0].width1,M))}this.positions=c;var u=D(c);this.distinctPositions=u.vals,this.minDiff=1===u.vals.length&&M!==1/0?M:Math.min(u.minDiff,M);var d=(S.posAxis||{}).type;"category"!==d&&"multicategory"!==d||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}E.prototype.put=function(f,S){var M=this.getLabel(f,S),v=this.bins[M]||0;return this.bins[M]=v+S,v},E.prototype.get=function(f,S){var M=this.getLabel(f,S);return this.bins[M]||0},E.prototype.getLabel=function(f,S){return(S<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?f:Math.round(f/this.binWidth))}},16688:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),f=r(91424),S=r(71828),M=r(73972),v=r(72597).resizeText,c=r(1486),i=c.textfont,s=c.insidetextfont,a=c.outsidetextfont,o=r(69383);function l(w,x,b){f.pointStyle(w.selectAll("path"),x,b),u(w,x,b)}function u(w,x,b){w.selectAll("text").each(function(A){var p=D.select(this),O=S.ensureUniformFontSize(b,d(p,A,x,b));f.font(p,O)})}function d(w,x,b,A){var p=A._fullLayout.font,O=b.textfont;if(w.classed("bartext-inside")){var k=g(x,b);O=h(b,x.i,p,k)}else w.classed("bartext-outside")&&(O=T(b,x.i,p));return O}function m(w,x,b){return _(i,w.textfont,x,b)}function h(w,x,b,A){var p=m(w,x,b);return(void 0===w._input.textfont||void 0===w._input.textfont.color||Array.isArray(w.textfont.color)&&void 0===w.textfont.color[x])&&(p={color:E.contrast(A),family:p.family,size:p.size}),_(s,w.insidetextfont,x,p)}function T(w,x,b){var A=m(w,x,b);return _(a,w.outsidetextfont,x,A)}function _(w,x,b,A){var p=o.getValue((x=x||{}).family,b),O=o.getValue(x.size,b),k=o.getValue(x.color,b);return{family:o.coerceString(w.family,p,A.family),size:o.coerceNumber(w.size,O,A.size),color:o.coerceColor(w.color,k,A.color)}}function g(w,x){return"waterfall"===x.type?x[w.dir].marker.color:w.mcc||w.mc||x.marker.color}ae.exports={style:function(w){var x=D.select(w).selectAll("g.barlayer").selectAll("g.trace");v(w,x,"bar");var b=x.size(),A=w._fullLayout;x.style("opacity",function(p){return p[0].trace.opacity}).each(function(p){("stack"===A.barmode&&b>1||0===A.bargap&&0===A.bargroupgap&&!p[0].trace.marker.line.width)&&D.select(this).attr("shape-rendering","crispEdges")}),x.selectAll("g.points").each(function(p){l(D.select(this),p[0].trace,w)}),M.getComponentMethod("errorbars","style")(x)},styleTextPoints:u,styleOnSelect:function(w,x,b){var p,O,k,I,P,R,A=x[0].trace;A.selectedpoints?(O=A,k=w,f.selectedPointStyle((p=b).selectAll("path"),O),I=p.selectAll("text"),P=O,R=k,I.each(function(N){var j,X=D.select(this);if(N.selected){j=S.ensureUniformFontSize(R,d(X,N,P,R));var F=P.selected.textfont&&P.selected.textfont.color;F&&(j.color=F),f.font(X,j)}else f.selectedTextStyle(X,P)})):(l(b,A,w),M.getComponentMethod("errorbars","style")(b))},getInsideTextFont:h,getOutsideTextFont:T,getBarColor:g,resizeText:v}},98340:function(ae,B,r){"use strict";var D=r(7901),E=r(52075).hasColorscale,f=r(1586),S=r(71828).coercePattern;ae.exports=function(M,v,c,i,s){var a=c("marker.color",i),o=E(M,"marker");o&&f(M,v,s,c,{prefix:"marker.",cLetter:"c"}),c("marker.line.color",D.defaultLine),E(M,"marker.line")&&f(M,v,s,c,{prefix:"marker.line.",cLetter:"c"}),c("marker.line.width"),c("marker.opacity"),S(c,"marker.pattern",a,o),c("selected.marker.color"),c("unselected.marker.color")}},72597:function(ae,B,r){"use strict";var D=r(39898),E=r(71828);function f(S){return"_"+S+"Text_minsize"}ae.exports={recordMinTextSize:function(S,M,v){if(v.uniformtext.mode){var c=f(S),i=v.uniformtext.minsize,s=M.scale*M.fontSize;M.hide=s<i,v[c]=v[c]||1/0,M.hide||(v[c]=Math.min(v[c],Math.max(s,i)))}},clearMinTextSize:function(S,M){M[f(S)]=void 0},resizeText:function(S,M,v){var c=S._fullLayout,i=c["_"+v+"Text_minsize"];if(i){var s,a="hide"===c.uniformtext.mode;switch(v){case"funnelarea":case"pie":case"sunburst":s="g.slice";break;case"treemap":case"icicle":s="g.slice, g.pathbar";break;default:s="g.points > g.point"}M.selectAll(s).each(function(o){var l=o.transform;if(l){l.scale=a&&l.hide?0:i/l.fontSize;var u=D.select(this).select("text");E.setTransormAndDisplay(u,l)}})}}}},55023:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(1426).extendFlat,f=r(81245),S=r(1486);ae.exports={r:f.r,theta:f.theta,r0:f.r0,dr:f.dr,theta0:f.theta0,dtheta:f.dtheta,thetaunit:f.thetaunit,base:E({},S.base,{}),offset:E({},S.offset,{}),width:E({},S.width,{}),text:E({},S.text,{}),hovertext:E({},S.hovertext,{}),marker:S.marker,hoverinfo:f.hoverinfo,hovertemplate:D(),selected:S.selected,unselected:S.unselected}},74692:function(ae,B,r){"use strict";var D=r(52075).hasColorscale,E=r(78803),f=r(75341),S=r(11661).setGroupPositions,M=r(66279),v=r(73972).traceIs,c=r(71828).extendFlat;ae.exports={calc:function(i,s){for(var a=i._fullLayout,o=s.subplot,u=a[o].angularaxis,d=a[o].radialaxis.makeCalcdata(s,"r"),m=u.makeCalcdata(s,"theta"),h=s._length,T=new Array(h),_=d,g=m,w=0;w<h;w++)T[w]={p:g[w],s:_[w]};function x(b){var A=s[b];void 0!==A&&(s["_"+b]=Array.isArray(A)?u.makeCalcdata(s,b):u.d2c(A,s.thetaunit))}return"linear"===u.type&&(x("width"),x("offset")),D(s,"marker")&&E(i,s,{vals:s.marker.color,containerStr:"marker",cLetter:"c"}),D(s,"marker.line")&&E(i,s,{vals:s.marker.line.color,containerStr:"marker.line",cLetter:"c"}),f(T,s),M(T,s),T},crossTraceCalc:function(i,s,a){for(var o=i.calcdata,l=[],u=0;u<o.length;u++){var d=o[u],m=d[0].trace;!0===m.visible&&v(m,"bar")&&m.subplot===a&&l.push(d)}var h=c({},s.radialaxis,{_id:"x"});S(i,s.angularaxis,h,l,{mode:s.barmode,norm:s.barnorm,gap:s.bargap,groupgap:s.bargroupgap})}}},6135:function(ae,B,r){"use strict";var D=r(71828),E=r(22184).handleRThetaDefaults,f=r(98340),S=r(55023);ae.exports=function(M,v,c,i){function s(a,o){return D.coerce(M,v,S,a,o)}E(M,v,i,s)?(s("thetaunit"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate"),f(M,v,s,c,i),D.coerceSelectionMarkerOpacity(v,s)):v.visible=!1}},27379:function(ae,B,r){"use strict";var D=r(30211),E=r(71828),f=r(95423).getTraceColor,S=E.fillText,M=r(59150).makeHoverPointText,v=r(10869).isPtInsidePolygon;ae.exports=function(c,i,s){var a=c.cd,o=a[0].trace,l=c.subplot,u=l.radialAxis,m=l.vangles,h=m?v:E.isPtInsideSector,T=c.maxHoverDistance,_=l.angularAxis._period||2*Math.PI,g=Math.abs(u.g2p(Math.sqrt(i*i+s*s))),w=Math.atan2(s,i);if(u.range[0]>u.range[1]&&(w+=Math.PI),D.getClosest(a,function(A){return h(g,w,[A.rp0,A.rp1],[A.thetag0,A.thetag1],m)?T+Math.min(1,Math.abs(A.thetag1-A.thetag0)/_)-1+(A.rp1-g)/(A.rp1-A.rp0)-1:1/0},c),!1!==c.index){var x=a[c.index];c.x0=c.x1=x.ct[0],c.y0=c.y1=x.ct[1];var b=E.extendFlat({},x,{r:x.s,theta:x.p});return S(x,o,c),M(b,o,l,c),c.hovertemplate=o.hovertemplate,c.color=f(o,x),c.xLabelVal=c.yLabelVal=void 0,x.s<0&&(c.idealAlign="left"),[c]}}},23381:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"barpolar",basePlotModule:r(23580),categories:["polar","bar","showLegend"],attributes:r(55023),layoutAttributes:r(40151),supplyDefaults:r(6135),supplyLayoutDefaults:r(19860),calc:r(74692).calc,crossTraceCalc:r(74692).crossTraceCalc,plot:r(60173),colorbar:r(4898),formatLabels:r(98608),style:r(16688).style,styleOnSelect:r(16688).styleOnSelect,hoverPoints:r(27379),selectPoints:r(81974),meta:{}}},40151:function(ae){"use strict";ae.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(ae,B,r){"use strict";var D=r(71828),E=r(40151);ae.exports=function(f,S,M){var v,c={};function i(o,l){return D.coerce(f[v]||{},S[v],E,o,l)}for(var s=0;s<M.length;s++){var a=M[s];"barpolar"===a.type&&!0===a.visible&&(c[v=a.subplot]||(i("barmode"),i("bargap"),c[v]=1))}}},60173:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),f=r(71828),S=r(91424),M=r(10869);ae.exports=function(v,c,i){var h,T,_,s=v._context.staticPlot,a=c.xaxis,o=c.yaxis,l=c.radialAxis,u=c.angularAxis,d=(T=(h=c).cxx,_=h.cyy,h.vangles?function(g,w,x,b){var A,p;f.angleDelta(x,b)>0?(A=x,p=b):(A=b,p=x);var O=[M.findEnclosingVertexAngles(A,h.vangles)[0],(A+p)/2,M.findEnclosingVertexAngles(p,h.vangles)[1]];return M.pathPolygonAnnulus(g,w,A,p,O,T,_)}:function(g,w,x,b){return f.pathAnnulus(g,w,x,b,T,_)}),m=c.layers.frontplot.select("g.barlayer");f.makeTraceGroups(m,i,"trace bars").each(function(){var h=D.select(this),T=f.ensureSingle(h,"g","points").selectAll("g.point").data(f.identity);T.enter().append("g").style("vector-effect",s?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),T.exit().remove(),T.each(function(_){var g,w=D.select(this),x=_.rp0=l.c2p(_.s0),b=_.rp1=l.c2p(_.s1),A=_.thetag0=u.c2g(_.p0),p=_.thetag1=u.c2g(_.p1);if(E(x)&&E(b)&&E(A)&&E(p)&&x!==b&&A!==p){var O=l.c2g(_.s1),k=(A+p)/2;_.ct=[a.c2p(O*Math.cos(k)),o.c2p(O*Math.sin(k))],g=d(x,b,A,p)}else g="M0,0Z";f.ensureSingle(w,"path").attr("d",g)}),S.setClipUrl(h,c._hasClipOnAxisFalse?c.clipIds.forTraces:null,v)})}},53522:function(ae,B,r){"use strict";var D=r(82196),E=r(1486),f=r(22399),S=r(12663).axisHoverFormat,M=r(5386).fF,v=r(1426).extendFlat,c=D.marker,i=c.line;ae.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:D.xperiod,yperiod:D.yperiod,xperiod0:D.xperiod0,yperiod0:D.yperiod0,xperiodalignment:D.xperiodalignment,yperiodalignment:D.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:v({},c.symbol,{arrayOk:!1,editType:"plot"}),opacity:v({},c.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:v({},c.angle,{arrayOk:!1,editType:"calc"}),size:v({},c.size,{arrayOk:!1,editType:"calc"}),color:v({},c.color,{arrayOk:!1,editType:"style"}),line:{color:v({},i.color,{arrayOk:!1,dflt:f.defaultLine,editType:"style"}),width:v({},i.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:D.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:E.offsetgroup,alignmentgroup:E.alignmentgroup,selected:{marker:D.selected.marker,editType:"style"},unselected:{marker:D.unselected.marker,editType:"style"},text:v({},D.text,{}),hovertext:v({},D.hovertext,{}),hovertemplate:M({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(ae,B,r){"use strict";var D=r(92770),E=r(89298),f=r(42973),S=r(71828),M=r(50606).BADNUM,v=S._;ae.exports=function(h,T){var _,g,w,x,b,A,p,O=h._fullLayout,k=E.getFromId(h,T.xaxis||"x"),I=E.getFromId(h,T.yaxis||"y"),P=[],R="violin"===T.type?"_numViolins":"_numBoxes";"h"===T.orientation?(w=k,x="x",b=I,A="y",p=!!T.yperiodalignment):(w=I,x="y",b=k,A="x",p=!!T.xperiodalignment);var N,j,X,F,Z,W,H=function(We,He,Je,et){var at,mt=He+"0"in We;if(He in We||mt&&"d"+He in We){var ct=Je.makeCalcdata(We,He);return[f(We,Je,He,ct).vals,ct]}at=mt?We[He+"0"]:"name"in We&&("category"===Je.type||D(We.name)&&-1!==["linear","log"].indexOf(Je.type)||S.isDateTime(We.name)&&"date"===Je.type)?We.name:et;for(var St="multicategory"===Je.type?Je.r2c_just_indices(at):Je.d2c(at,0,We[He+"calendar"]),Dt=We._length,Et=new Array(Dt),ht=0;ht<Dt;ht++)Et[ht]=St;return[Et]}(T,A,b,O[R]),G=H[0],Y=H[1],se=S.distinctVals(G,b),te=se.vals,re=se.minDiff/2,Q="all"===(T.boxpoints||T.points)?S.identity:function(We){return We.v<N.lf||We.v>N.uf};if(T._hasPreCompStats){var ee=T[x],oe=function(We){return w.d2c((T[We]||[])[_])},le=1/0,ue=-1/0;for(_=0;_<T._length;_++){var de=G[_];if(D(de)){if((N={}).pos=N[A]=de,p&&Y&&(N.orig_p=Y[_]),N.q1=oe("q1"),N.med=oe("median"),N.q3=oe("q3"),j=[],ee&&S.isArrayOrTypedArray(ee[_]))for(g=0;g<ee[_].length;g++)(W=w.d2c(ee[_][g]))!==M&&(i(Z={v:W,i:[_,g]},T,[_,g]),j.push(Z));if(N.pts=j.sort(s),F=(X=N[x]=j.map(a)).length,N.med!==M&&N.q1!==M&&N.q3!==M&&N.med>=N.q1&&N.q3>=N.med){var he=oe("lowerfence");N.lf=he!==M&&he<=N.q1?he:o(N,X,F);var we=oe("upperfence");N.uf=we!==M&&we>=N.q3?we:l(N,X,F);var Ae=oe("mean");N.mean=Ae!==M?Ae:F?S.mean(X,F):(N.q1+N.q3)/2;var Te=oe("sd");N.sd=Ae!==M&&Te>=0?Te:F?S.stdev(X,F,N.mean):N.q3-N.q1,N.lo=u(N),N.uo=d(N);var ve=oe("notchspan");ve=ve!==M&&ve>0?ve:m(N,F),N.ln=N.med-ve,N.un=N.med+ve;var xe=N.lf,Fe=N.uf;T.boxpoints&&X.length&&(xe=Math.min(xe,X[0]),Fe=Math.max(Fe,X[F-1])),T.notched&&(xe=Math.min(xe,N.ln),Fe=Math.max(Fe,N.un)),N.min=xe,N.max=Fe}else{var Se;S.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+N.q1,"median = "+N.med,"q3 = "+N.q3].join("\n")),N.med=Se=N.med!==M?N.med:N.q1!==M?N.q3!==M?(N.q1+N.q3)/2:N.q1:N.q3!==M?N.q3:0,N.q1=N.q3=Se,N.lf=N.uf=Se,N.mean=N.sd=Se,N.ln=N.un=Se,N.min=N.max=Se}le=Math.min(le,N.min),ue=Math.max(ue,N.max),N.pts2=j.filter(Q),P.push(N)}}T._extremes[w._id]=E.findExtremes(w,[le,ue],{padded:!0})}else{var ke=w.makeCalcdata(T,x),pe=function(We,He){for(var Je=We.length,et=new Array(Je+1),at=0;at<Je;at++)et[at]=We[at]-He;return et[Je]=We[Je-1]+He,et}(te,re),fe=te.length,be=function(We){for(var He=new Array(We),Je=0;Je<We;Je++)He[Je]=[];return He}(fe);for(_=0;_<T._length;_++)if(D(W=ke[_])){var Le=S.findBin(G[_],pe);Le>=0&&Le<fe&&(i(Z={v:W,i:_},T,_),be[Le].push(Z))}var Oe=1/0,De=-1/0,Ue=T.quartilemethod,Ge="exclusive"===Ue,ye="inclusive"===Ue;for(_=0;_<fe;_++)if(be[_].length>0){var Ie,Ee;(N={}).pos=N[A]=te[_],j=N.pts=be[_].sort(s),F=(X=N[x]=j.map(a)).length,N.min=X[0],N.max=X[F-1],N.mean=S.mean(X,F),N.sd=S.stdev(X,F,N.mean)*T.sdmultiple,N.med=S.interp(X,.5),F%2&&(Ge||ye)?(Ge?(Ie=X.slice(0,F/2),Ee=X.slice(F/2+1)):ye&&(Ie=X.slice(0,F/2+1),Ee=X.slice(F/2)),N.q1=S.interp(Ie,.5),N.q3=S.interp(Ee,.5)):(N.q1=S.interp(X,.25),N.q3=S.interp(X,.75)),N.lf=o(N,X,F),N.uf=l(N,X,F),N.lo=u(N),N.uo=d(N);var Be=m(N,F);N.ln=N.med-Be,N.un=N.med+Be,Oe=Math.min(Oe,N.ln),De=Math.max(De,N.un),N.pts2=j.filter(Q),P.push(N)}T._extremes[w._id]=E.findExtremes(w,T.notched?ke.concat([Oe,De]):ke,{padded:!0})}return function(We,He){if(S.isArrayOrTypedArray(He.selectedpoints))for(var Je=0;Je<We.length;Je++){for(var et=We[Je].pts||[],at={},mt=0;mt<et.length;mt++)at[et[mt].i]=mt;S.tagSelected(et,He,at)}}(P,T),P.length>0?(P[0].t={num:O[R],dPos:re,posLetter:A,valLetter:x,labels:{med:v(h,"median:"),min:v(h,"min:"),q1:v(h,"q1:"),q3:v(h,"q3:"),max:v(h,"max:"),mean:"sd"===T.boxmean||"sd"===T.sizemode?v(h,"mean \xb1 \u03c3:").replace("\u03c3",1===T.sdmultiple?"\u03c3":T.sdmultiple+"\u03c3"):v(h,"mean:"),lf:v(h,"lower fence:"),uf:v(h,"upper fence:")}},O[R]++,P):[{t:{empty:!0}}]};var c={text:"tx",hovertext:"htx"};function i(h,T,_){for(var g in c)S.isArrayOrTypedArray(T[g])&&(Array.isArray(_)?S.isArrayOrTypedArray(T[g][_[0]])&&(h[c[g]]=T[g][_[0]][_[1]]):h[c[g]]=T[g][_])}function s(h,T){return h.v-T.v}function a(h){return h.v}function o(h,T,_){return 0===_?h.q1:Math.min(h.q1,T[Math.min(S.findBin(2.5*h.q1-1.5*h.q3,T,!0)+1,_-1)])}function l(h,T,_){return 0===_?h.q3:Math.max(h.q3,T[Math.max(S.findBin(2.5*h.q3-1.5*h.q1,T),0)])}function u(h){return 4*h.q1-3*h.q3}function d(h){return 4*h.q3-3*h.q1}function m(h,T){return 0===T?0:1.57*(h.q3-h.q1)/Math.sqrt(T)}},37188:function(ae,B,r){"use strict";var D=r(89298),E=r(71828),f=r(99082).getAxisGroup,S=["v","h"];function M(v,c,i,s){var a,o,l,u=c.calcdata,d=c._fullLayout,m=s._id,h=m.charAt(0),T=[],_=0;for(a=0;a<i.length;a++)for(l=u[i[a]],o=0;o<l.length;o++)T.push(s.c2l(l[o].pos,!0)),_+=(l[o].pts2||[]).length;if(T.length){var g=E.distinctVals(T);"category"!==s.type&&"multicategory"!==s.type||(g.minDiff=1);var w=g.minDiff/2;D.minDtick(s,g.minDiff,g.vals[0],!0);var x=d["violin"===v?"_numViolins":"_numBoxes"],b="group"===d[v+"mode"]&&x>1,A=1-d[v+"gap"],p=1-d[v+"groupgap"];for(a=0;a<i.length;a++){var O,k,I,P,R,N,j=(l=u[i[a]])[0].trace,X=l[0].t,F=j.width,Z=j.side;if(F)O=k=P=F/2,I=0;else if(O=w,b){var W=f(d,s._id)+j.orientation,G=Object.keys(((d._alignmentOpts[W]||{})[j.alignmentgroup]||{}).offsetGroups||{}).length,Y=G||x;k=O*A*p/Y,I=2*O*(((G?j._offsetIndex:X.num)+.5)/Y-.5)*A,P=O*A/Y}else k=O*A*p,I=0,P=O;X.dPos=O,X.bPos=I,X.bdPos=k,X.wHover=P;var se,te,re,Q,ee,oe,le=I+k,ue=Boolean(F);if("positive"===Z?(R=O*(F?1:.5),se=le,N=se=I):"negative"===Z?(R=se=I,N=O*(F?1:.5),te=le):(R=N=O,se=te=le),(j.boxpoints||j.points)&&_>0){var de=j.pointpos,he=j.jitter,we=j.marker.size/2,Ae=0;de+he>=0&&((Ae=le*(de+he))>R?(ue=!0,ee=we,re=Ae):Ae>se&&(ee=we,re=R)),Ae<=R&&(re=R);var Te=0;de-he<=0&&((Te=-le*(de-he))>N?(ue=!0,oe=we,Q=Te):Te>te&&(oe=we,Q=N)),Te<=N&&(Q=N)}else re=R,Q=N;var ve=new Array(l.length);for(o=0;o<l.length;o++)ve[o]=l[o].pos;j._extremes[m]=D.findExtremes(s,ve,{padded:ue,vpadminus:Q,vpadplus:re,vpadLinearized:!0,ppadminus:{x:oe,y:ee}[h],ppadplus:{x:ee,y:oe}[h]})}}}ae.exports={crossTraceCalc:function(v,c){for(var i=v.calcdata,s=c.xaxis,a=c.yaxis,o=0;o<S.length;o++){for(var l=S[o],u="h"===l?a:s,d=[],m=0;m<i.length;m++){var h=i[m],_=h[0].trace;!0!==_.visible||"box"!==_.type&&"candlestick"!==_.type||h[0].t.empty||(_.orientation||"v")!==l||_.xaxis!==s._id||_.yaxis!==a._id||d.push(m)}M("box",v,d,u)}},setPositionOffset:M}},36411:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),f=r(7901),S=r(73927),M=r(26125),v=r(4322),c=r(53522);function i(a,o,l,u){function d(Z){var W=0;return Z&&Z.length&&(W+=1,D.isArrayOrTypedArray(Z[0])&&Z[0].length&&(W+=1)),W}function m(Z){return D.validate(a[Z],c[Z])}var h,T=l("y"),_=l("x");if("box"===o.type){var g=l("q1"),w=l("median"),x=l("q3");o._hasPreCompStats=g&&g.length&&w&&w.length&&x&&x.length,h=Math.min(D.minRowLength(g),D.minRowLength(w),D.minRowLength(x))}var b,A,p=d(T),O=d(_),k=p&&D.minRowLength(T),I=O&&D.minRowLength(_),P=u.calendar,R={autotypenumbers:u.autotypenumbers};if(o._hasPreCompStats)switch(String(O)+String(p)){case"00":var N=m("x0")||m("dx");b=!m("y0")&&!m("dy")||N?"v":"h",A=h;break;case"10":b="v",A=Math.min(h,I);break;case"20":b="h",A=Math.min(h,_.length);break;case"01":b="h",A=Math.min(h,k);break;case"02":b="v",A=Math.min(h,T.length);break;case"12":b="v",A=Math.min(h,I,T.length);break;case"21":b="h",A=Math.min(h,_.length,k);break;case"11":A=0;break;case"22":var j,X=!1;for(j=0;j<_.length;j++)if("category"===v(_[j],P,R)){X=!0;break}if(X)b="v",A=Math.min(h,I,T.length);else{for(j=0;j<T.length;j++)if("category"===v(T[j],P,R)){X=!0;break}X?(b="h",A=Math.min(h,_.length,k)):(b="v",A=Math.min(h,I,T.length))}}else p>0?(b="v",A=O>0?Math.min(I,k):Math.min(k)):O>0?(b="h",A=Math.min(I)):A=0;if(A){o._length=A;var F=l("orientation",b);o._hasPreCompStats?"v"===F&&0===O?(l("x0",0),l("dx",1)):"h"===F&&0===p&&(l("y0",0),l("dy",1)):"v"===F&&0===O?l("x0"):"h"===F&&0===p&&l("y0"),E.getComponentMethod("calendars","handleTraceDefaults")(a,o,["x","y"],u)}else o.visible=!1}function s(a,o,l,u){var d=u.prefix,m=D.coerce2(a,o,c,"marker.outliercolor"),h=l("marker.line.outliercolor"),T="outliers";o._hasPreCompStats?T="all":(m||h)&&(T="suspectedoutliers");var _=l(d+"points",T);_?(l("jitter","all"===_?.3:0),l("pointpos","all"===_?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",o.line.color),l("marker.line.color"),l("marker.line.width"),"suspectedoutliers"===_&&(l("marker.line.outliercolor",o.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete o.marker;var g=l("hoveron");"all"!==g&&-1===g.indexOf("points")||l("hovertemplate"),D.coerceSelectionMarkerOpacity(o,l)}ae.exports={supplyDefaults:function(a,o,l,u){function d(A,p){return D.coerce(a,o,c,A,p)}if(i(a,o,d,u),!1!==o.visible){S(a,o,u,d),d("xhoverformat"),d("yhoverformat");var m=o._hasPreCompStats;m&&(d("lowerfence"),d("upperfence")),d("line.color",(a.marker||{}).color||l),d("line.width"),d("fillcolor",f.addOpacity(o.line.color,.5));var h=!1;if(m){var T=d("mean"),_=d("sd");T&&T.length&&(h=!0,_&&_.length&&(h="sd"))}d("whiskerwidth");var g,w=d("sizemode");"quartiles"===w&&(g=d("boxmean",h)),d("showwhiskers","quartiles"===w),"sd"!==w&&"sd"!==g||d("sdmultiple"),d("width"),d("quartilemethod");var x=!1;if(m){var b=d("notchspan");b&&b.length&&(x=!0)}else D.validate(a.notchwidth,c.notchwidth)&&(x=!0);d("notched",x)&&d("notchwidth"),s(a,o,d,{prefix:"box"})}},crossTraceDefaults:function(a,o){var u;function d(T){return D.coerce(u._input,u,c,T)}for(var m=0;m<a.length;m++){var h=(u=a[m]).type;"box"!==h&&"violin"!==h||"group"===o[h+"mode"]&&M(u._input,u,o,d)}},handleSampleDefaults:i,handlePointsDefaults:s}},74907:function(ae){"use strict";ae.exports=function(B,r){return r.hoverOnBox&&(B.hoverOnBox=r.hoverOnBox),"xVal"in r&&(B.x=r.xVal),"yVal"in r&&(B.y=r.yVal),r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),B}},41868:function(ae,B,r){"use strict";var D=r(89298),E=r(71828),f=r(30211),S=r(7901),M=E.fillText;function v(i,s,a,o){var l,u,d,m,h,T,_,g,w,x,b,A,p,O,k=i.cd,I=i.xa,P=i.ya,R=k[0].trace,N=k[0].t,j="violin"===R.type,X=N.bdPos,F=N.wHover,Z=function(Se){return d.c2l(Se.pos)+N.bPos-d.c2l(T)};j&&"both"!==R.side?("positive"===R.side&&(w=function(Se){var ke=Z(Se);return f.inbox(ke,ke+F,x)},A=X,p=0),"negative"===R.side&&(w=function(Se){var ke=Z(Se);return f.inbox(ke-F,ke,x)},A=0,p=X)):(w=function(Se){var ke=Z(Se);return f.inbox(ke-F,ke+F,x)},A=p=X),O=j?function(Se){return f.inbox(Se.span[0]-h,Se.span[1]-h,x)}:function(Se){return f.inbox(Se.min-h,Se.max-h,x)},"h"===R.orientation?(h=s,T=a,_=O,g=w,l="y",d=P,u="x",m=I):(h=a,T=s,_=w,g=O,l="x",d=I,u="y",m=P);var W=Math.min(1,X/Math.abs(d.r2c(d.range[1])-d.r2c(d.range[0])));function H(Se){return(_(Se)+g(Se))/2}x=i.maxHoverDistance-W,b=i.maxSpikeDistance-W;var G=f.getDistanceFunction(o,_,g,H);if(f.getClosest(k,G,i),!1===i.index)return[];var Y=k[i.index],se=R.line.color,te=(R.marker||{}).color;i.color=S.opacity(se)&&R.line.width?se:S.opacity(te)&&R.boxpoints?te:R.fillcolor,i[l+"0"]=d.c2p(Y.pos+N.bPos-p,!0),i[l+"1"]=d.c2p(Y.pos+N.bPos+A,!0),i[l+"LabelVal"]=void 0!==Y.orig_p?Y.orig_p:Y.pos;var re=l+"Spike";i.spikeDistance=H(Y)*b/x,i[re]=d.c2p(Y.pos,!0);var Q=R.boxmean||"sd"===R.sizemode||(R.meanline||{}).visible,ee=R.boxpoints||R.points,oe=ee&&Q?["max","uf","q3","med","mean","q1","lf","min"]:ee&&!Q?["max","uf","q3","med","q1","lf","min"]:!ee&&Q?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"];R.orientation===(m.range[1]<m.range[0]?"v":"h")&&oe.reverse();for(var ue=i.spikeDistance,de=i[re],he=[],we=0;we<oe.length;we++){var Ae=oe[we];if(Ae in Y){var Te=Y[Ae],ve=m.c2p(Te,!0),xe=E.extendFlat({},i);xe.attr=Ae,xe[u+"0"]=xe[u+"1"]=ve,xe[u+"LabelVal"]=Te,xe[u+"Label"]=(N.labels?N.labels[Ae]+" ":"")+D.hoverLabelText(m,Te,R[u+"hoverformat"]),xe.hoverOnBox=!0,"mean"!==Ae||!("sd"in Y)||"sd"!==R.boxmean&&"sd"!==R.sizemode||(xe[u+"err"]=Y.sd),xe.hovertemplate=!1,he.push(xe)}}i.name="",i.spikeDistance=void 0,i[re]=void 0;for(var Fe=0;Fe<he.length;Fe++)"med"!==he[Fe].attr?(he[Fe].name="",he[Fe].spikeDistance=void 0,he[Fe][re]=void 0):(he[Fe].spikeDistance=ue,he[Fe][re]=de);return he}function c(i,s,a){for(var o,l,u,d=i.cd,m=i.xa,h=i.ya,T=d[0].trace,_=m.c2p(s),g=h.c2p(a),w=f.quadrature(function(j){var X=Math.max(3,j.mrc||0);return Math.max(Math.abs(m.c2p(j.x)-_)-X,1-3/X)},function(j){var X=Math.max(3,j.mrc||0);return Math.max(Math.abs(h.c2p(j.y)-g)-X,1-3/X)}),x=!1,b=0;b<d.length;b++){l=d[b];for(var A=0;A<(l.pts||[]).length;A++){var p=w(u=l.pts[A]);p<=i.distance&&(i.distance=p,x=[b,A])}}if(!x)return!1;u=(l=d[x[0]]).pts[x[1]];var O=m.c2p(u.x,!0),k=h.c2p(u.y,!0),I=u.mrc||1;o=E.extendFlat({},i,{index:u.i,color:(T.marker||{}).color,name:T.name,x0:O-I,x1:O+I,y0:k-I,y1:k+I,spikeDistance:i.distance,hovertemplate:T.hovertemplate});var P,R=l.orig_p,N=void 0!==R?R:l.pos;return"h"===T.orientation?(P=h,o.xLabelVal=u.x,o.yLabelVal=N):(P=m,o.xLabelVal=N,o.yLabelVal=u.y),o[P._id.charAt(0)+"Spike"]=P.c2p(l.pos,!0),M(u,T,o),o}ae.exports={hoverPoints:function(i,s,a,o){var l,u=i.cd[0].trace.hoveron,d=[];return-1!==u.indexOf("boxes")&&(d=d.concat(v(i,s,a,o))),-1!==u.indexOf("points")&&(l=c(i,s,a)),"closest"===o?l?[l]:d:(l&&d.push(l),d)},hoverOnBoxes:v,hoverOnPoints:c}},83832:function(ae,B,r){"use strict";ae.exports={attributes:r(53522),layoutAttributes:r(40094),supplyDefaults:r(36411).supplyDefaults,crossTraceDefaults:r(36411).crossTraceDefaults,supplyLayoutDefaults:r(4199).supplyLayoutDefaults,calc:r(48518),crossTraceCalc:r(37188).crossTraceCalc,plot:r(86047).plot,style:r(58063).style,styleOnSelect:r(58063).styleOnSelect,hoverPoints:r(41868).hoverPoints,eventData:r(74907),selectPoints:r(24626),moduleType:"trace",name:"box",basePlotModule:r(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(ae){"use strict";ae.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(40094);function S(M,v,c,i,s){for(var a=s+"Layout",o=!1,l=0;l<c.length;l++)if(D.traceIs(c[l],a)){o=!0;break}o&&(i(s+"mode"),i(s+"gap"),i(s+"groupgap"))}ae.exports={supplyLayoutDefaults:function(M,v,c){S(0,0,c,function(i,s){return E.coerce(M,v,f,i,s)},"box")},_supply:S}},86047:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424);function S(c,i,s,a,o){var l,u,d="h"===s.orientation,m=i.val,h=i.pos,T=!!h.rangebreaks,_=a.bPos,g=a.wdPos||0,w=a.bPosPxOffset||0,x=s.whiskerwidth||0,b=!1!==s.showwhiskers,A=s.notched||!1,p=A?1-2*s.notchwidth:1;Array.isArray(a.bdPos)?(l=a.bdPos[0],u=a.bdPos[1]):(l=a.bdPos,u=a.bdPos);var O=c.selectAll("path.box").data("violin"!==s.type||s.box.visible?E.identity:[]);O.enter().append("path").style("vector-effect",o?"none":"non-scaling-stroke").attr("class","box"),O.exit().remove(),O.each(function(k){if(k.empty)return D.select(this).attr("d","M0,0Z");var I=h.c2l(k.pos+_,!0),P=h.l2p(I-l)+w,R=h.l2p(I+u)+w,N=T?(P+R)/2:h.l2p(I)+w,j=s.whiskerwidth,X=T?P*j+(1-j)*N:h.l2p(I-g)+w,F=T?R*j+(1-j)*N:h.l2p(I+g)+w,Z=h.l2p(I-l*p)+w,W=h.l2p(I+u*p)+w,H="sd"===s.sizemode,G=m.c2p(H?k.mean-k.sd:k.q1,!0),Y=m.c2p(H?k.mean+k.sd:k.q3,!0),se=E.constrain(m.c2p(H?k.mean:k.med,!0),Math.min(G,Y)+1,Math.max(G,Y)-1),te=void 0===k.lf||!1===s.boxpoints||H,re=m.c2p(te?k.min:k.lf,!0),Q=m.c2p(te?k.max:k.uf,!0),ee=m.c2p(k.ln,!0),oe=m.c2p(k.un,!0);d?D.select(this).attr("d","M"+se+","+Z+"V"+W+"M"+G+","+P+"V"+R+(A?"H"+ee+"L"+se+","+W+"L"+oe+","+R:"")+"H"+Y+"V"+P+(A?"H"+oe+"L"+se+","+Z+"L"+ee+","+P:"")+"Z"+(b?"M"+G+","+N+"H"+re+"M"+Y+","+N+"H"+Q+(0===x?"":"M"+re+","+X+"V"+F+"M"+Q+","+X+"V"+F):"")):D.select(this).attr("d","M"+Z+","+se+"H"+W+"M"+P+","+G+"H"+R+(A?"V"+ee+"L"+W+","+se+"L"+R+","+oe:"")+"V"+Y+"H"+P+(A?"V"+oe+"L"+Z+","+se+"L"+P+","+ee:"")+"Z"+(b?"M"+N+","+G+"V"+re+"M"+N+","+Y+"V"+Q+(0===x?"":"M"+X+","+re+"H"+F+"M"+X+","+Q+"H"+F):""))})}function M(c,i,s,a){var o=i.x,l=i.y,u=a.bdPos,d=a.bPos,m=s.boxpoints||s.points;E.seedPseudoRandom();var h=c.selectAll("g.points").data(m?function(_){return _.forEach(function(g){g.t=a,g.trace=s}),_}:[]);h.enter().append("g").attr("class","points"),h.exit().remove();var T=h.selectAll("path").data(function(_){var g,w,x=_.pts2,b=Math.max((_.max-_.min)/10,_.q3-_.q1),A=1e-9*b,p=.01*b,O=[],k=0;if(s.jitter){if(0===b)for(k=1,O=new Array(x.length),g=0;g<x.length;g++)O[g]=1;else for(g=0;g<x.length;g++){var I=Math.max(0,g-5),P=x[I].v,R=Math.min(x.length-1,g+5),N=x[R].v;"all"!==m&&(x[g].v<_.lf?N=Math.min(N,_.lf):P=Math.max(P,_.uf));var j=Math.sqrt(p*(R-I)/(N-P+A))||0;j=E.constrain(Math.abs(j),0,1),O.push(j),k=Math.max(j,k)}w=2*s.jitter/(k||1)}for(g=0;g<x.length;g++){var X=x[g],F=X.v,Z=s.jitter?w*O[g]*(E.pseudoRandom()-.5):0,W=_.pos+d+u*(s.pointpos+Z);"h"===s.orientation?(X.y=W,X.x=F):(X.x=W,X.y=F),"suspectedoutliers"===m&&F<_.uo&&F>_.lo&&(X.so=!0)}return x});T.enter().append("path").classed("point",!0),T.exit().remove(),T.call(f.translatePoints,o,l)}function v(c,i,s,a){var o,l,u=i.val,d=i.pos,m=!!d.rangebreaks,h=a.bPos,T=a.bPosPxOffset||0,_=s.boxmean||(s.meanline||{}).visible;Array.isArray(a.bdPos)?(o=a.bdPos[0],l=a.bdPos[1]):(o=a.bdPos,l=a.bdPos);var g=c.selectAll("path.mean").data("box"===s.type&&s.boxmean||"violin"===s.type&&s.box.visible&&s.meanline.visible?E.identity:[]);g.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),g.exit().remove(),g.each(function(w){var x=d.c2l(w.pos+h,!0),b=d.l2p(x-o)+T,A=d.l2p(x+l)+T,p=m?(b+A)/2:d.l2p(x)+T,O=u.c2p(w.mean,!0),k=u.c2p(w.mean-w.sd,!0),I=u.c2p(w.mean+w.sd,!0);"h"===s.orientation?D.select(this).attr("d","M"+O+","+b+"V"+A+("sd"===_?"m0,0L"+k+","+p+"L"+O+","+b+"L"+I+","+p+"Z":"")):D.select(this).attr("d","M"+b+","+O+"H"+A+("sd"===_?"m0,0L"+p+","+k+"L"+b+","+O+"L"+p+","+I+"Z":""))})}ae.exports={plot:function(c,i,s,a){var o=c._context.staticPlot,l=i.xaxis,u=i.yaxis;E.makeTraceGroups(a,s,"trace boxes").each(function(d){var m,h,T=D.select(this),_=d[0],g=_.t,w=_.trace;g.wdPos=g.bdPos*w.whiskerwidth,!0!==w.visible||g.empty?T.remove():("h"===w.orientation?(m=u,h=l):(m=l,h=u),S(T,{pos:m,val:h},w,g,o),M(T,{x:l,y:u},w,g),v(T,{pos:m,val:h},w,g))})},plotBoxAndWhiskers:S,plotPoints:M,plotBoxMean:v}},24626:function(ae){"use strict";ae.exports=function(B,r){var D,E,f=B.cd,S=B.xaxis,M=B.yaxis,v=[];if(!1===r)for(D=0;D<f.length;D++)for(E=0;E<(f[D].pts||[]).length;E++)f[D].pts[E].selected=0;else for(D=0;D<f.length;D++)for(E=0;E<(f[D].pts||[]).length;E++){var c=f[D].pts[E],i=S.c2p(c.x),s=M.c2p(c.y);r.contains([i,s],null,c.i,B)?(v.push({pointNumber:c.i,x:S.c2d(c.x),y:M.c2d(c.y)}),c.selected=1):c.selected=0}return v}},58063:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),f=r(91424);ae.exports={style:function(S,M,v){var c=v||D.select(S).selectAll("g.trace.boxes");c.style("opacity",function(i){return i[0].trace.opacity}),c.each(function(i){var s=D.select(this),a=i[0].trace,o=a.line.width;function l(m,h,T,_){m.style("stroke-width",h+"px").call(E.stroke,T).call(E.fill,_)}var u=s.selectAll("path.box");if("candlestick"===a.type)u.each(function(m){if(!m.empty){var h=D.select(this),T=a[m.dir];l(h,T.line.width,T.line.color,T.fillcolor),h.style("opacity",a.selectedpoints&&!m.selected?.3:1)}});else{l(u,o,a.line.color,a.fillcolor),s.selectAll("path.mean").style({"stroke-width":o,"stroke-dasharray":2*o+"px,"+o+"px"}).call(E.stroke,a.line.color);var d=s.selectAll("path.point");f.pointStyle(d,a,S)}})},styleOnSelect:function(S,M,v){var c=M[0].trace,i=v.selectAll("path.point");c.selectedpoints?f.selectedPointStyle(i,c):f.pointStyle(i,c,S)}}},75343:function(ae,B,r){"use strict";var D=r(71828).extendFlat,E=r(12663).axisHoverFormat,f=r(2522),S=r(53522);function M(v){return{line:{color:D({},S.line.color,{dflt:v}),width:S.line.width,editType:"style"},fillcolor:S.fillcolor,editType:"style"}}ae.exports={xperiod:f.xperiod,xperiod0:f.xperiod0,xperiodalignment:f.xperiodalignment,xhoverformat:E("x"),yhoverformat:E("y"),x:f.x,open:f.open,high:f.high,low:f.low,close:f.close,line:{width:D({},S.line.width,{}),editType:"style"},increasing:M(f.increasing.line.color.dflt),decreasing:M(f.decreasing.line.color.dflt),text:f.text,hovertext:f.hovertext,whiskerwidth:D({},S.whiskerwidth,{dflt:0}),hoverlabel:f.hoverlabel}},41197:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(42973),S=r(3485).calcCommon;function M(v,c,i,s){return{min:i,q1:Math.min(v,s),med:s,q3:Math.max(v,s),max:c}}ae.exports=function(v,c){var i=v._fullLayout,s=E.getFromId(v,c.xaxis),a=E.getFromId(v,c.yaxis),o=s.makeCalcdata(c,"x"),l=f(c,s,"x",o).vals,u=S(v,c,o,l,a,M);return u.length?(D.extendFlat(u[0].t,{num:i._numBoxes,dPos:D.distinctVals(l).minDiff/2,posLetter:"x",valLetter:"y"}),i._numBoxes++,u):[{t:{empty:!0}}]}},1026:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(14555),S=r(73927),M=r(75343);function v(c,i,s,a){var o=s(a+".line.color");s(a+".line.width",i.line.width),s(a+".fillcolor",E.addOpacity(o,.5))}ae.exports=function(c,i,s,a){function o(l,u){return D.coerce(c,i,M,l,u)}f(c,i,o,a)?(S(c,i,a,o,{x:!0}),o("xhoverformat"),o("yhoverformat"),o("line.width"),v(0,i,o,"increasing"),v(0,i,o,"decreasing"),o("text"),o("hovertext"),o("whiskerwidth"),a._requestRangeslider[i.xaxis]=!0):i.visible=!1}},91815:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"candlestick",basePlotModule:r(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:r(75343),layoutAttributes:r(40094),supplyLayoutDefaults:r(4199).supplyLayoutDefaults,crossTraceCalc:r(37188).crossTraceCalc,supplyDefaults:r(1026),calc:r(41197),plot:r(86047).plot,layerName:"boxlayer",style:r(58063).style,hoverPoints:r(66449).hoverPoints,selectPoints:r(67324)}},13145:function(ae,B,r){"use strict";var D=r(11500),E=r(44467);ae.exports=function(f,S,M,v,c){var i,s,a,o;v("a")||(v("da"),v("a0")),v("b")||(v("db"),v("b0")),i=f,s=S,a=M,o=c,["aaxis","baxis"].forEach(function(l){var u=l.charAt(0),d=i[l]||{},m=E.newContainer(s,l);D(d,m,{noTicklabelstep:!0,tickfont:"x",id:u+"axis",letter:u,font:s.font,name:l,data:i[u],calendar:s.calendar,dfltColor:o,bgColor:a.paper_bgcolor,autotypenumbersDflt:a.autotypenumbers,fullLayout:a}),m._categories=m._categories||[],i[l]||"-"===d.type||(i[l]={type:d.type})})}},402:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray;function E(f,S){if(!D(f)||S>=10)return null;for(var M=1/0,v=-1/0,c=f.length,i=0;i<c;i++){var s=f[i];if(D(s)){var a=E(s,S+1);a&&(M=Math.min(a[0],M),v=Math.max(a[1],v))}else M=Math.min(s,M),v=Math.max(s,v)}return[M,v]}ae.exports=function(f){return E(f,0)}},99798:function(ae,B,r){"use strict";var D=r(41940),E=r(1928),f=r(22399),S=D({editType:"calc"});S.family.dflt='"Open Sans", verdana, arial, sans-serif',S.size.dflt=12,S.color.dflt=f.defaultLine,ae.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:E,baxis:E,font:S,color:{valType:"color",dflt:f.defaultLine,editType:"plot"},transforms:void 0}},4536:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray;ae.exports=function(E,f,S,M){var v,c,i,s,a,o,l,u,d,m,h,T,_,g=D(S)?"a":"b",w=("a"===g?E.aaxis:E.baxis).smoothing,x="a"===g?E.a2i:E.b2j,b="a"===g?S:M,A="a"===g?M:S,p="a"===g?f.a.length:f.b.length,O="a"===g?f.b.length:f.a.length,k=Math.floor("a"===g?E.b2j(A):E.a2i(A)),I="a"===g?function(se){return E.evalxy([],se,k)}:function(se){return E.evalxy([],k,se)};w&&(i=Math.max(0,Math.min(O-2,k)),s=k-i,c="a"===g?function(se,te){return E.dxydi([],se,i,te,s)}:function(se,te){return E.dxydj([],i,se,s,te)});var P=x(b[0]),R=x(b[1]),N=P<R?1:-1,j=1e-8*(R-P),X=N>0?Math.floor:Math.ceil,F=N>0?Math.ceil:Math.floor,Z=N>0?Math.min:Math.max,W=N>0?Math.max:Math.min,H=X(P+j),G=F(R-j),Y=[[l=I(P)]];for(v=H;v*N<G*N;v+=N)a=[],h=W(P,v),_=(T=Z(R,v+N))-h,o=Math.max(0,Math.min(p-2,Math.floor(.5*(h+T)))),u=I(T),w&&(d=c(o,h-o),m=c(o,T-o),a.push([l[0]+d[0]/3*_,l[1]+d[1]/3*_]),a.push([u[0]-m[0]/3*_,u[1]-m[1]/3*_])),a.push(u),Y.push(a),l=u;return Y}},1928:function(ae,B,r){"use strict";var D=r(41940),E=r(22399),f=r(13838),S=r(12663).descriptionWithDates,M=r(30962).overrideAll,v=r(79952).P,c=r(1426).extendFlat;ae.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:D({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:f.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:c({},f.labelalias,{editType:"calc"}),tickfont:D({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:S("tick label")},tickformatstops:M(f.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:E.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:c({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:c({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:E.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:D({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(ae,B,r){"use strict";var D=r(99798),E=r(7901).addOpacity,f=r(73972),S=r(71828),M=r(26218),v=r(96115),c=r(89426),i=r(15258),s=r(21994),a=r(4322);ae.exports=function(o,l,u){var d=u.letter,m=u.font||{},h=D[d+"axis"];function T(N,j){return S.coerce(o,l,h,N,j)}function _(N,j){return S.coerce2(o,l,h,N,j)}u.name&&(l._name=u.name,l._id=u.name),T("autotypenumbers",u.autotypenumbersDflt);var g=T("type");"-"===g&&(u.data&&function(N,j){if("-"===N.type){var X=N._id.charAt(0);N.type=a(j,N[X+"calendar"],{autotypenumbers:N.autotypenumbers})}}(l,u.data),"-"===l.type?l.type="linear":g=o.type=l.type),T("smoothing"),T("cheatertype"),T("showticklabels"),T("labelprefix",d+" = "),T("labelsuffix"),T("showtickprefix"),T("showticksuffix"),T("separatethousands"),T("tickformat"),T("exponentformat"),T("minexponent"),T("showexponent"),T("categoryorder"),T("tickmode"),T("tickvals"),T("ticktext"),T("tick0"),T("dtick"),"array"===l.tickmode&&(T("arraytick0"),T("arraydtick")),T("labelpadding"),l._hovertitle=d,"date"===g&&f.getComponentMethod("calendars","handleDefaults")(o,l,"calendar",u.calendar),s(l,u.fullLayout),l.c2p=S.identity;var w=T("color",u.dfltColor),x=w===o.color?w:m.color;T("title.text")&&(S.coerceFont(T,"title.font",{family:m.family,size:S.bigFont(m.size),color:x}),T("title.offset")),T("tickangle"),T("autorange",!l.isValidRange(o.range))&&T("rangemode"),T("range"),l.cleanRange(),T("fixedrange"),M(o,l,T,g),c(o,l,T,g,u),v(o,l,T,g,u),i(o,l,T,{data:u.data,dataAttr:d});var b=_("gridcolor",E(w,.3)),A=_("gridwidth"),p=_("griddash"),O=T("showgrid");O||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var k=_("startlinecolor",w),I=_("startlinewidth",A);T("startline",l.showgrid||!!k||!!I)||(delete l.startlinecolor,delete l.startlinewidth);var P=_("endlinecolor",w),R=_("endlinewidth",A);return T("endline",l.showgrid||!!P||!!R)||(delete l.endlinecolor,delete l.endlinewidth),O?(T("minorgridcount"),T("minorgridwidth",A),T("minorgriddash",p),T("minorgridcolor",E(b,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),"none"===l.showticklabels&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,T("tickmode"),l}},25281:function(ae,B,r){"use strict";var D=r(89298),E=r(71828).isArray1D,f=r(53824),S=r(402),M=r(20347),v=r(83311),c=r(44807),i=r(4742),s=r(72505),a=r(68296),o=r(11435);ae.exports=function(l,u){var d=D.getFromId(l,u.xaxis),m=D.getFromId(l,u.yaxis),h=u.aaxis,T=u.baxis,_=u.x,g=u.y,w=[];_&&E(_)&&w.push("x"),g&&E(g)&&w.push("y"),w.length&&a(u,h,T,"a","b",w);var x=u._a=u._a||u.a,b=u._b=u._b||u.b;_=u._x||u.x,g=u._y||u.y;var A={};u._cheater&&(_=f("index"===h.cheatertype?x.length:x,"index"===T.cheatertype?b.length:b,u.cheaterslope)),u._x=_=i(_),u._y=g=i(g),s(_,x,b),s(g,x,b),o(u),u.setScale();var k=S(_),I=S(g),P=.5*(k[1]-k[0]),R=.5*(k[1]+k[0]),N=.5*(I[1]-I[0]),j=.5*(I[1]+I[0]),X=1.3;return I=[j-N*X,j+N*X],u._extremes[d._id]=D.findExtremes(d,k=[R-P*X,R+P*X],{padded:!0}),u._extremes[m._id]=D.findExtremes(m,I,{padded:!0}),M(u,"a","b"),M(u,"b","a"),v(u,h),v(u,T),A.clipsegments=c(u._xctrl,u._yctrl,h,T),A.x=_,A.y=g,A.a=x,A.b=b,[A]}},44807:function(ae){"use strict";ae.exports=function(B,r,D,E){var f,S,M,v=[],c=!!D.smoothing,i=!!E.smoothing,s=B[0].length-1,a=B.length-1;for(f=0,S=[],M=[];f<=s;f++)S[f]=B[0][f],M[f]=r[0][f];for(v.push({x:S,y:M,bicubic:c}),f=0,S=[],M=[];f<=a;f++)S[f]=B[f][s],M[f]=r[f][s];for(v.push({x:S,y:M,bicubic:i}),f=s,S=[],M=[];f>=0;f--)S[s-f]=B[a][f],M[s-f]=r[a][f];for(v.push({x:S,y:M,bicubic:c}),f=a,S=[],M=[];f>=0;f--)S[a-f]=B[f][0],M[a-f]=r[f][0];return v.push({x:S,y:M,bicubic:i}),v}},20347:function(ae,B,r){"use strict";var D=r(89298),E=r(1426).extendFlat;ae.exports=function(f,S,M){var v,c,i,s,a,o,l,u,d,m,h,T,_,g,w=f["_"+S],x=f[S+"axis"],b=x._gridlines=[],A=x._minorgridlines=[],p=x._boundarylines=[],O=f["_"+M],k=f[M+"axis"];"array"===x.tickmode&&(x.tickvals=w.slice());var I=f._xctrl,P=f._yctrl,R=I[0].length,N=I.length,j=f._a.length,X=f._b.length;D.prepTicks(x),"array"===x.tickmode&&delete x.tickvals;var F=x.smoothing?3:1;function Z(H){var G,Y,se,te,re,Q,ee,oe,le,ue,de,he,we=[],Ae=[],Te={};if("b"===S)for(Y=f.b2j(H),se=Math.floor(Math.max(0,Math.min(X-2,Y))),te=Y-se,Te.length=X,Te.crossLength=j,Te.xy=function(ve){return f.evalxy([],ve,Y)},Te.dxy=function(ve,xe){return f.dxydi([],ve,se,xe,te)},G=0;G<j;G++)Q=Math.min(j-2,G),ee=G-Q,oe=f.evalxy([],G,Y),k.smoothing&&G>0&&(le=f.dxydi([],G-1,se,0,te),we.push(re[0]+le[0]/3),Ae.push(re[1]+le[1]/3),ue=f.dxydi([],G-1,se,1,te),we.push(oe[0]-ue[0]/3),Ae.push(oe[1]-ue[1]/3)),we.push(oe[0]),Ae.push(oe[1]),re=oe;else for(G=f.a2i(H),Q=Math.floor(Math.max(0,Math.min(j-2,G))),ee=G-Q,Te.length=j,Te.crossLength=X,Te.xy=function(ve){return f.evalxy([],G,ve)},Te.dxy=function(ve,xe){return f.dxydj([],Q,ve,ee,xe)},Y=0;Y<X;Y++)se=Math.min(X-2,Y),te=Y-se,oe=f.evalxy([],G,Y),k.smoothing&&Y>0&&(de=f.dxydj([],Q,Y-1,ee,0),we.push(re[0]+de[0]/3),Ae.push(re[1]+de[1]/3),he=f.dxydj([],Q,Y-1,ee,1),we.push(oe[0]-he[0]/3),Ae.push(oe[1]-he[1]/3)),we.push(oe[0]),Ae.push(oe[1]),re=oe;return Te.axisLetter=S,Te.axis=x,Te.crossAxis=k,Te.value=H,Te.constvar=M,Te.index=u,Te.x=we,Te.y=Ae,Te.smoothing=k.smoothing,Te}function W(H){var G,Y,se,te,re,Q=[],ee=[],oe={};if(oe.length=w.length,oe.crossLength=O.length,"b"===S)for(se=Math.max(0,Math.min(X-2,H)),re=Math.min(1,Math.max(0,H-se)),oe.xy=function(le){return f.evalxy([],le,H)},oe.dxy=function(le,ue){return f.dxydi([],le,se,ue,re)},G=0;G<R;G++)Q[G]=I[H*F][G],ee[G]=P[H*F][G];else for(Y=Math.max(0,Math.min(j-2,H)),te=Math.min(1,Math.max(0,H-Y)),oe.xy=function(le){return f.evalxy([],H,le)},oe.dxy=function(le,ue){return f.dxydj([],Y,le,te,ue)},G=0;G<N;G++)Q[G]=I[G][H*F],ee[G]=P[G][H*F];return oe.axisLetter=S,oe.axis=x,oe.crossAxis=k,oe.value=w[H],oe.constvar=M,oe.index=H,oe.x=Q,oe.y=ee,oe.smoothing=k.smoothing,oe}if("array"===x.tickmode){for(s=5e-15,o=(a=[Math.floor((w.length-1-x.arraytick0)/x.arraydtick*(1+s)),Math.ceil(-x.arraytick0/x.arraydtick/(1+s))].sort(function(H,G){return H-G}))[0]-1,l=a[1]+1,u=o;u<l;u++)(c=x.arraytick0+x.arraydtick*u)<0||c>w.length-1||b.push(E(W(c),{color:x.gridcolor,width:x.gridwidth,dash:x.griddash}));for(u=o;u<l;u++)if(i=x.arraytick0+x.arraydtick*u,h=Math.min(i+x.arraydtick,w.length-1),!(i<0||i>w.length-1||h<0||h>w.length-1))for(T=w[i],_=w[h],v=0;v<x.minorgridcount;v++)(g=h-i)<=0||(m=T+(_-T)*(v+1)/(x.minorgridcount+1)*(x.arraydtick/g))<w[0]||m>w[w.length-1]||A.push(E(Z(m),{color:x.minorgridcolor,width:x.minorgridwidth,dash:x.minorgriddash}));x.startline&&p.push(E(W(0),{color:x.startlinecolor,width:x.startlinewidth})),x.endline&&p.push(E(W(w.length-1),{color:x.endlinecolor,width:x.endlinewidth}))}else{for(s=5e-15,o=(a=[Math.floor((w[w.length-1]-x.tick0)/x.dtick*(1+s)),Math.ceil((w[0]-x.tick0)/x.dtick/(1+s))].sort(function(H,G){return H-G}))[0],l=a[1],u=o;u<=l;u++)b.push(E(Z(d=x.tick0+x.dtick*u),{color:x.gridcolor,width:x.gridwidth,dash:x.griddash}));for(u=o-1;u<l+1;u++)for(d=x.tick0+x.dtick*u,v=0;v<x.minorgridcount;v++)(m=d+x.dtick*(v+1)/(x.minorgridcount+1))<w[0]||m>w[w.length-1]||A.push(E(Z(m),{color:x.minorgridcolor,width:x.minorgridwidth,dash:x.minorgriddash}));x.startline&&p.push(E(Z(w[0]),{color:x.startlinecolor,width:x.startlinewidth})),x.endline&&p.push(E(Z(w[w.length-1]),{color:x.endlinecolor,width:x.endlinewidth}))}}},83311:function(ae,B,r){"use strict";var D=r(89298),E=r(1426).extendFlat;ae.exports=function(f,S){var M,v,c,i=S._labels=[],s=S._gridlines;for(M=0;M<s.length;M++)c=s[M],-1!==["start","both"].indexOf(S.showticklabels)&&(v=D.tickText(S,c.value),E(v,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:c.xy(0),dxy:c.dxy(0,0),axis:c.axis,length:c.crossAxis.length,font:c.axis.tickfont,isFirst:0===M,isLast:M===s.length-1}),i.push(v)),-1!==["end","both"].indexOf(S.showticklabels)&&(v=D.tickText(S,c.value),E(v,{endAnchor:!1,xy:c.xy(c.crossLength-1),dxy:c.dxy(c.crossLength-2,1),axis:c.axis,length:c.crossAxis.length,font:c.axis.tickfont,isFirst:0===M,isLast:M===s.length-1}),i.push(v))}},42048:function(ae){"use strict";ae.exports=function(B,r,D,E){var f=B[0]-r[0],S=B[1]-r[1],M=D[0]-r[0],v=D[1]-r[1],c=Math.pow(f*f+S*S,.25),i=Math.pow(M*M+v*v,.25),s=(i*i*f-c*c*M)*E,a=(i*i*S-c*c*v)*E,o=i*(c+i)*3,l=c*(c+i)*3;return[[r[0]+(o&&s/o),r[1]+(o&&a/o)],[r[0]-(l&&s/l),r[1]-(l&&a/l)]]}},53824:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray;ae.exports=function(E,f,S){var M,v,c,i,s,a,o=[],l=D(E)?E.length:E,u=D(f)?f.length:f,d=D(E)?E:null,m=D(f)?f:null;d&&(c=(d.length-1)/(d[d.length-1]-d[0])/(l-1)),m&&(i=(m.length-1)/(m[m.length-1]-m[0])/(u-1));var h=1/0,T=-1/0;for(v=0;v<u;v++)for(o[v]=[],s=m?(m[v]-m[0])*i:v/(u-1),M=0;M<l;M++)a=(d?(d[M]-d[0])*c:M/(l-1))-s*S,h=Math.min(a,h),T=Math.max(a,T),o[v][M]=a;var _=1/(T-h),g=-h*_;for(v=0;v<u;v++)for(M=0;M<l;M++)o[v][M]=_*o[v][M]+g;return o}},45664:function(ae,B,r){"use strict";var D=r(42048),E=r(71828).ensureArray;function f(S,M,v){return[(2*(-.5*v[0]+1.5*M[0])+S[0])/3,(2*(-.5*v[1]+1.5*M[1])+S[1])/3]}ae.exports=function(S,M,v,c,i,s){var a,o,l,u,d,m,h,T,_,g,w=v[0].length,x=v.length,b=i?3*w-2:w,A=s?3*x-2:x;for(S=E(S,A),M=E(M,A),l=0;l<A;l++)S[l]=E(S[l],b),M[l]=E(M[l],b);for(o=0,u=0;o<x;o++,u+=s?3:1)for(d=S[u],m=M[u],h=v[o],T=c[o],a=0,l=0;a<w;a++,l+=i?3:1)d[l]=h[a],m[l]=T[a];if(i)for(o=0,u=0;o<x;o++,u+=s?3:1){for(a=1,l=3;a<w-1;a++,l+=3)_=D([v[o][a-1],c[o][a-1]],[v[o][a],c[o][a]],[v[o][a+1],c[o][a+1]],i),S[u][l-1]=_[0][0],M[u][l-1]=_[0][1],S[u][l+1]=_[1][0],M[u][l+1]=_[1][1];g=f([S[u][0],M[u][0]],[S[u][2],M[u][2]],[S[u][3],M[u][3]]),S[u][1]=g[0],M[u][1]=g[1],g=f([S[u][b-1],M[u][b-1]],[S[u][b-3],M[u][b-3]],[S[u][b-4],M[u][b-4]]),S[u][b-2]=g[0],M[u][b-2]=g[1]}if(s)for(l=0;l<b;l++){for(u=3;u<A-3;u+=3)_=D([S[u-3][l],M[u-3][l]],[S[u][l],M[u][l]],[S[u+3][l],M[u+3][l]],s),S[u-1][l]=_[0][0],M[u-1][l]=_[0][1],S[u+1][l]=_[1][0],M[u+1][l]=_[1][1];g=f([S[0][l],M[0][l]],[S[2][l],M[2][l]],[S[3][l],M[3][l]]),S[1][l]=g[0],M[1][l]=g[1],g=f([S[A-1][l],M[A-1][l]],[S[A-3][l],M[A-3][l]],[S[A-4][l],M[A-4][l]]),S[A-2][l]=g[0],M[A-2][l]=g[1]}if(i&&s)for(u=1;u<A;u+=(u+1)%3==0?2:1){for(l=3;l<b-3;l+=3)_=D([S[u][l-3],M[u][l-3]],[S[u][l],M[u][l]],[S[u][l+3],M[u][l+3]],i),S[u][l-1]=.5*(S[u][l-1]+_[0][0]),M[u][l-1]=.5*(M[u][l-1]+_[0][1]),S[u][l+1]=.5*(S[u][l+1]+_[1][0]),M[u][l+1]=.5*(M[u][l+1]+_[1][1]);g=f([S[u][0],M[u][0]],[S[u][2],M[u][2]],[S[u][3],M[u][3]]),S[u][1]=.5*(S[u][1]+g[0]),M[u][1]=.5*(M[u][1]+g[1]),g=f([S[u][b-1],M[u][b-1]],[S[u][b-3],M[u][b-3]],[S[u][b-4],M[u][b-4]]),S[u][b-2]=.5*(S[u][b-2]+g[0]),M[u][b-2]=.5*(M[u][b-2]+g[1])}return[S,M]}},35509:function(ae){"use strict";ae.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(ae){"use strict";ae.exports=function(B,r,D){return r&&D?function(E,f,S,M,v){var c,o,l;E||(E=[]),f*=3,S*=3;var u=M*M,d=1-M,m=d*d,h=d*M*2,T=-3*m,_=3*(m-h),g=3*(h-u),w=3*u,x=v*v,b=x*v,A=1-v,p=A*A,O=p*A;for(l=0;l<B.length;l++)c=T*(o=B[l])[S][f]+_*o[S][f+1]+g*o[S][f+2]+w*o[S][f+3],E[l]=O*c+3*(p*v*(T*o[S+1][f]+_*o[S+1][f+1]+g*o[S+1][f+2]+w*o[S+1][f+3])+A*x*(T*o[S+2][f]+_*o[S+2][f+1]+g*o[S+2][f+2]+w*o[S+2][f+3]))+b*(T*o[S+3][f]+_*o[S+3][f+1]+g*o[S+3][f+2]+w*o[S+3][f+3]);return E}:r?function(E,f,S,M,v){var c,s,a;E||(E=[]),f*=3;var o=M*M,l=1-M,u=l*l,d=l*M*2,m=-3*u,h=3*(u-d),T=3*(d-o),_=3*o,g=1-v;for(s=0;s<B.length;s++)c=m*(a=B[s])[S][f]+h*a[S][f+1]+T*a[S][f+2]+_*a[S][f+3],E[s]=g*c+v*(m*a[S+1][f]+h*a[S+1][f+1]+T*a[S+1][f+2]+_*a[S+1][f+3]);return E}:D?function(E,f,S,M,v){var c,o,l;E||(E=[]),S*=3;var u=v*v,d=u*v,m=1-v,h=m*m,T=h*m;for(o=0;o<B.length;o++)c=(l=B[o])[S][f+1]-l[S][f],E[o]=T*c+3*(h*v*(l[S+1][f+1]-l[S+1][f])+m*u*(l[S+2][f+1]-l[S+2][f]))+d*(l[S+3][f+1]-l[S+3][f]);return E}:function(E,f,S,M,v){var c,s,a;E||(E=[]);var o=1-v;for(s=0;s<B.length;s++)c=(a=B[s])[S][f+1]-a[S][f],E[s]=o*c+v*(a[S+1][f+1]-a[S+1][f]);return E}}},73057:function(ae){"use strict";ae.exports=function(B,r,D){return r&&D?function(E,f,S,M,v){var c,o,l;E||(E=[]),f*=3,S*=3;var u=M*M,d=u*M,m=1-M,h=m*m,T=h*m,_=v*v,g=1-v,w=g*g,x=g*v*2,b=-3*w,A=3*(w-x),p=3*(x-_),O=3*_;for(l=0;l<B.length;l++)c=b*(o=B[l])[S][f]+A*o[S+1][f]+p*o[S+2][f]+O*o[S+3][f],E[l]=T*c+3*(h*M*(b*o[S][f+1]+A*o[S+1][f+1]+p*o[S+2][f+1]+O*o[S+3][f+1])+m*u*(b*o[S][f+2]+A*o[S+1][f+2]+p*o[S+2][f+2]+O*o[S+3][f+2]))+d*(b*o[S][f+3]+A*o[S+1][f+3]+p*o[S+2][f+3]+O*o[S+3][f+3]);return E}:r?function(E,f,S,M,v){var c,o,l;E||(E=[]),f*=3;var u=v*v,d=u*v,m=1-v,h=m*m,T=h*m;for(o=0;o<B.length;o++)c=(l=B[o])[S+1][f]-l[S][f],E[o]=T*c+3*(h*v*(l[S+1][f+1]-l[S][f+1])+m*u*(l[S+1][f+2]-l[S][f+2]))+d*(l[S+1][f+3]-l[S][f+3]);return E}:D?function(E,f,S,M,v){var c,s,a;E||(E=[]),S*=3;var o=1-M,l=v*v,u=1-v,d=u*u,m=u*v*2,h=-3*d,T=3*(d-m),_=3*(m-l),g=3*l;for(s=0;s<B.length;s++)c=h*(a=B[s])[S][f]+T*a[S+1][f]+_*a[S+2][f]+g*a[S+3][f],E[s]=o*c+M*(h*a[S][f+1]+T*a[S+1][f+1]+_*a[S+2][f+1]+g*a[S+3][f+1]);return E}:function(E,f,S,M,v){var c,s,a;E||(E=[]);var o=1-M;for(s=0;s<B.length;s++)c=(a=B[s])[S+1][f]-a[S][f],E[s]=o*c+M*(a[S+1][f+1]-a[S][f+1]);return E}}},20349:function(ae){"use strict";ae.exports=function(B,r,D,E,f){var S=r-2,M=D-2;return E&&f?function(v,c,i){var s,u,d;v||(v=[]);var m=Math.max(0,Math.min(Math.floor(c),S)),h=Math.max(0,Math.min(Math.floor(i),M)),T=Math.max(0,Math.min(1,c-m)),_=Math.max(0,Math.min(1,i-h));m*=3,h*=3;var g=T*T,w=g*T,x=1-T,b=x*x,A=b*x,p=_*_,O=p*_,k=1-_,I=k*k,P=I*k;for(d=0;d<B.length;d++)s=A*(u=B[d])[h][m]+3*(b*T*u[h][m+1]+x*g*u[h][m+2])+w*u[h][m+3],v[d]=P*s+3*(I*_*(A*u[h+1][m]+3*(b*T*u[h+1][m+1]+x*g*u[h+1][m+2])+w*u[h+1][m+3])+k*p*(A*u[h+2][m]+3*(b*T*u[h+2][m+1]+x*g*u[h+2][m+2])+w*u[h+2][m+3]))+O*(A*u[h+3][m]+3*(b*T*u[h+3][m+1]+x*g*u[h+3][m+2])+w*u[h+3][m+3]);return v}:E?function(v,c,i){v||(v=[]);var s,u,d,m=Math.max(0,Math.min(Math.floor(c),S)),h=Math.max(0,Math.min(Math.floor(i),M)),T=Math.max(0,Math.min(1,c-m)),_=Math.max(0,Math.min(1,i-h));m*=3;var g=T*T,w=g*T,x=1-T,b=x*x,A=b*x,p=1-_;for(u=0;u<B.length;u++)s=p*(d=B[u])[h][m]+_*d[h+1][m],v[u]=A*s+3*(b*T*(p*d[h][m+1]+_*d[h+1][m+1])+x*g*(p*d[h][m+2]+_*d[h+1][m+1]))+w*(p*d[h][m+3]+_*d[h+1][m+1]);return v}:f?function(v,c,i){v||(v=[]);var s,u,d,m=Math.max(0,Math.min(Math.floor(c),S)),h=Math.max(0,Math.min(Math.floor(i),M)),T=Math.max(0,Math.min(1,c-m)),_=Math.max(0,Math.min(1,i-h));h*=3;var g=_*_,w=g*_,x=1-_,b=x*x,A=b*x,p=1-T;for(u=0;u<B.length;u++)s=p*(d=B[u])[h][m]+T*d[h][m+1],v[u]=A*s+3*(b*_*(p*d[h+1][m]+T*d[h+1][m+1])+x*g*(p*d[h+2][m]+T*d[h+2][m+1]))+w*(p*d[h+3][m]+T*d[h+3][m+1]);return v}:function(v,c,i){v||(v=[]);var s,o,l,u=Math.max(0,Math.min(Math.floor(c),S)),d=Math.max(0,Math.min(Math.floor(i),M)),m=Math.max(0,Math.min(1,c-u)),h=Math.max(0,Math.min(1,i-d)),T=1-h,_=1-m;for(o=0;o<B.length;o++)s=_*(l=B[o])[d][u]+m*l[d][u+1],v[o]=T*s+h*(_*l[d+1][u]+m*l[d+1][u+1]);return v}}},92087:function(ae,B,r){"use strict";var D=r(71828),E=r(19237),f=r(13145),S=r(99798),M=r(22399);ae.exports=function(v,c,i,s){function a(l,u){return D.coerce(v,c,S,l,u)}c._clipPathId="clip"+c.uid+"carpet";var o=a("color",M.defaultLine);D.coerceFont(a,"font"),a("carpet"),f(v,c,s,a,o),c.a&&c.b?(c.a.length<3&&(c.aaxis.smoothing=0),c.b.length<3&&(c.baxis.smoothing=0),E(v,c,a)||(c.visible=!1),c._cheater&&a("cheaterslope")):c.visible=!1}},21462:function(ae,B,r){"use strict";ae.exports={attributes:r(99798),supplyDefaults:r(92087),plot:r(89740),calc:r(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:r(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(ae){"use strict";ae.exports=function(B,r){for(var D,E=B._fullData.length,f=0;f<E;f++){var S=B._fullData[f];if(S.index!==r.index&&"carpet"===S.type&&(D||(D=S),S.carpet===r.carpet))return S}return D}},67961:function(ae){"use strict";ae.exports=function(B,r,D){if(0===B.length)return"";var E,f=[],S=D?3:1;for(E=0;E<B.length;E+=S)f.push(B[E]+","+r[E]),D&&E<B.length-S&&(f.push("C"),f.push([B[E+1]+","+r[E+1],B[E+2]+","+r[E+2]+" "].join(" ")));return f.join(D?"":"L")}},27669:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray;ae.exports=function(E,f,S){var M;for(D(E)?E.length>f.length&&(E=E.slice(0,f.length)):E=[],M=0;M<f.length;M++)E[M]=S(f[M]);return E}},11651:function(ae){"use strict";ae.exports=function(B,r,D,E,f,S){var M=f[0]*B.dpdx(r),v=f[1]*B.dpdy(D),c=1,i=1;if(S){var s=Math.sqrt(f[0]*f[0]+f[1]*f[1]),a=Math.sqrt(S[0]*S[0]+S[1]*S[1]);i=Math.max(0,(f[0]*S[0]+f[1]*S[1])/s/a)}var l=180*Math.atan2(v,M)/Math.PI;return l<-90?(l+=180,c=-c):l>90&&(l-=180,c=-c),{angle:l,flip:c,p:B.c2p(E,r,D),offsetMultplier:i}}},89740:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(27669),S=r(67961),M=r(11651),v=r(63893),c=r(71828),i=c.strRotate,s=c.strTranslate,a=r(18783);function o(h,T,_,g,w,x,b){var A="const-"+w+"-lines",p=_.selectAll("."+A).data(x);p.enter().append("path").classed(A,!0).style("vector-effect",b?"none":"non-scaling-stroke"),p.each(function(O){var k=O,P=k.y,R=f([],k.x,h.c2p),N=f([],P,T.c2p),j="M"+S(R,N,k.smoothing);D.select(this).attr("d",j).style("stroke-width",k.width).style("stroke",k.color).style("stroke-dasharray",E.dashStyle(k.dash,k.width)).style("fill","none")}),p.exit().remove()}function l(h,T,_,g,w,x,b,A){var p=x.selectAll("text."+A).data(b);p.enter().append("text").classed(A,!0);var O=0,k={};return p.each(function(I,P){var R;if("auto"===I.axis.tickangle)R=M(g,T,_,I.xy,I.dxy);else{var N=(I.axis.tickangle+180)*Math.PI/180;R=M(g,T,_,I.xy,[Math.cos(N),Math.sin(N)])}P||(k={angle:R.angle,flip:R.flip});var j=(I.endAnchor?-1:1)*R.flip,X=D.select(this).attr({"text-anchor":j>0?"start":"end","data-notex":1}).call(E.font,I.font).text(I.text).call(v.convertToTspans,h),F=E.bBox(this);X.attr("transform",s(R.p[0],R.p[1])+i(R.angle)+s(I.axis.labelpadding*j,.3*F.height)),O=Math.max(O,F.width+I.axis.labelpadding)}),p.exit().remove(),k.maxExtent=O,k}ae.exports=function(h,T,_,g){var w=h._context.staticPlot,x=T.xaxis,b=T.yaxis,A=h._fullLayout._clips;c.makeTraceGroups(g,_,"trace").each(function(p){var O=D.select(this),k=p[0],I=k.trace,P=I.aaxis,R=I.baxis,N=c.ensureSingle(O,"g","minorlayer"),j=c.ensureSingle(O,"g","majorlayer"),X=c.ensureSingle(O,"g","boundarylayer"),F=c.ensureSingle(O,"g","labellayer");O.style("opacity",I.opacity),o(x,b,j,0,"a",P._gridlines,!0),o(x,b,j,0,"b",R._gridlines,!0),o(x,b,N,0,"a",P._minorgridlines,!0),o(x,b,N,0,"b",R._minorgridlines,!0),o(x,b,X,0,"a-boundary",P._boundarylines,w),o(x,b,X,0,"b-boundary",R._boundarylines,w);var H,G,Y,te,re,Q,ee,oe,le,ue,de,he,we,Ae,Te,Z=l(h,x,b,I,0,F,P._labels,"a-label"),W=l(h,x,b,I,0,F,R._labels,"b-label");H=h,G=F,Y=I,te=x,re=b,Q=Z,ee=W,he=c.aggNums(Math.min,null,Y.a),we=c.aggNums(Math.max,null,Y.a),Ae=c.aggNums(Math.min,null,Y.b),Te=c.aggNums(Math.max,null,Y.b),ue=Y.ab2xy(oe=.5*(he+we),le=Ae,!0),de=Y.dxyda_rough(oe,le),void 0===Q.angle&&c.extendFlat(Q,M(Y,te,re,ue,Y.dxydb_rough(oe,le))),m(H,G,Y,0,ue,de,Y.aaxis,te,re,Q,"a-title"),ue=Y.ab2xy(oe=he,le=.5*(Ae+Te),!0),de=Y.dxydb_rough(oe,le),void 0===ee.angle&&c.extendFlat(ee,M(Y,te,re,ue,Y.dxyda_rough(oe,le))),m(H,G,Y,0,ue,de,Y.baxis,te,re,ee,"b-title"),function(H,G,Y,se,te){var re,Q,ee,oe,le=Y.select("#"+H._clipPathId);le.size()||(le=Y.append("clipPath").classed("carpetclip",!0));var ue=c.ensureSingle(le,"path","carpetboundary"),de=G.clipsegments,he=[];for(oe=0;oe<de.length;oe++)Q=f([],(re=de[oe]).x,se.c2p),ee=f([],re.y,te.c2p),he.push(S(Q,ee,re.bicubic));var we="M"+he.join("L")+"Z";le.attr("id",H._clipPathId),ue.attr("d",we)}(I,k,A,x,b)})};var u=a.LINE_SPACING,d=(1-a.MID_SHIFT)/u+1;function m(h,T,_,g,w,x,b,A,p,O,k){var I=[];b.title.text&&I.push(b.title.text);var P=T.selectAll("text."+k).data(I),R=O.maxExtent;P.enter().append("text").classed(k,!0),P.each(function(){var N=M(_,A,p,w,x);-1===["start","both"].indexOf(b.showticklabels)&&(R=0);var j=b.title.font.size;R+=j+b.title.offset;var X=(O.angle+(O.flip<0?180:0)-N.angle+450)%360,F=X>90&&X<270,Z=D.select(this);Z.text(b.title.text).call(v.convertToTspans,h),F&&(R=(-v.lineCount(Z)+d)*u*j-R),Z.attr("transform",s(N.p[0],N.p[1])+i(N.angle)+s(0,R)).attr("text-anchor","middle").call(E.font,b.title.font)}),P.exit().remove()}},11435:function(ae,B,r){"use strict";var D=r(35509),E=r(65888).findBin,f=r(45664),S=r(20349),M=r(54495),v=r(73057);ae.exports=function(c){var i=c._a,s=c._b,a=i.length,o=s.length,l=c.aaxis,u=c.baxis,d=i[0],m=i[a-1],h=s[0],T=s[o-1],_=i[i.length-1]-i[0],g=s[s.length-1]-s[0],w=_*D.RELATIVE_CULL_TOLERANCE,x=g*D.RELATIVE_CULL_TOLERANCE;d-=w,m+=w,h-=x,T+=x,c.isVisible=function(b,A){return b>d&&b<m&&A>h&&A<T},c.isOccluded=function(b,A){return b<d||b>m||A<h||A>T},c.setScale=function(){var p=f(c._xctrl,c._yctrl,c._x,c._y,l.smoothing,u.smoothing);c._xctrl=p[0],c._yctrl=p[1],c.evalxy=S([c._xctrl,c._yctrl],a,o,l.smoothing,u.smoothing),c.dxydi=M([c._xctrl,c._yctrl],l.smoothing,u.smoothing),c.dxydj=v([c._xctrl,c._yctrl],l.smoothing,u.smoothing)},c.i2a=function(b){var A=Math.max(0,Math.floor(b[0]),a-2),p=b[0]-A;return(1-p)*i[A]+p*i[A+1]},c.j2b=function(b){var A=Math.max(0,Math.floor(b[1]),a-2),p=b[1]-A;return(1-p)*s[A]+p*s[A+1]},c.ij2ab=function(b){return[c.i2a(b[0]),c.j2b(b[1])]},c.a2i=function(b){var A=Math.max(0,Math.min(E(b,i),a-2)),p=i[A];return Math.max(0,Math.min(a-1,A+(b-p)/(i[A+1]-p)))},c.b2j=function(b){var A=Math.max(0,Math.min(E(b,s),o-2)),p=s[A];return Math.max(0,Math.min(o-1,A+(b-p)/(s[A+1]-p)))},c.ab2ij=function(b){return[c.a2i(b[0]),c.b2j(b[1])]},c.i2c=function(b,A){return c.evalxy([],b,A)},c.ab2xy=function(b,A,p){if(!p&&(b<i[0]||b>i[a-1]|A<s[0]||A>s[o-1]))return[!1,!1];var O=c.a2i(b),k=c.b2j(A),I=c.evalxy([],O,k);if(p){var P,R,N,j,X=0,F=0,Z=[];b<i[0]?(P=0,R=0,X=(b-i[0])/(i[1]-i[0])):b>i[a-1]?(P=a-2,R=1,X=(b-i[a-1])/(i[a-1]-i[a-2])):R=O-(P=Math.max(0,Math.min(a-2,Math.floor(O)))),A<s[0]?(N=0,j=0,F=(A-s[0])/(s[1]-s[0])):A>s[o-1]?(N=o-2,j=1,F=(A-s[o-1])/(s[o-1]-s[o-2])):j=k-(N=Math.max(0,Math.min(o-2,Math.floor(k)))),X&&(c.dxydi(Z,P,N,R,j),I[0]+=Z[0]*X,I[1]+=Z[1]*X),F&&(c.dxydj(Z,P,N,R,j),I[0]+=Z[0]*F,I[1]+=Z[1]*F)}return I},c.c2p=function(b,A,p){return[A.c2p(b[0]),p.c2p(b[1])]},c.p2x=function(b,A,p){return[A.p2c(b[0]),p.p2c(b[1])]},c.dadi=function(b){var A=Math.max(0,Math.min(i.length-2,b));return i[A+1]-i[A]},c.dbdj=function(b){var A=Math.max(0,Math.min(s.length-2,b));return s[A+1]-s[A]},c.dxyda=function(b,A,p,O){var k=c.dxydi(null,b,A,p,O),I=c.dadi(b,p);return[k[0]/I,k[1]/I]},c.dxydb=function(b,A,p,O){var k=c.dxydj(null,b,A,p,O),I=c.dbdj(A,O);return[k[0]/I,k[1]/I]},c.dxyda_rough=function(b,A,p){var O=_*(p||.1),k=c.ab2xy(b+O,A,!0),I=c.ab2xy(b-O,A,!0);return[.5*(k[0]-I[0])/O,.5*(k[1]-I[1])/O]},c.dxydb_rough=function(b,A,p){var O=g*(p||.1),k=c.ab2xy(b,A+O,!0),I=c.ab2xy(b,A-O,!0);return[.5*(k[0]-I[0])/O,.5*(k[1]-I[1])/O]},c.dpdx=function(b){return b._m},c.dpdy=function(b){return b._m}}},72505:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f,S){var M,v,c,i=[],s=[],a=E[0].length,o=E.length;function l(H,G){var Y,se=0,te=0;return H>0&&void 0!==(Y=E[G][H-1])&&(te++,se+=Y),H<a-1&&void 0!==(Y=E[G][H+1])&&(te++,se+=Y),G>0&&void 0!==(Y=E[G-1][H])&&(te++,se+=Y),G<o-1&&void 0!==(Y=E[G+1][H])&&(te++,se+=Y),se/Math.max(1,te)}var u,d,m,h,T,_,g,w,x,b,p=0;for(M=0;M<a;M++)for(v=0;v<o;v++)void 0===E[v][M]&&(i.push(M),s.push(v),E[v][M]=l(M,v)),p=Math.max(p,Math.abs(E[v][M]));if(!i.length)return E;var O=0,k=0,I=i.length;do{for(O=0,c=0;c<I;c++){v=s[c];var R,N,j,X,F,Z=0,W=0;0===(M=i[c])?(N=f[X=Math.min(a-1,2)],W+=(R=E[v][1])+(R-E[v][X])*(f[0]-(j=f[1]))/(j-N),Z++):M===a-1&&(N=f[X=Math.max(0,a-3)],W+=(R=E[v][a-2])+(R-E[v][X])*(f[a-1]-(j=f[a-2]))/(j-N),Z++),(0===M||M===a-1)&&v>0&&v<o-1&&(W+=((d=S[v]-S[v-1])*E[v+1][M]+(u=S[v+1]-S[v])*E[v-1][M])/(d+u),Z++),0===v?(N=S[F=Math.min(o-1,2)],W+=(R=E[1][M])+(R-E[F][M])*(S[0]-(j=S[1]))/(j-N),Z++):v===o-1&&(N=S[F=Math.max(0,o-3)],W+=(R=E[o-2][M])+(R-E[F][M])*(S[o-1]-(j=S[o-2]))/(j-N),Z++),(0===v||v===o-1)&&M>0&&M<a-1&&(W+=((d=f[M]-f[M-1])*E[v][M+1]+(u=f[M+1]-f[M])*E[v][M-1])/(d+u),Z++),Z?W/=Z:(w=(T=S[v+1]-S[v])*(_=S[v]-S[v-1])*(T+_),W=((g=(m=f[M+1]-f[M])*(h=f[M]-f[M-1])*(m+h))*(_*E[v+1][M]+T*E[v-1][M])+w*(h*E[v][M+1]+m*E[v][M-1]))/(w*(h+m)+g*(_+T))),O+=(b=(x=W-E[v][M])/p)*b,E[v][M]+=x*(1+(Z?0:.85))}O=Math.sqrt(O)}while(k++<100&&O>1e-5);return D.log("Smoother converged to",O,"after",k,"iterations"),E}},19237:function(ae,B,r){"use strict";var D=r(71828).isArray1D;ae.exports=function(E,f,S){var M=S("x"),v=M&&M.length,c=S("y"),i=c&&c.length;if(!v&&!i)return!1;if(f._cheater=!M,v&&!D(M)||i&&!D(c))f._length=null;else{var s=v?M.length:1/0;i&&(s=Math.min(s,c.length)),f.a&&f.a.length&&(s=Math.min(s,f.a.length)),f.b&&f.b.length&&(s=Math.min(s,f.b.length)),f._length=s}return!0}},69568:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(19316),f=r(50693),S=r(9012),M=r(22399).defaultLine,v=r(1426).extendFlat,c=E.marker.line;ae.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:E.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},E.geojson,{}),featureidkey:E.featureidkey,text:v({},E.text,{}),hovertext:v({},E.hovertext,{}),marker:{line:{color:v({},c.color,{dflt:M}),width:v({},c.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:E.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:E.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},S.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:D(),showlegend:v({},S.showlegend,{dflt:!1})},f("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(ae,B,r){"use strict";var D=r(92770),E=r(50606).BADNUM,f=r(78803),S=r(75225),M=r(66279);function v(c){return c&&"string"==typeof c}ae.exports=function(c,i){var s,a=i._length,o=new Array(a);s=i.geojson?function(h){return v(h)||D(h)}:v;for(var l=0;l<a;l++){var u=o[l]={},d=i.locations[l],m=i.z[l];s(d)&&D(m)?(u.loc=d,u.z=m):(u.loc=null,u.z=E),u.index=l}return S(o,i),f(c,i,{vals:i.z,containerStr:"",cLetter:"z"}),M(o,i),o}},61869:function(ae,B,r){"use strict";var D=r(71828),E=r(1586),f=r(69568);ae.exports=function(S,M,v,c){function i(u,d){return D.coerce(S,M,f,u,d)}var s=i("locations"),a=i("z");if(s&&s.length&&D.isArrayOrTypedArray(a)&&a.length){M._length=Math.min(s.length,a.length);var o,l=i("geojson");("string"==typeof l&&""!==l||D.isPlainObject(l))&&(o="geojson-id"),"geojson-id"===i("locationmode",o)&&i("featureidkey"),i("text"),i("hovertext"),i("hovertemplate"),i("marker.line.width")&&i("marker.line.color"),i("marker.opacity"),E(S,M,c,i,{prefix:"",cLetter:"z"}),D.coerceSelectionMarkerOpacity(M,i)}else M.visible=!1}},92069:function(ae){"use strict";ae.exports=function(B,r,D,E,f){B.location=r.location,B.z=r.z;var S=E[f];return S.fIn&&S.fIn.properties&&(B.properties=S.fIn.properties),B.ct=S.ct,B}},42300:function(ae,B,r){"use strict";var D=r(89298),E=r(69568),f=r(71828).fillText;ae.exports=function(S,M,v){var c,i,s,a,o=S.cd,l=o[0].trace,u=S.subplot,d=[M,v],m=[M+360,v];for(i=0;i<o.length;i++)if(a=!1,(c=o[i])._polygons){for(s=0;s<c._polygons.length;s++)c._polygons[s].contains(d)&&(a=!a),c._polygons[s].contains(m)&&(a=!a);if(a)break}if(a&&c)return S.x0=S.x1=S.xa.c2p(c.ct),S.y0=S.y1=S.ya.c2p(c.ct),S.index=c.index,S.location=c.loc,S.z=c.z,S.zLabel=D.tickText(u.mockAxis,u.mockAxis.c2l(c.z),"hover").text,S.hovertemplate=c.hovertemplate,function(h,T,_){if(!T.hovertemplate){var g=_.hi||T.hoverinfo,w=String(_.loc),x="all"===g?E.hoverinfo.flags:g.split("+"),b=-1!==x.indexOf("name"),A=-1!==x.indexOf("location"),p=-1!==x.indexOf("z"),O=-1!==x.indexOf("text"),k=[];!b&&A?h.nameOverride=w:(b&&(h.nameOverride=T.name),A&&k.push(w)),p&&k.push(h.zLabel),O&&f(_,T,k),h.extraText=k.join("<br>")}}(S,l,c),[S]}},51319:function(ae,B,r){"use strict";ae.exports={attributes:r(69568),supplyDefaults:r(61869),colorbar:r(61243),calc:r(38675),calcGeoJSON:r(99841).calcGeoJSON,plot:r(99841).plot,style:r(99636).style,styleOnSelect:r(99636).styleOnSelect,hoverPoints:r(42300),eventData:r(92069),selectPoints:r(81253),moduleType:"trace",name:"choropleth",basePlotModule:r(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(41327),S=r(90973).getTopojsonFeatures,M=r(71739).findExtremes,v=r(99636).style;ae.exports={calcGeoJSON:function(c,i){for(var s=c[0].trace,a=i[s.geo],o=a._subplot,l=s.locationmode,u=s._length,d="geojson-id"===l?f.extractTraceFeature(c):S(s,o.topojson),m=[],h=[],T=0;T<u;T++){var _=c[T],g="geojson-id"===l?_.fOut:f.locationToFeature(l,_.loc,d);if(g){_.geojson=g,_.ct=g.properties.ct,_._polygons=f.feature2polygons(g);var w=f.computeBbox(g);m.push(w[0],w[2]),h.push(w[1],w[3])}else _.geojson=null}if("geojson"===a.fitbounds&&"geojson-id"===l){var x=f.computeBbox(f.getTraceGeojson(s));m=[x[0],x[2]],h=[x[1],x[3]]}var b={padded:!0};s._extremes.lon=M(a.lonaxis._ax,m,b),s._extremes.lat=M(a.lataxis._ax,h,b)},plot:function(c,i,s){var a=i.layers.backplot.select(".choroplethlayer");E.makeTraceGroups(a,s,"trace choropleth").each(function(o){var l=D.select(this).selectAll("path.choroplethlocation").data(E.identity);l.enter().append("path").classed("choroplethlocation",!0),l.exit().remove(),v(c,o)})}}},81253:function(ae){"use strict";ae.exports=function(B,r){var D,E,f,S,M,v=B.cd,c=B.xaxis,i=B.yaxis,s=[];if(!1===r)for(D=0;D<v.length;D++)v[D].selected=0;else for(D=0;D<v.length;D++)(f=(E=v[D]).ct)&&(S=c.c2p(f),M=i.c2p(f),r.contains([S,M],null,D,B)?(s.push({pointNumber:D,lon:f[0],lat:f[1]}),E.selected=1):E.selected=0);return s}},99636:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),f=r(91424),S=r(21081);function M(v,c){var i=c[0].trace,s=c[0].node3.selectAll(".choroplethlocation"),a=i.marker||{},o=a.line||{},l=S.makeColorScaleFuncFromTrace(i);s.each(function(u){D.select(this).attr("fill",l(u.z)).call(E.stroke,u.mlc||o.color).call(f.dashLine,"",u.mlw||o.width||0).style("opacity",a.opacity)}),f.selectedPointStyle(s,i)}ae.exports={style:function(v,c){c&&M(0,c)},styleOnSelect:function(v,c){var s=c[0].trace;s.selectedpoints?f.selectedPointStyle(c[0].node3.selectAll(".choroplethlocation"),s):M(0,c)}}},64496:function(ae,B,r){"use strict";var D=r(69568),E=r(50693),f=r(5386).fF,S=r(9012),M=r(1426).extendFlat;ae.exports=M({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:M({},D.featureidkey,{}),below:{valType:"string",editType:"plot"},text:D.text,hovertext:D.hovertext,marker:{line:{color:M({},D.marker.line.color,{editType:"plot"}),width:M({},D.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:M({},D.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:M({},D.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:M({},D.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:D.hoverinfo,hovertemplate:f({},{keys:["properties"]}),showlegend:M({},S.showlegend,{dflt:!1})},E("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(21081),S=r(91424),M=r(18214).makeBlank,v=r(41327);function c(i){var s,a=i[0].trace,o=a._opts;if(a.selectedpoints){for(var l=S.makeSelectedPointStyleFns(a),u=0;u<i.length;u++){var d=i[u];d.fOut&&(d.fOut.properties.mo2=l.selectedOpacityFn(d))}s={type:"identity",property:"mo2"}}else s=E.isArrayOrTypedArray(a.marker.opacity)?{type:"identity",property:"mo"}:a.marker.opacity;return E.extendFlat(o.fill.paint,{"fill-opacity":s}),E.extendFlat(o.line.paint,{"line-opacity":s}),o}ae.exports={convert:function(i){var s=i[0].trace,a=!0===s.visible&&0!==s._length,o={layout:{visibility:"none"},paint:{}},l={layout:{visibility:"none"},paint:{}},u=s._opts={fill:o,line:l,geojson:M()};if(!a)return u;var d=v.extractTraceFeature(i);if(!d)return u;var m,h,T,_=f.makeColorScaleFuncFromTrace(s),g=s.marker,w=g.line||{};E.isArrayOrTypedArray(g.opacity)&&(m=function(k){var I=k.mo;return D(I)?+E.constrain(I,0,1):0}),E.isArrayOrTypedArray(w.color)&&(h=function(k){return k.mlc}),E.isArrayOrTypedArray(w.width)&&(T=function(k){return k.mlw});for(var x=0;x<i.length;x++){var b=i[x],A=b.fOut;if(A){var p=A.properties;p.fc=_(b.z),m&&(p.mo=m(b)),h&&(p.mlc=h(b)),T&&(p.mlw=T(b)),b.ct=p.ct,b._polygons=v.feature2polygons(A)}}var O=m?{type:"identity",property:"mo"}:g.opacity;return E.extendFlat(o.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":O}),E.extendFlat(l.paint,{"line-color":h?{type:"identity",property:"mlc"}:w.color,"line-width":T?{type:"identity",property:"mlw"}:w.width,"line-opacity":O}),o.layout.visibility="visible",l.layout.visibility="visible",u.geojson={type:"FeatureCollection",features:d},c(i),u},convertOnSelect:c}},22654:function(ae,B,r){"use strict";var D=r(71828),E=r(1586),f=r(64496);ae.exports=function(S,M,v,c){function i(l,u){return D.coerce(S,M,f,l,u)}var s=i("locations"),a=i("z"),o=i("geojson");D.isArrayOrTypedArray(s)&&s.length&&D.isArrayOrTypedArray(a)&&a.length&&("string"==typeof o&&""!==o||D.isPlainObject(o))?(i("featureidkey"),M._length=Math.min(s.length,a.length),i("below"),i("text"),i("hovertext"),i("hovertemplate"),i("marker.line.width")&&i("marker.line.color"),i("marker.opacity"),E(S,M,c,i,{prefix:"",cLetter:"z"}),D.coerceSelectionMarkerOpacity(M,i)):M.visible=!1}},57516:function(ae,B,r){"use strict";ae.exports={attributes:r(64496),supplyDefaults:r(22654),colorbar:r(61243),calc:r(38675),plot:r(7852),hoverPoints:r(42300),eventData:r(92069),selectPoints:r(81253),styleOnSelect:function(D,E){E&&E[0].trace._glTrace.updateOnSelect(E)},getBelow:function(D,E){for(var f=E.getMapLayers(),S=f.length-2;S>=0;S--){var M=f[S].id;if("string"==typeof M&&0===M.indexOf("water"))for(var v=S+1;v<f.length;v++)if("string"==typeof(M=f[v].id)&&-1===M.indexOf("plotly-"))return M}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:r(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(ae,B,r){"use strict";var D=r(82004).convert,E=r(82004).convertOnSelect,f=r(77734).traceLayerPrefix;function S(v,c){this.type="choroplethmapbox",this.subplot=v,this.uid=c,this.sourceId="source-"+c,this.layerList=[["fill",f+c+"-fill"],["line",f+c+"-line"]],this.below=null}var M=S.prototype;M.update=function(v){this._update(D(v)),v[0].trace._glTrace=this},M.updateOnSelect=function(v){this._update(E(v))},M._update=function(v){var c=this.subplot,i=this.layerList,s=c.belowLookup["trace-"+this.uid];c.map.getSource(this.sourceId).setData(v.geojson),s!==this.below&&(this._removeLayers(),this._addLayers(v,s),this.below=s);for(var a=0;a<i.length;a++){var o=i[a],u=o[1],d=v[o[0]];c.setOptions(u,"setLayoutProperty",d.layout),"visible"===d.layout.visibility&&c.setOptions(u,"setPaintProperty",d.paint)}},M._addLayers=function(v,c){for(var i=this.subplot,s=this.layerList,a=this.sourceId,o=0;o<s.length;o++){var l=s[o],u=l[0],d=v[u];i.addLayer({type:u,id:l[1],source:a,layout:d.layout,paint:d.paint},c)}},M._removeLayers=function(){for(var v=this.subplot.map,c=this.layerList,i=c.length-1;i>=0;i--)v.removeLayer(c[i][1])},M.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},ae.exports=function(v,c){var i=c[0].trace,s=new S(v,i.uid),a=s.sourceId,o=D(c),l=s.below=v.belowLookup["trace-"+i.uid];return v.map.addSource(a,{type:"geojson",data:o.geojson}),s._addLayers(o,l),c[0].trace._glTrace=s,s}},12674:function(ae,B,r){"use strict";var D=r(50693),E=r(12663).axisHoverFormat,f=r(5386).fF,S=r(2418),M=r(9012),v=r(1426).extendFlat,c={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:f({editType:"calc"},{keys:["norm"]}),uhoverformat:E("u",1),vhoverformat:E("v",1),whoverformat:E("w",1),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),showlegend:v({},M.showlegend,{dflt:!1})};v(c,D("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(i){c[i]=S[i]}),c.hoverinfo=v({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),c.transforms=void 0,ae.exports=c},31371:function(ae,B,r){"use strict";var D=r(78803);ae.exports=function(E,f){for(var S=f.u,M=f.v,v=f.w,c=Math.min(f.x.length,f.y.length,f.z.length,S.length,M.length,v.length),i=-1/0,s=1/0,a=0;a<c;a++){var o=S[a],l=M[a],u=v[a],d=Math.sqrt(o*o+l*l+u*u);i=Math.max(i,d),s=Math.min(s,d)}f._len=c,f._normMax=i,D(E,f,{vals:[s,i],containerStr:"",cLetter:"c"})}},5453:function(ae,B,r){"use strict";var D=r(9330).gl_cone3d,E=r(9330).gl_cone3d.createConeMesh,f=r(71828).simpleMap,S=r(81697).parseColorScale,M=r(21081).extractOpts,v=r(90060);function c(u,d){this.scene=u,this.uid=d,this.mesh=null,this.data=null}var i=c.prototype;i.handlePick=function(u){if(u.object===this.mesh){var d=u.index=u.data.index,_=this.data.u[d],g=this.data.v[d],w=this.data.w[d];u.traceCoordinate=[this.data.x[d],this.data.y[d],this.data.z[d],_,g,w,Math.sqrt(_*_+g*g+w*w)];var x=this.data.hovertext||this.data.text;return Array.isArray(x)&&void 0!==x[d]?u.textLabel=x[d]:x&&(u.textLabel=x),!0}};var s={xaxis:0,yaxis:1,zaxis:2},a={tip:1,tail:0,cm:.25,center:.5},o={tip:1,tail:1,cm:.75,center:.5};function l(u,d){var m=u.fullSceneLayout,h=u.dataScale,T={};function _(b,A){var p=m[A],O=h[s[A]];return f(b,function(k){return p.d2l(k)*O})}T.vectors=v(_(d.u,"xaxis"),_(d.v,"yaxis"),_(d.w,"zaxis"),d._len),T.positions=v(_(d.x,"xaxis"),_(d.y,"yaxis"),_(d.z,"zaxis"),d._len);var g=M(d);T.colormap=S(d),T.vertexIntensityBounds=[g.min/d._normMax,g.max/d._normMax],T.coneOffset=a[d.anchor],T.coneSize="scaled"===d.sizemode?d.sizeref||.5:d.sizeref&&d._normMax?d.sizeref/d._normMax:.5;var w=D(T),x=d.lightposition;return w.lightPosition=[x.x,x.y,x.z],w.ambient=d.lighting.ambient,w.diffuse=d.lighting.diffuse,w.specular=d.lighting.specular,w.roughness=d.lighting.roughness,w.fresnel=d.lighting.fresnel,w.opacity=d.opacity,d._pad=o[d.anchor]*w.vectorScale*w.coneScale*d._normMax,w}i.update=function(u){this.data=u;var d=l(this.scene,u);this.mesh.update(d)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ae.exports=function(u,d){var m=u.glplot.gl,h=l(u,d),T=E(m,h),_=new c(u,d.uid);return _.mesh=T,_.data=d,T._trace=_,u.glplot.add(T),_}},91750:function(ae,B,r){"use strict";var D=r(71828),E=r(1586),f=r(12674);ae.exports=function(S,M,v,c){function i(m,h){return D.coerce(S,M,f,m,h)}var s=i("u"),a=i("v"),o=i("w"),l=i("x"),u=i("y"),d=i("z");s&&s.length&&a&&a.length&&o&&o.length&&l&&l.length&&u&&u.length&&d&&d.length?(i("sizeref"),i("sizemode"),i("anchor"),i("lighting.ambient"),i("lighting.diffuse"),i("lighting.specular"),i("lighting.roughness"),i("lighting.fresnel"),i("lightposition.x"),i("lightposition.y"),i("lightposition.z"),E(S,M,c,i,{prefix:"",cLetter:"c"}),i("text"),i("hovertext"),i("hovertemplate"),i("uhoverformat"),i("vhoverformat"),i("whoverformat"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),M._length=null):M.visible=!1}},98128:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"cone",basePlotModule:r(58547),categories:["gl3d","showLegend"],attributes:r(12674),supplyDefaults:r(91750),colorbar:{min:"cmin",max:"cmax"},calc:r(31371),plot:r(5453),eventData:function(D,E){return D.norm=E.traceCoordinate[6],D},meta:{}}},70600:function(ae,B,r){"use strict";var D=r(21606),E=r(82196),f=r(12663),S=f.axisHoverFormat,M=f.descriptionOnlyNumbers,v=r(50693),c=r(79952).P,i=r(41940),s=r(1426).extendFlat,a=r(74808),o=a.COMPARISON_OPS2,l=a.INTERVAL_OPS,u=E.line;ae.exports=s({z:D.z,x:D.x,x0:D.x0,dx:D.dx,y:D.y,y0:D.y0,dy:D.dy,xperiod:D.xperiod,yperiod:D.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:D.xperiodalignment,yperiodalignment:D.yperiodalignment,text:D.text,hovertext:D.hovertext,transpose:D.transpose,xtype:D.xtype,ytype:D.ytype,xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:D.hovertemplate,texttemplate:s({},D.texttemplate,{}),textfont:s({},D.textfont,{}),hoverongaps:D.hoverongaps,connectgaps:s({},D.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:i({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:M("contour label")},operation:{valType:"enumerated",values:[].concat(o).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:s({},u.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:c,smoothing:s({},u.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(ae,B,r){"use strict";var D=r(21081),E=r(90757),f=r(18670),S=r(53572);ae.exports=function(M,v){var c=E(M,v),i=c[0].z;f(v,i);var s,a=v.contours,o=D.extractOpts(v);if("heatmap"===a.coloring&&o.auto&&!1===v.autocontour){var l=a.start,u=S(a),d=a.size||1,m=Math.floor((u-l)/d)+1;isFinite(d)||(d=1,m=1);var h=l-d/2;s=[h,h+m*d]}else s=i;return D.calc(M,v,{vals:s,cLetter:"z"}),c}},20083:function(ae){"use strict";ae.exports=function(B,r){var D,E=B[0],f=E.z;switch(r.type){case"levels":var S=Math.min(f[0][0],f[0][1]);for(D=0;D<B.length;D++){var M=B[D];M.prefixBoundary=!M.edgepaths.length&&(S>M.level||M.starts.length&&S===M.level)}break;case"constraint":if(E.prefixBoundary=!1,E.edgepaths.length)return;var v=E.x.length,c=E.y.length,i=-1/0,s=1/0;for(D=0;D<c;D++)s=Math.min(s,f[D][0]),s=Math.min(s,f[D][v-1]),i=Math.max(i,f[D][0]),i=Math.max(i,f[D][v-1]);for(D=1;D<v-1;D++)s=Math.min(s,f[0][D]),s=Math.min(s,f[c-1][D]),i=Math.max(i,f[0][D]),i=Math.max(i,f[c-1][D]);var a,o,l=r.value;switch(r._operation){case">":l>i&&(E.prefixBoundary=!0);break;case"<":(l<s||E.starts.length&&l===s)&&(E.prefixBoundary=!0);break;case"[]":a=Math.min(l[0],l[1]),((o=Math.max(l[0],l[1]))<s||a>i||E.starts.length&&o===s)&&(E.prefixBoundary=!0);break;case"][":a=Math.min(l[0],l[1]),o=Math.max(l[0],l[1]),a<s&&o>i&&(E.prefixBoundary=!0)}}}},90654:function(ae,B,r){"use strict";var D=r(21081),E=r(86068),f=r(53572);ae.exports={min:"zmin",max:"zmax",calc:function(S,M,v){var c=M.contours,i=M.line,s=c.size||1,a=c.coloring,o=E(M,{isColorbar:!0});if("heatmap"===a){var l=D.extractOpts(M);v._fillgradient=l.reversescale?D.flipScale(l.colorscale):l.colorscale,v._zrange=[l.min,l.max]}else"fill"===a&&(v._fillcolor=o);v._line={color:"lines"===a?o:i.color,width:!1!==c.showlines?i.width:0,dash:i.dash},v._levels={start:c.start,end:f(c),size:s}}}},36914:function(ae){"use strict";ae.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(ae,B,r){"use strict";var D=r(92770),E=r(14523),f=r(7901),S=f.addOpacity,M=f.opacity,v=r(74808),c=v.CONSTRAINT_REDUCTION,i=v.COMPARISON_OPS2;ae.exports=function(s,a,o,l,u,d){var m,h,T,w,x,b,_=a.contours,g=o("contours.operation");_._operation=c[g],w=o,-1===i.indexOf((x=_).operation)?(w("contours.value",[0,1]),Array.isArray(x.value)?x.value.length>2?x.value=x.value.slice(2):0===x.length?x.value=[0,1]:x.length<2?(b=parseFloat(x.value[0]),x.value=[b,b+1]):x.value=[parseFloat(x.value[0]),parseFloat(x.value[1])]:D(x.value)&&(b=parseFloat(x.value),x.value=[b,b+1])):(w("contours.value",0),D(x.value)||(x.value=Array.isArray(x.value)?parseFloat(x.value[0]):0)),"="===g?m=_.showlines=!0:(m=o("contours.showlines"),T=o("fillcolor",S((s.line||{}).color||u,.5))),m&&(h=o("line.color",T&&M(T)?S(a.fillcolor,1):u),o("line.width",2),o("line.dash")),o("line.smoothing"),E(o,l,h,d)}},64237:function(ae,B,r){"use strict";var D=r(74808),E=r(92770);function f(v,c){var i,s=Array.isArray(c);function a(o){return E(o)?+o:null}return-1!==D.COMPARISON_OPS2.indexOf(v)?i=a(s?c[0]:c):-1!==D.INTERVAL_OPS.indexOf(v)?i=s?[a(c[0]),a(c[1])]:[a(c),a(c)]:-1!==D.SET_OPS.indexOf(v)&&(i=s?c.map(a):[a(c)]),i}function S(v){return function(c){c=f(v,c);var i=Math.min(c[0],c[1]),s=Math.max(c[0],c[1]);return{start:i,end:s,size:s-i}}}function M(v){return function(c){return{start:c=f(v,c),end:1/0,size:1/0}}}ae.exports={"[]":S("[]"),"][":S("]["),">":M(">"),"<":M("<"),"=":M("=")}},67217:function(ae){"use strict";ae.exports=function(B,r,D,E){var f=E("contours.start"),S=E("contours.end"),M=!1===f||!1===S,v=D("contours.size");!(M?r.autocontour=!0:D("autocontour",!1))&&v||D("ncontours")}},84857:function(ae,B,r){"use strict";var D=r(71828);function E(f){return D.extendFlat({},f,{edgepaths:D.extendDeep([],f.edgepaths),paths:D.extendDeep([],f.paths),starts:D.extendDeep([],f.starts)})}ae.exports=function(f,S){var M,v,c,i=function(o){return o.reverse()},s=function(o){return o};switch(S){case"=":case"<":return f;case">":for(1!==f.length&&D.warn("Contour data invalid for the specified inequality operation."),v=f[0],M=0;M<v.edgepaths.length;M++)v.edgepaths[M]=i(v.edgepaths[M]);for(M=0;M<v.paths.length;M++)v.paths[M]=i(v.paths[M]);for(M=0;M<v.starts.length;M++)v.starts[M]=i(v.starts[M]);return f;case"][":var a=i;i=s,s=a;case"[]":for(2!==f.length&&D.warn("Contour data invalid for the specified inequality range operation."),v=E(f[0]),c=E(f[1]),M=0;M<v.edgepaths.length;M++)v.edgepaths[M]=i(v.edgepaths[M]);for(M=0;M<v.paths.length;M++)v.paths[M]=i(v.paths[M]);for(M=0;M<v.starts.length;M++)v.starts[M]=i(v.starts[M]);for(;c.edgepaths.length;)v.edgepaths.push(s(c.edgepaths.shift()));for(;c.paths.length;)v.paths.push(s(c.paths.shift()));for(;c.starts.length;)v.starts.push(s(c.starts.shift()));return[v]}}},13031:function(ae,B,r){"use strict";var D=r(71828),E=r(67684),f=r(73927),S=r(83179),M=r(67217),v=r(8724),c=r(58623),i=r(70600);ae.exports=function(s,a,o,l){function u(m,h){return D.coerce(s,a,i,m,h)}if(E(s,a,u,l)){f(s,a,l,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hoverongaps"),u("hovertemplate");var d="constraint"===u("contours.type");u("connectgaps",D.isArray1D(a.z)),d?S(s,a,u,l,o):(M(s,a,u,function(m){return D.coerce2(s,a,i,m)}),v(s,a,u,l)),a.contours&&"heatmap"===a.contours.coloring&&c(u,l)}else a.visible=!1}},87558:function(ae,B,r){"use strict";var D=r(71828),E=r(64237),f=r(53572);ae.exports=function(S,M,v){for(var c="constraint"===S.type?E[S._operation](S.value):S,i=c.size,s=[],a=f(c),o=v.trace._carpetTrace,l=o?{xaxis:o.aaxis,yaxis:o.baxis,x:v.a,y:v.b}:{xaxis:M.xaxis,yaxis:M.yaxis,x:v.x,y:v.y},u=c.start;u<a;u+=i)if(s.push(D.extendFlat({level:u,crossings:{},starts:[],edgepaths:[],paths:[],z:v.z,smoothing:v.trace.line.smoothing},l)),s.length>1e3){D.warn("Too many contours, clipping at 1000",S);break}return s}},53572:function(ae){"use strict";ae.exports=function(B){return B.end+B.size/1e6}},81696:function(ae,B,r){"use strict";var D=r(71828),E=r(36914);function f(v,c,i,s){return Math.abs(v[0]-c[0])<i&&Math.abs(v[1]-c[1])<s}function S(v,c,i,s,a){var o,le,de,he,we,l=c.join(","),u=v.crossings[l],d=(de=c,he=0,we=0,(le=u)>20&&i?208===le||1114===le?he=0===de[0]?1:-1:we=0===de[1]?1:-1:-1!==E.BOTTOMSTART.indexOf(le)?we=1:-1!==E.LEFTSTART.indexOf(le)?he=1:-1!==E.TOPSTART.indexOf(le)?we=-1:he=-1,[he,we]),m=[M(v,c,[-d[0],-d[1]])],h=v.z.length,T=v.z[0].length,_=c.slice(),g=d.slice();for(o=0;o<1e4;o++){if(u>20?v.crossings[l]=E.SADDLEREMAINDER[u=E.CHOOSESADDLE[u][(d[0]||d[1])<0?0:1]]:delete v.crossings[l],!(d=E.NEWDELTA[u])){D.log("Found bad marching index:",u,c,v.level);break}if(m.push(M(v,c,d)),c[0]+=d[0],c[1]+=d[1],l=c.join(","),f(m[m.length-1],m[m.length-2],s,a)&&m.pop(),c[0]===_[0]&&c[1]===_[1]&&d[0]===g[0]&&d[1]===g[1]||i&&(d[0]&&(c[0]<0||c[0]>T-2)||d[1]&&(c[1]<0||c[1]>h-2)))break;u=v.crossings[l]}1e4===o&&D.log("Infinite loop in contour?");var x,b,A,p,O,k,I,P,R,N,j,X,F,Z,W,H=f(m[0],m[m.length-1],s,a),G=0,Y=.2*v.smoothing,se=[],te=0;for(o=1;o<m.length;o++)Z=(X=m[o])[2]-(F=m[o-1])[2],W=X[3]-F[3],G+=I=Math.sqrt(Z*Z+W*W),se.push(I);var re=G/se.length*Y;function Q(le){return m[le%m.length]}for(o=m.length-2;o>=te;o--)if((x=se[o])<re){for(A=0,b=o-1;b>=te&&x+se[b]<re;b--)x+=se[b];if(H&&o===m.length-2)for(A=0;A<b&&x+se[A]<re;A++)x+=se[A];O=o-b+A+1,k=Math.floor((o+b+A+2)/2),p=H||o!==m.length-2?H||-1!==b?O%2?Q(k):[(Q(k)[0]+Q(k+1)[0])/2,(Q(k)[1]+Q(k+1)[1])/2]:m[0]:m[m.length-1],m.splice(b+1,o-b+1,p),o=b+1,A&&(te=A),H&&(o===m.length-2?m[A]=m[m.length-1]:0===o&&(m[m.length-1]=m[0]))}for(m.splice(0,te),o=0;o<m.length;o++)m[o].length=2;if(!(m.length<2))if(H)m.pop(),v.paths.push(m);else{i||D.log("Unclosed interior contour?",v.level,_.join(","),m.join("L"));var ee=!1;for(P=0;P<v.edgepaths.length;P++)if(N=v.edgepaths[P],!ee&&f(N[0],m[m.length-1],s,a)){m.pop(),ee=!0;var oe=!1;for(R=0;R<v.edgepaths.length;R++)if(f((j=v.edgepaths[R])[j.length-1],m[0],s,a)){oe=!0,m.shift(),v.edgepaths.splice(P,1),R===P?v.paths.push(m.concat(j)):(R>P&&R--,v.edgepaths[R]=j.concat(m,N));break}oe||(v.edgepaths[P]=m.concat(N))}for(P=0;P<v.edgepaths.length&&!ee;P++)f((N=v.edgepaths[P])[N.length-1],m[0],s,a)&&(m.shift(),v.edgepaths[P]=N.concat(m),ee=!0);ee||v.edgepaths.push(m)}}function M(v,c,i){var s=c[0]+Math.max(i[0],0),a=c[1]+Math.max(i[1],0),o=v.z[a][s],l=v.xaxis,u=v.yaxis;if(i[1]){var d=(v.level-o)/(v.z[a][s+1]-o),m=(1!==d?(1-d)*l.c2l(v.x[s]):0)+(0!==d?d*l.c2l(v.x[s+1]):0);return[l.c2p(l.l2c(m),!0),u.c2p(v.y[a],!0),s+d,a]}var h=(v.level-o)/(v.z[a+1][s]-o),T=(1!==h?(1-h)*u.c2l(v.y[a]):0)+(0!==h?h*u.c2l(v.y[a+1]):0);return[l.c2p(v.x[s],!0),u.c2p(u.l2c(T),!0),s,a+h]}ae.exports=function(v,c,i){var s,a,o,l;for(c=c||.01,i=i||.01,a=0;a<v.length;a++){for(o=v[a],l=0;l<o.starts.length;l++)S(o,o.starts[l],"edge",c,i);for(s=0;Object.keys(o.crossings).length&&s<1e4;)s++,S(o,Object.keys(o.crossings)[0].split(",").map(Number),void 0,c,i);1e4===s&&D.log("Infinite loop in contour?")}}},52421:function(ae,B,r){"use strict";var D=r(7901),E=r(46248);ae.exports=function(f,S,M,v,c){c||(c={}),c.isContour=!0;var i=E(f,S,M,v,c);return i&&i.forEach(function(s){var a=s.trace;"constraint"===a.contours.type&&(a.fillcolor&&D.opacity(a.fillcolor)?s.color=D.addOpacity(a.fillcolor,1):a.contours.showlines&&D.opacity(a.line.color)&&(s.color=D.addOpacity(a.line.color,1)))}),i}},99442:function(ae,B,r){"use strict";ae.exports={attributes:r(70600),supplyDefaults:r(13031),calc:r(27529),plot:r(29854).plot,style:r(84426),colorbar:r(90654),hoverPoints:r(52421),moduleType:"trace",name:"contour",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f,S,M){if(M||(M={}),E("contours.showlabels")){var v=f.font;D.coerceFont(E,"contours.labelfont",{family:v.family,size:v.size,color:S}),E("contours.labelformat")}!1!==M.hasHover&&E("zhoverformat")}},86068:function(ae,B,r){"use strict";var D=r(39898),E=r(21081),f=r(53572);ae.exports=function(S){var M=S.contours,v=M.start,c=f(M),i=M.size||1,s=Math.floor((c-v)/i)+1,a="lines"===M.coloring?0:1,o=E.extractOpts(S);isFinite(i)||(i=1,s=1);var l,u,d=o.reversescale?E.flipScale(o.colorscale):o.colorscale,m=d.length,h=new Array(m),T=new Array(m),_=o.min,g=o.max;if("heatmap"===M.coloring){for(u=0;u<m;u++)h[u]=(l=d[u])[0]*(g-_)+_,T[u]=l[1];var w=D.extent([_,g,M.start,M.start+i*(s-1)]),x=w[_<g?0:1],b=w[_<g?1:0];x!==_&&(h.splice(0,0,x),T.splice(0,0,T[0])),b!==g&&(h.push(b),T.push(T[T.length-1]))}else{var A=S._input&&"number"==typeof S._input.zmin&&"number"==typeof S._input.zmax;for(A&&(v<=_||c>=g)&&(v<=_&&(v=_),c>=g&&(c=g),s=Math.floor((c-v)/i)+1,a=0),u=0;u<m;u++)h[u]=((l=d[u])[0]*(s+a-1)-a/2)*i+v,T[u]=l[1];(A||S.autocontour)&&(h[0]>_&&(h.unshift(_),T.unshift(T[0])),h[h.length-1]<g&&(h.push(g),T.push(T[T.length-1])))}return E.makeColorScaleFunc({domain:h,range:T},{noNumericCheck:!0})}},87678:function(ae,B,r){"use strict";var D=r(36914);function E(f,S){var M=(S[0][0]>f?0:1)+(S[0][1]>f?0:2)+(S[1][1]>f?0:4)+(S[1][0]>f?0:8);return 5===M||10===M?f>(S[0][0]+S[0][1]+S[1][0]+S[1][1])/4?5===M?713:1114:5===M?104:208:15===M?0:M}ae.exports=function(f){var S,M,v,c,i,s,a,o,l,u=f[0].z,d=u.length,m=u[0].length,h=2===d||2===m;for(M=0;M<d-1;M++)for(c=[],0===M&&(c=c.concat(D.BOTTOMSTART)),M===d-2&&(c=c.concat(D.TOPSTART)),S=0;S<m-1;S++)for(v=c.slice(),0===S&&(v=v.concat(D.LEFTSTART)),S===m-2&&(v=v.concat(D.RIGHTSTART)),i=S+","+M,s=[[u[M][S],u[M][S+1]],[u[M+1][S],u[M+1][S+1]]],l=0;l<f.length;l++)(a=E((o=f[l]).level,s))&&(o.crossings[i]=a,-1!==v.indexOf(a)&&(o.starts.push([S,M]),h&&-1!==v.indexOf(a,v.indexOf(a)+1)&&o.starts.push([S,M])))}},29854:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424),S=r(21081),M=r(63893),v=r(89298),c=r(21994),i=r(50347),s=r(87678),a=r(81696),o=r(87558),l=r(84857),u=r(20083),d=r(36914),m=d.LABELOPTIMIZER;function h(g,w){var x,b,A,p,O,k,P="",R=0,N=g.edgepaths.map(function(H,G){return G}),j=!0;function X(H){return Math.abs(H[1]-w[2][1])<.01}function Z(H){return Math.abs(H[0]-w[2][0])<.01}for(;N.length;){for(k=f.smoothopen(g.edgepaths[R],g.smoothing),P+=j?k:k.replace(/^M/,"L"),N.splice(N.indexOf(R),1),x=g.edgepaths[R][g.edgepaths[R].length-1],p=-1,A=0;A<4;A++){if(!x){E.log("Missing end?",R,g);break}for(Math.abs(x[1]-w[0][1])<.01&&!Z(x)?b=w[1]:Math.abs(x[0]-w[0][0])<.01?b=w[0]:X(x)?b=w[3]:Z(x)&&(b=w[2]),O=0;O<g.edgepaths.length;O++){var W=g.edgepaths[O][0];Math.abs(x[0]-b[0])<.01?Math.abs(x[0]-W[0])<.01&&(W[1]-x[1])*(b[1]-W[1])>=0&&(b=W,p=O):Math.abs(x[1]-b[1])<.01?Math.abs(x[1]-W[1])<.01&&(W[0]-x[0])*(b[0]-W[0])>=0&&(b=W,p=O):E.log("endpt to newendpt is not vert. or horz.",x,b,W)}if(x=b,p>=0)break;P+="L"+b}if(p===g.edgepaths.length){E.log("unclosed perimeter path");break}(j=-1===N.indexOf(R=p))&&(R=N[0],P+="Z")}for(R=0;R<g.paths.length;R++)P+=f.smoothclosed(g.paths[R],g.smoothing);return P}function T(g,w,x,b){var A=w.width/2,p=w.height/2,O=g.x,k=g.y,I=g.theta,P=Math.cos(I)*A,R=Math.sin(I)*A,N=(O>b.center?b.right-O:O-b.left)/(P+Math.abs(Math.sin(I)*p)),j=(k>b.middle?b.bottom-k:k-b.top)/(Math.abs(R)+Math.cos(I)*p);if(N<1||j<1)return 1/0;var X=m.EDGECOST*(1/(N-1)+1/(j-1));X+=m.ANGLECOST*I*I;for(var F=O-P,Z=k-R,W=O+P,H=k+R,G=0;G<x.length;G++){var Y=x[G],se=Math.cos(Y.theta)*Y.width/2,te=Math.sin(Y.theta)*Y.width/2,re=2*E.segmentDistance(F,Z,W,H,Y.x-se,Y.y-te,Y.x+se,Y.y+te)/(w.height+Y.height),Q=Y.level===w.level,ee=Q?m.SAMELEVELDISTANCE:1;if(re<=ee)return 1/0;X+=m.NEIGHBORCOST*(Q?m.SAMELEVELFACTOR:1)/(re-ee)}return X}function _(g){var w,x,b=g.trace._emptypoints,A=[],p=g.z.length,O=g.z[0].length,k=[];for(w=0;w<O;w++)k.push(1);for(w=0;w<p;w++)A.push(k.slice());for(w=0;w<b.length;w++)A[(x=b[w])[0]][x[1]]=0;return g.zmask=A,A}B.plot=function(g,w,x,b){var A=w.xaxis,p=w.yaxis;E.makeTraceGroups(b,x,"contour").each(function(O){var k=D.select(this),I=O[0],R=I.x,N=I.y,j=I.trace.contours,X=o(j,w,I),F=E.ensureSingle(k,"g","heatmapcoloring"),Z=[];"heatmap"===j.coloring&&(Z=[O]),i(g,w,Z,F),s(X),a(X);var Q,ee,oe,W=A.c2p(R[0],!0),H=A.c2p(R[R.length-1],!0),G=p.c2p(N[0],!0),Y=p.c2p(N[N.length-1],!0),se=[[W,Y],[H,Y],[H,G],[W,G]],te=X;"constraint"===j.type&&(te=l(X,j._operation)),Q=se,ee=j,(oe=E.ensureSingle(k,"g","contourbg").selectAll("path").data("fill"===ee.coloring?[0]:[])).enter().append("path"),oe.exit().remove(),oe.attr("d","M"+Q.join("L")+"Z").style("stroke","none"),function(re,Q,ee,oe){var le="fill"===oe.coloring||"constraint"===oe.type&&"="!==oe._operation,ue="M"+ee.join("L")+"Z";le&&u(Q,oe);var de=E.ensureSingle(re,"g","contourfill").selectAll("path").data(le?Q:[]);de.enter().append("path"),de.exit().remove(),de.each(function(he){var we=(he.prefixBoundary?ue:"")+h(he,ee);we?D.select(this).attr("d",we).style("stroke","none"):D.select(this).remove()})}(k,te,se,j),function(re,Q,ee,oe,le){var ue=ee._context.staticPlot,de=E.ensureSingle(re,"g","contourlines"),he=!1!==le.showlines,we=le.showlabels,Ae=he&&we,Te=B.createLines(de,he||we,Q,ue),ve=B.createLineClip(de,Ae,ee,oe.trace.uid),xe=re.selectAll("g.contourlabels").data(we?[0]:[]);if(xe.exit().remove(),xe.enter().append("g").classed("contourlabels",!0),we){var Fe=[],Se=[];E.clearLocationCache();var ke=B.labelFormatter(ee,oe),pe=f.tester.append("text").attr("data-notex",1).call(f.font,le.labelfont),fe=Q[0].xaxis,be=Q[0].yaxis,Le=fe._length,Oe=be._length,De=fe.range,Ue=be.range,Ge=E.aggNums(Math.min,null,oe.x),ye=E.aggNums(Math.max,null,oe.x),Ie=E.aggNums(Math.min,null,oe.y),Ee=E.aggNums(Math.max,null,oe.y),Be=Math.max(fe.c2p(Ge,!0),0),We=Math.min(fe.c2p(ye,!0),Le),He=Math.max(be.c2p(Ee,!0),0),Je=Math.min(be.c2p(Ie,!0),Oe),et={};De[0]<De[1]?(et.left=Be,et.right=We):(et.left=We,et.right=Be),Ue[0]<Ue[1]?(et.top=He,et.bottom=Je):(et.top=Je,et.bottom=He),et.middle=(et.top+et.bottom)/2,et.center=(et.left+et.right)/2,Fe.push([[et.left,et.top],[et.right,et.top],[et.right,et.bottom],[et.left,et.bottom]]);var at=Math.sqrt(Le*Le+Oe*Oe),mt=d.LABELDISTANCE*at/Math.max(1,Q.length/d.LABELINCREASE);Te.each(function(ct){var St=B.calcTextOpts(ct.level,ke,pe,ee);D.select(this).selectAll("path").each(function(){var Dt=E.getVisibleSegment(this,et,St.height/2);if(Dt&&!(Dt.len<(St.width+St.height)*d.LABELMIN))for(var Et=Math.min(Math.ceil(Dt.len/mt),d.LABELMAX),ht=0;ht<Et;ht++){var pt=B.findBestTextLocation(this,Dt,St,Se,et);if(!pt)break;B.addLabelData(pt,St,Se,Fe)}})}),pe.remove(),B.drawLabels(xe,Se,ee,ve,Ae?Fe:null)}we&&!he&&Te.remove()}(k,X,g,I,j),function(re,Q,ee,oe,le){var ue=oe.trace,he="clip"+ue.uid,we=ee._fullLayout._clips.selectAll("#"+he).data(ue.connectgaps?[]:[0]);if(we.enter().append("clipPath").classed("contourclip",!0).attr("id",he),we.exit().remove(),!1===ue.connectgaps){var Ae={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:Q.xaxis,yaxis:Q.yaxis,x:oe.x,y:oe.y,z:_(oe),smoothing:0};s([Ae]),a([Ae]),u([Ae],{type:"levels"}),E.ensureSingle(we,"path","").attr("d",(Ae.prefixBoundary?"M"+le.join("L")+"Z":"")+h(Ae,le))}else he=null;f.setClipUrl(re,he,ee)}(k,w,g,I,se)})},B.createLines=function(g,w,x,b){var A=x[0].smoothing,p=g.selectAll("g.contourlevel").data(w?x:[]);if(p.exit().remove(),p.enter().append("g").classed("contourlevel",!0),w){var O=p.selectAll("path.openline").data(function(I){return I.pedgepaths||I.edgepaths});O.exit().remove(),O.enter().append("path").classed("openline",!0),O.attr("d",function(I){return f.smoothopen(I,A)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke");var k=p.selectAll("path.closedline").data(function(I){return I.ppaths||I.paths});k.exit().remove(),k.enter().append("path").classed("closedline",!0),k.attr("d",function(I){return f.smoothclosed(I,A)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke")}return p},B.createLineClip=function(g,w,x,b){var A=w?"clipline"+b:null,p=x._fullLayout._clips.selectAll("#"+A).data(w?[0]:[]);return p.exit().remove(),p.enter().append("clipPath").classed("contourlineclip",!0).attr("id",A),f.setClipUrl(g,A,x),p},B.labelFormatter=function(g,w){var x=g._fullLayout,b=w.trace,A=b.contours,p={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(A.labelformat)p.tickformat=A.labelformat,c(p,x);else{var O=S.extractOpts(b);if(O&&O.colorbar&&O.colorbar._axis)p=O.colorbar._axis;else{if("constraint"===A.type){var k=A.value;p.range=Array.isArray(k)?[k[0],k[k.length-1]]:[k,k]}else p.range=[A.start,A.end],p.nticks=(A.end-A.start)/A.size;p.range[0]===p.range[1]&&(p.range[1]+=p.range[0]||1),p.nticks||(p.nticks=1e3),c(p,x),v.prepTicks(p),p._tmin=null,p._tmax=null}}return function(I){return v.tickText(p,I).text}},B.calcTextOpts=function(g,w,x,b){var A=w(g);x.text(A).call(M.convertToTspans,b);var p=x.node(),O=f.bBox(p,!0);return{text:A,width:O.width,height:O.height,fontSize:+p.style["font-size"].replace("px",""),level:g,dy:(O.top+O.bottom)/2}},B.findBestTextLocation=function(g,w,x,b,A){var p,O,k,I,P,R=x.width;w.isClosed?(p=w.min+(O=w.len/m.INITIALSEARCHPOINTS)/2,k=w.max):(p=w.min+(O=(w.len-R)/(m.INITIALSEARCHPOINTS+1))+R/2,k=w.max-(O+R)/2);for(var N=1/0,j=0;j<m.ITERATIONS;j++){for(var X=p;X<k;X+=O){var F=E.getTextLocation(g,w.total,X,R),Z=T(F,x,b,A);Z<N&&(N=Z,P=F,I=X)}if(N>2*m.MAXCOST)break;j&&(O/=2),k=(p=I-O/2)+1.5*O}if(N<=m.MAXCOST)return P},B.addLabelData=function(g,w,x,b){var A=w.fontSize,p=w.width+A/3,O=Math.max(0,w.height-A/3),k=g.x,I=g.y,P=g.theta,R=Math.sin(P),N=Math.cos(P),j=function(F,Z){return[k+F*N-Z*R,I+F*R+Z*N]},X=[j(-p/2,-O/2),j(-p/2,O/2),j(p/2,O/2),j(p/2,-O/2)];x.push({text:w.text,x:k,y:I,dy:w.dy,theta:P,level:w.level,width:p,height:O}),b.push(X)},B.drawLabels=function(g,w,x,b,A){var p=g.selectAll("text").data(w,function(I){return I.text+","+I.x+","+I.y+","+I.theta});if(p.exit().remove(),p.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(I){var P=I.x+Math.sin(I.theta)*I.dy,R=I.y-Math.cos(I.theta)*I.dy;D.select(this).text(I.text).attr({x:P,y:R,transform:"rotate("+180*I.theta/Math.PI+" "+P+" "+R+")"}).call(M.convertToTspans,x)}),A){for(var O="",k=0;k<A.length;k++)O+="M"+A[k].join("L")+"Z";E.ensureSingle(b,"path","").attr("d",O)}}},18670:function(ae,B,r){"use strict";var D=r(89298),E=r(71828);function f(S,M,v){var c={type:"linear",range:[S,M]};return D.autoTicks(c,(M-S)/(v||15)),c}ae.exports=function(S,M){var v=S.contours;if(S.autocontour){var c=S.zmin,i=S.zmax;(S.zauto||void 0===c)&&(c=E.aggNums(Math.min,null,M)),(S.zauto||void 0===i)&&(i=E.aggNums(Math.max,null,M));var s=f(c,i,S.ncontours);v.size=s.dtick,v.start=D.tickFirst(s),s.range.reverse(),v.end=D.tickFirst(s),v.start===c&&(v.start+=v.size),v.end===i&&(v.end-=v.size),v.start>v.end&&(v.start=v.end=(v.start+v.end)/2),S._input.contours||(S._input.contours={}),E.extendFlat(S._input.contours,{start:v.start,end:v.end,size:v.size}),S._input.autocontour=!0}else if("constraint"!==v.type){var a,o=v.start,l=v.end,u=S._input.contours;o>l&&(v.start=u.start=l,l=v.end=u.end=o,o=v.start),v.size>0||(a=o===l?1:f(o,l,S.ncontours).dtick,u.size=v.size=a)}}},84426:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(70035),S=r(86068);ae.exports=function(M){var v=D.select(M).selectAll("g.contour");v.style("opacity",function(c){return c[0].trace.opacity}),v.each(function(c){var i=D.select(this),s=c[0].trace,a=s.contours,o=s.line,l=a.size||1,u=a.start,d="constraint"===a.type,m=!d&&"lines"===a.coloring,h=!d&&"fill"===a.coloring,T=m||h?S(s):null;i.selectAll("g.contourlevel").each(function(w){D.select(this).selectAll("path").call(E.lineGroupStyle,o.width,m?T(w.level):o.color,o.dash)});var _=a.labelfont;if(i.selectAll("g.contourlabels text").each(function(w){E.font(D.select(this),{family:_.family,size:_.size,color:_.color||(m?T(w.level):o.color)})}),d)i.selectAll("g.contourfill path").style("fill",s.fillcolor);else if(h){var g;i.selectAll("g.contourfill path").style("fill",function(w){return void 0===g&&(g=w.level),T(w.level+.5*l)}),void 0===g&&(g=u),i.selectAll("g.contourbg path").style("fill",T(g-.5*l))}}),f(M)}},8724:function(ae,B,r){"use strict";var D=r(1586),E=r(14523);ae.exports=function(f,S,M,v,c){var i,s=M("contours.coloring"),a="";"fill"===s&&(i=M("contours.showlines")),!1!==i&&("lines"!==s&&(a=M("line.color","#000")),M("line.width",.5),M("line.dash")),"none"!==s&&(!0!==f.showlegend&&(S.showlegend=!1),S._dfltShowLegend=!1,D(f,S,v,M,{prefix:"",cLetter:"z"})),M("line.smoothing"),E(M,v,a,c)}},88085:function(ae,B,r){"use strict";var D=r(21606),E=r(70600),f=r(50693),S=r(1426).extendFlat,M=E.contours;ae.exports=S({carpet:{valType:"string",editType:"calc"},z:D.z,a:D.x,a0:D.x0,da:D.dx,b:D.y,b0:D.y0,db:D.dy,text:D.text,hovertext:D.hovertext,transpose:D.transpose,atype:D.xtype,btype:D.ytype,fillcolor:E.fillcolor,autocontour:E.autocontour,ncontours:E.ncontours,contours:{type:M.type,start:M.start,end:M.end,size:M.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:M.showlines,showlabels:M.showlabels,labelfont:M.labelfont,labelformat:M.labelformat,operation:M.operation,value:M.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:E.line.color,width:E.line.width,dash:E.line.dash,smoothing:E.line.smoothing,editType:"plot"},transforms:void 0},f("",{cLetter:"z",autoColorDflt:!1}))},59885:function(ae,B,r){"use strict";var D=r(78803),E=r(71828),f=r(68296),S=r(4742),M=r(824),v=r(43907),c=r(70769),i=r(75005),s=r(22882),a=r(18670);ae.exports=function(o,l){var u=l._carpetTrace=s(o,l);if(u&&u.visible&&"legendonly"!==u.visible){if(!l.a||!l.b){var d=o.data[u.index],m=o.data[l.index];m.a||(m.a=d.a),m.b||(m.b=d.b),i(m,l,l._defaultColor,o._fullLayout)}var h=function(T,_){var g,w,x,b,A,p,O,k=_._carpetTrace,I=k.aaxis,P=k.baxis;I._minDtick=0,P._minDtick=0,E.isArray1D(_.z)&&f(_,I,P,"a","b",["z"]),g=_._a=_._a||_.a,b=_._b=_._b||_.b,g=g?I.makeCalcdata(_,"_a"):[],b=b?P.makeCalcdata(_,"_b"):[],w=_.a0||0,x=_.da||1,A=_.b0||0,p=_.db||1,O=_._z=S(_._z||_.z,_.transpose),_._emptypoints=v(O),M(O,_._emptypoints);var R=E.maxRowLength(O),F={a:c(_,"scaled"===_.xtype?"":g,w,x,R,I),b:c(_,"scaled"===_.ytype?"":b,A,p,O.length,P),z:O};return"levels"===_.contours.type&&"none"!==_.contours.coloring&&D(T,_,{vals:O,containerStr:"",cLetter:"z"}),[F]}(o,l);return a(l,l._z),h}}},75005:function(ae,B,r){"use strict";var D=r(71828),E=r(67684),f=r(88085),S=r(83179),M=r(67217),v=r(8724);ae.exports=function(c,i,s,a){function o(l,u){return D.coerce(c,i,f,l,u)}if(o("carpet"),c.a&&c.b){if(!E(c,i,o,a,"a","b"))return void(i.visible=!1);o("text"),"constraint"===o("contours.type")?S(c,i,o,a,s,{hasHover:!1}):(M(c,i,o,function(l){return D.coerce2(c,i,f,l)}),v(c,i,o,a,{hasHover:!1}))}else i._defaultColor=s,i._length=null}},93740:function(ae,B,r){"use strict";ae.exports={attributes:r(88085),supplyDefaults:r(75005),colorbar:r(90654),calc:r(59885),plot:r(51048),style:r(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:r(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(ae,B,r){"use strict";var D=r(39898),E=r(27669),f=r(67961),S=r(91424),M=r(71828),v=r(87678),c=r(81696),i=r(29854),s=r(36914),a=r(84857),o=r(87558),l=r(20083),u=r(22882),d=r(4536);function m(_,g,w){var x=_.getPointAtLength(g),b=_.getPointAtLength(w),A=b.x-x.x,p=b.y-x.y,O=Math.sqrt(A*A+p*p);return[A/O,p/O]}function h(_){var g=Math.sqrt(_[0]*_[0]+_[1]*_[1]);return[_[0]/g,_[1]/g]}function T(_,g){var w=Math.abs(_[0]*g[0]+_[1]*g[1]);return Math.sqrt(1-w*w)/w}ae.exports=function(_,g,w,x){var b=g.xaxis,A=g.yaxis;M.makeTraceGroups(x,w,"contour").each(function(p){var O=D.select(this),k=p[0],I=k.trace,P=I._carpetTrace=u(_,I),R=_.calcdata[P.index][0];if(P.visible&&"legendonly"!==P.visible){var N=k.a,j=k.b,X=I.contours,F=o(X,g,k),Z="constraint"===X.type,W=X._operation,H=Z?"="===W?"lines":"fill":X.coloring,G=[[N[0],j[j.length-1]],[N[N.length-1],j[j.length-1]],[N[N.length-1],j[0]],[N[0],j[0]]];v(F),c(F,1e-8*(N[N.length-1]-N[0]),1e-8*(j[j.length-1]-j[0]));var te,re,Q,ee,oe=F;"constraint"===X.type&&(oe=a(F,W)),function(he,we){var Ae,Te,ve,xe,Fe,Se,ke,pe,fe;for(Ae=0;Ae<he.length;Ae++){for(Fe=(xe=he[Ae]).pedgepaths=[],Se=xe.ppaths=[],Te=0;Te<xe.edgepaths.length;Te++){for(fe=xe.edgepaths[Te],ke=[],ve=0;ve<fe.length;ve++)ke[ve]=we(fe[ve]);Fe.push(ke)}for(Te=0;Te<xe.paths.length;Te++){for(fe=xe.paths[Te],pe=[],ve=0;ve<fe.length;ve++)pe[ve]=we(fe[ve]);Se.push(pe)}}}(F,de);var le=[];for(ee=R.clipsegments.length-1;ee>=0;ee--)re=E([],(te=R.clipsegments[ee]).x,b.c2p),Q=E([],te.y,A.c2p),re.reverse(),Q.reverse(),le.push(f(re,Q,te.bicubic));var ue="M"+le.join("L")+"Z";(function(he,we,Ae,Te,ve,xe){var Fe,Se,ke,pe,fe=M.ensureSingle(he,"g","contourbg").selectAll("path").data("fill"!==xe||ve?[]:[0]);fe.enter().append("path"),fe.exit().remove();var be=[];for(pe=0;pe<we.length;pe++)Se=E([],(Fe=we[pe]).x,Ae.c2p),ke=E([],Fe.y,Te.c2p),be.push(f(Se,ke,Fe.bicubic));fe.attr("d","M"+be.join("L")+"Z").style("stroke","none")})(O,R.clipsegments,b,A,Z,H),function(he,we,Ae,Te,ve,xe,Fe,Se,ke,pe,fe){var be="fill"===pe;be&&l(ve,he.contours);var Le=M.ensureSingle(we,"g","contourfill").selectAll("path").data(be?ve:[]);Le.enter().append("path"),Le.exit().remove(),Le.each(function(Oe){var De=(Oe.prefixBoundary?fe:"")+function(Ue,Ge,ye,Ie,Ee,Be,We,He){var Je,et,at,mt,ct,St,Dt,Et="",ht=Ge.edgepaths.map(function(ft,Ve){return Ve}),pt=!0,Pt=1e-4*Math.abs(ye[0][0]-ye[2][0]),Ft=1e-4*Math.abs(ye[0][1]-ye[2][1]);function Ht(ft){return Math.abs(ft[1]-ye[0][1])<Ft}function Lt(ft){return Math.abs(ft[1]-ye[2][1])<Ft}function tt(ft){return Math.abs(ft[0]-ye[0][0])<Pt}function rt(ft){return Math.abs(ft[0]-ye[2][0])<Pt}function Ke(ft,Ve){var qe,dt,ut,At,wt="";for(Ht(ft)&&!rt(ft)||Lt(ft)&&!tt(ft)?(At=Ee.aaxis,ut=d(Ee,Be,[ft[0],Ve[0]],.5*(ft[1]+Ve[1]))):(At=Ee.baxis,ut=d(Ee,Be,.5*(ft[0]+Ve[0]),[ft[1],Ve[1]])),qe=1;qe<ut.length;qe++)for(wt+=At.smoothing?"C":"L",dt=0;dt<ut[qe].length;dt++){var kt=ut[qe][dt];wt+=[We.c2p(kt[0]),He.c2p(kt[1])]+" "}return wt}for(Je=0,et=null;ht.length;){for(et&&(Et+=Ke(et,Ge.edgepaths[Je][0])),Dt=S.smoothopen(Ge.edgepaths[Je].map(Ie),Ge.smoothing),Et+=pt?Dt:Dt.replace(/^M/,"L"),ht.splice(ht.indexOf(Je),1),et=Ge.edgepaths[Je][Ge.edgepaths[Je].length-1],ct=-1,mt=0;mt<4;mt++){if(!et){M.log("Missing end?",Je,Ge);break}for(Ht(et)&&!rt(et)?at=ye[1]:tt(et)?at=ye[0]:Lt(et)?at=ye[3]:rt(et)&&(at=ye[2]),St=0;St<Ge.edgepaths.length;St++){var gt=Ge.edgepaths[St][0];Math.abs(et[0]-at[0])<Pt?Math.abs(et[0]-gt[0])<Pt&&(gt[1]-et[1])*(at[1]-gt[1])>=0&&(at=gt,ct=St):Math.abs(et[1]-at[1])<Ft?Math.abs(et[1]-gt[1])<Ft&&(gt[0]-et[0])*(at[0]-gt[0])>=0&&(at=gt,ct=St):M.log("endpt to newendpt is not vert. or horz.",et,at,gt)}if(ct>=0)break;Et+=Ke(et,at),et=at}if(ct===Ge.edgepaths.length){M.log("unclosed perimeter path");break}(pt=-1===ht.indexOf(Je=ct))&&(Je=ht[0],Et+=Ke(et,at)+"Z",et=null)}for(Je=0;Je<Ge.paths.length;Je++)Et+=S.smoothclosed(Ge.paths[Je].map(Ie),Ge.smoothing);return Et}(0,Oe,xe,Fe,Se,ke,Ae,Te);De?D.select(this).attr("d",De).style("stroke","none"):D.select(this).remove()})}(I,O,b,A,oe,G,de,P,R,H,ue),function(he,we,Ae,Te,ve,xe,Fe){var Se=Ae._context.staticPlot,ke=M.ensureSingle(he,"g","contourlines"),pe=!1!==ve.showlines,fe=ve.showlabels,be=pe&&fe,Le=i.createLines(ke,pe||fe,we,Se),Oe=i.createLineClip(ke,be,Ae,Te.trace.uid),De=he.selectAll("g.contourlabels").data(fe?[0]:[]);if(De.exit().remove(),De.enter().append("g").classed("contourlabels",!0),fe){var ye=xe.xaxis._length,Ie=xe.yaxis._length,Ee=[[[0,0],[ye,0],[ye,Ie],[0,Ie]]],Be=[];M.clearLocationCache();var We=i.labelFormatter(Ae,Te),He=S.tester.append("text").attr("data-notex",1).call(S.font,ve.labelfont),Je={left:0,right:ye,center:ye/2,top:0,bottom:Ie,middle:Ie/2},et=Math.sqrt(ye*ye+Ie*Ie),at=s.LABELDISTANCE*et/Math.max(1,we.length/s.LABELINCREASE);Le.each(function(mt){var ct=i.calcTextOpts(mt.level,We,He,Ae);D.select(this).selectAll("path").each(function(St){var Et=M.getVisibleSegment(this,Je,ct.height/2);if(Et&&(function(Ft,Ht,Lt,tt,rt,Ke){for(var it,gt=0;gt<Lt.pedgepaths.length;gt++)Ht===Lt.pedgepaths[gt]&&(it=Lt.edgepaths[gt]);if(it){var ft=rt.a[0],Ve=rt.a[rt.a.length-1],qe=rt.b[0],dt=rt.b[rt.b.length-1],ut=m(Ft,0,1),At=m(Ft,tt.total,tt.total-1),wt=_t(it[0],ut),kt=tt.total-_t(it[it.length-1],At);tt.min<wt&&(tt.min=wt),tt.max>kt&&(tt.max=kt),tt.len=tt.max-tt.min}function _t(Rt,bt){var Tt,Ot=0;return(Math.abs(Rt[0]-ft)<.1||Math.abs(Rt[0]-Ve)<.1)&&(Tt=h(rt.dxydb_rough(Rt[0],Rt[1],.1)),Ot=Math.max(Ot,Ke*T(bt,Tt)/2)),(Math.abs(Rt[1]-qe)<.1||Math.abs(Rt[1]-dt)<.1)&&(Tt=h(rt.dxyda_rough(Rt[0],Rt[1],.1)),Ot=Math.max(Ot,Ke*T(bt,Tt)/2)),Ot}}(this,St,mt,Et,Fe,ct.height),!(Et.len<(ct.width+ct.height)*s.LABELMIN)))for(var ht=Math.min(Math.ceil(Et.len/at),s.LABELMAX),pt=0;pt<ht;pt++){var Pt=i.findBestTextLocation(this,Et,ct,Be,Je);if(!Pt)break;i.addLabelData(Pt,ct,Be,Ee)}})}),He.remove(),i.drawLabels(De,Be,Ae,Oe,be?Ee:null)}fe&&!pe&&Le.remove()}(O,F,_,k,X,g,P),S.setClipUrl(O,P._clipPathId,_)}function de(he){var we=P.ab2xy(he[0],he[1],!0);return[b.c2p(we[0]),A.c2p(we[1])]}})}},64096:function(ae,B,r){"use strict";var D=r(50693),E=r(5386).fF,f=r(9012),S=r(99181),M=r(1426).extendFlat;ae.exports=M({lon:S.lon,lat:S.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:S.text,hovertext:S.hovertext,hoverinfo:M({},f.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:E(),showlegend:M({},f.showlegend,{dflt:!1})},D("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(ae,B,r){"use strict";var D=r(92770),E=r(71828).isArrayOrTypedArray,f=r(50606).BADNUM,S=r(78803),M=r(71828)._;ae.exports=function(v,c){for(var i=c._length,s=new Array(i),a=c.z,o=E(a)&&a.length,l=0;l<i;l++){var u=s[l]={},d=c.lon[l],m=c.lat[l];if(u.lonlat=D(d)&&D(m)?[+d,+m]:[f,f],o){var h=a[l];u.z=D(h)?h:f}}return S(v,c,{vals:o?a:[0,1],containerStr:"",cLetter:"z"}),i&&(s[0].t={labels:{lat:M(v,"lat:")+" ",lon:M(v,"lon:")+" "}}),s}},52414:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(7901),S=r(21081),M=r(50606).BADNUM,v=r(18214).makeBlank;ae.exports=function(c){var i=c[0].trace,s=!0===i.visible&&0!==i._length,a=i._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:v()};if(!s)return a;var o,l=[],u=i.z,d=i.radius,m=E.isArrayOrTypedArray(u)&&u.length,h=E.isArrayOrTypedArray(d);for(o=0;o<c.length;o++){var T=c[o],_=T.lonlat;if(_[0]!==M){var g={};if(m){var w=T.z;g.z=w!==M?w:0}h&&(g.r=D(d[o])&&d[o]>0?+d[o]:0),l.push({type:"Feature",geometry:{type:"Point",coordinates:_},properties:g})}}var x=S.extractOpts(i),b=x.reversescale?S.flipScale(x.colorscale):x.colorscale,A=b[0][1],p=["interpolate",["linear"],["heatmap-density"],0,f.opacity(A)<1?A:f.addOpacity(A,0)];for(o=1;o<b.length;o++)p.push(b[o][0],b[o][1]);return E.extendFlat(a.heatmap.paint,{"heatmap-weight":m?["interpolate",["linear"],["get","z"],x.min,0,x.max,1]:1/(x.max-x.min),"heatmap-color":p,"heatmap-radius":h?{type:"identity",property:"r"}:i.radius,"heatmap-opacity":i.opacity}),a.geojson={type:"FeatureCollection",features:l},a.heatmap.layout.visibility="visible",a}},79429:function(ae,B,r){"use strict";var D=r(71828),E=r(1586),f=r(64096);ae.exports=function(S,M,v,c){function i(l,u){return D.coerce(S,M,f,l,u)}var s=i("lon")||[],a=i("lat")||[],o=Math.min(s.length,a.length);o?(M._length=o,i("z"),i("radius"),i("below"),i("text"),i("hovertext"),i("hovertemplate"),E(S,M,c,i,{prefix:"",cLetter:"z"})):M.visible=!1}},62474:function(ae){"use strict";ae.exports=function(B,r){return B.lon=r.lon,B.lat=r.lat,B.z=r.z,B}},84684:function(ae,B,r){"use strict";var D=r(89298),E=r(28178).hoverPoints,f=r(28178).getExtraText;ae.exports=function(S,M,v){var c=E(S,M,v);if(c){var i=c[0],s=i.cd,a=s[0].trace,o=s[i.index];if(delete i.color,"z"in o){var l=i.subplot.mockAxis;i.z=o.z,i.zLabel=D.tickText(l,l.c2l(o.z),"hover").text}return i.extraText=f(a,o,s[0].t.labels),[i]}}},93814:function(ae,B,r){"use strict";ae.exports={attributes:r(64096),supplyDefaults:r(79429),colorbar:r(61243),formatLabels:r(15636),calc:r(85070),plot:r(7336),hoverPoints:r(84684),eventData:r(62474),getBelow:function(D,E){for(var f=E.getMapLayers(),S=0;S<f.length;S++){var M=f[S],v=M.id;if("symbol"===M.type&&"string"==typeof v&&-1===v.indexOf("plotly-"))return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:r(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(ae,B,r){"use strict";var D=r(52414),E=r(77734).traceLayerPrefix;function f(M,v){this.type="densitymapbox",this.subplot=M,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",E+v+"-heatmap"]],this.below=null}var S=f.prototype;S.update=function(M){var v=this.subplot,c=this.layerList,i=D(M),s=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(i.geojson),s!==this.below&&(this._removeLayers(),this._addLayers(i,s),this.below=s);for(var a=0;a<c.length;a++){var o=c[a],u=o[1],d=i[o[0]];v.setOptions(u,"setLayoutProperty",d.layout),"visible"===d.layout.visibility&&v.setOptions(u,"setPaintProperty",d.paint)}},S._addLayers=function(M,v){for(var c=this.subplot,i=this.layerList,s=this.sourceId,a=0;a<i.length;a++){var o=i[a],l=o[0],u=M[l];c.addLayer({type:l,id:o[1],source:s,layout:u.layout,paint:u.paint},v)}},S._removeLayers=function(){for(var M=this.subplot.map,v=this.layerList,c=v.length-1;c>=0;c--)M.removeLayer(v[c][1])},S.dispose=function(){var M=this.subplot.map;this._removeLayers(),M.removeSource(this.sourceId)},ae.exports=function(M,v){var c=v[0].trace,i=new f(M,c.uid),s=i.sourceId,a=D(v),o=i.below=M.belowLookup["trace-"+c.uid];return M.map.addSource(s,{type:"geojson",data:a.geojson}),i._addLayers(a,o),i}},49789:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f){for(var S=0;S<E.length;S++)E[S].i=S;D.mergeArray(f.text,E,"tx"),D.mergeArray(f.hovertext,E,"htx");var M=f.marker;if(M){D.mergeArray(M.opacity,E,"mo"),D.mergeArray(M.color,E,"mc");var v=M.line;v&&(D.mergeArray(v.color,E,"mlc"),D.mergeArrayCastPositive(v.width,E,"mlw"))}}},1285:function(ae,B,r){"use strict";var D,E=r(1486),f=r(82196).line,S=r(9012),M=r(12663).axisHoverFormat,v=r(5386).fF,c=r(5386).si,i=r(18517),s=r(1426).extendFlat,a=r(7901);ae.exports={x:E.x,x0:E.x0,dx:E.dx,y:E.y,y0:E.y0,dy:E.dy,xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,xhoverformat:M("x"),yhoverformat:M("y"),hovertext:E.hovertext,hovertemplate:v({},{keys:i.eventDataKeys}),hoverinfo:s({},S.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:c({editType:"plot"},{keys:i.eventDataKeys.concat(["label","value"])}),text:E.text,textposition:E.textposition,insidetextanchor:s({},E.insidetextanchor,{dflt:"middle"}),textangle:s({},E.textangle,{dflt:0}),textfont:E.textfont,insidetextfont:E.insidetextfont,outsidetextfont:E.outsidetextfont,constraintext:E.constraintext,cliponaxis:E.cliponaxis,orientation:s({},E.orientation,{}),offset:s({},E.offset,{arrayOk:!1}),width:s({},E.width,{arrayOk:!1}),marker:(D=s({},E.marker),delete D.pattern,D),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:s({},f.color,{dflt:a.defaultLine}),width:s({},f.width,{dflt:0,editType:"plot"}),dash:f.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:E.offsetgroup,alignmentgroup:E.alignmentgroup}},9532:function(ae,B,r){"use strict";var D=r(89298),E=r(42973),f=r(49789),S=r(66279),M=r(50606).BADNUM;function v(c){return c===M?0:c}ae.exports=function(c,i){var s,a,o,l,u,d,m,h,T=D.getFromId(c,i.xaxis||"x"),_=D.getFromId(c,i.yaxis||"y");"h"===i.orientation?(s=T.makeCalcdata(i,"x"),o=_.makeCalcdata(i,"y"),l=E(i,_,"y",o),u=!!i.yperiodalignment,d="y"):(s=_.makeCalcdata(i,"y"),o=T.makeCalcdata(i,"x"),l=E(i,T,"x",o),u=!!i.xperiodalignment,d="x"),a=l.vals;var g,w=Math.min(a.length,s.length),x=new Array(w);for(i._base=[],m=0;m<w;m++){s[m]<0&&(s[m]=M);var b=!1;s[m]!==M&&m+1<w&&s[m+1]!==M&&(b=!0),h=x[m]={p:a[m],s:s[m],cNext:b},i._base[m]=-.5*h.s,u&&(x[m].orig_p=o[m],x[m][d+"End"]=l.ends[m],x[m][d+"Start"]=l.starts[m]),i.ids&&(h.id=String(i.ids[m])),0===m&&(x[0].vTotal=0),x[0].vTotal+=v(h.s),h.begR=v(h.s)/v(x[0].s)}for(m=0;m<w;m++)(h=x[m]).s!==M&&(h.sumR=h.s/x[0].vTotal,h.difR=void 0!==g?h.s/g:1,g=h.s);return f(x,i),S(x,i),x}},18517:function(ae){"use strict";ae.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(ae,B,r){"use strict";var D=r(11661).setGroupPositions;ae.exports=function(E,f){var S,M,v=E._fullLayout,c=E._fullData,i=E.calcdata,s=f.xaxis,a=f.yaxis,o=[],l=[],u=[];for(M=0;M<c.length;M++){var d=c[M];!0===d.visible&&d.xaxis===s._id&&d.yaxis===a._id&&"funnel"===d.type&&(S=i[M],"h"===d.orientation?u.push(S):l.push(S),o.push(S))}var h={mode:v.funnelmode,norm:v.funnelnorm,gap:v.funnelgap,groupgap:v.funnelgroupgap};for(D(E,s,a,l,h),D(E,a,s,u,h),M=0;M<o.length;M++){S=o[M];for(var T=0;T<S.length;T++)T+1<S.length&&(S[T].nextP0=S[T+1].p0,S[T].nextS0=S[T+1].s0,S[T].nextP1=S[T+1].p1,S[T].nextS1=S[T+1].s1)}}},26199:function(ae,B,r){"use strict";var D=r(71828),E=r(26125),f=r(90769).handleText,S=r(67513),M=r(73927),v=r(1285),c=r(7901);ae.exports={supplyDefaults:function(i,s,a,o){function l(h,T){return D.coerce(i,s,v,h,T)}if(S(i,s,o,l)){M(i,s,o,l),l("xhoverformat"),l("yhoverformat"),l("orientation",s.y&&!s.x?"v":"h"),l("offset"),l("width");var u=l("text");l("hovertext"),l("hovertemplate");var d=l("textposition");f(i,s,o,l,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"===s.textposition||s.texttemplate||l("textinfo",Array.isArray(u)?"text+value":"value");var m=l("marker.color",a);l("marker.line.color",c.defaultLine),l("marker.line.width"),l("connector.visible")&&(l("connector.fillcolor",(T=D.isArrayOrTypedArray(h=m)?"#000":h,c.addOpacity(T,.5*c.opacity(T)))),l("connector.line.width")&&(l("connector.line.color"),l("connector.line.dash")))}else s.visible=!1;var h,T},crossTraceDefaults:function(i,s){var a,o;function l(d){return D.coerce(o._input,o,v,d)}if("group"===s.funnelmode)for(var u=0;u<i.length;u++)a=(o=i[u])._input,E(a,o,s,l)}}},34598:function(ae){"use strict";ae.exports=function(B,r){return B.x="xVal"in r?r.xVal:r.x,B.y="yVal"in r?r.yVal:r.y,"percentInitial"in r&&(B.percentInitial=r.percentInitial),"percentPrevious"in r&&(B.percentPrevious=r.percentPrevious),"percentTotal"in r&&(B.percentTotal=r.percentTotal),r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),B}},63341:function(ae,B,r){"use strict";var D=r(7901).opacity,E=r(95423).hoverOnBars,f=r(71828).formatPercent;ae.exports=function(S,M,v,c,i){var w,x,b,A,p,s=E(S,M,v,c,i);if(s){var a=s.cd,o=a[0].trace,u=a[s.index];s[("h"===o.orientation?"x":"y")+"LabelVal"]=u.s,s.percentInitial=u.begR,s.percentInitialLabel=f(u.begR,1),s.percentPrevious=u.difR,s.percentPreviousLabel=f(u.difR,1),s.percentTotal=u.sumR,s.percentTotalLabel=f(u.sumR,1);var d=u.hi||o.hoverinfo,m=[];if(d&&"none"!==d&&"skip"!==d){var h="all"===d,T=d.split("+"),_=function(g){return h||-1!==T.indexOf(g)};_("percent initial")&&m.push(s.percentInitialLabel+" of initial"),_("percent previous")&&m.push(s.percentPreviousLabel+" of previous"),_("percent total")&&m.push(s.percentTotalLabel+" of total")}return s.extraText=m.join("<br>"),s.color=(x=o.marker,A=(w=u).mlc||x.line.color,p=w.mlw||x.line.width,D(b=w.mc||x.color)?b:D(A)&&p?A:void 0),[s]}}},51759:function(ae,B,r){"use strict";ae.exports={attributes:r(1285),layoutAttributes:r(10440),supplyDefaults:r(26199).supplyDefaults,crossTraceDefaults:r(26199).crossTraceDefaults,supplyLayoutDefaults:r(93138),calc:r(9532),crossTraceCalc:r(8984),plot:r(80461),style:r(68266).style,hoverPoints:r(63341),eventData:r(34598),selectPoints:r(81974),moduleType:"trace",name:"funnel",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(ae){"use strict";ae.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(ae,B,r){"use strict";var D=r(71828),E=r(10440);ae.exports=function(f,S,M){var v=!1;function c(a,o){return D.coerce(f,S,E,a,o)}for(var i=0;i<M.length;i++){var s=M[i];if(s.visible&&"funnel"===s.type){v=!0;break}}v&&(c("funnelmode"),c("funnelgap",.2),c("funnelgroupgap"))}},80461:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424),S=r(50606).BADNUM,M=r(17295),v=r(72597).clearMinTextSize;function c(i,s,a,o){var l=[],u=[],d=o?s:a,m=o?a:s;return l[0]=d.c2p(i.s0,!0),u[0]=m.c2p(i.p0,!0),l[1]=d.c2p(i.s1,!0),u[1]=m.c2p(i.p1,!0),l[2]=d.c2p(i.nextS0,!0),u[2]=m.c2p(i.nextP0,!0),l[3]=d.c2p(i.nextS1,!0),u[3]=m.c2p(i.nextP1,!0),o?[l,u]:[u,l]}ae.exports=function(i,s,a,o){var u,d,T,_,l=i._fullLayout;v("funnel",l),u=i,T=(d=s).xaxis,_=d.yaxis,E.makeTraceGroups(o,a,"trace bars").each(function(g){var w=D.select(this),x=g[0].trace,b=E.ensureSingle(w,"g","regions");if(x.connector&&x.connector.visible){var A="h"===x.orientation,p=b.selectAll("g.region").data(E.identity);p.enter().append("g").classed("region",!0),p.exit().remove();var O=p.size();p.each(function(k,I){if(I===O-1||k.cNext){var P=c(k,T,_,A),R=P[0],N=P[1],j="";R[0]!==S&&N[0]!==S&&R[1]!==S&&N[1]!==S&&R[2]!==S&&N[2]!==S&&R[3]!==S&&N[3]!==S&&(j+=A?"M"+R[0]+","+N[1]+"L"+R[2]+","+N[2]+"H"+R[3]+"L"+R[1]+","+N[1]+"Z":"M"+R[1]+","+N[1]+"L"+R[2]+","+N[3]+"V"+N[2]+"L"+R[1]+","+N[0]+"Z"),""===j&&(j="M0,0Z"),E.ensureSingle(D.select(this),"path").attr("d",j).call(f.setClipUrl,d.layerClipId,u)}})}else b.remove()}),function(u,d,m,h){var T=d.xaxis,_=d.yaxis;E.makeTraceGroups(h,m,"trace bars").each(function(g){var w=D.select(this),x=g[0].trace,b=E.ensureSingle(w,"g","lines");if(x.connector&&x.connector.visible&&x.connector.line.width){var A="h"===x.orientation,p=b.selectAll("g.line").data(E.identity);p.enter().append("g").classed("line",!0),p.exit().remove();var O=p.size();p.each(function(k,I){if(I===O-1||k.cNext){var P=c(k,T,_,A),R=P[0],N=P[1],j="";void 0!==R[3]&&void 0!==N[3]&&(A?(j+="M"+R[0]+","+N[1]+"L"+R[2]+","+N[2],j+="M"+R[1]+","+N[1]+"L"+R[3]+","+N[2]):(j+="M"+R[1]+","+N[1]+"L"+R[2]+","+N[3],j+="M"+R[1]+","+N[0]+"L"+R[2]+","+N[2])),""===j&&(j="M0,0Z"),E.ensureSingle(D.select(this),"path").attr("d",j).call(f.setClipUrl,d.layerClipId,u)}})}else b.remove()})}(i,s,a,o),M.plot(i,s,a,o,{mode:l.funnelmode,norm:l.funnelmode,gap:l.funnelgap,groupgap:l.funnelgroupgap})}},68266:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(7901),S=r(37822).DESELECTDIM,M=r(16688),v=r(72597).resizeText,c=M.styleTextPoints;ae.exports={style:function(i,s,a){var o=a||D.select(i).selectAll("g.funnellayer").selectAll("g.trace");v(i,o,"funnel"),o.style("opacity",function(l){return l[0].trace.opacity}),o.each(function(l){var u=D.select(this),d=l[0].trace;u.selectAll(".point > path").each(function(m){if(!m.isBlank){var h=d.marker;D.select(this).call(f.fill,m.mc||h.color).call(f.stroke,m.mlc||h.line.color).call(E.dashLine,h.line.dash,m.mlw||h.line.width).style("opacity",d.selectedpoints&&!m.selected?S:1)}}),c(u,d,i),u.selectAll(".regions").each(function(){D.select(this).selectAll("path").style("stroke-width",0).call(f.fill,d.connector.fillcolor)}),u.selectAll(".lines").each(function(){var m=d.connector.line;E.lineGroupStyle(D.select(this).selectAll("path"),m.width,m.color,m.dash)})})}}},86807:function(ae,B,r){"use strict";var D=r(34e3),E=r(9012),f=r(27670).Y,S=r(5386).fF,M=r(5386).si,v=r(1426).extendFlat;ae.exports={labels:D.labels,label0:D.label0,dlabel:D.dlabel,values:D.values,marker:{colors:D.marker.colors,line:{color:v({},D.marker.line.color,{dflt:null}),width:v({},D.marker.line.width,{dflt:1}),editType:"calc"},pattern:D.marker.pattern,editType:"calc"},text:D.text,hovertext:D.hovertext,scalegroup:v({},D.scalegroup,{}),textinfo:v({},D.textinfo,{flags:["label","text","value","percent"]}),texttemplate:M({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},E.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:S({},{keys:["label","color","value","text","percent"]}),textposition:v({},D.textposition,{values:["inside","none"],dflt:"inside"}),textfont:D.textfont,insidetextfont:D.insidetextfont,title:{text:D.title.text,font:D.title.font,position:v({},D.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:f({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(ae,B,r){"use strict";var D=r(74875);B.name="funnelarea",B.plot=function(E,f,S,M){D.plotBasePlot(B.name,E,f,S,M)},B.clean=function(E,f,S,M){D.cleanBasePlot(B.name,E,f,S,M)}},89574:function(ae,B,r){"use strict";var D=r(32354);ae.exports={calc:function(E,f){return D.calc(E,f)},crossTraceCalc:function(E){D.crossTraceCalc(E,{type:"funnelarea"})}}},86282:function(ae,B,r){"use strict";var D=r(71828),E=r(86807),f=r(27670).c,S=r(90769).handleText,M=r(37434).handleLabelsAndValues,v=r(37434).handleMarkerDefaults;ae.exports=function(c,i,s,a){function o(w,x){return D.coerce(c,i,E,w,x)}var l=o("labels"),u=o("values"),d=M(l,u),m=d.len;if(i._hasLabels=d.hasLabels,i._hasValues=d.hasValues,!i._hasLabels&&i._hasValues&&(o("label0"),o("dlabel")),m){i._length=m,v(c,i,a,o),o("scalegroup");var h,T=o("text"),_=o("texttemplate");if(_||(h=o("textinfo",Array.isArray(T)?"text+percent":"percent")),o("hovertext"),o("hovertemplate"),_||h&&"none"!==h){var g=o("textposition");S(c,i,a,o,g,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}f(i,a,o),o("title.text")&&(o("title.position"),D.coerceFont(o,"title.font",a.font)),o("aspectratio"),o("baseratio")}else i.visible=!1}},10421:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"funnelarea",basePlotModule:r(6452),categories:["pie-like","funnelarea","showLegend"],attributes:r(86807),layoutAttributes:r(80097),supplyDefaults:r(86282),supplyLayoutDefaults:r(57402),calc:r(89574).calc,crossTraceCalc:r(89574).crossTraceCalc,plot:r(79187),style:r(71858),styleOne:r(63463),meta:{}}},80097:function(ae,B,r){"use strict";var D=r(92774).hiddenlabels;ae.exports={hiddenlabels:D,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(ae,B,r){"use strict";var D=r(71828),E=r(80097);ae.exports=function(f,S){function M(v,c){return D.coerce(f,S,E,v,c)}M("hiddenlabels"),M("funnelareacolorway",S.colorway),M("extendfunnelareacolors")}},79187:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(71828),S=f.strScale,M=f.strTranslate,v=r(63893),c=r(17295).toMoveInsideBar,i=r(72597),s=i.recordMinTextSize,a=i.clearMinTextSize,o=r(53581),l=r(14575),u=l.attachFxHandlers,d=l.determineInsideTextFont,m=l.layoutAreas,h=l.prerenderTitles,T=l.positionTitleOutside,_=l.formatSliceLabel;function g(w,x){return"l"+(x[0]-w[0])+","+(x[1]-w[1])}ae.exports=function(w,x){var b=w._context.staticPlot,A=w._fullLayout;a("funnelarea",A),h(x,w),m(x,A._size),f.makeTraceGroups(A._funnelarealayer,x,"trace").each(function(p){var O=D.select(this),k=p[0],I=k.trace;(function(P){if(P.length){var R=P[0],N=R.trace,j=N.aspectratio,X=N.baseratio;X>.999&&(X=.999);var F,Z,W,H=Math.pow(X,2),G=R.vTotal,Y=G,se=G*H/(1-H)/G,te=[];for(te.push(ke()),Z=P.length-1;Z>-1;Z--)(W=P[Z]).hidden||(se+=W.v/Y,te.push(ke()));var Q=1/0,ee=-1/0;for(Z=0;Z<te.length;Z++)F=te[Z],Q=Math.min(Q,F[1]),ee=Math.max(ee,F[1]);for(Z=0;Z<te.length;Z++)te[Z][1]-=(ee+Q)/2;var le=R.r,ue=(ee-Q)/2,de=le/te[te.length-1][0],he=le/ue*j;for(R.r=he*ue,Z=0;Z<te.length;Z++)te[Z][0]*=de,te[Z][1]*=he;var we,Ae,Te=[-(F=te[0])[0],F[1]],ve=[F[0],F[1]],xe=0;for(Z=P.length-1;Z>-1;Z--)if(!(W=P[Z]).hidden){var Fe=te[xe+=1][0],Se=te[xe][1];W.TL=[-Fe,Se],W.TR=[Fe,Se],W.BL=Te,W.BR=ve,W.pxmid=[.5*((we=W.TR)[0]+(Ae=W.BR)[0]),.5*(we[1]+Ae[1])],Te=W.TL,ve=W.TR}}function ke(){var pe,fe={x:pe=Math.sqrt(se),y:-pe};return[fe.x,fe.y]}})(p),O.each(function(){var P=D.select(this).selectAll("g.slice").data(p);P.enter().append("g").classed("slice",!0),P.exit().remove(),P.each(function(N,j){if(N.hidden)D.select(this).selectAll("path,g").remove();else{N.pointNumber=N.i,N.curveNumber=I.index;var X=k.cx,F=k.cy,Z=D.select(this),W=Z.selectAll("path.surface").data([N]);W.enter().append("path").classed("surface",!0).style({"pointer-events":b?"none":"all"}),Z.call(u,w,p);var H="M"+(X+N.TR[0])+","+(F+N.TR[1])+g(N.TR,N.BR)+g(N.BR,N.BL)+g(N.BL,N.TL)+"Z";W.attr("d",H),_(w,N,k);var G=o.castOption(I.textposition,N.pts),Y=Z.selectAll("g.slicetext").data(N.text&&"none"!==G?[0]:[]);Y.enter().append("g").classed("slicetext",!0),Y.exit().remove(),Y.each(function(){var se=f.ensureSingle(D.select(this),"text","",function(de){de.attr("data-notex",1)}),te=f.ensureUniformFontSize(w,d(I,N,A.font));se.text(N.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(E.font,te).call(v.convertToTspans,w);var re,Q,ee,oe=E.bBox(se.node()),le=Math.min(N.BL[1],N.BR[1])+F,ue=Math.max(N.TL[1],N.TR[1])+F;Q=Math.max(N.TL[0],N.BL[0])+X,ee=Math.min(N.TR[0],N.BR[0])+X,(re=c(Q,ee,le,ue,oe,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=te.size,s(I.type,re,A),p[j].transform=re,f.setTransormAndDisplay(se,re)})}});var R=D.select(this).selectAll("g.titletext").data(I.title.text?[0]:[]);R.enter().append("g").classed("titletext",!0),R.exit().remove(),R.each(function(){var N=f.ensureSingle(D.select(this),"text","",function(F){F.attr("data-notex",1)}),j=I.title.text;I._meta&&(j=f.templateString(j,I._meta)),N.text(j).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(E.font,I.title.font).call(v.convertToTspans,w);var X=T(k,A._size);N.attr("transform",M(X.x,X.y)+S(Math.min(1,X.scale))+M(X.tx,X.ty))})})})}},71858:function(ae,B,r){"use strict";var D=r(39898),E=r(63463),f=r(72597).resizeText;ae.exports=function(S){var M=S._fullLayout._funnelarealayer.selectAll(".trace");f(S,M,"funnelarea"),M.each(function(v){var c=v[0].trace,i=D.select(this);i.style({opacity:c.opacity}),i.selectAll("path.surface").each(function(s){D.select(this).call(E,s,c,S)})})}},21606:function(ae,B,r){"use strict";var D=r(82196),E=r(9012),f=r(41940),S=r(12663).axisHoverFormat,M=r(5386).fF,v=r(5386).si,c=r(50693),i=r(1426).extendFlat;ae.exports=i({z:{valType:"data_array",editType:"calc"},x:i({},D.x,{impliedEdits:{xtype:"array"}}),x0:i({},D.x0,{impliedEdits:{xtype:"scaled"}}),dx:i({},D.dx,{impliedEdits:{xtype:"scaled"}}),y:i({},D.y,{impliedEdits:{ytype:"array"}}),y0:i({},D.y0,{impliedEdits:{ytype:"scaled"}}),dy:i({},D.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:i({},D.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:i({},D.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:i({},D.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:i({},D.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:i({},D.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:i({},D.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:M(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:f({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:i({},E.showlegend,{dflt:!1})},{transforms:void 0},c("",{cLetter:"z",autoColorDflt:!1}))},90757:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(89298),S=r(42973),M=r(17562),v=r(78803),c=r(68296),i=r(4742),s=r(824),a=r(43907),o=r(70769),l=r(50606).BADNUM;function u(d){for(var m=[],h=d.length,T=0;T<h;T++){var _=d[T];_!==l&&m.push(_)}return m}ae.exports=function(d,m){var h,T,_,g,w,x,b,A,p,O,k,I=f.getFromId(d,m.xaxis||"x"),P=f.getFromId(d,m.yaxis||"y"),R=D.traceIs(m,"contour"),N=D.traceIs(m,"histogram"),j=D.traceIs(m,"gl2d"),X=R?"best":m.zsmooth;if(I._minDtick=0,P._minDtick=0,N)g=(k=M(d,m)).orig_x,h=k.x,T=k.x0,_=k.dx,A=k.orig_y,w=k.y,x=k.y0,b=k.dy,p=k.z;else{var F=m.z;E.isArray1D(F)?(c(m,I,P,"x","y",["z"]),h=m._x,w=m._y,F=m._z):(g=m.x?I.makeCalcdata(m,"x"):[],A=m.y?P.makeCalcdata(m,"y"):[],h=S(m,I,"x",g).vals,w=S(m,P,"y",A).vals,m._x=h,m._y=w),T=m.x0,_=m.dx,x=m.y0,b=m.dy,p=i(F,m,I,P)}function Z(ee){X=m._input.zsmooth=m.zsmooth=!1,E.warn('cannot use zsmooth: "fast": '+ee)}function W(ee){if(ee.length>1){var oe=(ee[ee.length-1]-ee[0])/(ee.length-1),le=Math.abs(oe/100);for(O=0;O<ee.length-1;O++)if(Math.abs(ee[O+1]-ee[O]-oe)>le)return!1}return!0}(I.rangebreaks||P.rangebreaks)&&(p=function(ee,oe,le){for(var ue=[],de=-1,he=0;he<le.length;he++)if(oe[he]!==l){ue[++de]=[];for(var we=0;we<le[he].length;we++)ee[we]!==l&&ue[de].push(le[he][we])}return ue}(h,w,p),N||(h=u(h),w=u(w),m._x=h,m._y=w)),N||!R&&!m.connectgaps||(m._emptypoints=a(p),s(p,m._emptypoints)),m._islinear=!1,"log"===I.type||"log"===P.type?"fast"===X&&Z("log axis found"):W(h)?W(w)?m._islinear=!0:"fast"===X&&Z("y scale is not linear"):"fast"===X&&Z("x scale is not linear");var H=E.maxRowLength(p),G="scaled"===m.xtype?"":h,Y=o(m,G,T,_,H,I),se="scaled"===m.ytype?"":w,te=o(m,se,x,b,p.length,P);j||(m._extremes[I._id]=f.findExtremes(I,Y),m._extremes[P._id]=f.findExtremes(P,te));var re={x:Y,y:te,z:p,text:m._text||m.text,hovertext:m._hovertext||m.hovertext};if(m.xperiodalignment&&g&&(re.orig_x=g),m.yperiodalignment&&A&&(re.orig_y=A),G&&G.length===Y.length-1&&(re.xCenter=G),se&&se.length===te.length-1&&(re.yCenter=se),N&&(re.xRanges=k.xRanges,re.yRanges=k.yRanges,re.pts=k.pts),R||v(d,m,{vals:p,cLetter:"z"}),R&&m.contours&&"heatmap"===m.contours.coloring){var Q={type:"contour"===m.type?"heatmap":"histogram2d",xcalendar:m.xcalendar,ycalendar:m.ycalendar};re.xfill=o(Q,G,T,_,H,I),re.yfill=o(Q,se,x,b,p.length,P)}return[re]}},4742:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(50606).BADNUM;ae.exports=function(S,M,v,c){var i,s,a,o,l,u;function d(w){if(D(w))return+w}if(M&&M.transpose){for(i=0,l=0;l<S.length;l++)i=Math.max(i,S[l].length);if(0===i)return!1;a=function(w){return w.length},o=function(w,x,b){return(w[b]||[])[x]}}else i=S.length,a=function(w,x){return w[x].length},o=function(w,x,b){return(w[x]||[])[b]};function h(w){if(M&&"carpet"!==M.type&&"contourcarpet"!==M.type&&w&&"category"===w.type&&M["_"+w._id.charAt(0)].length){var x=w._id.charAt(0),b={},A=M["_"+x+"CategoryMap"]||M[x];for(l=0;l<A.length;l++)b[A[l]]=l;return function(p){var O=b[w._categories[p]];return O+1?O:f}}return E.identity}var T=h(v),_=h(c);c&&"category"===c.type&&(i=c._categories.length);var w,x,b,g=new Array(i);for(l=0;l<i;l++)for(s=v&&"category"===v.type?v._categories.length:a(S,l),g[l]=new Array(s),u=0;u<s;u++)g[l][u]=d((w=S,x=_(l),b=T(u),x===f||b===f?f:o(w,x,b)));return g}},61243:function(ae){"use strict";ae.exports={min:"zmin",max:"zmax"}},68296:function(ae,B,r){"use strict";var D=r(71828),E=r(50606).BADNUM,f=r(42973);ae.exports=function(S,M,v,c,i,s){var a=S._length,o=M.makeCalcdata(S,c),l=v.makeCalcdata(S,i);o=f(S,M,c,o).vals,l=f(S,v,i,l).vals;var u,d,m,h,T=S.text,_=void 0!==T&&D.isArray1D(T),g=S.hovertext,w=void 0!==g&&D.isArray1D(g),x=D.distinctVals(o),b=x.vals,A=D.distinctVals(l),p=A.vals,O=[],k=p.length,I=b.length;for(u=0;u<s.length;u++)O[u]=D.init2dArray(k,I);_&&(m=D.init2dArray(k,I)),w&&(h=D.init2dArray(k,I));var P=D.init2dArray(k,I);for(u=0;u<a;u++)if(o[u]!==E&&l[u]!==E){var R=D.findBin(o[u]+x.minDiff/2,b),N=D.findBin(l[u]+A.minDiff/2,p);for(d=0;d<s.length;d++)O[d][N][R]=S[s[d]][u],P[N][R]=u;_&&(m[N][R]=T[u]),w&&(h[N][R]=g[u])}for(S["_"+c]=b,S["_"+i]=p,d=0;d<s.length;d++)S["_"+s[d]]=O[d];_&&(S._text=m),w&&(S._hovertext=h),M&&"category"===M.type&&(S["_"+c+"CategoryMap"]=b.map(function(X){return M._categories[X]})),v&&"category"===v.type&&(S["_"+i+"CategoryMap"]=p.map(function(X){return v._categories[X]})),S._after2before=P}},76382:function(ae,B,r){"use strict";var D=r(71828),E=r(67684),f=r(58623),S=r(73927),M=r(49901),v=r(1586),c=r(21606);ae.exports=function(i,s,a,o){function l(u,d){return D.coerce(i,s,c,u,d)}E(i,s,l,o)?(S(i,s,o,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hovertemplate"),f(l,o),M(i,s,l,o),l("hoverongaps"),l("connectgaps",D.isArray1D(s.z)&&!1!==s.zsmooth),v(i,s,o,l,{prefix:"",cLetter:"z"})):s.visible=!1}},43907:function(ae,B,r){"use strict";var D=r(71828).maxRowLength;ae.exports=function(E){var f,S,M,v,c,i,s,a,o=[],l={},u=[],d=E[0],m=[],h=[0,0,0],T=D(E);for(S=0;S<E.length;S++)for(f=m,m=d,d=E[S+1]||[],M=0;M<T;M++)void 0===m[M]&&((i=(void 0!==m[M-1]?1:0)+(void 0!==m[M+1]?1:0)+(void 0!==f[M]?1:0)+(void 0!==d[M]?1:0))?(0===S&&i++,0===M&&i++,S===E.length-1&&i++,M===m.length-1&&i++,i<4&&(l[[S,M]]=[S,M,i]),o.push([S,M,i])):u.push([S,M]));for(;u.length;){for(s={},a=!1,c=u.length-1;c>=0;c--)(i=((l[[(S=(v=u[c])[0])-1,M=v[1]]]||h)[2]+(l[[S+1,M]]||h)[2]+(l[[S,M-1]]||h)[2]+(l[[S,M+1]]||h)[2])/20)&&(s[v]=[S,M,i],u.splice(c,1),a=!0);if(!a)throw"findEmpties iterated with no new neighbors";for(v in s)l[v]=s[v],o.push(s[v])}return o.sort(function(_,g){return g[2]-_[2]})}},46248:function(ae,B,r){"use strict";var D=r(30211),E=r(71828),f=r(89298),S=r(21081).extractOpts;ae.exports=function(M,v,c,i,s){s||(s={});var a,o,l,u,d=s.isContour,m=M.cd[0],h=m.trace,T=M.xa,_=M.ya,g=m.x,w=m.y,x=m.z,b=m.xCenter,A=m.yCenter,p=m.zmask,O=h.zhoverformat,k=g,I=w;if(!1!==M.index){try{l=Math.round(M.index[1]),u=Math.round(M.index[0])}catch{return void E.error("Error hovering on heatmap, pointNumber must be [row,col], found:",M.index)}if(l<0||l>=x[0].length||u<0||u>x.length)return}else{if(D.inbox(v-g[0],v-g[g.length-1],0)>0||D.inbox(c-w[0],c-w[w.length-1],0)>0)return;if(d){var P;for(k=[2*g[0]-g[1]],P=1;P<g.length;P++)k.push((g[P]+g[P-1])/2);for(k.push([2*g[g.length-1]-g[g.length-2]]),I=[2*w[0]-w[1]],P=1;P<w.length;P++)I.push((w[P]+w[P-1])/2);I.push([2*w[w.length-1]-w[w.length-2]])}l=Math.max(0,Math.min(k.length-2,E.findBin(v,k))),u=Math.max(0,Math.min(I.length-2,E.findBin(c,I)))}var R,N,j=T.c2p(g[l]),X=T.c2p(g[l+1]),F=_.c2p(w[u]),Z=_.c2p(w[u+1]);d?(X=j,a=(R=m.orig_x||g)[l],Z=F,o=(N=m.orig_y||w)[u]):(R=m.orig_x||b||g,N=m.orig_y||A||w,a=b?R[l]:(R[l]+R[l+1])/2,o=A?N[u]:(N[u]+N[u+1])/2,T&&"category"===T.type&&(a=g[l]),_&&"category"===_.type&&(o=w[u]),h.zsmooth&&(j=X=T.c2p(a),F=Z=_.c2p(o)));var W=x[u][l];if(p&&!p[u][l]&&(W=void 0),void 0!==W||h.hoverongaps){var H;Array.isArray(m.hovertext)&&Array.isArray(m.hovertext[u])?H=m.hovertext[u][l]:Array.isArray(m.text)&&Array.isArray(m.text[u])&&(H=m.text[u][l]);var G=S(h),se=f.tickText({type:"linear",range:[G.min,G.max],hoverformat:O,_separators:T._separators,_numFormat:T._numFormat},W,"hover").text;return[E.extendFlat(M,{index:h._after2before?h._after2before[u][l]:[u,l],distance:M.maxHoverDistance,spikeDistance:M.maxSpikeDistance,x0:j,x1:X,y0:F,y1:Z,xLabelVal:a,yLabelVal:o,zLabelVal:W,zLabel:se,text:H})]}}},92165:function(ae,B,r){"use strict";ae.exports={attributes:r(21606),supplyDefaults:r(76382),calc:r(90757),plot:r(50347),colorbar:r(61243),style:r(70035),hoverPoints:r(46248),moduleType:"trace",name:"heatmap",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(ae,B,r){"use strict";var D=r(71828),E=[[-1,0],[1,0],[0,-1],[0,1]];function f(M){return.5-.25*Math.min(1,.5*M)}function S(M,v,c){var i,s,a,o,l,u,d,m,h,T,_,g,w,x=0;for(o=0;o<v.length;o++){for(_=M[s=(i=v[o])[0]][a=i[1]],T=0,h=0,l=0;l<4;l++)(d=M[s+(u=E[l])[0]])&&void 0!==(m=d[a+u[1]])&&(0===T?g=w=m:(g=Math.min(g,m),w=Math.max(w,m)),h++,T+=m);if(0===h)throw"iterateInterp2d order is wrong: no defined neighbors";M[s][a]=T/h,void 0===_?h<4&&(x=1):(M[s][a]=(1+c)*M[s][a]-c*_,w>g&&(x=Math.max(x,Math.abs(M[s][a]-_)/(w-g))))}return x}ae.exports=function(M,v){var c,i=1;for(S(M,v),c=0;c<v.length&&!(v[c][2]<4);c++);for(v=v.slice(c),c=0;c<100&&i>.01;c++)i=S(M,v,f(i));return i>.01&&D.log("interp2d didn't converge quickly",i),M}},58623:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f){E("texttemplate");var S=D.extendFlat({},f.font,{color:"auto",size:"auto"});D.coerceFont(E,"textfont",S)}},70769:function(ae,B,r){"use strict";var D=r(73972),E=r(71828).isArrayOrTypedArray;ae.exports=function(f,S,M,v,c,i){var s,a,o,l=[],u=D.traceIs(f,"contour"),d=D.traceIs(f,"histogram"),m=D.traceIs(f,"gl2d");if(E(S)&&S.length>1&&!d&&"category"!==i.type){var h=S.length;if(!(h<=c))return S.slice(0,u?c:c+1);if(u||m)l=S.slice(0,c);else if(1===c)l=[S[0]-.5,S[0]+.5];else{for(l=[1.5*S[0]-.5*S[1]],o=1;o<h;o++)l.push(.5*(S[o-1]+S[o]));l.push(1.5*S[h-1]-.5*S[h-2])}if(h<c){var T=l[l.length-1],_=T-l[l.length-2];for(o=h;o<c;o++)l.push(T+=_)}}else{var g=f[i._id.charAt(0)+"calendar"];for(s=d?i.r2c(M,0,g):E(S)&&1===S.length?S[0]:void 0===M?0:("log"===i.type?i.d2c:i.r2c)(M,0,g),a=v||1,o=u||m?0:-.5;o<c;o++)l.push(s+a*o)}return l}},50347:function(ae,B,r){"use strict";var D=r(39898),E=r(84267),f=r(73972),S=r(91424),M=r(89298),v=r(71828),c=r(63893),i=r(8225),s=r(7901),a=r(21081).extractOpts,o=r(21081).makeColorScaleFuncFromTrace,l=r(77922),u=r(18783).LINE_SPACING,d=r(3883),m=r(32396).STYLE,h="heatmap-label";function T(b){return b.selectAll("g."+h)}function _(b){T(b).remove()}function g(b,A){var p=A.length-2,O=v.constrain(v.findBin(b,A),0,p),k=A[O],P=v.constrain(O+(b-k)/(A[O+1]-k)-.5,0,p),R=Math.round(P),N=Math.abs(P-R);return P&&P!==p&&N?{bin0:R,frac:N,bin1:Math.round(R+N/(P-R))}:{bin0:R,bin1:R,frac:0}}function w(b,A){var p=A.length-1,O=v.constrain(v.findBin(b,A),0,p),k=A[O],I=(b-k)/(A[O+1]-k)||0;return I<=0?{bin0:O,bin1:O,frac:0}:I<.5?{bin0:O,bin1:O+1,frac:I}:{bin0:O+1,bin1:O,frac:1-I}}function x(b,A,p){b[A]=p[0],b[A+1]=p[1],b[A+2]=p[2],b[A+3]=Math.round(255*p[3])}ae.exports=function(b,A,p,O){var k=A.xaxis,I=A.yaxis;v.makeTraceGroups(O,p,"hm").each(function(P){var R,N,j,X,F,Z,W,H,G=D.select(this),Y=P[0],se=Y.trace,te=se.xgap||0,re=se.ygap||0,Q=Y.z,ee=Y.x,oe=Y.y,le=Y.xCenter,ue=Y.yCenter,de=f.traceIs(se,"contour"),he=de?"best":se.zsmooth,we=Q.length,Ae=v.maxRowLength(Q),Te=!1,ve=!1;for(Z=0;void 0===R&&Z<ee.length-1;)R=k.c2p(ee[Z]),Z++;for(Z=ee.length-1;void 0===N&&Z>0;)N=k.c2p(ee[Z]),Z--;for(N<R&&(j=N,N=R,R=j,Te=!0),Z=0;void 0===X&&Z<oe.length-1;)X=I.c2p(oe[Z]),Z++;for(Z=oe.length-1;void 0===F&&Z>0;)F=I.c2p(oe[Z]),Z--;F<X&&(j=X,X=F,F=j,ve=!0),de&&(le=ee,ue=oe,ee=Y.xfill,oe=Y.yfill);var xe="default";if(he?xe="best"===he?"smooth":"fast":se._islinear&&0===te&&0===re&&d()&&(xe="fast"),"fast"!==xe){var Fe="best"===he?0:.5;R=Math.max(-Fe*k._length,R),N=Math.min((1+Fe)*k._length,N),X=Math.max(-Fe*I._length,X),F=Math.min((1+Fe)*I._length,F)}var Se,ke,pe=Math.round(N-R),fe=Math.round(F-X);if(R>=k._length||N<=0||X>=I._length||F<=0)return G.selectAll("image").data([]).exit().remove(),void _(G);"fast"===xe?(Se=Ae,ke=we):(Se=pe,ke=fe);var be=document.createElement("canvas");be.width=Se,be.height=ke;var Le,Oe,De=be.getContext("2d",{willReadFrequently:!0}),Ue=o(se,{noNumericCheck:!0,returnArray:!0});"fast"===xe?(Le=Te?function(Yt){return Ae-1-Yt}:v.identity,Oe=ve?function(Yt){return we-1-Yt}:v.identity):(Le=function(Yt){return v.constrain(Math.round(k.c2p(ee[Yt])-R),0,pe)},Oe=function(Yt){return v.constrain(Math.round(I.c2p(oe[Yt])-X),0,fe)});var Ge,ye,Ie,Ee,Be=Oe(0),We=[Be,Be],He=Te?0:1,Je=ve?0:1,et=0,at=0,mt=0,ct=0;function St(Yt,$t){if(void 0!==Yt){var xn=Ue(Yt);return xn[0]=Math.round(xn[0]),xn[1]=Math.round(xn[1]),xn[2]=Math.round(xn[2]),et+=$t,at+=xn[0]*$t,mt+=xn[1]*$t,ct+=xn[2]*$t,xn}return[0,0,0,0]}function Dt(Yt,$t,xn,vn){var Dn=Yt[xn.bin0];if(void 0===Dn)return St(void 0,1);var Yn=Yt[xn.bin1],Qn=$t[xn.bin0],gr=$t[xn.bin1];return St(Dn+xn.frac*(Yn-Dn||0)+vn.frac*((Qn-Dn||0)+xn.frac*(void 0===Yn?void 0===gr?0:void 0===Qn?2*(gr-Dn):2*(2*gr-Qn-Dn)/3:void 0===gr?void 0===Qn?0:2*(2*Dn-Yn-Qn)/3:void 0===Qn?2*(2*gr-Yn-Dn)/3:gr+Dn-Yn-Qn)))}if("default"!==xe){var Et,ht=0;try{Et=new Uint8Array(Se*ke*4)}catch{Et=new Array(Se*ke*4)}if("smooth"===xe){var pt,Pt,Ft,Ht=le||ee,Lt=ue||oe,tt=new Array(Ht.length),rt=new Array(Lt.length),Ke=new Array(pe),it=le?w:g,gt=ue?w:g;for(Z=0;Z<Ht.length;Z++)tt[Z]=Math.round(k.c2p(Ht[Z])-R);for(Z=0;Z<Lt.length;Z++)rt[Z]=Math.round(I.c2p(Lt[Z])-X);for(Z=0;Z<pe;Z++)Ke[Z]=it(Z,tt);for(W=0;W<fe;W++)for(Pt=Q[(pt=gt(W,rt)).bin0],Ft=Q[pt.bin1],Z=0;Z<pe;Z++,ht+=4)x(Et,ht,Ee=Dt(Pt,Ft,Ke[Z],pt))}else for(W=0;W<we;W++)for(Ie=Q[W],We=Oe(W),Z=0;Z<Ae;Z++)Ee=St(Ie[Z],1),x(Et,ht=4*(We*Ae+Le(Z)),Ee);var ft=De.createImageData(Se,ke);try{ft.data.set(Et)}catch{var Ve=ft.data,qe=Ve.length;for(W=0;W<qe;W++)Ve[W]=Et[W]}De.putImageData(ft,0,0)}else{var dt=Math.floor(te/2),ut=Math.floor(re/2);for(W=0;W<we;W++)if(Ie=Q[W],We.reverse(),We[Je]=Oe(W+1),We[0]!==We[1]&&void 0!==We[0]&&void 0!==We[1])for(Ge=[ye=Le(0),ye],Z=0;Z<Ae;Z++)Ge.reverse(),Ge[He]=Le(Z+1),Ge[0]!==Ge[1]&&void 0!==Ge[0]&&void 0!==Ge[1]&&(Ee=St(Ie[Z],(Ge[1]-Ge[0])*(We[1]-We[0])),De.fillStyle="rgba("+Ee.join(",")+")",De.fillRect(Ge[0]+dt,We[0]+ut,Ge[1]-Ge[0]-te,We[1]-We[0]-re))}at=Math.round(at/et),mt=Math.round(mt/et),ct=Math.round(ct/et);var At=E("rgb("+at+","+mt+","+ct+")");b._hmpixcount=(b._hmpixcount||0)+et,b._hmlumcount=(b._hmlumcount||0)+et*At.getLuminance();var wt=G.selectAll("image").data(P);wt.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),wt.attr({height:fe,width:pe,x:R,y:X,"xlink:href":be.toDataURL("image/png")}),"fast"!==xe||he||wt.attr("style",m),_(G);var kt=se.texttemplate;if(kt){var _t=a(se),Rt={type:"linear",range:[_t.min,_t.max],_separators:k._separators,_numFormat:k._numFormat},bt="histogram2dcontour"===se.type,Tt="contour"===se.type,Ot=Tt?we-1:we,Wt=Tt?1:0,qt=Tt?Ae-1:Ae,Jt=[];for(Z=Tt?1:0;Z<Ot;Z++){var pn;if(Tt)pn=Y.y[Z];else if(bt){if(0===Z||Z===we-1)continue;pn=Y.y[Z]}else if(Y.yCenter)pn=Y.yCenter[Z];else{if(Z+1===we&&void 0===Y.y[Z+1])continue;pn=(Y.y[Z]+Y.y[Z+1])/2}var en=Math.round(I.c2p(pn));if(!(0>en||en>I._length))for(W=Wt;W<qt;W++){var nn;if(Tt)nn=Y.x[W];else if(bt){if(0===W||W===Ae-1)continue;nn=Y.x[W]}else if(Y.xCenter)nn=Y.xCenter[W];else{if(W+1===Ae&&void 0===Y.x[W+1])continue;nn=(Y.x[W]+Y.x[W+1])/2}var dn=Math.round(k.c2p(nn));if(!(0>dn||dn>k._length)){var In=i({x:nn,y:pn},se,b._fullLayout);In.x=nn,In.y=pn;var Hn=Y.z[Z][W];void 0===Hn?(In.z="",In.zLabel=""):(In.z=Hn,In.zLabel=M.tickText(Rt,Hn,"hover").text);var An=Y.text&&Y.text[Z]&&Y.text[Z][W];void 0!==An&&!1!==An||(An=""),In.text=An;var on=v.texttemplateString(kt,In,b._fullLayout._d3locale,In,se._meta||{});if(on){var yn=on.split("<br>"),ln=yn.length,wn=0;for(H=0;H<ln;H++)wn=Math.max(wn,yn[H].length);Jt.push({l:ln,c:wn,t:on,x:dn,y:en,z:Hn})}}}}var Cn=se.textfont,Ln=Cn.family,Sn=Cn.size,qn=b._fullLayout.font.size;if(!Sn||"auto"===Sn){var kn=1/0,Zn=1/0,fr=0,er=0;for(H=0;H<Jt.length;H++){var nr=Jt[H];if(fr=Math.max(fr,nr.l),er=Math.max(er,nr.c),H<Jt.length-1){var mr=Jt[H+1],dr=Math.abs(mr.x-nr.x),Ir=Math.abs(mr.y-nr.y);dr&&(kn=Math.min(kn,dr)),Ir&&(Zn=Math.min(Zn,Ir))}}isFinite(kn)&&isFinite(Zn)?(kn-=te,Zn-=re,kn/=er,Zn/=fr,kn/=u/2,Zn/=u,Sn=Math.min(Math.floor(kn),Math.floor(Zn),qn)):Sn=qn}if(Sn<=0||!isFinite(Sn))return;T(G).data(Jt).enter().append("g").classed(h,1).append("text").attr("text-anchor","middle").each(function(Yt){var vn,$t=D.select(this),xn=Cn.color;xn&&"auto"!==xn||(xn=s.contrast("rgba("+Ue(Yt.z).join()+")")),$t.attr("data-notex",1).call(c.positionText,(vn=Yt,vn.x),function(vn){return vn.y-Sn*(vn.l*u/2-1)}(Yt)).call(S.font,Ln,Sn,xn).text(Yt.t).call(c.convertToTspans,b)})}})}},70035:function(ae,B,r){"use strict";var D=r(39898);ae.exports=function(E){D.select(E).selectAll(".hm image").style("opacity",function(f){return f.trace.opacity})}},49901:function(ae){"use strict";ae.exports=function(B,r,D){!1===D("zsmooth")&&(D("xgap"),D("ygap")),D("zhoverformat")}},67684:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(73972);function S(M,v){var c=v(M);return"scaled"===(c?v(M+"type","array"):"scaled")&&(v(M+"0"),v("d"+M)),c}ae.exports=function(M,v,c,i,s,a){var o,l,u=c("z");if(s=s||"x",a=a||"y",void 0===u||!u.length)return 0;if(E.isArray1D(M.z)){o=c(s),l=c(a);var d=E.minRowLength(o),m=E.minRowLength(l);if(0===d||0===m)return 0;v._length=Math.min(d,m,u.length)}else{if(o=S(s,c),l=S(a,c),!function(h){for(var T,_=!0,g=!1,w=!1,x=0;x<h.length;x++){if(!E.isArrayOrTypedArray(T=h[x])){_=!1;break}T.length>0&&(g=!0);for(var b=0;b<T.length;b++)if(D(T[b])){w=!0;break}}return _&&g&&w}(u))return 0;c("transpose"),v._length=null}return"heatmapgl"===M.type||f.getComponentMethod("calendars","handleTraceDefaults")(M,v,[s,a],i),!0}},16063:function(ae,B,r){"use strict";for(var D=r(21606),E=r(50693),f=r(1426).extendFlat,S=r(30962).overrideAll,M=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},c=0;c<M.length;c++){var i=M[c];v[i]=D[i]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},f(v,E("",{cLetter:"z",autoColorDflt:!1})),ae.exports=S(v,"calc","nested")},59560:function(ae,B,r){"use strict";var D=r(9330).gl_heatmap2d,E=r(89298),f=r(78614);function S(v,c){this.scene=v,this.uid=c,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=D(v.glplot,this.options),this.heatmap._trace=this}var M=S.prototype;M.handlePick=function(v){var c=this.options,i=c.shape,s=v.pointId,a=s%i[0],o=Math.floor(s/i[0]);return{trace:this,dataCoord:v.dataCoord,traceCoord:[c.x[a],c.y[o],c.z[s]],textLabel:this.textLabels[s],name:this.name,pointIndex:[o,a],hoverinfo:this.hoverinfo}},M.update=function(v,c){var i=c[0];this.index=v.index,this.name=v.name,this.hoverinfo=v.hoverinfo;var s=i.z;this.options.z=[].concat.apply([],s),this.options.shape=[s[0].length,s.length],this.options.x=i.x,this.options.y=i.y,this.options.zsmooth=v.zsmooth;var l=function(T){for(var _=T.colorscale,g=T.zmin,w=T.zmax,x=_.length,b=new Array(x),A=new Array(4*x),p=0;p<x;p++){var O=_[p],k=f(O[1]);b[p]=g+O[0]*(w-g);for(var I=0;I<4;I++)A[4*p+I]=k[I]}return{colorLevels:b,colorValues:A}}(v);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],v.text),this.heatmap.update(this.options);var u,d,m=this.scene.xaxis,h=this.scene.yaxis;!1===v.zsmooth&&(u={ppad:i.x[1]-i.x[0]},d={ppad:i.y[1]-i.y[0]}),v._extremes[m._id]=E.findExtremes(m,i.x,u),v._extremes[h._id]=E.findExtremes(h,i.y,d)},M.dispose=function(){this.heatmap.dispose()},ae.exports=function(v,c,i){var s=new S(v,c.uid);return s.update(c,i),s}},19600:function(ae,B,r){"use strict";var D=r(71828),E=r(67684),f=r(1586),S=r(16063);ae.exports=function(M,v,c,i){function s(a,o){return D.coerce(M,v,S,a,o)}E(M,v,s,i)?(s("text"),s("zsmooth"),f(M,v,i,s,{prefix:"",cLetter:"z"})):v.visible=!1}},3325:function(ae,B,r){"use strict";["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" "),ae.exports={attributes:r(16063),supplyDefaults:r(19600),colorbar:r(61243),calc:r(90757),plot:r(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:r(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(ae,B,r){"use strict";var D=r(1486),E=r(12663).axisHoverFormat,f=r(5386).fF,S=r(5386).si,M=r(41940),v=r(17656),c=r(72406),i=r(1426).extendFlat;ae.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:E("x"),yhoverformat:E("y"),text:i({},D.text,{}),hovertext:i({},D.hovertext,{}),orientation:D.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:f({},{keys:c.eventDataKeys}),texttemplate:S({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:i({},D.textposition,{arrayOk:!1}),textfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:D.insidetextanchor,textangle:D.textangle,cliponaxis:D.cliponaxis,constraintext:D.constraintext,marker:D.marker,offsetgroup:D.offsetgroup,alignmentgroup:D.alignmentgroup,selected:D.selected,unselected:D.unselected,_deprecated:{bardir:D._deprecated.bardir}}},42174:function(ae){"use strict";ae.exports=function(B,r){for(var D=B.length,E=0,f=0;f<D;f++)r[f]?(B[f]/=r[f],E+=B[f]):B[f]=null;return E}},17656:function(ae){"use strict";ae.exports=function(B,r){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(ae,B,r){"use strict";var D=r(92770);ae.exports={count:function(E,f,S){return S[E]++,1},sum:function(E,f,S,M){var v=M[f];return D(v)?(v=Number(v),S[E]+=v,v):0},avg:function(E,f,S,M,v){var c=M[f];return D(c)&&(c=Number(c),S[E]+=c,v[E]++),0},min:function(E,f,S,M){var v=M[f];if(D(v)){if(v=Number(v),!D(S[E]))return S[E]=v,v;if(S[E]>v){var c=v-S[E];return S[E]=v,c}}return 0},max:function(E,f,S,M){var v=M[f];if(D(v)){if(v=Number(v),!D(S[E]))return S[E]=v,v;if(S[E]<v){var c=v-S[E];return S[E]=v,c}}return 0}}},40965:function(ae,B,r){"use strict";var D=r(50606),E=D.ONEAVGYEAR,f=D.ONEAVGMONTH,S=D.ONEDAY,M=D.ONEHOUR,v=D.ONEMIN,c=D.ONESEC,i=r(89298).tickIncrement;function s(u,d,m,h){if(u*d<=0)return 1/0;for(var T=Math.abs(d-u),_="date"===m.type,g=a(T,_),w=0;w<10;w++){var x=a(80*g,_);if(g===x||!o(x,u,d,_,m,h))break;g=x}return g}function a(u,d){return d&&u>c?u>S?u>1.1*E?E:u>1.1*f?f:S:u>M?M:u>v?v:c:Math.pow(10,Math.floor(Math.log(u)/Math.LN10))}function o(u,d,m,h,T,_){if(h&&u>S){var g=l(d,T,_),w=l(m,T,_),x=u===E?0:1;return g[x]!==w[x]}return Math.floor(m/u)-Math.floor(d/u)>.1}function l(u,d,m){var h=d.c2d(u,E,m).split("-");return""===h[0]&&(h.unshift(),h[0]="-"+h[0]),h}ae.exports=function(u,d,m,h,T){var _,g,w=-1.1*d,x=-.1*d,b=u-x,A=m[0],p=m[1],O=Math.min(s(A+x,A+b,h,T),s(p+x,p+b,h,T)),k=Math.min(s(A+w,A+x,h,T),s(p+w,p+x,h,T));if(O>k&&k<Math.abs(p-A)/4e3?(_=O,g=!1):(_=Math.min(O,k),g=!0),"date"===h.type&&_>S){var I=_===E?1:6,P=_===E?"M12":"M1";return function(R,N){var j=h.c2d(R,E,T),X=j.indexOf("-",I);X>0&&(j=j.substr(0,X));var F=h.d2c(j,0,T);if(F<R){var Z=i(F,P,!1,T);(F+Z)/2<R+u&&(F=Z)}return N&&g?i(F,P,!0,T):F}}return function(R,N){var j=_*Math.round(R/_);return j+_/10<R&&j+.9*_<R+u&&(j+=_),N&&g&&(j-=_),j}}},72138:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(73972),S=r(89298),M=r(75341),v=r(59575),c=r(36362),i=r(42174),s=r(40965);function a(o,l,u,d,m){var h,T,_,g,w,x,b,A=d+"bins",p=o._fullLayout,k=p._histogramBinOpts[l["_"+d+"bingroup"]],I="overlay"===p.barmode,P=function(ve){return u.r2c(ve,0,g)},R=function(ve){return u.c2r(ve,0,g)},N="date"===u.type?function(ve){return ve||0===ve?E.cleanDate(ve,null,g):null}:function(ve){return D(ve)?Number(ve):null};function j(ve,xe,Fe){xe[ve+"Found"]?(xe[ve]=N(xe[ve]),null===xe[ve]&&(xe[ve]=Fe[ve])):(x[ve]=xe[ve]=Fe[ve],E.nestedProperty(T[0],A+"."+ve).set(Fe[ve]))}if(l["_"+d+"autoBinFinished"])delete l["_"+d+"autoBinFinished"];else{T=k.traces;var X=[],F=!0,Z=!1,W=!1;for(h=0;h<T.length;h++)if((_=T[h]).visible){var H=k.dirs[h];w=_["_"+H+"pos0"]=u.makeCalcdata(_,H),X=E.concat(X,w),delete _["_"+d+"autoBinFinished"],!0===l.visible&&(F?F=!1:(delete _._autoBin,_["_"+d+"autoBinFinished"]=1),f.traceIs(_,"2dMap")&&(Z=!0),"histogram2dcontour"===_.type&&(W=!0))}var G=S.autoBin(X,u,k.nbins,Z,g=T[0][d+"calendar"],k.sizeFound&&k.size),Y=T[0]._autoBin={};if(x=Y[k.dirs[0]]={},W&&(k.size||(G.start=R(S.tickIncrement(P(G.start),G.size,!0,g))),void 0===k.end&&(G.end=R(S.tickIncrement(P(G.end),G.size,!1,g)))),I&&!f.traceIs(l,"2dMap")&&0===G._dataSpan&&"category"!==u.type&&"multicategory"!==u.type&&""===l.bingroup&&void 0===l.xbins){if(m)return[G,w,!0];G=function(ve,xe,Fe,Se,ke){var pe,fe,be,Le=ve._fullLayout,Oe=function(at,mt){for(var ct=mt.xaxis,St=mt.yaxis,Dt=mt.orientation,Et=[],ht=at._fullData,pt=0;pt<ht.length;pt++){var Pt=ht[pt];"histogram"===Pt.type&&!0===Pt.visible&&Pt.orientation===Dt&&Pt.xaxis===ct&&Pt.yaxis===St&&Et.push(Pt)}return Et}(ve,xe),De=!1,Ue=1/0,Ge=[xe];for(pe=0;pe<Oe.length;pe++)if((fe=Oe[pe])===xe)De=!0;else if(De){var ye=a(ve,fe,Fe,Se,!0),Ie=ye[0],Ee=ye[2];fe["_"+Se+"autoBinFinished"]=1,fe["_"+Se+"pos0"]=ye[1],Ee?Ge.push(fe):Ue=Math.min(Ue,Ie.size)}else be=Le._histogramBinOpts[fe["_"+Se+"bingroup"]],Ue=Math.min(Ue,be.size||fe[ke].size);var Be=new Array(Ge.length);for(pe=0;pe<Ge.length;pe++)for(var We=Ge[pe]["_"+Se+"pos0"],He=0;He<We.length;He++)if(void 0!==We[He]){Be[pe]=We[He];break}for(isFinite(Ue)||(Ue=E.distinctVals(Be).minDiff),pe=0;pe<Ge.length;pe++){var Je=(fe=Ge[pe])[Se+"calendar"],et={start:Fe.c2r(Be[pe]-Ue/2,0,Je),end:Fe.c2r(Be[pe]+Ue/2,0,Je),size:Ue};fe._input[ke]=fe[ke]=et,(be=Le._histogramBinOpts[fe["_"+Se+"bingroup"]])&&E.extendFlat(be,et)}return xe[ke]}(o,l,u,d,A)}(b=_.cumulative||{}).enabled&&"include"!==b.currentbin&&("decreasing"===b.direction?G.start=R(S.tickIncrement(P(G.start),G.size,!0,g)):G.end=R(S.tickIncrement(P(G.end),G.size,!1,g))),k.size=G.size,k.sizeFound||(x.size=G.size,E.nestedProperty(T[0],A+".size").set(G.size)),j("start",k,G),j("end",k,G)}w=l["_"+d+"pos0"],delete l["_"+d+"pos0"];var se=l._input[A]||{},te=E.extendFlat({},k),re=k.start,Q=u.r2l(se.start),ee=void 0!==Q;if((k.startFound||ee)&&Q!==u.r2l(re)){var oe=ee?Q:E.aggNums(Math.min,null,w),le={type:"category"===u.type||"multicategory"===u.type?"linear":u.type,r2l:u.r2l,dtick:k.size,tick0:re,calendar:g,range:[oe,S.tickIncrement(oe,k.size,!1,g)].map(u.l2r)},ue=S.tickFirst(le);ue>u.r2l(oe)&&(ue=S.tickIncrement(ue,k.size,!0,g)),te.start=u.l2r(ue),ee||E.nestedProperty(l,A+".start").set(te.start)}var de=k.end,he=u.r2l(se.end),we=void 0!==he;if((k.endFound||we)&&he!==u.r2l(de)){var Ae=we?he:E.aggNums(Math.max,null,w);te.end=u.l2r(Ae),we||E.nestedProperty(l,A+".start").set(te.end)}var Te="autobin"+d;return!1===l._input[Te]&&(l._input[A]=E.extendFlat({},l[A]||{}),delete l._input[Te],delete l[Te]),[te,w]}ae.exports={calc:function(o,l){var u,d,m,h,T=[],_=[],g="h"===l.orientation,w=S.getFromId(o,g?l.yaxis:l.xaxis),x=g?"y":"x",b={x:"y",y:"x"}[x],A=l[x+"calendar"],p=l.cumulative,O=a(o,l,w,x),k=O[0],I=O[1],P="string"==typeof k.size,R=[],N=P?R:k,j=[],X=[],F=[],Z=0,W=l.histnorm,H=l.histfunc,G=-1!==W.indexOf("density");p.enabled&&G&&(W=W.replace(/ ?density$/,""),G=!1);var Y,se="max"===H||"min"===H?null:0,te=v.count,re=c[W],Q=!1,ee=function(fe){return w.r2c(fe,0,A)};for(E.isArrayOrTypedArray(l[b])&&"count"!==H&&(Y=l[b],Q="avg"===H,te=v[H]),u=ee(k.start),m=ee(k.end)+(u-S.tickIncrement(u,k.size,!1,A))/1e6;u<m&&T.length<1e6&&(d=S.tickIncrement(u,k.size,!1,A),T.push((u+d)/2),_.push(se),F.push([]),R.push(u),G&&j.push(1/(d-u)),Q&&X.push(0),!(d<=u));)u=d;R.push(u),P||"date"!==w.type||(N={start:ee(N.start),end:ee(N.end),size:N.size}),o._fullLayout._roundFnOpts||(o._fullLayout._roundFnOpts={});var oe=l["_"+x+"bingroup"],le={leftGap:1/0,rightGap:1/0};oe&&(o._fullLayout._roundFnOpts[oe]||(o._fullLayout._roundFnOpts[oe]=le),le=o._fullLayout._roundFnOpts[oe]);var ue,de=_.length,he=!0,we=le.leftGap,Ae=le.rightGap,Te={};for(u=0;u<I.length;u++){var ve=I[u];(h=E.findBin(ve,N))>=0&&h<de&&(Z+=te(h,u,_,Y,X),he&&F[h].length&&ve!==I[F[h][0]]&&(he=!1),F[h].push(u),Te[u]=h,we=Math.min(we,ve-R[h]),Ae=Math.min(Ae,R[h+1]-ve))}le.leftGap=we,le.rightGap=Ae,he||(ue=function(fe,be){return function(){var Le=o._fullLayout._roundFnOpts[oe];return s(Le.leftGap,Le.rightGap,R,w,A)(fe,be)}}),Q&&(Z=i(_,X)),re&&re(_,Z,j),p.enabled&&function(fe,be,Le){var Oe,De,Ue;function Ge(Ie){Ue=fe[Ie],fe[Ie]/=2}function ye(Ie){fe[Ie]=Ue+(De=fe[Ie])/2,Ue+=De}if("half"===Le)if("increasing"===be)for(Ge(0),Oe=1;Oe<fe.length;Oe++)ye(Oe);else for(Ge(fe.length-1),Oe=fe.length-2;Oe>=0;Oe--)ye(Oe);else if("increasing"===be){for(Oe=1;Oe<fe.length;Oe++)fe[Oe]+=fe[Oe-1];"exclude"===Le&&(fe.unshift(0),fe.pop())}else{for(Oe=fe.length-2;Oe>=0;Oe--)fe[Oe]+=fe[Oe+1];"exclude"===Le&&(fe.push(0),fe.shift())}}(_,p.direction,p.currentbin);var xe=Math.min(T.length,_.length),Fe=[],Se=0,ke=xe-1;for(u=0;u<xe;u++)if(_[u]){Se=u;break}for(u=xe-1;u>=Se;u--)if(_[u]){ke=u;break}for(u=Se;u<=ke;u++)if(D(T[u])&&D(_[u])){var pe={p:T[u],s:_[u],b:0};p.enabled||(pe.pts=F[u],he?pe.ph0=pe.ph1=F[u].length?I[F[u][0]]:T[u]:(l._computePh=!0,pe.ph0=ue(R[u]),pe.ph1=ue(R[u+1],!0))),Fe.push(pe)}return 1===Fe.length&&(Fe[0].width1=S.tickIncrement(Fe[0].p,k.size,!1,A)-Fe[0].p),M(Fe,l),E.isArrayOrTypedArray(l.selectedpoints)&&E.tagSelected(Fe,l,Te),Fe},calcAllAutoBins:a}},72406:function(ae){"use strict";ae.exports={eventDataKeys:["binNumber"]}},82222:function(ae,B,r){"use strict";var D=r(71828),E=r(41675),f=r(73972).traceIs,S=r(26125),M=D.nestedProperty,v=r(99082).getAxisGroup,c=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],i=["x","y"];ae.exports=function(s,a){var o,l,u,d,m,h,T,_=a._histogramBinOpts={},g=[],w={},x=[];function b(G,Y){return D.coerce(o._input,o,o._module.attributes,G,Y)}function A(G){return"v"===G.orientation?"x":"y"}function p(G,Y,se){var te=G.uid+"__"+se;Y||(Y=te);var re=E.getFromTrace({_fullLayout:a},G,se).type,Q=G[se+"calendar"]||"",ee=_[Y],oe=!0;ee&&(re===ee.axType&&Q===ee.calendar?(oe=!1,ee.traces.push(G),ee.dirs.push(se)):(Y=te,re!==ee.axType&&D.warn(["Attempted to group the bins of trace",G.index,"set on a","type:"+re,"axis","with bins on","type:"+ee.axType,"axis."].join(" ")),Q!==ee.calendar&&D.warn(["Attempted to group the bins of trace",G.index,"set with a",Q,"calendar","with bins",ee.calendar?"on a "+ee.calendar+" calendar":"w/o a set calendar"].join(" ")))),oe&&(_[Y]={traces:[G],dirs:[se],axType:re,calendar:G[se+"calendar"]||""}),G["_"+se+"bingroup"]=Y}for(m=0;m<s.length;m++)f(o=s[m],"histogram")&&(g.push(o),delete o._xautoBinFinished,delete o._yautoBinFinished,f(o,"2dMap")||S(o._input,o,a,b));var O=a._alignmentOpts||{};for(m=0;m<g.length;m++){if(u="",!f(o=g[m],"2dMap")){if(d=A(o),"group"===a.barmode&&o.alignmentgroup){var I=v(a,o[d+"axis"])+o.orientation;(O[I]||{})[o.alignmentgroup]&&(u=I)}u||"overlay"===a.barmode||(u=v(a,o.xaxis)+v(a,o.yaxis)+A(o))}u?(w[u]||(w[u]=[]),w[u].push(o)):x.push(o)}for(u in w)if(1!==(l=w[u]).length){var P=!1;for(l.length&&(o=l[0],P=b("bingroup")),u=P||u,m=0;m<l.length;m++){var R=(o=l[m])._input.bingroup;R&&R!==u&&D.warn(["Trace",o.index,"must match","within bingroup",u+".","Ignoring its bingroup:",R,"setting."].join(" ")),o.bingroup=u,p(o,u,A(o))}}else x.push(l[0]);for(m=0;m<x.length;m++){o=x[m];var N=b("bingroup");if(f(o,"2dMap"))for(T=0;T<2;T++){var j=b((d=i[T])+"bingroup",N?N+"__"+d:null);p(o,j,d)}else p(o,N,A(o))}for(u in _){var X=_[u];for(l=X.traces,h=0;h<c.length;h++){var F,Z,W=c[h],H=W.name;if("nbins"!==H||!X.sizeFound){for(m=0;m<l.length;m++){if(void 0!==M((o=l[m])._input,F=W.aStr[d=X.dirs[m]]).get()){X[H]=b(F),X[H+"Found"]=!0;break}(Z=(o._autoBin||{})[d]||{})[H]&&M(o,F).set(Z[H])}if("start"===H||"end"===H)for(;m<l.length;m++)(o=l[m])["_"+d+"bingroup"]&&b(F,(Z=(o._autoBin||{})[d]||{})[H]);"nbins"!==H||X.sizeFound||X.nbinsFound||(o=l[0],X[H]=b(F))}}}}},11385:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(7901),S=r(90769).handleText,M=r(98340),v=r(7745);ae.exports=function(c,i,s,a){function o(x,b){return E.coerce(c,i,v,x,b)}var l=o("x"),u=o("y");o("cumulative.enabled")&&(o("cumulative.direction"),o("cumulative.currentbin")),o("text");var d=o("textposition");S(c,i,a,o,d,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat");var m=o("orientation",u&&!l?"h":"v"),h="v"===m?"x":"y",T="v"===m?"y":"x",_=l&&u?Math.min(E.minRowLength(l)&&E.minRowLength(u)):E.minRowLength(i[h]||[]);if(_){i._length=_,D.getComponentMethod("calendars","handleTraceDefaults")(c,i,["x","y"],a),i[T]&&o("histfunc"),o("histnorm"),o("autobin"+h),M(c,i,o,s,a),E.coerceSelectionMarkerOpacity(i,o);var g=(i.marker.line||{}).color,w=D.getComponentMethod("errorbars","supplyDefaults");w(c,i,g||f.defaultLine,{axis:"y"}),w(c,i,g||f.defaultLine,{axis:"x",inherit:"y"})}else i.visible=!1}},84402:function(ae){"use strict";ae.exports=function(B,r,D,E,f){if(B.x="xVal"in r?r.xVal:r.x,B.y="yVal"in r?r.yVal:r.y,"zLabelVal"in r&&(B.z=r.zLabelVal),r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),!(D.cumulative||{}).enabled){var S,M=Array.isArray(f)?E[0].pts[f[0]][f[1]]:E[f].pts;if(B.pointNumbers=M,B.binNumber=B.pointNumber,delete B.pointNumber,delete B.pointIndex,D._indexToPoints){S=[];for(var v=0;v<M.length;v++)S=S.concat(D._indexToPoints[M[v]])}else S=M;B.pointIndices=S}return B}},76440:function(ae,B,r){"use strict";var D=r(95423).hoverPoints,E=r(89298).hoverLabelText;ae.exports=function(f,S,M,v,c){var i=D(f,S,M,v,c);if(i){var s=(f=i[0]).cd[f.index],a=f.cd[0].trace;if(!a.cumulative.enabled){var o="h"===a.orientation?"y":"x";f[o+"Label"]=E(f[o+"a"],[s.ph0,s.ph1],a[o+"hoverformat"])}return i}}},36071:function(ae,B,r){"use strict";ae.exports={attributes:r(7745),layoutAttributes:r(43641),supplyDefaults:r(11385),crossTraceDefaults:r(82222),supplyLayoutDefaults:r(13957),calc:r(72138).calc,crossTraceCalc:r(11661).crossTraceCalc,plot:r(17295).plot,layerName:"barlayer",style:r(16688).style,styleOnSelect:r(16688).styleOnSelect,colorbar:r(4898),hoverPoints:r(76440),selectPoints:r(81974),eventData:r(84402),moduleType:"trace",name:"histogram",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(ae){"use strict";ae.exports={percent:function(B,r){for(var D=B.length,E=100/r,f=0;f<D;f++)B[f]*=E},probability:function(B,r){for(var D=B.length,E=0;E<D;E++)B[E]/=r},density:function(B,r,D,E){var f=B.length;E=E||1;for(var S=0;S<f;S++)B[S]*=D[S]*E},"probability density":function(B,r,D,E){var f=B.length;E&&(r/=E);for(var S=0;S<f;S++)B[S]*=D[S]/r}}},35361:function(ae,B,r){"use strict";var D=r(7745),E=r(17656),f=r(21606),S=r(9012),M=r(12663).axisHoverFormat,v=r(5386).fF,c=r(5386).si,i=r(50693),s=r(1426).extendFlat;ae.exports=s({x:D.x,y:D.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:D.histnorm,histfunc:D.histfunc,nbinsx:D.nbinsx,xbins:E("x"),nbinsy:D.nbinsy,ybins:E("y"),autobinx:D.autobinx,autobiny:D.autobiny,bingroup:s({},D.bingroup,{}),xbingroup:s({},D.bingroup,{}),ybingroup:s({},D.bingroup,{}),xgap:f.xgap,ygap:f.ygap,zsmooth:f.zsmooth,xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:c({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:f.textfont,showlegend:s({},S.showlegend,{dflt:!1})},i("",{cLetter:"z",autoColorDflt:!1}))},17562:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(59575),S=r(36362),M=r(42174),v=r(40965),c=r(72138).calcAllAutoBins;function i(o,l,u,d){var m,h=new Array(o);if(d)for(m=0;m<o;m++)h[m]=1/(l[m+1]-l[m]);else{var T=1/u;for(m=0;m<o;m++)h[m]=T}return h}function s(o,l){return{start:o(l.start),end:o(l.end),size:l.size}}function a(o,l,u,d,m,h){var T,_=o.length-1,g=new Array(_),w=v(u,d,o,m,h);for(T=0;T<_;T++){var x=(l||[])[T];g[T]=void 0===x?[w(o[T]),w(o[T+1],!0)]:[x,x]}return g}ae.exports=function(o,l){var u,d,m,h,T=E.getFromId(o,l.xaxis),_=E.getFromId(o,l.yaxis),g=l.xcalendar,w=l.ycalendar,x=function(St){return T.r2c(St,0,g)},b=function(St){return _.r2c(St,0,w)},A=c(o,l,T,"x"),p=A[0],O=A[1],k=c(o,l,_,"y"),I=k[0],P=k[1],R=l._length;O.length>R&&O.splice(R,O.length-R),P.length>R&&P.splice(R,P.length-R);var N=[],j=[],X=[],F="string"==typeof p.size,Z="string"==typeof I.size,W=[],H=[],G=F?W:p,Y=Z?H:I,se=0,te=[],re=[],Q=l.histnorm,ee=l.histfunc,oe=-1!==Q.indexOf("density"),le="max"===ee||"min"===ee?null:0,ue=f.count,de=S[Q],he=!1,we=[],Ae=[],Te="z"in l?l.z:"marker"in l&&Array.isArray(l.marker.color)?l.marker.color:"";Te&&"count"!==ee&&(he="avg"===ee,ue=f[ee]);var ve=p.size,xe=x(p.start),Fe=x(p.end)+(xe-E.tickIncrement(xe,ve,!1,g))/1e6;for(u=xe;u<Fe;u=E.tickIncrement(u,ve,!1,g))j.push(le),W.push(u),he&&X.push(0);W.push(u);var ke=j.length,pe=(u-xe)/ke,fe=T.c2r(xe+pe/2,0,g),be=I.size,Le=b(I.start),Oe=b(I.end)+(Le-E.tickIncrement(Le,be,!1,w))/1e6;for(u=Le;u<Oe;u=E.tickIncrement(u,be,!1,w)){N.push(j.slice()),H.push(u);var De=new Array(ke);for(d=0;d<ke;d++)De[d]=[];re.push(De),he&&te.push(X.slice())}H.push(u);var Ue=N.length,Ge=(u-Le)/Ue,ye=_.c2r(Le+Ge/2,0,w);oe&&(we=i(j.length,G,pe,F),Ae=i(N.length,Y,Ge,Z)),F||"date"!==T.type||(G=s(x,G)),Z||"date"!==_.type||(Y=s(b,Y));var Ie=!0,Ee=!0,Be=new Array(ke),We=new Array(Ue),He=1/0,Je=1/0,et=1/0,at=1/0;for(u=0;u<R;u++){var mt=O[u],ct=P[u];m=D.findBin(mt,G),h=D.findBin(ct,Y),m>=0&&m<ke&&h>=0&&h<Ue&&(se+=ue(m,u,N[h],Te,te[h]),re[h][m].push(u),Ie&&(void 0===Be[m]?Be[m]=mt:Be[m]!==mt&&(Ie=!1)),Ee&&(void 0===We[h]?We[h]=ct:We[h]!==ct&&(Ee=!1)),He=Math.min(He,mt-W[m]),Je=Math.min(Je,W[m+1]-mt),et=Math.min(et,ct-H[h]),at=Math.min(at,H[h+1]-ct))}if(he)for(h=0;h<Ue;h++)se+=M(N[h],te[h]);if(de)for(h=0;h<Ue;h++)de(N[h],se,we,Ae[h]);return{x:O,xRanges:a(W,Ie&&Be,He,Je,T,g),x0:fe,dx:pe,y:P,yRanges:a(H,Ee&&We,et,at,_,w),y0:ye,dy:Ge,z:N,pts:re}}},93888:function(ae,B,r){"use strict";var D=r(71828),E=r(75238),f=r(49901),S=r(1586),M=r(58623),v=r(35361);ae.exports=function(c,i,s,a){function o(l,u){return D.coerce(c,i,v,l,u)}E(c,i,o,a),!1!==i.visible&&(f(c,i,o,a),S(c,i,a,o,{prefix:"",cLetter:"z"}),o("hovertemplate"),M(o,a),o("xhoverformat"),o("yhoverformat"))}},76128:function(ae,B,r){"use strict";var D=r(46248),E=r(89298).hoverLabelText;ae.exports=function(f,S,M,v,c){var i=D(f,S,M,v,c);if(i){var s=(f=i[0]).index,l=f.cd[0],u=l.trace,d=l.xRanges[s[1]],m=l.yRanges[s[0]];return f.xLabel=E(f.xa,[d[0],d[1]],u.xhoverformat),f.yLabel=E(f.ya,[m[0],m[1]],u.yhoverformat),i}}},43905:function(ae,B,r){"use strict";ae.exports={attributes:r(35361),supplyDefaults:r(93888),crossTraceDefaults:r(82222),calc:r(90757),plot:r(50347),layerName:"heatmaplayer",colorbar:r(61243),style:r(70035),hoverPoints:r(76128),eventData:r(84402),moduleType:"trace",name:"histogram2d",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(ae,B,r){"use strict";var D=r(73972),E=r(71828);ae.exports=function(f,S,M,v){var c=M("x"),i=M("y"),s=E.minRowLength(c),a=E.minRowLength(i);s&&a?(S._length=Math.min(s,a),D.getComponentMethod("calendars","handleTraceDefaults")(f,S,["x","y"],v),(M("z")||M("marker.color"))&&M("histfunc"),M("histnorm"),M("autobinx"),M("autobiny")):S.visible=!1}},99066:function(ae,B,r){"use strict";var D=r(35361),E=r(70600),f=r(50693),S=r(12663).axisHoverFormat,M=r(1426).extendFlat;ae.exports=M({x:D.x,y:D.y,z:D.z,marker:D.marker,histnorm:D.histnorm,histfunc:D.histfunc,nbinsx:D.nbinsx,xbins:D.xbins,nbinsy:D.nbinsy,ybins:D.ybins,autobinx:D.autobinx,autobiny:D.autobiny,bingroup:D.bingroup,xbingroup:D.xbingroup,ybingroup:D.ybingroup,autocontour:E.autocontour,ncontours:E.ncontours,contours:E.contours,line:{color:E.line.color,width:M({},E.line.width,{dflt:.5}),dash:E.line.dash,smoothing:E.line.smoothing,editType:"plot"},xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:D.hovertemplate,texttemplate:E.texttemplate,textfont:E.textfont},f("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(ae,B,r){"use strict";var D=r(71828),E=r(75238),f=r(67217),S=r(8724),M=r(58623),v=r(99066);ae.exports=function(c,i,s,a){function o(l,u){return D.coerce(c,i,v,l,u)}E(c,i,o,a),!1!==i.visible&&(f(c,i,o,function(l){return D.coerce2(c,i,v,l)}),S(c,i,o,a),o("xhoverformat"),o("yhoverformat"),o("hovertemplate"),i.contours&&"heatmap"===i.contours.coloring&&M(o,a))}},35902:function(ae,B,r){"use strict";ae.exports={attributes:r(99066),supplyDefaults:r(62654),crossTraceDefaults:r(82222),calc:r(27529),plot:r(29854).plot,layerName:"contourlayer",style:r(84426),colorbar:r(90654),hoverPoints:r(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,f=r(50693),S=r(27670).Y,M=r(34e3),v=r(57564),c=r(45802),i=r(43473),s=r(1426).extendFlat,a=r(79952).u;ae.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:c.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:s({colors:v.marker.colors,line:v.marker.line,pattern:a,editType:"calc"},f("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:c.pathbar,text:M.text,textinfo:v.textinfo,texttemplate:E({editType:"plot"},{keys:i.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:v.hoverinfo,hovertemplate:D({},{keys:i.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:c.outsidetextfont,textposition:c.textposition,sort:M.sort,root:v.root,domain:S({name:"icicle",trace:!0,editType:"calc"})}},96346:function(ae,B,r){"use strict";var D=r(74875);B.name="icicle",B.plot=function(E,f,S,M){D.plotBasePlot(B.name,E,f,S,M)},B.clean=function(E,f,S,M){D.cleanBasePlot(B.name,E,f,S,M)}},46584:function(ae,B,r){"use strict";var D=r(52147);B.y=function(E,f){return D.calc(E,f)},B.T=function(E){return D._runCrossTraceCalc("icicle",E)}},56524:function(ae,B,r){"use strict";var D=r(71828),E=r(46291),f=r(7901),S=r(27670).c,M=r(90769).handleText,v=r(97313).TEXTPAD,c=r(37434).handleMarkerDefaults,i=r(21081),s=i.hasColorscale,a=i.handleDefaults;ae.exports=function(o,l,u,d){function m(b,A){return D.coerce(o,l,E,b,A)}var h=m("labels"),T=m("parents");if(h&&h.length&&T&&T.length){var _=m("values");m(_&&_.length?"branchvalues":"count"),m("level"),m("maxdepth"),m("tiling.orientation"),m("tiling.flip"),m("tiling.pad");var g=m("text");m("texttemplate"),l.texttemplate||m("textinfo",Array.isArray(g)?"text+label":"label"),m("hovertext"),m("hovertemplate");var w=m("pathbar.visible");M(o,l,d,m,"auto",{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),m("textposition"),c(o,l,d,m);var x=l._hasColorscale=s(o,"marker","colors")||(o.marker||{}).coloraxis;x&&a(o,l,d,m,{prefix:"marker.",cLetter:"c"}),m("leaf.opacity",x?1:.7),l._hovered={marker:{line:{width:2,color:f.contrast(d.paper_bgcolor)}}},w&&(m("pathbar.thickness",l.pathbar.textfont.size+2*v),m("pathbar.side"),m("pathbar.edgeshape")),m("sort"),m("root.color"),S(l,d,m),l._length=null}else l.visible=!1}},90666:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424),S=r(63893),M=r(21538),v=r(82454).styleOne,c=r(43473),i=r(2791),s=r(83523),a=r(24714).formatSliceLabel,o=!1;ae.exports=function(l,u,d,m,h){var T=h.width,_=h.height,g=h.viewX,w=h.viewY,x=h.pathSlice,b=h.toMoveInsideSlice,A=h.strTransform,p=h.hasTransition,O=h.handleSlicesExit,k=h.makeUpdateSliceInterpolator,I=h.makeUpdateTextInterpolator,P=h.prevEntry,R=l._context.staticPlot,N=l._fullLayout,j=u[0].trace,X=-1!==j.textposition.indexOf("left"),F=-1!==j.textposition.indexOf("right"),Z=-1!==j.textposition.indexOf("bottom"),W=M(d,[T,_],{flipX:j.tiling.flip.indexOf("x")>-1,flipY:j.tiling.flip.indexOf("y")>-1,orientation:j.tiling.orientation,pad:{inner:j.tiling.pad},maxDepth:j._maxDepth}).descendants(),H=1/0,G=-1/0;W.forEach(function(Q){var ee=Q.depth;ee>=j._maxDepth?(Q.x0=Q.x1=(Q.x0+Q.x1)/2,Q.y0=Q.y1=(Q.y0+Q.y1)/2):(H=Math.min(H,ee),G=Math.max(G,ee))}),m=m.data(W,i.getPtId),j._maxVisibleLayers=isFinite(G)?G-H+1:0,m.enter().append("g").classed("slice",!0),O(m,o,{},[T,_],x),m.order();var Y=null;if(p&&P){var se=i.getPtId(P);m.each(function(Q){null===Y&&i.getPtId(Q)===se&&(Y={x0:Q.x0,x1:Q.x1,y0:Q.y0,y1:Q.y1})})}var te=function(){return Y||{x0:0,x1:T,y0:0,y1:_}},re=m;return p&&(re=re.transition().each("end",function(){var Q=D.select(this);i.setSliceCursor(Q,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),re.each(function(Q){Q._x0=g(Q.x0),Q._x1=g(Q.x1),Q._y0=w(Q.y0),Q._y1=w(Q.y1),Q._hoverX=g(Q.x1-j.tiling.pad),Q._hoverY=w(Z?Q.y1-j.tiling.pad/2:Q.y0+j.tiling.pad/2);var ee=D.select(this),oe=E.ensureSingle(ee,"path","surface",function(he){he.style("pointer-events",R?"none":"all")});p?oe.transition().attrTween("d",function(he){var we=k(he,o,te(),[T,_],{orientation:j.tiling.orientation,flipX:j.tiling.flip.indexOf("x")>-1,flipY:j.tiling.flip.indexOf("y")>-1});return function(Ae){return x(we(Ae))}}):oe.attr("d",x),ee.call(s,d,l,u,{styleOne:v,eventDataKeys:c.eventDataKeys,transitionTime:c.CLICK_TRANSITION_TIME,transitionEasing:c.CLICK_TRANSITION_EASING}).call(i.setSliceCursor,l,{isTransitioning:l._transitioning}),oe.call(v,Q,j,l,{hovered:!1}),Q._text=Q.x0===Q.x1||Q.y0===Q.y1?"":a(Q,d,j,u,N)||"";var le=E.ensureSingle(ee,"g","slicetext"),ue=E.ensureSingle(le,"text","",function(he){he.attr("data-notex",1)}),de=E.ensureUniformFontSize(l,i.determineTextFont(j,Q,N.font));ue.text(Q._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":X?"start":"middle").call(f.font,de).call(S.convertToTspans,l),Q.textBB=f.bBox(ue.node()),Q.transform=b(Q,{fontSize:de.size}),Q.transform.fontSize=de.size,p?ue.transition().attrTween("transform",function(he){var we=I(he,o,te(),[T,_]);return function(Ae){return A(we(Ae))}}):ue.attr("transform",A(Q))}),Y}},69816:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"icicle",basePlotModule:r(96346),categories:[],animatable:!0,attributes:r(46291),layoutAttributes:r(92894),supplyDefaults:r(56524),supplyLayoutDefaults:r(21070),calc:r(46584).y,crossTraceCalc:r(46584).T,plot:r(85596),style:r(82454).style,colorbar:r(4898),meta:{}}},92894:function(ae){"use strict";ae.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(ae,B,r){"use strict";var D=r(71828),E=r(92894);ae.exports=function(f,S){function M(v,c){return D.coerce(f,S,E,v,c)}M("iciclecolorway",S.colorway),M("extendiciclecolors")}},21538:function(ae,B,r){"use strict";var D=r(674),E=r(14102);ae.exports=function(f,S,M){var v=M.flipX,c=M.flipY,i="h"===M.orientation,s=M.maxDepth,a=S[0],o=S[1];s&&(a=(f.height+1)*S[0]/Math.min(f.height+1,s),o=(f.height+1)*S[1]/Math.min(f.height+1,s));var l=D.partition().padding(M.pad.inner).size(i?[S[1],a]:[S[0],o])(f);return(i||v||c)&&E(l,S,{swapXY:i,flipX:v,flipY:c}),l}},85596:function(ae,B,r){"use strict";var D=r(80694),E=r(90666);ae.exports=function(f,S,M,v){return D(f,S,M,v,{type:"icicle",drawDescendants:E})}},82454:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),f=r(71828),S=r(72597).resizeText,M=r(43467);function v(c,i,s,a){var l=!i.children,u=i.data.data.i,d=f.castOption(s,u,"marker.line.color")||E.defaultLine,m=f.castOption(s,u,"marker.line.width")||0;c.call(M,i,s,a).style("stroke-width",m).call(E.stroke,d).style("opacity",l?s.leaf.opacity:null)}ae.exports={style:function(c){var i=c._fullLayout._iciclelayer.selectAll(".trace");S(c,i,"icicle"),i.each(function(s){var a=D.select(this),o=s[0].trace;a.style("opacity",o.opacity),a.selectAll("path.surface").each(function(l){D.select(this).call(v,l,o,c)})})},styleOne:v}},17230:function(ae,B,r){"use strict";for(var D=r(9012),E=r(5386).fF,f=r(1426).extendFlat,S=r(51877).colormodel,M=["rgb","rgba","rgba256","hsl","hsla"],v=[],c=[],i=0;i<M.length;i++){var s=S[M[i]];v.push("For the `"+M[i]+"` colormodel, it is ["+(s.zminDflt||s.min).join(", ")+"]."),c.push("For the `"+M[i]+"` colormodel, it is ["+(s.zmaxDflt||s.max).join(", ")+"].")}ae.exports=f({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:M,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:f({},D.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:E({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(ae,B,r){"use strict";var D=r(71828),E=r(51877),f=r(92770),S=r(89298),M=r(71828).maxRowLength,v=r(67395).A;function c(s,a,o,l){return function(u){return D.constrain((u-s)*a,o,l)}}function i(s,a){return function(o){return D.constrain(o,s,a)}}ae.exports=function(s,a){var o,l;if(a._hasZ)o=a.z.length,l=M(a.z);else if(a._hasSource){var u=v(a.source);o=u.height,l=u.width}var d,m=S.getFromId(s,a.xaxis||"x"),h=S.getFromId(s,a.yaxis||"y"),T=m.d2c(a.x0)-a.dx/2,_=h.d2c(a.y0)-a.dy/2,g=[T,T+l*a.dx],w=[_,_+o*a.dy];if(m&&"log"===m.type)for(d=0;d<l;d++)g.push(T+d*a.dx);if(h&&"log"===h.type)for(d=0;d<o;d++)w.push(_+d*a.dy);return a._extremes[m._id]=S.findExtremes(m,g),a._extremes[h._id]=S.findExtremes(h,w),a._scaler=function(x){var b=E.colormodel[x.colormodel],A=(b.colormodel||x.colormodel).length;x._sArray=[];for(var p=0;p<A;p++)x._sArray.push(b.min[p]!==x.zmin[p]||b.max[p]!==x.zmax[p]?c(x.zmin[p],(b.max[p]-b.min[p])/(x.zmax[p]-x.zmin[p]),b.min[p],b.max[p]):i(b.min[p],b.max[p]));return function(O){for(var k=O.slice(0,A),I=0;I<A;I++){var P=k[I];if(!f(P))return!1;k[I]=x._sArray[I](P)}return k}}(a),[{x0:T,y0:_,z:a.z,w:l,h:o}]}},51877:function(ae){"use strict";ae.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(B){return B.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(B){return B.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(B){return B.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(B){var r=B.slice(0,3);return r[1]=r[1]+"%",r[2]=r[2]+"%",r},suffix:["\xb0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(B){var r=B.slice(0,4);return r[1]=r[1]+"%",r[2]=r[2]+"%",r},suffix:["\xb0","%","%",""]}}}},13245:function(ae,B,r){"use strict";var D=r(71828),E=r(17230),f=r(51877),S=r(25095).IMAGE_URL_PREFIX;ae.exports=function(M,v){function c(a,o){return D.coerce(M,v,E,a,o)}c("source"),v.source&&!v.source.match(S)&&delete v.source,v._hasSource=!!v.source;var i,s=c("z");v._hasZ=!(void 0===s||!s.length||!s[0]||!s[0].length),v._hasZ||v._hasSource?(c("x0"),c("y0"),c("dx"),c("dy"),v._hasZ?(c("colormodel","rgb"),c("zmin",(i=f.colormodel[v.colormodel]).zminDflt||i.min),c("zmax",i.zmaxDflt||i.max)):v._hasSource&&(v.colormodel="rgba256",v.zmin=(i=f.colormodel[v.colormodel]).zminDflt,v.zmax=i.zmaxDflt),c("zsmooth"),c("text"),c("hovertext"),c("hovertemplate"),v._length=null):v.visible=!1}},30835:function(ae){"use strict";ae.exports=function(B,r){return"xVal"in r&&(B.x=r.xVal),"yVal"in r&&(B.y=r.yVal),r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),B.color=r.color,B.colormodel=r.trace.colormodel,B.z||(B.z=r.color),B}},67395:function(ae,B,r){"use strict";var D=r(33575),E=r(25095).IMAGE_URL_PREFIX,f=r(12856).Buffer;B.A=function(S){var M=S.replace(E,""),v=new f(M,"base64");return D(v)}},28749:function(ae,B,r){"use strict";var D=r(30211),E=r(71828),f=r(51877);ae.exports=function(S,M,v){var c=S.cd[0],i=c.trace,s=S.xa,a=S.ya;if(!(D.inbox(M-c.x0,M-(c.x0+c.w*i.dx),0)>0||D.inbox(v-c.y0,v-(c.y0+c.h*i.dy),0)>0)){var o,l=Math.floor((M-c.x0)/i.dx),u=Math.floor(Math.abs(v-c.y0)/i.dy);if(i._hasZ?o=c.z[u][l]:i._hasSource&&(o=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,u,1,1).data),o){var d,m=c.hi||i.hoverinfo;if(m){var h=m.split("+");-1!==h.indexOf("all")&&(h=["color"]),-1!==h.indexOf("color")&&(d=!0)}var T,_=f.colormodel[i.colormodel],g=_.colormodel||i.colormodel,w=g.length,x=i._scaler(o),b=_.suffix,A=[];(i.hovertemplate||d)&&(A.push("["+[x[0]+b[0],x[1]+b[1],x[2]+b[2]].join(", ")),4===w&&A.push(", "+x[3]+b[3]),A.push("]"),A=A.join(""),S.extraText=g.toUpperCase()+": "+A),Array.isArray(i.hovertext)&&Array.isArray(i.hovertext[u])?T=i.hovertext[u][l]:Array.isArray(i.text)&&Array.isArray(i.text[u])&&(T=i.text[u][l]);var p=a.c2p(c.y0+(u+.5)*i.dy),O=c.x0+(l+.5)*i.dx,k=c.y0+(u+.5)*i.dy,I="["+o.slice(0,i.colormodel.length).join(", ")+"]";return[E.extendFlat(S,{index:[u,l],x0:s.c2p(c.x0+l*i.dx),x1:s.c2p(c.x0+(l+1)*i.dx),y0:p,y1:p,color:x,xVal:O,xLabelVal:O,yVal:k,yLabelVal:k,zLabelVal:I,text:T,hovertemplateLabels:{zLabel:I,colorLabel:A,"color[0]Label":x[0]+b[0],"color[1]Label":x[1]+b[1],"color[2]Label":x[2]+b[2],"color[3]Label":x[3]+b[3]}})]}}}},94507:function(ae,B,r){"use strict";ae.exports={attributes:r(17230),supplyDefaults:r(13245),calc:r(71113),plot:r(60775),style:r(12826),hoverPoints:r(28749),eventData:r(30835),moduleType:"trace",name:"image",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=E.strTranslate,S=r(77922),M=r(51877),v=r(3883),c=r(32396).STYLE;ae.exports=function(i,s,a,o){var l=s.xaxis,u=s.yaxis,d=!i._context._exportedPlot&&v();E.makeTraceGroups(o,a,"im").each(function(m){var h=D.select(this),T=m[0],_=T.trace,g=("fast"===_.zsmooth||!1===_.zsmooth&&d)&&!_._hasZ&&_._hasSource&&"linear"===l.type&&"linear"===u.type;_._realImage=g;var w,x,b,A,p,O,k=T.z,I=T.x0,P=T.y0,R=T.w,N=T.h,j=_.dx,X=_.dy;for(O=0;void 0===w&&O<R;)w=l.c2p(I+O*j),O++;for(O=R;void 0===x&&O>0;)x=l.c2p(I+O*j),O--;for(O=0;void 0===A&&O<N;)A=u.c2p(P+O*X),O++;for(O=N;void 0===p&&O>0;)p=u.c2p(P+O*X),O--;x<w&&(b=x,x=w,w=b),p<A&&(b=A,A=p,p=b),g||(w=Math.max(-.5*l._length,w),x=Math.min(1.5*l._length,x),A=Math.max(-.5*u._length,A),p=Math.min(1.5*u._length,p));var F=Math.round(x-w),Z=Math.round(p-A);if(F<=0||Z<=0)h.selectAll("image").data([]).exit().remove();else{var W=h.selectAll("image").data([m]);W.enter().append("svg:image").attr({xmlns:S.svg,preserveAspectRatio:"none"}),W.exit().remove();var H=!1===_.zsmooth?c:"";if(g){var G=E.simpleMap(l.range,l.r2l),Y=E.simpleMap(u.range,u.r2l),se=G[1]<G[0],te=Y[1]>Y[0];if(se||te){var re=w+F/2,Q=A+Z/2;H+="transform:"+f(re+"px",Q+"px")+"scale("+(se?-1:1)+","+(te?-1:1)+")"+f(-re+"px",-Q+"px")+";"}}W.attr("style",H);var ee=new Promise(function(le){if(_._hasZ)le();else if(_._hasSource)if(_._canvas&&_._canvas.el.width===R&&_._canvas.el.height===N&&_._canvas.source===_.source)le();else{var ue=document.createElement("canvas");ue.width=R,ue.height=N;var de=ue.getContext("2d",{willReadFrequently:!0});_._image=_._image||new Image;var he=_._image;he.onload=function(){de.drawImage(he,0,0),_._canvas={el:ue,source:_.source},le()},he.setAttribute("src",_.source)}}).then(function(){var le;if(_._hasZ)le=oe(function(he,we){return k[we][he]}).toDataURL("image/png");else if(_._hasSource)if(g)le=_.source;else{var de=_._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,R,N).data;le=oe(function(he,we){var Ae=4*(we*R+he);return[de[Ae],de[Ae+1],de[Ae+2],de[Ae+3]]}).toDataURL("image/png")}W.attr({"xlink:href":le,height:Z,width:F,x:w,y:A})});i._promises.push(ee)}function oe(le){var ue=document.createElement("canvas");ue.width=F,ue.height=Z;var de,he=ue.getContext("2d",{willReadFrequently:!0}),we=function(be){return E.constrain(Math.round(l.c2p(I+be*j)-w),0,F)},Ae=function(be){return E.constrain(Math.round(u.c2p(P+be*X)-A),0,Z)},Te=M.colormodel[_.colormodel],ve=Te.colormodel||_.colormodel,xe=Te.fmt;for(O=0;O<T.w;O++){var Fe=we(O),Se=we(O+1);if(Se!==Fe&&!isNaN(Se)&&!isNaN(Fe))for(var ke=0;ke<T.h;ke++){var pe=Ae(ke),fe=Ae(ke+1);fe===pe||isNaN(fe)||isNaN(pe)||!le(O,ke)||(de=_._scaler(le(O,ke)),he.fillStyle=de?ve+"("+xe(de).join(",")+")":"rgba(0,0,0,0)",he.fillRect(Fe,pe,Se-Fe,fe-pe))}}return ue}})}},12826:function(ae,B,r){"use strict";var D=r(39898);ae.exports=function(E){D.select(E).selectAll(".im image").style("opacity",function(f){return f[0].trace.opacity})}},54846:function(ae,B,r){"use strict";var D=r(1426).extendFlat,E=r(1426).extendDeep,f=r(30962).overrideAll,S=r(41940),M=r(22399),v=r(27670).Y,c=r(13838),i=r(44467).templatedArray,s=r(22372),a=r(12663).descriptionOnlyNumbers,o=S({editType:"plot",colorEditType:"plot"}),l={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:M.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},u={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},d=i("step",E({},l,{range:u}));ae.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:D({},o,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:a("value")},font:D({},o,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:a("value")},increasing:{symbol:{valType:"string",dflt:s.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:s.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:s.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:s.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:D({},o,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:E({},l,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:M.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:f({range:u,visible:D({},c.visible,{dflt:!0}),tickmode:c.minor.tickmode,nticks:c.nticks,tick0:c.tick0,dtick:c.dtick,tickvals:c.tickvals,ticktext:c.ticktext,ticks:D({},c.ticks,{dflt:"outside"}),ticklen:c.ticklen,tickwidth:c.tickwidth,tickcolor:c.tickcolor,ticklabelstep:c.ticklabelstep,showticklabels:c.showticklabels,labelalias:c.labelalias,tickfont:S({}),tickangle:c.tickangle,tickformat:c.tickformat,tickformatstops:c.tickformatstops,tickprefix:c.tickprefix,showtickprefix:c.showtickprefix,ticksuffix:c.ticksuffix,showticksuffix:c.showticksuffix,separatethousands:c.separatethousands,exponentformat:c.exponentformat,minexponent:c.minexponent,showexponent:c.showexponent,editType:"plot"},"plot"),steps:d,threshold:{line:{color:D({},l.line.color,{}),width:D({},l.line.width,{dflt:1}),editType:"plot"},thickness:D({},l.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(ae,B,r){"use strict";var D=r(74875);B.name="indicator",B.plot=function(E,f,S,M){D.plotBasePlot(B.name,E,f,S,M)},B.clean=function(E,f,S,M){D.cleanBasePlot(B.name,E,f,S,M)}},24667:function(ae){"use strict";ae.exports={calc:function(B,r){var D=[],E=r.value;"number"!=typeof r._lastValue&&(r._lastValue=r.value);var f=r._lastValue,S=f;return r._hasDelta&&"number"==typeof r.delta.reference&&(S=r.delta.reference),D[0]={y:E,lastY:f,delta:E-S,relativeDelta:(E-S)/S},D}}},84577:function(ae){"use strict";ae.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(ae,B,r){"use strict";var D=r(71828),E=r(54846),f=r(27670).c,S=r(44467),M=r(85501),v=r(84577),c=r(26218),i=r(38701),s=r(96115),a=r(89426);function o(l,u){function d(m,h){return D.coerce(l,u,E.gauge.steps,m,h)}d("color"),d("line.color"),d("line.width"),d("range"),d("thickness")}ae.exports={supplyDefaults:function(l,u,d,m){function h(P,R){return D.coerce(l,u,E,P,R)}f(u,m,h),h("mode"),u._hasNumber=-1!==u.mode.indexOf("number"),u._hasDelta=-1!==u.mode.indexOf("delta"),u._hasGauge=-1!==u.mode.indexOf("gauge");var T=h("value");u._range=[0,"number"==typeof T?1.5*T:1];var _,g,w,x,b,A,p=new Array(2);function O(P,R){return D.coerce(w,x,E.gauge,P,R)}function k(P,R){return D.coerce(b,A,E.gauge.axis,P,R)}if(u._hasNumber&&(h("number.valueformat"),h("number.font.color",m.font.color),h("number.font.family",m.font.family),h("number.font.size"),void 0===u.number.font.size&&(u.number.font.size=v.defaultNumberFontSize,p[0]=!0),h("number.prefix"),h("number.suffix"),_=u.number.font.size),u._hasDelta&&(h("delta.font.color",m.font.color),h("delta.font.family",m.font.family),h("delta.font.size"),void 0===u.delta.font.size&&(u.delta.font.size=(u._hasNumber?.5:1)*(_||v.defaultNumberFontSize),p[1]=!0),h("delta.reference",u.value),h("delta.relative"),h("delta.valueformat",u.delta.relative?"2%":""),h("delta.increasing.symbol"),h("delta.increasing.color"),h("delta.decreasing.symbol"),h("delta.decreasing.color"),h("delta.position"),h("delta.prefix"),h("delta.suffix"),g=u.delta.font.size),u._scaleNumbers=(!u._hasNumber||p[0])&&(!u._hasDelta||p[1])||!1,h("title.font.color",m.font.color),h("title.font.family",m.font.family),h("title.font.size",.25*(_||g||v.defaultNumberFontSize)),h("title.text"),u._hasGauge){(w=l.gauge)||(w={}),x=S.newContainer(u,"gauge"),O("shape"),(u._isBullet="bullet"===u.gauge.shape)||h("title.align","center"),(u._isAngular="angular"===u.gauge.shape)||h("align","center"),O("bgcolor",m.paper_bgcolor),O("borderwidth"),O("bordercolor"),O("bar.color"),O("bar.line.color"),O("bar.line.width"),O("bar.thickness",v.valueThickness*("bullet"===u.gauge.shape?.5:1)),M(w,x,{name:"steps",handleItemDefaults:o}),O("threshold.value"),O("threshold.thickness"),O("threshold.line.width"),O("threshold.line.color"),b={},w&&(b=w.axis||{}),A=S.newContainer(x,"axis"),k("visible"),u._range=k("range",u._range);var I={outerTicks:!0};c(b,A,k,"linear"),a(b,A,k,"linear",I),s(b,A,k,"linear",I),i(b,A,k,I)}else h("title.align","center"),h("align","center"),u._isAngular=u._isBullet=!1;u._length=null}}},15154:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"indicator",basePlotModule:r(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:r(54846),supplyDefaults:r(94425).supplyDefaults,calc:r(24667).calc,plot:r(75634),meta:{}}},75634:function(ae,B,r){"use strict";var D=r(39898),E=r(81684).sX,f=r(81684).k4,S=r(71828),M=S.strScale,v=S.strTranslate,c=S.rad2deg,i=r(18783).MID_SHIFT,s=r(91424),a=r(84577),o=r(63893),l=r(89298),u=r(71453),d=r(52830),m=r(13838),h=r(7901),T={left:"start",center:"middle",right:"end"},_={left:0,center:.5,right:1},g=/[yzafpn\xb5mkMGTPEZY]/;function w(k){return k&&k.duration>0}function x(k){k.each(function(I){h.stroke(D.select(this),I.line.color)}).each(function(I){h.fill(D.select(this),I.color)}).style("stroke-width",function(I){return I.line.width})}function b(k,I,P){var R=k._fullLayout,N=S.extendFlat({type:"linear",ticks:"outside",range:P,showline:!0},I),j={type:"linear",_id:"x"+I._id},X={letter:"x",font:R.font,noHover:!0,noTickson:!0};function F(Z,W){return S.coerce(N,j,m,Z,W)}return u(N,j,F,X,R),d(N,j,F,X),j}function A(k,I,P){return[Math.min(I/k.width,P/k.height),k,I+"x"+P]}function p(k,I,P,R){var N=document.createElementNS("http://www.w3.org/2000/svg","text"),j=D.select(N);return j.text(k).attr("x",0).attr("y",0).attr("text-anchor",P).attr("data-unformatted",k).call(o.convertToTspans,R).call(s.font,I),s.bBox(j.node())}function O(k,I,P,R,N,j){var X="_cache"+I;k[X]&&k[X].key===N||(k[X]={key:N,value:P});var F=S.aggNums(j,null,[k[X].value,R],2);return k[X].value=F,F}ae.exports=function(k,I,P,R){var N,j=k._fullLayout;w(P)&&R&&(N=R()),S.makeTraceGroups(j._indicatorlayer,I,"trace").each(function(X){var F,Z,W,H,G,Y=X[0].trace,se=D.select(this),te=Y._hasGauge,re=Y._isAngular,Q=Y._isBullet,ee=Y.domain,oe={w:j._size.w*(ee.x[1]-ee.x[0]),h:j._size.h*(ee.y[1]-ee.y[0]),l:j._size.l+j._size.w*ee.x[0],r:j._size.r+j._size.w*(1-ee.x[1]),t:j._size.t+j._size.h*(1-ee.y[1]),b:j._size.b+j._size.h*ee.y[0]},le=oe.l+oe.w/2,ue=oe.t+oe.h/2,de=Math.min(oe.w/2,oe.h),he=a.innerRadius*de,we=Y.align||"center";if(Z=ue,te){if(re&&(F=le,Z=ue+de/2,W=function(pe){return fe=pe,[(be=.9*he)/Math.sqrt(fe.width/2*(fe.width/2)+fe.height*fe.height),fe,be];var fe,be}),Q){var Ae=a.bulletPadding,Te=1-a.bulletNumberDomainSize+Ae;F=oe.l+(Te+(1-Te)*_[we])*oe.w,W=function(pe){return A(pe,(a.bulletNumberDomainSize-Ae)*oe.w,oe.h)}}}else F=oe.l+_[we]*oe.w,W=function(pe){return A(pe,oe.w,oe.h)};(function(pe,fe,be,Le){var Oe,De,Ue,Ge=be[0].trace,ye=Le.numbersX,Ie=Le.numbersY,Ee=Ge.align||"center",Be=T[Ee],We=Le.transitionOpts,He=Le.onComplete,Je=S.ensureSingle(fe,"g","numbers"),et=[];Ge._hasNumber&&et.push("number"),Ge._hasDelta&&(et.push("delta"),"left"===Ge.delta.position&&et.reverse());var at=Je.selectAll("text").data(et);function mt(Ft,Ht,Lt,tt){if(!Ft.match("s")||Lt>=0==tt>=0||Ht(Lt).slice(-1).match(g)||Ht(tt).slice(-1).match(g))return Ht;var rt=Ft.slice().replace("s","f").replace(/\d+/,function(it){return parseInt(it)-1}),Ke=b(pe,{tickformat:rt});return function(it){return Math.abs(it)<1?l.tickText(Ke,it).text:Ht(it)}}at.enter().append("text"),at.attr("text-anchor",function(){return Be}).attr("class",function(Ft){return Ft}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),at.exit().remove();var ct,St=Ge.mode+Ge.align;if(Ge._hasDelta&&(ct=function(){var Ft=b(pe,{tickformat:Ge.delta.valueformat},Ge._range);Ft.setScale(),l.prepTicks(Ft);var Ht=function(Ve){return l.tickText(Ft,Ve).text},Lt=Ge.delta.suffix,tt=Ge.delta.prefix,rt=function(Ve){return Ge.delta.relative?Ve.relativeDelta:Ve.delta},Ke=function(Ve,qe){return 0===Ve||"number"!=typeof Ve||isNaN(Ve)?"-":(Ve>0?Ge.delta.increasing.symbol:Ge.delta.decreasing.symbol)+tt+qe(Ve)+Lt},it=function(Ve){return Ve.delta>=0?Ge.delta.increasing.color:Ge.delta.decreasing.color};void 0===Ge._deltaLastValue&&(Ge._deltaLastValue=rt(be[0]));var gt=Je.select("text.delta");function ft(){gt.text(Ke(rt(be[0]),Ht)).call(h.fill,it(be[0])).call(o.convertToTspans,pe)}return gt.call(s.font,Ge.delta.font).call(h.fill,it({delta:Ge._deltaLastValue})),w(We)?gt.transition().duration(We.duration).ease(We.easing).tween("text",function(){var Ve=D.select(this),qe=rt(be[0]),dt=Ge._deltaLastValue,ut=mt(Ge.delta.valueformat,Ht,dt,qe),At=f(dt,qe);return Ge._deltaLastValue=qe,function(wt){Ve.text(Ke(At(wt),ut)),Ve.call(h.fill,it({delta:At(wt)}))}}).each("end",function(){ft(),He&&He()}).each("interrupt",function(){ft(),He&&He()}):ft(),De=p(Ke(rt(be[0]),Ht),Ge.delta.font,Be,pe),gt}(),St+=Ge.delta.position+Ge.delta.font.size+Ge.delta.font.family+Ge.delta.valueformat,St+=Ge.delta.increasing.symbol+Ge.delta.decreasing.symbol,Ue=De),Ge._hasNumber&&(function(){var Ft=b(pe,{tickformat:Ge.number.valueformat},Ge._range);Ft.setScale(),l.prepTicks(Ft);var Ht=function(it){return l.tickText(Ft,it).text},Lt=Ge.number.suffix,tt=Ge.number.prefix,rt=Je.select("text.number");function Ke(){var it="number"==typeof be[0].y?tt+Ht(be[0].y)+Lt:"-";rt.text(it).call(s.font,Ge.number.font).call(o.convertToTspans,pe)}w(We)?rt.transition().duration(We.duration).ease(We.easing).each("end",function(){Ke(),He&&He()}).each("interrupt",function(){Ke(),He&&He()}).attrTween("text",function(){var it=D.select(this),gt=f(be[0].lastY,be[0].y);Ge._lastValue=be[0].y;var ft=mt(Ge.number.valueformat,Ht,be[0].lastY,be[0].y);return function(Ve){it.text(tt+ft(gt(Ve))+Lt)}}):Ke(),Oe=p(tt+Ht(be[0].y)+Lt,Ge.number.font,Be,pe)}(),St+=Ge.number.font.size+Ge.number.font.family+Ge.number.valueformat+Ge.number.suffix+Ge.number.prefix,Ue=Oe),Ge._hasDelta&&Ge._hasNumber){var Dt,Et,ht=[(Oe.left+Oe.right)/2,(Oe.top+Oe.bottom)/2],pt=[(De.left+De.right)/2,(De.top+De.bottom)/2],Pt=.75*Ge.delta.font.size;"left"===Ge.delta.position&&(Dt=O(Ge,"deltaPos",0,-1*(Oe.width*_[Ge.align]+De.width*(1-_[Ge.align])+Pt),St,Math.min),Et=ht[1]-pt[1],Ue={width:Oe.width+De.width+Pt,height:Math.max(Oe.height,De.height),left:De.left+Dt,right:Oe.right,top:Math.min(Oe.top,De.top+Et),bottom:Math.max(Oe.bottom,De.bottom+Et)}),"right"===Ge.delta.position&&(Dt=O(Ge,"deltaPos",0,Oe.width*(1-_[Ge.align])+De.width*_[Ge.align]+Pt,St,Math.max),Et=ht[1]-pt[1],Ue={width:Oe.width+De.width+Pt,height:Math.max(Oe.height,De.height),left:Oe.left,right:De.right+Dt,top:Math.min(Oe.top,De.top+Et),bottom:Math.max(Oe.bottom,De.bottom+Et)}),"bottom"===Ge.delta.position&&(Dt=null,Et=De.height,Ue={width:Math.max(Oe.width,De.width),height:Oe.height+De.height,left:Math.min(Oe.left,De.left),right:Math.max(Oe.right,De.right),top:Oe.bottom-Oe.height,bottom:Oe.bottom+De.height}),"top"===Ge.delta.position&&(Dt=null,Et=Oe.top,Ue={width:Math.max(Oe.width,De.width),height:Oe.height+De.height,left:Math.min(Oe.left,De.left),right:Math.max(Oe.right,De.right),top:Oe.bottom-Oe.height-De.height,bottom:Oe.bottom}),ct.attr({dx:Dt,dy:Et})}(Ge._hasNumber||Ge._hasDelta)&&Je.attr("transform",function(){var Ht,Ft=Le.numbersScaler(Ue),Lt=O(Ge,"numbersScale",1,Ft[0],St+=Ft[2],Math.min);Ge._scaleNumbers||(Lt=1),Ge._numbersTop=Lt*Ue.top+(Ht=Ge._isAngular?Ie-Lt*Ue.bottom:Ie-Lt*(Ue.top+Ue.bottom)/2);var tt=Ue[Ee];"center"===Ee&&(tt=(Ue.left+Ue.right)/2);var rt=ye-Lt*tt;return rt=O(Ge,"numbersTranslate",0,rt,St,Math.max),v(rt,Ht)+M(Lt)})})(k,se,X,{numbersX:F,numbersY:Z,numbersScaler:W,transitionOpts:P,onComplete:N}),te&&(H={range:Y.gauge.axis.range,color:Y.gauge.bgcolor,line:{color:Y.gauge.bordercolor,width:0},thickness:1},G={range:Y.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:Y.gauge.bordercolor,width:Y.gauge.borderwidth},thickness:1});var ve=se.selectAll("g.angular").data(re?X:[]);ve.exit().remove();var xe=se.selectAll("g.angularaxis").data(re?X:[]);xe.exit().remove(),re&&function(pe,fe,be,Le){var Oe,De,Ue,Ge,ye=be[0].trace,Ie=Le.size,Ee=Le.radius,Be=Le.innerRadius,We=Le.gaugeBg,He=Le.gaugeOutline,Je=[Ie.l+Ie.w/2,Ie.t+Ie.h/2+Ee/2],et=Le.gauge,at=Le.layer,mt=Le.transitionOpts,ct=Le.onComplete,St=Math.PI/2;function Dt(wt){var kt=ye.gauge.axis.range[0],_t=(wt-kt)/(ye.gauge.axis.range[1]-kt)*Math.PI-St;return _t<-St?-St:_t>St?St:_t}function Et(wt){return D.svg.arc().innerRadius((Be+Ee)/2-wt/2*(Ee-Be)).outerRadius((Be+Ee)/2+wt/2*(Ee-Be)).startAngle(-St)}function ht(wt){wt.attr("d",function(kt){return Et(kt.thickness).startAngle(Dt(kt.range[0])).endAngle(Dt(kt.range[1]))()})}et.enter().append("g").classed("angular",!0),et.attr("transform",v(Je[0],Je[1])),at.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),at.selectAll("g.xangularaxistick,path,text").remove(),(Oe=b(pe,ye.gauge.axis)).type="linear",Oe.range=ye.gauge.axis.range,Oe._id="xangularaxis",Oe.ticklabeloverflow="allow",Oe.setScale();var pt=function(wt){return(Oe.range[0]-wt.x)/(Oe.range[1]-Oe.range[0])*Math.PI+Math.PI},Pt={},Ft=l.makeLabelFns(Oe,0).labelStandoff;Pt.xFn=function(wt){var kt=pt(wt);return Math.cos(kt)*Ft},Pt.yFn=function(wt){var kt=pt(wt),_t=Math.sin(kt)>0?.2:1;return-Math.sin(kt)*(Ft+wt.fontSize*_t)+Math.abs(Math.cos(kt))*(wt.fontSize*i)},Pt.anchorFn=function(wt){var kt=pt(wt),_t=Math.cos(kt);return Math.abs(_t)<.1?"middle":_t>0?"start":"end"},Pt.heightFn=function(wt,kt,_t){var Rt=pt(wt);return-.5*(1+Math.sin(Rt))*_t};var Ht=function(wt){return v(Je[0]+Ee*Math.cos(wt),Je[1]-Ee*Math.sin(wt))};Ue=function(wt){return Ht(pt(wt))},De=l.calcTicks(Oe),Ge=l.getTickSigns(Oe)[2],Oe.visible&&(l.drawTicks(pe,Oe,{vals:De,layer:at,path:"M"+(Ge="inside"===Oe.ticks?-1:1)*((Oe.linewidth||1)/2)+",0h"+Ge*Oe.ticklen,transFn:function(wt){var kt=pt(wt);return Ht(kt)+"rotate("+-c(kt)+")"}}),l.drawLabels(pe,Oe,{vals:De,layer:at,transFn:Ue,labelFns:Pt}));var tt=[We].concat(ye.gauge.steps),rt=et.selectAll("g.bg-arc").data(tt);rt.enter().append("g").classed("bg-arc",!0).append("path"),rt.select("path").call(ht).call(x),rt.exit().remove();var Ke=Et(ye.gauge.bar.thickness),it=et.selectAll("g.value-arc").data([ye.gauge.bar]);it.enter().append("g").classed("value-arc",!0).append("path");var gt,ft,Ve,qe=it.select("path");w(mt)?(qe.transition().duration(mt.duration).ease(mt.easing).each("end",function(){ct&&ct()}).each("interrupt",function(){ct&&ct()}).attrTween("d",(gt=Ke,ft=Dt(be[0].lastY),Ve=Dt(be[0].y),function(){var wt=E(ft,Ve);return function(kt){return gt.endAngle(wt(kt))()}})),ye._lastValue=be[0].y):qe.attr("d","number"==typeof be[0].y?Ke.endAngle(Dt(be[0].y)):"M0,0Z"),qe.call(x),it.exit().remove(),tt=[];var dt=ye.gauge.threshold.value;(dt||0===dt)&&tt.push({range:[dt,dt],color:ye.gauge.threshold.color,line:{color:ye.gauge.threshold.line.color,width:ye.gauge.threshold.line.width},thickness:ye.gauge.threshold.thickness});var ut=et.selectAll("g.threshold-arc").data(tt);ut.enter().append("g").classed("threshold-arc",!0).append("path"),ut.select("path").call(ht).call(x),ut.exit().remove();var At=et.selectAll("g.gauge-outline").data([He]);At.enter().append("g").classed("gauge-outline",!0).append("path"),At.select("path").call(ht).call(x),At.exit().remove()}(k,0,X,{radius:de,innerRadius:he,gauge:ve,layer:xe,size:oe,gaugeBg:H,gaugeOutline:G,transitionOpts:P,onComplete:N});var Fe=se.selectAll("g.bullet").data(Q?X:[]);Fe.exit().remove();var Se=se.selectAll("g.bulletaxis").data(Q?X:[]);Se.exit().remove(),Q&&function(pe,fe,be,Le){var Oe,De,Ue,Ge,ye,Ie=be[0].trace,Ee=Le.gauge,Be=Le.layer,We=Le.gaugeBg,He=Le.gaugeOutline,Je=Le.size,et=Ie.domain,at=Le.transitionOpts,mt=Le.onComplete;Ee.enter().append("g").classed("bullet",!0),Ee.attr("transform",v(Je.l,Je.t)),Be.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Be.selectAll("g.xbulletaxistick,path,text").remove();var ct=Je.h,St=Ie.gauge.bar.thickness*ct,Dt=et.x[0],Et=et.x[0]+(et.x[1]-et.x[0])*(Ie._hasNumber||Ie._hasDelta?1-a.bulletNumberDomainSize:1);function ht(rt){rt.attr("width",function(Ke){return Math.max(0,Oe.c2p(Ke.range[1])-Oe.c2p(Ke.range[0]))}).attr("x",function(Ke){return Oe.c2p(Ke.range[0])}).attr("y",function(Ke){return.5*(1-Ke.thickness)*ct}).attr("height",function(Ke){return Ke.thickness*ct})}(Oe=b(pe,Ie.gauge.axis))._id="xbulletaxis",Oe.domain=[Dt,Et],Oe.setScale(),De=l.calcTicks(Oe),Ue=l.makeTransTickFn(Oe),Ge=l.getTickSigns(Oe)[2],ye=Je.t+Je.h,Oe.visible&&(l.drawTicks(pe,Oe,{vals:"inside"===Oe.ticks?l.clipEnds(Oe,De):De,layer:Be,path:l.makeTickPath(Oe,ye,Ge),transFn:Ue}),l.drawLabels(pe,Oe,{vals:De,layer:Be,transFn:Ue,labelFns:l.makeLabelFns(Oe,ye)}));var pt=[We].concat(Ie.gauge.steps),Pt=Ee.selectAll("g.bg-bullet").data(pt);Pt.enter().append("g").classed("bg-bullet",!0).append("rect"),Pt.select("rect").call(ht).call(x),Pt.exit().remove();var Ft=Ee.selectAll("g.value-bullet").data([Ie.gauge.bar]);Ft.enter().append("g").classed("value-bullet",!0).append("rect"),Ft.select("rect").attr("height",St).attr("y",(ct-St)/2).call(x),w(at)?Ft.select("rect").transition().duration(at.duration).ease(at.easing).each("end",function(){mt&&mt()}).each("interrupt",function(){mt&&mt()}).attr("width",Math.max(0,Oe.c2p(Math.min(Ie.gauge.axis.range[1],be[0].y)))):Ft.select("rect").attr("width","number"==typeof be[0].y?Math.max(0,Oe.c2p(Math.min(Ie.gauge.axis.range[1],be[0].y))):0),Ft.exit().remove();var Ht=be.filter(function(){return Ie.gauge.threshold.value||0===Ie.gauge.threshold.value}),Lt=Ee.selectAll("g.threshold-bullet").data(Ht);Lt.enter().append("g").classed("threshold-bullet",!0).append("line"),Lt.select("line").attr("x1",Oe.c2p(Ie.gauge.threshold.value)).attr("x2",Oe.c2p(Ie.gauge.threshold.value)).attr("y1",(1-Ie.gauge.threshold.thickness)/2*ct).attr("y2",(1-(1-Ie.gauge.threshold.thickness)/2)*ct).call(h.stroke,Ie.gauge.threshold.line.color).style("stroke-width",Ie.gauge.threshold.line.width),Lt.exit().remove();var tt=Ee.selectAll("g.gauge-outline").data([He]);tt.enter().append("g").classed("gauge-outline",!0).append("rect"),tt.select("rect").call(ht).call(x),tt.exit().remove()}(k,0,X,{gauge:Fe,layer:Se,size:oe,gaugeBg:H,gaugeOutline:G,transitionOpts:P,onComplete:N});var ke=se.selectAll("text.title").data(X);ke.exit().remove(),ke.enter().append("text").classed("title",!0),ke.attr("text-anchor",function(){return Q?T.right:T[Y.title.align]}).text(Y.title.text).call(s.font,Y.title.font).call(o.convertToTspans,k),ke.attr("transform",function(){var pe,fe=oe.l+oe.w*_[Y.title.align],be=a.titlePadding,Le=s.bBox(ke.node());return te?(re&&(pe=Y.gauge.axis.visible?s.bBox(xe.node()).top-be-Le.bottom:oe.t+oe.h/2-de/2-Le.bottom-be),Q&&(pe=Z-(Le.top+Le.bottom)/2,fe=oe.l-a.bulletPadding*oe.w)):pe=Y._numbersTop-be-Le.bottom,v(fe,pe)})})}},16249:function(ae,B,r){"use strict";var D=r(50693),E=r(12663).axisHoverFormat,f=r(5386).fF,S=r(2418),M=r(9012),v=r(1426).extendFlat,c=r(30962).overrideAll,i=ae.exports=c(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:f(),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),valuehoverformat:E("value",1),showlegend:v({},M.showlegend,{dflt:!1})},D("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:S.opacity,lightposition:S.lightposition,lighting:S.lighting,flatshading:S.flatshading,contour:S.contour,hoverinfo:v({},M.hoverinfo)}),"calc","nested");i.flatshading.dflt=!0,i.lighting.facenormalsepsilon.dflt=0,i.x.editType=i.y.editType=i.z.editType=i.value.editType="calc+clearAxisTypes",i.transforms=void 0},56959:function(ae,B,r){"use strict";var D=r(78803),E=r(88489).processGrid,f=r(88489).filter;ae.exports=function(S,M){M._len=Math.min(M.x.length,M.y.length,M.z.length,M.value.length),M._x=f(M.x,M._len),M._y=f(M.y,M._len),M._z=f(M.z,M._len),M._value=f(M.value,M._len);var v=E(M);M._gridFill=v.fill,M._Xs=v.Xs,M._Ys=v.Ys,M._Zs=v.Zs,M._len=v.len;for(var c=1/0,i=-1/0,s=0;s<M._len;s++){var a=M._value[s];c=Math.min(c,a),i=Math.max(i,a)}M._minValues=c,M._maxValues=i,M._vMin=null==M.isomin?c:M.isomin,M._vMax=void 0===M.isomax||null===M.isomin?i:M.isomax,D(S,M,{vals:[M._vMin,M._vMax],containerStr:"",cLetter:"c"})}},22674:function(ae,B,r){"use strict";var D=r(9330).gl_mesh3d,E=r(81697).parseColorScale,f=r(78614),S=r(21081).extractOpts,M=r(90060),v=function(o,l){for(var u=l.length-1;u>0;u--){var d=Math.min(l[u],l[u-1]),m=Math.max(l[u],l[u-1]);if(m>d&&d<o&&o<=m)return{id:u,distRatio:(m-o)/(m-d)}}return{id:0,distRatio:0}};function c(o,l,u){this.scene=o,this.uid=u,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var i=c.prototype;i.handlePick=function(o){if(o.object===this.mesh){var l=o.data.index,d=this.data._meshY[l],m=this.data._meshZ[l],h=this.data._Ys.length,T=this.data._Zs.length,_=v(this.data._meshX[l],this.data._Xs).id,g=v(d,this.data._Ys).id,w=v(m,this.data._Zs).id,x=o.index=w+T*g+T*h*_;o.traceCoordinate=[this.data._meshX[x],this.data._meshY[x],this.data._meshZ[x],this.data._value[x]];var b=this.data.hovertext||this.data.text;return Array.isArray(b)&&void 0!==b[x]?o.textLabel=b[x]:b&&(o.textLabel=b),!0}},i.update=function(o){var l=this.scene,u=l.fullSceneLayout;function d(T,_,g,w){return _.map(function(x){return T.d2l(x,0,w)*g})}this.data=a(o);var m={positions:M(d(u.xaxis,o._meshX,l.dataScale[0],o.xcalendar),d(u.yaxis,o._meshY,l.dataScale[1],o.ycalendar),d(u.zaxis,o._meshZ,l.dataScale[2],o.zcalendar)),cells:M(o._meshI,o._meshJ,o._meshK),lightPosition:[o.lightposition.x,o.lightposition.y,o.lightposition.z],ambient:o.lighting.ambient,diffuse:o.lighting.diffuse,specular:o.lighting.specular,roughness:o.lighting.roughness,fresnel:o.lighting.fresnel,vertexNormalsEpsilon:o.lighting.vertexnormalsepsilon,faceNormalsEpsilon:o.lighting.facenormalsepsilon,opacity:o.opacity,contourEnable:o.contour.show,contourColor:f(o.contour.color).slice(0,3),contourWidth:o.contour.width,useFacetNormals:o.flatshading},h=S(o);m.vertexIntensity=o._meshIntensity,m.vertexIntensityBounds=[h.min,h.max],m.colormap=E(o),this.mesh.update(m)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var s=["xyz","xzy","yxz","yzx","zxy","zyx"];function a(o){o._meshI=[],o._meshJ=[],o._meshK=[];var l,u,d,m,h,T,_,g=o.surface.show,w=o.spaceframe.show,x=o.surface.fill,b=o.spaceframe.fill,A=!1,p=!1,O=0,k=o._Xs,I=o._Ys,P=o._Zs,R=k.length,N=I.length,j=P.length,X=s.indexOf(o._gridFill.replace(/-/g,"").replace(/\+/g,"")),F=function(Ee,Be,We){switch(X){case 5:return We+j*Be+j*N*Ee;case 4:return We+j*Ee+j*R*Be;case 3:return Be+N*We+N*j*Ee;case 2:return Be+N*Ee+N*R*We;case 1:return Ee+R*We+R*j*Be;default:return Ee+R*Be+R*N*We}},Z=o._minValues,W=o._maxValues,H=o._vMin,G=o._vMax;function Y(Ee,Be,We){for(var He=T.length,Je=u;Je<He;Je++)if(Ee===d[Je]&&Be===m[Je]&&We===h[Je])return Je;return-1}function se(){u=l}function te(){d=[],m=[],h=[],T=[],l=0,se()}function re(Ee,Be,We,He){return d.push(Ee),m.push(Be),h.push(We),T.push(He),++l-1}function Q(Ee,Be,We){for(var He=[],Je=0;Je<Ee.length;Je++)He[Je]=Ee[Je]*(1-We)+We*Be[Je];return He}function ee(Ee){_=Ee}function oe(Ee,Be){return"all"===Ee||null===Ee||Ee.indexOf(Be)>-1}function le(Ee,Be){return null===Ee?Be:Ee}function ue(Ee,Be,We){se();var Je,et,Lt,tt,rt,Ke,it,gt,ft,Ve,qe,dt,ut,At,wt,at=[Be],mt=[We];if(_>=1)at=[Be],mt=[We];else if(_>0){var ct=(tt=We,Ve=Q(gt=function(kt,_t,Rt){for(var bt=[],Tt=0;Tt<kt.length;Tt++)bt[Tt]=(kt[Tt]+_t[Tt]+Rt[Tt])/3;return bt}(rt=(Lt=Be)[0],Ke=Lt[1],it=Lt[2]),rt,ft=Math.sqrt(1-_)),{xyzv:[[rt,Ke,qe=Q(gt,Ke,ft)],[qe,Ve,rt],[Ke,it,dt=Q(gt,it,ft)],[dt,qe,Ke],[it,rt,Ve],[Ve,dt,it]],abc:[[ut=tt[0],At=tt[1],-1],[-1,-1,ut],[At,wt=tt[2],-1],[-1,-1,At],[wt,ut,-1],[-1,-1,wt]]});at=ct.xyzv,mt=ct.abc}for(var St=0;St<at.length;St++){Be=at[St],We=mt[St];for(var Dt=[],Et=0;Et<3;Et++){var ht=Be[Et][0],pt=Be[Et][1],Pt=Be[Et][2],Ft=Be[Et][3],Ht=We[Et]>-1?We[Et]:Y(ht,pt,Pt);Dt[Et]=Ht>-1?Ht:re(ht,pt,Pt,le(Ee,Ft))}Je=Dt[1],et=Dt[2],o._meshI.push(Dt[0]),o._meshJ.push(Je),o._meshK.push(et),++O}}function de(Ee,Be,We,He){var Je=Ee[3];Je<We&&(Je=We),Je>He&&(Je=He);for(var et=(Ee[3]-Je)/(Ee[3]-Be[3]+1e-9),at=[],mt=0;mt<4;mt++)at[mt]=(1-et)*Ee[mt]+et*Be[mt];return at}function he(Ee,Be,We){return Ee>=Be&&Ee<=We}function we(Ee){var Be=.001*(G-H);return Ee>=H-Be&&Ee<=G+Be}function Ae(Ee){for(var Be=[],We=0;We<4;We++){var He=Ee[We];Be.push([o._x[He],o._y[He],o._z[He],o._value[He]])}return Be}var Te=3;function ve(Ee,Be,We,He,Je,et){et||(et=1),We=[-1,-1,-1];var at=!1,mt=[he(Be[0][3],He,Je),he(Be[1][3],He,Je),he(Be[2][3],He,Je)];if(!mt[0]&&!mt[1]&&!mt[2])return!1;var ct=function(Dt,Et,ht){return we(Et[0][3])&&we(Et[1][3])&&we(Et[2][3])?(ue(Dt,Et,ht),!0):et<Te&&ve(Dt,Et,ht,H,G,++et)};if(mt[0]&&mt[1]&&mt[2])return ct(Ee,Be,We)||at;var St=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(Dt){if(mt[Dt[0]]&&mt[Dt[1]]&&!mt[Dt[2]]){var Et=Be[Dt[0]],ht=Be[Dt[1]],pt=Be[Dt[2]],Pt=de(pt,Et,He,Je),Ft=de(pt,ht,He,Je);at=ct(Ee,[Ft,Pt,Et],[-1,-1,We[Dt[0]]])||at,at=ct(Ee,[Et,ht,Ft],[We[Dt[0]],We[Dt[1]],-1])||at,St=!0}}),St||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(Dt){if(mt[Dt[0]]&&!mt[Dt[1]]&&!mt[Dt[2]]){var Et=Be[Dt[0]],pt=Be[Dt[2]],Pt=de(Be[Dt[1]],Et,He,Je),Ft=de(pt,Et,He,Je);at=ct(Ee,[Ft,Pt,Et],[-1,-1,We[Dt[0]]])||at,St=!0}}),at}function xe(Ee,Be,We,He){var ct,St,Dt,Et,Je=!1,et=Ae(Be),at=[he(et[0][3],We,He),he(et[1][3],We,He),he(et[2][3],We,He),he(et[3][3],We,He)];if(!(at[0]||at[1]||at[2]||at[3]))return Je;if(at[0]&&at[1]&&at[2]&&at[3])return p&&(ct=Ee,St=et,Dt=Be,(Et=function(ht,pt,Pt){ue(ct,[St[ht],St[pt],St[Pt]],[Dt[ht],Dt[pt],Dt[Pt]])})(0,1,2),Et(3,0,1),Et(2,3,0),Je=void Et(1,2,3)||Je),Je;var mt=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(ct){if(at[ct[0]]&&at[ct[1]]&&at[ct[2]]&&!at[ct[3]]){var St=et[ct[0]],Dt=et[ct[1]],Et=et[ct[2]],ht=et[ct[3]];if(p)Je=ue(Ee,[St,Dt,Et],[Be[ct[0]],Be[ct[1]],Be[ct[2]]])||Je;else{var pt=de(ht,St,We,He),Pt=de(ht,Dt,We,He),Ft=de(ht,Et,We,He);Je=ue(null,[pt,Pt,Ft],[-1,-1,-1])||Je}mt=!0}}),mt||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(ct){if(at[ct[0]]&&at[ct[1]]&&!at[ct[2]]&&!at[ct[3]]){var St=et[ct[0]],Dt=et[ct[1]],Et=et[ct[2]],ht=et[ct[3]],pt=de(Et,St,We,He),Pt=de(Et,Dt,We,He),Ft=de(ht,Dt,We,He),Ht=de(ht,St,We,He);p?(Je=ue(Ee,[St,Ht,pt],[Be[ct[0]],-1,-1])||Je,Je=ue(Ee,[Dt,Pt,Ft],[Be[ct[1]],-1,-1])||Je):(tt=[pt,Pt,Ft,Ht],rt=[-1,-1,-1,-1],(Ke=function(it,gt,ft){ue(null,[tt[it],tt[gt],tt[ft]],[rt[it],rt[gt],rt[ft]])})(0,1,2),Je=void Ke(2,3,0)||Je),mt=!0}var tt,rt,Ke}),mt||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(ct){if(at[ct[0]]&&!at[ct[1]]&&!at[ct[2]]&&!at[ct[3]]){var St=et[ct[0]],Et=et[ct[2]],ht=et[ct[3]],pt=de(et[ct[1]],St,We,He),Pt=de(Et,St,We,He),Ft=de(ht,St,We,He);p?(Je=ue(Ee,[St,pt,Pt],[Be[ct[0]],-1,-1])||Je,Je=ue(Ee,[St,Pt,Ft],[Be[ct[0]],-1,-1])||Je,Je=ue(Ee,[St,Ft,pt],[Be[ct[0]],-1,-1])||Je):Je=ue(null,[pt,Pt,Ft],[-1,-1,-1])||Je,mt=!0}})),Je}function Fe(Ee,Be,We,He,Je,et,at,mt,ct,St,Dt){var Et=!1;return A&&(oe(Ee,"A")&&(Et=xe(null,[Be,We,He,et],St,Dt)||Et),oe(Ee,"B")&&(Et=xe(null,[We,He,Je,ct],St,Dt)||Et),oe(Ee,"C")&&(Et=xe(null,[We,et,at,ct],St,Dt)||Et),oe(Ee,"D")&&(Et=xe(null,[He,et,mt,ct],St,Dt)||Et),oe(Ee,"E")&&(Et=xe(null,[We,He,et,ct],St,Dt)||Et)),p&&(Et=xe(Ee,[We,He,et,ct],St,Dt)||Et),Et}function Se(Ee,Be,We,He,Je,et,at,mt){return[!0===mt[0]||ve(Ee,Ae([Be,We,He]),[Be,We,He],et,at),!0===mt[1]||ve(Ee,Ae([He,Je,Be]),[He,Je,Be],et,at)]}function ke(Ee,Be,We,He,Je,et,at,mt,ct){return mt?Se(Ee,Be,We,Je,He,et,at,ct):Se(Ee,We,Je,He,Be,et,at,ct)}function pe(Ee,Be,We,He,Je,et,at){var mt,ct,St,Dt,Et=!1,ht=function(){Et=ve(Ee,[mt,ct,St],[-1,-1,-1],Je,et)||Et,Et=ve(Ee,[St,Dt,mt],[-1,-1,-1],Je,et)||Et},pt=at[0],Pt=at[1],Ft=at[2];return pt&&(mt=Q(Ae([F(Be,We-0,He-0)])[0],Ae([F(Be-1,We-0,He-0)])[0],pt),ct=Q(Ae([F(Be,We-0,He-1)])[0],Ae([F(Be-1,We-0,He-1)])[0],pt),St=Q(Ae([F(Be,We-1,He-1)])[0],Ae([F(Be-1,We-1,He-1)])[0],pt),Dt=Q(Ae([F(Be,We-1,He-0)])[0],Ae([F(Be-1,We-1,He-0)])[0],pt),ht()),Pt&&(mt=Q(Ae([F(Be-0,We,He-0)])[0],Ae([F(Be-0,We-1,He-0)])[0],Pt),ct=Q(Ae([F(Be-0,We,He-1)])[0],Ae([F(Be-0,We-1,He-1)])[0],Pt),St=Q(Ae([F(Be-1,We,He-1)])[0],Ae([F(Be-1,We-1,He-1)])[0],Pt),Dt=Q(Ae([F(Be-1,We,He-0)])[0],Ae([F(Be-1,We-1,He-0)])[0],Pt),ht()),Ft&&(mt=Q(Ae([F(Be-0,We-0,He)])[0],Ae([F(Be-0,We-0,He-1)])[0],Ft),ct=Q(Ae([F(Be-0,We-1,He)])[0],Ae([F(Be-0,We-1,He-1)])[0],Ft),St=Q(Ae([F(Be-1,We-1,He)])[0],Ae([F(Be-1,We-1,He-1)])[0],Ft),Dt=Q(Ae([F(Be-1,We-0,He)])[0],Ae([F(Be-1,We-0,He-1)])[0],Ft),ht()),Et}function fe(Ee,Be,We,He,Je,et,at,mt,ct,St,Dt,Et){var ht=Ee;return Et?(A&&"even"===Ee&&(ht=null),Fe(ht,Be,We,He,Je,et,at,mt,ct,St,Dt)):(A&&"odd"===Ee&&(ht=null),Fe(ht,ct,mt,at,et,Je,He,We,Be,St,Dt))}function be(Ee,Be,We,He,Je){for(var et=[],at=0,mt=0;mt<Be.length;mt++)for(var ct=Be[mt],St=1;St<j;St++)for(var Dt=1;Dt<N;Dt++)et.push(ke(Ee,F(ct,Dt-1,St-1),F(ct,Dt-1,St),F(ct,Dt,St-1),F(ct,Dt,St),We,He,(ct+Dt+St)%2,Je&&Je[at]?Je[at]:[])),at++;return et}function Le(Ee,Be,We,He,Je){for(var et=[],at=0,mt=0;mt<Be.length;mt++)for(var ct=Be[mt],St=1;St<R;St++)for(var Dt=1;Dt<j;Dt++)et.push(ke(Ee,F(St-1,ct,Dt-1),F(St,ct,Dt-1),F(St-1,ct,Dt),F(St,ct,Dt),We,He,(St+ct+Dt)%2,Je&&Je[at]?Je[at]:[])),at++;return et}function Oe(Ee,Be,We,He,Je){for(var et=[],at=0,mt=0;mt<Be.length;mt++)for(var ct=Be[mt],St=1;St<N;St++)for(var Dt=1;Dt<R;Dt++)et.push(ke(Ee,F(Dt-1,St-1,ct),F(Dt-1,St,ct),F(Dt,St-1,ct),F(Dt,St,ct),We,He,(Dt+St+ct)%2,Je&&Je[at]?Je[at]:[])),at++;return et}function De(Ee,Be,We){for(var He=1;He<j;He++)for(var Je=1;Je<N;Je++)for(var et=1;et<R;et++)fe(Ee,F(et-1,Je-1,He-1),F(et-1,Je-1,He),F(et-1,Je,He-1),F(et-1,Je,He),F(et,Je-1,He-1),F(et,Je-1,He),F(et,Je,He-1),F(et,Je,He),Be,We,(et+Je+He)%2)}function Ue(Ee,Be,We,He,Je,et){for(var at=[],ct=0;ct<Be.length;ct++)for(var St=Be[ct],Dt=1;Dt<j;Dt++)for(var Et=1;Et<N;Et++)at.push(pe(Ee,St,Et,Dt,We,He,Je[ct]));return at}function Ge(Ee,Be,We,He,Je,et){for(var at=[],ct=0;ct<Be.length;ct++)for(var St=Be[ct],Dt=1;Dt<R;Dt++)for(var Et=1;Et<j;Et++)at.push(pe(Ee,Dt,St,Et,We,He,Je[ct]));return at}function ye(Ee,Be,We,He,Je,et){for(var at=[],ct=0;ct<Be.length;ct++)for(var St=Be[ct],Dt=1;Dt<N;Dt++)for(var Et=1;Et<R;Et++)at.push(pe(Ee,Et,Dt,St,We,He,Je[ct]));return at}function Ie(Ee,Be){for(var We=[],He=Ee;He<Be;He++)We.push(He);return We}return function(){te(),function(){for(var ct=0;ct<R;ct++)for(var St=0;St<N;St++)for(var Dt=0;Dt<j;Dt++){var Et=F(ct,St,Dt);re(o._x[Et],o._y[Et],o._z[Et],o._value[Et])}}();var Ee=null;if(w&&b&&(ee(b),p=!0,De(Ee,H,G),p=!1),g&&x){ee(x);for(var Be=o.surface.pattern,We=o.surface.count,He=0;He<We;He++){var Je=1===We?.5:He/(We-1),et=(1-Je)*H+Je*G,at=Math.abs(et-Z)>Math.abs(et-W)?[Z,et]:[et,W];A=!0,De(Be,at[0],at[1]),A=!1}}var mt=[[Math.min(H,W),Math.max(H,W)],[Math.min(Z,G),Math.max(Z,G)]];["x","y","z"].forEach(function(ct){for(var St=[],Dt=0;Dt<mt.length;Dt++){var Et=0,ht=mt[Dt][0],pt=mt[Dt][1],Pt=o.slices[ct];if(Pt.show&&Pt.fill){ee(Pt.fill);var Ft=[],Ht=[],Lt=[];if(Pt.locations.length)for(var tt=0;tt<Pt.locations.length;tt++){var rt=v(Pt.locations[tt],"x"===ct?k:"y"===ct?I:P);0===rt.distRatio?Ft.push(rt.id):rt.id>0&&(Ht.push(rt.id),Lt.push("x"===ct?[rt.distRatio,0,0]:"y"===ct?[0,rt.distRatio,0]:[0,0,rt.distRatio]))}else Ft=Ie(1,"x"===ct?R-1:"y"===ct?N-1:j-1);Ht.length>0&&(St[Et]="x"===ct?Ue(Ee,Ht,ht,pt,Lt):"y"===ct?Ge(Ee,Ht,ht,pt,Lt):ye(Ee,Ht,ht,pt,Lt),Et++),Ft.length>0&&(St[Et]="x"===ct?be(Ee,Ft,ht,pt,St[Et]):"y"===ct?Le(Ee,Ft,ht,pt,St[Et]):Oe(Ee,Ft,ht,pt,St[Et]),Et++)}var Ke=o.caps[ct];Ke.show&&Ke.fill&&(ee(Ke.fill),St[Et]="x"===ct?be(Ee,[0,R-1],ht,pt,St[Et]):"y"===ct?Le(Ee,[0,N-1],ht,pt,St[Et]):Oe(Ee,[0,j-1],ht,pt,St[Et]),Et++)}}),0===O&&te(),o._meshX=d,o._meshY=m,o._meshZ=h,o._meshIntensity=T,o._Xs=k,o._Ys=I,o._Zs=P}(),o}ae.exports={findNearestOnAxis:v,generateIsoMeshes:a,createIsosurfaceTrace:function(o,l){var d=D({gl:o.glplot.gl}),m=new c(o,d,l.uid);return d._trace=m,m.update(l),o.glplot.add(d),m}}},82738:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),f=r(16249),S=r(1586);function M(v,c,i,s,a){var o=a("isomin"),l=a("isomax");null!=l&&null!=o&&o>l&&(c.isomin=null,c.isomax=null);var u=a("x"),d=a("y"),m=a("z"),h=a("value");u&&u.length&&d&&d.length&&m&&m.length&&h&&h.length?(E.getComponentMethod("calendars","handleTraceDefaults")(v,c,["x","y","z"],s),a("valuehoverformat"),["x","y","z"].forEach(function(T){a(T+"hoverformat");var _="caps."+T;a(_+".show")&&a(_+".fill");var g="slices."+T;a(g+".show")&&(a(g+".fill"),a(g+".locations"))}),a("spaceframe.show")&&a("spaceframe.fill"),a("surface.show")&&(a("surface.count"),a("surface.fill"),a("surface.pattern")),a("contour.show")&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(T){a(T)}),S(v,c,s,a,{prefix:"",cLetter:"c"}),c._length=null):c.visible=!1}ae.exports={supplyDefaults:function(v,c,i,s){M(v,c,0,s,function(a,o){return D.coerce(v,c,f,a,o)})},supplyIsoDefaults:M}},64943:function(ae,B,r){"use strict";ae.exports={attributes:r(16249),supplyDefaults:r(82738).supplyDefaults,calc:r(56959),colorbar:{min:"cmin",max:"cmax"},plot:r(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:r(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(ae,B,r){"use strict";var D=r(50693),E=r(12663).axisHoverFormat,f=r(5386).fF,S=r(54532),M=r(9012),v=r(1426).extendFlat;ae.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:f({editType:"calc"}),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},D("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:S.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},S.contours.x.show,{}),color:S.contours.x.color,width:S.contours.x.width,editType:"calc"},lightposition:{x:v({},S.lightposition.x,{dflt:1e5}),y:v({},S.lightposition.y,{dflt:1e5}),z:v({},S.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},S.lighting),hoverinfo:v({},M.hoverinfo,{editType:"calc"}),showlegend:v({},M.showlegend,{dflt:!1})})},82932:function(ae,B,r){"use strict";var D=r(78803);ae.exports=function(E,f){f.intensity&&D(E,f,{vals:f.intensity,containerStr:"",cLetter:"c"})}},91134:function(ae,B,r){"use strict";var D=r(9330).gl_mesh3d,E=r(9330).delaunay_triangulate,f=r(9330).alpha_shape,S=r(9330).convex_hull,M=r(81697).parseColorScale,v=r(78614),c=r(21081).extractOpts,i=r(90060);function s(m,h,T){this.scene=m,this.uid=T,this.mesh=h,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var a=s.prototype;function o(m){for(var h=[],T=m.length,_=0;_<T;_++)h[_]=v(m[_]);return h}function l(m,h,T,_){for(var g=[],w=h.length,x=0;x<w;x++)g[x]=m.d2l(h[x],0,_)*T;return g}function u(m){for(var h=[],T=m.length,_=0;_<T;_++)h[_]=Math.round(m[_]);return h}function d(m,h){for(var T=m.length,_=0;_<T;_++)if(m[_]<=-.5||m[_]>=h-.5)return!1;return!0}a.handlePick=function(m){if(m.object===this.mesh){var h=m.index=m.data.index;m.traceCoordinate=m.data._cellCenter?m.data.dataCoordinate:[this.data.x[h],this.data.y[h],this.data.z[h]];var T=this.data.hovertext||this.data.text;return Array.isArray(T)&&void 0!==T[h]?m.textLabel=T[h]:T&&(m.textLabel=T),!0}},a.update=function(m){var h=this.scene,T=h.fullSceneLayout;this.data=m;var _,g=m.x.length,w=i(l(T.xaxis,m.x,h.dataScale[0],m.xcalendar),l(T.yaxis,m.y,h.dataScale[1],m.ycalendar),l(T.zaxis,m.z,h.dataScale[2],m.zcalendar));if(m.i&&m.j&&m.k){if(m.i.length!==m.j.length||m.j.length!==m.k.length||!d(m.i,g)||!d(m.j,g)||!d(m.k,g))return;_=i(u(m.i),u(m.j),u(m.k))}else _=0===m.alphahull?S(w):m.alphahull>0?f(m.alphahull,w):function(p,O){for(var k=["x","y","z"].indexOf(p),I=[],P=O.length,R=0;R<P;R++)I[R]=[O[R][(k+1)%3],O[R][(k+2)%3]];return E(I)}(m.delaunayaxis,w);var x={positions:w,cells:_,lightPosition:[m.lightposition.x,m.lightposition.y,m.lightposition.z],ambient:m.lighting.ambient,diffuse:m.lighting.diffuse,specular:m.lighting.specular,roughness:m.lighting.roughness,fresnel:m.lighting.fresnel,vertexNormalsEpsilon:m.lighting.vertexnormalsepsilon,faceNormalsEpsilon:m.lighting.facenormalsepsilon,opacity:m.opacity,contourEnable:m.contour.show,contourColor:v(m.contour.color).slice(0,3),contourWidth:m.contour.width,useFacetNormals:m.flatshading};if(m.intensity){var b=c(m);this.color="#fff";var A=m.intensitymode;x[A+"Intensity"]=m.intensity,x[A+"IntensityBounds"]=[b.min,b.max],x.colormap=M(m)}else m.vertexcolor?(this.color=m.vertexcolor[0],x.vertexColors=o(m.vertexcolor)):m.facecolor?(this.color=m.facecolor[0],x.cellColors=o(m.facecolor)):(this.color=m.color,x.meshColor=v(m.color));this.mesh.update(x)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ae.exports=function(m,h){var _=D({gl:m.glplot.gl}),g=new s(m,_,h.uid);return _._trace=g,g.update(h),m.glplot.add(_),g}},58669:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(1586),S=r(2418);ae.exports=function(M,v,c,i){function s(o,l){return E.coerce(M,v,S,o,l)}function a(o){var l=o.map(function(u){var d=s(u);return d&&E.isArrayOrTypedArray(d)?d:null});return l.every(function(u){return u&&u.length===l[0].length})&&l}a(["x","y","z"])?(a(["i","j","k"]),(!v.i||v.j&&v.k)&&(!v.j||v.k&&v.i)&&(!v.k||v.i&&v.j)?(D.getComponentMethod("calendars","handleTraceDefaults")(M,v,["x","y","z"],i),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(o){s(o)}),s("contour.show")&&(s("contour.color"),s("contour.width")),"intensity"in M?(s("intensity"),s("intensitymode"),f(M,v,i,s,{prefix:"",cLetter:"c"})):(v.showscale=!1,"facecolor"in M?s("facecolor"):"vertexcolor"in M?s("vertexcolor"):s("color",c)),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),v._length=null):v.visible=!1):v.visible=!1}},21164:function(ae,B,r){"use strict";ae.exports={attributes:r(2418),supplyDefaults:r(58669),calc:r(82932),colorbar:{min:"cmin",max:"cmax"},plot:r(91134),moduleType:"trace",name:"mesh3d",basePlotModule:r(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(ae,B,r){"use strict";var D=r(71828).extendFlat,E=r(82196),f=r(12663).axisHoverFormat,S=r(79952).P,M=r(77914),v=r(22372),c=v.INCREASING.COLOR,i=v.DECREASING.COLOR,s=E.line;function a(o){return{line:{color:D({},s.color,{dflt:o}),width:s.width,dash:S,editType:"style"},editType:"style"}}ae.exports={xperiod:E.xperiod,xperiod0:E.xperiod0,xperiodalignment:E.xperiodalignment,xhoverformat:f("x"),yhoverformat:f("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:D({},s.width,{}),dash:D({},S,{}),editType:"style"},increasing:a(c),decreasing:a(i),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:D({},M.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(ae,B,r){"use strict";var D=r(71828),E=D._,f=r(89298),S=r(42973),M=r(50606).BADNUM;function v(i,s,a,o){return{o:i,h:s,l:a,c:o}}function c(i,s,a,o,l,u){for(var d=l.makeCalcdata(s,"open"),m=l.makeCalcdata(s,"high"),h=l.makeCalcdata(s,"low"),T=l.makeCalcdata(s,"close"),_=Array.isArray(s.text),g=Array.isArray(s.hovertext),w=!0,x=null,b=!!s.xperiodalignment,A=[],p=0;p<o.length;p++){var O=o[p],k=d[p],I=m[p],P=h[p],R=T[p];if(O!==M&&k!==M&&I!==M&&P!==M&&R!==M){R===k?null!==x&&R!==x&&(w=R>x):w=R>k,x=R;var N=u(k,I,P,R);N.pos=O,N.yc=(k+R)/2,N.i=p,N.dir=w?"increasing":"decreasing",N.x=N.pos,N.y=[P,I],b&&(N.orig_p=a[p]),_&&(N.tx=s.text[p]),g&&(N.htx=s.hovertext[p]),A.push(N)}else A.push({pos:O,empty:!0})}return s._extremes[l._id]=f.findExtremes(l,D.concat(h,m),{padded:!0}),A.length&&(A[0].t={labels:{open:E(i,"open:")+" ",high:E(i,"high:")+" ",low:E(i,"low:")+" ",close:E(i,"close:")+" "}}),A}ae.exports={calc:function(i,s){var a=f.getFromId(i,s.xaxis),o=f.getFromId(i,s.yaxis),l=function(T,_,g){var w=g._minDiff;if(!w){var x,b=T._fullData,A=[];for(w=1/0,x=0;x<b.length;x++){var p=b[x];if("ohlc"===p.type&&!0===p.visible&&p.xaxis===_._id){A.push(p);var O=_.makeCalcdata(p,"x");p._origX=O;var k=S(g,_,"x",O).vals;p._xcalc=k;var I=D.distinctVals(k).minDiff;I&&isFinite(I)&&(w=Math.min(w,I))}}for(w===1/0&&(w=1),x=0;x<A.length;x++)A[x]._minDiff=w}return w*g.tickwidth}(i,a,s),u=s._minDiff;s._minDiff=null;var d=s._origX;s._origX=null;var m=s._xcalc;s._xcalc=null;var h=c(i,s,d,m,o,v);return s._extremes[a._id]=f.findExtremes(a,m,{vpad:u/2}),h.length?(D.extendFlat(h[0].t,{wHover:u/2,tickLen:l}),h):[{t:{empty:!0}}]},calcCommon:c}},16169:function(ae,B,r){"use strict";var D=r(71828),E=r(14555),f=r(73927),S=r(2522);function M(v,c,i,s){i(s+".line.color"),i(s+".line.width",c.line.width),i(s+".line.dash",c.line.dash)}ae.exports=function(v,c,i,s){function a(o,l){return D.coerce(v,c,S,o,l)}E(v,c,a,s)?(f(v,c,s,a,{x:!0}),a("xhoverformat"),a("yhoverformat"),a("line.width"),a("line.dash"),M(0,c,a,"increasing"),M(0,c,a,"decreasing"),a("text"),a("hovertext"),a("tickwidth"),s._requestRangeslider[c.xaxis]=!0):c.visible=!1}},66449:function(ae,B,r){"use strict";var D=r(89298),E=r(71828),f=r(30211),S=r(7901),M=r(71828).fillText,v=r(22372),c={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function i(o,l,u,d){var m,h,T=o.cd,_=o.xa,g=T[0].trace,w=T[0].t,x=g.type,b="ohlc"===x?"l":"min",A="ohlc"===x?"h":"max",p=w.bPos||0,O=function(H){return H.pos+p-l},k=w.bdPos||w.tickLen,I=w.wHover,P=Math.min(1,k/Math.abs(_.r2c(_.range[1])-_.r2c(_.range[0])));function R(H){var G=O(H);return f.inbox(G-I,G+I,m)}function N(H){var G=H[b],Y=H[A];return G===Y||f.inbox(G-u,Y-u,m)}function j(H){return(R(H)+N(H))/2}m=o.maxHoverDistance-P,h=o.maxSpikeDistance-P;var X=f.getDistanceFunction(d,R,N,j);if(f.getClosest(T,X,o),!1===o.index)return null;var F=T[o.index];if(F.empty)return null;var Z=g[F.dir],W=Z.line.color;return o.color=S.opacity(W)&&Z.line.width?W:Z.fillcolor,o.x0=_.c2p(F.pos+p-k,!0),o.x1=_.c2p(F.pos+p+k,!0),o.xLabelVal=void 0!==F.orig_p?F.orig_p:F.pos,o.spikeDistance=j(F)*h/m,o.xSpike=_.c2p(F.pos,!0),o}function s(o,l,u,d){var m=o.cd,h=o.ya,T=m[0].trace,_=m[0].t,g=[],w=i(o,l,u,d);if(!w)return[];var x=m[w.index].hi||T.hoverinfo,b=x.split("+");if("all"!==x&&-1===b.indexOf("y"))return[];for(var A=["high","open","close","low"],p={},O=0;O<A.length;O++){var k,I=A[O],P=T[I][w.index],R=h.c2p(P,!0);P in p?(k=p[P]).yLabel+="<br>"+_.labels[I]+D.hoverLabelText(h,P,T.yhoverformat):((k=E.extendFlat({},w)).y0=k.y1=R,k.yLabelVal=P,k.yLabel=_.labels[I]+D.hoverLabelText(h,P,T.yhoverformat),k.name="",g.push(k),p[P]=k)}return g}function a(o,l,u,d){var m=o.cd,h=o.ya,T=m[0].trace,_=m[0].t,g=i(o,l,u,d);if(!g)return[];var w=m[g.index],x=g.index=w.i,b=w.dir;function A(N){return _.labels[N]+D.hoverLabelText(h,T[N][x],T.yhoverformat)}var p=w.hi||T.hoverinfo,O=p.split("+"),k="all"===p,I=k||-1!==O.indexOf("y"),P=k||-1!==O.indexOf("text"),R=I?[A("open"),A("high"),A("low"),A("close")+"  "+c[b]]:[];return P&&M(w,T,R),g.extraText=R.join("<br>"),g.y0=g.y1=h.c2p(w.yc,!0),[g]}ae.exports={hoverPoints:function(o,l,u,d){return o.cd[0].trace.hoverlabel.split?s(o,l,u,d):a(o,l,u,d)},hoverSplit:s,hoverOnPoints:a}},54186:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"ohlc",basePlotModule:r(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:r(2522),supplyDefaults:r(16169),calc:r(3485).calc,plot:r(72314),style:r(53101),hoverPoints:r(66449).hoverPoints,selectPoints:r(67324)}},14555:function(ae,B,r){"use strict";var D=r(73972),E=r(71828);ae.exports=function(f,S,M,v){var c=M("x"),i=M("open"),s=M("high"),a=M("low"),o=M("close");if(M("hoverlabel.split"),D.getComponentMethod("calendars","handleTraceDefaults")(f,S,["x"],v),i&&s&&a&&o){var l=Math.min(i.length,s.length,a.length,o.length);return c&&(l=Math.min(l,E.minRowLength(c))),S._length=l,l}}},72314:function(ae,B,r){"use strict";var D=r(39898),E=r(71828);ae.exports=function(f,S,M,v){var c=S.yaxis,i=S.xaxis,s=!!i.rangebreaks;E.makeTraceGroups(v,M,"trace ohlc").each(function(a){var o=D.select(this),l=a[0],u=l.t;if(!0!==l.trace.visible||u.empty)o.remove();else{var d=u.tickLen,m=o.selectAll("path").data(E.identity);m.enter().append("path"),m.exit().remove(),m.attr("d",function(h){if(h.empty)return"M0,0Z";var T=i.c2p(h.pos-d,!0),_=i.c2p(h.pos+d,!0),g=s?(T+_)/2:i.c2p(h.pos,!0);return"M"+T+","+c.c2p(h.o,!0)+"H"+g+"M"+g+","+c.c2p(h.h,!0)+"V"+c.c2p(h.l,!0)+"M"+_+","+c.c2p(h.c,!0)+"H"+g})}})}},67324:function(ae){"use strict";ae.exports=function(B,r){var D,E=B.cd,f=B.xaxis,S=B.yaxis,M=[],v=E[0].t.bPos||0;if(!1===r)for(D=0;D<E.length;D++)E[D].selected=0;else for(D=0;D<E.length;D++){var c=E[D];r.contains([f.c2p(c.pos+v),S.c2p(c.yc)],null,c.i,B)?(M.push({pointNumber:c.i,x:f.c2d(c.pos),y:S.c2d(c.yc)}),c.selected=1):c.selected=0}return M}},53101:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(7901);ae.exports=function(S,M,v){var c=v||D.select(S).selectAll("g.ohlclayer").selectAll("g.trace");c.style("opacity",function(i){return i[0].trace.opacity}),c.each(function(i){var s=i[0].trace;D.select(this).selectAll("path").each(function(a){if(!a.empty){var o=s[a.dir].line;D.select(this).style("fill","none").call(f.stroke,o.color).call(E.dashLine,o.dash,o.width).style("opacity",s.selectedpoints&&!a.selected?.3:1)}})})}},99506:function(ae,B,r){"use strict";var D=r(1426).extendFlat,E=r(9012),f=r(41940),S=r(50693),M=r(5386).fF,v=r(27670).Y,c=D({editType:"calc"},S("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});ae.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:D({},E.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:f({editType:"calc"}),tickfont:f({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:c,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(ae,B,r){"use strict";var D=r(27659).a0,E=r(45784),f="parcats";B.name=f,B.plot=function(S,M,v,c){var i=D(S.calcdata,f);i.length&&E(S,i[0],v,c)},B.clean=function(S,M,v,c){var i=c._has&&c._has("parcats"),s=M._has&&M._has("parcats");i&&!s&&c._paperdiv.selectAll(".parcats").remove()}},28699:function(ae,B,r){"use strict";var D=r(28984).wrap,E=r(52075).hasColorscale,f=r(78803),S=r(75744),M=r(91424),v=r(71828),c=r(92770);function i(o,l,u){o.valueInds.push(l),o.count+=u}function s(o,l,u){return{categoryInds:o,color:l,rawColor:u,valueInds:[],count:0}}function a(o,l,u){o.valueInds.push(l),o.count+=u}ae.exports=function(o,l){var u=v.filterVisible(l.dimensions);if(0===u.length)return[];var d,m,h,T=u.map(function(Y){var se;if("trace"===Y.categoryorder)se=null;else if("array"===Y.categoryorder)se=Y.categoryarray;else{se=S(Y.values);for(var te=!0,re=0;re<se.length;re++)if(!c(se[re])){te=!1;break}se.sort(te?v.sorterAsc:void 0),"category descending"===Y.categoryorder&&(se=se.reverse())}return function(Q,ee){ee=null==ee?[]:ee.map(function(Te){return Te});var oe={},le={},ue=[];ee.forEach(function(Te,ve){oe[Te]=0,le[Te]=ve});for(var de=0;de<Q.length;de++){var he,we=Q[de];void 0===oe[we]?(oe[we]=1,he=ee.push(we)-1,le[we]=he):(oe[we]++,he=le[we]),ue.push(he)}var Ae=ee.map(function(Te){return oe[Te]});return{uniqueValues:ee,uniqueCounts:Ae,inds:ue}}(Y.values,se)});d=v.isArrayOrTypedArray(l.counts)?l.counts:[l.counts],function(Y){var se;if(function(re){for(var Q=new Array(re.length),ee=0;ee<re.length;ee++){if(re[ee]<0||re[ee]>=re.length||void 0!==Q[re[ee]])return!1;Q[re[ee]]=!0}return!0}(Y.map(function(re){return re.displayindex})))for(se=0;se<Y.length;se++)Y[se]._displayindex=Y[se].displayindex;else for(se=0;se<Y.length;se++)Y[se]._displayindex=se}(u),u.forEach(function(Y,se){!function(te,re){te._categoryarray=re.uniqueValues,te._ticktext=null==te.ticktext?[]:te.ticktext.slice();for(var Q=te._ticktext.length;Q<re.uniqueValues.length;Q++)te._ticktext.push(re.uniqueValues[Q])}(Y,T[se])});var _,g=l.line;g?(E(l,"line")&&f(o,l,{vals:l.line.color,containerStr:"line",cLetter:"c"}),_=M.tryColorscale(g)):_=v.identity;var w,x,b,A,p,O=u[0].values.length,k={},I=T.map(function(Y){return Y.inds});for(h=0,w=0;w<O;w++){var P=[];for(x=0;x<I.length;x++)P.push(I[x][w]);h+=m=d[w%d.length];var R=(b=w,A=void 0,p=void 0,v.isArrayOrTypedArray(g.color)?p=A=g.color[b%g.color.length]:A=g.color,{color:_(A),rawColor:p}),N=P+"-"+R.rawColor;void 0===k[N]&&(k[N]=s(P,R.color,R.rawColor)),a(k[N],w,m)}var j,Y,se,te,re,X=u.map(function(Y,se){return{dimensionInd:se,containerInd:Y._index,displayInd:Y._displayindex,dimensionLabel:Y.label,count:h,categories:[],dragX:null}});for(w=0;w<O;w++)for(m=d[w%d.length],x=0;x<X.length;x++){var F=X[x].containerInd,Z=T[x].inds[w],W=X[x].categories;void 0===W[Z]&&(W[Z]={dimensionInd:x,categoryInd:j=Z,categoryValue:l.dimensions[F]._categoryarray[Z],displayInd:j,categoryLabel:l.dimensions[F]._ticktext[Z],valueInds:[],count:0,dragY:null}),i(W[Z],w,m)}return D((se=k,te=h,re=(Y=X).map(function(Q){return Q.categories.length}).reduce(function(Q,ee){return Math.max(Q,ee)}),{dimensions:Y,paths:se,trace:void 0,maxCats:re,count:te}))}},14647:function(ae,B,r){"use strict";var D=r(71828),E=r(52075).hasColorscale,f=r(1586),S=r(27670).c,M=r(85501),v=r(99506),c=r(94397);function i(s,a){function o(_,g){return D.coerce(s,a,v.dimensions,_,g)}var l=o("values"),u=o("visible");if(l&&l.length||(u=a.visible=!1),u){o("label"),o("displayindex",a._index);var d,m=s.categoryarray,h=Array.isArray(m)&&m.length>0;h&&(d="array");var T=o("categoryorder",d);"array"===T?(o("categoryarray"),o("ticktext")):(delete s.categoryarray,delete s.ticktext),h||"array"!==T||(a.categoryorder="trace")}}ae.exports=function(s,a,o,l){function u(_,g){return D.coerce(s,a,v,_,g)}var d=M(s,a,{name:"dimensions",handleItemDefaults:i}),m=function(_,g,w,x,b){b("line.shape"),b("line.hovertemplate");var A=b("line.color",x.colorway[0]);if(E(_,"line")&&D.isArrayOrTypedArray(A)){if(A.length)return b("line.colorscale"),f(_,g,x,b,{prefix:"line.",cLetter:"c"}),A.length;g.line.color=w}return 1/0}(s,a,o,l,u);S(a,l,u),Array.isArray(d)&&d.length||(a.visible=!1),c(a,d,"values",m),u("hoveron"),u("hovertemplate"),u("arrangement"),u("bundlecolors"),u("sortpaths"),u("counts");var h={family:l.font.family,size:Math.round(l.font.size),color:l.font.color};D.coerceFont(u,"labelfont",h);var T={family:l.font.family,size:Math.round(l.font.size/1.2),color:l.font.color};D.coerceFont(u,"tickfont",T)}},94873:function(ae,B,r){"use strict";ae.exports={attributes:r(99506),supplyDefaults:r(14647),calc:r(28699),plot:r(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:r(27677),categories:["noOpacity"],meta:{}}},45460:function(ae,B,r){"use strict";var D=r(39898),E=r(81684).k4,f=r(72391),S=r(30211),M=r(71828),v=M.strTranslate,c=r(91424),i=r(84267),s=r(63893);function a(te,re,Q,ee){var oe=re._context.staticPlot,le=te.map(W.bind(0,re,Q)),ue=ee.selectAll("g.parcatslayer").data([null]);ue.enter().append("g").attr("class","parcatslayer").style("pointer-events",oe?"none":"all");var de=ue.selectAll("g.trace.parcats").data(le,o),he=de.enter().append("g").attr("class","trace parcats");de.attr("transform",function(pe){return v(pe.x,pe.y)}),he.append("g").attr("class","paths");var we=de.select("g.paths").selectAll("path.path").data(function(pe){return pe.paths},o);we.attr("fill",function(pe){return pe.model.color});var Ae=we.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(pe){return pe.model.color}).attr("fill-opacity",0);g(Ae),we.attr("d",function(pe){return pe.svgD}),Ae.empty()||we.sort(u),we.exit().remove(),we.on("mouseover",d).on("mouseout",m).on("click",_),he.append("g").attr("class","dimensions");var Te=de.select("g.dimensions").selectAll("g.dimension").data(function(pe){return pe.dimensions},o);Te.enter().append("g").attr("class","dimension"),Te.attr("transform",function(pe){return v(pe.x,0)}),Te.exit().remove();var ve=Te.selectAll("g.category").data(function(pe){return pe.categories},o),xe=ve.enter().append("g").attr("class","category");ve.attr("transform",function(pe){return v(0,pe.y)}),xe.append("rect").attr("class","catrect").attr("pointer-events","none"),ve.select("rect.catrect").attr("fill","none").attr("width",function(pe){return pe.width}).attr("height",function(pe){return pe.height}),x(xe);var Fe=ve.selectAll("rect.bandrect").data(function(pe){return pe.bands},o);Fe.each(function(){M.raiseToTop(this)}),Fe.attr("fill",function(pe){return pe.color});var Se=Fe.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(pe){return pe.color}).attr("fill-opacity",0);Fe.attr("fill",function(pe){return pe.color}).attr("width",function(pe){return pe.width}).attr("height",function(pe){return pe.height}).attr("y",function(pe){return pe.y}).attr("cursor",function(pe){return"fixed"===pe.parcatsViewModel.arrangement?"default":"perpendicular"===pe.parcatsViewModel.arrangement?"ns-resize":"move"}),b(Se),Fe.exit().remove(),xe.append("text").attr("class","catlabel").attr("pointer-events","none");var ke=re._fullLayout.paper_bgcolor;ve.select("text.catlabel").attr("text-anchor",function(pe){return l(pe)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",s.makeTextShadow(ke)).style("fill","rgb(0, 0, 0)").attr("x",function(pe){return l(pe)?pe.width+5:-5}).attr("y",function(pe){return pe.height/2}).text(function(pe){return pe.model.categoryLabel}).each(function(pe){c.font(D.select(this),pe.parcatsViewModel.categorylabelfont),s.convertToTspans(D.select(this),re)}),xe.append("text").attr("class","dimlabel"),ve.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(pe){return"fixed"===pe.parcatsViewModel.arrangement?"default":"ew-resize"}).attr("x",function(pe){return pe.width/2}).attr("y",-5).text(function(pe,fe){return 0===fe?pe.parcatsViewModel.model.dimensions[pe.model.dimensionInd].dimensionLabel:null}).each(function(pe){c.font(D.select(this),pe.parcatsViewModel.labelfont)}),ve.selectAll("rect.bandrect").on("mouseover",I).on("mouseout",P),ve.exit().remove(),Te.call(D.behavior.drag().origin(function(pe){return{x:pe.x,y:0}}).on("dragstart",R).on("drag",N).on("dragend",j)),de.each(function(pe){pe.traceSelection=D.select(this),pe.pathSelection=D.select(this).selectAll("g.paths").selectAll("path.path"),pe.dimensionSelection=D.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),de.exit().remove()}function o(te){return te.key}function l(te){return te.model.dimensionInd===te.parcatsViewModel.dimensions[te.parcatsViewModel.dimensions.length-1].model.dimensionInd}function u(te,re){return te.model.rawColor>re.model.rawColor?1:te.model.rawColor<re.model.rawColor?-1:0}function d(te){if(!te.parcatsViewModel.dragDimension&&-1===te.parcatsViewModel.hoverinfoItems.indexOf("skip")){M.raiseToTop(this),w(D.select(this));var re=h(te),Q=T(te);if(te.parcatsViewModel.graphDiv.emit("plotly_hover",{points:re,event:D.event,constraints:Q}),-1===te.parcatsViewModel.hoverinfoItems.indexOf("none")){var ee,oe,le,ue=D.mouse(this)[0],de=te.parcatsViewModel.graphDiv,he=te.parcatsViewModel.trace,we=de._fullLayout,Ae=we._paperdiv.node().getBoundingClientRect(),Te=te.parcatsViewModel.graphDiv.getBoundingClientRect();for(le=0;le<te.leftXs.length-1;le++)if(te.leftXs[le]+te.dimWidths[le]-2<=ue&&ue<=te.leftXs[le+1]+2){var ve=te.parcatsViewModel.dimensions[le];ee=(ve.x+ve.width+te.parcatsViewModel.dimensions[le+1].x)/2,oe=(te.topYs[le]+te.topYs[le+1]+te.height)/2;break}var Fe=te.parcatsViewModel.x+ee,Se=te.parcatsViewModel.y+oe,ke=i.mostReadable(te.model.color,["black","white"]),pe=te.model.count,fe=pe/te.parcatsViewModel.model.count,be={countLabel:pe,probabilityLabel:fe.toFixed(3)},Le=[];-1!==te.parcatsViewModel.hoverinfoItems.indexOf("count")&&Le.push(["Count:",be.countLabel].join(" ")),-1!==te.parcatsViewModel.hoverinfoItems.indexOf("probability")&&Le.push(["P:",be.probabilityLabel].join(" "));var Oe=Le.join("<br>"),De=D.mouse(de)[0];S.loneHover({trace:he,x:Fe-Ae.left+Te.left,y:Se-Ae.top+Te.top,text:Oe,color:te.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:ke,idealAlign:De<Fe?"right":"left",hovertemplate:(he.line||{}).hovertemplate,hovertemplateLabels:be,eventData:[{data:he._input,fullData:he,count:pe,probability:fe}]},{container:we._hoverlayer.node(),outerContainer:we._paper.node(),gd:de})}}}function m(te){if(!te.parcatsViewModel.dragDimension&&(g(D.select(this)),S.loneUnhover(te.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),te.parcatsViewModel.pathSelection.sort(u),-1===te.parcatsViewModel.hoverinfoItems.indexOf("skip"))){var re=h(te),Q=T(te);te.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:re,event:D.event,constraints:Q})}}function h(te){for(var re=[],Q=X(te.parcatsViewModel),ee=0;ee<te.model.valueInds.length;ee++)re.push({curveNumber:Q,pointNumber:te.model.valueInds[ee]});return re}function T(te){for(var re={},Q=te.parcatsViewModel.model.dimensions,ee=0;ee<Q.length;ee++){var oe=Q[ee];re[oe.containerInd]=oe.categories[te.model.categoryInds[ee]].categoryValue}return void 0!==te.model.rawColor&&(re.color=te.model.rawColor),re}function _(te){if(-1===te.parcatsViewModel.hoverinfoItems.indexOf("skip")){var re=h(te),Q=T(te);te.parcatsViewModel.graphDiv.emit("plotly_click",{points:re,event:D.event,constraints:Q})}}function g(te){te.attr("fill",function(re){return re.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function w(te){te.attr("fill-opacity",.8).attr("stroke",function(re){return i.mostReadable(re.model.color,["black","white"])}).attr("stroke-width",.3)}function x(te){te.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function b(te){te.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function A(te){var Q=te.categoryViewModel.model.dimensionInd,ee=te.categoryViewModel.model.categoryInd;return te.parcatsViewModel.pathSelection.filter(function(oe){return oe.model.categoryInds[Q]===ee&&oe.model.color===te.color})}function p(te,re,Q){var ee=D.select(te).datum(),oe=ee.categoryViewModel.model,le=ee.parcatsViewModel.graphDiv,ue=D.select(te.parentNode).selectAll("rect.bandrect"),de=[];ue.each(function(we){A(we).each(function(Ae){Array.prototype.push.apply(de,h(Ae))})});var he={};he[oe.dimensionInd]=oe.categoryValue,le.emit(re,{points:de,event:Q,constraints:he})}function O(te,re,Q){var ee=D.select(te).datum(),oe=ee.categoryViewModel.model,le=ee.parcatsViewModel.graphDiv,ue=A(ee),de=[];ue.each(function(we){Array.prototype.push.apply(de,h(we))});var he={};he[oe.dimensionInd]=oe.categoryValue,void 0!==ee.rawColor&&(he.color=ee.rawColor),le.emit(re,{points:de,event:Q,constraints:he})}function k(te,re,Q){te._fullLayout._calcInverseTransform(te);var ee,oe,le=te._fullLayout._invScaleX,ue=te._fullLayout._invScaleY,de=D.select(Q.parentNode).select("rect.catrect"),he=de.node().getBoundingClientRect(),we=de.datum(),Ae=we.parcatsViewModel,ve=Ae.trace,xe=he.top+he.height/2;Ae.dimensions.length>1&&Ae.model.dimensions[we.model.dimensionInd].displayInd===Ae.dimensions.length-1?(ee=he.left,oe="left"):(ee=he.left+he.width,oe="right");var Fe=we.model.count,Se=we.model.categoryLabel,ke=Fe/we.parcatsViewModel.model.count,pe={countLabel:Fe,categoryLabel:Se,probabilityLabel:ke.toFixed(3)},fe=[];-1!==we.parcatsViewModel.hoverinfoItems.indexOf("count")&&fe.push(["Count:",pe.countLabel].join(" ")),-1!==we.parcatsViewModel.hoverinfoItems.indexOf("probability")&&fe.push(["P("+pe.categoryLabel+"):",pe.probabilityLabel].join(" "));var be=fe.join("<br>");return{trace:ve,x:le*(ee-re.left),y:ue*(xe-re.top),text:be,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:oe,hovertemplate:ve.hovertemplate,hovertemplateLabels:pe,eventData:[{data:ve._input,fullData:ve,count:Fe,category:Se,probability:ke}]}}function I(te){if(!te.parcatsViewModel.dragDimension&&-1===te.parcatsViewModel.hoverinfoItems.indexOf("skip")){if(D.mouse(this)[1]<-1)return;var re,Q=te.parcatsViewModel.graphDiv,ee=Q._fullLayout,oe=ee._paperdiv.node().getBoundingClientRect(),le=te.parcatsViewModel.hoveron,ue=this;"color"===le?(w(we=A(he=D.select(de=ue).datum())),we.each(function(){M.raiseToTop(this)}),D.select(de.parentNode).selectAll("rect.bandrect").filter(function(Ae){return Ae.color===he.color}).each(function(){M.raiseToTop(this),D.select(this).attr("stroke","black").attr("stroke-width",1.5)}),O(ue,"plotly_hover",D.event)):(function(de){D.select(de.parentNode).selectAll("rect.bandrect").each(function(he){var we=A(he);w(we),we.each(function(){M.raiseToTop(this)})}),D.select(de.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(ue),p(ue,"plotly_hover",D.event)),-1===te.parcatsViewModel.hoverinfoItems.indexOf("none")&&("category"===le?re=k(Q,oe,ue):"color"===le?re=function(de,he,we){de._fullLayout._calcInverseTransform(de);var Ae,Te,ve=de._fullLayout._invScaleX,xe=de._fullLayout._invScaleY,Fe=we.getBoundingClientRect(),Se=D.select(we).datum(),ke=Se.categoryViewModel,pe=ke.parcatsViewModel,be=pe.trace,Le=Fe.y+Fe.height/2;pe.dimensions.length>1&&pe.model.dimensions[ke.model.dimensionInd].displayInd===pe.dimensions.length-1?(Ae=Fe.left,Te="left"):(Ae=Fe.left+Fe.width,Te="right");var Oe=ke.model.categoryLabel,De=Se.parcatsViewModel.model.count,Ue=0;Se.categoryViewModel.bands.forEach(function(at){at.color===Se.color&&(Ue+=at.count)});var Ge=ke.model.count,ye=0;pe.pathSelection.each(function(at){at.model.color===Se.color&&(ye+=at.model.count)});var Ie=Ue/De,Ee=Ue/ye,Be=Ue/Ge,We={countLabel:De,categoryLabel:Oe,probabilityLabel:Ie.toFixed(3)},He=[];-1!==ke.parcatsViewModel.hoverinfoItems.indexOf("count")&&He.push(["Count:",We.countLabel].join(" ")),-1!==ke.parcatsViewModel.hoverinfoItems.indexOf("probability")&&(He.push("P(color \u2229 "+Oe+"): "+We.probabilityLabel),He.push("P("+Oe+" | color): "+Ee.toFixed(3)),He.push("P(color | "+Oe+"): "+Be.toFixed(3)));var Je=He.join("<br>"),et=i.mostReadable(Se.color,["black","white"]);return{trace:be,x:ve*(Ae-he.left),y:xe*(Le-he.top),text:Je,color:Se.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:et,fontSize:10,idealAlign:Te,hovertemplate:be.hovertemplate,hovertemplateLabels:We,eventData:[{data:be._input,fullData:be,category:Oe,count:De,probability:Ie,categorycount:Ge,colorcount:ye,bandcolorcount:Ue}]}}(Q,oe,ue):"dimension"===le&&(re=function(de,he,we){var Ae=[];return D.select(we.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){Ae.push(k(de,he,this))}),Ae}(Q,oe,ue)),re&&S.loneHover(re,{container:ee._hoverlayer.node(),outerContainer:ee._paper.node(),gd:Q}))}var de,he,we}function P(te){var re=te.parcatsViewModel;re.dragDimension||(g(re.pathSelection),x(re.dimensionSelection.selectAll("g.category")),b(re.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),S.loneUnhover(re.graphDiv._fullLayout._hoverlayer.node()),re.pathSelection.sort(u),-1!==re.hoverinfoItems.indexOf("skip"))||("color"===te.parcatsViewModel.hoveron?O(this,"plotly_unhover",D.event):p(this,"plotly_unhover",D.event))}function R(te){"fixed"!==te.parcatsViewModel.arrangement&&(te.dragDimensionDisplayInd=te.model.displayInd,te.initialDragDimensionDisplayInds=te.parcatsViewModel.model.dimensions.map(function(re){return re.displayInd}),te.dragHasMoved=!1,te.dragCategoryDisplayInd=null,D.select(this).selectAll("g.category").select("rect.catrect").each(function(re){var Q=D.mouse(this)[0],ee=D.mouse(this)[1];-2<=Q&&Q<=re.width+2&&-2<=ee&&ee<=re.height+2&&(te.dragCategoryDisplayInd=re.model.displayInd,te.initialDragCategoryDisplayInds=te.model.categories.map(function(oe){return oe.displayInd}),re.model.dragY=re.y,M.raiseToTop(this.parentNode),D.select(this.parentNode).selectAll("rect.bandrect").each(function(oe){oe.y<ee&&ee<=oe.y+oe.height&&(te.potentialClickBand=this)}))}),te.parcatsViewModel.dragDimension=te,S.loneUnhover(te.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function N(te){if("fixed"!==te.parcatsViewModel.arrangement&&(te.dragHasMoved=!0,null!==te.dragDimensionDisplayInd)){var re=te.dragDimensionDisplayInd,Q=re-1,ee=re+1,oe=te.parcatsViewModel.dimensions[re];if(null!==te.dragCategoryDisplayInd){var le=oe.categories[te.dragCategoryDisplayInd];le.model.dragY+=D.event.dy;var ue=le.model.dragY,de=le.model.displayInd,he=oe.categories,we=he[de-1],Ae=he[de+1];void 0!==we&&ue<we.y+we.height/2&&(le.model.displayInd=we.model.displayInd,we.model.displayInd=de),void 0!==Ae&&ue+le.height>Ae.y+Ae.height/2&&(le.model.displayInd=Ae.model.displayInd,Ae.model.displayInd=de),te.dragCategoryDisplayInd=le.model.displayInd}if(null===te.dragCategoryDisplayInd||"freeform"===te.parcatsViewModel.arrangement){oe.model.dragX=D.event.x;var Te=te.parcatsViewModel.dimensions[Q],ve=te.parcatsViewModel.dimensions[ee];void 0!==Te&&oe.model.dragX<Te.x+Te.width&&(oe.model.displayInd=Te.model.displayInd,Te.model.displayInd=re),void 0!==ve&&oe.model.dragX+oe.width>ve.x&&(oe.model.displayInd=ve.model.displayInd,ve.model.displayInd=te.dragDimensionDisplayInd),te.dragDimensionDisplayInd=oe.model.displayInd}Y(te.parcatsViewModel),G(te.parcatsViewModel),Z(te.parcatsViewModel),F(te.parcatsViewModel)}}function j(te){if("fixed"!==te.parcatsViewModel.arrangement&&null!==te.dragDimensionDisplayInd){D.select(this).selectAll("text").attr("font-weight","normal");var re={},Q=X(te.parcatsViewModel),ee=te.parcatsViewModel.model.dimensions.map(function(Ae){return Ae.displayInd}),oe=te.initialDragDimensionDisplayInds.some(function(Ae,Te){return Ae!==ee[Te]});oe&&ee.forEach(function(Ae,Te){re["dimensions["+te.parcatsViewModel.model.dimensions[Te].containerInd+"].displayindex"]=Ae});var le=!1;if(null!==te.dragCategoryDisplayInd){var ue=te.model.categories.map(function(Ae){return Ae.displayInd});if(le=te.initialDragCategoryDisplayInds.some(function(Ae,Te){return Ae!==ue[Te]})){var de=te.model.categories.slice().sort(function(Ae,Te){return Ae.displayInd-Te.displayInd}),he=de.map(function(Ae){return Ae.categoryValue}),we=de.map(function(Ae){return Ae.categoryLabel});re["dimensions["+te.model.containerInd+"].categoryarray"]=[he],re["dimensions["+te.model.containerInd+"].ticktext"]=[we],re["dimensions["+te.model.containerInd+"].categoryorder"]="array"}}-1===te.parcatsViewModel.hoverinfoItems.indexOf("skip")&&!te.dragHasMoved&&te.potentialClickBand&&("color"===te.parcatsViewModel.hoveron?O(te.potentialClickBand,"plotly_click",D.event.sourceEvent):p(te.potentialClickBand,"plotly_click",D.event.sourceEvent)),te.model.dragX=null,null!==te.dragCategoryDisplayInd&&(te.parcatsViewModel.dimensions[te.dragDimensionDisplayInd].categories[te.dragCategoryDisplayInd].model.dragY=null,te.dragCategoryDisplayInd=null),te.dragDimensionDisplayInd=null,te.parcatsViewModel.dragDimension=null,te.dragHasMoved=null,te.potentialClickBand=null,Y(te.parcatsViewModel),G(te.parcatsViewModel),D.transition().duration(300).ease("cubic-in-out").each(function(){Z(te.parcatsViewModel,!0),F(te.parcatsViewModel,!0)}).each("end",function(){(oe||le)&&f.restyle(te.parcatsViewModel.graphDiv,re,[Q])})}}function X(te){for(var re,Q=te.graphDiv._fullData,ee=0;ee<Q.length;ee++)if(te.key===Q[ee].uid){re=ee;break}return re}function F(te,re){var Q;void 0===re&&(re=!1),te.pathSelection.data(function(ee){return ee.paths},o),(Q=te.pathSelection,re?Q.transition():Q).attr("d",function(ee){return ee.svgD})}function Z(te,re){function Q(ue){return re?ue.transition():ue}void 0===re&&(re=!1),te.dimensionSelection.data(function(ue){return ue.dimensions},o);var ee=te.dimensionSelection.selectAll("g.category").data(function(ue){return ue.categories},o);Q(te.dimensionSelection).attr("transform",function(ue){return v(ue.x,0)}),Q(ee).attr("transform",function(ue){return v(0,ue.y)}),ee.select(".dimlabel").text(function(ue,de){return 0===de?ue.parcatsViewModel.model.dimensions[ue.model.dimensionInd].dimensionLabel:null}),ee.select(".catlabel").attr("text-anchor",function(ue){return l(ue)?"start":"end"}).attr("x",function(ue){return l(ue)?ue.width+5:-5}).each(function(ue){var de,he;l(ue)?(de=ue.width+5,he="start"):(de=-5,he="end"),D.select(this).selectAll("tspan").attr("x",de).attr("text-anchor",he)});var oe=ee.selectAll("rect.bandrect").data(function(ue){return ue.bands},o),le=oe.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ue){return ue.color}).attr("fill-opacity",0);oe.attr("fill",function(ue){return ue.color}).attr("width",function(ue){return ue.width}).attr("height",function(ue){return ue.height}).attr("y",function(ue){return ue.y}),b(le),oe.each(function(){M.raiseToTop(this)}),oe.exit().remove()}function W(te,re,Q){var ee,oe=Q[0],le=re.margin||{l:80,r:80,t:100,b:80},ue=oe.trace,de=ue.domain,he=re.width,we=re.height,Ae=Math.floor(he*(de.x[1]-de.x[0])),Te=Math.floor(we*(de.y[1]-de.y[0])),ve=de.x[0]*he+le.l,xe=re.height-de.y[1]*re.height+le.t,Fe=ue.line.shape;ee="all"===ue.hoverinfo?["count","probability"]:(ue.hoverinfo||"").split("+");var Se={trace:ue,key:ue.uid,model:oe,x:ve,y:xe,width:Ae,height:Te,hoveron:ue.hoveron,hoverinfoItems:ee,arrangement:ue.arrangement,bundlecolors:ue.bundlecolors,sortpaths:ue.sortpaths,labelfont:ue.labelfont,categorylabelfont:ue.tickfont,pathShape:Fe,dragDimension:null,margin:le,paths:[],dimensions:[],graphDiv:te,traceSelection:null,pathSelection:null,dimensionSelection:null};return oe.dimensions&&(Y(Se),G(Se)),Se}function H(te,re,Q,ee,oe){var le,ue,de=[],he=[];for(ue=0;ue<Q.length-1;ue++)le=E(Q[ue]+te[ue],te[ue+1]),de.push(le(oe)),he.push(le(1-oe));var we="M "+te[0]+","+re[0];for(we+="l"+Q[0]+",0 ",ue=1;ue<Q.length;ue++)we+="C"+de[ue-1]+","+re[ue-1]+" "+he[ue-1]+","+re[ue]+" "+te[ue]+","+re[ue],we+="l"+Q[ue]+",0 ";for(we+="l0,"+ee+" ",we+="l -"+Q[Q.length-1]+",0 ",ue=Q.length-2;ue>=0;ue--)we+="C"+he[ue]+","+(re[ue+1]+ee)+" "+de[ue]+","+(re[ue]+ee)+" "+(te[ue]+Q[ue])+","+(re[ue]+ee),we+="l-"+Q[ue]+",0 ";return we+"Z"}function G(te){var re=te.dimensions,Q=te.model,ee=re.map(function(We){return We.categories.map(function(He){return He.y})}),oe=te.model.dimensions.map(function(We){return We.categories.map(function(He){return He.displayInd})}),le=te.model.dimensions.map(function(We){return We.displayInd}),ue=te.dimensions.map(function(We){return We.model.dimensionInd}),de=re.map(function(We){return We.x}),he=re.map(function(We){return We.width}),we=[];for(var Ae in Q.paths)Q.paths.hasOwnProperty(Ae)&&we.push(Q.paths[Ae]);function Te(We){var He=We.categoryInds.map(function(Je,et){return oe[et][Je]});return ue.map(function(Je){return He[Je]})}we.sort(function(We,He){var Je=Te(We),et=Te(He);return"backward"===te.sortpaths&&(Je.reverse(),et.reverse()),Je.push(We.valueInds[0]),et.push(He.valueInds[0]),te.bundlecolors&&(Je.unshift(We.rawColor),et.unshift(He.rawColor)),Je<et?-1:Je>et?1:0});for(var ve=new Array(we.length),xe=re[0].model.count,Fe=re[0].categories.map(function(We){return We.height}).reduce(function(We,He){return We+He}),Se=0;Se<we.length;Se++){var ke,pe=we[Se];ke=xe>0?Fe*(pe.count/xe):0;for(var fe,be=new Array(ee.length),Le=0;Le<pe.categoryInds.length;Le++){var De=oe[Le][pe.categoryInds[Le]],Ue=le[Le];be[Ue]=ee[Ue][De],ee[Ue][De]+=ke;var Ge=te.dimensions[Ue].categories[De],ye=Ge.bands.length,Ie=Ge.bands[ye-1];if(void 0===Ie||pe.rawColor!==Ie.rawColor){var Ee=void 0===Ie?0:Ie.y+Ie.height;Ge.bands.push({key:Ee,color:pe.color,rawColor:pe.rawColor,height:ke,width:Ge.width,count:pe.count,y:Ee,categoryViewModel:Ge,parcatsViewModel:te})}else{var Be=Ge.bands[ye-1];Be.height+=ke,Be.count+=pe.count}}fe=H(de,be,he,ke,"hspline"===te.pathShape?.5:0),ve[Se]={key:pe.valueInds[0],model:pe,height:ke,leftXs:de,topYs:be,dimWidths:he,svgD:fe,parcatsViewModel:te}}te.paths=ve}function Y(te){var re=te.model.dimensions.map(function(ue){return{displayInd:ue.displayInd,dimensionInd:ue.dimensionInd}});re.sort(function(ue,de){return ue.displayInd-de.displayInd});var Q=[];for(var ee in re)Q.push(se(te,te.model.dimensions[re[ee].dimensionInd]));te.dimensions=Q}function se(te,re){var Q,ee=te.model.dimensions.length;Q=40+(ee>1?(te.width-80-16)/(ee-1):0)*re.displayInd;var le,ue,de,we,Ae=[],Te=te.model.maxCats,ve=re.categories.length,xe=re.count,Fe=te.height-8*(Te-1),Se=8*(Te-ve)/2,ke=re.categories.map(function(pe){return{displayInd:pe.displayInd,categoryInd:pe.categoryInd}});for(ke.sort(function(pe,fe){return pe.displayInd-fe.displayInd}),we=0;we<ve;we++)de={key:(ue=re.categories[ke[we].categoryInd]).valueInds[0],model:ue,width:16,height:le=xe>0?ue.count/xe*Fe:0,y:null!==ue.dragY?ue.dragY:Se,bands:[],parcatsViewModel:te},Se=Se+le+8,Ae.push(de);return{key:re.dimensionInd,x:null!==re.dragX?re.dragX:Q,y:0,width:16,model:re,categories:Ae,parcatsViewModel:te,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}ae.exports=function(te,re,Q,ee){a(Q,te,ee,re)}},45784:function(ae,B,r){"use strict";var D=r(45460);ae.exports=function(E,f,S,M){var v=E._fullLayout,i=v._size;D(E,v._paper,f,{width:i.w,height:i.h,margin:{t:i.t,r:i.r,b:i.b,l:i.l}},S,M)}},73362:function(ae,B,r){"use strict";var D=r(50693),E=r(13838),f=r(41940),S=r(27670).Y,M=r(1426).extendFlat,v=r(44467).templatedArray;ae.exports={domain:S({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:f({editType:"plot"}),tickfont:f({editType:"plot"}),rangefont:f({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:M({},E.tickvals,{editType:"plot"}),ticktext:M({},E.ticktext,{editType:"plot"}),tickformat:M({},E.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:M({editType:"calc"},D("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(ae,B,r){"use strict";var D=r(25706),E=r(39898),f=r(28984).keyFun,S=r(28984).repeat,M=r(71828).sorterAsc,v=r(71828).strTranslate,c=D.bar.snapRatio;function i(k,I){return k*(1-c)+I*c}var s=D.bar.snapClose;function a(k,I){return k*(1-s)+I*s}function o(k,I,P,R){if(function(se,te){for(var re=0;re<te.length;re++)if(se>=te[re][0]&&se<=te[re][1])return!0;return!1}(P,R))return P;var N=k?-1:1,j=0,X=I.length-1;if(N<0){var F=j;j=X,X=F}for(var Z=I[j],W=Z,H=j;N*H<N*X;H+=N){var G=H+N,Y=I[G];if(N*P<N*a(Z,Y))return i(Z,W);if(N*P<N*Y||G===X)return i(Y,Z);W=Z,Z=Y}}function l(k){k.attr("x",-D.bar.captureWidth/2).attr("width",D.bar.captureWidth)}function u(k){k.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function d(k){if(!k.brush.filterSpecified)return"0,"+k.height;for(var I,P,R,N=m(k.brush.filter.getConsolidated(),k.height),j=[0],X=N.length?N[0][0]:null,F=0;F<N.length;F++)P=(I=N[F])[1]-I[0],j.push(X),j.push(P),(R=F+1)<N.length&&(X=N[R][0]-I[1]);return j.push(k.height),j}function m(k,I){return k.map(function(P){return P.map(function(R){return Math.max(0,R*I)}).sort(M)})}function h(){E.select(document.body).style("cursor",null)}function T(k){k.attr("stroke-dasharray",d)}function _(k,I){var P=E.select(k).selectAll(".highlight, .highlight-shadow");T(I?P.transition().duration(D.bar.snapDuration).each("end",I):P)}function g(k,I){var P,R=k.brush,N=NaN,j={};if(R.filterSpecified){var X=k.height,F=R.filter.getConsolidated(),Z=m(F,X),W=NaN,H=NaN,G=NaN;for(P=0;P<=Z.length;P++){var Y=Z[P];if(Y&&Y[0]<=I&&I<=Y[1]){W=P;break}if(H=P?P-1:NaN,Y&&Y[0]>I){G=P;break}}if(N=W,isNaN(N)&&(N=isNaN(H)||isNaN(G)?isNaN(H)?G:H:I-Z[H][1]<Z[G][0]-I?H:G),!isNaN(N)){var se=Z[N],te=function(oe,le){var ue=D.bar.handleHeight;if(!(le>oe[1]+ue||le<oe[0]-ue))return le>=.9*oe[1]+.1*oe[0]?"n":le<=.9*oe[0]+.1*oe[1]?"s":"ns"}(se,I);te&&(j.interval=F[N],j.intervalPix=se,j.region=te)}}if(k.ordinal&&!j.region){var re=k.unitTickvals,Q=k.unitToPaddedPx.invert(I);for(P=0;P<re.length;P++){var ee=[.25*re[Math.max(P-1,0)]+.75*re[P],.25*re[Math.min(P+1,re.length-1)]+.75*re[P]];if(Q>=ee[0]&&Q<=ee[1]){j.clickableOrdinalRange=ee;break}}}return j}function w(k,I){E.event.sourceEvent.stopPropagation();var P=I.height-E.mouse(k)[1]-2*D.verticalPadding,R=I.brush.svgBrush;R.wasDragged=!0,R._dragging=!0,R.newExtent=R.grabbingBar?[P-R.grabPoint,P+R.barLength-R.grabPoint].map(I.unitToPaddedPx.invert):[R.startExtent,I.unitToPaddedPx.invert(P)].sort(M),I.brush.filterSpecified=!0,R.extent=R.stayingIntervals.concat([R.newExtent]),R.brushCallback(I),_(k.parentNode)}function x(k,I){var P=g(I,I.height-E.mouse(k)[1]-2*D.verticalPadding),R="crosshair";P.clickableOrdinalRange?R="pointer":P.region&&(R=P.region+"-resize"),E.select(document.body).style("cursor",R)}function b(k){k.on("mousemove",function(I){E.event.preventDefault(),I.parent.inBrushDrag||x(this,I)}).on("mouseleave",function(I){I.parent.inBrushDrag||h()}).call(E.behavior.drag().on("dragstart",function(I){!function(P,R){E.event.sourceEvent.stopPropagation();var N=R.height-E.mouse(P)[1]-2*D.verticalPadding,j=R.unitToPaddedPx.invert(N),X=R.brush,F=g(R,N),Z=F.interval,W=X.svgBrush;if(W.wasDragged=!1,W.grabbingBar="ns"===F.region,W.grabbingBar){var H=Z.map(R.unitToPaddedPx);W.grabPoint=N-H[0]-D.verticalPadding,W.barLength=H[1]-H[0]}W.clickableOrdinalRange=F.clickableOrdinalRange,W.stayingIntervals=R.multiselect&&X.filterSpecified?X.filter.getConsolidated():[],Z&&(W.stayingIntervals=W.stayingIntervals.filter(function(G){return G[0]!==Z[0]&&G[1]!==Z[1]})),W.startExtent=F.region?Z["s"===F.region?1:0]:j,R.parent.inBrushDrag=!0,W.brushStartCallback()}(this,I)}).on("drag",function(I){w(this,I)}).on("dragend",function(I){!function(P,R){var N=R.brush,j=N.filter,X=N.svgBrush;X._dragging||(x(P,R),w(P,R),R.brush.svgBrush.wasDragged=!1),X._dragging=!1,E.event.sourceEvent.stopPropagation();var F=X.grabbingBar;if(X.grabbingBar=!1,X.grabLocation=void 0,R.parent.inBrushDrag=!1,h(),!X.wasDragged)return X.wasDragged=void 0,X.clickableOrdinalRange?N.filterSpecified&&R.multiselect?X.extent.push(X.clickableOrdinalRange):(X.extent=[X.clickableOrdinalRange],N.filterSpecified=!0):F?(X.extent=X.stayingIntervals,0===X.extent.length&&p(N)):p(N),X.brushCallback(R),_(P.parentNode),void X.brushEndCallback(N.filterSpecified?j.getConsolidated():[]);var Z=function(){j.set(j.getConsolidated())};if(R.ordinal){var W=R.unitTickvals;W[W.length-1]<W[0]&&W.reverse(),X.newExtent=[o(0,W,X.newExtent[0],X.stayingIntervals),o(1,W,X.newExtent[1],X.stayingIntervals)];var H=X.newExtent[1]>X.newExtent[0];X.extent=X.stayingIntervals.concat(H?[X.newExtent]:[]),X.extent.length||p(N),X.brushCallback(R),H?_(P.parentNode,Z):(Z(),_(P.parentNode))}else Z();X.brushEndCallback(N.filterSpecified?j.getConsolidated():[])}(this,I)}))}function A(k,I){return k[0]-I[0]}function p(k){k.filterSpecified=!1,k.svgBrush.extent=[[-1/0,1/0]]}function O(k){for(var I,P=k.slice(),R=[],N=P.shift();N;){for(I=N.slice();(N=P.shift())&&N[0]<=I[1];)I[1]=Math.max(I[1],N[1]);R.push(I)}return 1===R.length&&R[0][0]>R[0][1]&&(R=[]),R}ae.exports={makeBrush:function(k,I,P,R,N,j){var X,Z,W,H,F=(H=[],{set:function(G){1===(H=G.map(function(Y){return Y.slice().sort(M)}).sort(A)).length&&H[0][0]===-1/0&&H[0][1]===1/0&&(H=[[0,-1]]),Z=O(H),W=H.reduce(function(Y,se){return[Math.min(Y[0],se[0]),Math.max(Y[1],se[1])]},[1/0,-1/0])},get:function(){return H.slice()},getConsolidated:function(){return Z},getBounds:function(){return W}});return F.set(P),{filter:F,filterSpecified:I,svgBrush:{extent:[],brushStartCallback:R,brushCallback:(X=N,function(Z){var W=Z.brush,G=W.svgBrush.extent.map(function(se){return se.slice()}).slice();W.filter.set(G),X()}),brushEndCallback:j}}},ensureAxisBrush:function(k,I,P){var R=k.selectAll("."+D.cn.axisBrush).data(S,f);R.enter().append("g").classed(D.cn.axisBrush,!0),function(N,j,X){var F=X._context.staticPlot,Z=N.selectAll(".background").data(S);Z.enter().append("rect").classed("background",!0).call(l).call(u).style("pointer-events",F?"none":"auto").attr("transform",v(0,D.verticalPadding)),Z.call(b).attr("height",function(G){return G.height-D.verticalPadding});var W=N.selectAll(".highlight-shadow").data(S);W.enter().append("line").classed("highlight-shadow",!0).attr("x",-D.bar.width/2).attr("stroke-width",D.bar.width+D.bar.strokeWidth).attr("stroke",j).attr("opacity",D.bar.strokeOpacity).attr("stroke-linecap","butt"),W.attr("y1",function(G){return G.height}).call(T);var H=N.selectAll(".highlight").data(S);H.enter().append("line").classed("highlight",!0).attr("x",-D.bar.width/2).attr("stroke-width",D.bar.width-D.bar.strokeWidth).attr("stroke",D.bar.fillColor).attr("opacity",D.bar.fillOpacity).attr("stroke-linecap","butt"),H.attr("y1",function(G){return G.height}).call(T)}(R,I,P)},cleanRanges:function(k,I){if(Array.isArray(k[0])?(k=k.map(function(R){return R.sort(M)}),k=I.multiselect?O(k.sort(A)):[k[0]]):k=[k.sort(M)],I.tickvals){var P=I.tickvals.slice().sort(M);if(!(k=k.map(function(R){var N=[o(0,P,R[0],[]),o(1,P,R[1],[])];if(N[1]>N[0])return N}).filter(function(R){return R})).length)return}return k.length>1?k:k[0]}}},71791:function(ae,B,r){"use strict";ae.exports={attributes:r(73362),supplyDefaults:r(3633),calc:r(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:r(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(ae,B,r){"use strict";var D=r(39898),E=r(27659).a0,f=r(21341),S=r(77922);B.name="parcoords",B.plot=function(M){var v=E(M.calcdata,"parcoords")[0];v.length&&f(M,v)},B.clean=function(M,v,c,i){var s=i._has&&i._has("parcoords"),a=v._has&&v._has("parcoords");s&&!a&&(i._paperdiv.selectAll(".parcoords").remove(),i._glimages.selectAll("*").remove())},B.toSVG=function(M){var v=M._fullLayout._glimages,c=D.select(M).selectAll(".svg-container");c.filter(function(i,s){return s===c.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var i=this,s=i.toDataURL("image/png");v.append("svg:image").attr({xmlns:S.svg,"xlink:href":s,preserveAspectRatio:"none",x:0,y:0,width:i.style.width,height:i.style.height})}),window.setTimeout(function(){D.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray,E=r(21081),f=r(28984).wrap;ae.exports=function(S,M){var v,c;return E.hasColorscale(M,"line")&&D(M.line.color)?(v=M.line.color,c=E.extractOpts(M.line).colorscale,E.calc(S,M,{vals:v,containerStr:"line",cLetter:"c"})):(v=function(i){for(var s=new Array(i),a=0;a<i;a++)s[a]=.5;return s}(M._length),c=[[0,M.line.color],[1,M.line.color]]),f({lineColor:v,cscale:c})}},25706:function(ae){"use strict";ae.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(ae,B,r){"use strict";var D=r(71828),E=r(52075).hasColorscale,f=r(1586),S=r(27670).c,M=r(85501),v=r(89298),c=r(73362),i=r(57920),s=r(25706).maxDimensionCount,a=r(94397);function o(l,u,d,m){function h(x,b){return D.coerce(l,u,c.dimensions,x,b)}var T=h("values"),_=h("visible");if(T&&T.length||(_=u.visible=!1),_){h("label"),h("tickvals"),h("ticktext"),h("tickformat");var g=h("range");u._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:g},v.setConvert(u._ax,m.layout),h("multiselect");var w=h("constraintrange");w&&(u.constraintrange=i.cleanRanges(w,u))}}ae.exports=function(l,u,d,m){function h(x,b){return D.coerce(l,u,c,x,b)}var T=l.dimensions;Array.isArray(T)&&T.length>s&&(D.log("parcoords traces support up to "+s+" dimensions at the moment"),T.splice(s));var _=M(l,u,{name:"dimensions",layout:m,handleItemDefaults:o}),g=function(x,b,A,p,O){var k=O("line.color",A);if(E(x,"line")&&D.isArrayOrTypedArray(k)){if(k.length)return O("line.colorscale"),f(x,b,p,O,{prefix:"line.",cLetter:"c"}),k.length;b.line.color=A}return 1/0}(l,u,d,m,h);S(u,m,h),Array.isArray(_)&&_.length||(u.visible=!1),a(u,_,"values",g);var w={family:m.font.family,size:Math.round(m.font.size/1.2),color:m.font.color};D.coerceFont(h,"labelfont",w),D.coerceFont(h,"tickfont",w),D.coerceFont(h,"rangefont",w),h("labelangle"),h("labelside"),h("unselected.line.color"),h("unselected.line.opacity")}},1602:function(ae,B,r){"use strict";var D=r(71828).isTypedArray;B.convertTypedArray=function(E){return D(E)?Array.prototype.slice.call(E):E},B.isOrdinal=function(E){return!!E.tickvals},B.isVisible=function(E){return E.visible||!("visible"in E)}},67618:function(ae,B,r){"use strict";var D=r(71791);D.plot=r(21341),ae.exports=D},83398:function(ae,B,r){"use strict";var D=r(56068),E=D(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nattribute vec4 p01_04, p05_08, p09_12, p13_16,\n               p17_20, p21_24, p25_28, p29_32,\n               p33_36, p37_40, p41_44, p45_48,\n               p49_52, p53_56, p57_60, colors;\n\nuniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution, viewBoxPos, viewBoxSize;\nuniform float maskHeight;\nuniform float drwLayer; // 0: context, 1: focus, 2: pick\nuniform vec4 contextColor;\nuniform sampler2D maskTexture, palette;\n\nbool isPick    = (drwLayer > 1.5);\nbool isContext = (drwLayer < 0.5);\n\nconst vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);\nconst vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * UNITS, UNITS);\n}\n\nfloat axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);\n    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);\n    return y1 * (1.0 - ratio) + y2 * ratio;\n}\n\nint iMod(int a, int b) {\n    return a - b * (a / b);\n}\n\nbool fOutside(float p, float lo, float hi) {\n    return (lo < hi) && (lo > p || p > hi);\n}\n\nbool vOutside(vec4 p, vec4 lo, vec4 hi) {\n    return (\n        fOutside(p[0], lo[0], hi[0]) ||\n        fOutside(p[1], lo[1], hi[1]) ||\n        fOutside(p[2], lo[2], hi[2]) ||\n        fOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool mOutside(mat4 p, mat4 lo, mat4 hi) {\n    return (\n        vOutside(p[0], lo[0], hi[0]) ||\n        vOutside(p[1], lo[1], hi[1]) ||\n        vOutside(p[2], lo[2], hi[2]) ||\n        vOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {\n    return mOutside(A, loA, hiA) ||\n           mOutside(B, loB, hiB) ||\n           mOutside(C, loC, hiC) ||\n           mOutside(D, loD, hiD);\n}\n\nbool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {\n    mat4 pnts[4];\n    pnts[0] = A;\n    pnts[1] = B;\n    pnts[2] = C;\n    pnts[3] = D;\n\n    for(int i = 0; i < 4; ++i) {\n        for(int j = 0; j < 4; ++j) {\n            for(int k = 0; k < 4; ++k) {\n                if(0 == iMod(\n                    int(255.0 * texture2D(maskTexture,\n                        vec2(\n                            (float(i * 2 + j / 2) + 0.5) / 8.0,\n                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight\n                        ))[3]\n                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),\n                    2\n                )) return true;\n            }\n        }\n    }\n    return false;\n}\n\nvec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float x = 0.5 * sign(v) + 0.5;\n    float y = axisY(x, A, B, C, D);\n    float z = 1.0 - abs(v);\n\n    z += isContext ? 0.0 : 2.0 * float(\n        outsideBoundingBox(A, B, C, D) ||\n        outsideRasterMask(A, B, C, D)\n    );\n\n    return vec4(\n        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,\n        z,\n        1.0\n    );\n}\n\nvoid main() {\n    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);\n    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);\n    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);\n    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);\n\n    float v = colors[3];\n\n    gl_Position = position(isContext, v, A, B, C, D);\n\n    fragColor =\n        isContext ? vec4(contextColor) :\n        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));\n}\n"]),f=D(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n"]),S=r(25706).maxDimensionCount,M=r(71828),v=1e-6,c=new Uint8Array(4),i=new Uint8Array(4),s={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function a(g,w,x,b,A){var p=g._gl;p.enable(p.SCISSOR_TEST),p.scissor(w,x,b,A),g.clear({color:[0,0,0,0],depth:1})}function o(g,w,x,b,A,p){var O=p.key;x.drawCompleted||(g.read({x:0,y:0,width:1,height:1,data:c}),x.drawCompleted=!0),function k(I){var P=Math.min(b,A-I*b);0===I&&(window.cancelAnimationFrame(x.currentRafs[O]),delete x.currentRafs[O],a(g,p.scissorX,p.scissorY,p.scissorWidth,p.viewBoxSize[1])),x.clearOnly||(p.count=2*P,p.offset=2*I*b,w(p),I*b+P<A&&(x.currentRafs[O]=window.requestAnimationFrame(function(){k(I+1)})),x.drawCompleted=!1)}(0)}function l(g,w){for(var x=new Array(256),b=0;b<256;b++)x[b]=g(b/255).concat(w);return x}function u(g,w){return(g>>>8*w)%256/255}function d(g,w,x){for(var b=new Array(8*w),A=0,p=0;p<w;p++)for(var O=0;O<2;O++)for(var k=0;k<4;k++){var I=4*g+k,P=x[64*p+I];63===I&&0===O&&(P*=-1),b[A++]=P}return b}function m(g){var w="0"+g;return w.substr(w.length-2)}function h(g){return g<S?"p"+m(g+1)+"_"+m(g+4):"colors"}function T(g,w,x,b,A,p,O,k,I,P,R,N,j,X){for(var F=[[],[]],Z=0;Z<64;Z++)F[0][Z]=Z===A?1:0,F[1][Z]=Z===p?1:0;var W=g.lines.canvasOverdrag*X,H=g.domain,G=g.canvasWidth*X,Y=g.canvasHeight*X,se=g.pad.l*X,te=g.pad.b*X,re=g.layoutHeight*X,Q=g.layoutWidth*X,ee=g.deselectedLines.color,oe=g.deselectedLines.opacity;return M.extendFlat({key:R,resolution:[G,Y],viewBoxPos:[(O*=X)+W,k*=X],viewBoxSize:[I*=X,P*=X],i0:A,i1:p,dim0A:F[0].slice(0,16),dim0B:F[0].slice(16,32),dim0C:F[0].slice(32,48),dim0D:F[0].slice(48,64),dim1A:F[1].slice(0,16),dim1B:F[1].slice(16,32),dim1C:F[1].slice(32,48),dim1D:F[1].slice(48,64),drwLayer:N,contextColor:[ee[0]/255,ee[1]/255,ee[2]/255,"auto"!==oe?ee[3]*oe:Math.max(.00392156862745098,Math.pow(1/g.lines.color.length,.3333333333333333))],scissorX:(b===w?0:O+W)+(se-W)+Q*H.x[0],scissorWidth:(b===x?G-O+W:I+.5)+(b===w?O+W:0),scissorY:k+te+re*H.y[0],scissorHeight:P,viewportX:se-W+Q*H.x[0],viewportY:te+re*H.y[0],viewportWidth:G,viewportHeight:Y},j)}function _(g){var w=2047,x=Math.max(0,Math.floor(g[0]*w),0),b=Math.min(w,Math.ceil(g[1]*w),w);return[Math.min(x,b),Math.max(x,b)]}ae.exports=function(g,w){var x,A,p,O,k=w.context,I=w.pick,P=w.regl,R=P._gl,N=R.getParameter(R.ALIASED_LINE_WIDTH_RANGE),j=Math.max(N[0],Math.min(N[1],w.viewModel.plotGlPixelRatio)),X={currentRafs:{},drawCompleted:!0,clearOnly:!1},F=function(Y){for(var se={},te=0;te<=S;te+=4)se[h(te)]=Y.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return se}(P),Z=P.texture(s),W=[];G(w);var H=P({profile:!1,blend:{enable:k,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!k,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:P.prop("scissorX"),y:P.prop("scissorY"),width:P.prop("scissorWidth"),height:P.prop("scissorHeight")}},viewport:{x:P.prop("viewportX"),y:P.prop("viewportY"),width:P.prop("viewportWidth"),height:P.prop("viewportHeight")},dither:!1,vert:E,frag:f,primitive:"lines",lineWidth:j,attributes:F,uniforms:{resolution:P.prop("resolution"),viewBoxPos:P.prop("viewBoxPos"),viewBoxSize:P.prop("viewBoxSize"),dim0A:P.prop("dim0A"),dim1A:P.prop("dim1A"),dim0B:P.prop("dim0B"),dim1B:P.prop("dim1B"),dim0C:P.prop("dim0C"),dim1C:P.prop("dim1C"),dim0D:P.prop("dim0D"),dim1D:P.prop("dim1D"),loA:P.prop("loA"),hiA:P.prop("hiA"),loB:P.prop("loB"),hiB:P.prop("hiB"),loC:P.prop("loC"),hiC:P.prop("hiC"),loD:P.prop("loD"),hiD:P.prop("hiD"),palette:Z,contextColor:P.prop("contextColor"),maskTexture:P.prop("maskTexture"),drwLayer:P.prop("drwLayer"),maskHeight:P.prop("maskHeight")},offset:P.prop("offset"),count:P.prop("count")});function G(Y){x=Y.model,A=Y.viewModel.dimensions.slice(),p=A[0]?A[0].values.length:0;var se=x.lines,te=I?se.color.map(function(Q,ee){return ee/se.color.length}):se.color,re=function(Q,ee,oe){for(var ue=new Array(Q*(S+4)),de=0,he=0;he<Q;he++){for(var we=0;we<S;we++)ue[de++]=we<ee.length?ee[we].paddedUnitValues[he]:.5;ue[de++]=u(he,2),ue[de++]=u(he,1),ue[de++]=u(he,0),ue[de++]=Math.max(v,Math.min(.999999,oe[he]))}return ue}(p,A,te);(function(Q,ee,oe){for(var le=0;le<=S;le+=4)Q[h(le)](d(le/4,ee,oe))})(F,p,re),k||I||(Z=P.texture(M.extendFlat({data:l(x.unitToColor,255)},s)))}return{render:function(Y,se,te){var re,Q,ee,oe=Y.length,le=1/0,ue=-1/0;for(re=0;re<oe;re++)Y[re].dim0.canvasX<le&&(le=Y[re].dim0.canvasX,Q=re),Y[re].dim1.canvasX>ue&&(ue=Y[re].dim1.canvasX,ee=re);0===oe&&a(P,0,0,x.canvasWidth,x.canvasHeight);var de=function(pe){var fe,be,Le,Oe=[[],[]];for(Le=0;Le<64;Le++){var De=!pe&&Le<A.length?A[Le].brush.filter.getBounds():[-1/0,1/0];Oe[0][Le]=De[0],Oe[1][Le]=De[1]}var Ue=new Array(16384);for(fe=0;fe<16384;fe++)Ue[fe]=255;if(!pe)for(fe=0;fe<A.length;fe++){var Ge=fe%8,ye=(fe-Ge)/8,Ie=Math.pow(2,Ge),Ee=A[fe].brush.filter.get();if(!(Ee.length<2)){var Be=_(Ee[0])[1];for(be=1;be<Ee.length;be++){var We=_(Ee[be]);for(Le=Be+1;Le<We[0];Le++)Ue[8*Le+ye]&=~Ie;Be=Math.max(Be,We[1])}}}var He={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ue};return O?O(He):O=P.texture(He),{maskTexture:O,maskHeight:2048,loA:Oe[0].slice(0,16),loB:Oe[0].slice(16,32),loC:Oe[0].slice(32,48),loD:Oe[0].slice(48,64),hiA:Oe[1].slice(0,16),hiB:Oe[1].slice(16,32),hiC:Oe[1].slice(32,48),hiD:Oe[1].slice(48,64)}}(k);for(re=0;re<oe;re++){var he=Y[re],we=he.dim0.crossfilterDimensionIndex,Ae=he.dim1.crossfilterDimensionIndex,Te=he.canvasX,ve=he.canvasY,xe=Te+he.panelSizeX,Fe=he.plotGlPixelRatio;if(se||!W[we]||W[we][0]!==Te||W[we][1]!==xe){W[we]=[Te,xe];var Se=T(x,Q,ee,re,we,Ae,Te,ve,he.panelSizeX,he.panelSizeY,he.dim0.crossfilterDimensionIndex,k?0:I?2:1,de,Fe);X.clearOnly=te,o(P,H,X,se?x.lines.blockLineCount:p,p,Se)}}},readPixel:function(Y,se){return P.read({x:Y,y:se,width:1,height:1,data:i}),i},readPixels:function(Y,se,te,re){var Q=new Uint8Array(4*te*re);return P.read({x:Y,y:se,width:te,height:re,data:Q}),Q},destroy:function(){for(var Y in g.style["pointer-events"]="none",Z.destroy(),O&&O.destroy(),F)F[Y].destroy()},update:G}}},94397:function(ae){"use strict";ae.exports=function(B,r,D,E){var f,S;for(E||(E=1/0),f=0;f<r.length;f++)(S=r[f]).visible&&(E=Math.min(E,S[D].length));for(E===1/0&&(E=0),B._length=E,f=0;f<r.length;f++)(S=r[f]).visible&&(S._length=E);return E}},17171:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=E.numberFormat,S=r(36652),M=r(89298),v=E.strRotate,c=E.strTranslate,i=r(63893),s=r(91424),a=r(21081),o=r(28984),l=o.keyFun,u=o.repeat,d=o.unwrap,m=r(1602),h=r(25706),T=r(57920),_=r(83398);function g(Z,W,H){return E.aggNums(Z,null,W,H)}function w(Z,W){return b(g(Math.min,Z,W),g(Math.max,Z,W))}function x(Z){var W=Z.range;return W?b(W[0],W[1]):w(Z.values,Z._length)}function b(Z,W){return!isNaN(Z)&&isFinite(Z)||(Z=0),!isNaN(W)&&isFinite(W)||(W=0),Z===W&&(0===Z?(Z-=1,W+=1):(Z*=.9,W*=1.1)),[Z,W]}function A(Z,W,H,G,Y){var se,te,re=x(H);return G?D.scale.ordinal().domain(G.map((se=f(H.tickformat),te=Y,te?function(Q,ee){return te[ee]??se(Q)}:se))).range(G.map(function(Q){return Z-W+(Q-re[0])/(re[1]-re[0])*(2*W-Z)})):D.scale.linear().domain(re).range([Z-W,W])}function p(Z){if(Z.tickvals){var W=x(Z);return D.scale.ordinal().domain(Z.tickvals).range(Z.tickvals.map(function(H){return(H-W[0])/(W[1]-W[0])}))}}function O(Z){var W=Z.map(function(Y){return Y[0]}),H=Z.map(function(Y){var se=S(Y[1]);return D.rgb("rgb("+se[0]+","+se[1]+","+se[2]+")")}),G="rgb".split("").map(function(Y){return D.scale.linear().clamp(!0).domain(W).range(H.map((se=Y,function(te){return te[se]})));var se});return function(Y){return G.map(function(se){return se(Y)})}}function k(Z){return Z.dimensions.some(function(W){return W.brush.filterSpecified})}function I(Z,W,H){var G=d(W),Y=G.trace,se=m.convertTypedArray(G.lineColor),te=Y.line,re={color:S(Y.unselected.line.color),opacity:Y.unselected.line.opacity},Q=a.extractOpts(te),ee=Q.reversescale?a.flipScale(G.cscale):G.cscale,oe=Y.domain,le=Y.dimensions,ue=Z.width,de=Y.labelangle,he=Y.labelside,we=Y.labelfont,Ae=Y.tickfont,Te=Y.rangefont,ve=E.extendDeepNoArrays({},te,{color:se.map(D.scale.linear().domain(x({values:se,range:[Q.min,Q.max],_length:Y._length}))),blockLineCount:h.blockLineCount,canvasOverdrag:h.overdrag*h.canvasPixelRatio}),xe=Math.floor(ue*(oe.x[1]-oe.x[0])),Fe=Math.floor(Z.height*(oe.y[1]-oe.y[0])),Se=Z.margin||{l:80,r:80,t:100,b:80},ke=xe,pe=Fe;return{key:H,colCount:le.filter(m.isVisible).length,dimensions:le,tickDistance:h.tickDistance,unitToColor:O(ee),lines:ve,deselectedLines:re,labelAngle:de,labelSide:he,labelFont:we,tickFont:Ae,rangeFont:Te,layoutWidth:ue,layoutHeight:Z.height,domain:oe,translateX:oe.x[0]*ue,translateY:Z.height-oe.y[1]*Z.height,pad:Se,canvasWidth:ke*h.canvasPixelRatio+2*ve.canvasOverdrag,canvasHeight:pe*h.canvasPixelRatio,width:ke,height:pe,canvasPixelRatio:h.canvasPixelRatio}}function P(Z,W,H){var ue,de,G=H.width,Y=H.height,se=H.dimensions,te=H.canvasPixelRatio,re=function(ue){return G*ue/Math.max(1,H.colCount-1)},Q=h.verticalPadding/Y,ee=(ue=Y,de=h.verticalPadding,D.scale.linear().range([de,ue-de])),oe={key:H.key,xScale:re,model:H,inBrushDrag:!1},le={};return oe.dimensions=se.filter(m.isVisible).map(function(ue,de){var De,Ue,he=(De=ue,Ue=Q,D.scale.linear().domain(x(De)).range([Ue,1-Ue])),we=le[ue.label];le[ue.label]=(we||0)+1;var Ae=ue.label+(we?"__"+we:""),Te=ue.constraintrange,ve=Te&&Te.length;ve&&!Array.isArray(Te[0])&&(Te=[Te]);var xe=ve?Te.map(function(De){return De.map(he)}):[[-1/0,1/0]],Fe=ue.values;Fe.length>ue._length&&(Fe=Fe.slice(0,ue._length));var Se,ke=ue.tickvals;function pe(De,Ue){return{val:De,text:Se[Ue]}}function fe(De,Ue){return De.val-Ue.val}if(Array.isArray(ke)&&ke.length){Se=ue.ticktext,Array.isArray(Se)&&Se.length?Se.length>ke.length?Se=Se.slice(0,ke.length):ke.length>Se.length&&(ke=ke.slice(0,Se.length)):Se=ke.map(f(ue.tickformat));for(var be=1;be<ke.length;be++)if(ke[be]<ke[be-1]){for(var Le=ke.map(pe).sort(fe),Oe=0;Oe<ke.length;Oe++)ke[Oe]=Le[Oe].val,Se[Oe]=Le[Oe].text;break}}else ke=void 0;return Fe=m.convertTypedArray(Fe),{key:Ae,label:ue.label,tickFormat:ue.tickformat,tickvals:ke,ticktext:Se,ordinal:m.isOrdinal(ue),multiselect:ue.multiselect,xIndex:de,crossfilterDimensionIndex:de,visibleIndex:ue._index,height:Y,values:Fe,paddedUnitValues:Fe.map(he),unitTickvals:ke&&ke.map(he),xScale:re,x:re(de),canvasX:re(de)*te,unitToPaddedPx:ee,domainScale:A(Y,h.verticalPadding,ue,ke,Se),ordinalScale:p(ue),parent:oe,model:H,brush:T.makeBrush(Z,ve,xe,function(){Z.linePickActive(!1)},function(){var De=oe;De.focusLayer&&De.focusLayer.render(De.panels,!0);var Ue=k(De);!Z.contextShown()&&Ue?(De.contextLayer&&De.contextLayer.render(De.panels,!0),Z.contextShown(!0)):Z.contextShown()&&!Ue&&(De.contextLayer&&De.contextLayer.render(De.panels,!0,!0),Z.contextShown(!1))},function(De){if(oe.focusLayer.render(oe.panels,!0),oe.pickLayer&&oe.pickLayer.render(oe.panels,!0),Z.linePickActive(!0),W&&W.filterChanged){var Ue=he.invert,Ge=De.map(function(ye){return ye.map(Ue).sort(E.sorterAsc)}).sort(function(ye,Ie){return ye[0]-Ie[0]});W.filterChanged(oe.key,ue._index,Ge)}})}}),oe}function R(Z){Z.classed(h.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function N(Z,W){var G=Z*Math.PI/180;return{dir:"top"===W?1:-1,dx:Math.sin(G),dy:Math.cos(G),degrees:Z}}function j(Z,W,H){for(var G=W.panels||(W.panels=[]),Y=Z.data(),se=0;se<Y.length-1;se++){var te=G[se]||(G[se]={}),re=Y[se],Q=Y[se+1];te.dim0=re,te.dim1=Q,te.canvasX=re.canvasX,te.panelSizeX=Q.canvasX-re.canvasX,te.panelSizeY=W.model.canvasHeight,te.y=0,te.canvasY=0,te.plotGlPixelRatio=H}}function X(Z,W){return M.tickText(Z._ax,W,!1).text}function F(Z,W){if(Z.ordinal)return"";var H=Z.domainScale.domain();return X(Z.model.dimensions[Z.visibleIndex],H[W?H.length-1:0])}ae.exports=function(Z,W,H,G){var Y=Z._context.staticPlot,se=Z._fullLayout,te=se._toppaper,re=se._glcontainer,Q=Z._context.plotGlPixelRatio,ee=Z._fullLayout.paper_bgcolor;!function(De){for(var Ue=0;Ue<De.length;Ue++)for(var Ge=0;Ge<De[Ue].length;Ge++)for(var ye=De[Ue][Ge].trace,Ie=ye.dimensions,Ee=0;Ee<Ie.length;Ee++){var Be=Ie[Ee].values,We=Ie[Ee]._ax;We&&(We.range=We.range?b(We.range[0],We.range[1]):w(Be,ye._length),We.dtick||(We.dtick=.01*(Math.abs(We.range[1]-We.range[0])||1)),We.tickformat=Ie[Ee].tickformat,M.calcTicks(We),We.cleanRange())}}(W);var oe,le,ue=(oe=!0,le=!1,{linePickActive:function(De){return arguments.length?oe=!!De:oe},contextShown:function(De){return arguments.length?le=!!De:le}}),de=W.filter(function(De){return d(De).trace.visible}).map(I.bind(0,H)).map(P.bind(0,ue,G));re.each(function(De,Ue){return E.extendFlat(De,de[Ue])});var he=re.selectAll(".gl-canvas").each(function(De){De.viewModel=de[0],De.viewModel.plotGlPixelRatio=Q,De.viewModel.paperColor=ee,De.model=De.viewModel?De.viewModel.model:null}),we=null;he.filter(function(De){return De.pick}).style("pointer-events",Y?"none":"auto").on("mousemove",function(De){if(ue.linePickActive()&&De.lineLayer&&G&&G.hover){var Ue=D.event,Ge=this.width,ye=this.height,Ie=D.mouse(this),Ee=Ie[0],Be=Ie[1];if(Ee<0||Be<0||Ee>=Ge||Be>=ye)return;var We=De.lineLayer.readPixel(Ee,ye-1-Be),He=0!==We[3],Je=He?We[2]+256*(We[1]+256*We[0]):null,et={x:Ee,y:Be,clientX:Ue.clientX,clientY:Ue.clientY,dataIndex:De.model.key,curveNumber:Je};Je!==we&&(He?G.hover(et):G.unhover&&G.unhover(et),we=Je)}}),he.style("opacity",function(De){return De.pick?0:1}),te.style("background","rgba(255, 255, 255, 0)");var Ae=te.selectAll("."+h.cn.parcoords).data(de,l);Ae.exit().remove(),Ae.enter().append("g").classed(h.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Ae.attr("transform",function(De){return c(De.model.translateX,De.model.translateY)});var Te=Ae.selectAll("."+h.cn.parcoordsControlView).data(u,l);Te.enter().append("g").classed(h.cn.parcoordsControlView,!0),Te.attr("transform",function(De){return c(De.model.pad.l,De.model.pad.t)});var ve=Te.selectAll("."+h.cn.yAxis).data(function(De){return De.dimensions},l);ve.enter().append("g").classed(h.cn.yAxis,!0),Te.each(function(De){j(ve,De,Q)}),he.each(function(De){De.viewModel&&(!De.lineLayer||G?De.lineLayer=_(this,De):De.lineLayer.update(De),(De.key||0===De.key)&&(De.viewModel[De.key]=De.lineLayer),De.lineLayer.render(De.viewModel.panels,!De.context||G))}),ve.attr("transform",function(De){return c(De.xScale(De.xIndex),0)}),ve.call(D.behavior.drag().origin(function(De){return De}).on("drag",function(De){var Ue=De.parent;ue.linePickActive(!1),De.x=Math.max(-h.overdrag,Math.min(De.model.width+h.overdrag,D.event.x)),De.canvasX=De.x*De.model.canvasPixelRatio,ve.sort(function(Ge,ye){return Ge.x-ye.x}).each(function(Ge,ye){Ge.xIndex=ye,Ge.x=De===Ge?Ge.x:Ge.xScale(Ge.xIndex),Ge.canvasX=Ge.x*Ge.model.canvasPixelRatio}),j(ve,Ue,Q),ve.filter(function(Ge){return 0!==Math.abs(De.xIndex-Ge.xIndex)}).attr("transform",function(Ge){return c(Ge.xScale(Ge.xIndex),0)}),D.select(this).attr("transform",c(De.x,0)),ve.each(function(Ge,ye,Ie){Ie===De.parent.key&&(Ue.dimensions[ye]=Ge)}),Ue.contextLayer&&Ue.contextLayer.render(Ue.panels,!1,!k(Ue)),Ue.focusLayer.render&&Ue.focusLayer.render(Ue.panels)}).on("dragend",function(De){var Ue=De.parent;De.x=De.xScale(De.xIndex),De.canvasX=De.x*De.model.canvasPixelRatio,j(ve,Ue,Q),D.select(this).attr("transform",function(Ge){return c(Ge.x,0)}),Ue.contextLayer&&Ue.contextLayer.render(Ue.panels,!1,!k(Ue)),Ue.focusLayer&&Ue.focusLayer.render(Ue.panels),Ue.pickLayer&&Ue.pickLayer.render(Ue.panels,!0),ue.linePickActive(!0),G&&G.axesMoved&&G.axesMoved(Ue.key,Ue.dimensions.map(function(Ge){return Ge.crossfilterDimensionIndex}))})),ve.exit().remove();var xe=ve.selectAll("."+h.cn.axisOverlays).data(u,l);xe.enter().append("g").classed(h.cn.axisOverlays,!0),xe.selectAll("."+h.cn.axis).remove();var Fe=xe.selectAll("."+h.cn.axis).data(u,l);Fe.enter().append("g").classed(h.cn.axis,!0),Fe.each(function(De){var Ue=De.model.height/De.model.tickDistance,Ge=De.domainScale,ye=Ge.domain();D.select(this).call(D.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Ue,De.tickFormat).tickValues(De.ordinal?ye:null).tickFormat(function(Ie){return m.isOrdinal(De)?Ie:X(De.model.dimensions[De.visibleIndex],Ie)}).scale(Ge)),s.font(Fe.selectAll("text"),De.model.tickFont)}),Fe.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Fe.selectAll("text").style("text-shadow",i.makeTextShadow(ee)).style("cursor","default");var Se=xe.selectAll("."+h.cn.axisHeading).data(u,l);Se.enter().append("g").classed(h.cn.axisHeading,!0);var ke=Se.selectAll("."+h.cn.axisTitle).data(u,l);ke.enter().append("text").classed(h.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",Y?"none":"auto"),ke.text(function(De){return De.label}).each(function(De){var Ue=D.select(this);s.font(Ue,De.model.labelFont),i.convertToTspans(Ue,Z)}).attr("transform",function(De){var Ue=N(De.model.labelAngle,De.model.labelSide),Ge=h.axisTitleOffset;return(Ue.dir>0?"":c(0,2*Ge+De.model.height))+v(Ue.degrees)+c(-Ge*Ue.dx,-Ge*Ue.dy)}).attr("text-anchor",function(De){var Ue=N(De.model.labelAngle,De.model.labelSide);return 2*Math.abs(Ue.dx)>Math.abs(Ue.dy)?Ue.dir*Ue.dx<0?"start":"end":"middle"});var pe=xe.selectAll("."+h.cn.axisExtent).data(u,l);pe.enter().append("g").classed(h.cn.axisExtent,!0);var fe=pe.selectAll("."+h.cn.axisExtentTop).data(u,l);fe.enter().append("g").classed(h.cn.axisExtentTop,!0),fe.attr("transform",c(0,-h.axisExtentOffset));var be=fe.selectAll("."+h.cn.axisExtentTopText).data(u,l);be.enter().append("text").classed(h.cn.axisExtentTopText,!0).call(R),be.text(function(De){return F(De,!0)}).each(function(De){s.font(D.select(this),De.model.rangeFont)});var Le=pe.selectAll("."+h.cn.axisExtentBottom).data(u,l);Le.enter().append("g").classed(h.cn.axisExtentBottom,!0),Le.attr("transform",function(De){return c(0,De.model.height+h.axisExtentOffset)});var Oe=Le.selectAll("."+h.cn.axisExtentBottomText).data(u,l);Oe.enter().append("text").classed(h.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(R),Oe.text(function(De){return F(De,!1)}).each(function(De){s.font(D.select(this),De.model.rangeFont)}),T.ensureAxisBrush(xe,ee,Z)}},21341:function(ae,B,r){"use strict";var D=r(17171),E=r(79749),f=r(1602).isVisible,S={};function M(v,c,i){var s=c.indexOf(i),a=v.indexOf(s);return-1===a&&(a+=c.length),a}(ae.exports=function(v,c){var i=v._fullLayout;if(E(v,[],S)){var s={},a={},o={},l={},u=i._size;c.forEach(function(d,m){var h=d[0].trace;o[m]=h.index;var T=l[m]=h._fullInput.index;s[m]=v.data[T].dimensions,a[m]=v.data[T].dimensions.slice()}),D(v,c,{width:u.w,height:u.h,margin:{t:u.t,r:u.r,b:u.b,l:u.l}},{filterChanged:function(d,m,h){var T=a[d][m],_=h.map(function(p){return p.slice()}),g="dimensions["+m+"].constraintrange",w=i._tracePreGUI[v._fullData[o[d]]._fullInput.uid];void 0===w[g]&&(w[g]=T.constraintrange||null);var b=v._fullData[o[d]].dimensions[m];_.length?(1===_.length&&(_=_[0]),T.constraintrange=_,b.constraintrange=_.slice(),_=[_]):(delete T.constraintrange,delete b.constraintrange,_=null);var A={};A[g]=_,v.emit("plotly_restyle",[A,[l[d]]])},hover:function(d){v.emit("plotly_hover",d)},unhover:function(d){v.emit("plotly_unhover",d)},axesMoved:function(d,m){var T,_,h=(T=m,_=a[d].filter(f),function(g,w){return M(T,_,g)-M(T,_,w)});s[d].sort(h),a[d].filter(function(T){return!f(T)}).sort(function(T){return a[d].indexOf(T)}).forEach(function(T){s[d].splice(s[d].indexOf(T),1),s[d].splice(a[d].indexOf(T),0,T)}),v.emit("plotly_restyle",[{dimensions:[s[d]]},[l[d]]])}})}}).reglPrecompiled=S},34e3:function(ae,B,r){"use strict";var D=r(9012),E=r(27670).Y,f=r(41940),S=r(22399),M=r(5386).fF,v=r(5386).si,c=r(1426).extendFlat,i=r(79952).u,s=f({editType:"plot",arrayOk:!0,colorEditType:"plot"});ae.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:S.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:i,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:c({},D.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:M({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:c({},s,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:c({},s,{}),outsidetextfont:c({},s,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:c({},s,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:E({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:c({},s,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(ae,B,r){"use strict";var D=r(74875);B.name="pie",B.plot=function(E,f,S,M){D.plotBasePlot(B.name,E,f,S,M)},B.clean=function(E,f,S,M){D.cleanBasePlot(B.name,E,f,S,M)}},32354:function(ae,B,r){"use strict";var D=r(92770),E=r(84267),f=r(7901),S={};function M(c){return function(i,s){return!!i&&!!(i=E(i)).isValid()&&(i=f.addOpacity(i,i.getAlpha()),c[s]||(c[s]=i),i)}}function v(c,i){var s,a=JSON.stringify(c),o=i[a];if(!o){for(o=c.slice(),s=0;s<c.length;s++)o.push(E(c[s]).lighten(20).toHexString());for(s=0;s<c.length;s++)o.push(E(c[s]).darken(20).toHexString());i[a]=o}return o}ae.exports={calc:function(c,i){var s,a,o=[],l=c._fullLayout,u=l.hiddenlabels||[],d=i.labels,m=i.marker.colors||[],h=i.values,T=i._length,_=i._hasValues&&T;if(i.dlabel)for(d=new Array(T),s=0;s<T;s++)d[s]=String(i.label0+s*i.dlabel);var g={},w=M(l["_"+i.type+"colormap"]),x=0,b=!1;for(s=0;s<T;s++){var A,p,O;if(_){if(!D(A=h[s]))continue;A=+A}else A=1;void 0!==(p=d[s])&&""!==p||(p=s);var k=g[p=String(p)];void 0===k?(g[p]=o.length,(O=-1!==u.indexOf(p))||(x+=A),o.push({v:A,label:p,color:w(m[s],p),i:s,pts:[s],hidden:O})):(b=!0,(a=o[k]).v+=A,a.pts.push(s),a.hidden||(x+=A),!1===a.color&&m[s]&&(a.color=w(m[s],p)))}return o=o.filter(function(I){return I.v>=0}),("funnelarea"===i.type?b:i.sort)&&o.sort(function(I,P){return P.v-I.v}),o[0]&&(o[0].vTotal=x),o},crossTraceCalc:function(c,i){var s=(i||{}).type;s||(s="pie");var a=c._fullLayout,o=c.calcdata,l=a[s+"colorway"],u=a["_"+s+"colormap"];a["extend"+s+"colors"]&&(l=v(l,S));for(var d=0,m=0;m<o.length;m++){var h=o[m];if(h[0].trace.type===s)for(var T=0;T<h.length;T++){var _=h[T];!1===_.color&&(u[_.label]?_.color=u[_.label]:(u[_.label]=_.color=l[d%l.length],d++))}}},makePullColorFn:M,generateExtendedColors:v}},37434:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(34e3),S=r(27670).c,M=r(90769).handleText,v=r(71828).coercePattern;function c(s,a){var o=Array.isArray(s),l=E.isArrayOrTypedArray(a),u=Math.min(o?s.length:1/0,l?a.length:1/0);if(isFinite(u)||(u=0),u&&l){for(var d,m=0;m<u;m++){var h=a[m];if(D(h)&&h>0){d=!0;break}}d||(u=0)}return{hasLabels:o,hasValues:l,len:u}}function i(s,a,o,l,u){l("marker.line.width")&&l("marker.line.color",u?void 0:o.paper_bgcolor);var d=l("marker.colors");v(l,"marker.pattern",d),s.marker&&!a.marker.pattern.fgcolor&&(a.marker.pattern.fgcolor=s.marker.colors),a.marker.pattern.bgcolor||(a.marker.pattern.bgcolor=o.paper_bgcolor)}ae.exports={handleLabelsAndValues:c,handleMarkerDefaults:i,supplyDefaults:function(s,a,o,l){function u(b,A){return E.coerce(s,a,f,b,A)}var d=c(u("labels"),u("values")),m=d.len;if(a._hasLabels=d.hasLabels,a._hasValues=d.hasValues,!a._hasLabels&&a._hasValues&&(u("label0"),u("dlabel")),m){a._length=m,i(s,a,l,u,!0),u("scalegroup");var h,T=u("text"),_=u("texttemplate");if(_||(h=u("textinfo",Array.isArray(T)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),_||h&&"none"!==h){var g=u("textposition");M(s,a,l,u,g,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(g)||"auto"===g||"outside"===g)&&u("automargin"),("inside"===g||"auto"===g||Array.isArray(g))&&u("insidetextorientation")}S(a,l,u);var w=u("hole");if(u("title.text")){var x=u("title.position",w?"middle center":"top center");w||"middle center"!==x||(a.title.position="top center"),E.coerceFont(u,"title.font",l.font)}u("sort"),u("direction"),u("rotation"),u("pull")}else a.visible=!1}}},20007:function(ae,B,r){"use strict";var D=r(23469).appendArrayMultiPointValues;ae.exports=function(E,f){var S={curveNumber:f.index,pointNumbers:E.pts,data:f._input,fullData:f,label:E.label,color:E.color,value:E.v,percent:E.percent,text:E.text,bbox:E.bbox,v:E.v};return 1===E.pts.length&&(S.pointNumber=S.i=E.pts[0]),D(S,f,E.pts),"funnelarea"===f.type&&(delete S.v,delete S.i),S}},22209:function(ae,B,r){"use strict";var D=r(91424),E=r(7901);ae.exports=function(f,S,M,v){var c=M.marker.pattern;c&&c.shape?D.pointStyle(f,M,v,S):E.fill(f,S.color)}},53581:function(ae,B,r){"use strict";var D=r(71828);function E(f){return-1!==f.indexOf("e")?f.replace(/[.]?0+e/,"e"):-1!==f.indexOf(".")?f.replace(/[.]?0+$/,""):f}B.formatPiePercent=function(f,S){var M=E((100*f).toPrecision(3));return D.numSeparate(M,S)+"%"},B.formatPieValue=function(f,S){var M=E(f.toPrecision(10));return D.numSeparate(M,S)},B.getFirstFilled=function(f,S){if(Array.isArray(f))for(var M=0;M<S.length;M++){var v=f[S[M]];if(v||0===v||""===v)return v}},B.castOption=function(f,S){return Array.isArray(f)?B.getFirstFilled(f,S):f||void 0},B.getRotationAngle=function(f){return("auto"===f?0:f)*Math.PI/180}},58810:function(ae,B,r){"use strict";ae.exports={attributes:r(34e3),supplyDefaults:r(37434).supplyDefaults,supplyLayoutDefaults:r(92097),layoutAttributes:r(92774),calc:r(32354).calc,crossTraceCalc:r(32354).crossTraceCalc,plot:r(14575).plot,style:r(68357),styleOne:r(63463),moduleType:"trace",name:"pie",basePlotModule:r(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(ae){"use strict";ae.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(ae,B,r){"use strict";var D=r(71828),E=r(92774);ae.exports=function(f,S){function M(v,c){return D.coerce(f,S,E,v,c)}M("hiddenlabels"),M("piecolorway",S.colorway),M("extendpiecolors")}},14575:function(ae,B,r){"use strict";var D=r(39898),E=r(74875),f=r(30211),S=r(7901),M=r(91424),v=r(71828),c=v.strScale,i=v.strTranslate,s=r(63893),a=r(72597),o=a.recordMinTextSize,l=a.clearMinTextSize,u=r(97313).TEXTPAD,d=r(53581),m=r(20007),h=r(71828).isValidTextValue;function T(W,H,G){var Y=G[0],se=Y.cx,te=Y.cy,re=Y.trace,Q="funnelarea"===re.type;"_hasHoverLabel"in re||(re._hasHoverLabel=!1),"_hasHoverEvent"in re||(re._hasHoverEvent=!1),W.on("mouseover",function(ee){var oe=H._fullLayout,le=H._fullData[re.index];if(!H._dragging&&!1!==oe.hovermode){var ue=le.hoverinfo;if(Array.isArray(ue)&&(ue=f.castHoverinfo({hoverinfo:[d.castOption(ue,ee.pts)],_module:re._module},oe,0)),"all"===ue&&(ue="label+text+value+percent+name"),le.hovertemplate||"none"!==ue&&"skip"!==ue&&ue){var de=ee.rInscribed||0,he=se+ee.pxmid[0]*(1-de),we=te+ee.pxmid[1]*(1-de),Ae=oe.separators,Te=[];if(ue&&-1!==ue.indexOf("label")&&Te.push(ee.label),ee.text=d.castOption(le.hovertext||le.text,ee.pts),ue&&-1!==ue.indexOf("text")){var ve=ee.text;v.isValidTextValue(ve)&&Te.push(ve)}ee.value=ee.v,ee.valueLabel=d.formatPieValue(ee.v,Ae),ue&&-1!==ue.indexOf("value")&&Te.push(ee.valueLabel),ee.percent=ee.v/Y.vTotal,ee.percentLabel=d.formatPiePercent(ee.percent,Ae),ue&&-1!==ue.indexOf("percent")&&Te.push(ee.percentLabel);var xe=le.hoverlabel,Fe=xe.font,Se=[];f.loneHover({trace:re,x0:he-de*Y.r,x1:he+de*Y.r,y:we,_x0:Q?se+ee.TL[0]:he-de*Y.r,_x1:Q?se+ee.TR[0]:he+de*Y.r,_y0:Q?te+ee.TL[1]:we-de*Y.r,_y1:Q?te+ee.BL[1]:we+de*Y.r,text:Te.join("<br>"),name:le.hovertemplate||-1!==ue.indexOf("name")?le.name:void 0,idealAlign:ee.pxmid[0]<0?"left":"right",color:d.castOption(xe.bgcolor,ee.pts)||ee.color,borderColor:d.castOption(xe.bordercolor,ee.pts),fontFamily:d.castOption(Fe.family,ee.pts),fontSize:d.castOption(Fe.size,ee.pts),fontColor:d.castOption(Fe.color,ee.pts),nameLength:d.castOption(xe.namelength,ee.pts),textAlign:d.castOption(xe.align,ee.pts),hovertemplate:d.castOption(le.hovertemplate,ee.pts),hovertemplateLabels:ee,eventData:[m(ee,le)]},{container:oe._hoverlayer.node(),outerContainer:oe._paper.node(),gd:H,inOut_bbox:Se}),ee.bbox=Se[0],re._hasHoverLabel=!0}re._hasHoverEvent=!0,H.emit("plotly_hover",{points:[m(ee,le)],event:D.event})}}),W.on("mouseout",function(ee){var oe=H._fullLayout,le=H._fullData[re.index],ue=D.select(this).datum();re._hasHoverEvent&&(ee.originalEvent=D.event,H.emit("plotly_unhover",{points:[m(ue,le)],event:D.event}),re._hasHoverEvent=!1),re._hasHoverLabel&&(f.loneUnhover(oe._hoverlayer.node()),re._hasHoverLabel=!1)}),W.on("click",function(ee){H._dragging||!1===H._fullLayout.hovermode||(H._hoverdata=[m(ee,H._fullData[re.index])],f.click(H,D.event))})}function _(W,H,G){var Y=d.castOption(W.insidetextfont.color,H.pts);!Y&&W._input.textfont&&(Y=d.castOption(W._input.textfont.color,H.pts));var se=d.castOption(W.insidetextfont.family,H.pts)||d.castOption(W.textfont.family,H.pts)||G.family,te=d.castOption(W.insidetextfont.size,H.pts)||d.castOption(W.textfont.size,H.pts)||G.size;return{color:Y||S.contrast(H.color),family:se,size:te}}function g(W,H){for(var G,Y,se=0;se<W.length;se++)if((Y=(G=W[se][0]).trace).title.text){var te=Y.title.text;Y._meta&&(te=v.templateString(te,Y._meta));var re=M.tester.append("text").attr("data-notex",1).text(te).call(M.font,Y.title.font).call(s.convertToTspans,H),Q=M.bBox(re.node(),!0);G.titleBox={width:Q.width,height:Q.height},re.remove()}}function w(W,H,G){var Y=G.r||H.rpx1,se=H.rInscribed;if(H.startangle===H.stopangle)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var te,re=H.ring,Q=1===re&&Math.abs(H.startangle-H.stopangle)===2*Math.PI,ee=H.halfangle,oe=H.midangle,le=G.trace.insidetextorientation,ue="horizontal"===le,de="tangential"===le,he="radial"===le,we="auto"===le,Ae=[];if(!we){var Te,ve=function(fe,be){if(Ie=(Ue=H).stopangle,(ye=Ue.startangle)>(Ge=fe)&&Ge>Ie||ye<Ge&&Ge<Ie){var Le=Math.abs(fe-H.startangle),Oe=Math.abs(fe-H.stopangle),De=Le<Oe?Le:Oe;(te="tan"===be?b(W,Y,re,De,0):x(W,Y,re,De,Math.PI/2)).textPosAngle=fe,Ae.push(te)}var Ue,Ge,ye,Ie};if(ue||de){for(Te=4;Te>=-4;Te-=2)ve(Math.PI*Te,"tan");for(Te=4;Te>=-4;Te-=2)ve(Math.PI*(Te+1),"tan")}if(ue||he){for(Te=4;Te>=-4;Te-=2)ve(Math.PI*(Te+1.5),"rad");for(Te=4;Te>=-4;Te-=2)ve(Math.PI*(Te+.5),"rad")}}if(Q||we||ue){var xe=Math.sqrt(W.width*W.width+W.height*W.height);if((te={scale:se*Y*2/xe,rCenter:1-se,rotate:0}).textPosAngle=(H.startangle+H.stopangle)/2,te.scale>=1)return te;Ae.push(te)}(we||he)&&((te=x(W,Y,re,ee,oe)).textPosAngle=(H.startangle+H.stopangle)/2,Ae.push(te)),(we||de)&&((te=b(W,Y,re,ee,oe)).textPosAngle=(H.startangle+H.stopangle)/2,Ae.push(te));for(var Fe=0,Se=0,ke=0;ke<Ae.length;ke++){var pe=Ae[ke].scale;if(Se<pe&&(Se=pe,Fe=ke),!we&&Se>=1)break}return Ae[Fe]}function x(W,H,G,Y,se){H=Math.max(0,H-2*u);var te=W.width/W.height,re=O(te,Y,H,G);return{scale:2*re/W.height,rCenter:A(te,re/H),rotate:p(se)}}function b(W,H,G,Y,se){H=Math.max(0,H-2*u);var te=W.height/W.width,re=O(te,Y,H,G);return{scale:2*re/W.width,rCenter:A(te,re/H),rotate:p(se+Math.PI/2)}}function A(W,H){return Math.cos(H)-W*H}function p(W){return(180/Math.PI*W+720)%180-90}function O(W,H,G,Y){var se=W+1/(2*Math.tan(H));return G*Math.min(1/(Math.sqrt(se*se+.5)+se),Y/(Math.sqrt(W*W+Y/2)+W))}function k(W,H){return W.v!==H.vTotal||H.trace.hole?Math.min(1/(1+1/Math.sin(W.halfangle)),W.ring/2):1}function I(W,H){var G=H.pxmid[0],Y=H.pxmid[1],se=W.width/2,te=W.height/2;return G<0&&(se*=-1),Y<0&&(te*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(te)*(se>0?1:-1)/2,y:te/(1+G*G/(Y*Y)),outside:!0}}function P(W,H){var G,Y,se,te=W.trace,re={x:W.cx,y:W.cy},Q={tx:0,ty:0};Q.ty+=te.title.font.size,se=N(te),-1!==te.title.position.indexOf("top")?(re.y-=(1+se)*W.r,Q.ty-=W.titleBox.height):-1!==te.title.position.indexOf("bottom")&&(re.y+=(1+se)*W.r);var ee,oe=W.r/(void 0===(ee=W.trace.aspectratio)?1:ee),le=H.w*(te.domain.x[1]-te.domain.x[0])/2;return-1!==te.title.position.indexOf("left")?(le+=oe,re.x-=(1+se)*oe,Q.tx+=W.titleBox.width/2):-1!==te.title.position.indexOf("center")?le*=2:-1!==te.title.position.indexOf("right")&&(le+=oe,re.x+=(1+se)*oe,Q.tx-=W.titleBox.width/2),G=le/W.titleBox.width,Y=R(W,H)/W.titleBox.height,{x:re.x,y:re.y,scale:Math.min(G,Y),tx:Q.tx,ty:Q.ty}}function R(W,H){var G=W.trace;return Math.min(W.titleBox.height,H.h*(G.domain.y[1]-G.domain.y[0])/2)}function N(W){var H,G=W.pull;if(!G)return 0;if(Array.isArray(G))for(G=0,H=0;H<W.pull.length;H++)W.pull[H]>G&&(G=W.pull[H]);return G}function j(W,H){for(var G=[],Y=0;Y<W.length;Y++){var se=W[Y][0],te=se.trace,re=te.domain,Q=H.w*(re.x[1]-re.x[0]),ee=H.h*(re.y[1]-re.y[0]);te.title.text&&"middle center"!==te.title.position&&(ee-=R(se,H));var le=ee/2;"funnelarea"!==te.type||te.scalegroup||(le/=te.aspectratio),se.r=Math.min(Q/2,le)/(1+N(te)),se.cx=H.l+H.w*(te.domain.x[1]+te.domain.x[0])/2,se.cy=H.t+H.h*(1-te.domain.y[0])-ee/2,te.title.text&&-1!==te.title.position.indexOf("bottom")&&(se.cy-=R(se,H)),te.scalegroup&&-1===G.indexOf(te.scalegroup)&&G.push(te.scalegroup)}!function(ue,de){for(var he,we,Ae,Te=0;Te<de.length;Te++){var ve=1/0,xe=de[Te];for(we=0;we<ue.length;we++)if((Ae=(he=ue[we][0]).trace).scalegroup===xe){var Fe;if("pie"===Ae.type)Fe=he.r*he.r;else if("funnelarea"===Ae.type){var Se,ke;Ae.aspectratio>1?ke=(Se=he.r)/Ae.aspectratio:Se=(ke=he.r)*Ae.aspectratio,Fe=(Se*=(1+Ae.baseratio)/2)*ke}ve=Math.min(ve,Fe/he.vTotal)}for(we=0;we<ue.length;we++)if((Ae=(he=ue[we][0]).trace).scalegroup===xe){var pe=ve*he.vTotal;"funnelarea"===Ae.type&&(pe/=(1+Ae.baseratio)/2,pe/=Ae.aspectratio),he.r=Math.sqrt(pe)}}}(W,G)}function X(W,H){return[W*Math.sin(H),-W*Math.cos(H)]}function F(W,H,G){var Fe,Y=W._fullLayout,se=G.trace,te=se.texttemplate,re=se.textinfo;if(!te&&re&&"none"!==re){var Q,ee=re.split("+"),oe=function(Fe){return-1!==ee.indexOf(Fe)},le=oe("label"),ue=oe("text"),de=oe("value"),he=oe("percent"),we=Y.separators;if(Q=le?[H.label]:[],ue){var Ae=d.getFirstFilled(se.text,H.pts);h(Ae)&&Q.push(Ae)}de&&Q.push(d.formatPieValue(H.v,we)),he&&Q.push(d.formatPiePercent(H.v/G.vTotal,we)),H.text=Q.join("<br>")}if(te){var Te=v.castOption(se,H.i,"texttemplate");if(Te){var ve={label:(Fe=H).label,value:Fe.v,valueLabel:d.formatPieValue(Fe.v,Y.separators),percent:Fe.v/G.vTotal,percentLabel:d.formatPiePercent(Fe.v/G.vTotal,Y.separators),color:Fe.color,text:Fe.text,customdata:v.castOption(se,Fe.i,"customdata")},xe=d.getFirstFilled(se.text,H.pts);(h(xe)||""===xe)&&(ve.text=xe),H.text=v.texttemplateString(Te,ve,W._fullLayout._d3locale,ve,se._meta||{})}else H.text=""}}function Z(W,H){var G=W.rotate*Math.PI/180,Y=Math.cos(G),se=Math.sin(G),te=(H.left+H.right)/2,re=(H.top+H.bottom)/2;W.textX=te*Y-re*se,W.textY=te*se+re*Y,W.noCenter=!0}ae.exports={plot:function(W,H){var G=W._context.staticPlot,Y=W._fullLayout,se=Y._size;l("pie",Y),g(H,W),j(H,se);var te=v.makeTraceGroups(Y._pielayer,H,"trace").each(function(re){var Q=D.select(this),ee=re[0],oe=ee.trace;(function(le){var ue,de,he,we=le[0],Ae=we.r,Te=we.trace,ve=d.getRotationAngle(Te.rotation),xe=2*Math.PI/we.vTotal,Fe="px0",Se="px1";if("counterclockwise"===Te.direction){for(ue=0;ue<le.length&&le[ue].hidden;ue++);if(ue===le.length)return;ve+=xe*le[ue].v,xe*=-1,Fe="px1",Se="px0"}for(he=X(Ae,ve),ue=0;ue<le.length;ue++)(de=le[ue]).hidden||(de[Fe]=he,de.startangle=ve,de.pxmid=X(Ae,ve+=xe*de.v/2),de.midangle=ve,he=X(Ae,ve+=xe*de.v/2),de.stopangle=ve,de[Se]=he,de.largeArc=de.v>we.vTotal/2?1:0,de.halfangle=Math.PI*Math.min(de.v/we.vTotal,.5),de.ring=1-Te.hole,de.rInscribed=k(de,we))})(re),Q.attr("stroke-linejoin","round"),Q.each(function(){var le=D.select(this).selectAll("g.slice").data(re);le.enter().append("g").classed("slice",!0),le.exit().remove();var ue=[[[],[]],[[],[]]],de=!1;le.each(function(Se,ke){if(Se.hidden)D.select(this).selectAll("path,g").remove();else{Se.pointNumber=Se.i,Se.curveNumber=oe.index,ue[Se.pxmid[1]<0?0:1][Se.pxmid[0]<0?0:1].push(Se);var pe=ee.cx,fe=ee.cy,be=D.select(this),Le=be.selectAll("path.surface").data([Se]);if(Le.enter().append("path").classed("surface",!0).style({"pointer-events":G?"none":"all"}),be.call(T,W,re),oe.pull){var Oe=+d.castOption(oe.pull,Se.pts)||0;Oe>0&&(pe+=Oe*Se.pxmid[0],fe+=Oe*Se.pxmid[1])}Se.cxFinal=pe,Se.cyFinal=fe;var De=oe.hole;if(Se.v===ee.vTotal){var Ue="M"+(pe+Se.px0[0])+","+(fe+Se.px0[1])+Be(Se.px0,Se.pxmid,!0,1)+Be(Se.pxmid,Se.px0,!0,1)+"Z";Le.attr("d",De?"M"+(pe+De*Se.px0[0])+","+(fe+De*Se.px0[1])+Be(Se.px0,Se.pxmid,!1,De)+Be(Se.pxmid,Se.px0,!1,De)+"Z"+Ue:Ue)}else{var Ge=Be(Se.px0,Se.px1,!0,1);if(De){var ye=1-De;Le.attr("d","M"+(pe+De*Se.px1[0])+","+(fe+De*Se.px1[1])+Be(Se.px1,Se.px0,!1,De)+"l"+ye*Se.px0[0]+","+ye*Se.px0[1]+Ge+"Z")}else Le.attr("d","M"+pe+","+fe+"l"+Se.px0[0]+","+Se.px0[1]+Ge+"Z")}F(W,Se,ee);var Ie=d.castOption(oe.textposition,Se.pts),Ee=be.selectAll("g.slicetext").data(Se.text&&"none"!==Ie?[0]:[]);Ee.enter().append("g").classed("slicetext",!0),Ee.exit().remove(),Ee.each(function(){var Dt,Et,ht,We=v.ensureSingle(D.select(this),"text","",function(Dt){Dt.attr("data-notex",1)}),He=v.ensureUniformFontSize(W,"outside"===Ie?(ht=Y.font,{color:d.castOption((Dt=oe).outsidetextfont.color,(Et=Se).pts)||d.castOption(Dt.textfont.color,Et.pts)||ht.color,family:d.castOption(Dt.outsidetextfont.family,Et.pts)||d.castOption(Dt.textfont.family,Et.pts)||ht.family,size:d.castOption(Dt.outsidetextfont.size,Et.pts)||d.castOption(Dt.textfont.size,Et.pts)||ht.size}):_(oe,Se,Y.font));We.text(Se.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(M.font,He).call(s.convertToTspans,W);var Je,et=M.bBox(We.node());if("outside"===Ie)Je=I(et,Se);else if(Je=w(et,Se,ee),"auto"===Ie&&Je.scale<1){var at=v.ensureUniformFontSize(W,oe.outsidetextfont);We.call(M.font,at),Je=I(et=M.bBox(We.node()),Se)}var mt=Je.textPosAngle,ct=void 0===mt?Se.pxmid:X(ee.r,mt);if(Je.targetX=pe+ct[0]*Je.rCenter+(Je.x||0),Je.targetY=fe+ct[1]*Je.rCenter+(Je.y||0),Z(Je,et),Je.outside){var St=Je.targetY;Se.yLabelMin=St-et.height/2,Se.yLabelMid=St,Se.yLabelMax=St+et.height/2,Se.labelExtraX=0,Se.labelExtraY=0,de=!0}Je.fontSize=He.size,o(oe.type,Je,Y),re[ke].transform=Je,v.setTransormAndDisplay(We,Je)})}function Be(We,He,Je,et){return"a"+et*ee.r+","+et*ee.r+" 0 "+Se.largeArc+(Je?" 1 ":" 0 ")+et*(He[0]-We[0])+","+et*(He[1]-We[1])}});var ke,he=D.select(this).selectAll("g.titletext").data(oe.title.text?[0]:[]);if(he.enter().append("g").classed("titletext",!0),he.exit().remove(),he.each(function(){var Se,fe,be,ke=v.ensureSingle(D.select(this),"text","",function(fe){fe.attr("data-notex",1)}),pe=oe.title.text;oe._meta&&(pe=v.templateString(pe,oe._meta)),ke.text(pe).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(M.font,oe.title.font).call(s.convertToTspans,W),Se="middle center"===oe.title.position?(fe=ee,be=Math.sqrt(fe.titleBox.width*fe.titleBox.width+fe.titleBox.height*fe.titleBox.height),{x:fe.cx,y:fe.cy,scale:fe.trace.hole*fe.r*2/be,tx:0,ty:-fe.titleBox.height/2+fe.trace.title.font.size}):P(ee,se),ke.attr("transform",i(Se.x,Se.y)+c(Math.min(1,Se.scale))+i(Se.tx,Se.ty))}),de&&function(Se,ke){var pe,fe,be,Le,Oe,De,Ue,Ge,ye,Ie,Ee,Be,We;function He(mt,ct){return mt.pxmid[1]-ct.pxmid[1]}function Je(mt,ct){return ct.pxmid[1]-mt.pxmid[1]}function et(mt,ct){ct||(ct={});var St,Dt,Et,ht,pt=ct.labelExtraY+(fe?ct.yLabelMax:ct.yLabelMin),Pt=fe?mt.yLabelMin:mt.yLabelMax,Ft=fe?mt.yLabelMax:mt.yLabelMin,Ht=mt.cyFinal+Oe(mt.px0[1],mt.px1[1]),Lt=pt-Pt;if(Lt*Ue>0&&(mt.labelExtraY=Lt),Array.isArray(ke.pull))for(Dt=0;Dt<Ie.length;Dt++)(Et=Ie[Dt])===mt||(d.castOption(ke.pull,mt.pts)||0)>=(d.castOption(ke.pull,Et.pts)||0)||((mt.pxmid[1]-Et.pxmid[1])*Ue>0?(Lt=Et.cyFinal+Oe(Et.px0[1],Et.px1[1])-Pt-mt.labelExtraY)*Ue>0&&(mt.labelExtraY+=Lt):(Ft+mt.labelExtraY-Ht)*Ue>0&&(St=3*De*Math.abs(Dt-Ie.indexOf(mt)),(ht=Et.cxFinal+Le(Et.px0[0],Et.px1[0])+St-(mt.cxFinal+mt.pxmid[0])-mt.labelExtraX)*De>0&&(mt.labelExtraX+=ht)))}for(fe=0;fe<2;fe++)for(be=fe?He:Je,Oe=fe?Math.max:Math.min,Ue=fe?1:-1,pe=0;pe<2;pe++){for(Le=pe?Math.max:Math.min,De=pe?1:-1,(Ge=Se[fe][pe]).sort(be),Ie=(ye=Se[1-fe][pe]).concat(Ge),Be=[],Ee=0;Ee<Ge.length;Ee++)void 0!==Ge[Ee].yLabelMid&&Be.push(Ge[Ee]);for(We=!1,Ee=0;fe&&Ee<ye.length;Ee++)if(void 0!==ye[Ee].yLabelMid){We=ye[Ee];break}for(Ee=0;Ee<Be.length;Ee++){var at=Ee&&Be[Ee-1];We&&!Ee&&(at=We),et(Be[Ee],at)}}}(ue,oe),ke=oe,le.each(function(pe){var fe=D.select(this);if(pe.labelExtraX||pe.labelExtraY){var be=fe.select("g.slicetext text");pe.transform.targetX+=pe.labelExtraX,pe.transform.targetY+=pe.labelExtraY,v.setTransormAndDisplay(be,pe.transform);var Le=pe.cxFinal+pe.pxmid[0],Oe="M"+Le+","+(pe.cyFinal+pe.pxmid[1]),De=(pe.yLabelMax-pe.yLabelMin)*(pe.pxmid[0]<0?-1:1)/4;if(pe.labelExtraX){var Ue=pe.labelExtraX*pe.pxmid[1]/pe.pxmid[0],Ge=pe.yLabelMid+pe.labelExtraY-(pe.cyFinal+pe.pxmid[1]);Math.abs(Ue)>Math.abs(Ge)?Oe+="l"+Ge*pe.pxmid[0]/pe.pxmid[1]+","+Ge+"H"+(Le+pe.labelExtraX+De):Oe+="l"+pe.labelExtraX+","+Ue+"v"+(Ge-Ue)+"h"+De}else Oe+="V"+(pe.yLabelMid+pe.labelExtraY)+"h"+De;v.ensureSingle(fe,"path","textline").call(S.stroke,ke.outsidetextfont.color).attr({"stroke-width":Math.min(2,ke.outsidetextfont.size/8),d:Oe,fill:"none"})}else fe.select("path.textline").remove()}),de&&oe.automargin){var we=M.bBox(Q.node()),Ae=oe.domain,xe=(se.w*(Ae.x[1]-Ae.x[0])*.5-ee.r)/se.w,Fe=(se.h*(Ae.y[1]-Ae.y[0])*.5-ee.r)/se.h;E.autoMargin(W,"pie."+oe.uid+".automargin",{xl:Ae.x[0]-xe,xr:Ae.x[1]+xe,yb:Ae.y[0]-Fe,yt:Ae.y[1]+Fe,l:Math.max(ee.cx-ee.r-we.left,0),r:Math.max(we.right-(ee.cx+ee.r),0),b:Math.max(we.bottom-(ee.cy+ee.r),0),t:Math.max(ee.cy-ee.r-we.top,0),pad:5})}})});setTimeout(function(){te.selectAll("tspan").each(function(){var re=D.select(this);re.attr("dy")&&re.attr("dy",re.attr("dy"))})},0)},formatSliceLabel:F,transformInsideText:w,determineInsideTextFont:_,positionTitleOutside:P,prerenderTitles:g,layoutAreas:j,attachFxHandlers:T,computeTransform:Z}},68357:function(ae,B,r){"use strict";var D=r(39898),E=r(63463),f=r(72597).resizeText;ae.exports=function(S){var M=S._fullLayout._pielayer.selectAll(".trace");f(S,M,"pie"),M.each(function(v){var c=v[0].trace,i=D.select(this);i.style({opacity:c.opacity}),i.selectAll("path.surface").each(function(s){D.select(this).call(E,s,c,S)})})}},63463:function(ae,B,r){"use strict";var D=r(7901),E=r(53581).castOption,f=r(22209);ae.exports=function(S,M,v,c){var i=v.marker.line,s=E(i.color,M.pts)||D.defaultLine,a=E(i.width,M.pts)||0;S.call(f,M,v,c).style("stroke-width",a).call(D.stroke,s)}},10959:function(ae,B,r){"use strict";var D=r(82196);ae.exports={x:D.x,y:D.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:D.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(ae,B,r){"use strict";var D=r(9330).gl_pointcloud2d,E=r(78614),f=r(71739).findExtremes,S=r(34603);function M(c,i){this.scene=c,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=D(c.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var v=M.prototype;v.handlePick=function(c){var i=this.idToIndex[c.pointId];return{trace:this,dataCoord:c.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*i],this.pickXYData[2*i+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:Array.isArray(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},v.update=function(c){this.index=c.index,this.textLabels=c.text,this.name=c.name,this.hoverinfo=c.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(c),this.color=S(c,{})},v.updateFast=function(c){var i,s,a,o,l,u,d=this.xData=this.pickXData=c.x,m=this.yData=this.pickYData=c.y,h=this.pickXYData=c.xy,_=c.indices,g=this.bounds;if(h){if(a=h,i=h.length>>>1,c.xbounds&&c.ybounds)g[0]=c.xbounds[0],g[2]=c.xbounds[1],g[1]=c.ybounds[0],g[3]=c.ybounds[1];else for(u=0;u<i;u++)l=a[2*u+1],(o=a[2*u])<g[0]&&(g[0]=o),o>g[2]&&(g[2]=o),l<g[1]&&(g[1]=l),l>g[3]&&(g[3]=l);if(_)s=_;else for(s=new Int32Array(i),u=0;u<i;u++)s[u]=u}else for(i=d.length,a=new Float32Array(2*i),s=new Int32Array(i),u=0;u<i;u++)o=d[u],l=m[u],s[u]=u,a[2*u]=o,a[2*u+1]=l,o<g[0]&&(g[0]=o),o>g[2]&&(g[2]=o),l<g[1]&&(g[1]=l),l>g[3]&&(g[3]=l);this.idToIndex=s,this.pointcloudOptions.idToIndex=s,this.pointcloudOptions.positions=a;var w=E(c.marker.color),x=E(c.marker.border.color),b=c.opacity*c.marker.opacity;w[3]*=b,this.pointcloudOptions.color=w;var A=c.marker.blend;null===A&&(A=d.length<100||m.length<100),this.pointcloudOptions.blend=A,x[3]*=b,this.pointcloudOptions.borderColor=x;var p=c.marker.sizemin,O=Math.max(c.marker.sizemax,c.marker.sizemin);this.pointcloudOptions.sizeMin=p,this.pointcloudOptions.sizeMax=O,this.pointcloudOptions.areaRatio=c.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var k=this.scene.xaxis,I=this.scene.yaxis,P=O/2||.5;c._extremes[k._id]=f(k,[g[0],g[2]],{ppad:P}),c._extremes[I._id]=f(I,[g[1],g[3]],{ppad:P})},v.dispose=function(){this.pointcloud.dispose()},ae.exports=function(c,i){var s=new M(c,i.uid);return s.update(i),s}},33876:function(ae,B,r){"use strict";var D=r(71828),E=r(10959);ae.exports=function(f,S,M){function v(c,i){return D.coerce(f,S,E,c,i)}v("x"),v("y"),v("xbounds"),v("ybounds"),f.xy&&f.xy instanceof Float32Array&&(S.xy=f.xy),f.indices&&f.indices instanceof Int32Array&&(S.indices=f.indices),v("text"),v("marker.color",M),v("marker.opacity"),v("marker.blend"),v("marker.sizemin"),v("marker.sizemax"),v("marker.border.color",M),v("marker.border.arearatio"),S._length=null}},20593:function(ae,B,r){"use strict";["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" "),ae.exports={attributes:r(10959),supplyDefaults:r(33876),calc:r(36563),plot:r(42743),moduleType:"trace",name:"pointcloud",basePlotModule:r(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(ae,B,r){"use strict";var D=r(41940),E=r(9012),f=r(22399),S=r(77914),M=r(27670).Y,v=r(5386).fF,c=r(50693),i=r(44467).templatedArray,s=r(12663).descriptionOnlyNumbers,a=r(1426).extendFlat,o=r(30962).overrideAll;(ae.exports=o({hoverinfo:a({},E.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:S.hoverlabel,domain:M({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:s("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:D({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:f.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:S.hoverlabel,hovertemplate:v({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:f.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:S.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:i("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:a(c().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},75536:function(ae,B,r){"use strict";var D=r(30962).overrideAll,E=r(27659).a0,f=r(60436),S=r(528),M=r(6964),v=r(28569),c=r(47322).prepSelect,i=r(71828),s=r(73972),a="sankey";function o(l,u){var d=l._fullData[u],m=l._fullLayout,h=m.dragmode,_=d._bgRect;if(_&&"pan"!==h&&"zoom"!==h){M(_,"pan"===m.dragmode?"move":"crosshair");var g={_id:"x",c2p:i.identity,_offset:d._sankey.translateX,_length:d._sankey.width},w={_id:"y",c2p:i.identity,_offset:d._sankey.translateY,_length:d._sankey.height},x={gd:l,element:_.node(),plotinfo:{id:u,xaxis:g,yaxis:w,fillRangeItems:i.noop},subplot:u,xaxes:[g],yaxes:[w],doneFnCompleted:function(b){var A,p=l._fullData[u],O=p.node.groups.slice(),k=[];function I(j){for(var X=p._sankey.graph.nodes,F=0;F<X.length;F++)if(X[F].pointNumber===j)return X[F]}for(var P=0;P<b.length;P++){var R=I(b[P].pointNumber);if(R)if(R.group){for(var N=0;N<R.childrenNodes.length;N++)k.push(R.childrenNodes[N].pointNumber);O[R.pointNumber-p.node._count]=!1}else k.push(R.pointNumber)}A=O.filter(Boolean).concat([k]),s.call("_guiRestyle",l,{"node.groups":[A]},u)},prepFn:function(b,A,p){c(b,A,p,x,h)}};v.init(x)}}B.name=a,B.baseLayoutAttrOverrides=D({hoverlabel:S.hoverlabel},"plot","nested"),B.plot=function(l){var u=E(l.calcdata,a)[0];f(l,u),B.updateFx(l)},B.clean=function(l,u,d,m){var h=m._has&&m._has(a),T=u._has&&u._has(a);h&&!T&&(m._paperdiv.selectAll(".sankey").remove(),m._paperdiv.selectAll(".bgsankey").remove())},B.updateFx=function(l){for(var u=0;u<l._fullData.length;u++)o(l,u)}},92930:function(ae,B,r){"use strict";var D=r(68664),E=r(71828),f=r(28984).wrap,S=E.isArrayOrTypedArray,M=E.isIndex,v=r(21081);ae.exports=function(c,i){var s=function(a){var o,l=a.node,u=a.link,d=[],m=S(u.color),h=S(u.customdata),T={},_={},g=u.colorscales.length;for(o=0;o<g;o++){var w=u.colorscales[o],x=v.extractScale(w,{cLetter:"c"}),b=v.makeColorScaleFunc(x);_[w.label]=b}var A=0;for(o=0;o<u.value.length;o++)u.source[o]>A&&(A=u.source[o]),u.target[o]>A&&(A=u.target[o]);var p,O=A+1;a.node._count=O;var k=a.node.groups,I={};for(o=0;o<k.length;o++){var P=k[o];for(p=0;p<P.length;p++){var R=P[p],N=O+o;I.hasOwnProperty(R)?E.warn("Node "+R+" is already part of a group."):I[R]=N}}var j={source:[],target:[]};for(o=0;o<u.value.length;o++){var X=u.value[o],F=u.source[o],Z=u.target[o];if(X>0&&M(F,O)&&M(Z,O)&&(!I.hasOwnProperty(F)||!I.hasOwnProperty(Z)||I[F]!==I[Z])){I.hasOwnProperty(Z)&&(Z=I[Z]),I.hasOwnProperty(F)&&(F=I[F]),T[F=+F]=T[Z=+Z]=!0;var W="";u.label&&u.label[o]&&(W=u.label[o]);var H=null;W&&_.hasOwnProperty(W)&&(H=_[W]),d.push({pointNumber:o,label:W,color:m?u.color[o]:u.color,customdata:h?u.customdata[o]:u.customdata,concentrationscale:H,source:F,target:Z,value:+X}),j.source.push(F),j.target.push(Z)}}var G=O+k.length,Y=S(l.color),se=S(l.customdata),te=[];for(o=0;o<G;o++)T[o]&&te.push({group:o>O-1,childrenNodes:[],pointNumber:o,label:l.label[o],color:Y?l.color[o]:l.color,customdata:se?l.customdata[o]:l.customdata});var Q=!1;return function(ee,oe,le){for(var ue=E.init2dArray(ee,0),de=0;de<Math.min(oe.length,le.length);de++)if(E.isIndex(oe[de],ee)&&E.isIndex(le[de],ee)){if(oe[de]===le[de])return!0;ue[oe[de]].push(le[de])}return D(ue).components.some(function(he){return he.length>1})}(G,j.source,j.target)&&(Q=!0),{circular:Q,links:d,nodes:te,groups:k,groupLookup:I}}(i);return f({circular:s.circular,_nodes:s.nodes,_links:s.links,_groups:s.groups,_groupLookup:s.groupLookup})}},85247:function(ae){"use strict";ae.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(ae,B,r){"use strict";var D=r(71828),E=r(39953),f=r(7901),S=r(84267),M=r(27670).c,v=r(38048),c=r(44467),i=r(85501);function s(a,o){function l(u,d){return D.coerce(a,o,E.link.colorscales,u,d)}l("label"),l("cmin"),l("cmax"),l("colorscale")}ae.exports=function(a,o,l,u){function d(O,k){return D.coerce(a,o,E,O,k)}var m=D.extendDeep(u.hoverlabel,a.hoverlabel),h=a.node,T=c.newContainer(o,"node");function _(O,k){return D.coerce(h,T,E.node,O,k)}_("label"),_("groups"),_("x"),_("y"),_("pad"),_("thickness"),_("line.color"),_("line.width"),_("hoverinfo",a.hoverinfo),v(h,T,_,m),_("hovertemplate");var g=u.colorway;_("color",T.label.map(function(O,k){return f.addOpacity(g[k%g.length],.8)})),_("customdata");var w=a.link||{},x=c.newContainer(o,"link");function b(O,k){return D.coerce(w,x,E.link,O,k)}b("label"),b("arrowlen"),b("source"),b("target"),b("value"),b("line.color"),b("line.width"),b("hoverinfo",a.hoverinfo),v(w,x,b,m),b("hovertemplate");var A,p=S(u.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";b("color",D.repeat(p,x.value.length)),b("customdata"),i(w,x,{name:"colorscales",handleItemDefaults:s}),M(o,u,d),d("orientation"),d("valueformat"),d("valuesuffix"),T.x.length&&T.y.length&&(A="freeform"),d("arrangement",A),D.coerceFont(d,"textfont",D.extendFlat({},u.font)),o._length=null}},29396:function(ae,B,r){"use strict";ae.exports={attributes:r(39953),supplyDefaults:r(26857),calc:r(92930),plot:r(60436),moduleType:"trace",name:"sankey",basePlotModule:r(75536),selectPoints:r(84564),categories:["noOpacity"],meta:{}}},60436:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=E.numberFormat,S=r(3393),M=r(30211),v=r(7901),c=r(85247).cn,i=E._;function s(w){return""!==w}function a(w,x){return w.filter(function(b){return b.key===x.traceId})}function o(w,x){D.select(w).select("path").style("fill-opacity",x),D.select(w).select("rect").style("fill-opacity",x)}function l(w){D.select(w).select("text.name").style("fill","black")}function u(w){return function(x){return-1!==w.node.sourceLinks.indexOf(x.link)||-1!==w.node.targetLinks.indexOf(x.link)}}function d(w){return function(x){return-1!==x.node.sourceLinks.indexOf(w.link)||-1!==x.node.targetLinks.indexOf(w.link)}}function m(w,x,b){x&&b&&a(b,x).selectAll("."+c.sankeyLink).filter(u(x)).call(T.bind(0,x,b,!1))}function h(w,x,b){x&&b&&a(b,x).selectAll("."+c.sankeyLink).filter(u(x)).call(_.bind(0,x,b,!1))}function T(w,x,b,A){var p=A.datum().link.label;A.style("fill-opacity",function(O){if(!O.link.concentrationscale)return.4}),p&&a(x,w).selectAll("."+c.sankeyLink).filter(function(O){return O.link.label===p}).style("fill-opacity",function(O){if(!O.link.concentrationscale)return.4}),b&&a(x,w).selectAll("."+c.sankeyNode).filter(d(w)).call(m)}function _(w,x,b,A){var p=A.datum().link.label;A.style("fill-opacity",function(O){return O.tinyColorAlpha}),p&&a(x,w).selectAll("."+c.sankeyLink).filter(function(O){return O.link.label===p}).style("fill-opacity",function(O){return O.tinyColorAlpha}),b&&a(x,w).selectAll(c.sankeyNode).filter(d(w)).call(h)}function g(w,x){var A=E.nestedProperty(w.hoverlabel||{},x).get();return!Array.isArray(A)&&A}ae.exports=function(w,x){for(var b=w._fullLayout,A=b._paper,p=b._size,O=0;O<w._fullData.length;O++)if(w._fullData[O].visible&&w._fullData[O].type===c.sankey&&!w._fullData[O]._viewInitial){var k=w._fullData[O].node;w._fullData[O]._viewInitial={node:{groups:k.groups.slice(),x:k.x.slice(),y:k.y.slice()}}}var I=i(w,"source:")+" ",P=i(w,"target:")+" ",R=i(w,"concentration:")+" ",N=i(w,"incoming flow count:")+" ",j=i(w,"outgoing flow count:")+" ";S(w,A,x,{width:p.w,height:p.h,margin:{t:p.t,r:p.r,b:p.b,l:p.l}},{linkEvents:{hover:function(X,F,Z){!1!==w._fullLayout.hovermode&&(D.select(X).call(T.bind(0,F,Z,!0)),"skip"!==F.link.trace.link.hoverinfo&&(F.link.fullData=F.link.trace,w.emit("plotly_hover",{event:D.event,points:[F.link]})))},follow:function(X,F){if(!1!==w._fullLayout.hovermode){var Z=F.link.trace.link;if("none"!==Z.hoverinfo&&"skip"!==Z.hoverinfo){for(var W=[],H=0,G=0;G<F.flow.links.length;G++){var Y=F.flow.links[G];if("closest"!==w._fullLayout.hovermode||F.link.pointNumber===Y.pointNumber){F.link.pointNumber===Y.pointNumber&&(H=G),Y.fullData=Y.trace,Z=F.link.trace.link;var se=re(Y),te={valueLabel:f(F.valueFormat)(Y.value)+F.valueSuffix};W.push({x:se[0],y:se[1],name:te.valueLabel,text:[Y.label||"",I+Y.source.label,P+Y.target.label,Y.concentrationscale?R+f("%0.2f")(Y.flow.labelConcentration):""].filter(s).join("<br>"),color:g(Z,"bgcolor")||v.addOpacity(Y.color,1),borderColor:g(Z,"bordercolor"),fontFamily:g(Z,"font.family"),fontSize:g(Z,"font.size"),fontColor:g(Z,"font.color"),nameLength:g(Z,"namelength"),textAlign:g(Z,"align"),idealAlign:D.event.x<se[0]?"right":"left",hovertemplate:Z.hovertemplate,hovertemplateLabels:te,eventData:[Y]})}}M.loneHover(W,{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:w,anchorIndex:H}).each(function(){F.link.concentrationscale||o(this,.65),l(this)})}}function re(Q){var ee,oe;Q.circular?(ee=(Q.circularPathData.leftInnerExtent+Q.circularPathData.rightInnerExtent)/2,oe=Q.circularPathData.verticalFullExtent):(ee=(Q.source.x1+Q.target.x0)/2,oe=(Q.y0+Q.y1)/2);var le=[ee,oe];return"v"===Q.trace.orientation&&le.reverse(),le[0]+=F.parent.translateX,le[1]+=F.parent.translateY,le}},unhover:function(X,F,Z){!1!==w._fullLayout.hovermode&&(D.select(X).call(_.bind(0,F,Z,!0)),"skip"!==F.link.trace.link.hoverinfo&&(F.link.fullData=F.link.trace,w.emit("plotly_unhover",{event:D.event,points:[F.link]})),M.loneUnhover(b._hoverlayer.node()))},select:function(X,F){var Z=F.link;Z.originalEvent=D.event,w._hoverdata=[Z],M.click(w,{target:!0})}},nodeEvents:{hover:function(X,F,Z){!1!==w._fullLayout.hovermode&&(D.select(X).call(m,F,Z),"skip"!==F.node.trace.node.hoverinfo&&(F.node.fullData=F.node.trace,w.emit("plotly_hover",{event:D.event,points:[F.node]})))},follow:function(X,F){if(!1!==w._fullLayout.hovermode){var Z=F.node.trace.node;if("none"!==Z.hoverinfo&&"skip"!==Z.hoverinfo){var W=D.select(X).select("."+c.nodeRect),H=w._fullLayout._paperdiv.node().getBoundingClientRect(),G=W.node().getBoundingClientRect(),Y=G.left-2-H.left,se=G.right+2-H.left,te=G.top+G.height/4-H.top,re={valueLabel:f(F.valueFormat)(F.node.value)+F.valueSuffix};F.node.fullData=F.node.trace,w._fullLayout._calcInverseTransform(w);var Q=w._fullLayout._invScaleX,oe=M.loneHover({x0:Q*Y,x1:Q*se,y:w._fullLayout._invScaleY*te,name:f(F.valueFormat)(F.node.value)+F.valueSuffix,text:[F.node.label,N+F.node.targetLinks.length,j+F.node.sourceLinks.length].filter(s).join("<br>"),color:g(Z,"bgcolor")||F.tinyColorHue,borderColor:g(Z,"bordercolor"),fontFamily:g(Z,"font.family"),fontSize:g(Z,"font.size"),fontColor:g(Z,"font.color"),nameLength:g(Z,"namelength"),textAlign:g(Z,"align"),idealAlign:"left",hovertemplate:Z.hovertemplate,hovertemplateLabels:re,eventData:[F.node]},{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:w});o(oe,.85),l(oe)}}},unhover:function(X,F,Z){!1!==w._fullLayout.hovermode&&(D.select(X).call(h,F,Z),"skip"!==F.node.trace.node.hoverinfo&&(F.node.fullData=F.node.trace,w.emit("plotly_unhover",{event:D.event,points:[F.node]})),M.loneUnhover(b._hoverlayer.node()))},select:function(X,F,Z){var W=F.node;W.originalEvent=D.event,w._hoverdata=[W],D.select(X).call(h,F,Z),M.click(w,{target:!0})}}})}},3393:function(ae,B,r){"use strict";var D=r(49887),E=r(81684).k4,f=r(39898),S=r(30838),M=r(86781),v=r(85247),c=r(84267),i=r(7901),s=r(91424),a=r(71828),o=a.strTranslate,l=a.strRotate,u=r(28984),d=u.keyFun,m=u.repeat,h=u.unwrap,T=r(63893),_=r(73972),g=r(18783),w=g.CAP_SHIFT,x=g.LINE_SPACING;function b(G,Y,se){var te,re=h(Y),Q=re.trace,ee=Q.domain,oe="h"===Q.orientation,le=Q.node.pad,ue=Q.node.thickness,de=G.width*(ee.x[1]-ee.x[0]),he=G.height*(ee.y[1]-ee.y[0]),we=re._nodes,Ae=re._links,Te=re.circular;(te=Te?M.sankeyCircular().circularLinkGap(0):S.sankey()).iterations(v.sankeyIterations).size(oe?[de,he]:[he,de]).nodeWidth(ue).nodePadding(le).nodeId(function(De){return De.pointNumber}).nodes(we).links(Ae);var ve,xe,Fe,Se=te();for(var ke in te.nodePadding()<le&&a.warn("node.pad was reduced to ",te.nodePadding()," to fit within the figure."),re._groupLookup){var pe,fe=parseInt(re._groupLookup[ke]);for(ve=0;ve<Se.nodes.length;ve++)if(Se.nodes[ve].pointNumber===fe){pe=Se.nodes[ve];break}if(pe){var be={pointNumber:parseInt(ke),x0:pe.x0,x1:pe.x1,y0:pe.y0,y1:pe.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Se.nodes.unshift(be),pe.childrenNodes.unshift(be)}}if(function(){for(ve=0;ve<Se.nodes.length;ve++){var De,Ue,Ge=Se.nodes[ve],ye={};for(xe=0;xe<Ge.targetLinks.length;xe++)De=(Ue=Ge.targetLinks[xe]).source.pointNumber+":"+Ue.target.pointNumber,ye.hasOwnProperty(De)||(ye[De]=[]),ye[De].push(Ue);var Ie=Object.keys(ye);for(xe=0;xe<Ie.length;xe++){var Ee=ye[De=Ie[xe]],Be=0,We={};for(Fe=0;Fe<Ee.length;Fe++)We[(Ue=Ee[Fe]).label]||(We[Ue.label]=0),We[Ue.label]+=Ue.value,Be+=Ue.value;for(Fe=0;Fe<Ee.length;Fe++)(Ue=Ee[Fe]).flow={value:Be,labelConcentration:We[Ue.label]/Be,concentration:Ue.value/Be,links:Ee},Ue.concentrationscale&&(Ue.color=c(Ue.concentrationscale(Ue.flow.labelConcentration)))}var He=0;for(xe=0;xe<Ge.sourceLinks.length;xe++)He+=Ge.sourceLinks[xe].value;for(xe=0;xe<Ge.sourceLinks.length;xe++)(Ue=Ge.sourceLinks[xe]).concentrationOut=Ue.value/He;var Je=0;for(xe=0;xe<Ge.targetLinks.length;xe++)Je+=Ge.targetLinks[xe].value;for(xe=0;xe<Ge.targetLinks.length;xe++)(Ue=Ge.targetLinks[xe]).concenrationIn=Ue.value/Je}}(),Q.node.x.length&&Q.node.y.length){for(ve=0;ve<Math.min(Q.node.x.length,Q.node.y.length,Se.nodes.length);ve++)if(Q.node.x[ve]&&Q.node.y[ve]){var Le=[Q.node.x[ve]*de,Q.node.y[ve]*he];Se.nodes[ve].x0=Le[0]-ue/2,Se.nodes[ve].x1=Le[0]+ue/2;var Oe=Se.nodes[ve].y1-Se.nodes[ve].y0;Se.nodes[ve].y0=Le[1]-Oe/2,Se.nodes[ve].y1=Le[1]+Oe/2}"snap"===Q.arrangement&&function(De){var Ue,Ge,ye=De.map(function(He,Je){return{x0:He.x0,index:Je}}).sort(function(He,Je){return He.x0-Je.x0}),Ie=[],Ee=-1,Be=-1/0;for(ve=0;ve<ye.length;ve++){var We=De[ye[ve].index];We.x0>Be+ue&&(Ee+=1,Ue=We.x0),Be=We.x0,Ie[Ee]||(Ie[Ee]=[]),Ie[Ee].push(We),We.x0+=Ge=Ue-We.x0,We.x1+=Ge}return Ie}(we=Se.nodes).forEach(function(De){var Ue,Ge,ye,Ie=0,Ee=De.length;for(De.sort(function(Be,We){return Be.y0-We.y0}),ye=0;ye<Ee;++ye)(Ue=De[ye]).y0>=Ie||(Ge=Ie-Ue.y0)>1e-6&&(Ue.y0+=Ge,Ue.y1+=Ge),Ie=Ue.y1+le}),te.update(Se)}return{circular:Te,key:se,trace:Q,guid:a.randstr(),horizontal:oe,width:de,height:he,nodePad:Q.node.pad,nodeLineColor:Q.node.line.color,nodeLineWidth:Q.node.line.width,linkLineColor:Q.link.line.color,linkLineWidth:Q.link.line.width,linkArrowLength:Q.link.arrowlen,valueFormat:Q.valueformat,valueSuffix:Q.valuesuffix,textFont:Q.textfont,translateX:ee.x[0]*G.width+G.margin.l,translateY:G.height-ee.y[1]*G.height+G.margin.t,dragParallel:oe?he:de,dragPerpendicular:oe?de:he,arrangement:Q.arrangement,sankey:te,graph:Se,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function A(G,Y,se){var te=c(Y.color),re=Y.source.label+"|"+Y.target.label+"__"+se;return Y.trace=G.trace,Y.curveNumber=G.trace.index,{circular:G.circular,key:re,traceId:G.key,pointNumber:Y.pointNumber,link:Y,tinyColorHue:i.tinyRGB(te),tinyColorAlpha:te.getAlpha(),linkPath:p,linkLineColor:G.linkLineColor,linkLineWidth:G.linkLineWidth,linkArrowLength:G.linkArrowLength,valueFormat:G.valueFormat,valueSuffix:G.valueSuffix,sankey:G.sankey,parent:G,interactionState:G.interactionState,flow:Y.flow}}function p(){return function(G){var xe,Fe,Se,ke,Y=G.linkArrowLength;if(G.link.circular)return Fe=Y,Se=(xe=G.link).width/2,ke=xe.circularPathData,"top"===xe.circularLinkType?"M "+(ke.targetX-Fe)+" "+(ke.targetY+Se)+" L"+(ke.rightInnerExtent-Fe)+" "+(ke.targetY+Se)+"A"+(ke.rightLargeArcRadius+Se)+" "+(ke.rightSmallArcRadius+Se)+" 0 0 1 "+(ke.rightFullExtent-Se-Fe)+" "+(ke.targetY-ke.rightSmallArcRadius)+"L"+(ke.rightFullExtent-Se-Fe)+" "+ke.verticalRightInnerExtent+"A"+(ke.rightLargeArcRadius+Se)+" "+(ke.rightLargeArcRadius+Se)+" 0 0 1 "+(ke.rightInnerExtent-Fe)+" "+(ke.verticalFullExtent-Se)+"L"+ke.leftInnerExtent+" "+(ke.verticalFullExtent-Se)+"A"+(ke.leftLargeArcRadius+Se)+" "+(ke.leftLargeArcRadius+Se)+" 0 0 1 "+(ke.leftFullExtent+Se)+" "+ke.verticalLeftInnerExtent+"L"+(ke.leftFullExtent+Se)+" "+(ke.sourceY-ke.leftSmallArcRadius)+"A"+(ke.leftLargeArcRadius+Se)+" "+(ke.leftSmallArcRadius+Se)+" 0 0 1 "+ke.leftInnerExtent+" "+(ke.sourceY+Se)+"L"+ke.sourceX+" "+(ke.sourceY+Se)+"L"+ke.sourceX+" "+(ke.sourceY-Se)+"L"+ke.leftInnerExtent+" "+(ke.sourceY-Se)+"A"+(ke.leftLargeArcRadius-Se)+" "+(ke.leftSmallArcRadius-Se)+" 0 0 0 "+(ke.leftFullExtent-Se)+" "+(ke.sourceY-ke.leftSmallArcRadius)+"L"+(ke.leftFullExtent-Se)+" "+ke.verticalLeftInnerExtent+"A"+(ke.leftLargeArcRadius-Se)+" "+(ke.leftLargeArcRadius-Se)+" 0 0 0 "+ke.leftInnerExtent+" "+(ke.verticalFullExtent+Se)+"L"+(ke.rightInnerExtent-Fe)+" "+(ke.verticalFullExtent+Se)+"A"+(ke.rightLargeArcRadius-Se)+" "+(ke.rightLargeArcRadius-Se)+" 0 0 0 "+(ke.rightFullExtent+Se-Fe)+" "+ke.verticalRightInnerExtent+"L"+(ke.rightFullExtent+Se-Fe)+" "+(ke.targetY-ke.rightSmallArcRadius)+"A"+(ke.rightLargeArcRadius-Se)+" "+(ke.rightSmallArcRadius-Se)+" 0 0 0 "+(ke.rightInnerExtent-Fe)+" "+(ke.targetY-Se)+"L"+(ke.targetX-Fe)+" "+(ke.targetY-Se)+(Fe>0?"L"+ke.targetX+" "+ke.targetY:"")+"Z":"M "+(ke.targetX-Fe)+" "+(ke.targetY-Se)+" L"+(ke.rightInnerExtent-Fe)+" "+(ke.targetY-Se)+"A"+(ke.rightLargeArcRadius+Se)+" "+(ke.rightSmallArcRadius+Se)+" 0 0 0 "+(ke.rightFullExtent-Se-Fe)+" "+(ke.targetY+ke.rightSmallArcRadius)+"L"+(ke.rightFullExtent-Se-Fe)+" "+ke.verticalRightInnerExtent+"A"+(ke.rightLargeArcRadius+Se)+" "+(ke.rightLargeArcRadius+Se)+" 0 0 0 "+(ke.rightInnerExtent-Fe)+" "+(ke.verticalFullExtent+Se)+"L"+ke.leftInnerExtent+" "+(ke.verticalFullExtent+Se)+"A"+(ke.leftLargeArcRadius+Se)+" "+(ke.leftLargeArcRadius+Se)+" 0 0 0 "+(ke.leftFullExtent+Se)+" "+ke.verticalLeftInnerExtent+"L"+(ke.leftFullExtent+Se)+" "+(ke.sourceY+ke.leftSmallArcRadius)+"A"+(ke.leftLargeArcRadius+Se)+" "+(ke.leftSmallArcRadius+Se)+" 0 0 0 "+ke.leftInnerExtent+" "+(ke.sourceY-Se)+"L"+ke.sourceX+" "+(ke.sourceY-Se)+"L"+ke.sourceX+" "+(ke.sourceY+Se)+"L"+ke.leftInnerExtent+" "+(ke.sourceY+Se)+"A"+(ke.leftLargeArcRadius-Se)+" "+(ke.leftSmallArcRadius-Se)+" 0 0 1 "+(ke.leftFullExtent-Se)+" "+(ke.sourceY+ke.leftSmallArcRadius)+"L"+(ke.leftFullExtent-Se)+" "+ke.verticalLeftInnerExtent+"A"+(ke.leftLargeArcRadius-Se)+" "+(ke.leftLargeArcRadius-Se)+" 0 0 1 "+ke.leftInnerExtent+" "+(ke.verticalFullExtent-Se)+"L"+(ke.rightInnerExtent-Fe)+" "+(ke.verticalFullExtent-Se)+"A"+(ke.rightLargeArcRadius-Se)+" "+(ke.rightLargeArcRadius-Se)+" 0 0 1 "+(ke.rightFullExtent+Se-Fe)+" "+ke.verticalRightInnerExtent+"L"+(ke.rightFullExtent+Se-Fe)+" "+(ke.targetY+ke.rightSmallArcRadius)+"A"+(ke.rightLargeArcRadius-Se)+" "+(ke.rightSmallArcRadius-Se)+" 0 0 1 "+(ke.rightInnerExtent-Fe)+" "+(ke.targetY+Se)+"L"+(ke.targetX-Fe)+" "+(ke.targetY+Se)+(Fe>0?"L"+ke.targetX+" "+ke.targetY:"")+"Z";var se=Math.abs((G.link.target.x0-G.link.source.x1)/2);Y>se&&(Y=se);var te=G.link.source.x1,re=G.link.target.x0-Y,Q=E(te,re),ee=Q(.5),oe=Q(.5),le=G.link.y0-G.link.width/2,ue=G.link.y0+G.link.width/2,de=G.link.y1-G.link.width/2,he=G.link.y1+G.link.width/2,ve=Y>0?"L"+(re+Y)+","+(de+G.link.width/2):"";return"M"+te+","+le+"C"+ee+","+le+" "+oe+","+de+" "+re+","+de+(ve+="L"+re+","+he)+"C"+oe+","+he+" "+ee+","+ue+" "+te+","+ue+"Z"}}function O(G,Y){var se=c(Y.color),te=v.nodePadAcross,re=G.nodePad/2;Y.dx=Y.x1-Y.x0,Y.dy=Y.y1-Y.y0;var Q=Y.dx,ee=Math.max(.5,Y.dy),oe="node_"+Y.pointNumber;return Y.group&&(oe=a.randstr()),Y.trace=G.trace,Y.curveNumber=G.trace.index,{index:Y.pointNumber,key:oe,partOfGroup:Y.partOfGroup||!1,group:Y.group,traceId:G.key,trace:G.trace,node:Y,nodePad:G.nodePad,nodeLineColor:G.nodeLineColor,nodeLineWidth:G.nodeLineWidth,textFont:G.textFont,size:G.horizontal?G.height:G.width,visibleWidth:Math.ceil(Q),visibleHeight:ee,zoneX:-te,zoneY:-re,zoneWidth:Q+2*te,zoneHeight:ee+2*re,labelY:G.horizontal?Y.dy/2+1:Y.dx/2+1,left:1===Y.originalLayer,sizeAcross:G.width,forceLayouts:G.forceLayouts,horizontal:G.horizontal,darkBackground:se.getBrightness()<=128,tinyColorHue:i.tinyRGB(se),tinyColorAlpha:se.getAlpha(),valueFormat:G.valueFormat,valueSuffix:G.valueSuffix,sankey:G.sankey,graph:G.graph,arrangement:G.arrangement,uniqueNodeLabelPathId:[G.guid,G.key,oe].join("_"),interactionState:G.interactionState,figure:G}}function k(G){G.attr("transform",function(Y){return o(Y.node.x0.toFixed(3),Y.node.y0.toFixed(3))})}function I(G){G.call(k)}function P(G,Y){G.call(I),Y.attr("d",p())}function R(G){G.attr("width",function(Y){return Y.node.x1-Y.node.x0}).attr("height",function(Y){return Y.visibleHeight})}function N(G){return G.link.width>1||G.linkLineWidth>0}function j(G){return o(G.translateX,G.translateY)+(G.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function X(G,Y,se){G.on(".basic",null).on("mouseover.basic",function(te){te.interactionState.dragInProgress||te.partOfGroup||(se.hover(this,te,Y),te.interactionState.hovered=[this,te])}).on("mousemove.basic",function(te){te.interactionState.dragInProgress||te.partOfGroup||(se.follow(this,te),te.interactionState.hovered=[this,te])}).on("mouseout.basic",function(te){te.interactionState.dragInProgress||te.partOfGroup||(se.unhover(this,te,Y),te.interactionState.hovered=!1)}).on("click.basic",function(te){te.interactionState.hovered&&(se.unhover(this,te,Y),te.interactionState.hovered=!1),te.interactionState.dragInProgress||te.partOfGroup||se.select(this,te,Y)})}function F(G,Y,se,te){var re=f.behavior.drag().origin(function(Q){return{x:Q.node.x0+Q.visibleWidth/2,y:Q.node.y0+Q.visibleHeight/2}}).on("dragstart",function(Q){if("fixed"!==Q.arrangement&&(a.ensureSingle(te._fullLayout._infolayer,"g","dragcover",function(oe){te._fullLayout._dragCover=oe}),a.raiseToTop(this),Q.interactionState.dragInProgress=Q.node,W(Q.node),Q.interactionState.hovered&&(se.nodeEvents.unhover.apply(0,Q.interactionState.hovered),Q.interactionState.hovered=!1),"snap"===Q.arrangement)){var ee=Q.traceId+"|"+Q.key;Q.forceLayouts[ee]?Q.forceLayouts[ee].alpha(1):function(oe,le,ue,de){!function(we){for(var Ae=0;Ae<we.length;Ae++)we[Ae].y=(we[Ae].y0+we[Ae].y1)/2,we[Ae].x=(we[Ae].x0+we[Ae].x1)/2}(ue.graph.nodes);var Ae,Te,ve,he=ue.graph.nodes.filter(function(we){return we.originalX===ue.node.originalX}).filter(function(we){return!we.partOfGroup});ue.forceLayouts[le]=D.forceSimulation(he).alphaDecay(0).force("collide",D.forceCollide().radius(function(we){return we.dy/2+ue.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",(Ae=le,Te=he,ve=ue,function(){for(var xe=0,Fe=0;Fe<Te.length;Fe++){var Se=Te[Fe];Se===ve.interactionState.dragInProgress?(Se.x=Se.lastDraggedX,Se.y=Se.lastDraggedY):(Se.vx=(Se.originalX-Se.x)/v.forceTicksPerFrame,Se.y=Math.min(ve.size-Se.dy/2,Math.max(Se.dy/2,Se.y))),xe=Math.max(xe,Math.abs(Se.vx),Math.abs(Se.vy))}!ve.interactionState.dragInProgress&&xe<.1&&ve.forceLayouts[Ae].alpha()>0&&ve.forceLayouts[Ae].alpha(0)})).stop()}(0,ee,Q),oe=G,le=Y,ue=Q,de=ee,he=te,window.requestAnimationFrame(function we(){var Ae;for(Ae=0;Ae<v.forceTicksPerFrame;Ae++)ue.forceLayouts[de].tick();if(function(ve){for(var xe=0;xe<ve.length;xe++)ve[xe].y0=ve[xe].y-ve[xe].dy/2,ve[xe].y1=ve[xe].y0+ve[xe].dy,ve[xe].x0=ve[xe].x-ve[xe].dx/2,ve[xe].x1=ve[xe].x0+ve[xe].dx}(ue.graph.nodes),ue.sankey.update(ue.graph),P(oe.filter(H(ue)),le),ue.forceLayouts[de].alpha()>0)window.requestAnimationFrame(we);else{var Te=ue.node.originalX;ue.node.x0=Te-ue.visibleWidth/2,ue.node.x1=Te+ue.visibleWidth/2,Z(ue,he)}})}var oe,le,ue,de,he}).on("drag",function(Q){if("fixed"!==Q.arrangement){var ee=f.event.x,oe=f.event.y;"snap"===Q.arrangement?(Q.node.x0=ee-Q.visibleWidth/2,Q.node.x1=ee+Q.visibleWidth/2,Q.node.y0=oe-Q.visibleHeight/2,Q.node.y1=oe+Q.visibleHeight/2):("freeform"===Q.arrangement&&(Q.node.x0=ee-Q.visibleWidth/2,Q.node.x1=ee+Q.visibleWidth/2),oe=Math.max(0,Math.min(Q.size-Q.visibleHeight/2,oe)),Q.node.y0=oe-Q.visibleHeight/2,Q.node.y1=oe+Q.visibleHeight/2),W(Q.node),"snap"!==Q.arrangement&&(Q.sankey.update(Q.graph),P(G.filter(H(Q)),Y))}}).on("dragend",function(Q){if("fixed"!==Q.arrangement){Q.interactionState.dragInProgress=!1;for(var ee=0;ee<Q.node.childrenNodes.length;ee++)Q.node.childrenNodes[ee].x=Q.node.x,Q.node.childrenNodes[ee].y=Q.node.y;"snap"!==Q.arrangement&&Z(Q,te)}});G.on(".drag",null).call(re)}function Z(G,Y){for(var se=[],te=[],re=0;re<G.graph.nodes.length;re++){var ee=(G.graph.nodes[re].y0+G.graph.nodes[re].y1)/2;se.push((G.graph.nodes[re].x0+G.graph.nodes[re].x1)/2/G.figure.width),te.push(ee/G.figure.height)}_.call("_guiRestyle",Y,{"node.x":[se],"node.y":[te]},G.trace.index).then(function(){Y._fullLayout._dragCover&&Y._fullLayout._dragCover.remove()})}function W(G){G.lastDraggedX=G.x0+G.dx/2,G.lastDraggedY=G.y0+G.dy/2}function H(G){return function(Y){return Y.node.originalX===G.node.originalX}}ae.exports=function(G,Y,se,te,re){var Q=G._context.staticPlot,ee=!1;a.ensureSingle(G._fullLayout._infolayer,"g","first-render",function(){ee=!0});var oe=G._fullLayout._dragCover,le=se.filter(function(xe){return h(xe).trace.visible}).map(b.bind(null,te)),ue=Y.selectAll("."+v.cn.sankey).data(le,d);ue.exit().remove(),ue.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",Q?"none":"auto").attr("transform",j),ue.each(function(xe,Fe){G._fullData[Fe]._sankey=xe;var Se="bgsankey-"+xe.trace.uid+"-"+Fe;a.ensureSingle(G._fullLayout._draggers,"rect",Se),G._fullData[Fe]._bgRect=f.select("."+Se),G._fullData[Fe]._bgRect.style("pointer-events",Q?"none":"all").attr("width",xe.width).attr("height",xe.height).attr("x",xe.translateX).attr("y",xe.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ue.transition().ease(v.ease).duration(v.duration).attr("transform",j);var de=ue.selectAll("."+v.cn.sankeyLinks).data(m,d);de.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var he=de.selectAll("."+v.cn.sankeyLink).data(function(xe){return xe.graph.links.filter(function(Fe){return Fe.value}).map(A.bind(null,xe))},d);he.enter().append("path").classed(v.cn.sankeyLink,!0).call(X,ue,re.linkEvents),he.style("stroke",function(xe){return N(xe)?i.tinyRGB(c(xe.linkLineColor)):xe.tinyColorHue}).style("stroke-opacity",function(xe){return N(xe)?i.opacity(xe.linkLineColor):xe.tinyColorAlpha}).style("fill",function(xe){return xe.tinyColorHue}).style("fill-opacity",function(xe){return xe.tinyColorAlpha}).style("stroke-width",function(xe){return N(xe)?xe.linkLineWidth:1}).attr("d",p()),he.style("opacity",function(){return G._context.staticPlot||ee||oe?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),he.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var we=ue.selectAll("."+v.cn.sankeyNodeSet).data(m,d);we.enter().append("g").classed(v.cn.sankeyNodeSet,!0),we.style("cursor",function(xe){switch(xe.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Ae=we.selectAll("."+v.cn.sankeyNode).data(function(xe){var Fe=xe.graph.nodes;return function(Se){var ke,pe=[];for(ke=0;ke<Se.length;ke++)Se[ke].originalX=(Se[ke].x0+Se[ke].x1)/2,Se[ke].originalY=(Se[ke].y0+Se[ke].y1)/2,-1===pe.indexOf(Se[ke].originalX)&&pe.push(Se[ke].originalX);for(pe.sort(function(fe,be){return fe-be}),ke=0;ke<Se.length;ke++)Se[ke].originalLayerIndex=pe.indexOf(Se[ke].originalX),Se[ke].originalLayer=Se[ke].originalLayerIndex/(pe.length-1)}(Fe),Fe.map(O.bind(null,xe))},d);Ae.enter().append("g").classed(v.cn.sankeyNode,!0).call(k).style("opacity",function(xe){return!G._context.staticPlot&&!ee||xe.partOfGroup?0:1}),Ae.call(X,ue,re.nodeEvents).call(F,he,re,G),Ae.transition().ease(v.ease).duration(v.duration).call(k).style("opacity",function(xe){return xe.partOfGroup?0:1}),Ae.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Te=Ae.selectAll("."+v.cn.nodeRect).data(m);Te.enter().append("rect").classed(v.cn.nodeRect,!0).call(R),Te.style("stroke-width",function(xe){return xe.nodeLineWidth}).style("stroke",function(xe){return i.tinyRGB(c(xe.nodeLineColor))}).style("stroke-opacity",function(xe){return i.opacity(xe.nodeLineColor)}).style("fill",function(xe){return xe.tinyColorHue}).style("fill-opacity",function(xe){return xe.tinyColorAlpha}),Te.transition().ease(v.ease).duration(v.duration).call(R);var ve=Ae.selectAll("."+v.cn.nodeLabel).data(m);ve.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),ve.attr("data-notex",1).text(function(xe){return xe.node.label}).each(function(xe){var Fe=f.select(this);s.font(Fe,xe.textFont),T.convertToTspans(Fe,G)}).style("text-shadow",T.makeTextShadow(G._fullLayout.paper_bgcolor)).attr("text-anchor",function(xe){return xe.horizontal&&xe.left?"end":"start"}).attr("transform",function(xe){var Fe=f.select(this),Se=T.lineCount(Fe),pe=xe.nodeLineWidth/2+3,fe=((xe.horizontal?xe.visibleHeight:xe.visibleWidth)-xe.textFont.size*((Se-1)*x-w))/2;xe.horizontal&&(xe.left?pe=-pe:pe+=xe.visibleWidth);var be=xe.horizontal?"":"scale(-1,1)"+l(90);return o(xe.horizontal?pe:fe,xe.horizontal?fe:pe)+be}),ve.transition().ease(v.ease).duration(v.duration)}},84564:function(ae){"use strict";ae.exports=function(B,r){for(var D=[],E=B.cd[0].trace,f=E._sankey.graph.nodes,S=0;S<f.length;S++){var M=f[S];if(!M.partOfGroup){var v=[(M.x0+M.x1)/2,(M.y0+M.y1)/2];"v"===E.orientation&&v.reverse(),r&&r.contains(v,!1,S,B)&&D.push({pointNumber:M.pointNumber})}}return D}},75225:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f){for(var S=0;S<E.length;S++)E[S].i=S;D.mergeArray(f.text,E,"tx"),D.mergeArray(f.texttemplate,E,"txt"),D.mergeArray(f.hovertext,E,"htx"),D.mergeArray(f.customdata,E,"data"),D.mergeArray(f.textposition,E,"tp"),f.textfont&&(D.mergeArrayCastPositive(f.textfont.size,E,"ts"),D.mergeArray(f.textfont.color,E,"tc"),D.mergeArray(f.textfont.family,E,"tf"));var M=f.marker;if(M){D.mergeArrayCastPositive(M.size,E,"ms"),D.mergeArrayCastPositive(M.opacity,E,"mo"),D.mergeArray(M.symbol,E,"mx"),D.mergeArray(M.angle,E,"ma"),D.mergeArray(M.standoff,E,"mf"),D.mergeArray(M.color,E,"mc");var v=M.line;M.line&&(D.mergeArray(v.color,E,"mlc"),D.mergeArrayCastPositive(v.width,E,"mlw"));var c=M.gradient;c&&"none"!==c.type&&(D.mergeArray(c.type,E,"mgt"),D.mergeArray(c.color,E,"mgc"))}}},82196:function(ae,B,r){"use strict";var D=r(12663).axisHoverFormat,E=r(5386).si,f=r(5386).fF,S=r(50693),M=r(41940),v=r(79952).P,c=r(79952).u,i=r(91424),s=r(47581),a=r(1426).extendFlat;ae.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:D("x"),yhoverformat:D("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:E({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:f({},{keys:s.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:a({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:c,marker:a({symbol:{valType:"enumerated",values:i.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:a({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},S("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},S("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:M({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(89298),S=r(42973),M=r(50606).BADNUM,v=r(34098),c=r(36922),i=r(75225),s=r(66279);function a(m,h,T,_,g,w,x){var b=h._length,A=m._fullLayout,p=T._id,O=_._id,k=A._firstScatter[u(h)]===h.uid,I=(d(h,A,T,_)||{}).orientation,P=h.fill;T._minDtick=0,_._minDtick=0;var R={padded:!0},N={padded:!0};x&&(R.ppad=N.ppad=x);var j=b<2||g[0]!==g[b-1]||w[0]!==w[b-1];j&&("tozerox"===P||"tonextx"===P&&(k||"h"===I))?R.tozero=!0:(h.error_y||{}).visible||"tonexty"!==P&&"tozeroy"!==P&&(v.hasMarkers(h)||v.hasText(h))||(R.padded=!1,R.ppad=0),j&&("tozeroy"===P||"tonexty"===P&&(k||"v"===I))?N.tozero=!0:"tonextx"!==P&&"tozerox"!==P||(N.padded=!1),p&&(h._extremes[p]=f.findExtremes(T,g,R)),O&&(h._extremes[O]=f.findExtremes(_,w,N))}function o(m,h){if(v.hasMarkers(m)){var T,_=m.marker,g=1.6*(m.marker.sizeref||1);if(T="area"===m.marker.sizemode?function(p){return Math.max(Math.sqrt((p||0)/g),3)}:function(p){return Math.max((p||0)/g,3)},E.isArrayOrTypedArray(_.size)){var w={type:"linear"};f.setConvert(w);for(var x=w.makeCalcdata(m.marker,"size"),b=new Array(h),A=0;A<h;A++)b[A]=T(x[A]);return b}return T(_.size)}}function l(m,h){var T=u(h),_=m._firstScatter;_[T]||(_[T]=h.uid)}function u(m){var h=m.stackgroup;return m.xaxis+m.yaxis+m.type+(h?"-"+h:"")}function d(m,h,T,_){var g=m.stackgroup;if(g){var w=h._scatterStackOpts[T._id+_._id][g],x="v"===w.orientation?_:T;return"linear"===x.type||"log"===x.type?w:void 0}}ae.exports={calc:function(m,h){var T,_,g,w,x,b,A=m._fullLayout,p=h._xA=f.getFromId(m,h.xaxis||"x","x"),O=h._yA=f.getFromId(m,h.yaxis||"y","y"),k=p.makeCalcdata(h,"x"),I=O.makeCalcdata(h,"y"),P=S(h,p,"x",k),R=S(h,O,"y",I),N=P.vals,j=R.vals,X=h._length,F=new Array(X),Z=h.ids,W=d(h,A,p,O),H=!1;l(A,h);var G,Y="x",se="y";W?(E.pushUnique(W.traceIndices,h._expandedIndex),(T="v"===W.orientation)?(se="s",G="x"):(Y="s",G="y"),x="interpolate"===W.stackgaps):a(m,h,p,O,N,j,o(h,X));var te=!!h.xperiodalignment,re=!!h.yperiodalignment;for(_=0;_<X;_++){var Q=F[_]={},ee=D(N[_]),oe=D(j[_]);ee&&oe?(Q[Y]=N[_],Q[se]=j[_],te&&(Q.orig_x=k[_],Q.xEnd=P.ends[_],Q.xStart=P.starts[_]),re&&(Q.orig_y=I[_],Q.yEnd=R.ends[_],Q.yStart=R.starts[_])):W&&(T?ee:oe)?(Q[G]=T?N[_]:j[_],Q.gap=!0,x?(Q.s=M,H=!0):Q.s=0):Q[Y]=Q[se]=M,Z&&(Q.id=String(Z[_]))}if(i(F,h),c(m,h),s(F,h),W){for(_=0;_<F.length;)F[_][G]===M?F.splice(_,1):_++;if(E.sort(F,function(he,we){return he[G]-we[G]||he.i-we.i}),H){for(_=0;_<F.length-1&&F[_].gap;)_++;for((b=F[_].s)||(b=F[_].s=0),g=0;g<_;g++)F[g].s=b;for(w=F.length-1;w>_&&F[w].gap;)w--;for(b=F[w].s,g=F.length-1;g>w;g--)F[g].s=b;for(;_<w;)if(F[++_].gap){for(g=_+1;F[g].gap;)g++;for(var le=F[_-1][G],ue=F[_-1].s,de=(F[g].s-ue)/(F[g][G]-le);_<g;)F[_].s=ue+(F[_][G]-le)*de,_++}}}return F},calcMarkerSize:o,calcAxisExpansion:a,setFirstScatter:l,getStackOpts:d}},66279:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f){D.isArrayOrTypedArray(f.selectedpoints)&&D.tagSelected(E,f)}},36922:function(ae,B,r){"use strict";var D=r(52075).hasColorscale,E=r(78803),f=r(34098);ae.exports=function(S,M){f.hasLines(M)&&D(M,"line")&&E(S,M,{vals:M.line.color,containerStr:"line",cLetter:"c"}),f.hasMarkers(M)&&(D(M,"marker")&&E(S,M,{vals:M.marker.color,containerStr:"marker",cLetter:"c"}),D(M,"marker.line")&&E(S,M,{vals:M.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(ae){"use strict";ae.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(ae,B,r){"use strict";var D=r(47761),E=r(11661).setGroupPositions;function f(S,M,v,c,i,s,a){i[c]=!0;var u,d,h,T,_,o={i:null,gap:!0,s:0};if(o[a]=v,S.splice(M,0,o),M&&v===S[M-1][a]){var l=S[M-1];o.s=l.s,o.i=l.i,o.gap=l.gap}else s&&(o.s=(h=a,T=(u=S)[(d=M)-1],(_=u[d+1])?T?T.s+(_.s-T.s)*(v-T[h])/(_[h]-T[h]):_.s:T.s));M||(S[0].t=S[1].t,S[0].trace=S[1].trace,delete S[1].t,delete S[1].trace)}ae.exports=function(S,M){"group"===S._fullLayout.scattermode&&function(G,Y){for(var se=Y.xaxis,te=Y.yaxis,re=G._fullLayout,Q=G._fullData,ee=G.calcdata,oe=[],le=[],ue=0;ue<Q.length;ue++){var de=Q[ue];!0===de.visible&&"scatter"===de.type&&de.xaxis===se._id&&de.yaxis===te._id&&("h"===de.orientation?oe.push(ee[ue]):"v"===de.orientation&&le.push(ee[ue]))}var he={mode:re.scattermode,gap:re.scattergap};E(G,se,te,le,he),E(G,te,se,oe,he)}(S,M);var v=M.xaxis,c=M.yaxis,s=S._fullLayout._scatterStackOpts[v._id+c._id];if(s){var a,o,l,u,d,m,h,T,_,g,w,x,b,A,p,O=S.calcdata;for(var k in s){var I=(g=s[k]).traceIndices;if(I.length){for(w="interpolate"===g.stackgaps,x=g.groupnorm,"v"===g.orientation?(b="x",A="y"):(b="y",A="x"),p=new Array(I.length),a=0;a<p.length;a++)p[a]=!1;m=O[I[0]];var P=new Array(m.length);for(a=0;a<m.length;a++)P[a]=m[a][b];for(a=1;a<I.length;a++){for(d=O[I[a]],o=l=0;o<d.length;o++){for(h=d[o][b];h>P[l]&&l<P.length;l++)f(d,o,P[l],a,p,w,b),o++;if(h!==P[l]){for(u=0;u<a;u++)f(O[I[u]],l,h,u,p,w,b);P.splice(l,0,h)}l++}for(;l<P.length;l++)f(d,o,P[l],a,p,w,b),o++}var R=P.length;for(o=0;o<m.length;o++){for(T=m[o][A]=m[o].s,a=1;a<I.length;a++)(d=O[I[a]])[0].trace._rawLength=d[0].trace._length,d[0].trace._length=R,d[o][A]=T+=d[o].s;if(x)for(_=("fraction"===x?T:T/100)||1,a=0;a<I.length;a++){var N=O[I[a]][o];N[A]/=_,N.sNorm=N.s/_}}for(a=0;a<I.length;a++){var j=(d=O[I[a]])[0].trace,X=D.calcMarkerSize(j,j._rawLength),F=Array.isArray(X);if(X&&p[a]||F){var Z=X;for(X=new Array(R),o=0;o<R;o++)X[o]=d[o].gap?0:F?Z[d[o].i]:Z}var W=new Array(R),H=new Array(R);for(o=0;o<R;o++)W[o]=d[o].x,H[o]=d[o].y;D.calcAxisExpansion(S,j,v,c,W,H,X),d[0].t.orientation=g.orientation}}}}}},34936:function(ae,B,r){"use strict";var D=r(71828),E=r(26125),f=r(82196);ae.exports=function(S,M){var c,i;function s(d){return D.coerce(c._input,c,f,d)}if("group"===M.scattermode)for(i=0;i<S.length;i++)"scatter"===(c=S[i]).type&&E(c._input,c,M,s);for(i=0;i<S.length;i++){var a=S[i];if("scatter"===a.type){var o=a.fill;if("none"!==o&&"toself"!==o&&(a.opacity=void 0,"tonexty"===o||"tonextx"===o))for(var l=i-1;l>=0;l--){var u=S[l];if("scatter"===u.type&&u.xaxis===a.xaxis&&u.yaxis===a.yaxis){u.opacity=void 0;break}}}}}},17438:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),f=r(82196),S=r(47581),M=r(34098),v=r(67513),c=r(73927),i=r(565),s=r(49508),a=r(11058),o=r(94039),l=r(82410),u=r(28908),d=r(71828).coercePattern;ae.exports=function(m,h,T,_){function g(I,P){return D.coerce(m,h,f,I,P)}var w=v(m,h,_,g);if(w||(h.visible=!1),h.visible){c(m,h,_,g),g("xhoverformat"),g("yhoverformat");var x=i(m,h,_,g);"group"===_.scattermode&&void 0===h.orientation&&g("orientation","v");var b=!x&&w<S.PTS_LINESONLY?"lines+markers":"lines";g("text"),g("hovertext"),g("mode",b),M.hasLines(h)&&(a(m,h,T,_,g,{backoff:!0}),o(m,h,g),g("connectgaps"),g("line.simplify")),M.hasMarkers(h)&&s(m,h,T,_,g,{gradient:!0}),M.hasText(h)&&(g("texttemplate"),l(m,h,_,g));var A=[];(M.hasMarkers(h)||M.hasText(h))&&(g("cliponaxis"),g("marker.maxdisplayed"),A.push("points")),g("fill",x?x.fillDflt:"none"),"none"!==h.fill&&(u(m,h,T,g),M.hasLines(h)||o(m,h,g),d(g,"fillpattern",h.fillcolor,!1));var p=(h.line||{}).color,O=(h.marker||{}).color;"tonext"!==h.fill&&"toself"!==h.fill||A.push("fills"),g("hoveron",A.join("+")||"points"),"fills"!==h.hoveron&&g("hovertemplate");var k=E.getComponentMethod("errorbars","supplyDefaults");k(m,h,p||O||T,{axis:"y"}),k(m,h,p||O||T,{axis:"x",inherit:"y"}),D.coerceSelectionMarkerOpacity(h,g)}}},28908:function(ae,B,r){"use strict";var D=r(7901),E=r(71828).isArrayOrTypedArray;ae.exports=function(f,S,M,v){var c=!1;if(S.marker){var i=S.marker.color,s=(S.marker.line||{}).color;i&&!E(i)?c=i:s&&!E(s)&&(c=s)}v("fillcolor",D.addOpacity((S.line||{}).color||c||M,.5))}},8225:function(ae,B,r){"use strict";var D=r(89298);ae.exports=function(E,f,S){var M={},v={_fullLayout:S},c=D.getFromTrace(v,f,"x"),i=D.getFromTrace(v,f,"y"),s=E.orig_x;void 0===s&&(s=E.x);var a=E.orig_y;return void 0===a&&(a=E.y),M.xLabel=D.tickText(c,c.c2l(s),!0).text,M.yLabel=D.tickText(i,i.c2l(a),!0).text,M}},34603:function(ae,B,r){"use strict";var D=r(7901),E=r(34098);ae.exports=function(f,S){var M,v;if("lines"===f.mode)return(M=f.line.color)&&D.opacity(M)?M:f.fillcolor;if("none"===f.mode)return f.fill?f.fillcolor:"";var c=S.mcc||(f.marker||{}).color,i=S.mlcc||((f.marker||{}).line||{}).color;return(v=c&&D.opacity(c)?c:i&&D.opacity(i)&&(S.mlw||((f.marker||{}).line||{}).width)?i:"")?D.opacity(v)<.3?D.addOpacity(v,.3):v:(M=(f.line||{}).color)&&D.opacity(M)&&E.hasLines(f)&&f.line.width?M:f.fillcolor}},26125:function(ae,B,r){"use strict";var D=r(99082).getAxisGroup;ae.exports=function(E,f,S,M){var v=f.orientation,i=D(S,f[{v:"x",h:"y"}[v]+"axis"])+v,s=S._alignmentOpts||{},a=M("alignmentgroup"),o=s[i];o||(o=s[i]={});var l=o[a];l?l.traces.push(f):l=o[a]={traces:[f],alignmentIndex:Object.keys(o).length,offsetGroups:{}};var u=M("offsetgroup"),d=l.offsetGroups,m=d[u];u&&(m||(m=d[u]={offsetIndex:Object.keys(d).length}),f._offsetIndex=m.offsetIndex)}},33720:function(ae,B,r){"use strict";var D=r(71828),E=r(30211),f=r(73972),S=r(34603),M=r(7901),v=D.fillText;ae.exports=function(c,i,s,a){var o=c.cd,l=o[0].trace,u=c.xa,d=c.ya,m=u.c2p(i),h=d.c2p(s),T=[m,h],_=l.hoveron||"",g=-1!==l.mode.indexOf("markers")?3:.5,w=!!l.xperiodalignment,x=!!l.yperiodalignment;if(-1!==_.indexOf("points")){var b=function(Ae){var Te=Math.max(g,Ae.mrc||0),ve=u.c2p(Ae.x)-m,xe=d.c2p(Ae.y)-h;return Math.max(Math.sqrt(ve*ve+xe*xe)-Te,1-g/Te)},A=E.getDistanceFunction(a,function(Ae){if(w){var Te=u.c2p(Ae.xStart),ve=u.c2p(Ae.xEnd);return m>=Math.min(Te,ve)&&m<=Math.max(Te,ve)?0:1/0}var xe=Math.max(3,Ae.mrc||0),Fe=1-1/xe,Se=Math.abs(u.c2p(Ae.x)-m);return Se<xe?Fe*Se/xe:Se-xe+Fe},function(Ae){if(x){var Te=d.c2p(Ae.yStart),ve=d.c2p(Ae.yEnd);return h>=Math.min(Te,ve)&&h<=Math.max(Te,ve)?0:1/0}var xe=Math.max(3,Ae.mrc||0),Fe=1-1/xe,Se=Math.abs(d.c2p(Ae.y)-h);return Se<xe?Fe*Se/xe:Se-xe+Fe},b);if(E.getClosest(o,A,c),!1!==c.index){var p=o[c.index],O=u.c2p(p.x,!0),k=d.c2p(p.y,!0),I=p.mrc||1;c.index=p.i;var P=o[0].t.orientation,R=P&&(p.sNorm||p.s),N="h"===P?R:void 0!==p.orig_x?p.orig_x:p.x,j="v"===P?R:void 0!==p.orig_y?p.orig_y:p.y;return D.extendFlat(c,{color:S(l,p),x0:O-I,x1:O+I,xLabelVal:N,y0:k-I,y1:k+I,yLabelVal:j,spikeDistance:b(p),hovertemplate:l.hovertemplate}),v(p,l,c),f.getComponentMethod("errorbars","hoverInfo")(p,l,c),[c]}}if(-1!==_.indexOf("fills")&&l._polygons){var X,F,Z,W,H,G,se,te,re=l._polygons,Q=[],ee=!1,oe=1/0,le=-1/0,ue=1/0,de=-1/0;for(X=0;X<re.length;X++)(Z=re[X]).contains(T)&&(ee=!ee,Q.push(Z),ue=Math.min(ue,Z.ymin),de=Math.max(de,Z.ymax));if(ee){var he=((ue=Math.max(ue,0))+(de=Math.min(de,d._length)))/2;for(X=0;X<Q.length;X++)for(W=Q[X].pts,F=1;F<W.length;F++)(se=W[F-1][1])>he!=(te=W[F][1])>=he&&(G=W[F-1][0],te-se&&(H=G+(W[F][0]-G)*(he-se)/(te-se),oe=Math.min(oe,H),le=Math.max(le,H)));oe=Math.max(oe,0),le=Math.min(le,u._length);var we=M.defaultLine;return M.opacity(l.fillcolor)?we=l.fillcolor:M.opacity((l.line||{}).color)&&(we=l.line.color),D.extendFlat(c,{distance:c.maxHoverDistance,x0:oe,x1:le,y0:he,y1:he,color:we,hovertemplate:!1}),delete c.index,c.text=l.text&&!Array.isArray(l.text)?String(l.text):l.name,[c]}}}},67368:function(ae,B,r){"use strict";var D=r(34098);ae.exports={hasLines:D.hasLines,hasMarkers:D.hasMarkers,hasText:D.hasText,isBubble:D.isBubble,attributes:r(82196),layoutAttributes:r(21479),supplyDefaults:r(17438),crossTraceDefaults:r(34936),supplyLayoutDefaults:r(79334),calc:r(47761).calc,crossTraceCalc:r(72626),arraysToCalcdata:r(75225),plot:r(32663),colorbar:r(4898),formatLabels:r(8225),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(33720),selectPoints:r(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:r(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(ae){"use strict";ae.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(ae,B,r){"use strict";var D=r(71828),E=r(21479);ae.exports=function(f,S){"group"===S.scattermode&&D.coerce(f,S,E,"scattergap","group"===S.barmode?S.bargap:.2)}},11058:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray,E=r(52075).hasColorscale,f=r(1586);ae.exports=function(S,M,v,c,i,s){s||(s={});var a=(S.marker||{}).color;i("line.color",v),E(S,"line")?f(S,M,c,i,{prefix:"line.",cLetter:"c"}):i("line.color",!D(a)&&a||v),i("line.width"),s.noDash||i("line.dash"),s.backoff&&i("line.backoff")}},34621:function(ae,B,r){"use strict";var D=r(91424),E=r(50606),f=E.BADNUM,S=E.LOG_CLIP,M=S+.5,v=S-.5,c=r(71828),i=c.segmentsIntersect,s=c.constrain,a=r(47581);ae.exports=function(o,l){var u,d,m,h,T,_,g,w,x,b,A,p,O,k,I,P,R,N,j=l.trace||{},X=l.xaxis,F=l.yaxis,Z="log"===X.type,W="log"===F.type,H=X._length,G=F._length,Y=l.backoff,se=j.marker,te=l.connectGaps,re=l.baseTolerance,Q=l.shape,ee="linear"===Q,oe=j.fill&&"none"!==j.fill,le=[],ue=a.minTolerance,de=o.length,he=new Array(de),we=0;function Ae(Lt){var tt=o[Lt];if(!tt)return!1;var rt=l.linearized?X.l2p(tt.x):X.c2p(tt.x),Ke=l.linearized?F.l2p(tt.y):F.c2p(tt.y);if(rt===f){if(Z&&(rt=X.c2p(tt.x,!0)),rt===f)return!1;W&&Ke===f&&(rt*=Math.abs(X._m*G*(X._m>0?M:v)/(F._m*H*(F._m>0?M:v)))),rt*=1e3}if(Ke===f){if(W&&(Ke=F.c2p(tt.y,!0)),Ke===f)return!1;Ke*=1e3}return[rt,Ke]}function Te(Lt,tt,rt,Ke){var it=rt-Lt,gt=Ke-tt,ft=.5-Lt,Ve=.5-tt,qe=it*it+gt*gt,dt=it*ft+gt*Ve;if(dt>0&&dt<qe){var ut=ft*gt-Ve*it;if(ut*ut<qe)return!0}}function ve(Lt,tt){var rt=Lt[0]/H,Ke=Lt[1]/G,it=Math.max(0,-rt,rt-1,-Ke,Ke-1);return it&&void 0!==R&&Te(rt,Ke,R,N)&&(it=0),it&&tt&&Te(rt,Ke,tt[0]/H,tt[1]/G)&&(it=0),(1+a.toleranceGrowth*it)*re}function xe(Lt,tt){var rt=Lt[0]-tt[0],Ke=Lt[1]-tt[1];return Math.sqrt(rt*rt+Ke*Ke)}var Fe,Se,ke,pe,fe,be,Le,Oe=a.maxScreensAway,De=-H*Oe,Ue=H*(1+Oe),Ge=-G*Oe,ye=G*(1+Oe),Ie=[[De,Ge,Ue,Ge],[Ue,Ge,Ue,ye],[Ue,ye,De,ye],[De,ye,De,Ge]];function Ee(Lt){if(Lt[0]<De||Lt[0]>Ue||Lt[1]<Ge||Lt[1]>ye)return[s(Lt[0],De,Ue),s(Lt[1],Ge,ye)]}function Be(Lt,tt){return Lt[0]===tt[0]&&(Lt[0]===De||Lt[0]===Ue)||Lt[1]===tt[1]&&(Lt[1]===Ge||Lt[1]===ye)||void 0}function We(Lt,tt,rt){return function(Ke,it){var gt=Ee(Ke),ft=Ee(it),Ve=[];if(gt&&ft&&Be(gt,ft))return Ve;gt&&Ve.push(gt),ft&&Ve.push(ft);var qe=2*c.constrain((Ke[Lt]+it[Lt])/2,tt,rt)-((gt||Ke)[Lt]+(ft||it)[Lt]);return qe&&((gt&&ft?qe>0==gt[Lt]>ft[Lt]?gt:ft:gt||ft)[Lt]+=qe),Ve}}function He(Lt){var tt=Lt[0],rt=Lt[1],Ke=tt===he[we-1][0],it=rt===he[we-1][1];if(!Ke||!it)if(we>1){var gt=tt===he[we-2][0],ft=rt===he[we-2][1];Ke&&(tt===De||tt===Ue)&&gt?ft?we--:he[we-1]=Lt:it&&(rt===Ge||rt===ye)&&ft?gt?we--:he[we-1]=Lt:he[we++]=Lt}else he[we++]=Lt}function Je(Lt){he[we-1][0]!==Lt[0]&&he[we-1][1]!==Lt[1]&&He([ke,pe]),He(Lt),fe=null,ke=pe=0}"linear"===Q||"spline"===Q?Le=function(Lt,tt){for(var rt=[],Ke=0,it=0;it<4;it++){var gt=Ie[it],ft=i(Lt[0],Lt[1],tt[0],tt[1],gt[0],gt[1],gt[2],gt[3]);ft&&(!Ke||Math.abs(ft.x-rt[0][0])>1||Math.abs(ft.y-rt[0][1])>1)&&(ft=[ft.x,ft.y],Ke&&xe(ft,Lt)<xe(rt[0],Lt)?rt.unshift(ft):rt.push(ft),Ke++)}return rt}:"hv"===Q||"vh"===Q?Le=function(Lt,tt){var rt=[],Ke=Ee(Lt),it=Ee(tt);return Ke&&it&&Be(Ke,it)||(Ke&&rt.push(Ke),it&&rt.push(it)),rt}:"hvh"===Q?Le=We(0,De,Ue):"vhv"===Q&&(Le=We(1,Ge,ye));var et=c.isArrayOrTypedArray(se);function at(Lt){if(Lt&&Y&&(Lt.i=u,Lt.d=o,Lt.trace=j,Lt.marker=et?se[Lt.i]:se,Lt.backoff=Y),R=Lt[0]/H,N=Lt[1]/G,Se=Lt[1]<Ge?Ge:Lt[1]>ye?ye:0,(Fe=Lt[0]<De?De:Lt[0]>Ue?Ue:0)||Se){if(we)if(fe){var tt=Le(fe,Lt);tt.length>1&&(Je(tt[0]),he[we++]=tt[1])}else be=Le(he[we-1],Lt)[0],he[we++]=be;else he[we++]=[Fe||Lt[0],Se||Lt[1]];var rt=he[we-1];Fe&&Se&&(rt[0]!==Fe||rt[1]!==Se)?(fe&&(ke!==Fe&&pe!==Se?He(ke&&pe?(gt=(it=Lt)[0]-(Ke=fe)[0],ft=(it[1]-Ke[1])/gt,(Ke[1]*it[0]-it[1]*Ke[0])/gt>0?[ft>0?De:Ue,ye]:[ft>0?Ue:De,Ge]):[ke||Fe,pe||Se]):ke&&pe&&He([ke,pe])),He([Fe,Se])):ke-Fe&&pe-Se&&He([Fe||ke,Se||pe]),fe=Lt,ke=Fe,pe=Se}else fe&&Je(Le(fe,Lt)[0]),he[we++]=Lt;var Ke,it,gt,ft}for(u=0;u<de;u++)if(d=Ae(u)){for(we=0,fe=null,at(d),u++;u<de;u++){if(!(h=Ae(u))){if(te)continue;break}if(ee&&l.simplify){var mt=Ae(u+1);if(b=xe(h,d),oe&&(0===we||we===de-1)||!(b<ve(h,mt)*ue)){for(w=[(h[0]-d[0])/b,(h[1]-d[1])/b],T=d,A=b,p=k=I=0,g=!1,m=h,u++;u<o.length;u++){if(_=mt,mt=Ae(u+1),!_){if(te)continue;break}if(P=(x=[_[0]-d[0],_[1]-d[1]])[0]*w[1]-x[1]*w[0],k=Math.min(k,P),(I=Math.max(I,P))-k>ve(_,mt))break;m=_,(O=x[0]*w[0]+x[1]*w[1])>A?(A=O,h=_,g=!1):O<p&&(p=O,T=_,g=!0)}if(g?(at(h),m!==T&&at(T)):(T!==d&&at(T),m!==h&&at(h)),at(m),u>=o.length||!_)break;at(_),d=_}}else at(h)}fe&&He([ke||fe[0],pe||fe[1]]),le.push(he.slice(0,we))}var ct=Q.slice(Q.length-1);if(Y&&"h"!==ct&&"v"!==ct){for(var St=!1,Dt=-1,Et=[],ht=0;ht<le.length;ht++)for(var pt=0;pt<le[ht].length-1;pt++){var Pt=le[ht][pt],Ft=le[ht][pt+1],Ht=D.applyBackoff(Ft,Pt);Ht[0]===Ft[0]&&Ht[1]===Ft[1]||(St=!0),Et[Dt+1]||(Et[++Dt]=[Pt,[Ht[0],Ht[1]]])}return St?Et:le}return le}},94039:function(ae){"use strict";ae.exports=function(B,r,D){"spline"===D("line.shape")&&D("line.smoothing")}},68687:function(ae){"use strict";var B={tonextx:1,tonexty:1,tonext:1};ae.exports=function(r,D,E){var f,S,M,v,c,i={},s=!1,a=-1,o=0,l=-1;for(S=0;S<E.length;S++)(M=(f=E[S][0].trace).stackgroup||"")?M in i?c=i[M]:(c=i[M]=o,o++):f.fill in B&&l>=0?c=l:(c=l=o,o++),c<a&&(s=!0),f._groupIndex=a=c;var u=E.slice();s&&u.sort(function(m,h){var T=m[0].trace,_=h[0].trace;return T._groupIndex-_._groupIndex||T.index-_.index});var d={};for(S=0;S<u.length;S++)M=(f=u[S][0].trace).stackgroup||"",!0===f.visible?(f._nexttrace=null,f.fill in B&&(f._prevtrace=(v=d[M])||null,v&&(v._nexttrace=f)),f._ownfill=f.fill&&("tozero"===f.fill.substr(0,6)||"toself"===f.fill||"to"===f.fill.substr(0,2)&&!f._prevtrace),d[M]=f):f._prevtrace=f._nexttrace=f._ownfill=null;return u}},39984:function(ae,B,r){"use strict";var D=r(92770);ae.exports=function(E,f){f||(f=2);var S=E.marker,M=S.sizeref||1,v=S.sizemin||0,c="area"===S.sizemode?function(i){return Math.sqrt(i/M)}:function(i){return i/M};return function(i){var s=c(i/f);return D(s)&&s>0?Math.max(s,v):0}}},4898:function(ae){"use strict";ae.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(ae,B,r){"use strict";var D=r(7901),E=r(52075).hasColorscale,f=r(1586),S=r(34098);ae.exports=function(M,v,c,i,s,a){var o=S.isBubble(M),l=(M.line||{}).color;a=a||{},l&&(c=l),s("marker.symbol"),s("marker.opacity",o?.7:1),s("marker.size"),a.noAngle||(s("marker.angle"),a.noAngleRef||s("marker.angleref"),a.noStandOff||s("marker.standoff")),s("marker.color",c),E(M,"marker")&&f(M,v,i,s,{prefix:"marker.",cLetter:"c"}),a.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),a.noLine||(s("marker.line.color",l&&!Array.isArray(l)&&v.marker.color!==l?l:o?D.background:D.defaultLine),E(M,"marker.line")&&f(M,v,i,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",o?1:0)),o&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),a.gradient&&"none"!==s("marker.gradient.type")&&s("marker.gradient.color")}},73927:function(ae,B,r){"use strict";var D=r(71828).dateTick0,E=r(50606).ONEWEEK;function f(S,M){return D(M,S%E==0?1:0)}ae.exports=function(S,M,v,c,i){if(i||(i={x:!0,y:!0}),i.x){var s=c("xperiod");s&&(c("xperiod0",f(s,M.xcalendar)),c("xperiodalignment"))}if(i.y){var a=c("yperiod");a&&(c("yperiod0",f(a,M.ycalendar)),c("yperiodalignment"))}}},32663:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(71828),S=f.ensureSingle,M=f.identity,v=r(91424),c=r(34098),i=r(34621),s=r(68687),a=r(61082).tester;function o(l,u,d,m,h,T,_){var g,w=l._context.staticPlot;!function(Le,Oe,De,Ue,Ge){var ye=De.xaxis,Ie=De.yaxis,Ee=D.extent(f.simpleMap(ye.range,ye.r2c)),Be=D.extent(f.simpleMap(Ie.range,Ie.r2c)),We=Ue[0].trace;if(c.hasMarkers(We)){var He=We.marker.maxdisplayed;if(0!==He){var Je=Ue.filter(function(ct){return ct.x>=Ee[0]&&ct.x<=Ee[1]&&ct.y>=Be[0]&&ct.y<=Be[1]}),et=Math.ceil(Je.length/He),at=0;Ge.forEach(function(ct,St){var Dt=ct[0].trace;c.hasMarkers(Dt)&&Dt.marker.maxdisplayed>0&&St<Oe&&at++});var mt=Math.round(at*et/3+Math.floor(at/3)*et/7.1);Ue.forEach(function(ct){delete ct.vis}),Je.forEach(function(ct,St){0===Math.round((St+mt)%et)&&(ct.vis=!0)})}}}(0,u,d,m,h);var x=!!_&&_.duration>0;function b(Le){return x?Le.transition():Le}var A=d.xaxis,p=d.yaxis,O=m[0].trace,k=O.line,I=D.select(T),P=S(I,"g","errorbars"),R=S(I,"g","lines"),N=S(I,"g","points"),j=S(I,"g","text");if(E.getComponentMethod("errorbars","plot")(l,P,d,_),!0===O.visible){var X,F;b(I).style("opacity",O.opacity);var Z=O.fill.charAt(O.fill.length-1);"x"!==Z&&"y"!==Z&&(Z=""),m[0][d.isRangePlot?"nodeRangePlot3":"node3"]=I;var W,H,G="",Y=[],se=O._prevtrace;se&&(G=se._prevRevpath||"",F=se._nextFill,Y=se._polygons);var te,re,Q,ee,oe,le,ue,de="",he="",we=[],Ae=f.noop;if(X=O._ownFill,c.hasLines(O)||"none"!==O.fill){for(F&&F.datum(m),-1!==["hv","vh","hvh","vhv"].indexOf(k.shape)?(te=v.steps(k.shape),re=v.steps(k.shape.split("").reverse().join(""))):te=re="spline"===k.shape?function(Le){var Oe=Le[Le.length-1];return Le.length>1&&Le[0][0]===Oe[0]&&Le[0][1]===Oe[1]?v.smoothclosed(Le.slice(1),k.smoothing):v.smoothopen(Le,k.smoothing)}:function(Le){return"M"+Le.join("L")},Q=function(Le){return re(Le.reverse())},we=i(m,{xaxis:A,yaxis:p,trace:O,connectGaps:O.connectgaps,baseTolerance:Math.max(k.width||1,3)/4,shape:k.shape,backoff:k.backoff,simplify:k.simplify,fill:O.fill}),ue=O._polygons=new Array(we.length),g=0;g<we.length;g++)O._polygons[g]=a(we[g]);we.length&&(ee=we[0][0],le=(oe=we[we.length-1])[oe.length-1]),Ae=function(Le){return function(Oe){if(W=te(Oe),H=Q(Oe),de?Z?(de+="L"+W.substr(1),he=H+"L"+he.substr(1)):(de+="Z"+W,he=H+"Z"+he):(de=W,he=H),c.hasLines(O)){var De=D.select(this);if(De.datum(m),Le)b(De.style("opacity",0).attr("d",W).call(v.lineGroupStyle)).style("opacity",1);else{var Ue=b(De);Ue.attr("d",W),v.singleLineStyle(m,Ue)}}}}}var Te=R.selectAll(".js-line").data(we);b(Te.exit()).style("opacity",0).remove(),Te.each(Ae(!1)),Te.enter().append("path").classed("js-line",!0).style("vector-effect",w?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(Ae(!0)),v.setClipUrl(Te,d.layerClipId,l),we.length?(X?(X.datum(m),ee&&le&&(Z?("y"===Z?ee[1]=le[1]=p.c2p(0,!0):"x"===Z&&(ee[0]=le[0]=A.c2p(0,!0)),b(X).attr("d","M"+le+"L"+ee+"L"+de.substr(1)).call(v.singleFillStyle,l)):b(X).attr("d",de+"Z").call(v.singleFillStyle,l))):F&&("tonext"===O.fill.substr(0,6)&&de&&G?("tonext"===O.fill?b(F).attr("d",de+"Z"+G+"Z").call(v.singleFillStyle,l):b(F).attr("d",de+"L"+G.substr(1)+"Z").call(v.singleFillStyle,l),O._polygons=O._polygons.concat(Y)):(xe(F),O._polygons=null)),O._prevRevpath=he,O._prevPolygons=ue):(X?xe(X):F&&xe(F),O._polygons=O._prevRevpath=O._prevPolygons=null),N.datum(m),j.datum(m),function(Le,Oe,De){var Ue,Ge=De[0].trace,ye=c.hasMarkers(Ge),Ie=c.hasText(Ge),Ee=function fe(Le){if(Le.ids)return pe}(Ge),Be=be,We=be;if(ye||Ie){var He=M,Je=Ge.stackgroup,et=Je&&"infer zero"===l._fullLayout._scatterStackOpts[A._id+p._id][Je].stackgaps;Ge.marker.maxdisplayed||Ge._needsCull?He=et?Se:Fe:Je&&!et&&(He=ke),ye&&(Be=He),Ie&&(We=He)}var at,mt=(Ue=Le.selectAll("path.point").data(Be,Ee)).enter().append("path").classed("point",!0);x&&mt.call(v.pointStyle,Ge,l).call(v.translatePoints,A,p).style("opacity",0).transition().style("opacity",1),Ue.order(),ye&&(at=v.makePointStyleFns(Ge)),Ue.each(function(ct){var St=D.select(this),Dt=b(St);v.translatePoint(ct,Dt,A,p)?(v.singlePointStyle(ct,Dt,Ge,at,l),d.layerClipId&&v.hideOutsideRangePoint(ct,Dt,A,p,Ge.xcalendar,Ge.ycalendar),Ge.customdata&&St.classed("plotly-customdata",null!=ct.data)):Dt.remove()}),x?Ue.exit().transition().style("opacity",0).remove():Ue.exit().remove(),(Ue=Oe.selectAll("g").data(We,Ee)).enter().append("g").classed("textpoint",!0).append("text"),Ue.order(),Ue.each(function(ct){var St=D.select(this),Dt=b(St.select("text"));v.translatePoint(ct,Dt,A,p)?d.layerClipId&&v.hideOutsideRangePoint(ct,St,A,p,Ge.xcalendar,Ge.ycalendar):St.remove()}),Ue.selectAll("text").call(v.textPointStyle,Ge,l).each(function(ct){var St=A.c2p(ct.x),Dt=p.c2p(ct.y);D.select(this).selectAll("tspan.line").each(function(){b(D.select(this)).attr({x:St,y:Dt})})}),Ue.exit().remove()}(N,j,m);var ve=!1===O.cliponaxis?null:d.layerClipId;v.setClipUrl(N,ve,l),v.setClipUrl(j,ve,l)}function xe(Le){b(Le).attr("d","M0,0Z")}function Fe(Le){return Le.filter(function(Oe){return!Oe.gap&&Oe.vis})}function Se(Le){return Le.filter(function(Oe){return Oe.vis})}function ke(Le){return Le.filter(function(Oe){return!Oe.gap})}function pe(Le){return Le.id}function be(){return!1}}ae.exports=function(l,u,d,m,h,T){var _,g,A,O,w=!h,x=!!h&&h.duration>0,b=s(l,u,d);(_=m.selectAll("g.trace").data(b,function(A){return A[0].trace.uid})).enter().append("g").attr("class",function(A){return"trace scatter trace"+A[0].trace.uid}).style("stroke-miterlimit",2),_.order(),A=l,O=u,_.each(function(k){var I=S(D.select(this),"g","fills");v.setClipUrl(I,O.layerClipId,A);var P=k[0].trace,R=[];P._ownfill&&R.push("_ownFill"),P._nexttrace&&R.push("_nextFill");var N=I.selectAll("g").data(R,M);N.enter().append("g"),N.exit().each(function(j){P[j]=null}).remove(),N.order().each(function(j){P[j]=S(D.select(this),"path","js-fill")})}),x?(T&&(g=T()),D.transition().duration(h.duration).ease(h.easing).each("end",function(){g&&g()}).each("interrupt",function(){g&&g()}).each(function(){m.selectAll("g.trace").each(function(A,p){o(l,p,u,A,b,this,h)})})):_.each(function(A,p){o(l,p,u,A,b,this,h)}),w&&_.exit().remove(),m.selectAll("path:not([d])").remove()}},98002:function(ae,B,r){"use strict";var D=r(34098);ae.exports=function(E,f){var S,M,v,c,i=E.cd,s=E.xaxis,a=E.yaxis,o=[],l=i[0].trace;if(!D.hasMarkers(l)&&!D.hasText(l))return[];if(!1===f)for(S=0;S<i.length;S++)i[S].selected=0;else for(S=0;S<i.length;S++)v=s.c2p((M=i[S]).x),c=a.c2p(M.y),null!==M.i&&f.contains([v,c],!1,S,E)?(o.push({pointNumber:M.i,x:s.c2d(M.x),y:a.c2d(M.y)}),M.selected=1):M.selected=0;return o}},565:function(ae){"use strict";var B=["orientation","groupnorm","stackgaps"];ae.exports=function(r,D,E,f){var S=E._scatterStackOpts,M=f("stackgroup");if(M){var v=D.xaxis+D.yaxis,c=S[v];c||(c=S[v]={});var i=c[M],s=!1;i?i.traces.push(D):(i=c[M]={traceIndices:[],traces:[D]},s=!0);for(var a={orientation:D.x&&!D.y?"h":"v"},o=0;o<B.length;o++){var l=B[o],u=l+"Found";if(!i[u]){var d=void 0!==r[l],m="orientation"===l;if((d||s)&&(i[l]=f(l,a[l]),m&&(i.fillDflt="h"===i[l]?"tonextx":"tonexty"),d&&(i[u]=!0,!s&&(delete i.traces[0][l],m))))for(var h=0;h<i.traces.length-1;h++){var T=i.traces[h];T._input.fill!==T.fill&&(T.fill=i.fillDflt)}}}return i}}},16296:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(73972);function S(v,c,i){E.pointStyle(v.selectAll("path.point"),c,i)}function M(v,c,i){E.textPointStyle(v.selectAll("text"),c,i)}ae.exports={style:function(v){var c=D.select(v).selectAll("g.trace.scatter");c.style("opacity",function(i){return i[0].trace.opacity}),c.selectAll("g.points").each(function(i){S(D.select(this),i.trace||i[0].trace,v)}),c.selectAll("g.text").each(function(i){M(D.select(this),i.trace||i[0].trace,v)}),c.selectAll("g.trace path.js-line").call(E.lineGroupStyle),c.selectAll("g.trace path.js-fill").call(E.fillGroupStyle,v),f.getComponentMethod("errorbars","style")(c)},stylePoints:S,styleText:M,styleOnSelect:function(v,c,i){var s=c[0].trace;s.selectedpoints?(E.selectedPointStyle(i.selectAll("path.point"),s),E.selectedTextStyle(i.selectAll("text"),s)):(S(i,s,v),M(i,s,v))}}},34098:function(ae,B,r){"use strict";var D=r(71828);ae.exports={hasLines:function(E){return E.visible&&E.mode&&-1!==E.mode.indexOf("lines")},hasMarkers:function(E){return E.visible&&(E.mode&&-1!==E.mode.indexOf("markers")||"splom"===E.type)},hasText:function(E){return E.visible&&E.mode&&-1!==E.mode.indexOf("text")},isBubble:function(E){return D.isPlainObject(E.marker)&&D.isArrayOrTypedArray(E.marker.size)}}},82410:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f,S,M,v){v=v||{},M("textposition"),D.coerceFont(M,"textfont",v.font||S.font),v.noSelect||(M("selected.textfont.color"),M("unselected.textfont.color"))}},67513:function(ae,B,r){"use strict";var D=r(71828),E=r(73972);ae.exports=function(f,S,M,v){var c,i=v("x"),s=v("y");if(E.getComponentMethod("calendars","handleTraceDefaults")(f,S,["x","y"],M),i){var a=D.minRowLength(i);s?c=Math.min(a,D.minRowLength(s)):(c=a,v("y0"),v("dy"))}else{if(!s)return 0;c=D.minRowLength(s),v("x0"),v("dx")}return S._length=c,c}},44542:function(ae,B,r){"use strict";var D=r(82196),E=r(50693),f=r(12663).axisHoverFormat,S=r(5386).fF,M=r(5386).si,v=r(9012),c=r(29659),i=r(87381),s=r(1426).extendFlat,a=r(30962).overrideAll,o=r(78607),u=D.marker,d=u.line,m=s({width:D.line.width,dash:{valType:"enumerated",values:o(c),dflt:"solid"}},E("line")),h=ae.exports=a({x:D.x,y:D.y,z:{valType:"data_array"},text:s({},D.text,{}),texttemplate:M({},{}),hovertext:s({},D.hovertext,{}),hovertemplate:S(),xhoverformat:f("x"),yhoverformat:f("y"),zhoverformat:f("z"),mode:s({},D.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:D.connectgaps,line:m,marker:s({symbol:{valType:"enumerated",values:o(i),dflt:"circle",arrayOk:!0},size:s({},u.size,{dflt:8}),sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:s({},u.opacity,{arrayOk:!1}),colorbar:u.colorbar,line:s({width:s({},d.width,{arrayOk:!1})},E("marker.line"))},E("marker")),textposition:s({},D.textposition,{dflt:"top center"}),textfont:{color:D.textfont.color,size:D.textfont.size,family:s({},D.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:s({},v.hoverinfo)},"calc","nested");h.x.editType=h.y.editType=h.z.editType="calc+clearAxisTypes"},36563:function(ae,B,r){"use strict";var D=r(75225),E=r(36922);ae.exports=function(f,S){var M=[{x:!1,y:!1,trace:S,t:{}}];return D(M,S),E(f,S),M}},67336:function(ae,B,r){"use strict";var D=r(73972);function E(f,S,M,v){if(!S||!S.visible)return null;for(var c=D.getComponentMethod("errorbars","makeComputeError")(S),i=new Array(f.length),s=0;s<f.length;s++){var a=c(+f[s],s);if("log"===v.type){var o=v.c2l(f[s]),l=f[s]-a[0],u=f[s]+a[1];if(i[s]=[(v.c2l(l,!0)-o)*M,(v.c2l(u,!0)-o)*M],l>0){var d=v.c2l(l);v._lowerLogErrorBound||(v._lowerLogErrorBound=d),v._lowerErrorBound=Math.min(v._lowerLogErrorBound,d)}}else i[s]=[-a[0]*M,a[1]*M]}return i}ae.exports=function(f,S,M){var v=[E(f.x,f.error_x,S[0],M.xaxis),E(f.y,f.error_y,S[1],M.yaxis),E(f.z,f.error_z,S[2],M.zaxis)],c=function(u){for(var d=0;d<u.length;d++)if(u[d])return u[d].length;return 0}(v);if(0===c)return null;for(var i=new Array(c),s=0;s<c;s++){for(var a=[[0,0,0],[0,0,0]],o=0;o<3;o++)if(v[o])for(var l=0;l<2;l++)a[l][o]=v[o][s][l];i[s]=a}return i}},58925:function(ae,B,r){"use strict";var D=r(9330).gl_line3d,E=r(9330).gl_scatter3d,f=r(9330).gl_error3d,S=r(9330).gl_mesh3d,M=r(9330).delaunay_triangulate,v=r(71828),c=r(78614),i=r(81697).formatColor,s=r(39984),a=r(29659),o=r(87381),l=r(89298),u=r(23469).appendArrayPointValue,d=r(67336);function m(p,O){this.scene=p,this.uid=O,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=m.prototype;function T(p){return null==p?0:p.indexOf("left")>-1?-1:p.indexOf("right")>-1?1:0}function _(p){return null==p?0:p.indexOf("top")>-1?-1:p.indexOf("bottom")>-1?1:0}function g(p,O){return O(4*p)}function w(p){return o[p]}function x(p,O,k,I,P){var R=null;if(v.isArrayOrTypedArray(p)){R=[];for(var N=0;N<O;N++)R[N]=void 0===p[N]?I:k(p[N],P)}else R=k(p,v.identity);return R}function b(p){if(v.isArrayOrTypedArray(p)){var O=p[0];return v.isArrayOrTypedArray(O)&&(p=O),"rgb("+p.slice(0,3).map(function(k){return Math.round(255*k)})+")"}return null}function A(p){return v.isArrayOrTypedArray(p)?4===p.length&&"number"==typeof p[0]?b(p):p.map(b):null}h.handlePick=function(p){if(p.object&&(p.object===this.linePlot||p.object===this.delaunayMesh||p.object===this.textMarkers||p.object===this.scatterPlot)){var O=p.index=p.data.index;return p.object.highlight&&p.object.highlight(null),this.scatterPlot&&(p.object=this.scatterPlot,this.scatterPlot.highlight(p.data)),p.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[O]||0===this.textLabels[O])&&(p.textLabel=this.textLabels[O]):p.textLabel=this.textLabels),p.traceCoordinate=[this.data.x[O],this.data.y[O],this.data.z[O]],!0}},h.update=function(p){var O,k,I,P,R=this.scene.glplot.gl,N=a.solid;this.data=p;var j=function(Z,W){var H,G,Y,se,te,re,Q=[],ee=Z.fullSceneLayout,oe=Z.dataScale,le=ee.xaxis,ue=ee.yaxis,de=ee.zaxis,he=W.marker,we=W.line,Ae=W.x||[],Te=W.y||[],ve=W.z||[],xe=Ae.length,Fe=W.xcalendar,Se=W.ycalendar,ke=W.zcalendar;for(te=0;te<xe;te++)H=le.d2l(Ae[te],0,Fe)*oe[0],G=ue.d2l(Te[te],0,Se)*oe[1],Y=de.d2l(ve[te],0,ke)*oe[2],Q[te]=[H,G,Y];if(Array.isArray(W.text))re=W.text;else if(void 0!==W.text)for(re=new Array(xe),te=0;te<xe;te++)re[te]=W.text;function pe(Je,et){var at=ee[Je];return l.tickText(at,at.d2l(et),!0).text}var fe=W.texttemplate;if(fe){var be=Z.fullLayout._d3locale,Le=Array.isArray(fe),Oe=Le?Math.min(fe.length,xe):xe,De=Le?function(Je){return fe[Je]}:function(){return fe};for(re=new Array(Oe),te=0;te<Oe;te++){var Ue={x:Ae[te],y:Te[te],z:ve[te]},Ge={xLabel:pe("xaxis",Ae[te]),yLabel:pe("yaxis",Te[te]),zLabel:pe("zaxis",ve[te])},ye={};u(ye,W,te);var Ie=W._meta||{};re[te]=v.texttemplateString(De(te),Ge,be,ye,Ue,Ie)}}if(se={position:Q,mode:W.mode,text:re},"line"in W&&(se.lineColor=i(we,1,xe),se.lineWidth=we.width,se.lineDashes=we.dash),"marker"in W){var Ee=s(W);se.scatterColor=i(he,1,xe),se.scatterSize=x(he.size,xe,g,20,Ee),se.scatterMarker=x(he.symbol,xe,w,"\u25cf"),se.scatterLineWidth=he.line.width,se.scatterLineColor=i(he.line,1,xe),se.scatterAngle=0}"textposition"in W&&(se.textOffset=function(Je){var et=[0,0];if(Array.isArray(Je))for(var at=0;at<Je.length;at++)et[at]=[0,0],Je[at]&&(et[at][0]=T(Je[at]),et[at][1]=_(Je[at]));else et[0]=T(Je),et[1]=_(Je);return et}(W.textposition),se.textColor=i(W.textfont,1,xe),se.textSize=x(W.textfont.size,xe,v.identity,12),se.textFont=W.textfont.family,se.textAngle=0);var Be=["x","y","z"];for(se.project=[!1,!1,!1],se.projectScale=[1,1,1],se.projectOpacity=[1,1,1],te=0;te<3;++te){var We=W.projection[Be[te]];(se.project[te]=We.show)&&(se.projectOpacity[te]=We.opacity,se.projectScale[te]=We.scale)}se.errorBounds=d(W,oe,ee);var He=function(Je){for(var et=[0,0,0],at=[[0,0,0],[0,0,0],[0,0,0]],mt=[1,1,1],ct=0;ct<3;ct++){var St=Je[ct];St&&!1!==St.copy_zstyle&&!1!==Je[2].visible&&(St=Je[2]),St&&St.visible&&(et[ct]=St.width/2,at[ct]=c(St.color),mt[ct]=St.thickness)}return{capSize:et,color:at,lineWidth:mt}}([W.error_x,W.error_y,W.error_z]);return se.errorColor=He.color,se.errorLineWidth=He.lineWidth,se.errorCapSize=He.capSize,se.delaunayAxis=W.surfaceaxis,se.delaunayColor=c(W.surfacecolor),se}(this.scene,p);"mode"in j&&(this.mode=j.mode),"lineDashes"in j&&j.lineDashes in a&&(N=a[j.lineDashes]),this.color=A(j.scatterColor)||A(j.lineColor),this.dataPoints=j.position,O={gl:this.scene.glplot.gl,position:j.position,color:j.lineColor,lineWidth:j.lineWidth||1,dashes:N[0],dashScale:N[1],opacity:p.opacity,connectGaps:p.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(O):(this.linePlot=D(O),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var X=p.opacity;if(p.marker&&void 0!==p.marker.opacity&&(X*=p.marker.opacity),k={gl:this.scene.glplot.gl,position:j.position,color:j.scatterColor,size:j.scatterSize,glyph:j.scatterMarker,opacity:X,orthographic:!0,lineWidth:j.scatterLineWidth,lineColor:j.scatterLineColor,project:j.project,projectScale:j.projectScale,projectOpacity:j.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(k):(this.scatterPlot=E(k),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),P={gl:this.scene.glplot.gl,position:j.position,glyph:j.text,color:j.textColor,size:j.textSize,angle:j.textAngle,alignment:j.textOffset,font:j.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:p.opacity},this.textLabels=p.hovertext||p.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(P):(this.textMarkers=E(P),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),I={gl:this.scene.glplot.gl,position:j.position,color:j.errorColor,error:j.errorBounds,lineWidth:j.errorLineWidth,capSize:j.errorCapSize,opacity:p.opacity},this.errorBars?j.errorBounds?this.errorBars.update(I):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):j.errorBounds&&(this.errorBars=f(I),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),j.delaunayAxis>=0){var F=function(Z,W,H){var G,Y=(H+1)%3,se=(H+2)%3,te=[],re=[];for(G=0;G<Z.length;++G){var Q=Z[G];!isNaN(Q[Y])&&isFinite(Q[Y])&&!isNaN(Q[se])&&isFinite(Q[se])&&(te.push([Q[Y],Q[se]]),re.push(G))}var ee=M(te);for(G=0;G<ee.length;++G)for(var oe=ee[G],le=0;le<oe.length;++le)oe[le]=re[oe[le]];return{positions:Z,cells:ee,meshColor:W}}(j.position,j.delaunayColor,j.delaunayAxis);F.opacity=p.opacity,this.delaunayMesh?this.delaunayMesh.update(F):(F.gl=R,this.delaunayMesh=S(F),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},ae.exports=function(p,O){var k=new m(p,O.uid);return k.update(O),k}},21428:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(34098),S=r(49508),M=r(11058),v=r(82410),c=r(44542);ae.exports=function(i,s,a,o){function l(w,x){return E.coerce(i,s,c,w,x)}var w,x,b,A,p,O,k,I;if(w=i,x=s,A=o,p=0,O=(b=l)("x"),k=b("y"),I=b("z"),D.getComponentMethod("calendars","handleTraceDefaults")(w,x,["x","y","z"],A),O&&k&&I&&(p=Math.min(O.length,k.length,I.length),x._length=x._xlength=x._ylength=x._zlength=p),p){l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),f.hasLines(s)&&(l("connectgaps"),M(i,s,a,o,l)),f.hasMarkers(s)&&S(i,s,a,o,l,{noSelect:!0,noAngle:!0}),f.hasText(s)&&(l("texttemplate"),v(i,s,o,l,{noSelect:!0}));var d=(s.line||{}).color,m=(s.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",d||m);for(var h=["x","y","z"],T=0;T<3;++T){var _="projection."+h[T];l(_+".show")&&(l(_+".opacity"),l(_+".scale"))}var g=D.getComponentMethod("errorbars","supplyDefaults");g(i,s,d||m||a,{axis:"z"}),g(i,s,d||m||a,{axis:"y",inherit:"z"}),g(i,s,d||m||a,{axis:"x",inherit:"z"})}else s.visible=!1}},13551:function(ae,B,r){"use strict";ae.exports={plot:r(58925),attributes:r(44542),markerSymbols:r(87381),supplyDefaults:r(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:r(36563),moduleType:"trace",name:"scatter3d",basePlotModule:r(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(ae,B,r){"use strict";var D=r(82196),E=r(9012),f=r(5386).fF,S=r(5386).si,M=r(50693),v=r(1426).extendFlat,c=D.marker,i=D.line,s=c.line;ae.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:v({},D.mode,{dflt:"markers"}),text:v({},D.text,{}),texttemplate:S({editType:"plot"},{keys:["a","b","text"]}),hovertext:v({},D.hovertext,{}),line:{color:i.color,width:i.width,dash:i.dash,backoff:i.backoff,shape:v({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:D.connectgaps,fill:v({},D.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:D.fillcolor,marker:v({symbol:c.symbol,opacity:c.opacity,maxdisplayed:c.maxdisplayed,angle:c.angle,angleref:c.angleref,standoff:c.standoff,size:c.size,sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,line:v({width:s.width,editType:"calc"},M("marker.line")),gradient:c.gradient,editType:"calc"},M("marker")),textfont:D.textfont,textposition:D.textposition,selected:D.selected,unselected:D.unselected,hoverinfo:v({},E.hoverinfo,{flags:["a","b","text","name"]}),hoveron:D.hoveron,hovertemplate:f()}},34618:function(ae,B,r){"use strict";var D=r(92770),E=r(36922),f=r(75225),S=r(66279),M=r(47761).calcMarkerSize,v=r(22882);ae.exports=function(c,i){var s=i._carpetTrace=v(c,i);if(s&&s.visible&&"legendonly"!==s.visible){var a;i.xaxis=s.xaxis,i.yaxis=s.yaxis;var o,l,u=i._length,d=new Array(u),m=!1;for(a=0;a<u;a++)if(l=i.b[a],D(o=i.a[a])&&D(l)){var h=s.ab2xy(+o,+l,!0),T=s.isVisible(+o,+l);T||(m=!0),d[a]={x:h[0],y:h[1],a:o,b:l,vis:T}}else d[a]={x:!1,y:!1};return i._needsCull=m,d[0].carpet=s,d[0].trace=i,M(i,u),E(c,i),f(d,i),S(d,i),d}}},98965:function(ae,B,r){"use strict";var D=r(71828),E=r(47581),f=r(34098),S=r(49508),M=r(11058),v=r(94039),c=r(82410),i=r(28908),s=r(97001);ae.exports=function(a,o,l,u){function d(g,w){return D.coerce(a,o,s,g,w)}d("carpet"),o.xaxis="x",o.yaxis="y";var m=d("a"),h=d("b"),T=Math.min(m.length,h.length);if(T){o._length=T,d("text"),d("texttemplate"),d("hovertext"),d("mode",T<E.PTS_LINESONLY?"lines+markers":"lines"),f.hasLines(o)&&(M(a,o,l,u,d,{backoff:!0}),v(a,o,d),d("connectgaps")),f.hasMarkers(o)&&S(a,o,l,u,d,{gradient:!0}),f.hasText(o)&&c(a,o,u,d);var _=[];(f.hasMarkers(o)||f.hasText(o))&&(d("marker.maxdisplayed"),_.push("points")),d("fill"),"none"!==o.fill&&(i(a,o,l,d),f.hasLines(o)||v(a,o,d)),"tonext"!==o.fill&&"toself"!==o.fill||_.push("fills"),"fills"!==d("hoveron",_.join("+")||"points")&&d("hovertemplate"),D.coerceSelectionMarkerOpacity(o,d)}else o.visible=!1}},16165:function(ae){"use strict";ae.exports=function(B,r,D,E,f){var S=E[f];return B.a=S.a,B.b=S.b,B.y=S.y,B}},48953:function(ae){"use strict";ae.exports=function(B,r){var D={},E=r._carpet,f=E.ab2ij([B.a,B.b]),S=Math.floor(f[0]),M=f[0]-S,v=Math.floor(f[1]),i=E.evalxy([],S,v,M,f[1]-v);return D.yLabel=i[1].toFixed(3),D}},22931:function(ae,B,r){"use strict";var D=r(33720),E=r(71828).fillText;ae.exports=function(f,S,M,v){var c=D(f,S,M,v);if(c&&!1!==c[0].index){var i=c[0];if(void 0===i.index){var a=f.xa._length,o=a*(1-i.y0/f.ya._length)/2,l=a-o;return i.x0=Math.max(Math.min(i.x0,l),o),i.x1=Math.max(Math.min(i.x1,l),o),c}var u=i.cd[i.index];i.a=u.a,i.b=u.b,i.xLabelVal=void 0,i.yLabelVal=void 0;var d=i.trace,m=d._carpet,h=d._module.formatLabels(u,d);i.yLabel=h.yLabel,delete i.text;var T=[];if(!d.hovertemplate){var _=(u.hi||d.hoverinfo).split("+");-1!==_.indexOf("all")&&(_=["a","b","text"]),-1!==_.indexOf("a")&&g(m.aaxis,u.a),-1!==_.indexOf("b")&&g(m.baxis,u.b),T.push("y: "+i.yLabel),-1!==_.indexOf("text")&&E(u,d,T),i.extraText=T.join("<br>")}return c}function g(w,x){var b;b=w.labelprefix&&w.labelprefix.length>0?w.labelprefix.replace(/ = $/,""):w._hovertitle,T.push(b+": "+x.toFixed(3)+w.labelsuffix)}}},46858:function(ae,B,r){"use strict";ae.exports={attributes:r(97001),supplyDefaults:r(98965),colorbar:r(4898),formatLabels:r(48953),calc:r(34618),plot:r(1913),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(22931),selectPoints:r(98002),eventData:r(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:r(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(ae,B,r){"use strict";var D=r(32663),E=r(89298),f=r(91424);ae.exports=function(S,M,v,c){var i,s,a,o=v[0][0].carpet,l=E.getFromId(S,o.xaxis||"x"),u=E.getFromId(S,o.yaxis||"y"),d={xaxis:l,yaxis:u,plot:M.plot};for(i=0;i<v.length;i++)(s=v[i][0].trace)._xA=l,s._yA=u;for(D(S,d,v,c),i=0;i<v.length;i++)a=c.selectAll("g.trace"+(s=v[i][0].trace).uid+" .js-line"),f.setClipUrl(a,v[i][0].carpet._clipPathId,S)}},19316:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,f=r(82196),S=r(9012),M=r(50693),v=r(79952).P,c=r(1426).extendFlat,i=r(30962).overrideAll,s=f.marker,a=f.line,o=s.line;ae.exports=i({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:c({},f.mode,{dflt:"markers"}),text:c({},f.text,{}),texttemplate:E({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:c({},f.hovertext,{}),textfont:f.textfont,textposition:f.textposition,line:{color:a.color,width:a.width,dash:v},connectgaps:f.connectgaps,marker:c({symbol:s.symbol,opacity:s.opacity,angle:s.angle,angleref:c({},s.angleref,{values:["previous","up","north"]}),standoff:s.standoff,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,colorbar:s.colorbar,line:c({width:o.width},M("marker.line")),gradient:s.gradient},M("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:f.fillcolor,selected:f.selected,unselected:f.unselected,hoverinfo:c({},S.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:D()},"calc","nested")},84622:function(ae,B,r){"use strict";var D=r(92770),E=r(50606).BADNUM,f=r(36922),S=r(75225),M=r(66279),v=r(71828)._;function c(i){return i&&"string"==typeof i}ae.exports=function(i,s){var a,o=Array.isArray(s.locations),l=o?s.locations.length:s._length,u=new Array(l);a=s.geojson?function(g){return c(g)||D(g)}:c;for(var d=0;d<l;d++){var m=u[d]={};if(o){var h=s.locations[d];m.loc=a(h)?h:null}else{var T=s.lon[d],_=s.lat[d];m.lonlat=D(T)&&D(_)?[+T,+_]:[E,E]}}return S(u,s),f(i,s),M(u,s),l&&(u[0].t={labels:{lat:v(i,"lat:")+" ",lon:v(i,"lon:")+" "}}),u}},10659:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),f=r(49508),S=r(11058),M=r(82410),v=r(28908),c=r(19316);ae.exports=function(i,s,a,o){function l(g,w){return D.coerce(i,s,c,g,w)}var u,d=l("locations");if(d&&d.length){var m,h=l("geojson");("string"==typeof h&&""!==h||D.isPlainObject(h))&&(m="geojson-id"),"geojson-id"===l("locationmode",m)&&l("featureidkey"),u=d.length}else{var T=l("lon")||[],_=l("lat")||[];u=Math.min(T.length,_.length)}u?(s._length=u,l("text"),l("hovertext"),l("hovertemplate"),l("mode"),E.hasLines(s)&&(S(i,s,a,o,l),l("connectgaps")),E.hasMarkers(s)&&f(i,s,a,o,l,{gradient:!0}),E.hasText(s)&&(l("texttemplate"),M(i,s,o,l)),l("fill"),"none"!==s.fill&&v(i,s,a,l),D.coerceSelectionMarkerOpacity(s,l)):s.visible=!1}},84084:function(ae){"use strict";ae.exports=function(B,r,D,E,f){B.lon=r.lon,B.lat=r.lat,B.location=r.loc?r.loc:null;var S=E[f];return S.fIn&&S.fIn.properties&&(B.properties=S.fIn.properties),B}},82719:function(ae,B,r){"use strict";var D=r(89298);ae.exports=function(E,f,S){var M={},v=S[f.geo]._subplot.mockAxis,c=E.lonlat;return M.lonLabel=D.tickText(v,v.c2l(c[0]),!0).text,M.latLabel=D.tickText(v,v.c2l(c[1]),!0).text,M}},14977:function(ae,B,r){"use strict";var D=r(30211),E=r(50606).BADNUM,f=r(34603),S=r(71828).fillText,M=r(19316);ae.exports=function(v,c,i){var s=v.cd,a=s[0].trace,o=v.xa,l=v.ya,u=v.subplot,d=u.projection.isLonLatOverEdges,m=u.project;if(D.getClosest(s,function(b){var A=b.lonlat;if(A[0]===E||d(A))return 1/0;var p=m(A),O=m([c,i]),k=Math.abs(p[0]-O[0]),I=Math.abs(p[1]-O[1]),P=Math.max(3,b.mrc||0);return Math.max(Math.sqrt(k*k+I*I)-P,1-3/P)},v),!1!==v.index){var h=s[v.index],T=h.lonlat,_=[o.c2p(T),l.c2p(T)],g=h.mrc||1;v.x0=_[0]-g,v.x1=_[0]+g,v.y0=_[1]-g,v.y1=_[1]+g,v.loc=h.loc,v.lon=T[0],v.lat=T[1];var w={};w[a.geo]={_subplot:u};var x=a._module.formatLabels(h,a,w);return v.lonLabel=x.lonLabel,v.latLabel=x.latLabel,v.color=f(a,h),v.extraText=function(b,A,p,O){if(!b.hovertemplate){var k=A.hi||b.hoverinfo,I="all"===k?M.hoverinfo.flags:k.split("+"),P=-1!==I.indexOf("location")&&Array.isArray(b.locations),R=-1!==I.indexOf("lon"),N=-1!==I.indexOf("lat"),j=-1!==I.indexOf("text"),X=[];return P?X.push(A.loc):R&&N?X.push("("+F(p.latLabel)+", "+F(p.lonLabel)+")"):R?X.push(O.lon+F(p.lonLabel)):N&&X.push(O.lat+F(p.latLabel)),j&&S(A,b,X),X.join("<br>")}function F(Z){return Z+"\xb0"}}(a,h,v,s[0].t.labels),v.hovertemplate=a.hovertemplate,[v]}}},17988:function(ae,B,r){"use strict";ae.exports={attributes:r(19316),supplyDefaults:r(10659),colorbar:r(4898),formatLabels:r(82719),calc:r(84622),calcGeoJSON:r(89171).calcGeoJSON,plot:r(89171).plot,style:r(33095),styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(14977),eventData:r(84084),selectPoints:r(20548),moduleType:"trace",name:"scattergeo",basePlotModule:r(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(90973).getTopojsonFeatures,S=r(18214),M=r(41327),v=r(71739).findExtremes,c=r(50606).BADNUM,i=r(47761).calcMarkerSize,s=r(34098),a=r(33095);ae.exports={calcGeoJSON:function(o,l){var u,d,m=o[0].trace,h=l[m.geo],T=h._subplot,_=m._length;if(Array.isArray(m.locations)){var g=m.locationmode,w="geojson-id"===g?M.extractTraceFeature(o):f(m,T.topojson);for(u=0;u<_;u++){d=o[u];var x="geojson-id"===g?d.fOut:M.locationToFeature(g,d.loc,w);d.lonlat=x?x.properties.ct:[c,c]}}var b,A,p={padded:!0};if("geojson"===h.fitbounds&&"geojson-id"===m.locationmode){var O=M.computeBbox(M.getTraceGeojson(m));b=[O[0],O[2]],A=[O[1],O[3]]}else{for(b=new Array(_),A=new Array(_),u=0;u<_;u++)b[u]=(d=o[u]).lonlat[0],A[u]=d.lonlat[1];p.ppad=i(m,_)}m._extremes.lon=v(h.lonaxis._ax,b,p),m._extremes.lat=v(h.lataxis._ax,A,p)},plot:function(o,l,u){var d=l.layers.frontplot.select(".scatterlayer"),m=E.makeTraceGroups(d,u,"trace scattergeo");function h(T,_){T.lonlat[0]===c&&D.select(_).remove()}m.selectAll("*").remove(),m.each(function(T){var _=D.select(this),g=T[0].trace;if(s.hasLines(g)||"none"!==g.fill){var w=S.calcTraceToLineCoords(T),x="none"!==g.fill?S.makePolygon(w):S.makeLine(w);_.selectAll("path.js-line").data([{geojson:x,trace:g}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}s.hasMarkers(g)&&_.selectAll("path.point").data(E.identity).enter().append("path").classed("point",!0).each(function(b){h(b,this)}),s.hasText(g)&&_.selectAll("g").data(E.identity).enter().append("g").append("text").each(function(b){h(b,this)}),a(o,T)})}}},20548:function(ae,B,r){"use strict";var D=r(34098),E=r(50606).BADNUM;ae.exports=function(f,S){var M,v,c,i,s,a=f.cd,o=f.xaxis,l=f.yaxis,u=[],d=a[0].trace;if(!D.hasMarkers(d)&&!D.hasText(d))return[];if(!1===S)for(s=0;s<a.length;s++)a[s].selected=0;else for(s=0;s<a.length;s++)(v=(M=a[s]).lonlat)[0]!==E&&(c=o.c2p(v),i=l.c2p(v),S.contains([c,i],null,s,f)?(u.push({pointNumber:s,lon:v[0],lat:v[1]}),M.selected=1):M.selected=0);return u}},33095:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(7901),S=r(16296),M=S.stylePoints,v=S.styleText;ae.exports=function(c,i){var s,a,o,l;i&&(s=c,o=(a=i)[0].trace,(l=a[0].node3).style("opacity",a[0].trace.opacity),M(l,o,s),v(l,o,s),l.selectAll("path.js-line").style("fill","none").each(function(u){var d=D.select(this),m=u.trace,h=m.line||{};d.call(f.stroke,h.color).call(E.dashLine,h.dash||"",h.width||0),"none"!==m.fill&&d.call(f.fill,m.fillcolor)}))}},42341:function(ae,B,r){"use strict";var D=r(9012),E=r(82196),f=r(12663).axisHoverFormat,S=r(50693),M=r(78607),v=r(1426).extendFlat,c=r(30962).overrideAll,i=r(78232).DASHES,s=E.line,a=E.marker,o=a.line,l=ae.exports=c({x:E.x,x0:E.x0,dx:E.dx,y:E.y,y0:E.y0,dy:E.dy,xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,xhoverformat:f("x"),yhoverformat:f("y"),text:E.text,hovertext:E.hovertext,textposition:E.textposition,textfont:E.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:s.color,width:s.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:M(i),dflt:"solid"}},marker:v({},S("marker"),{symbol:a.symbol,angle:a.angle,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,opacity:a.opacity,colorbar:a.colorbar,line:v({},S("marker.line"),{width:o.width})}),connectgaps:E.connectgaps,fill:v({},E.fill,{dflt:"none"}),fillcolor:E.fillcolor,selected:{marker:E.selected.marker,textfont:E.selected.textfont},unselected:{marker:E.unselected.marker,textfont:E.unselected.textfont},opacity:D.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=E.hovertemplate,l.texttemplate=E.texttemplate},72156:function(ae,B,r){"use strict";var D=r(20794);ae.exports={moduleType:"trace",name:"scattergl",basePlotModule:r(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:r(42341),supplyDefaults:r(47148),crossTraceDefaults:r(34936),colorbar:r(4898),formatLabels:r(68101),calc:r(45032),hoverPoints:D.hoverPoints,selectPoints:r(58147),meta:{}}},45032:function(ae,B,r){"use strict";var D=r(88294),E=r(71828),f=r(41675),S=r(71739).findExtremes,M=r(42973),v=r(47761),c=v.calcMarkerSize,i=v.calcAxisExpansion,s=v.setFirstScatter,a=r(36922),o=r(19635),l=r(38967),u=r(50606).BADNUM,d=r(78232).TOO_MANY_POINTS;function m(h,T,_){var g=h._extremes[T._id],w=S(T,_._bnds,{padded:!0});g.min=g.min.concat(w.min),g.max=g.max.concat(w.max)}ae.exports=function(h,T){var _,g=h._fullLayout,w=T._xA=f.getFromId(h,T.xaxis,"x"),x=T._yA=f.getFromId(h,T.yaxis,"y"),b=g._plots[T.xaxis+T.yaxis],A=T._length,p=A>=d,O=2*A,k={},I=w.makeCalcdata(T,"x"),P=x.makeCalcdata(T,"y"),R=M(T,w,"x",I),N=M(T,x,"y",P),j=R.vals,X=N.vals;T._x=j,T._y=X,T.xperiodalignment&&(T._origX=I,T._xStarts=R.starts,T._xEnds=R.ends),T.yperiodalignment&&(T._origY=P,T._yStarts=N.starts,T._yEnds=N.ends);var F=new Array(O),Z=new Array(A);for(_=0;_<A;_++)F[2*_]=j[_]===u?NaN:j[_],F[2*_+1]=X[_]===u?NaN:X[_],Z[_]=_;if("log"===w.type)for(_=0;_<O;_+=2)F[_]=w.c2l(F[_]);if("log"===x.type)for(_=1;_<O;_+=2)F[_]=x.c2l(F[_]);p&&"log"!==w.type&&"log"!==x.type?k.tree=D(F):k.ids=Z,a(h,T);var W,H=function(Y,se,te,re,Q,ee){var oe=o.style(Y,te);if(oe.marker&&(oe.marker.positions=re),oe.line&&re.length>1&&E.extendFlat(oe.line,o.linePositions(Y,te,re)),oe.errorX||oe.errorY){var le=o.errorBarPositions(Y,te,re,Q,ee);oe.errorX&&E.extendFlat(oe.errorX,le.x),oe.errorY&&E.extendFlat(oe.errorY,le.y)}return oe.text&&(E.extendFlat(oe.text,{positions:re},o.textPosition(Y,te,oe.text,oe.marker)),E.extendFlat(oe.textSel,{positions:re},o.textPosition(Y,te,oe.text,oe.markerSel)),E.extendFlat(oe.textUnsel,{positions:re},o.textPosition(Y,te,oe.text,oe.markerUnsel))),oe}(h,0,T,F,j,X),G=l(h,b);return s(g,T),p?H.marker&&(W=H.marker.sizeAvg||Math.max(H.marker.size,3)):W=c(T,A),i(h,T,w,x,j,X,W),H.errorX&&m(T,w,H.errorX),H.errorY&&m(T,x,H.errorY),H.fill&&!G.fill2d&&(G.fill2d=!0),H.marker&&!G.scatter2d&&(G.scatter2d=!0),H.line&&!G.line2d&&(G.line2d=!0),!H.errorX&&!H.errorY||G.error2d||(G.error2d=!0),H.text&&!G.glText&&(G.glText=!0),H.marker&&(H.marker.snap=A),G.lineOptions.push(H.line),G.errorXOptions.push(H.errorX),G.errorYOptions.push(H.errorY),G.fillOptions.push(H.fill),G.markerOptions.push(H.marker),G.markerSelectedOptions.push(H.markerSel),G.markerUnselectedOptions.push(H.markerUnsel),G.textOptions.push(H.text),G.textSelectedOptions.push(H.textSel),G.textUnselectedOptions.push(H.textUnsel),G.selectBatch.push([]),G.unselectBatch.push([]),k._scene=G,k.index=G.count,k.x=j,k.y=X,k.positions=F,G.count++,[{x:!1,y:!1,t:k,trace:T}]}},78232:function(ae){"use strict";ae.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(ae,B,r){"use strict";var D=r(92770),E=r(82019),f=r(25075),S=r(73972),M=r(71828),v=r(91424),c=r(41675),i=r(81697).formatColor,s=r(34098),a=r(39984),o=r(68645),l=r(78232),u=r(37822).DESELECTDIM,d={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},m=r(23469).appendArrayPointValue;function h(I,P){var R,N=I._fullLayout,j=P._length,X=P.textfont,F=P.textposition,Z=Array.isArray(F)?F:[F],W=X.color,H=X.size,G=X.family,Y={},se=I._context.plotGlPixelRatio,te=P.texttemplate;if(te){Y.text=[];var re=N._d3locale,Q=Array.isArray(te),ee=Q?Math.min(te.length,j):j,oe=Q?function(Te){return te[Te]}:function(){return te};for(R=0;R<ee;R++){var le={i:R},ue=P._module.formatLabels(le,P,N),de={};m(de,P,R);var he=P._meta||{};Y.text.push(M.texttemplateString(oe(R),ue,re,de,le,he))}}else Y.text=Array.isArray(P.text)&&P.text.length<j?P.text.slice():P.text;if(Array.isArray(Y.text))for(R=Y.text.length;R<j;R++)Y.text[R]="";for(Y.opacity=P.opacity,Y.font={},Y.align=[],Y.baseline=[],R=0;R<Z.length;R++){var we=Z[R].split(/\s+/);switch(we[1]){case"left":Y.align.push("right");break;case"right":Y.align.push("left");break;default:Y.align.push(we[1])}switch(we[0]){case"top":Y.baseline.push("bottom");break;case"bottom":Y.baseline.push("top");break;default:Y.baseline.push(we[0])}}if(Array.isArray(W))for(Y.color=new Array(j),R=0;R<j;R++)Y.color[R]=W[R];else Y.color=W;if(M.isArrayOrTypedArray(H)||Array.isArray(G))for(Y.font=new Array(j),R=0;R<j;R++){var Ae=Y.font[R]={};Ae.size=(M.isTypedArray(H)?H[R]:Array.isArray(H)?D(H[R])?H[R]:0:H)*se,Ae.family=Array.isArray(G)?G[R]:G}else Y.font={size:H*se,family:G};return Y}function T(I,P){var R,N,j=P._length,X=P.marker,F={},Z=M.isArrayOrTypedArray(X.symbol),W=M.isArrayOrTypedArray(X.angle),H=M.isArrayOrTypedArray(X.color),G=M.isArrayOrTypedArray(X.line.color),Y=M.isArrayOrTypedArray(X.opacity),se=M.isArrayOrTypedArray(X.size),te=M.isArrayOrTypedArray(X.line.width);if(Z||(N=o.isOpenSymbol(X.symbol)),Z||H||G||Y||W){F.symbols=new Array(j),F.angles=new Array(j),F.colors=new Array(j),F.borderColors=new Array(j);var re=X.symbol,Q=X.angle,ee=i(X,X.opacity,j),oe=i(X.line,X.opacity,j);if(!Array.isArray(oe[0])){var le=oe;for(oe=Array(j),R=0;R<j;R++)oe[R]=le}if(!Array.isArray(ee[0])){var ue=ee;for(ee=Array(j),R=0;R<j;R++)ee[R]=ue}if(!Array.isArray(re)){var de=re;for(re=Array(j),R=0;R<j;R++)re[R]=de}if(!Array.isArray(Q)){var he=Q;for(Q=Array(j),R=0;R<j;R++)Q[R]=he}for(F.symbols=re,F.angles=Q,F.colors=ee,F.borderColors=oe,R=0;R<j;R++)Z&&(N=o.isOpenSymbol(X.symbol[R])),N&&(oe[R]=ee[R].slice(),ee[R]=ee[R].slice(),ee[R][3]=0);for(F.opacity=P.opacity,F.markers=new Array(j),R=0;R<j;R++)F.markers[R]=k({mx:F.symbols[R],ma:F.angles[R]},P)}else N?(F.color=f(X.color,"uint8"),F.color[3]=0,F.borderColor=f(X.color,"uint8")):(F.color=f(X.color,"uint8"),F.borderColor=f(X.line.color,"uint8")),F.opacity=P.opacity*X.opacity,F.marker=k({mx:X.symbol,ma:X.angle},P);var we,Ae=a(P,1);if(se||te){var Te,ve=F.sizes=new Array(j),xe=F.borderSizes=new Array(j),Fe=0;if(se){for(R=0;R<j;R++)ve[R]=Ae(X.size[R]),Fe+=ve[R];Te=Fe/j}else for(we=Ae(X.size),R=0;R<j;R++)ve[R]=we;if(te)for(R=0;R<j;R++)xe[R]=X.line.width[R];else for(we=X.line.width,R=0;R<j;R++)xe[R]=we;F.sizeAvg=Te}else F.size=Ae(X&&X.size||10),F.borderSizes=Ae(X.line.width);return F}function _(I,P,R){var j={};return R&&(R.marker&&R.marker.symbol?j=T(0,M.extendFlat({},P.marker,R.marker)):R.marker&&(R.marker.size&&(j.size=R.marker.size),R.marker.color&&(j.colors=R.marker.color),void 0!==R.marker.opacity&&(j.opacity=R.marker.opacity))),j}function g(I,P,R){var N={};if(!R)return N;if(R.textfont){var j={opacity:1,text:P.text,texttemplate:P.texttemplate,textposition:P.textposition,textfont:M.extendFlat({},P.textfont)};R.textfont&&M.extendFlat(j.textfont,R.textfont),N=h(I,j)}return N}function w(I,P,R){var N={capSize:2*P.width*R,lineWidth:P.thickness*R,color:P.color};return P.copy_ystyle&&(N=I.error_y),N}var x=l.SYMBOL_SDF_SIZE,b=l.SYMBOL_SIZE,A=l.SYMBOL_STROKE,p={},O=v.symbolFuncs[0](.05*b);function k(I,P){var R,N,j=I.mx;if("circle"===j)return null;var X=v.symbolNumber(j),F=v.symbolFuncs[X%100],Z=!!v.symbolNoDot[X%100],W=!!v.symbolNoFill[X%100],H=o.isDotSymbol(j);if(I.ma&&(j+="_"+I.ma),p[j])return p[j];var G=v.getMarkerAngle(I,P);return R=H&&!Z?F(1.1*b,G)+O:F(b,G),N=E(R,{w:x,h:x,viewBox:[-b,-b,b,b],stroke:W?A:-A}),p[j]=N,N||null}ae.exports={style:function(I,P){var R,N={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},j=I._context.plotGlPixelRatio;if(!0!==P.visible)return N;if(s.hasText(P)&&(N.text=h(I,P),N.textSel=g(I,P,P.selected),N.textUnsel=g(I,P,P.unselected)),s.hasMarkers(P)&&(N.marker=T(0,P),N.markerSel=_(0,P,P.selected),N.markerUnsel=_(0,P,P.unselected),!P.unselected&&M.isArrayOrTypedArray(P.marker.opacity))){var X=P.marker.opacity;for(N.markerUnsel.opacity=new Array(X.length),R=0;R<X.length;R++)N.markerUnsel.opacity[R]=u*X[R]}if(s.hasLines(P)){N.line={overlay:!0,thickness:P.line.width*j,color:P.line.color,opacity:P.opacity};var F=(l.DASHES[P.line.dash]||[1]).slice();for(R=0;R<F.length;++R)F[R]*=P.line.width*j;N.line.dashes=F}return P.error_x&&P.error_x.visible&&(N.errorX=w(P,P.error_x,j)),P.error_y&&P.error_y.visible&&(N.errorY=w(P,P.error_y,j)),P.fill&&"none"!==P.fill&&(N.fill={closed:!0,fill:P.fillcolor,thickness:0}),N},markerStyle:T,markerSelection:_,linePositions:function(I,P,R){var N,j,X=R.length,F=X/2;if(s.hasLines(P)&&F)if("hv"===P.line.shape){for(N=[],j=0;j<F-1;j++)isNaN(R[2*j])||isNaN(R[2*j+1])?N.push(NaN,NaN,NaN,NaN):(N.push(R[2*j],R[2*j+1]),isNaN(R[2*j+2])||isNaN(R[2*j+3])?N.push(NaN,NaN):N.push(R[2*j+2],R[2*j+1]));N.push(R[X-2],R[X-1])}else if("hvh"===P.line.shape){for(N=[],j=0;j<F-1;j++)if(isNaN(R[2*j])||isNaN(R[2*j+1])||isNaN(R[2*j+2])||isNaN(R[2*j+3]))isNaN(R[2*j])||isNaN(R[2*j+1])?N.push(NaN,NaN):N.push(R[2*j],R[2*j+1]),N.push(NaN,NaN);else{var Z=(R[2*j]+R[2*j+2])/2;N.push(R[2*j],R[2*j+1],Z,R[2*j+1],Z,R[2*j+3])}N.push(R[X-2],R[X-1])}else if("vhv"===P.line.shape){for(N=[],j=0;j<F-1;j++)if(isNaN(R[2*j])||isNaN(R[2*j+1])||isNaN(R[2*j+2])||isNaN(R[2*j+3]))isNaN(R[2*j])||isNaN(R[2*j+1])?N.push(NaN,NaN):N.push(R[2*j],R[2*j+1]),N.push(NaN,NaN);else{var W=(R[2*j+1]+R[2*j+3])/2;N.push(R[2*j],R[2*j+1],R[2*j],W,R[2*j+2],W)}N.push(R[X-2],R[X-1])}else if("vh"===P.line.shape){for(N=[],j=0;j<F-1;j++)isNaN(R[2*j])||isNaN(R[2*j+1])?N.push(NaN,NaN,NaN,NaN):(N.push(R[2*j],R[2*j+1]),isNaN(R[2*j+2])||isNaN(R[2*j+3])?N.push(NaN,NaN):N.push(R[2*j],R[2*j+3]));N.push(R[X-2],R[X-1])}else N=R;var H=!1;for(j=0;j<N.length;j++)if(isNaN(N[j])){H=!0;break}var G=H||N.length>l.TOO_MANY_POINTS||s.hasMarkers(P)?"rect":"round";if(H&&P.connectgaps){var Y=N[0],se=N[1];for(j=0;j<N.length;j+=2)isNaN(N[j])||isNaN(N[j+1])?(N[j]=Y,N[j+1]=se):(Y=N[j],se=N[j+1])}return{join:G,positions:N}},errorBarPositions:function(I,P,R,N,j){var X=S.getComponentMethod("errorbars","makeComputeError"),F=c.getFromId(I,P.xaxis,"x"),Z=c.getFromId(I,P.yaxis,"y"),W=R.length/2,H={};function G(Y,se){var te=se._id.charAt(0),re=P["error_"+te];if(re&&re.visible&&("linear"===se.type||"log"===se.type)){for(var Q=X(re),ee={x:0,y:1}[te],oe={x:[0,1,2,3],y:[2,3,0,1]}[te],le=new Float64Array(4*W),ue=1/0,de=-1/0,he=0,we=0;he<W;he++,we+=4){var Ae=Y[he];if(D(Ae)){var Te=R[2*he+ee],ve=Q(Ae,he),xe=ve[0],Fe=ve[1];if(D(xe)&&D(Fe)){var ke=Ae+Fe;le[we+oe[0]]=Te-se.c2l(Ae-xe),le[we+oe[1]]=se.c2l(ke)-Te,le[we+oe[2]]=0,le[we+oe[3]]=0,ue=Math.min(ue,Ae-xe),de=Math.max(de,Ae+Fe)}}}H[te]={positions:R,errors:le,_bnds:[ue,de]}}}return G(N,F),G(j,Z),H},textPosition:function(I,P,R,N){var j,X=P._length,F={};if(s.hasMarkers(P)){var Z=R.font,W=R.align,H=R.baseline;for(F.offset=new Array(X),j=0;j<X;j++){var G=N.sizes?N.sizes[j]:N.size,Y=Array.isArray(Z)?Z[j].size:Z.size,se=Array.isArray(W)?W.length>1?W[j]:W[0]:W,te=Array.isArray(H)?H.length>1?H[j]:H[0]:H,Q=d[te],ee=G?G/.8+1:0;F.offset[j]=[d[se]*ee/Y,(-Q*ee-.5*Q)/Y]}}return F}}},47148:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),f=r(68645),S=r(42341),M=r(47581),v=r(34098),c=r(67513),i=r(73927),s=r(49508),a=r(11058),o=r(28908),l=r(82410);ae.exports=function(u,d,m,h){function T(O,k){return D.coerce(u,d,S,O,k)}var _=!!u.marker&&f.isOpenSymbol(u.marker.symbol),g=v.isBubble(u),w=c(u,d,h,T);if(w){i(u,d,h,T),T("xhoverformat"),T("yhoverformat");var x=w<M.PTS_LINESONLY?"lines+markers":"lines";T("text"),T("hovertext"),T("hovertemplate"),T("mode",x),v.hasLines(d)&&(T("connectgaps"),a(u,d,m,h,T),T("line.shape")),v.hasMarkers(d)&&(s(u,d,m,h,T,{noAngleRef:!0,noStandOff:!0}),T("marker.line.width",_||g?1:0)),v.hasText(d)&&(T("texttemplate"),l(u,d,h,T));var b=(d.line||{}).color,A=(d.marker||{}).color;T("fill"),"none"!==d.fill&&o(u,d,m,T);var p=E.getComponentMethod("errorbars","supplyDefaults");p(u,d,b||A||m,{axis:"y"}),p(u,d,b||A||m,{axis:"x",inherit:"y"}),D.coerceSelectionMarkerOpacity(d,T)}else d.visible=!1}},5345:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(37822).DESELECTDIM;ae.exports={styleTextSelection:function(S){var M,v,c=S[0],i=c.trace,s=c.t,a=s._scene,o=s.index,l=a.selectBatch[o],u=a.unselectBatch[o],d=a.textOptions[o],m=a.textSelectedOptions[o]||{},h=a.textUnselectedOptions[o]||{},T=D.extendFlat({},d);if(l.length||u.length){var _=m.color,g=h.color,w=d.color,x=Array.isArray(w);for(T.color=new Array(i._length),M=0;M<l.length;M++)T.color[v=l[M]]=_||(x?w[v]:w);for(M=0;M<u.length;M++){v=u[M];var b=x?w[v]:w;T.color[v]=g||(_?b:E.addOpacity(b,f))}}a.glText[o].update(T)}}},68101:function(ae,B,r){"use strict";var D=r(8225);ae.exports=function(E,f,S){var M=E.i;return"x"in E||(E.x=f._x[M]),"y"in E||(E.y=f._y[M]),D(E,f,S)}},68645:function(ae,B,r){"use strict";var D=r(78232);B.isOpenSymbol=function(E){return"string"==typeof E?D.OPEN_RE.test(E):E%200>100},B.isDotSymbol=function(E){return"string"==typeof E?D.DOT_RE.test(E):E>200}},20794:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(34603);function S(M,v,c,i){var s=M.xa,a=M.ya,o=M.distance,l=M.dxy,u=M.index,d={pointNumber:u,x:v[u],y:c[u]};d.tx=Array.isArray(i.text)?i.text[u]:i.text,d.htx=Array.isArray(i.hovertext)?i.hovertext[u]:i.hovertext,d.data=Array.isArray(i.customdata)?i.customdata[u]:i.customdata,d.tp=Array.isArray(i.textposition)?i.textposition[u]:i.textposition;var m=i.textfont;m&&(d.ts=E.isArrayOrTypedArray(m.size)?m.size[u]:m.size,d.tc=Array.isArray(m.color)?m.color[u]:m.color,d.tf=Array.isArray(m.family)?m.family[u]:m.family);var h=i.marker;h&&(d.ms=E.isArrayOrTypedArray(h.size)?h.size[u]:h.size,d.mo=E.isArrayOrTypedArray(h.opacity)?h.opacity[u]:h.opacity,d.mx=E.isArrayOrTypedArray(h.symbol)?h.symbol[u]:h.symbol,d.ma=E.isArrayOrTypedArray(h.angle)?h.angle[u]:h.angle,d.mc=E.isArrayOrTypedArray(h.color)?h.color[u]:h.color);var T=h&&h.line;T&&(d.mlc=Array.isArray(T.color)?T.color[u]:T.color,d.mlw=E.isArrayOrTypedArray(T.width)?T.width[u]:T.width);var _=h&&h.gradient;_&&"none"!==_.type&&(d.mgt=Array.isArray(_.type)?_.type[u]:_.type,d.mgc=Array.isArray(_.color)?_.color[u]:_.color);var g=s.c2p(d.x,!0),w=a.c2p(d.y,!0),x=d.mrc||1,b=i.hoverlabel;b&&(d.hbg=Array.isArray(b.bgcolor)?b.bgcolor[u]:b.bgcolor,d.hbc=Array.isArray(b.bordercolor)?b.bordercolor[u]:b.bordercolor,d.hts=E.isArrayOrTypedArray(b.font.size)?b.font.size[u]:b.font.size,d.htc=Array.isArray(b.font.color)?b.font.color[u]:b.font.color,d.htf=Array.isArray(b.font.family)?b.font.family[u]:b.font.family,d.hnl=E.isArrayOrTypedArray(b.namelength)?b.namelength[u]:b.namelength);var A=i.hoverinfo;A&&(d.hi=Array.isArray(A)?A[u]:A);var p=i.hovertemplate;p&&(d.ht=Array.isArray(p)?p[u]:p);var O={};O[M.index]=d;var k=i._origX,I=i._origY,P=E.extendFlat({},M,{color:f(i,d),x0:g-x,x1:g+x,xLabelVal:k?k[u]:d.x,y0:w-x,y1:w+x,yLabelVal:I?I[u]:d.y,cd:O,distance:o,spikeDistance:l,hovertemplate:d.ht});return d.htx?P.text=d.htx:d.tx?P.text=d.tx:i.text&&(P.text=i.text),E.fillText(d,i,P),D.getComponentMethod("errorbars","hoverInfo")(d,i,P),P}ae.exports={hoverPoints:function(M,v,c,i){var s,a,o,l,u,d,m,h,T,_,g=M.cd,w=g[0].t,x=g[0].trace,b=M.xa,A=M.ya,p=w.x,O=w.y,k=b.c2p(v),I=A.c2p(c),P=M.distance;if(w.tree){var R=b.p2c(k-P),N=b.p2c(k+P),j=A.p2c(I-P),X=A.p2c(I+P);s="x"===i?w.tree.range(Math.min(R,N),Math.min(A._rl[0],A._rl[1]),Math.max(R,N),Math.max(A._rl[0],A._rl[1])):w.tree.range(Math.min(R,N),Math.min(j,X),Math.max(R,N),Math.max(j,X))}else s=w.ids;var F=P;if("x"===i){var Z=!!x.xperiodalignment,W=!!x.yperiodalignment;for(d=0;d<s.length;d++){if(l=p[a=s[d]],m=Math.abs(b.c2p(l)-k),Z){var H=b.c2p(x._xStarts[a]),G=b.c2p(x._xEnds[a]);m=k>=Math.min(H,G)&&k<=Math.max(H,G)?0:1/0}if(m<F){if(F=m,h=A.c2p(u=O[a])-I,W){var Y=A.c2p(x._yStarts[a]),se=A.c2p(x._yEnds[a]);h=I>=Math.min(Y,se)&&I<=Math.max(Y,se)?0:1/0}_=Math.sqrt(m*m+h*h),o=s[d]}}}else for(d=s.length-1;d>-1;d--)l=p[a=s[d]],u=O[a],m=b.c2p(l)-k,h=A.c2p(u)-I,(T=Math.sqrt(m*m+h*h))<F&&(F=_=T,o=a);return M.index=o,M.distance=F,M.dxy=_,void 0===o?[M]:[S(M,p,O,x)]},calcHover:S}},68868:function(ae,B,r){"use strict";var D=r(72156);D.plot=r(26787),ae.exports=D},26787:function(ae,B,r){"use strict";var D=r(11870),E=r(46075),f=r(3593),S=r(42505),M=r(71828),v=r(64505).selectMode,c=r(79749),i=r(34098),s=r(68687),a=r(5345).styleTextSelection,o={};function l(u,d,m,h){var T=u._size,p=T.w*h,O=T.h*h;return[T.l*h+d.domain[0]*p,T.b*h+m.domain[0]*O,u.width*h-T.r*h-(1-d.domain[1])*p,u.height*h-T.t*h-(1-m.domain[1])*O]}(ae.exports=function(u,d,m){if(m.length){var h,T,_=u._fullLayout,g=d._scene,w=d.xaxis,x=d.yaxis;if(g)if(c(u,["ANGLE_instanced_arrays","OES_element_index_uint"],o)){var b=g.count,A=_._glcanvas.data()[0].regl;if(s(u,d,m),g.dirty){if(!0===g.error2d&&(g.error2d=f(A)),!0===g.line2d&&(g.line2d=E(A)),!0===g.scatter2d&&(g.scatter2d=D(A)),!0===g.fill2d&&(g.fill2d=E(A)),!0===g.glText)for(g.glText=new Array(b),h=0;h<b;h++)g.glText[h]=new S(A);if(g.glText){if(b>g.glText.length){var p=b-g.glText.length;for(h=0;h<p;h++)g.glText.push(new S(A))}else b<g.glText.length&&g.glText.splice(b,g.glText.length-b).forEach(function(le){le.destroy()});for(h=0;h<b;h++)g.glText[h].update(g.textOptions[h])}if(g.line2d&&(g.line2d.update(g.lineOptions),g.lineOptions=g.lineOptions.map(function(le){if(le&&le.positions){for(var ue=le.positions,de=0;de<ue.length&&(isNaN(ue[de])||isNaN(ue[de+1]));)de+=2;for(var he=ue.length-2;he>de&&(isNaN(ue[he])||isNaN(ue[he+1]));)he-=2;le.positions=ue.slice(de,he+2)}return le}),g.line2d.update(g.lineOptions)),g.error2d){var k=(g.errorXOptions||[]).concat(g.errorYOptions||[]);g.error2d.update(k)}g.scatter2d&&g.scatter2d.update(g.markerOptions),g.fillOrder=M.repeat(null,b),g.fill2d&&(g.fillOptions=g.fillOptions.map(function(le,ue){var de=m[ue];if(le&&de&&de[0]&&de[0].trace){var he,we,Ae=de[0],Te=Ae.trace,ve=Ae.t,xe=g.lineOptions[ue],Fe=[];Te._ownfill&&Fe.push(ue),Te._nexttrace&&Fe.push(ue+1),Fe.length&&(g.fillOrder[ue]=Fe);var Se,ke,pe=[],fe=xe&&xe.positions||ve.positions;if("tozeroy"===Te.fill){for(Se=0;Se<fe.length&&isNaN(fe[Se+1]);)Se+=2;for(ke=fe.length-2;ke>Se&&isNaN(fe[ke+1]);)ke-=2;0!==fe[Se+1]&&(pe=[fe[Se],0]),pe=pe.concat(fe.slice(Se,ke+2)),0!==fe[ke+1]&&(pe=pe.concat([fe[ke],0]))}else if("tozerox"===Te.fill){for(Se=0;Se<fe.length&&isNaN(fe[Se]);)Se+=2;for(ke=fe.length-2;ke>Se&&isNaN(fe[ke]);)ke-=2;0!==fe[Se]&&(pe=[0,fe[Se+1]]),pe=pe.concat(fe.slice(Se,ke+2)),0!==fe[ke]&&(pe=pe.concat([0,fe[ke+1]]))}else if("toself"===Te.fill||"tonext"===Te.fill){for(pe=[],he=0,le.splitNull=!0,we=0;we<fe.length;we+=2)(isNaN(fe[we])||isNaN(fe[we+1]))&&((pe=pe.concat(fe.slice(he,we))).push(fe[he],fe[he+1]),pe.push(null,null),he=we+2);pe=pe.concat(fe.slice(he)),he&&pe.push(fe[he],fe[he+1])}else{var be=Te._nexttrace;if(be){var Le=g.lineOptions[ue+1];if(Le){var Oe=Le.positions;if("tonexty"===Te.fill){for(pe=fe.slice(),ue=Math.floor(Oe.length/2);ue--;){var De=Oe[2*ue],Ue=Oe[2*ue+1];isNaN(De)||isNaN(Ue)||pe.push(De,Ue)}le.fill=be.fillcolor}}}}if(Te._prevtrace&&"tonext"===Te._prevtrace.fill){var Ge=g.lineOptions[ue-1].positions,ye=pe.length/2,Ie=[he=ye];for(we=0;we<Ge.length;we+=2)(isNaN(Ge[we])||isNaN(Ge[we+1]))&&(Ie.push(we/2+ye+1),he=we+2);pe=pe.concat(Ge),le.hole=Ie}return le.fillmode=Te.fill,le.opacity=Te.opacity,le.positions=pe,le}}),g.fill2d.update(g.fillOptions))}var P=v(_.dragmode),R=_.clickmode.indexOf("select")>-1;for(h=0;h<b;h++){var N=m[h][0],j=N.trace,X=N.t,F=X.index,Z=j._length,W=X.x,H=X.y;if(j.selectedpoints||P||R){if(P||(P=!0),j.selectedpoints){var G=g.selectBatch[F]=M.selIndices2selPoints(j),Y={};for(T=0;T<G.length;T++)Y[G[T]]=1;var se=[];for(T=0;T<Z;T++)Y[T]||se.push(T);g.unselectBatch[F]=se}var te=X.xpx=new Array(Z),re=X.ypx=new Array(Z);for(T=0;T<Z;T++)te[T]=w.c2p(W[T]),re[T]=x.c2p(H[T])}else X.xpx=X.ypx=null}if(P){if(g.select2d||(g.select2d=D(_._glcanvas.data()[1].regl)),g.scatter2d){var Q=new Array(b);for(h=0;h<b;h++)Q[h]=g.selectBatch[h].length||g.unselectBatch[h].length?g.markerUnselectedOptions[h]:{};g.scatter2d.update(Q)}g.select2d&&(g.select2d.update(g.markerOptions),g.select2d.update(g.markerSelectedOptions)),g.glText&&m.forEach(function(le){i.hasText(((le||[])[0]||{}).trace||{})&&a(le)})}else g.scatter2d&&g.scatter2d.update(g.markerOptions);var ee={viewport:l(_,w,x,u._context.plotGlPixelRatio),range:[(w._rl||w.range)[0],(x._rl||x.range)[0],(w._rl||w.range)[1],(x._rl||x.range)[1]]},oe=M.repeat(ee,g.count);g.fill2d&&g.fill2d.update(oe),g.line2d&&g.line2d.update(oe),g.error2d&&g.error2d.update(oe.concat(oe)),g.scatter2d&&g.scatter2d.update(oe),g.select2d&&g.select2d.update(oe),g.glText&&g.glText.forEach(function(le){le.update(ee)})}else g.init()}}).reglPrecompiled=o},38967:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f){var S=f._scene,M={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},v={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return f._scene||((S=f._scene={}).init=function(){D.extendFlat(S,v,M)},S.init(),S.update=function(c){var i=D.repeat(c,S.count);if(S.fill2d&&S.fill2d.update(i),S.scatter2d&&S.scatter2d.update(i),S.line2d&&S.line2d.update(i),S.error2d&&S.error2d.update(i.concat(i)),S.select2d&&S.select2d.update(i),S.glText)for(var s=0;s<S.count;s++)S.glText[s].update(c)},S.draw=function(){for(var c=S.count,i=S.fill2d,s=S.error2d,a=S.line2d,o=S.scatter2d,l=S.glText,u=S.select2d,d=S.selectBatch,m=S.unselectBatch,h=0;h<c;h++){if(i&&S.fillOrder[h]&&i.draw(S.fillOrder[h]),a&&S.lineOptions[h]&&a.draw(h),s&&(S.errorXOptions[h]&&s.draw(h),S.errorYOptions[h]&&s.draw(h+c)),o&&S.markerOptions[h])if(m[h].length){var T=D.repeat([],S.count);T[h]=m[h],o.draw(T)}else d[h].length||o.draw(h);l[h]&&S.textOptions[h]&&l[h].render()}u&&u.draw(d),S.dirty=!1},S.destroy=function(){S.fill2d&&S.fill2d.destroy&&S.fill2d.destroy(),S.scatter2d&&S.scatter2d.destroy&&S.scatter2d.destroy(),S.error2d&&S.error2d.destroy&&S.error2d.destroy(),S.line2d&&S.line2d.destroy&&S.line2d.destroy(),S.select2d&&S.select2d.destroy&&S.select2d.destroy(),S.glText&&S.glText.forEach(function(c){c.destroy&&c.destroy()}),S.lineOptions=null,S.fillOptions=null,S.markerOptions=null,S.markerSelectedOptions=null,S.markerUnselectedOptions=null,S.errorXOptions=null,S.errorYOptions=null,S.textOptions=null,S.textSelectedOptions=null,S.textUnselectedOptions=null,S.selectBatch=null,S.unselectBatch=null,f._scene=null}),S.dirty||D.extendFlat(S,M),S}},58147:function(ae,B,r){"use strict";var D=r(34098),E=r(5345).styleTextSelection;ae.exports=function(f,S){var M=f.cd,v=f.xaxis,c=f.yaxis,i=[],s=M[0].trace,a=M[0].t,o=s._length,l=a.x,u=a.y,d=a._scene,m=a.index;if(!d)return i;var h=D.hasText(s),T=D.hasMarkers(s);if(!0!==s.visible||!T&&!h)return i;var g=[],w=[];if(!1!==S&&!S.degenerate)for(var x=0;x<o;x++)S.contains([a.xpx[x],a.ypx[x]],!1,x,f)?(g.push(x),i.push({pointNumber:x,x:v.c2d(l[x]),y:c.c2d(u[x])})):w.push(x);if(T){var b=d.scatter2d;if(g.length||w.length){if(!d.selectBatch[m].length&&!d.unselectBatch[m].length){var A=new Array(d.count);A[m]=d.markerUnselectedOptions[m],b.update.apply(b,A)}}else{var p=new Array(d.count);p[m]=d.markerOptions[m],b.update.apply(b,p)}}return d.selectBatch[m]=g,d.unselectBatch[m]=w,h&&E(M),i}},99181:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,f=r(19316),S=r(82196),M=r(23585),v=r(9012),c=r(50693),i=r(1426).extendFlat,s=r(30962).overrideAll,a=r(23585),o=f.line,l=f.marker;ae.exports=s({lon:f.lon,lat:f.lat,cluster:{enabled:{valType:"boolean"},maxzoom:i({},a.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:i({},l.opacity,{dflt:1})},mode:i({},S.mode,{dflt:"markers"}),text:i({},S.text,{}),texttemplate:E({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:i({},S.hovertext,{}),line:{color:o.color,width:o.width},connectgaps:S.connectgaps,marker:i({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},c("marker")),fill:f.fill,fillcolor:S.fillcolor,textfont:M.layers.symbol.textfont,textposition:M.layers.symbol.textposition,below:{valType:"string"},selected:{marker:S.selected.marker},unselected:{marker:S.unselected.marker},hoverinfo:i({},v.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:D()},"calc","nested")},15790:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),f=r(50606).BADNUM,S=r(18214),M=r(21081),v=r(91424),c=r(39984),i=r(34098),s=r(13056),a=r(23469).appendArrayPointValue,o=r(63893).NEWLINES,l=r(63893).BR_TAG_ALL;function u(_){return{type:_,geojson:S.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function d(_,g){return E.isArrayOrTypedArray(_)?g?function(w){return D(_[w])?+_[w]:0}:function(w){return _[w]}:_?function(){return _}:m}function m(){return""}function h(_){return _[0]===f}function T(_,g){var w;if(E.isArrayOrTypedArray(_)&&E.isArrayOrTypedArray(g)){w=["step",["get","point_count"],_[0]];for(var x=1;x<_.length;x++)w.push(g[x-1],_[x])}else w=_;return w}ae.exports=function(_,g){var w,x=g[0].trace,b=!0===x.visible&&0!==x._length,A="none"!==x.fill,p=i.hasLines(x),O=i.hasMarkers(x),k=i.hasText(x),I=O&&"circle"===x.marker.symbol,P=O&&"circle"!==x.marker.symbol,R=x.cluster&&x.cluster.enabled,N=u("fill"),j=u("line"),X=u("circle"),F=u("symbol"),Z={fill:N,line:j,circle:X,symbol:F};if(!b)return Z;if((A||p)&&(w=S.calcTraceToLineCoords(g)),A&&(N.geojson=S.makePolygon(w),N.layout.visibility="visible",E.extendFlat(N.paint,{"fill-color":x.fillcolor})),p&&(j.geojson=S.makeLine(w),j.layout.visibility="visible",E.extendFlat(j.paint,{"line-width":x.line.width,"line-color":x.line.color,"line-opacity":x.opacity})),I){var W=function(Y){var se,te,re,Q,ee=Y[0].trace,oe=ee.marker,le=ee.selectedpoints,ue=E.isArrayOrTypedArray(oe.color),de=E.isArrayOrTypedArray(oe.size),he=E.isArrayOrTypedArray(oe.opacity);function we(pe){return ee.opacity*pe}ue&&(te=M.hasColorscale(ee,"marker")?M.makeColorScaleFuncFromTrace(oe):E.identity),de&&(re=c(ee)),he&&(Q=function(pe){return we(D(pe)?+E.constrain(pe,0,1):0)});var Ae,Te,ve=[];for(se=0;se<Y.length;se++){var xe=Y[se],Fe=xe.lonlat;if(!h(Fe)){var Se={};te&&(Se.mcc=xe.mcc=te(xe.mc)),re&&(Se.mrc=xe.mrc=re(xe.ms)),Q&&(Se.mo=Q(xe.mo)),le&&(Se.selected=xe.selected||0),ve.push({type:"Feature",id:se+1,geometry:{type:"Point",coordinates:Fe},properties:Se})}}if(le)for(Ae=v.makeSelectedPointStyleFns(ee),se=0;se<ve.length;se++){var ke=ve[se].properties;Ae.selectedOpacityFn&&(ke.mo=we(Ae.selectedOpacityFn(ke))),Ae.selectedColorFn&&(ke.mcc=Ae.selectedColorFn(ke)),Ae.selectedSizeFn&&(ke.mrc=Ae.selectedSizeFn(ke))}return{geojson:{type:"FeatureCollection",features:ve},mcc:ue||Ae&&Ae.selectedColorFn?{type:"identity",property:"mcc"}:oe.color,mrc:de||Ae&&Ae.selectedSizeFn?{type:"identity",property:"mrc"}:(Te=oe.size,Te/2),mo:he||Ae&&Ae.selectedOpacityFn?{type:"identity",property:"mo"}:we(oe.opacity)}}(g);X.geojson=W.geojson,X.layout.visibility="visible",R&&(X.filter=["!",["has","point_count"]],Z.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":T(x.cluster.color,x.cluster.step),"circle-radius":T(x.cluster.size,x.cluster.step),"circle-opacity":T(x.cluster.opacity,x.cluster.step)}},Z.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),E.extendFlat(X.paint,{"circle-color":W.mcc,"circle-radius":W.mrc,"circle-opacity":W.mo})}if(I&&R&&(X.filter=["!",["has","point_count"]]),(P||k)&&(F.geojson=function(Y,se){for(var te=se._fullLayout,re=Y[0].trace,Q=re.marker||{},ee=Q.symbol,oe=Q.angle,le="circle"!==ee?d(ee):m,ue="auto"!==oe?d(oe,!0):m,de=i.hasText(re)?d(re.text):m,he=[],we=0;we<Y.length;we++){var Ae=Y[we];if(!h(Ae.lonlat)){var Te,ve=re.texttemplate;if(ve){var xe=Array.isArray(ve)?ve[we]||"":ve,Fe=re._module.formatLabels(Ae,re,te),Se={};a(Se,re,Ae.i),Te=E.texttemplateString(xe,Fe,te._d3locale,Se,Ae,re._meta||{})}else Te=de(we);Te&&(Te=Te.replace(o,"").replace(l,"\n")),he.push({type:"Feature",geometry:{type:"Point",coordinates:Ae.lonlat},properties:{symbol:le(we),angle:ue(we),text:Te}})}}return{type:"FeatureCollection",features:he}}(g,_),E.extendFlat(F.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),P&&(E.extendFlat(F.layout,{"icon-size":x.marker.size/10}),"angle"in x.marker&&"auto"!==x.marker.angle&&E.extendFlat(F.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),F.layout["icon-allow-overlap"]=x.marker.allowoverlap,E.extendFlat(F.paint,{"icon-opacity":x.opacity*x.marker.opacity,"icon-color":x.marker.color})),k)){var G=s(x.textposition,(x.marker||{}).size);E.extendFlat(F.layout,{"text-size":x.textfont.size,"text-anchor":G.anchor,"text-offset":G.offset,"text-font":x.textfont.family.split(", ")}),E.extendFlat(F.paint,{"text-color":x.textfont.color,"text-opacity":x.opacity})}return Z}},76645:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),f=r(49508),S=r(11058),M=r(82410),v=r(28908),c=r(99181),i=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];ae.exports=function(s,a,o,l){function u(b,A){return D.coerce(s,a,c,b,A)}function d(b,A){return D.coerce2(s,a,c,b,A)}var A,p,O,k,I;if(A=a,O=(p=u)("lon")||[],k=p("lat")||[],I=Math.min(O.length,k.length),A._length=I,I){if(u("text"),u("texttemplate"),u("hovertext"),u("hovertemplate"),u("mode"),u("below"),E.hasLines(a)&&(S(s,a,o,l,u,{noDash:!0}),u("connectgaps")),E.hasMarkers(a)){f(s,a,o,l,u,{noLine:!0,noAngle:!0}),u("marker.allowoverlap"),u("marker.angle");var h=a.marker;"circle"!==h.symbol&&(D.isArrayOrTypedArray(h.size)&&(h.size=h.size[0]),D.isArrayOrTypedArray(h.color)&&(h.color=h.color[0]))}var T=d("cluster.maxzoom"),_=d("cluster.step"),g=d("cluster.color",a.marker&&a.marker.color||o),w=d("cluster.size"),x=d("cluster.opacity");u("cluster.enabled",!1!==T||!1!==_||!1!==g||!1!==w||!1!==x),E.hasText(a)&&M(s,a,l,u,{noSelect:!0,font:{family:-1!==i.indexOf(l.font.family)?l.font.family:"Open Sans Regular",size:l.font.size,color:l.font.color}}),u("fill"),"none"!==a.fill&&v(s,a,o,u),D.coerceSelectionMarkerOpacity(a,u)}else a.visible=!1}},53353:function(ae){"use strict";ae.exports=function(B,r){return B.lon=r.lon,B.lat=r.lat,B}},15636:function(ae,B,r){"use strict";var D=r(89298);ae.exports=function(E,f,S){var M={},v=S[f.subplot]._subplot.mockAxis,c=E.lonlat;return M.lonLabel=D.tickText(v,v.c2l(c[0]),!0).text,M.latLabel=D.tickText(v,v.c2l(c[1]),!0).text,M}},28178:function(ae,B,r){"use strict";var D=r(30211),E=r(71828),f=r(34603),S=E.fillText,M=r(50606).BADNUM,v=r(77734).traceLayerPrefix;function c(i,s,a){if(!i.hovertemplate){var o=(s.hi||i.hoverinfo).split("+"),l=-1!==o.indexOf("all"),u=-1!==o.indexOf("lon"),d=-1!==o.indexOf("lat"),m=s.lonlat,h=[];return l||u&&d?h.push("("+T(m[1])+", "+T(m[0])+")"):u?h.push(a.lon+T(m[0])):d&&h.push(a.lat+T(m[1])),(l||-1!==o.indexOf("text"))&&S(s,i,h),h.join("<br>")}function T(_){return _+"\xb0"}}ae.exports={hoverPoints:function(i,s,a){var o=i.cd,l=o[0].trace,u=i.xa,d=i.ya,m=i.subplot,h=[],_=l.cluster&&l.cluster.enabled;if(_){var g=m.map.queryRenderedFeatures(null,{layers:[v+l.uid+"-circle"]});h=g.map(function(N){return N.id})}var w=360*(s>=0?Math.floor((s+180)/360):Math.ceil((s-180)/360)),x=s-w;if(D.getClosest(o,function(N){var j=N.lonlat;if(j[0]===M||_&&-1===h.indexOf(N.i+1))return 1/0;var X=E.modHalf(j[0],360),F=j[1],Z=m.project([X,F]),W=Z.x-u.c2p([x,F]),H=Z.y-d.c2p([X,a]),G=Math.max(3,N.mrc||0);return Math.max(Math.sqrt(W*W+H*H)-G,1-3/G)},i),!1!==i.index){var b=o[i.index],A=b.lonlat,p=[E.modHalf(A[0],360)+w,A[1]],O=u.c2p(p),k=d.c2p(p),I=b.mrc||1;i.x0=O-I,i.x1=O+I,i.y0=k-I,i.y1=k+I;var P={};P[l.subplot]={_subplot:m};var R=l._module.formatLabels(b,l,P);return i.lonLabel=R.lonLabel,i.latLabel=R.latLabel,i.color=f(l,b),i.extraText=c(l,b,o[0].t.labels),i.hovertemplate=l.hovertemplate,[i]}},getExtraText:c}},20467:function(ae,B,r){"use strict";ae.exports={attributes:r(99181),supplyDefaults:r(76645),colorbar:r(4898),formatLabels:r(15636),calc:r(84622),plot:r(86951),hoverPoints:r(28178).hoverPoints,eventData:r(53353),selectPoints:r(86387),styleOnSelect:function(D,E){E&&E[0].trace._glTrace.update(E)},moduleType:"trace",name:"scattermapbox",basePlotModule:r(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(ae,B,r){"use strict";var D=r(71828),E=r(15790),f=r(77734).traceLayerPrefix,S={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function M(c,i,s,a){this.type="scattermapbox",this.subplot=c,this.uid=i,this.clusterEnabled=s,this.isHidden=a,this.sourceIds={fill:"source-"+i+"-fill",line:"source-"+i+"-line",circle:"source-"+i+"-circle",symbol:"source-"+i+"-symbol",cluster:"source-"+i+"-circle",clusterCount:"source-"+i+"-circle"},this.layerIds={fill:f+i+"-fill",line:f+i+"-line",circle:f+i+"-circle",symbol:f+i+"-symbol",cluster:f+i+"-cluster",clusterCount:f+i+"-cluster-count"},this.below=null}var v=M.prototype;v.addSource=function(c,i,s){var a={type:"geojson",data:i.geojson};s&&s.enabled&&D.extendFlat(a,{cluster:!0,clusterMaxZoom:s.maxzoom});var o=this.subplot.map.getSource(this.sourceIds[c]);o?o.setData(i.geojson):this.subplot.map.addSource(this.sourceIds[c],a)},v.setSourceData=function(c,i){this.subplot.map.getSource(this.sourceIds[c]).setData(i.geojson)},v.addLayer=function(c,i,s){var a={type:i.type,id:this.layerIds[c],source:this.sourceIds[c],layout:i.layout,paint:i.paint};i.filter&&(a.filter=i.filter);for(var o,l=this.layerIds[c],u=this.subplot.getMapLayers(),d=0;d<u.length;d++)if(u[d].id===l){o=!0;break}o?(this.subplot.setOptions(l,"setLayoutProperty",a.layout),"visible"===a.layout.visibility&&this.subplot.setOptions(l,"setPaintProperty",a.paint)):this.subplot.addLayer(a,s)},v.update=function(c){var i=c[0].trace,s=this.subplot,a=s.map,o=E(s.gd,c),l=s.belowLookup["trace-"+this.uid],u=!(!i.cluster||!i.cluster.enabled),d=!!this.clusterEnabled,m=this;function h(x){d?function(b){for(var A=S.cluster,p=A.length-1;p>=0;p--)a.removeLayer(m.layerIds[A[p]]);b||a.removeSource(m.sourceIds.circle)}(x):function(b){for(var A=S.nonCluster,p=A.length-1;p>=0;p--){var O=A[p];a.removeLayer(m.layerIds[O]),b||a.removeSource(m.sourceIds[O])}}(x)}function T(x){u?function(b){b||m.addSource("circle",o.circle,i.cluster);for(var A=S.cluster,p=0;p<A.length;p++){var O=A[p];m.addLayer(O,o[O],l)}}(x):function(b){for(var A=S.nonCluster,p=0;p<A.length;p++){var O=A[p],k=o[O];b||m.addSource(O,k),m.addLayer(O,k,l)}}(x)}var g=this.isHidden,w=!0!==i.visible;w?g||h():g?w||T():d!==u?(h(),T()):(this.below!==l&&(h(!0),T(!0)),function _(){for(var x=u?S.cluster:S.nonCluster,b=0;b<x.length;b++){var A=x[b],p=o[A];p&&(s.setOptions(m.layerIds[A],"setLayoutProperty",p.layout),"visible"===p.layout.visibility&&("cluster"!==A&&m.setSourceData(A,p),s.setOptions(m.layerIds[A],"setPaintProperty",p.paint)))}}()),this.clusterEnabled=u,this.isHidden=w,this.below=l,c[0].trace._glTrace=this},v.dispose=function(){for(var c=this.subplot.map,i=this.clusterEnabled?S.cluster:S.nonCluster,s=i.length-1;s>=0;s--){var a=i[s];c.removeLayer(this.layerIds[a]),c.removeSource(this.sourceIds[a])}},ae.exports=function(c,i){var s,a,o,l=i[0].trace,u=l.cluster&&l.cluster.enabled,m=new M(c,l.uid,u,!0!==l.visible),h=E(c.gd,i),T=m.below=c.belowLookup["trace-"+l.uid];if(u)for(m.addSource("circle",h.circle,l.cluster),s=0;s<S.cluster.length;s++)o=h[a=S.cluster[s]],m.addLayer(a,o,T);else for(s=0;s<S.nonCluster.length;s++)o=h[a=S.nonCluster[s]],m.addSource(a,o,l.cluster),m.addLayer(a,o,T);return i[0].trace._glTrace=m,m}},86387:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),f=r(50606).BADNUM;ae.exports=function(S,M){var v,c=S.cd,i=S.xaxis,s=S.yaxis,a=[];if(!E.hasMarkers(c[0].trace))return[];if(!1===M)for(v=0;v<c.length;v++)c[v].selected=0;else for(v=0;v<c.length;v++){var l=c[v],u=l.lonlat;if(u[0]!==f){var d=[D.modHalf(u[0],360),u[1]],m=[i.c2p(d),s.c2p(d)];M.contains(m,null,v,S)?(a.push({pointNumber:v,lon:u[0],lat:u[1]}),l.selected=1):l.selected=0}}return a}},81245:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,f=r(1426).extendFlat,S=r(82196),M=r(9012),v=S.line;ae.exports={mode:S.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:E({editType:"plot"},{keys:["r","theta","text"]}),hovertext:S.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:f({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:f({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:f({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:S.fillcolor,hoverinfo:f({},M.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:S.hoveron,hovertemplate:D(),selected:S.selected,unselected:S.unselected}},26442:function(ae,B,r){"use strict";var D=r(92770),E=r(50606).BADNUM,f=r(89298),S=r(36922),M=r(75225),v=r(66279),c=r(47761).calcMarkerSize;ae.exports=function(i,s){for(var a=i._fullLayout,o=s.subplot,l=a[o].radialaxis,u=a[o].angularaxis,d=l.makeCalcdata(s,"r"),m=u.makeCalcdata(s,"theta"),h=s._length,T=new Array(h),_=0;_<h;_++){var g=d[_],w=m[_],x=T[_]={};D(g)&&D(w)?(x.r=g,x.theta=w):x.r=E}var b=c(s,h);return s._extremes.x=f.findExtremes(l,d,{ppad:b}),S(i,s),M(T,s),v(T,s),T}},22184:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),f=r(49508),S=r(11058),M=r(94039),v=r(82410),c=r(28908),i=r(47581).PTS_LINESONLY,s=r(81245);function a(o,l,u,d){var m,h=d("r"),T=d("theta");if(h)T?m=Math.min(h.length,T.length):(m=h.length,d("theta0"),d("dtheta"));else{if(!T)return 0;m=l.theta.length,d("r0"),d("dr")}return l._length=m,m}ae.exports={handleRThetaDefaults:a,supplyDefaults:function(o,l,u,d){function m(_,g){return D.coerce(o,l,s,_,g)}var h=a(0,l,0,m);if(h){m("thetaunit"),m("mode",h<i?"lines+markers":"lines"),m("text"),m("hovertext"),"fills"!==l.hoveron&&m("hovertemplate"),E.hasLines(l)&&(S(o,l,u,d,m,{backoff:!0}),M(o,l,m),m("connectgaps")),E.hasMarkers(l)&&f(o,l,u,d,m,{gradient:!0}),E.hasText(l)&&(m("texttemplate"),v(o,l,d,m));var T=[];(E.hasMarkers(l)||E.hasText(l))&&(m("cliponaxis"),m("marker.maxdisplayed"),T.push("points")),m("fill"),"none"!==l.fill&&(c(o,l,u,m),E.hasLines(l)||M(o,l,m)),"tonext"!==l.fill&&"toself"!==l.fill||T.push("fills"),m("hoveron",T.join("+")||"points"),D.coerceSelectionMarkerOpacity(l,m)}else l.visible=!1}}},98608:function(ae,B,r){"use strict";var D=r(71828),E=r(89298);ae.exports=function(f,S,M){var v,c,i={},s=M[S.subplot]._subplot;s?(v=s.radialAxis,c=s.angularAxis):(v=(s=M[S.subplot]).radialaxis,c=s.angularaxis);var a=v.c2l(f.r);i.rLabel=E.tickText(v,a,!0).text;var o="degrees"===c.thetaunit?D.rad2deg(f.theta):f.theta;return i.thetaLabel=E.tickText(c,o,!0).text,i}},59150:function(ae,B,r){"use strict";var D=r(33720);function E(f,S,M,v){var c=M.radialAxis,i=M.angularAxis;c._hovertitle="r",i._hovertitle="\u03b8";var s={};s[S.subplot]={_subplot:M};var a=S._module.formatLabels(f,S,s);v.rLabel=a.rLabel,v.thetaLabel=a.thetaLabel;var l=[];function u(m,h){l.push(m._hovertitle+": "+h)}if(!S.hovertemplate){var d=(f.hi||S.hoverinfo).split("+");-1!==d.indexOf("all")&&(d=["r","theta","text"]),-1!==d.indexOf("r")&&u(c,v.rLabel),-1!==d.indexOf("theta")&&u(i,v.thetaLabel),-1!==d.indexOf("text")&&v.text&&(l.push(v.text),delete v.text),v.extraText=l.join("<br>")}}ae.exports={hoverPoints:function(f,S,M,v){var c=D(f,S,M,v);if(c&&!1!==c[0].index){var i=c[0];if(void 0===i.index)return c;var s=f.subplot,a=i.cd[i.index],o=i.trace;if(s.isPtInside(a))return i.xLabelVal=void 0,i.yLabelVal=void 0,E(a,o,s,i),i.hovertemplate=o.hovertemplate,c}},makeHoverPointText:E}},91271:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:r(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:r(81245),supplyDefaults:r(22184).supplyDefaults,colorbar:r(4898),formatLabels:r(98608),calc:r(26442),plot:r(45162),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(59150).hoverPoints,selectPoints:r(98002),meta:{}}},45162:function(ae,B,r){"use strict";var D=r(32663),E=r(50606).BADNUM;ae.exports=function(f,S,M){for(var v=S.layers.frontplot.select("g.scatterlayer"),c=S.xaxis,i=S.yaxis,s={xaxis:c,yaxis:i,plot:S.framework,layerClipId:S._hasClipOnAxisFalse?S.clipIds.forTraces:null},a=S.radialAxis,o=S.angularAxis,l=0;l<M.length;l++)for(var u=M[l],d=0;d<u.length;d++){0===d&&(u[0].trace._xA=c,u[0].trace._yA=i);var m=u[d],h=m.r;if(h===E)m.x=m.y=E;else{var T=a.c2g(h),_=o.c2g(m.theta);m.x=T*Math.cos(_),m.y=T*Math.sin(_)}}D(f,s,M,v)}},53286:function(ae,B,r){"use strict";var D=r(81245),E=r(42341),f=r(5386).si;ae.exports={mode:D.mode,r:D.r,theta:D.theta,r0:D.r0,dr:D.dr,theta0:D.theta0,dtheta:D.dtheta,thetaunit:D.thetaunit,text:D.text,texttemplate:f({editType:"plot"},{keys:["r","theta","text"]}),hovertext:D.hovertext,hovertemplate:D.hovertemplate,line:E.line,connectgaps:E.connectgaps,marker:E.marker,fill:E.fill,fillcolor:E.fillcolor,textposition:E.textposition,textfont:E.textfont,hoverinfo:D.hoverinfo,selected:D.selected,unselected:D.unselected}},65746:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:r(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:r(53286),supplyDefaults:r(75485),colorbar:r(4898),formatLabels:r(46255),calc:r(37499),hoverPoints:r(29347).hoverPoints,selectPoints:r(58147),meta:{}}},37499:function(ae,B,r){"use strict";var D=r(36922),E=r(47761).calcMarkerSize,f=r(19635),S=r(89298),M=r(78232).TOO_MANY_POINTS;ae.exports=function(v,c){var i=v._fullLayout,s=c.subplot,a=i[s].radialaxis,o=i[s].angularaxis,l=c._r=a.makeCalcdata(c,"r"),u=c._theta=o.makeCalcdata(c,"theta"),d=c._length,m={};d<l.length&&(l=l.slice(0,d)),d<u.length&&(u=u.slice(0,d)),m.r=l,m.theta=u,D(v,c);var h,T=m.opts=f.style(v,c);return d<M?h=E(c,d):T.marker&&(h=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),c._extremes.x=S.findExtremes(a,l,{ppad:h}),[{x:!1,y:!1,t:m,trace:c}]}},75485:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),f=r(22184).handleRThetaDefaults,S=r(49508),M=r(11058),v=r(82410),c=r(28908),i=r(47581).PTS_LINESONLY,s=r(53286);ae.exports=function(a,o,l,u){function d(h,T){return D.coerce(a,o,s,h,T)}var m=f(a,o,u,d);m?(d("thetaunit"),d("mode",m<i?"lines+markers":"lines"),d("text"),d("hovertext"),"fills"!==o.hoveron&&d("hovertemplate"),E.hasLines(o)&&(M(a,o,l,u,d),d("connectgaps")),E.hasMarkers(o)&&S(a,o,l,u,d,{noAngleRef:!0,noStandOff:!0}),E.hasText(o)&&(d("texttemplate"),v(a,o,u,d)),d("fill"),"none"!==o.fill&&c(a,o,l,d),D.coerceSelectionMarkerOpacity(o,d)):o.visible=!1}},46255:function(ae,B,r){"use strict";var D=r(98608);ae.exports=function(E,f,S){var M=E.i;return"r"in E||(E.r=f._r[M]),"theta"in E||(E.theta=f._theta[M]),D(E,f,S)}},29347:function(ae,B,r){"use strict";var D=r(20794),E=r(59150).makeHoverPointText;ae.exports={hoverPoints:function(f,S,M,v){var c=f.cd[0].t,i=c.r,s=c.theta,a=D.hoverPoints(f,S,M,v);if(a&&!1!==a[0].index){var o=a[0];if(void 0===o.index)return a;var l=f.subplot,u=o.cd[o.index],d=o.trace;if(u.r=i[o.index],u.theta=s[o.index],l.isPtInside(u))return o.xLabelVal=void 0,o.yLabelVal=void 0,E(u,d,l,o),a}}}},21461:function(ae,B,r){"use strict";var D=r(65746);D.plot=r(49741),ae.exports=D},49741:function(ae,B,r){"use strict";var D=r(88294),E=r(92770),f=r(26787),S=r(38967),M=r(19635),v=r(71828),c=r(78232).TOO_MANY_POINTS;ae.exports=function(i,s,a){if(a.length){var o=s.radialAxis,l=s.angularAxis,u=S(i,s);return a.forEach(function(d){if(d&&d[0]&&d[0].trace){var m,h=d[0],T=h.trace,_=h.t,g=T._length,w=_.r,x=_.theta,b=_.opts,A=w.slice(),p=x.slice();for(m=0;m<w.length;m++)s.isPtInside({r:w[m],theta:x[m]})||(A[m]=NaN,p[m]=NaN);var O=new Array(2*g),k=Array(g),I=Array(g);for(m=0;m<g;m++){var P,R,N=A[m];if(E(N)){var j=o.c2g(N),X=l.c2g(p[m],T.thetaunit);P=j*Math.cos(X),R=j*Math.sin(X)}else P=R=NaN;k[m]=O[2*m]=P,I[m]=O[2*m+1]=R}_.tree=D(O),b.marker&&g>=c&&(b.marker.cluster=_.tree),b.marker&&(b.markerSel.positions=b.markerUnsel.positions=b.marker.positions=O),b.line&&O.length>1&&v.extendFlat(b.line,M.linePositions(i,T,O)),b.text&&(v.extendFlat(b.text,{positions:O},M.textPosition(i,T,b.text,b.marker)),v.extendFlat(b.textSel,{positions:O},M.textPosition(i,T,b.text,b.markerSel)),v.extendFlat(b.textUnsel,{positions:O},M.textPosition(i,T,b.text,b.markerUnsel))),b.fill&&!u.fill2d&&(u.fill2d=!0),b.marker&&!u.scatter2d&&(u.scatter2d=!0),b.line&&!u.line2d&&(u.line2d=!0),b.text&&!u.glText&&(u.glText=!0),u.lineOptions.push(b.line),u.fillOptions.push(b.fill),u.markerOptions.push(b.marker),u.markerSelectedOptions.push(b.markerSel),u.markerUnselectedOptions.push(b.markerUnsel),u.textOptions.push(b.text),u.textSelectedOptions.push(b.textSel),u.textUnselectedOptions.push(b.textUnsel),u.selectBatch.push([]),u.unselectBatch.push([]),_.x=k,_.y=I,_.rawx=k,_.rawy=I,_.r=w,_.theta=x,_.positions=O,_._scene=u,_.index=u.count,u.count++}}),f(i,s,a)}},ae.exports.reglPrecompiled={}},48300:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,f=r(1426).extendFlat,S=r(82196),M=r(9012),v=S.line;ae.exports={mode:S.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:E({editType:"plot"},{keys:["real","imag","text"]}),hovertext:S.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:f({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:f({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:f({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:S.fillcolor,hoverinfo:f({},M.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:S.hoveron,hovertemplate:D(),selected:S.selected,unselected:S.unselected}},30621:function(ae,B,r){"use strict";var D=r(92770),E=r(50606).BADNUM,f=r(36922),S=r(75225),M=r(66279),v=r(47761).calcMarkerSize;ae.exports=function(c,i){for(var s=c._fullLayout,a=i.subplot,l=s[a].imaginaryaxis,u=s[a].realaxis.makeCalcdata(i,"real"),d=l.makeCalcdata(i,"imag"),m=i._length,h=new Array(m),T=0;T<m;T++){var _=u[T],g=d[T],w=h[T]={};D(_)&&D(g)?(w.real=_,w.imag=g):w.real=E}return v(i,m),f(c,i),S(h,i),M(h,i),h}},65269:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),f=r(49508),S=r(11058),M=r(94039),v=r(82410),c=r(28908),i=r(47581).PTS_LINESONLY,s=r(48300);ae.exports=function(a,o,l,u){function d(T,_){return D.coerce(a,o,s,T,_)}var _,w,x,b,A,m=(_=o,b=(w=d)("real"),A=w("imag"),b&&A&&(x=Math.min(b.length,A.length)),_._length=x,x);if(m){d("mode",m<i?"lines+markers":"lines"),d("text"),d("hovertext"),"fills"!==o.hoveron&&d("hovertemplate"),E.hasLines(o)&&(S(a,o,l,u,d,{backoff:!0}),M(a,o,d),d("connectgaps")),E.hasMarkers(o)&&f(a,o,l,u,d,{gradient:!0}),E.hasText(o)&&(d("texttemplate"),v(a,o,u,d));var h=[];(E.hasMarkers(o)||E.hasText(o))&&(d("cliponaxis"),d("marker.maxdisplayed"),h.push("points")),d("fill"),"none"!==o.fill&&(c(a,o,l,d),E.hasLines(o)||M(a,o,d)),"tonext"!==o.fill&&"toself"!==o.fill||h.push("fills"),d("hoveron",h.join("+")||"points"),D.coerceSelectionMarkerOpacity(o,d)}else o.visible=!1}},62047:function(ae,B,r){"use strict";var D=r(89298);ae.exports=function(E,f,S){var M={},v=S[f.subplot]._subplot;return M.realLabel=D.tickText(v.radialAxis,E.real,!0).text,M.imagLabel=D.tickText(v.angularAxis,E.imag,!0).text,M}},11350:function(ae,B,r){"use strict";var D=r(33720);function E(f,S,M,v){var c=M.radialAxis,i=M.angularAxis;c._hovertitle="real",i._hovertitle="imag";var s={};s[S.subplot]={_subplot:M};var a=S._module.formatLabels(f,S,s);v.realLabel=a.realLabel,v.imagLabel=a.imagLabel;var l=[];function u(m,h){l.push(m._hovertitle+": "+h)}if(!S.hovertemplate){var d=(f.hi||S.hoverinfo).split("+");-1!==d.indexOf("all")&&(d=["real","imag","text"]),-1!==d.indexOf("real")&&u(c,v.realLabel),-1!==d.indexOf("imag")&&u(i,v.imagLabel),-1!==d.indexOf("text")&&v.text&&(l.push(v.text),delete v.text),v.extraText=l.join("<br>")}}ae.exports={hoverPoints:function(f,S,M,v){var c=D(f,S,M,v);if(c&&!1!==c[0].index){var i=c[0];if(void 0===i.index)return c;var s=f.subplot,a=i.cd[i.index],o=i.trace;if(s.isPtInside(a))return i.xLabelVal=void 0,i.yLabelVal=void 0,E(a,o,s,i),i.hovertemplate=o.hovertemplate,c}},makeHoverPointText:E}},85956:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"scattersmith",basePlotModule:r(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:r(48300),supplyDefaults:r(65269),colorbar:r(4898),formatLabels:r(62047),calc:r(30621),plot:r(12480),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(11350).hoverPoints,selectPoints:r(98002),meta:{}}},12480:function(ae,B,r){"use strict";var D=r(32663),E=r(50606).BADNUM,f=r(23893).smith;ae.exports=function(S,M,v){for(var c=M.layers.frontplot.select("g.scatterlayer"),i=M.xaxis,s=M.yaxis,a={xaxis:i,yaxis:s,plot:M.framework,layerClipId:M._hasClipOnAxisFalse?M.clipIds.forTraces:null},o=0;o<v.length;o++)for(var l=v[o],u=0;u<l.length;u++){0===u&&(l[0].trace._xA=i,l[0].trace._yA=s);var d=l[u],m=d.real;if(m===E)d.x=d.y=E;else{var h=f([m,d.imag]);d.x=h[0],d.y=h[1]}}D(S,a,v,c)}},50413:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,f=r(82196),S=r(9012),M=r(50693),v=r(79952).P,c=r(1426).extendFlat,i=f.marker,s=f.line,a=i.line;ae.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:c({},f.mode,{dflt:"markers"}),text:c({},f.text,{}),texttemplate:E({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:c({},f.hovertext,{}),line:{color:s.color,width:s.width,dash:v,backoff:s.backoff,shape:c({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:f.connectgaps,cliponaxis:f.cliponaxis,fill:c({},f.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:f.fillcolor,marker:c({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:i.angleref,standoff:i.standoff,maxdisplayed:i.maxdisplayed,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,line:c({width:a.width,editType:"calc"},M("marker.line")),gradient:i.gradient,editType:"calc"},M("marker")),textfont:f.textfont,textposition:f.textposition,selected:f.selected,unselected:f.unselected,hoverinfo:c({},S.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:f.hoveron,hovertemplate:D()}},54337:function(ae,B,r){"use strict";var D=r(92770),E=r(36922),f=r(75225),S=r(66279),M=r(47761).calcMarkerSize,v=["a","b","c"],c={a:["b","c"],b:["a","c"],c:["a","b"]};ae.exports=function(i,s){var a,o,l,u,d,m,h=i._fullLayout[s.subplot].sum,T=s.sum||h,_={a:s.a,b:s.b,c:s.c};for(a=0;a<v.length;a++)if(!_[l=v[a]]){for(d=_[c[l][0]],m=_[c[l][1]],u=new Array(d.length),o=0;o<d.length;o++)u[o]=T-d[o]-m[o];_[l]=u}var g,w,x,b,O=s._length,k=new Array(O);for(a=0;a<O;a++)w=_.b[a],x=_.c[a],D(g=_.a[a])&&D(w)&&D(x)?(1!=(b=h/((g=+g)+(w=+w)+(x=+x)))&&(g*=b,w*=b,x*=b),k[a]={x:x-w,y:g,a:g,b:w,c:x}):k[a]={x:!1,y:!1};return M(s,O),E(i,s),f(k,s),S(k,s),k}},46008:function(ae,B,r){"use strict";var D=r(71828),E=r(47581),f=r(34098),S=r(49508),M=r(11058),v=r(94039),c=r(82410),i=r(28908),s=r(50413);ae.exports=function(a,o,l,u){function d(w,x){return D.coerce(a,o,s,w,x)}var m,h=d("a"),T=d("b"),_=d("c");if(h?(m=h.length,T?(m=Math.min(m,T.length),_&&(m=Math.min(m,_.length))):m=_?Math.min(m,_.length):0):T&&_&&(m=Math.min(T.length,_.length)),m){o._length=m,d("sum"),d("text"),d("hovertext"),"fills"!==o.hoveron&&d("hovertemplate"),d("mode",m<E.PTS_LINESONLY?"lines+markers":"lines"),f.hasLines(o)&&(M(a,o,l,u,d,{backoff:!0}),v(a,o,d),d("connectgaps")),f.hasMarkers(o)&&S(a,o,l,u,d,{gradient:!0}),f.hasText(o)&&(d("texttemplate"),c(a,o,u,d));var g=[];(f.hasMarkers(o)||f.hasText(o))&&(d("cliponaxis"),d("marker.maxdisplayed"),g.push("points")),d("fill"),"none"!==o.fill&&(i(a,o,l,d),f.hasLines(o)||v(a,o,d)),"tonext"!==o.fill&&"toself"!==o.fill||g.push("fills"),d("hoveron",g.join("+")||"points"),D.coerceSelectionMarkerOpacity(o,d)}else o.visible=!1}},4524:function(ae){"use strict";ae.exports=function(B,r,D,E,f){if(r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),E[f]){var S=E[f];B.a=S.a,B.b=S.b,B.c=S.c}else B.a=r.a,B.b=r.b,B.c=r.c;return B}},93645:function(ae,B,r){"use strict";var D=r(89298);ae.exports=function(E,f,S){var M={},v=S[f.subplot]._subplot;return M.aLabel=D.tickText(v.aaxis,E.a,!0).text,M.bLabel=D.tickText(v.baxis,E.b,!0).text,M.cLabel=D.tickText(v.caxis,E.c,!0).text,M}},47250:function(ae,B,r){"use strict";var D=r(33720);ae.exports=function(E,f,S,M){var v=D(E,f,S,M);if(v&&!1!==v[0].index){var c=v[0];if(void 0===c.index){var s=E.xa._length,a=s*(1-c.y0/E.ya._length)/2,o=s-a;return c.x0=Math.max(Math.min(c.x0,o),a),c.x1=Math.max(Math.min(c.x1,o),a),v}var l=c.cd[c.index],u=c.trace,d=c.subplot;c.a=l.a,c.b=l.b,c.c=l.c,c.xLabelVal=void 0,c.yLabelVal=void 0;var m={};m[u.subplot]={_subplot:d};var h=u._module.formatLabels(l,u,m);c.aLabel=h.aLabel,c.bLabel=h.bLabel,c.cLabel=h.cLabel;var _=[];if(!u.hovertemplate){var g=(l.hi||u.hoverinfo).split("+");-1!==g.indexOf("all")&&(g=["a","b","c"]),-1!==g.indexOf("a")&&w(d.aaxis,c.aLabel),-1!==g.indexOf("b")&&w(d.baxis,c.bLabel),-1!==g.indexOf("c")&&w(d.caxis,c.cLabel)}return c.extraText=_.join("<br>"),c.hovertemplate=u.hovertemplate,v}function w(x,b){_.push(x._hovertitle+": "+b)}}},52979:function(ae,B,r){"use strict";ae.exports={attributes:r(50413),supplyDefaults:r(46008),colorbar:r(4898),formatLabels:r(93645),calc:r(54337),plot:r(7507),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(47250),selectPoints:r(98002),eventData:r(4524),moduleType:"trace",name:"scatterternary",basePlotModule:r(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(ae,B,r){"use strict";var D=r(32663);ae.exports=function(E,f,S){var M=f.plotContainer;M.select(".scatterlayer").selectAll("*").remove();for(var v=f.xaxis,c=f.yaxis,i={xaxis:v,yaxis:c,plot:M,layerClipId:f._hasClipOnAxisFalse?f.clipIdRelative:null},s=f.layers.frontplot.select("g.scatterlayer"),a=0;a<S.length;a++){var o=S[a];o.length&&(o[0].trace._xA=v,o[0].trace._yA=c)}D(E,i,S,s)}},46880:function(ae,B,r){"use strict";var D=r(82196),E=r(50693),f=r(12663).axisHoverFormat,S=r(5386).fF,M=r(42341),v=r(85555).idRegex,c=r(44467).templatedArray,i=r(1426).extendFlat,s=D.marker,a=s.line,o=i(E("marker.line",{editTypeOverride:"calc"}),{width:i({},a.width,{editType:"calc"}),editType:"calc"}),l=i(E("marker"),{symbol:s.symbol,angle:s.angle,size:i({},s.size,{editType:"markerSize"}),sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:s.opacity,colorbar:s.colorbar,line:o,editType:"calc"});function u(d){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[d],editType:"plot"}}}l.color.editType=l.cmin.editType=l.cmax.editType="style",ae.exports={dimensions:c("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:i({},M.text,{}),hovertext:i({},M.hovertext,{}),hovertemplate:S(),xhoverformat:f("x"),yhoverformat:f("y"),marker:l,xaxes:u("x"),yaxes:u("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:M.selected.marker,editType:"calc"},unselected:{marker:M.unselected.marker,editType:"calc"},opacity:M.opacity}},65017:function(ae,B,r){"use strict";var D=r(73972),E=r(83312);ae.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:r(46880),supplyDefaults:r(25784),colorbar:r(4898),calc:r(87625),plot:r(79410),hoverPoints:r(8567).hoverPoints,selectPoints:r(8689),editStyle:r(28801),meta:{}},D.register(E)},16947:function(ae,B,r){"use strict";var D=r(46075),E=r(73972),f=r(79749),S=r(27659).a0,M=r(93612),v=r(41675).getFromId,c=r(89298).shouldShowZeroLine,i="splom",s={};function a(l,u,d){for(var h=u._visibleDims,T=d.viewOpts.ranges=new Array(d.matrixOptions.data.length),_=0;_<h.length;_++){var g=h[_],w=T[_]=new Array(4),x=v(l,u._diag[g][0]);x&&(w[0]=x.r2l(x.range[0]),w[2]=x.r2l(x.range[1]));var b=v(l,u._diag[g][1]);b&&(w[1]=b.r2l(b.range[0]),w[3]=b.r2l(b.range[1]))}d.selectBatch.length||d.unselectBatch.length?d.matrix.update({ranges:T},{ranges:T}):d.matrix.update({ranges:T})}function o(l){var u=l._fullLayout,d=u._glcanvas.data()[0].regl,m=u._splomGrid;m||(m=u._splomGrid=D(d)),m.update(function(h){var T,_=h._context.plotGlPixelRatio,g=h._fullLayout,w=g._size,x=[0,0,g.width*_,g.height*_],b={};function A(Y,se,te,re,Q,ee){te*=_,re*=_,Q*=_,ee*=_;var oe=se[Y+"color"],le=se[Y+"width"],ue=String(oe+le);ue in b?b[ue].data.push(NaN,NaN,te,re,Q,ee):b[ue]={data:[te,re,Q,ee],join:"rect",thickness:le*_,color:oe,viewport:x,range:x,overlay:!1}}for(T in g._splomSubplots){var p,O,k=g._plots[T],I=k.xaxis,P=k.yaxis,R=I._gridVals,N=P._gridVals,j=I._offset,X=I._length,F=P._length,Z=w.b+P.domain[0]*w.h,W=-P._m,H=-W*P.r2l(P.range[0],P.calendar);if(I.showgrid)for(T=0;T<R.length;T++)p=j+I.l2p(R[T].x),A("grid",I,p,Z,p,Z+F);if(P.showgrid)for(T=0;T<N.length;T++)A("grid",P,j,O=Z+H+W*N[T].x,j+X,O);c(h,I,P)&&(p=j+I.l2p(0),A("zeroline",I,p,Z,p,Z+F)),c(h,P,I)&&A("zeroline",P,j,O=Z+H+0,j+X,O)}var G=[];for(T in b)G.push(b[T]);return G}(l))}ae.exports={name:i,attr:M.attr,attrRegex:M.attrRegex,layoutAttributes:M.layoutAttributes,supplyLayoutDefaults:M.supplyLayoutDefaults,drawFramework:M.drawFramework,plot:function(l){var u=l._fullLayout,d=E.getModule(i),m=S(l.calcdata,d)[0];f(l,["ANGLE_instanced_arrays","OES_element_index_uint"],s)&&(u._hasOnlyLargeSploms&&o(l),d.plot(l,{},m))},drag:function(l){var u=l.calcdata,d=l._fullLayout;d._hasOnlyLargeSploms&&o(l);for(var m=0;m<u.length;m++){var h=u[m][0].trace,T=d._splomScenes[h.uid];"splom"===h.type&&T&&T.matrix&&a(l,h,T)}},updateGrid:o,clean:function(l,u,d,m){var h,T={};if(m._splomScenes){for(h=0;h<l.length;h++){var _=l[h];"splom"===_.type&&(T[_.uid]=1)}for(h=0;h<d.length;h++){var g=d[h];if(!T[g.uid]){var w=m._splomScenes[g.uid];w&&w.destroy&&w.destroy(),m._splomScenes[g.uid]=null,delete m._splomScenes[g.uid]}}}0===Object.keys(m._splomScenes||{}).length&&delete m._splomScenes,m._splomGrid&&!u._hasOnlyLargeSploms&&m._hasOnlyLargeSploms&&(m._splomGrid.destroy(),m._splomGrid=null,delete m._splomGrid),M.clean(l,u,d,m)},updateFx:M.updateFx,toSVG:M.toSVG,reglPrecompiled:s}},87625:function(ae,B,r){"use strict";var D=r(71828),E=r(41675),f=r(47761).calcMarkerSize,S=r(47761).calcAxisExpansion,M=r(36922),v=r(19635).markerSelection,c=r(19635).markerStyle,i=r(10164),s=r(50606).BADNUM,a=r(78232).TOO_MANY_POINTS;ae.exports=function(o,l){var u,d,m,h,T,_,g=l.dimensions,w=l._length,x={},b=x.cdata=[],A=x.data=[],p=l._visibleDims=[];function O(I,P){for(var R=I.makeCalcdata({v:P.values,vcalendar:l.calendar},"v"),N=0;N<R.length;N++)R[N]=R[N]===s?NaN:R[N];b.push(R),A.push("log"===I.type?D.simpleMap(R,I.c2l):R)}for(u=0;u<g.length;u++)if((m=g[u]).visible){if(h=E.getFromId(o,l._diag[u][0]),T=E.getFromId(o,l._diag[u][1]),h&&T&&h.type!==T.type){D.log("Skipping splom dimension "+u+" with conflicting axis types");continue}h?(O(h,m),T&&"category"===T.type&&(T._categories=h._categories.slice())):O(T,m),p.push(u)}for(M(o,l),D.extendFlat(x,c(o,l)),_=b.length*w>a?x.sizeAvg||Math.max(x.size,3):f(l,w),d=0;d<p.length;d++)m=g[u=p[d]],h=E.getFromId(o,l._diag[u][0])||{},T=E.getFromId(o,l._diag[u][1])||{},S(o,l,h,T,b[d],b[d],_);var k=i(o,l);return k.matrix||(k.matrix=!0),k.matrixOptions=x,k.selectedOptions=v(o,l,l.selected),k.unselectedOptions=v(o,l,l.unselected),[{x:!1,y:!1,t:{},trace:l}]}},25784:function(ae,B,r){"use strict";var D=r(71828),E=r(85501),f=r(46880),S=r(34098),M=r(49508),v=r(94397),c=r(68645).isOpenSymbol;function i(s,a){function o(u,d){return D.coerce(s,a,f.dimensions,u,d)}o("label");var l=o("values");l&&l.length?o("visible"):a.visible=!1,o("axis.type"),o("axis.matches")}ae.exports=function(s,a,o,l){function u(w,x){return D.coerce(s,a,f,w,x)}var d=E(s,a,{name:"dimensions",handleItemDefaults:i}),m=u("diagonal.visible"),h=u("showupperhalf"),T=u("showlowerhalf");if(v(a,d,"values")&&(m||h||T)){u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),M(s,a,o,l,u,{noAngleRef:!0,noStandOff:!0});var _=c(a.marker.symbol),g=S.isBubble(a);u("marker.line.width",_||g?1:0),function(w,x,b,A){var p,O,k=x.dimensions,I=k.length,P=x.showupperhalf,R=x.showlowerhalf,N=x.diagonal.visible,j=new Array(I),X=new Array(I);for(p=0;p<I;p++){var F=p?p+1:"";j[p]="x"+F,X[p]="y"+F}var Z=A("xaxes",j),W=A("yaxes",X),H=x._diag=new Array(I);x._xaxes={},x._yaxes={};var G=[],Y=[];function se(he,we,Ae,Te){if(he){var ve=he.charAt(0),xe=b._splomAxes[ve];if(x["_"+ve+"axes"][he]=1,Te.push(he),!(he in xe)){var Fe=xe[he]={};Ae&&(Fe.label=Ae.label||"",Ae.visible&&Ae.axis&&(Ae.axis.type&&(Fe.type=Ae.axis.type),Ae.axis.matches&&(Fe.matches=we)))}}}var te=!N&&!R,re=!N&&!P;for(x._axesDim={},p=0;p<I;p++){var Q=k[p],ee=0===p,oe=p===I-1,le=ee&&te||oe&&re?void 0:Z[p],ue=ee&&re||oe&&te?void 0:W[p];se(le,ue,Q,G),se(ue,le,Q,Y),H[p]=[le,ue],x._axesDim[le]=p,x._axesDim[ue]=p}for(p=0;p<G.length;p++)for(O=0;O<Y.length;O++){var de=G[p]+Y[O];p>O&&P||p<O&&R?b._splomSubplots[de]=1:p!==O||!N&&R&&P||(b._splomSubplots[de]=1)}(!R||!N&&P&&R)&&(b._splomGridDflt.xside="bottom",b._splomGridDflt.yside="left")}(0,a,l,u),D.coerceSelectionMarkerOpacity(a,u)}else a.visible=!1}},28801:function(ae,B,r){"use strict";var D=r(71828),E=r(36922),f=r(19635).markerStyle;ae.exports=function(S,M){var v=M.trace,c=S._fullLayout._splomScenes[v.uid];if(c){E(S,v),D.extendFlat(c.matrixOptions,f(S,v));var i=D.extendFlat({},c.matrixOptions,c.viewOpts);c.matrix.update(i,null)}}},35948:function(ae,B){"use strict";B.getDimIndex=function(r,D){for(var E=D._id,f={x:0,y:1}[E.charAt(0)],S=r._visibleDims,M=0;M<S.length;M++)if(r._diag[S[M]][f]===E)return M;return!1}},8567:function(ae,B,r){"use strict";var D=r(35948),E=r(20794).calcHover;ae.exports={hoverPoints:function(f,S,M){var v=f.cd[0].trace,c=f.scene.matrixOptions.cdata,i=f.xa,s=f.ya,a=i.c2p(S),o=s.c2p(M),l=f.distance,u=D.getDimIndex(v,i),d=D.getDimIndex(v,s);if(!1===u||!1===d)return[f];for(var m,h,T=c[u],_=c[d],g=l,w=0;w<T.length;w++){var b=_[w],A=i.c2p(T[w])-a,p=s.c2p(b)-o,O=Math.sqrt(A*A+p*p);O<g&&(g=h=O,m=w)}return f.index=m,f.distance=g,f.dxy=h,void 0===m?[f]:[E(f,T,_,v)]}}},6419:function(ae,B,r){"use strict";var D=r(65017);D.basePlotModule=r(16947),ae.exports=D},79410:function(ae,B,r){"use strict";var D=r(60487),E=r(71828),f=r(41675),S=r(64505).selectMode;function M(v,c){var i,s,a,o,l,u=v._fullLayout,d=u._size,m=c.trace,h=c.t,T=u._splomScenes[m.uid],_=T.matrixOptions,g=_.cdata,w=u._glcanvas.data()[0].regl,x=u.dragmode;if(0!==g.length){_.lower=m.showupperhalf,_.upper=m.showlowerhalf,_.diagonal=m.diagonal.visible;var b=m._visibleDims,A=g.length,p=T.viewOpts={};for(p.ranges=new Array(A),p.domains=new Array(A),l=0;l<b.length;l++){a=b[l];var O=p.ranges[l]=new Array(4),k=p.domains[l]=new Array(4);(i=f.getFromId(v,m._diag[a][0]))&&(O[0]=i._rl[0],O[2]=i._rl[1],k[0]=i.domain[0],k[2]=i.domain[1]),(s=f.getFromId(v,m._diag[a][1]))&&(O[1]=s._rl[0],O[3]=s._rl[1],k[1]=s.domain[0],k[3]=s.domain[1])}var I=v._context.plotGlPixelRatio,P=d.l*I,R=d.b*I;p.viewport=[P,R,d.w*I+P,d.h*I+R],!0===T.matrix&&(T.matrix=D(w));var X=u.clickmode.indexOf("select")>-1,F=!0;if(S(x)||m.selectedpoints||X){var Z=m._length;if(m.selectedpoints){T.selectBatch=m.selectedpoints;var W=m.selectedpoints,H={};for(a=0;a<W.length;a++)H[W[a]]=!0;var G=[];for(a=0;a<Z;a++)H[a]||G.push(a);T.unselectBatch=G}var Y=h.xpx=new Array(A),se=h.ypx=new Array(A);for(l=0;l<b.length;l++){if(i=f.getFromId(v,m._diag[a=b[l]][0]))for(Y[l]=new Array(Z),o=0;o<Z;o++)Y[l][o]=i.c2p(g[l][o]);if(s=f.getFromId(v,m._diag[a][1]))for(se[l]=new Array(Z),o=0;o<Z;o++)se[l][o]=s.c2p(g[l][o])}if(T.selectBatch.length||T.unselectBatch.length){var te=E.extendFlat({},_,T.unselectedOptions,p),re=E.extendFlat({},_,T.selectedOptions,p);T.matrix.update(te,re),F=!1}}else h.xpx=h.ypx=null;if(F){var Q=E.extendFlat({},_,p);T.matrix.update(Q,null)}}}ae.exports=function(v,c,i){if(i.length)for(var s=0;s<i.length;s++)M(v,i[s][0])}},10164:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,f){var S=E._fullLayout,M=f.uid,v=S._splomScenes;v||(v=S._splomScenes={});var c={dirty:!0,selectBatch:[],unselectBatch:[]},i=v[f.uid];return i||((i=v[M]=D.extendFlat({},c,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){i.matrix&&i.matrix.draw&&(i.selectBatch.length||i.unselectBatch.length?i.matrix.draw(i.unselectBatch,i.selectBatch):i.matrix.draw()),i.dirty=!1},i.destroy=function(){i.matrix&&i.matrix.destroy&&i.matrix.destroy(),i.matrixOptions=null,i.selectBatch=null,i.unselectBatch=null,i=null}),i.dirty||D.extendFlat(i,c),i}},8689:function(ae,B,r){"use strict";var D=r(71828),E=D.pushUnique,f=r(34098),S=r(35948);ae.exports=function(M,v){var c=M.cd,i=c[0].trace,s=c[0].t,a=M.scene,o=a.matrixOptions.cdata,l=M.xaxis,u=M.yaxis,d=[];if(!a)return d;var m=!f.hasMarkers(i)&&!f.hasText(i);if(!0!==i.visible||m)return d;var h=S.getDimIndex(i,l),T=S.getDimIndex(i,u);if(!1===h||!1===T)return d;var _=s.xpx[h],g=s.ypx[T],w=o[h],x=o[T],b=(M.scene.selectBatch||[]).slice(),A=[];if(!1!==v&&!v.degenerate)for(var p=0;p<w.length;p++)v.contains([_[p],g[p]],null,p,M)?(d.push({pointNumber:p,x:w[p],y:x[p]}),E(b,p)):-1!==b.indexOf(p)?E(b,p):A.push(p);var O=a.matrixOptions;return b.length||A.length?a.selectBatch.length||a.unselectBatch.length||a.matrix.update(a.unselectedOptions,D.extendFlat({},O,a.selectedOptions,a.viewOpts)):a.matrix.update(O,null),a.selectBatch=b,a.unselectBatch=A,d}},21850:function(ae,B,r){"use strict";var D=r(50693),E=r(12663).axisHoverFormat,f=r(5386).fF,S=r(2418),M=r(9012),v=r(1426).extendFlat,c={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:f({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:E("u",1),vhoverformat:E("v",1),whoverformat:E("w",1),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),showlegend:v({},M.showlegend,{dflt:!1})};v(c,D("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(i){c[i]=S[i]}),c.hoverinfo=v({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),c.transforms=void 0,ae.exports=c},88489:function(ae,B,r){"use strict";var D=r(71828),E=r(78803);function f(v){var c,i,s,a,o,l,u,d,m,h,T,_,g=v._x,w=v._y,x=v._z,b=v._len,A=-1/0,p=1/0,O=-1/0,k=1/0,I=-1/0,P=1/0,R="";for(b&&(u=g[0],m=w[0],T=x[0]),b>1&&(d=g[b-1],h=w[b-1],_=x[b-1]),c=0;c<b;c++)A=Math.max(A,g[c]),p=Math.min(p,g[c]),O=Math.max(O,w[c]),k=Math.min(k,w[c]),I=Math.max(I,x[c]),P=Math.min(P,x[c]),a||g[c]===u||(a=!0,R+="x"),o||w[c]===m||(o=!0,R+="y"),l||x[c]===T||(l=!0,R+="z");a||(R+="x"),o||(R+="y"),l||(R+="z");var N=S(v._x),j=S(v._y),X=S(v._z);R=(R=(R=R.replace("x",(u>d?"-":"+")+"x")).replace("y",(m>h?"-":"+")+"y")).replace("z",(T>_?"-":"+")+"z");var F=function(){b=0,N=[],j=[],X=[]};(!b||b<N.length*j.length*X.length)&&F();var Z=function(ve){return"x"===ve?g:"y"===ve?w:x},W=function(ve){return"x"===ve?N:"y"===ve?j:X},H=function(ve){return ve[b-1]<ve[0]?-1:1},G=Z(R[1]),Y=Z(R[3]),se=Z(R[5]),te=W(R[1]).length,re=W(R[3]).length,Q=W(R[5]).length,ee=!1,oe=function(ve,xe,Fe){return te*(re*ve+xe)+Fe},le=H(Z(R[1])),ue=H(Z(R[3])),de=H(Z(R[5]));for(c=0;c<Q-1;c++){for(i=0;i<re-1;i++){for(s=0;s<te-1;s++){var he=oe(c,i,s),we=oe(c,i,s+1),Ae=oe(c,i+1,s),Te=oe(c+1,i,s);if(G[he]*le<G[we]*le&&Y[he]*ue<Y[Ae]*ue&&se[he]*de<se[Te]*de||(ee=!0),ee)break}if(ee)break}if(ee)break}return ee&&(D.warn("Encountered arbitrary coordinates! Unable to input data grid."),F()),{xMin:p,yMin:k,zMin:P,xMax:A,yMax:O,zMax:I,Xs:N,Ys:j,Zs:X,len:b,fill:R}}function S(v){return D.distinctVals(v).vals}function M(v,c){if(void 0===c&&(c=v.length),D.isTypedArray(v))return v.subarray(0,c);for(var i=[],s=0;s<c;s++)i[s]=+v[s];return i}ae.exports={calc:function(v,c){c._len=Math.min(c.u.length,c.v.length,c.w.length,c.x.length,c.y.length,c.z.length),c._u=M(c.u,c._len),c._v=M(c.v,c._len),c._w=M(c.w,c._len),c._x=M(c.x,c._len),c._y=M(c.y,c._len),c._z=M(c.z,c._len);var i=f(c);c._gridFill=i.fill,c._Xs=i.Xs,c._Ys=i.Ys,c._Zs=i.Zs,c._len=i.len;var s,a,o,l=0;c.starts&&(s=M(c.starts.x||[]),a=M(c.starts.y||[]),o=M(c.starts.z||[]),l=Math.min(s.length,a.length,o.length)),c._startsX=s||[],c._startsY=a||[],c._startsZ=o||[];var u,d=0,m=1/0;for(u=0;u<c._len;u++){var h=c._u[u],T=c._v[u],_=c._w[u],g=Math.sqrt(h*h+T*T+_*_);d=Math.max(d,g),m=Math.min(m,g)}for(E(v,c,{vals:[m,d],containerStr:"",cLetter:"c"}),u=0;u<l;u++){var w=s[u];i.xMax=Math.max(i.xMax,w),i.xMin=Math.min(i.xMin,w);var x=a[u];i.yMax=Math.max(i.yMax,x),i.yMin=Math.min(i.yMin,x);var b=o[u];i.zMax=Math.max(i.zMax,b),i.zMin=Math.min(i.zMin,b)}c._slen=l,c._normMax=d,c._xbnds=[i.xMin,i.xMax],c._ybnds=[i.yMin,i.yMax],c._zbnds=[i.zMin,i.zMax]},filter:M,processGrid:f}},90154:function(ae,B,r){"use strict";var D=r(9330).gl_streamtube3d,E=D.createTubeMesh,f=r(71828),S=r(81697).parseColorScale,M=r(21081).extractOpts,v=r(90060),c={xaxis:0,yaxis:1,zaxis:2};function i(u,d){this.scene=u,this.uid=d,this.mesh=null,this.data=null}var s=i.prototype;function a(u){var d=u.length;return d>2?u.slice(1,d-1):2===d?[(u[0]+u[1])/2]:u}function o(u){var d=u.length;return 1===d?[.5,.5]:[u[1]-u[0],u[d-1]-u[d-2]]}function l(u,d){var m=u.fullSceneLayout,h=u.dataScale,T=d._len,_={};function g(te,re){var Q=m[re],ee=h[c[re]];return f.simpleMap(te,function(oe){return Q.d2l(oe)*ee})}if(_.vectors=v(g(d._u,"xaxis"),g(d._v,"yaxis"),g(d._w,"zaxis"),T),!T)return{positions:[],cells:[]};var w=g(d._Xs,"xaxis"),x=g(d._Ys,"yaxis"),b=g(d._Zs,"zaxis");if(_.meshgrid=[w,x,b],_.gridFill=d._gridFill,d._slen)_.startingPositions=v(g(d._startsX,"xaxis"),g(d._startsY,"yaxis"),g(d._startsZ,"zaxis"));else{for(var A=x[0],p=a(w),O=a(b),k=new Array(p.length*O.length),I=0,P=0;P<p.length;P++)for(var R=0;R<O.length;R++)k[I++]=[p[P],A,O[R]];_.startingPositions=k}_.colormap=S(d),_.tubeSize=d.sizeref,_.maxLength=d.maxdisplayed;var N=g(d._xbnds,"xaxis"),j=g(d._ybnds,"yaxis"),X=g(d._zbnds,"zaxis"),F=o(w),Z=o(x),W=o(b),G=D(_,[[N[0]-F[0],j[0]-Z[0],X[0]-W[0]],[N[1]+F[1],j[1]+Z[1],X[1]+W[1]]]),Y=M(d);G.vertexIntensityBounds=[Y.min/d._normMax,Y.max/d._normMax];var se=d.lightposition;return G.lightPosition=[se.x,se.y,se.z],G.ambient=d.lighting.ambient,G.diffuse=d.lighting.diffuse,G.specular=d.lighting.specular,G.roughness=d.lighting.roughness,G.fresnel=d.lighting.fresnel,G.opacity=d.opacity,d._pad=G.tubeScale*d.sizeref*2,G}s.handlePick=function(u){var d=this.scene.fullSceneLayout,m=this.scene.dataScale;function h(g,w){var b=m[c[w]];return d[w].l2c(g)/b}if(u.object===this.mesh){var T=u.data.position,_=u.data.velocity;return u.traceCoordinate=[h(T[0],"xaxis"),h(T[1],"yaxis"),h(T[2],"zaxis"),h(_[0],"xaxis"),h(_[1],"yaxis"),h(_[2],"zaxis"),u.data.intensity*this.data._normMax,u.data.divergence],u.textLabel=this.data.hovertext||this.data.text,!0}},s.update=function(u){this.data=u;var d=l(this.scene,u);this.mesh.update(d)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ae.exports=function(u,d){var m=u.glplot.gl,h=l(u,d),T=E(m,h),_=new i(u,d.uid);return _.mesh=T,_.data=d,T._trace=_,u.glplot.add(T),_}},22459:function(ae,B,r){"use strict";var D=r(71828),E=r(1586),f=r(21850);ae.exports=function(S,M,v,c){function i(m,h){return D.coerce(S,M,f,m,h)}var s=i("u"),a=i("v"),o=i("w"),l=i("x"),u=i("y"),d=i("z");s&&s.length&&a&&a.length&&o&&o.length&&l&&l.length&&u&&u.length&&d&&d.length?(i("starts.x"),i("starts.y"),i("starts.z"),i("maxdisplayed"),i("sizeref"),i("lighting.ambient"),i("lighting.diffuse"),i("lighting.specular"),i("lighting.roughness"),i("lighting.fresnel"),i("lightposition.x"),i("lightposition.y"),i("lightposition.z"),E(S,M,c,i,{prefix:"",cLetter:"c"}),i("text"),i("hovertext"),i("hovertemplate"),i("uhoverformat"),i("vhoverformat"),i("whoverformat"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),M._length=null):M.visible=!1}},61510:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"streamtube",basePlotModule:r(58547),categories:["gl3d","showLegend"],attributes:r(21850),supplyDefaults:r(22459),colorbar:{min:"cmin",max:"cmax"},calc:r(88489).calc,plot:r(90154),eventData:function(D,E){return D.tubex=D.x,D.tubey=D.y,D.tubez=D.z,D.tubeu=E.traceCoordinate[3],D.tubev=E.traceCoordinate[4],D.tubew=E.traceCoordinate[5],D.norm=E.traceCoordinate[6],D.divergence=E.traceCoordinate[7],delete D.x,delete D.y,delete D.z,D},meta:{}}},57564:function(ae,B,r){"use strict";var D=r(9012),E=r(5386).fF,f=r(5386).si,S=r(50693),M=r(27670).Y,v=r(34e3),c=r(7055),i=r(1426).extendFlat,s=r(79952).u;ae.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:i({colors:{valType:"data_array",editType:"calc"},line:{color:i({},v.marker.line.color,{dflt:null}),width:i({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:s,editType:"calc"},S("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:f({editType:"plot"},{keys:c.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:i({},D.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:E({},{keys:c.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:i({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:M({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(ae,B,r){"use strict";var D=r(74875);B.name="sunburst",B.plot=function(E,f,S,M){D.plotBasePlot(B.name,E,f,S,M)},B.clean=function(E,f,S,M){D.cleanBasePlot(B.name,E,f,S,M)}},52147:function(ae,B,r){"use strict";var D=r(674),E=r(92770),f=r(71828),S=r(21081).makeColorScaleFuncFromTrace,M=r(32354).makePullColorFn,v=r(32354).generateExtendedColors,c=r(21081).calc,i=r(50606).ALMOST_EQUAL,s={},a={},o={};function l(u,d,m){var h=0,T=u.children;if(T){for(var _=T.length,g=0;g<_;g++)h+=l(T[g],d,m);m.branches&&h++}else m.leaves&&h++;return u.value=u.data.data.value=h,d._values||(d._values=[]),d._values[u.data.data.i]=h,h}B.calc=function(u,d){var m,h,T,_,g,w,x=u._fullLayout,b=d.ids,A=f.isArrayOrTypedArray(b),p=d.labels,O=d.parents,k=d.values,I=f.isArrayOrTypedArray(k),P=[],R={},N={},j=function(de){return de||"number"==typeof de},X=function(de){return!I||E(k[de])&&k[de]>=0};A?(m=Math.min(b.length,O.length),h=function(de){return j(b[de])&&X(de)},T=function(de){return String(b[de])}):(m=Math.min(p.length,O.length),h=function(de){return j(p[de])&&X(de)},T=function(de){return String(p[de])}),I&&(m=Math.min(m,k.length));for(var F=0;F<m;F++)if(h(F)){var Z=T(F),W=j(O[F])?String(O[F]):"",H={i:F,id:Z,pid:W,label:j(p[F])?String(p[F]):""};I&&(H.v=+k[F]),P.push(H),g=Z,R[_=W]?R[_].push(g):R[_]=[g],N[g]=1}if(R[""]){if(R[""].length>1){for(var G=f.randstr(),Y=0;Y<P.length;Y++)""===P[Y].pid&&(P[Y].pid=G);P.unshift({hasMultipleRoots:!0,id:G,pid:"",label:""})}}else{var se,te=[];for(se in R)N[se]||te.push(se);if(1!==te.length)return f.warn(["Multiple implied roots, cannot build",d.type,"hierarchy of",d.name+".","These roots include:",te.join(", ")].join(" "));P.unshift({hasImpliedRoot:!0,id:se=te[0],pid:"",label:se})}try{w=D.stratify().id(function(de){return de.id}).parentId(function(de){return de.pid})(P)}catch(de){return f.warn(["Failed to build",d.type,"hierarchy of",d.name+".","Error:",de.message].join(" "))}var re=D.hierarchy(w),Q=!1;if(I)switch(d.branchvalues){case"remainder":re.sum(function(de){return de.data.v});break;case"total":re.each(function(de){var he=de.data.data,we=he.v;if(de.children){var Ae=de.children.reduce(function(Te,ve){return Te+ve.data.data.v},0);if((he.hasImpliedRoot||he.hasMultipleRoots)&&(we=Ae),we<Ae*i)return Q=!0,f.warn(["Total value for node",de.data.data.id,"of",d.name,"is smaller than the sum of its children.","\nparent value =",we,"\nchildren sum =",Ae].join(" "))}de.value=we})}else l(re,d,{branches:-1!==d.count.indexOf("branches"),leaves:-1!==d.count.indexOf("leaves")});if(!Q){var ee,oe;d.sort&&re.sort(function(de,he){return he.value-de.value});var le=d.marker.colors||[];return d._hasColorscale?(!!le.length||(le=I?d.values:d._values),c(u,d,{vals:le,containerStr:"marker",cLetter:"c"}),oe=S(d.marker)):ee=M(x["_"+d.type+"colormap"]),re.each(function(de){var he=de.data.data;he.color=d._hasColorscale?oe(le[he.i]):ee(le[he.i],he.id)}),P[0].hierarchy=re,P}},B._runCrossTraceCalc=function(u,d){var m=d._fullLayout,h=d.calcdata,T=m[u+"colorway"],_=m["_"+u+"colormap"];m["extend"+u+"colors"]&&(T=v(T,"icicle"===u?o:"treemap"===u?a:s));var g,w=0;function x(p){var O=p.data.data,k=O.id;!1===O.color&&(_[k]?O.color=_[k]:p.parent?p.parent.parent?O.color=p.parent.data.data.color:(_[k]=O.color=T[w%T.length],w++):O.color=g)}for(var b=0;b<h.length;b++){var A=h[b][0];A.trace.type===u&&A.hierarchy&&(g=A.trace.root.color,A.hierarchy.each(x))}},B.crossTraceCalc=function(u){return B._runCrossTraceCalc("sunburst",u)}},7055:function(ae){"use strict";ae.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(ae,B,r){"use strict";var D=r(71828),E=r(57564),f=r(27670).c,S=r(90769).handleText,M=r(37434).handleMarkerDefaults,v=r(21081),c=v.hasColorscale,i=v.handleDefaults;ae.exports=function(s,a,o,l){function u(g,w){return D.coerce(s,a,E,g,w)}var d=u("labels"),m=u("parents");if(d&&d.length&&m&&m.length){var h=u("values");u(h&&h.length?"branchvalues":"count"),u("level"),u("maxdepth"),M(s,a,l,u);var T=a._hasColorscale=c(s,"marker","colors")||(s.marker||{}).coloraxis;T&&i(s,a,l,u,{prefix:"marker.",cLetter:"c"}),u("leaf.opacity",T?1:.7);var _=u("text");u("texttemplate"),a.texttemplate||u("textinfo",Array.isArray(_)?"text+label":"label"),u("hovertext"),u("hovertemplate"),S(s,a,l,u,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),u("insidetextorientation"),u("sort"),u("rotation"),u("root.color"),f(a,l,u),a._length=null}else a.visible=!1}},43467:function(ae,B,r){"use strict";var D=r(91424),E=r(7901);ae.exports=function(f,S,M,v,c){var i=S.data.data,a=c||i.color;if(i.i>=0){S.i=i.i;var o=M.marker;o.pattern&&o.colors&&o.pattern.shape||(o.color=a,S.color=a),D.pointStyle(f,M,v,S)}else E.fill(f,a)}},83523:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),f=r(23469).appendArrayPointValue,S=r(30211),M=r(71828),v=r(11086),c=r(2791),i=r(53581).formatPieValue;function s(a,o,l){for(var u=a.data.data,d={curveNumber:o.index,pointNumber:u.i,data:o._input,fullData:o},m=0;m<l.length;m++){var h=l[m];h in a&&(d[h]=a[h])}return"parentString"in a&&!c.isHierarchyRoot(a)&&(d.parent=a.parentString),f(d,o,u.i),d}ae.exports=function(a,o,l,u,d){var m=u[0],h=m.trace,T=m.hierarchy,_="sunburst"===h.type,g="treemap"===h.type||"icicle"===h.type;"_hasHoverLabel"in h||(h._hasHoverLabel=!1),"_hasHoverEvent"in h||(h._hasHoverEvent=!1),a.on("mouseover",function(w){var x=l._fullLayout;if(!l._dragging&&!1!==x.hovermode){var b,A=l._fullData[h.index],p=w.data.data,O=p.i,k=c.isHierarchyRoot(w),I=c.getParent(T,w),P=c.getValue(w),R=function(le){return M.castOption(A,O,le)},N=R("hovertemplate"),j=S.castHoverinfo(A,x,O),X=x.separators;if(N||j&&"none"!==j&&"skip"!==j){var F,Z;_&&(F=m.cx+w.pxmid[0]*(1-w.rInscribed),Z=m.cy+w.pxmid[1]*(1-w.rInscribed)),g&&(F=w._hoverX,Z=w._hoverY);var W,H={},G=[],Y=[],se=function(le){return-1!==G.indexOf(le)};j&&(G="all"===j?A._module.attributes.hoverinfo.flags:j.split("+")),H.label=p.label,se("label")&&H.label&&Y.push(H.label),p.hasOwnProperty("v")&&(H.value=p.v,H.valueLabel=i(H.value,X),se("value")&&Y.push(H.valueLabel)),H.currentPath=w.currentPath=c.getPath(w.data),se("current path")&&!k&&Y.push(H.currentPath);var te=[],re=function(){-1===te.indexOf(W)&&(Y.push(W),te.push(W))};H.percentParent=w.percentParent=P/c.getValue(I),H.parent=w.parentString=c.getPtLabel(I),se("percent parent")&&(W=c.formatPercent(H.percentParent,X)+" of "+H.parent,re()),H.percentEntry=w.percentEntry=P/c.getValue(o),H.entry=w.entry=c.getPtLabel(o),!se("percent entry")||k||w.onPathbar||(W=c.formatPercent(H.percentEntry,X)+" of "+H.entry,re()),H.percentRoot=w.percentRoot=P/c.getValue(T),H.root=w.root=c.getPtLabel(T),se("percent root")&&!k&&(W=c.formatPercent(H.percentRoot,X)+" of "+H.root,re()),H.text=R("hovertext")||R("text"),se("text")&&M.isValidTextValue(W=H.text)&&Y.push(W),b=[s(w,A,d.eventDataKeys)];var Q={trace:A,y:Z,_x0:w._x0,_x1:w._x1,_y0:w._y0,_y1:w._y1,text:Y.join("<br>"),name:N||se("name")?A.name:void 0,color:R("hoverlabel.bgcolor")||p.color,borderColor:R("hoverlabel.bordercolor"),fontFamily:R("hoverlabel.font.family"),fontSize:R("hoverlabel.font.size"),fontColor:R("hoverlabel.font.color"),nameLength:R("hoverlabel.namelength"),textAlign:R("hoverlabel.align"),hovertemplate:N,hovertemplateLabels:H,eventData:b};_&&(Q.x0=F-w.rInscribed*w.rpx1,Q.x1=F+w.rInscribed*w.rpx1,Q.idealAlign=w.pxmid[0]<0?"left":"right"),g&&(Q.x=F,Q.idealAlign=F<0?"left":"right");var ee=[];S.loneHover(Q,{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:l,inOut_bbox:ee}),b[0].bbox=ee[0],h._hasHoverLabel=!0}if(g){var oe=a.select("path.surface");d.styleOne(oe,w,A,l,{hovered:!0})}h._hasHoverEvent=!0,l.emit("plotly_hover",{points:b||[s(w,A,d.eventDataKeys)],event:D.event})}}),a.on("mouseout",function(w){var x=l._fullLayout,b=l._fullData[h.index],A=D.select(this).datum();if(h._hasHoverEvent&&(w.originalEvent=D.event,l.emit("plotly_unhover",{points:[s(A,b,d.eventDataKeys)],event:D.event}),h._hasHoverEvent=!1),h._hasHoverLabel&&(S.loneUnhover(x._hoverlayer.node()),h._hasHoverLabel=!1),g){var p=a.select("path.surface");d.styleOne(p,A,b,l,{hovered:!1})}}),a.on("click",function(w){var x=l._fullLayout,b=l._fullData[h.index],A=_&&(c.isHierarchyRoot(w)||c.isLeaf(w)),p=c.getPtId(w),O=c.isEntry(w)?c.findEntryWithChild(T,p):c.findEntryWithLevel(T,p),k=c.getPtId(O),I={points:[s(w,b,d.eventDataKeys)],event:D.event};A||(I.nextLevel=k);var P=v.triggerHandler(l,"plotly_"+h.type+"click",I);if(!1!==P&&x.hovermode&&(l._hoverdata=[s(w,b,d.eventDataKeys)],S.click(l,D.event)),!A&&!1!==P&&!l._dragging&&!l._transitioning){E.call("_storeDirectGUIEdit",b,x._tracePreGUI[b.uid],{level:b.level});var R={data:[{level:k}],traces:[h.index]},N={frame:{redraw:!1,duration:d.transitionTime},transition:{duration:d.transitionTime,easing:d.transitionEasing},mode:"immediate",fromcurrent:!0};S.loneUnhover(x._hoverlayer.node()),E.call("animate",l,R,N)}})}},2791:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(6964),S=r(53581);function M(v){return v.data.data.pid}B.findEntryWithLevel=function(v,c){var i;return c&&v.eachAfter(function(s){if(B.getPtId(s)===c)return i=s.copy()}),i||v},B.findEntryWithChild=function(v,c){var i;return v.eachAfter(function(s){for(var a=s.children||[],o=0;o<a.length;o++)if(B.getPtId(a[o])===c)return i=s.copy()}),i||v},B.isEntry=function(v){return!v.parent},B.isLeaf=function(v){return!v.children},B.getPtId=function(v){return v.data.data.id},B.getPtLabel=function(v){return v.data.data.label},B.getValue=function(v){return v.value},B.isHierarchyRoot=function(v){return""===M(v)},B.setSliceCursor=function(v,c,i){var s=i.isTransitioning;if(!s){var a=v.datum();s=i.hideOnRoot&&B.isHierarchyRoot(a)||i.hideOnLeaves&&B.isLeaf(a)}f(v,s?null:"pointer")},B.getInsideTextFontKey=function(v,c,i,s,a){var l=i.data.data.i;return D.castOption(c,l,((a||{}).onPathbar?"pathbar.textfont":"insidetextfont")+"."+v)||D.castOption(c,l,"textfont."+v)||s.size},B.getOutsideTextFontKey=function(v,c,i,s){var a=i.data.data.i;return D.castOption(c,a,"outsidetextfont."+v)||D.castOption(c,a,"textfont."+v)||s.size},B.isOutsideText=function(v,c){return!v._hasColorscale&&B.isHierarchyRoot(c)},B.determineTextFont=function(v,c,i,s){return B.isOutsideText(v,c)?{color:B.getOutsideTextFontKey("color",a=v,o=c,l=i),family:B.getOutsideTextFontKey("family",a,o,l),size:B.getOutsideTextFontKey("size",a,o,l)}:function(a,o,l,u){var m=o.data.data,h=m.i,T=D.castOption(a,h,((u||{}).onPathbar?"pathbar.textfont":"insidetextfont")+".color");return!T&&a._input.textfont&&(T=D.castOption(a._input,h,"textfont.color")),{color:T||E.contrast(m.color),family:B.getInsideTextFontKey("family",a,o,l,u),size:B.getInsideTextFontKey("size",a,o,l,u)}}(v,c,i,s);var a,o,l},B.hasTransition=function(v){return!!(v&&v.duration>0)},B.getMaxDepth=function(v){return v.maxdepth>=0?v.maxdepth:1/0},B.isHeader=function(v,c){return!(B.isLeaf(v)||v.depth===c._maxDepth-1)},B.getParent=function(v,c){return B.findEntryWithLevel(v,M(c))},B.listPath=function(v,c){var i=v.parent;if(!i)return[];var s=c?[i.data[c]]:[i];return B.listPath(i,c).concat(s)},B.getPath=function(v){return B.listPath(v,"label").join("/")+"/"},B.formatValue=S.formatPieValue,B.formatPercent=function(v,c){var i=D.formatPercent(v,0);return"0%"===i&&(i=S.formatPiePercent(v,c)),i}},87619:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"sunburst",basePlotModule:r(66888),categories:[],animatable:!0,attributes:r(57564),layoutAttributes:r(2654),supplyDefaults:r(17094),supplyLayoutDefaults:r(57034),calc:r(52147).calc,crossTraceCalc:r(52147).crossTraceCalc,plot:r(24714).plot,style:r(29969).style,colorbar:r(4898),meta:{}}},2654:function(ae){"use strict";ae.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(ae,B,r){"use strict";var D=r(71828),E=r(2654);ae.exports=function(f,S){function M(v,c){return D.coerce(f,S,E,v,c)}M("sunburstcolorway",S.colorway),M("extendsunburstcolors")}},24714:function(ae,B,r){"use strict";var D=r(39898),E=r(674),f=r(81684).sX,S=r(91424),M=r(71828),v=r(63893),c=r(72597),i=c.recordMinTextSize,s=c.clearMinTextSize,a=r(14575),o=r(53581).getRotationAngle,l=a.computeTransform,u=a.transformInsideText,d=r(29969).styleOne,m=r(16688).resizeText,h=r(83523),T=r(7055),_=r(2791);function g(x,b,A,p){var O=x._context.staticPlot,k=x._fullLayout,I=!k.uniformtext.mode&&_.hasTransition(p),P=D.select(A).selectAll("g.slice"),R=b[0],N=R.trace,X=_.findEntryWithLevel(R.hierarchy,N.level),F=_.getMaxDepth(N),Z=k._size,W=N.domain,G=Z.h*(W.y[1]-W.y[0]),Y=.5*Math.min(Z.w*(W.x[1]-W.x[0]),G),se=R.cx=Z.l+Z.w*(W.x[1]+W.x[0])/2,te=R.cy=Z.t+Z.h*(1-W.y[0])-G/2;if(!X)return P.remove();var re=null,Q={};I&&P.each(function(fe){Q[_.getPtId(fe)]={rpx0:fe.rpx0,rpx1:fe.rpx1,x0:fe.x0,x1:fe.x1,transform:fe.transform},!re&&_.isEntry(fe)&&(re=fe)});var fe,ee=(fe=X,E.partition().size([2*Math.PI,fe.height+1])(fe)).descendants(),oe=X.height+1,le=0,ue=F;R.hasMultipleRoots&&_.isHierarchyRoot(X)&&(ee=ee.slice(1),oe-=1,le=1,ue+=1),ee=ee.filter(function(fe){return fe.y1<=ue});var de=o(N.rotation);de&&ee.forEach(function(fe){fe.x0+=de,fe.x1+=de});var he=Math.min(oe,F),we=function(fe){return(fe-le)/he*Y},Ae=function(fe,be){return[fe*Math.cos(be),-fe*Math.sin(be)]},Te=function(fe){return M.pathAnnulus(fe.rpx0,fe.rpx1,fe.x0,fe.x1,se,te)},ve=function(fe){return se+w(fe)[0]*(fe.transform.rCenter||0)+(fe.transform.x||0)},xe=function(fe){return te+w(fe)[1]*(fe.transform.rCenter||0)+(fe.transform.y||0)};(P=P.data(ee,_.getPtId)).enter().append("g").classed("slice",!0),I?P.exit().transition().each(function(){var fe=D.select(this);fe.select("path.surface").transition().attrTween("d",function(be){var Le=function(Oe){var De,Ue=_.getPtId(Oe),Ge=Q[Ue],ye=Q[_.getPtId(X)];if(ye){var Ie=(Oe.x1>ye.x1?2*Math.PI:0)+de;De=Oe.rpx1<ye.rpx1?{x0:Oe.x0,x1:Oe.x1,rpx0:0,rpx1:0}:{x0:Ie,x1:Ie,rpx0:Oe.rpx0,rpx1:Oe.rpx1}}else{var Ee,Be=_.getPtId(Oe.parent);P.each(function(at){if(_.getPtId(at)===Be)return Ee=at});var We,He=Ee.children;He.forEach(function(at,mt){if(_.getPtId(at)===Ue)return We=mt});var Je=He.length,et=f(Ee.x0,Ee.x1);De={rpx0:Y,rpx1:Y,x0:et(We/Je),x1:et((We+1)/Je)}}return f(Ge,De)}(be);return function(Oe){return Te(Le(Oe))}}),fe.select("g.slicetext").attr("opacity",0)}).remove():P.exit().remove(),P.order();var Fe=null;if(I&&re){var Se=_.getPtId(re);P.each(function(fe){null===Fe&&_.getPtId(fe)===Se&&(Fe=fe.x1)})}var ke=P;function pe(fe){var be=fe.parent,Le=Q[_.getPtId(be)],Oe={};if(Le){var De=be.children,Ue=De.indexOf(fe),Ge=De.length,ye=f(Le.x0,Le.x1);Oe.x0=ye(Ue/Ge),Oe.x1=ye(Ue/Ge)}else Oe.x0=Oe.x1=0;return Oe}I&&(ke=ke.transition().each("end",function(){var fe=D.select(this);_.setSliceCursor(fe,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),ke.each(function(fe){var Ie,be=D.select(this),Le=M.ensureSingle(be,"path","surface",function(Ie){Ie.style("pointer-events",O?"none":"all")});fe.rpx0=we(fe.y0),fe.rpx1=we(fe.y1),fe.xmid=(fe.x0+fe.x1)/2,fe.pxmid=Ae(fe.rpx1,fe.xmid),fe.midangle=-(fe.xmid-Math.PI/2),fe.startangle=-(fe.x0-Math.PI/2),fe.stopangle=-(fe.x1-Math.PI/2),fe.halfangle=.5*Math.min(M.angleDelta(fe.x0,fe.x1)||Math.PI,Math.PI),fe.ring=1-fe.rpx0/fe.rpx1,fe.rInscribed=0===(Ie=fe).rpx0&&M.isFullCircle([Ie.x0,Ie.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(Ie.halfangle)),Ie.ring/2)),I?Le.transition().attrTween("d",function(Ie){var Ee=function(Be){var We,He=Q[_.getPtId(Be)],Je={x0:Be.x0,x1:Be.x1,rpx0:Be.rpx0,rpx1:Be.rpx1};if(He)We=He;else if(re)if(Be.parent)if(Fe){var et=(Be.x1>Fe?2*Math.PI:0)+de;We={x0:et,x1:et}}else M.extendFlat(We={rpx0:Y,rpx1:Y},pe(Be));else We={rpx0:0,rpx1:0};else We={x0:de,x1:de};return f(We,Je)}(Ie);return function(Be){return Te(Ee(Be))}}):Le.attr("d",Te),be.call(h,X,x,b,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(_.setSliceCursor,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:x._transitioning}),Le.call(d,fe,N,x);var Oe=M.ensureSingle(be,"g","slicetext"),De=M.ensureSingle(Oe,"text","",function(Ie){Ie.attr("data-notex",1)}),Ue=M.ensureUniformFontSize(x,_.determineTextFont(N,fe,k.font));De.text(B.formatSliceLabel(fe,X,N,b,k)).classed("slicetext",!0).attr("text-anchor","middle").call(S.font,Ue).call(v.convertToTspans,x);var Ge=S.bBox(De.node());fe.transform=u(Ge,fe,R),fe.transform.targetX=ve(fe),fe.transform.targetY=xe(fe);var ye=function(Ie,Ee){var Be=Ie.transform;return l(Be,Ee),Be.fontSize=Ue.size,i(N.type,Be,k),M.getTextTransform(Be)};I?De.transition().attrTween("transform",function(Ie){var Ee=function(Be){var We,He=Q[_.getPtId(Be)],Je=Be.transform;if(He)We=He;else if(We={rpx1:Be.rpx1,transform:{textPosAngle:Je.textPosAngle,scale:0,rotate:Je.rotate,rCenter:Je.rCenter,x:Je.x,y:Je.y}},re)if(Be.parent)if(Fe){var et=Be.x1>Fe?2*Math.PI:0;We.x0=We.x1=et}else M.extendFlat(We,pe(Be));else We.x0=We.x1=de;else We.x0=We.x1=de;var at=f(We.transform.textPosAngle,Be.transform.textPosAngle),mt=f(We.rpx1,Be.rpx1),ct=f(We.x0,Be.x0),St=f(We.x1,Be.x1),Dt=f(We.transform.scale,Je.scale),Et=f(We.transform.rotate,Je.rotate),ht=0===Je.rCenter?3:0===We.transform.rCenter?1/3:1,pt=f(We.transform.rCenter,Je.rCenter);return function(Pt){var Ft=mt(Pt),Ht=ct(Pt),Lt=St(Pt),tt=pt(Math.pow(Pt,ht)),rt={pxmid:Ae(Ft,(Ht+Lt)/2),rpx1:Ft,transform:{textPosAngle:at(Pt),rCenter:tt,x:Je.x,y:Je.y}};return i(N.type,Je,k),{transform:{targetX:ve(rt),targetY:xe(rt),scale:Dt(Pt),rotate:Et(Pt),rCenter:tt}}}}(Ie);return function(Be){return ye(Ee(Be),Ge)}}):De.attr("transform",ye(fe,Ge))})}function w(x){return A=x.transform.textPosAngle,[(b=x.rpx1)*Math.sin(A),-b*Math.cos(A)];var b,A}B.plot=function(x,b,A,p){var O,k,I=x._fullLayout,P=I._sunburstlayer,R=!A,N=!I.uniformtext.mode&&_.hasTransition(A);s("sunburst",I),(O=P.selectAll("g.trace.sunburst").data(b,function(j){return j[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),O.order(),N?(p&&(k=p()),D.transition().duration(A.duration).ease(A.easing).each("end",function(){k&&k()}).each("interrupt",function(){k&&k()}).each(function(){P.selectAll("g.trace").each(function(j){g(x,j,this,A)})})):(O.each(function(j){g(x,j,this,A)}),I.uniformtext.mode&&m(x,I._sunburstlayer.selectAll(".trace"),"sunburst")),R&&O.exit().remove()},B.formatSliceLabel=function(x,b,A,p,O){var k=A.texttemplate,I=A.textinfo;if(!(k||I&&"none"!==I))return"";var P=O.separators,N=x.data.data,j=p[0].hierarchy,X=_.isHierarchyRoot(x),F=_.getParent(j,x),Z=_.getValue(x);if(!k){var W,H=I.split("+"),G=function(ue){return-1!==H.indexOf(ue)},Y=[];if(G("label")&&N.label&&Y.push(N.label),N.hasOwnProperty("v")&&G("value")&&Y.push(_.formatValue(N.v,P)),!X){G("current path")&&Y.push(_.getPath(x.data));var se=0;G("percent parent")&&se++,G("percent entry")&&se++,G("percent root")&&se++;var te=se>1;if(se){var re,Q=function(ue){W=_.formatPercent(re,P),te&&(W+=" of "+ue),Y.push(W)};G("percent parent")&&!X&&(re=Z/_.getValue(F),Q("parent")),G("percent entry")&&(re=Z/_.getValue(b),Q("entry")),G("percent root")&&(re=Z/_.getValue(j),Q("root"))}}return G("text")&&(W=M.castOption(A,N.i,"text"),M.isValidTextValue(W)&&Y.push(W)),Y.join("<br>")}var ee=M.castOption(A,N.i,"texttemplate");if(!ee)return"";var oe={};N.label&&(oe.label=N.label),N.hasOwnProperty("v")&&(oe.value=N.v,oe.valueLabel=_.formatValue(N.v,P)),oe.currentPath=_.getPath(x.data),X||(oe.percentParent=Z/_.getValue(F),oe.percentParentLabel=_.formatPercent(oe.percentParent,P),oe.parent=_.getPtLabel(F)),oe.percentEntry=Z/_.getValue(b),oe.percentEntryLabel=_.formatPercent(oe.percentEntry,P),oe.entry=_.getPtLabel(b),oe.percentRoot=Z/_.getValue(j),oe.percentRootLabel=_.formatPercent(oe.percentRoot,P),oe.root=_.getPtLabel(j),N.hasOwnProperty("color")&&(oe.color=N.color);var le=M.castOption(A,N.i,"text");return(M.isValidTextValue(le)||""===le)&&(oe.text=le),oe.customdata=M.castOption(A,N.i,"customdata"),M.texttemplateString(ee,oe,O._d3locale,oe,A._meta||{})}},29969:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),f=r(71828),S=r(72597).resizeText,M=r(43467);function v(c,i,s,a){var l=!i.children,u=i.data.data.i,d=f.castOption(s,u,"marker.line.color")||E.defaultLine,m=f.castOption(s,u,"marker.line.width")||0;c.call(M,i,s,a).style("stroke-width",m).call(E.stroke,d).style("opacity",l?s.leaf.opacity:null)}ae.exports={style:function(c){var i=c._fullLayout._sunburstlayer.selectAll(".trace");S(c,i,"sunburst"),i.each(function(s){var a=D.select(this),o=s[0].trace;a.style("opacity",o.opacity),a.selectAll("path.surface").each(function(l){D.select(this).call(v,l,o,c)})})},styleOne:v}},54532:function(ae,B,r){"use strict";var D=r(7901),E=r(50693),f=r(12663).axisHoverFormat,S=r(5386).fF,M=r(9012),v=r(1426).extendFlat,c=r(30962).overrideAll;function i(a){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:D.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:D.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var s=ae.exports=c(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:S(),xhoverformat:f("x"),yhoverformat:f("y"),zhoverformat:f("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},E("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:i(),y:i(),z:i()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},E.zauto,{}),zmin:v({},E.zmin,{}),zmax:v({},E.zmax,{})},hoverinfo:v({},M.hoverinfo),showlegend:v({},M.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType="calc+clearAxisTypes",s.transforms=void 0},18396:function(ae,B,r){"use strict";var D=r(78803);ae.exports=function(E,f){D(E,f,f.surfacecolor?{vals:f.surfacecolor,containerStr:"",cLetter:"c"}:{vals:f.z,containerStr:"",cLetter:"c"})}},43768:function(ae,B,r){"use strict";var D=r(9330).gl_surface3d,E=r(9330).ndarray,f=r(9330).ndarray_linear_interpolate.d2,S=r(824),M=r(43907),v=r(71828).isArrayOrTypedArray,c=r(81697).parseColorScale,i=r(78614),s=r(21081).extractOpts;function a(A,p,O){this.scene=A,this.uid=O,this.surface=p,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var o=a.prototype;o.getXat=function(A,p,O,k){var I=v(this.data.x)?v(this.data.x[0])?this.data.x[p][A]:this.data.x[A]:A;return void 0===O?I:k.d2l(I,0,O)},o.getYat=function(A,p,O,k){var I=v(this.data.y)?v(this.data.y[0])?this.data.y[p][A]:this.data.y[p]:p;return void 0===O?I:k.d2l(I,0,O)},o.getZat=function(A,p,O,k){var I=this.data.z[p][A];return null===I&&this.data.connectgaps&&this.data._interpolatedZ&&(I=this.data._interpolatedZ[p][A]),void 0===O?I:k.d2l(I,0,O)},o.handlePick=function(A){if(A.object===this.surface){var O=(A.data.index[1]-1)/this.dataScaleY-1,k=Math.max(Math.min(Math.round((A.data.index[0]-1)/this.dataScaleX-1),this.data.z[0].length-1),0),I=Math.max(Math.min(Math.round(O),this.data._ylength-1),0);A.index=[k,I],A.traceCoordinate=[this.getXat(k,I),this.getYat(k,I),this.getZat(k,I)],A.dataCoordinate=[this.getXat(k,I,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(k,I,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(k,I,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var P=0;P<3;P++)null!=A.dataCoordinate[P]&&(A.dataCoordinate[P]*=this.scene.dataScale[P]);var R=this.data.hovertext||this.data.text;return A.textLabel=Array.isArray(R)&&R[I]&&void 0!==R[I][k]?R[I][k]:R||"",A.data.dataCoordinate=A.dataCoordinate.slice(),this.surface.highlight(A.data),this.scene.glplot.spikes.position=A.dataCoordinate,!0}};var l=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function u(A,p){if(A<p)return 0;for(var O=0;0===Math.floor(A%p);)A/=p,O++;return O}function d(A){for(var p=[],O=0;O<l.length;O++)p.push(u(A,l[O]));return p}function m(A){for(var p=d(A),O=A,k=0;k<l.length;k++)if(p[k]>0){O=l[k];break}return O}function h(A,p){if(!(A<1||p<1)){for(var O=d(A),k=d(p),I=1,P=0;P<l.length;P++)I*=Math.pow(l[P],Math.max(O[P],k[P]));return I}}o.calcXnums=function(A){var p,O=[];for(p=1;p<A;p++){var k=this.getXat(p-1,0),I=this.getXat(p,0);O[p-1]=I!==k&&null!=k&&null!=I?Math.abs(I-k):0}var P=0;for(p=1;p<A;p++)P+=O[p-1];for(p=1;p<A;p++)O[p-1]=0===O[p-1]?1:Math.round(P/O[p-1]);return O},o.calcYnums=function(A){var p,O=[];for(p=1;p<A;p++){var k=this.getYat(0,p-1),I=this.getYat(0,p);O[p-1]=I!==k&&null!=k&&null!=I?Math.abs(I-k):0}var P=0;for(p=1;p<A;p++)P+=O[p-1];for(p=1;p<A;p++)O[p-1]=0===O[p-1]?1:Math.round(P/O[p-1]);return O};var T=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],_=T[9],g=T[13];function w(A,p,O){var k=O[8]+O[2]*p[0]+O[5]*p[1];return A[0]=(O[6]+O[0]*p[0]+O[3]*p[1])/k,A[1]=(O[7]+O[1]*p[0]+O[4]*p[1])/k,A}function x(A,p,O){return function(k,I,P,R){for(var N=[0,0],j=k.shape[0],X=k.shape[1],F=0;F<j;F++)for(var Z=0;Z<X;Z++)P(N,[F,Z],R),k.set(F,Z,f(I,N[0],N[1]))}(A,p,w,O),A}function b(A,p){for(var O=!1,k=0;k<A.length;k++)if(p===A[k]){O=!0;break}!1===O&&A.push(p)}o.estimateScale=function(A,p){for(var O=1+function(I){if(0!==I.length){for(var P=1,R=0;R<I.length;R++)P=h(P,I[R]);return P}}(0===p?this.calcXnums(A):this.calcYnums(A));O<_;)O*=2;for(;O>g;)O--,O/=m(O),++O<_&&(O=g);var k=Math.round(O/A);return k>1?k:1},o.refineCoords=function(A){for(var p=this.dataScaleX,O=this.dataScaleY,k=A[0].shape[0],I=A[0].shape[1],P=0|Math.floor(A[0].shape[0]*p+1),R=0|Math.floor(A[0].shape[1]*O+1),N=1+k+1,j=1+I+1,X=E(new Float32Array(N*j),[N,j]),F=[1/p,0,0,0,1/O,0,0,0,1],Z=0;Z<A.length;++Z){this.surface.padField(X,A[Z]);var W=E(new Float32Array(P*R),[P,R]);x(W,X,F),A[Z]=W}},o.setContourLevels=function(){var A,p,k=[[],[],[]],I=[!1,!1,!1],P=!1;for(A=0;A<3;++A)if(this.showContour[A]&&(P=!0,this.contourSize[A]>0&&null!==this.contourStart[A]&&null!==this.contourEnd[A]&&this.contourEnd[A]>this.contourStart[A]))for(I[A]=!0,p=this.contourStart[A];p<this.contourEnd[A];p+=this.contourSize[A])b(k[A],p*this.scene.dataScale[A]);if(P){var R=[[],[],[]];for(A=0;A<3;++A)this.showContour[A]&&(R[A]=I[A]?k[A]:this.scene.contourLevels[A]);this.surface.update({levels:R})}},o.update=function(A){var p,O,k,I,P=this.scene,R=P.fullSceneLayout,N=this.surface,j=c(A),X=P.dataScale,F=A.z[0].length,Z=A._ylength,W=P.contourLevels;this.data=A;var H=[];for(p=0;p<3;p++)for(H[p]=[],O=0;O<F;O++)H[p][O]=[];for(O=0;O<F;O++)for(k=0;k<Z;k++)H[0][O][k]=this.getXat(O,k,A.xcalendar,R.xaxis),H[1][O][k]=this.getYat(O,k,A.ycalendar,R.yaxis),H[2][O][k]=this.getZat(O,k,A.zcalendar,R.zaxis);if(A.connectgaps)for(A._emptypoints=M(H[2]),S(H[2],A._emptypoints),A._interpolatedZ=[],O=0;O<F;O++)for(A._interpolatedZ[O]=[],k=0;k<Z;k++)A._interpolatedZ[O][k]=H[2][O][k];for(p=0;p<3;p++)for(O=0;O<F;O++)for(k=0;k<Z;k++)null==(I=H[p][O][k])?H[p][O][k]=NaN:I=H[p][O][k]*=X[p];for(p=0;p<3;p++)for(O=0;O<F;O++)for(k=0;k<Z;k++)null!=(I=H[p][O][k])&&(this.minValues[p]>I&&(this.minValues[p]=I),this.maxValues[p]<I&&(this.maxValues[p]=I));for(p=0;p<3;p++)this.objectOffset[p]=.5*(this.minValues[p]+this.maxValues[p]);for(p=0;p<3;p++)for(O=0;O<F;O++)for(k=0;k<Z;k++)null!=(I=H[p][O][k])&&(H[p][O][k]-=this.objectOffset[p]);var G=[E(new Float32Array(F*Z),[F,Z]),E(new Float32Array(F*Z),[F,Z]),E(new Float32Array(F*Z),[F,Z])];for(p=0;p<3;p++)for(O=0;O<F;O++)for(k=0;k<Z;k++)G[p].set(O,k,H[p][O][k]);H=[];var Y={colormap:j,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!A.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:A.opacityscale,opacity:A.opacity},se=s(A);if(Y.intensityBounds=[se.min,se.max],A.surfacecolor){var te=E(new Float32Array(F*Z),[F,Z]);for(O=0;O<F;O++)for(k=0;k<Z;k++)te.set(O,k,A.surfacecolor[k][O]);G.push(te)}else Y.intensityBounds[0]*=X[2],Y.intensityBounds[1]*=X[2];(g<G[0].shape[0]||g<G[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(G[0].shape[0],0),this.dataScaleY=this.estimateScale(G[0].shape[1],1),1===this.dataScaleX&&1===this.dataScaleY||this.refineCoords(G)),A.surfacecolor&&(Y.intensity=G.pop());var oe,le,ue,re=[!0,!0,!0],Q=["x","y","z"];for(p=0;p<3;++p){var ee=A.contours[Q[p]];re[p]=ee.highlight,Y.showContour[p]=ee.show||ee.highlight,Y.showContour[p]&&(Y.contourProject[p]=[ee.project.x,ee.project.y,ee.project.z],ee.show?(this.showContour[p]=!0,Y.levels[p]=W[p],N.highlightColor[p]=Y.contourColor[p]=i(ee.color),N.highlightTint[p]=Y.contourTint[p]=ee.usecolormap?0:1,Y.contourWidth[p]=ee.width,this.contourStart[p]=ee.start,this.contourEnd[p]=ee.end,this.contourSize[p]=ee.size):(this.showContour[p]=!1,this.contourStart[p]=null,this.contourEnd[p]=null,this.contourSize[p]=0),ee.highlight&&(Y.dynamicColor[p]=i(ee.highlightcolor),Y.dynamicWidth[p]=ee.highlightwidth))}(le=(oe=j)[0].rgb)[0]===(ue=oe[oe.length-1].rgb)[0]&&le[1]===ue[1]&&le[2]===ue[2]&&le[3]===ue[3]&&(Y.vertexColor=!0),Y.objectOffset=this.objectOffset,Y.coords=G,N.update(Y),N.visible=A.visible,N.enableDynamic=re,N.enableHighlight=re,N.snapToData=!0,"lighting"in A&&(N.ambientLight=A.lighting.ambient,N.diffuseLight=A.lighting.diffuse,N.specularLight=A.lighting.specular,N.roughness=A.lighting.roughness,N.fresnel=A.lighting.fresnel),"lightposition"in A&&(N.lightPosition=[A.lightposition.x,A.lightposition.y,A.lightposition.z])},o.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},ae.exports=function(A,p){var k=D({gl:A.glplot.gl}),I=new a(A,k,p.uid);return k._trace=I,I.update(p),A.glplot.add(k),I}},91831:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),f=r(1586),S=r(54532);function M(c,i,s,a){var o=a("opacityscale");"max"===o?i.opacityscale=[[0,.1],[1,1]]:"min"===o?i.opacityscale=[[0,1],[1,.1]]:"extremes"===o?i.opacityscale=function(l,u){for(var d=[],m=0;m<32;m++){var h=m/31,T=.1+.9*(1-Math.pow(Math.sin(1*h*Math.PI),2));d.push([h,Math.max(0,Math.min(1,T))])}return d}():function(l){var u=0;if(!Array.isArray(l)||l.length<2||!l[0]||!l[l.length-1]||0!=+l[0][0]||1!=+l[l.length-1][0])return!1;for(var d=0;d<l.length;d++){var m=l[d];if(2!==m.length||+m[0]<u)return!1;u=+m[0]}return!0}(o)||(i.opacityscale=void 0)}function v(c,i,s){i in c&&!(s in c)&&(c[s]=c[i])}ae.exports={supplyDefaults:function(c,i,s,a){var o,l;function u(b,A){return E.coerce(c,i,S,b,A)}var d=u("x"),m=u("y"),h=u("z");if(!h||!h.length||d&&d.length<1||m&&m.length<1)i.visible=!1;else{i._xlength=Array.isArray(d)&&E.isArrayOrTypedArray(d[0])?h.length:h[0].length,i._ylength=h.length,D.getComponentMethod("calendars","handleTraceDefaults")(c,i,["x","y","z"],a),u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(b){u(b)});var T=u("surfacecolor"),_=["x","y","z"];for(o=0;o<3;++o){var g="contours."+_[o],w=u(g+".show"),x=u(g+".highlight");if(w||x)for(l=0;l<3;++l)u(g+".project."+_[l]);w&&(u(g+".color"),u(g+".width"),u(g+".usecolormap")),x&&(u(g+".highlightcolor"),u(g+".highlightwidth")),u(g+".start"),u(g+".end"),u(g+".size")}T||(v(c,"zmin","cmin"),v(c,"zmax","cmax"),v(c,"zauto","cauto")),f(c,i,a,u,{prefix:"",cLetter:"c"}),M(0,i,0,u),i._length=null}},opacityscaleDefaults:M}},93601:function(ae,B,r){"use strict";ae.exports={attributes:r(54532),supplyDefaults:r(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:r(18396),plot:r(43768),moduleType:"trace",name:"surface",basePlotModule:r(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(ae,B,r){"use strict";var D=r(50215),E=r(1426).extendFlat,f=r(30962).overrideAll,S=r(41940),M=r(27670).Y,v=r(12663).descriptionOnlyNumbers;(ae.exports=f({domain:M({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:E({},D.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:E({},S({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:E({},D.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:E({},S({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},99469:function(ae,B,r){"use strict";var D=r(27659).a0,E=r(36736),f="table";B.name=f,B.plot=function(S){var M=D(S.calcdata,f)[0];M.length&&E(S,M)},B.clean=function(S,M,v,c){var i=c._has&&c._has(f),s=M._has&&M._has(f);i&&!s&&c._paperdiv.selectAll(".table").remove()}},76333:function(ae,B,r){"use strict";var D=r(28984).wrap;ae.exports=function(){return D({})}},49850:function(ae){"use strict";ae.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(ae,B,r){"use strict";var D=r(49850),E=r(1426).extendFlat,f=r(92770);function S(o){if(Array.isArray(o)){for(var l=0,u=0;u<o.length;u++)l=Math.max(l,S(o[u]));return l}return o}function M(o,l){return o+l}function v(o){var l,u=o.slice(),d=1/0,m=0;for(l=0;l<u.length;l++)Array.isArray(u[l])||(u[l]=[u[l]]),d=Math.min(d,u[l].length),m=Math.max(m,u[l].length);if(d!==m)for(l=0;l<u.length;l++){var h=m-u[l].length;h&&(u[l]=u[l].concat(c(h)))}return u}function c(o){for(var l=new Array(o),u=0;u<o;u++)l[u]="";return l}function i(o){return o.calcdata.columns.reduce(function(l,u){return u.xIndex<o.xIndex?l+u.columnWidth:l},0)}function s(o,l){return Object.keys(o).map(function(u){return E({},o[u],{auxiliaryBlocks:l})})}function a(o,l){for(var u,d={},m=0,h=0,T={firstRowIndex:null,lastRowIndex:null,rows:[]},_=0,g=0,w=0;w<o.length;w++)T.rows.push({rowIndex:w,rowHeight:u=o[w]}),((h+=u)>=l||w===o.length-1)&&(d[m]=T,T.key=g++,T.firstRowIndex=_,T.lastRowIndex=w,T={firstRowIndex:null,lastRowIndex:null,rows:[]},m+=h,_=w+1,h=0);return d}ae.exports=function(o,l){var u=v(l.cells.values),d=function(X){return X.slice(l.header.values.length,X.length)},m=v(l.header.values);m.length&&!m[0].length&&(m[0]=[""],m=v(m));var h=m.concat(d(u).map(function(){return c((m[0]||[""]).length)})),T=l.domain,_=Math.floor(o._fullLayout._size.w*(T.x[1]-T.x[0])),g=Math.floor(o._fullLayout._size.h*(T.y[1]-T.y[0])),w=l.header.values.length?h[0].map(function(){return l.header.height}):[D.emptyHeaderHeight],x=u.length?u[0].map(function(){return l.cells.height}):[],b=w.reduce(M,0),A=a(x,g-b+D.uplift),p=s(a(w,b),[]),O=s(A,p),k={},I=l._fullInput.columnorder.concat(d(u.map(function(X,F){return F}))),P=h.map(function(X,F){var Z=Array.isArray(l.columnwidth)?l.columnwidth[Math.min(F,l.columnwidth.length-1)]:l.columnwidth;return f(Z)?Number(Z):1}),R=P.reduce(M,0);P=P.map(function(X){return X/R*_});var N=Math.max(S(l.header.line.width),S(l.cells.line.width)),j={key:l.uid+o._context.staticPlot,translateX:T.x[0]*o._fullLayout._size.w,translateY:o._fullLayout._size.h*(1-T.y[1]),size:o._fullLayout._size,width:_,maxLineWidth:N,height:g,columnOrder:I,groupHeight:g,rowBlocks:O,headerRowBlocks:p,scrollY:0,cells:E({},l.cells,{values:u}),headerCells:E({},l.header,{values:h}),gdColumns:h.map(function(X){return X[0]}),gdColumnsOriginalOrder:h.map(function(X){return X[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:h.map(function(X,F){return k[X]=(k[X]||0)+1,{key:X+"__"+k[X],label:X,specIndex:F,xIndex:I[F],xScale:i,x:void 0,calcdata:void 0,columnWidth:P[F]}})};return j.columns.forEach(function(X){X.calcdata=j,X.x=i(X)}),j}},56269:function(ae,B,r){"use strict";var D=r(1426).extendFlat;B.splitToPanels=function(E){var f=[0,0],S=D({},E,{key:"header",type:"header",page:0,prevPages:f,currentRepaint:[null,null],dragHandle:!0,values:E.calcdata.headerCells.values[E.specIndex],rowBlocks:E.calcdata.headerRowBlocks,calcdata:D({},E.calcdata,{cells:E.calcdata.headerCells})});return[D({},E,{key:"cells1",type:"cells",page:0,prevPages:f,currentRepaint:[null,null],dragHandle:!1,values:E.calcdata.cells.values[E.specIndex],rowBlocks:E.calcdata.rowBlocks}),D({},E,{key:"cells2",type:"cells",page:1,prevPages:f,currentRepaint:[null,null],dragHandle:!1,values:E.calcdata.cells.values[E.specIndex],rowBlocks:E.calcdata.rowBlocks}),S]},B.splitToCells=function(E){var S,M,v,f=[v=(M=(S=E).rowBlocks[S.page])?M.rows[0].rowIndex:0,M?v+M.rows.length:0];return(E.values||[]).slice(f[0],f[1]).map(function(S,M){return{keyWithinBlock:M+("string"==typeof S&&S.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:f[0]+M,column:E,calcdata:E.calcdata,page:E.page,rowBlocks:E.rowBlocks,value:S}})}},39754:function(ae,B,r){"use strict";var D=r(71828),E=r(44464),f=r(27670).c;ae.exports=function(S,M,v,c){function i(s,a){return D.coerce(S,M,E,s,a)}f(M,c,i),i("columnwidth"),i("header.values"),i("header.format"),i("header.align"),i("header.prefix"),i("header.suffix"),i("header.height"),i("header.line.width"),i("header.line.color"),i("header.fill.color"),D.coerceFont(i,"header.font",D.extendFlat({},c.font)),function(s,a){for(var l=s.header.values.length,u=(s.columnorder||[]).slice(0,l),d=u.slice().sort(function(T,_){return T-_}),m=u.map(function(T){return d.indexOf(T)}),h=m.length;h<l;h++)m.push(h);a("columnorder",m)}(M,i),i("cells.values"),i("cells.format"),i("cells.align"),i("cells.prefix"),i("cells.suffix"),i("cells.height"),i("cells.line.width"),i("cells.line.color"),i("cells.fill.color"),D.coerceFont(i,"cells.font",D.extendFlat({},c.font)),M._length=null}},96595:function(ae,B,r){"use strict";ae.exports={attributes:r(44464),supplyDefaults:r(39754),calc:r(76333),plot:r(36736),moduleType:"trace",name:"table",basePlotModule:r(99469),categories:["noOpacity"],meta:{}}},36736:function(ae,B,r){"use strict";var D=r(49850),E=r(39898),f=r(71828).numberFormat,S=r(28984),M=r(91424),v=r(63893),c=r(71828).raiseToTop,i=r(71828).strTranslate,s=r(71828).cancelTransition,a=r(51018),o=r(56269),l=r(7901);function u(G){return Math.ceil(G.calcdata.maxLineWidth/2)}function d(G,Y){return"clip"+G._fullLayout._uid+"_scrollAreaBottomClip_"+Y.key}function m(G,Y){return"clip"+G._fullLayout._uid+"_columnBoundaryClippath_"+Y.calcdata.key+"_"+Y.specIndex}function h(G){return[].concat.apply([],G.map(function(Y){return Y})).map(function(Y){return Y.__data__})}function T(G,Y,se){var te=G.selectAll("."+D.cn.scrollbarKit).data(S.repeat,S.keyFun);te.enter().append("g").classed(D.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),te.each(function(le){var he,ue=le.scrollbarState;ue.totalHeight=F(he=le.rowBlocks,he.length-1)+(he.length?Z(he[he.length-1],1/0):1),ue.scrollableAreaHeight=le.groupHeight-O(le),ue.currentlyVisibleHeight=Math.min(ue.totalHeight,ue.scrollableAreaHeight),ue.ratio=ue.currentlyVisibleHeight/ue.totalHeight,ue.barLength=Math.max(ue.ratio*ue.currentlyVisibleHeight,D.goldenRatio*D.scrollbarWidth),ue.barWiggleRoom=ue.currentlyVisibleHeight-ue.barLength,ue.wiggleRoom=Math.max(0,ue.totalHeight-ue.scrollableAreaHeight),ue.topY=0===ue.barWiggleRoom?0:le.scrollY/ue.wiggleRoom*ue.barWiggleRoom,ue.bottomY=ue.topY+ue.barLength,ue.dragMultiplier=ue.wiggleRoom/ue.barWiggleRoom}).attr("transform",function(le){return i(le.width+D.scrollbarWidth/2+D.scrollbarOffset,O(le))});var re=te.selectAll("."+D.cn.scrollbar).data(S.repeat,S.keyFun);re.enter().append("g").classed(D.cn.scrollbar,!0);var Q=re.selectAll("."+D.cn.scrollbarSlider).data(S.repeat,S.keyFun);Q.enter().append("g").classed(D.cn.scrollbarSlider,!0),Q.attr("transform",function(le){return i(0,le.scrollbarState.topY||0)});var ee=Q.selectAll("."+D.cn.scrollbarGlyph).data(S.repeat,S.keyFun);ee.enter().append("line").classed(D.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",D.scrollbarWidth).attr("stroke-linecap","round").attr("y1",D.scrollbarWidth/2),ee.attr("y2",function(le){return le.scrollbarState.barLength-D.scrollbarWidth/2}).attr("stroke-opacity",function(le){return le.columnDragInProgress||!le.scrollbarState.barWiggleRoom||se?0:.4}),ee.transition().delay(0).duration(0),ee.transition().delay(D.scrollbarHideDelay).duration(D.scrollbarHideDuration).attr("stroke-opacity",0);var oe=re.selectAll("."+D.cn.scrollbarCaptureZone).data(S.repeat,S.keyFun);oe.enter().append("line").classed(D.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",D.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(le){var ue=E.event.y,de=this.getBoundingClientRect(),he=le.scrollbarState,we=ue-de.top,Ae=E.scale.linear().domain([0,he.scrollableAreaHeight]).range([0,he.totalHeight]).clamp(!0);he.topY<=we&&we<=he.bottomY||I(Y,G,null,Ae(we-he.barLength/2))(le)}).call(E.behavior.drag().origin(function(le){return E.event.stopPropagation(),le.scrollbarState.scrollbarScrollInProgress=!0,le}).on("drag",I(Y,G)).on("dragend",function(){})),oe.attr("y2",function(le){return le.scrollbarState.scrollableAreaHeight}),Y._context.staticPlot&&(ee.remove(),oe.remove())}function _(G,Y,se,te){var de,Q=function(ue){var de=ue.selectAll("."+D.cn.columnCell).data(o.splitToCells,function(he){return he.keyWithinBlock});return de.enter().append("g").classed(D.cn.columnCell,!0),de.exit().remove(),de}(((de=se.selectAll("."+D.cn.columnCells).data(S.repeat,S.keyFun)).enter().append("g").classed(D.cn.columnCells,!0),de.exit().remove(),de));Q.each(function(de,he){var we=de.calcdata.cells.font,Ae=de.column.specIndex,Te={size:x(we.size,Ae,he),color:x(we.color,Ae,he),family:x(we.family,Ae,he)};de.rowNumber=de.key,de.align=x(de.calcdata.cells.align,Ae,he),de.cellBorderWidth=x(de.calcdata.cells.line.width,Ae,he),de.font=Te});var ee=function(ue){var de=ue.selectAll("."+D.cn.cellRect).data(S.repeat,function(he){return he.keyWithinBlock});return de.enter().append("rect").classed(D.cn.cellRect,!0),de}(Q);!function(ue){ue.attr("width",function(de){return de.column.columnWidth}).attr("stroke-width",function(de){return de.cellBorderWidth}).each(function(de){var he=E.select(this);l.stroke(he,x(de.calcdata.cells.line.color,de.column.specIndex,de.rowNumber)),l.fill(he,x(de.calcdata.cells.fill.color,de.column.specIndex,de.rowNumber))})}(ee);var oe=function(ue){var de=ue.selectAll("."+D.cn.cellTextHolder).data(S.repeat,function(he){return he.keyWithinBlock});return de.enter().append("g").classed(D.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),de}(Q),le=function(ue){var de=ue.selectAll("."+D.cn.cellText).data(S.repeat,function(he){return he.keyWithinBlock});return de.enter().append("text").classed(D.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){E.event.stopPropagation()}),de}(oe);(function(ue){ue.each(function(de){M.font(E.select(this),de.font)})})(le),g(le,Y,te,G),X(Q)}function g(G,Y,se,te){G.text(function(re){var Q=re.column.specIndex,ee=re.rowNumber,oe=re.value,le="string"==typeof oe,ue=le&&oe.match(/<br>/i),de=!le||ue;re.mayHaveMarkup=le&&oe.match(/[<&>]/);var he,we="string"==typeof(he=oe)&&he.match(D.latexCheck);re.latex=we;var Ae,Te,ve=we?"":x(re.calcdata.cells.prefix,Q,ee)||"",xe=we?"":x(re.calcdata.cells.suffix,Q,ee)||"",Fe=we?null:x(re.calcdata.cells.format,Q,ee)||null,Se=ve+(Fe?f(Fe)(re.value):re.value)+xe;if(re.wrappingNeeded=!re.wrapped&&!de&&!we&&(Ae=w(Se)),re.cellHeightMayIncrease=ue||we||re.mayHaveMarkup||(void 0===Ae?w(Se):Ae),re.needsConvertToTspans=re.mayHaveMarkup||re.wrappingNeeded||re.latex,re.wrappingNeeded){var ke=(" "===D.wrapSplitCharacter?Se.replace(/<a href=/gi,"<a_href="):Se).split(D.wrapSplitCharacter),pe=" "===D.wrapSplitCharacter?ke.map(function(fe){return fe.replace(/<a_href=/gi,"<a href=")}):ke;re.fragments=pe.map(function(fe){return{text:fe,width:null}}),re.fragments.push({fragment:D.wrapSpacer,width:null}),Te=pe.join(D.lineBreaker)+D.lineBreaker+D.wrapSpacer}else delete re.fragments,Te=Se;return Te}).attr("dy",function(re){return re.needsConvertToTspans?0:"0.75em"}).each(function(re){var Q=this,ee=E.select(Q);re.needsConvertToTspans?v.convertToTspans(ee,te,(re.wrappingNeeded?R:N)(se,Q,Y,te,re)):E.select(Q.parentNode).attr("transform",function(le){return i(j(le),D.cellPad)}).attr("text-anchor",function(le){return{left:"start",center:"middle",right:"end"}[le.align]})})}function w(G){return-1!==G.indexOf(D.wrapSplitCharacter)}function x(G,Y,se){if(Array.isArray(G)){var te=G[Math.min(Y,G.length-1)];return Array.isArray(te)?te[Math.min(se,te.length-1)]:te}return G}function b(G,Y,se){G.transition().ease(D.releaseTransitionEase).duration(D.releaseTransitionDuration).attr("transform",i(Y.x,se))}function A(G){return"cells"===G.type}function p(G){return"header"===G.type}function O(G){return(G.rowBlocks.length?G.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(Y,se){return Y+Z(se,1/0)},0)}function k(G,Y,se){var te=h(Y)[0];if(void 0!==te){var re=te.rowBlocks,Q=te.calcdata,ee=F(re,re.length),oe=te.calcdata.groupHeight-O(te),le=Q.scrollY=Math.max(0,Math.min(ee-oe,Q.scrollY)),ue=function(de,he,we){for(var Ae=[],Te=0,ve=0;ve<de.length;ve++){for(var xe=de[ve],Fe=xe.rows,Se=0,ke=0;ke<Fe.length;ke++)Se+=Fe[ke].rowHeight;xe.allRowsHeight=Se,he<Te+Se&&he+we>Te&&Ae.push(ve),Te+=Se}return Ae}(re,le,oe);1===ue.length&&(ue[0]===re.length-1?ue.unshift(ue[0]-1):ue.push(ue[0]+1)),ue[0]%2&&ue.reverse(),Y.each(function(de,he){de.page=ue[he],de.scrollY=le}),Y.attr("transform",function(de){var he=F(de.rowBlocks,de.page)-de.scrollY;return i(0,he)}),G&&(P(G,se,Y,ue,te.prevPages,te,0),P(G,se,Y,ue,te.prevPages,te,1),T(se,G))}}function I(G,Y,se,te){return function(re){var Q=re.calcdata?re.calcdata:re,ee=Y.filter(function(de){return Q.key===de.key}),le=Q.scrollY;Q.scrollY=void 0===te?Q.scrollY+(se||Q.scrollbarState.dragMultiplier)*E.event.dy:te;var ue=ee.selectAll("."+D.cn.yColumn).selectAll("."+D.cn.columnBlock).filter(A);return k(G,ue,ee),Q.scrollY===le}}function P(G,Y,se,te,re,Q,ee){te[ee]!==re[ee]&&(clearTimeout(Q.currentRepaint[ee]),Q.currentRepaint[ee]=setTimeout(function(){var oe=se.filter(function(le,ue){return ue===ee&&te[ue]!==re[ue]});_(G,Y,oe,se),re[ee]=te[ee]}))}function R(G,Y,se,te){return function(){var re=E.select(Y.parentNode);re.each(function(Q){var ee=Q.fragments;re.selectAll("tspan.line").each(function(Te,ve){ee[ve].width=this.getComputedTextLength()});var oe,le,ue=ee[ee.length-1].width,de=ee.slice(0,-1),he=[],we=0,Ae=Q.column.columnWidth-2*D.cellPad;for(Q.value="";de.length;)we+(le=(oe=de.shift()).width+ue)>Ae&&(Q.value+=he.join(D.wrapSpacer)+D.lineBreaker,he=[],we=0),he.push(oe.text),we+=le;we&&(Q.value+=he.join(D.wrapSpacer)),Q.wrapped=!0}),re.selectAll("tspan.line").remove(),g(re.select("."+D.cn.cellText),se,G,te),E.select(Y.parentNode.parentNode).call(X)}}function N(G,Y,se,te,re){return function(){if(!re.settledY){var Q=E.select(Y.parentNode),ee=H(re),oe=re.key-ee.firstRowIndex,le=ee.rows[oe].rowHeight,ue=re.cellHeightMayIncrease?Y.parentNode.getBoundingClientRect().height+2*D.cellPad:le,de=Math.max(ue,le);de-ee.rows[oe].rowHeight&&(ee.rows[oe].rowHeight=de,G.selectAll("."+D.cn.columnCell).call(X),k(null,G.filter(A),0),T(se,te,!0)),Q.attr("transform",function(){var we=this.parentNode.getBoundingClientRect(),Ae=E.select(this.parentNode).select("."+D.cn.cellRect).node().getBoundingClientRect(),Te=this.transform.baseVal.consolidate(),ve=Ae.top-we.top+(Te?Te.matrix.f:D.cellPad);return i(j(re,E.select(this.parentNode).select("."+D.cn.cellTextHolder).node().getBoundingClientRect().width),ve)}),re.settledY=!0}}}function j(G,Y){switch(G.align){case"left":default:return D.cellPad;case"right":return G.column.columnWidth-(Y||0)-D.cellPad;case"center":return(G.column.columnWidth-(Y||0))/2}}function X(G){G.attr("transform",function(Y){var se=Y.rowBlocks[0].auxiliaryBlocks.reduce(function(re,Q){return re+Z(Q,1/0)},0),te=Z(H(Y),Y.key);return i(0,te+se)}).selectAll("."+D.cn.cellRect).attr("height",function(Y){return(se=H(Y),te=Y.key,se.rows[te-se.firstRowIndex]).rowHeight;var se,te})}function F(G,Y){for(var se=0,te=Y-1;te>=0;te--)se+=W(G[te]);return se}function Z(G,Y){for(var se=0,te=0;te<G.rows.length&&G.rows[te].rowIndex<Y;te++)se+=G.rows[te].rowHeight;return se}function W(G){var Y=G.allRowsHeight;if(void 0!==Y)return Y;for(var se=0,te=0;te<G.rows.length;te++)se+=G.rows[te].rowHeight;return G.allRowsHeight=se,se}function H(G){return G.rowBlocks[G.page]}ae.exports=function(G,Y){var se=!G._context.staticPlot,te=G._fullLayout._paper.selectAll("."+D.cn.table).data(Y.map(function(xe){var Fe=S.unwrap(xe).trace;return a(G,Fe)}),S.keyFun);te.exit().remove(),te.enter().append("g").classed(D.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),te.attr("width",function(xe){return xe.width+xe.size.l+xe.size.r}).attr("height",function(xe){return xe.height+xe.size.t+xe.size.b}).attr("transform",function(xe){return i(xe.translateX,xe.translateY)});var re=te.selectAll("."+D.cn.tableControlView).data(S.repeat,S.keyFun),Q=re.enter().append("g").classed(D.cn.tableControlView,!0).style("box-sizing","content-box");if(se){var ee="onwheel"in document?"wheel":"mousewheel";Q.on("mousemove",function(xe){re.filter(function(Fe){return xe===Fe}).call(T,G)}).on(ee,function(xe){xe.scrollbarState.wheeling||(xe.scrollbarState.wheeling=!0,I(G,re,null,xe.scrollY+E.event.deltaY)(xe)||(E.event.stopPropagation(),E.event.preventDefault()),xe.scrollbarState.wheeling=!1)}).call(T,G,!0)}re.attr("transform",function(xe){return i(xe.size.l,xe.size.t)});var oe=re.selectAll("."+D.cn.scrollBackground).data(S.repeat,S.keyFun);oe.enter().append("rect").classed(D.cn.scrollBackground,!0).attr("fill","none"),oe.attr("width",function(xe){return xe.width}).attr("height",function(xe){return xe.height}),re.each(function(xe){M.setClipUrl(E.select(this),d(G,xe),G)});var le=re.selectAll("."+D.cn.yColumn).data(function(xe){return xe.columns},S.keyFun);le.enter().append("g").classed(D.cn.yColumn,!0),le.exit().remove(),le.attr("transform",function(xe){return i(xe.x,0)}),se&&le.call(E.behavior.drag().origin(function(xe){return b(E.select(this),xe,-D.uplift),c(this),xe.calcdata.columnDragInProgress=!0,T(re.filter(function(Fe){return xe.calcdata.key===Fe.key}),G),xe}).on("drag",function(xe){var Fe=E.select(this),Se=function(ke){return(xe===ke?E.event.x:ke.x)+ke.columnWidth/2};xe.x=Math.max(-D.overdrag,Math.min(xe.calcdata.width+D.overdrag-xe.columnWidth,E.event.x)),h(le).filter(function(ke){return ke.calcdata.key===xe.calcdata.key}).sort(function(ke,pe){return Se(ke)-Se(pe)}).forEach(function(ke,pe){ke.xIndex=pe,ke.x=xe===ke?ke.x:ke.xScale(ke)}),le.filter(function(ke){return xe!==ke}).transition().ease(D.transitionEase).duration(D.transitionDuration).attr("transform",function(ke){return i(ke.x,0)}),Fe.call(s).attr("transform",i(xe.x,-D.uplift))}).on("dragend",function(xe){var ke,pe,fe,be,Fe=E.select(this),Se=xe.calcdata;xe.x=xe.xScale(xe),xe.calcdata.columnDragInProgress=!1,b(Fe,xe,0),ke=G,pe=Se,fe=Se.columns.map(function(ke){return ke.xIndex}),be=pe.gdColumnsOriginalOrder,pe.gdColumns.sort(function(Le,Oe){return fe[be.indexOf(Le)]-fe[be.indexOf(Oe)]}),pe.columnorder=fe,ke.emit("plotly_restyle")})),le.each(function(xe){M.setClipUrl(E.select(this),m(G,xe),G)});var ue=le.selectAll("."+D.cn.columnBlock).data(o.splitToPanels,S.keyFun);ue.enter().append("g").classed(D.cn.columnBlock,!0).attr("id",function(xe){return xe.key}),ue.style("cursor",function(xe){return xe.dragHandle?"ew-resize":xe.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var de=ue.filter(p),he=ue.filter(A);se&&he.call(E.behavior.drag().origin(function(xe){return E.event.stopPropagation(),xe}).on("drag",I(G,re,-1)).on("dragend",function(){})),_(G,re,de,ue),_(G,re,he,ue);var we=re.selectAll("."+D.cn.scrollAreaClip).data(S.repeat,S.keyFun);we.enter().append("clipPath").classed(D.cn.scrollAreaClip,!0).attr("id",function(xe){return d(G,xe)});var Ae=we.selectAll("."+D.cn.scrollAreaClipRect).data(S.repeat,S.keyFun);Ae.enter().append("rect").classed(D.cn.scrollAreaClipRect,!0).attr("x",-D.overdrag).attr("y",-D.uplift).attr("fill","none"),Ae.attr("width",function(xe){return xe.width+2*D.overdrag}).attr("height",function(xe){return xe.height+D.uplift}),le.selectAll("."+D.cn.columnBoundary).data(S.repeat,S.keyFun).enter().append("g").classed(D.cn.columnBoundary,!0);var Te=le.selectAll("."+D.cn.columnBoundaryClippath).data(S.repeat,S.keyFun);Te.enter().append("clipPath").classed(D.cn.columnBoundaryClippath,!0),Te.attr("id",function(xe){return m(G,xe)});var ve=Te.selectAll("."+D.cn.columnBoundaryRect).data(S.repeat,S.keyFun);ve.enter().append("rect").classed(D.cn.columnBoundaryRect,!0).attr("fill","none"),ve.attr("width",function(xe){return xe.columnWidth+2*u(xe)}).attr("height",function(xe){return xe.calcdata.height+2*u(xe)+D.uplift}).attr("x",function(xe){return-u(xe)}).attr("y",function(xe){return-u(xe)}),k(null,he,re)}},45802:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,f=r(50693),S=r(27670).Y,M=r(34e3),v=r(57564),c=r(43473),i=r(1426).extendFlat,s=r(79952).u;ae.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:i({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:s,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},f("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:i({},M.textfont,{}),editType:"calc"},text:M.text,textinfo:v.textinfo,texttemplate:E({editType:"plot"},{keys:c.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:v.hoverinfo,hovertemplate:D({},{keys:c.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:i({},M.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:M.sort,root:v.root,domain:S({name:"treemap",trace:!0,editType:"calc"})}},78018:function(ae,B,r){"use strict";var D=r(74875);B.name="treemap",B.plot=function(E,f,S,M){D.plotBasePlot(B.name,E,f,S,M)},B.clean=function(E,f,S,M){D.cleanBasePlot(B.name,E,f,S,M)}},65039:function(ae,B,r){"use strict";var D=r(52147);B.y=function(E,f){return D.calc(E,f)},B.T=function(E){return D._runCrossTraceCalc("treemap",E)}},43473:function(ae){"use strict";ae.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(ae,B,r){"use strict";var D=r(71828),E=r(45802),f=r(7901),S=r(27670).c,M=r(90769).handleText,v=r(97313).TEXTPAD,c=r(37434).handleMarkerDefaults,i=r(21081),s=i.hasColorscale,a=i.handleDefaults;ae.exports=function(o,l,u,d){function m(A,p){return D.coerce(o,l,E,A,p)}var h=m("labels"),T=m("parents");if(h&&h.length&&T&&T.length){var _=m("values");m(_&&_.length?"branchvalues":"count"),m("level"),m("maxdepth"),"squarify"===m("tiling.packing")&&m("tiling.squarifyratio"),m("tiling.flip"),m("tiling.pad");var g=m("text");m("texttemplate"),l.texttemplate||m("textinfo",Array.isArray(g)?"text+label":"label"),m("hovertext"),m("hovertemplate");var w=m("pathbar.visible");M(o,l,d,m,"auto",{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),m("textposition");var x=-1!==l.textposition.indexOf("bottom");c(o,l,d,m),(l._hasColorscale=s(o,"marker","colors")||(o.marker||{}).coloraxis)?a(o,l,d,m,{prefix:"marker.",cLetter:"c"}):m("marker.depthfade",!(l.marker.colors||[]).length);var b=2*l.textfont.size;m("marker.pad.t",x?b/4:b),m("marker.pad.l",b/4),m("marker.pad.r",b/4),m("marker.pad.b",x?b:b/4),m("marker.cornerradius"),l._hovered={marker:{line:{width:2,color:f.contrast(d.paper_bgcolor)}}},w&&(m("pathbar.thickness",l.pathbar.textfont.size+2*v),m("pathbar.side"),m("pathbar.edgeshape")),m("sort"),m("root.color"),S(l,d,m),l._length=null}else l.visible=!1}},80694:function(ae,B,r){"use strict";var D=r(39898),E=r(2791),f=r(72597).clearMinTextSize,S=r(16688).resizeText,M=r(46650);ae.exports=function(v,c,i,s,a){var o,l,u=a.type,d=a.drawDescendants,m=v._fullLayout,h=m["_"+u+"layer"],T=!i;f(u,m),(o=h.selectAll("g.trace."+u).data(c,function(_){return _[0].trace.uid})).enter().append("g").classed("trace",!0).classed(u,!0),o.order(),!m.uniformtext.mode&&E.hasTransition(i)?(s&&(l=s()),D.transition().duration(i.duration).ease(i.easing).each("end",function(){l&&l()}).each("interrupt",function(){l&&l()}).each(function(){h.selectAll("g.trace").each(function(_){M(v,_,this,i,d)})})):(o.each(function(_){M(v,_,this,i,d)}),m.uniformtext.mode&&S(v,h.selectAll(".trace"),u)),T&&o.exit().remove()}},66209:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424),S=r(63893),M=r(37210),v=r(96362).styleOne,c=r(43473),i=r(2791),s=r(83523),a=!0;ae.exports=function(o,l,u,d,m){var h=m.barDifY,T=m.width,_=m.height,g=m.viewX,w=m.viewY,x=m.pathSlice,b=m.toMoveInsideSlice,A=m.strTransform,p=m.hasTransition,O=m.handleSlicesExit,k=m.makeUpdateSliceInterpolator,I=m.makeUpdateTextInterpolator,P={},R=o._context.staticPlot,N=o._fullLayout,j=l[0],X=j.trace,F=j.hierarchy,Z=T/X._entryDepth,W=i.listPath(u.data,"id"),H=M(F.copy(),[T,_],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(H=H.filter(function(Y){var se=W.indexOf(Y.data.id);return-1!==se&&(Y.x0=Z*se,Y.x1=Z*(se+1),Y.y0=h,Y.y1=h+_,Y.onPathbar=!0,!0)})).reverse(),(d=d.data(H,i.getPtId)).enter().append("g").classed("pathbar",!0),O(d,a,P,[T,_],x),d.order();var G=d;p&&(G=G.transition().each("end",function(){var Y=D.select(this);i.setSliceCursor(Y,o,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),G.each(function(Y){Y._x0=g(Y.x0),Y._x1=g(Y.x1),Y._y0=w(Y.y0),Y._y1=w(Y.y1),Y._hoverX=g(Y.x1-Math.min(T,_)/2),Y._hoverY=w(Y.y1-_/2);var se=D.select(this),te=E.ensureSingle(se,"path","surface",function(oe){oe.style("pointer-events",R?"none":"all")});p?te.transition().attrTween("d",function(oe){var le=k(oe,a,P,[T,_]);return function(ue){return x(le(ue))}}):te.attr("d",x),se.call(s,u,o,l,{styleOne:v,eventDataKeys:c.eventDataKeys,transitionTime:c.CLICK_TRANSITION_TIME,transitionEasing:c.CLICK_TRANSITION_EASING}).call(i.setSliceCursor,o,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:o._transitioning}),te.call(v,Y,X,o,{hovered:!1}),Y._text=(i.getPtLabel(Y)||"").split("<br>").join(" ")||"";var re=E.ensureSingle(se,"g","slicetext"),Q=E.ensureSingle(re,"text","",function(oe){oe.attr("data-notex",1)}),ee=E.ensureUniformFontSize(o,i.determineTextFont(X,Y,N.font,{onPathbar:!0}));Q.text(Y._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(f.font,ee).call(S.convertToTspans,o),Y.textBB=f.bBox(Q.node()),Y.transform=b(Y,{fontSize:ee.size,onPathbar:!0}),Y.transform.fontSize=ee.size,p?Q.transition().attrTween("transform",function(oe){var le=I(oe,a,P,[T,_]);return function(ue){return A(le(ue))}}):Q.attr("transform",A(Y))})}},52583:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424),S=r(63893),M=r(37210),v=r(96362).styleOne,c=r(43473),i=r(2791),s=r(83523),a=r(24714).formatSliceLabel,o=!1;ae.exports=function(l,u,d,m,h){var T=h.width,_=h.height,g=h.viewX,w=h.viewY,x=h.pathSlice,b=h.toMoveInsideSlice,A=h.strTransform,p=h.hasTransition,O=h.handleSlicesExit,k=h.makeUpdateSliceInterpolator,I=h.makeUpdateTextInterpolator,P=h.prevEntry,R=l._context.staticPlot,N=l._fullLayout,j=u[0].trace,X=-1!==j.textposition.indexOf("left"),F=-1!==j.textposition.indexOf("right"),Z=-1!==j.textposition.indexOf("bottom"),W=!Z&&!j.marker.pad.t||Z&&!j.marker.pad.b,H=M(d,[T,_],{packing:j.tiling.packing,squarifyratio:j.tiling.squarifyratio,flipX:j.tiling.flip.indexOf("x")>-1,flipY:j.tiling.flip.indexOf("y")>-1,pad:{inner:j.tiling.pad,top:j.marker.pad.t,left:j.marker.pad.l,right:j.marker.pad.r,bottom:j.marker.pad.b}}).descendants(),G=1/0,Y=-1/0;H.forEach(function(ee){var oe=ee.depth;oe>=j._maxDepth?(ee.x0=ee.x1=(ee.x0+ee.x1)/2,ee.y0=ee.y1=(ee.y0+ee.y1)/2):(G=Math.min(G,oe),Y=Math.max(Y,oe))}),m=m.data(H,i.getPtId),j._maxVisibleLayers=isFinite(Y)?Y-G+1:0,m.enter().append("g").classed("slice",!0),O(m,o,{},[T,_],x),m.order();var se=null;if(p&&P){var te=i.getPtId(P);m.each(function(ee){null===se&&i.getPtId(ee)===te&&(se={x0:ee.x0,x1:ee.x1,y0:ee.y0,y1:ee.y1})})}var re=function(){return se||{x0:0,x1:T,y0:0,y1:_}},Q=m;return p&&(Q=Q.transition().each("end",function(){var ee=D.select(this);i.setSliceCursor(ee,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Q.each(function(ee){var oe=i.isHeader(ee,j);ee._x0=g(ee.x0),ee._x1=g(ee.x1),ee._y0=w(ee.y0),ee._y1=w(ee.y1),ee._hoverX=g(ee.x1-j.marker.pad.r),ee._hoverY=w(Z?ee.y1-j.marker.pad.b/2:ee.y0+j.marker.pad.t/2);var le=D.select(this),ue=E.ensureSingle(le,"path","surface",function(Ae){Ae.style("pointer-events",R?"none":"all")});p?ue.transition().attrTween("d",function(Ae){var Te=k(Ae,o,re(),[T,_]);return function(ve){return x(Te(ve))}}):ue.attr("d",x),le.call(s,d,l,u,{styleOne:v,eventDataKeys:c.eventDataKeys,transitionTime:c.CLICK_TRANSITION_TIME,transitionEasing:c.CLICK_TRANSITION_EASING}).call(i.setSliceCursor,l,{isTransitioning:l._transitioning}),ue.call(v,ee,j,l,{hovered:!1}),ee._text=ee.x0===ee.x1||ee.y0===ee.y1?"":oe?W?"":i.getPtLabel(ee)||"":a(ee,d,j,u,N)||"";var de=E.ensureSingle(le,"g","slicetext"),he=E.ensureSingle(de,"text","",function(Ae){Ae.attr("data-notex",1)}),we=E.ensureUniformFontSize(l,i.determineTextFont(j,ee,N.font));he.text(ee._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":X||oe?"start":"middle").call(f.font,we).call(S.convertToTspans,l),ee.textBB=f.bBox(he.node()),ee.transform=b(ee,{fontSize:we.size,isHeader:oe}),ee.transform.fontSize=we.size,p?he.transition().attrTween("transform",function(Ae){var Te=I(Ae,o,re(),[T,_]);return function(ve){return A(Te(ve))}}):he.attr("transform",A(ee))}),se}},14102:function(ae){"use strict";ae.exports=function B(r,D,E){var f;E.swapXY&&(f=r.x0,r.x0=r.y0,r.y0=f,f=r.x1,r.x1=r.y1,r.y1=f),E.flipX&&(f=r.x0,r.x0=D[0]-r.x1,r.x1=D[0]-f),E.flipY&&(f=r.y0,r.y0=D[1]-r.y1,r.y1=D[1]-f);var S=r.children;if(S)for(var M=0;M<S.length;M++)B(S[M],D,E)}},70954:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"treemap",basePlotModule:r(78018),categories:[],animatable:!0,attributes:r(45802),layoutAttributes:r(55479),supplyDefaults:r(91174),supplyLayoutDefaults:r(77182),calc:r(65039).y,crossTraceCalc:r(65039).T,plot:r(5893),style:r(96362).style,colorbar:r(4898),meta:{}}},55479:function(ae){"use strict";ae.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(ae,B,r){"use strict";var D=r(71828),E=r(55479);ae.exports=function(f,S){function M(v,c){return D.coerce(f,S,E,v,c)}M("treemapcolorway",S.colorway),M("extendtreemapcolors")}},37210:function(ae,B,r){"use strict";var D=r(674),E=r(14102);ae.exports=function(f,S,M){var v,c=M.flipX,i=M.flipY,s="dice-slice"===M.packing,a=M.pad[i?"bottom":"top"],o=M.pad[c?"right":"left"],l=M.pad[c?"left":"right"],u=M.pad[i?"top":"bottom"];s&&(v=o,o=a,a=v,v=l,l=u,u=v);var d=D.treemap().tile(function(m,h){switch(m){case"squarify":return D.treemapSquarify.ratio(h);case"binary":return D.treemapBinary;case"dice":return D.treemapDice;case"slice":return D.treemapSlice;default:return D.treemapSliceDice}}(M.packing,M.squarifyratio)).paddingInner(M.pad.inner).paddingLeft(o).paddingRight(l).paddingTop(a).paddingBottom(u).size(s?[S[1],S[0]]:S)(f);return(s||c||i)&&E(d,S,{swapXY:s,flipX:c,flipY:i}),d}},5893:function(ae,B,r){"use strict";var D=r(80694),E=r(52583);ae.exports=function(f,S,M,v){return D(f,S,M,v,{type:"treemap",drawDescendants:E})}},46650:function(ae,B,r){"use strict";var D=r(39898),E=r(81684).sX,f=r(2791),S=r(71828),M=r(97313).TEXTPAD,v=r(17295).toMoveInsideBar,c=r(72597).recordMinTextSize,i=r(43473),s=r(66209);function a(o){return f.isHierarchyRoot(o)?"":f.getPtId(o)}ae.exports=function(o,l,u,d,m){var h=o._fullLayout,T=l[0],_=T.trace,g="icicle"===_.type,w=T.hierarchy,x=f.findEntryWithLevel(w,_.level),b=D.select(u),A=b.selectAll("g.pathbar"),p=b.selectAll("g.slice");if(!x)return A.remove(),void p.remove();var O=f.isHierarchyRoot(x),k=!h.uniformtext.mode&&f.hasTransition(d),I=f.getMaxDepth(_),P=h._size,R=_.domain,N=P.w*(R.x[1]-R.x[0]),j=P.h*(R.y[1]-R.y[0]),X=N,F=_.pathbar.thickness,Z=_.marker.line.width+i.gapWithPathbar,W=_.pathbar.visible?_.pathbar.side.indexOf("bottom")>-1?j+Z:-(F+Z):0,H={x0:X,x1:X,y0:W,y1:W+F},G=function(Ee,Be,We){var He=_.tiling.pad,Je=function(ct){return ct-He<=Be.x0},et=function(ct){return ct+He>=Be.x1},at=function(ct){return ct-He<=Be.y0},mt=function(ct){return ct+He>=Be.y1};return Ee.x0===Be.x0&&Ee.x1===Be.x1&&Ee.y0===Be.y0&&Ee.y1===Be.y1?{x0:Ee.x0,x1:Ee.x1,y0:Ee.y0,y1:Ee.y1}:{x0:Je(Ee.x0-He)?0:et(Ee.x0-He)?We[0]:Ee.x0,x1:Je(Ee.x1+He)?0:et(Ee.x1+He)?We[0]:Ee.x1,y0:at(Ee.y0-He)?0:mt(Ee.y0-He)?We[1]:Ee.y0,y1:at(Ee.y1+He)?0:mt(Ee.y1+He)?We[1]:Ee.y1}},Y=null,se={},te={},re=null,Q=function(Ee,Be){return Be?se[a(Ee)]:te[a(Ee)]};T.hasMultipleRoots&&O&&I++,_._maxDepth=I,_._backgroundColor=h.paper_bgcolor,_._entryDepth=x.data.depth,_._atRootLevel=O;var ee=-N/2+P.l+P.w*(R.x[1]+R.x[0])/2,oe=-j/2+P.t+P.h*(1-(R.y[1]+R.y[0])/2),le=function(Ee){return ee+Ee},ue=function(Ee){return oe+Ee},de=ue(0),he=le(0),we=function(Ee){return he+Ee},Ae=function(Ee){return de+Ee};function Te(Ee,Be){return Ee+","+Be}var ve=we(0),xe=function(Ee){Ee.x=Math.max(ve,Ee.x)},Fe=_.pathbar.edgeshape,Se=_[g?"tiling":"marker"].pad,ke=function(Ee){return-1!==_.textposition.indexOf(Ee)},pe=ke("top"),fe=ke("left"),be=ke("right"),Le=ke("bottom"),Oe=function(Ee,Be){var We=Ee.x0,He=Ee.x1,Je=Ee.y0,et=Ee.y1,at=Ee.textBB,mt=pe||Be.isHeader&&!Le?"start":Le?"end":"middle",ct=ke("right"),St=ke("left")||Be.onPathbar?-1:ct?1:0;if(Be.isHeader){if((We+=(g?Se:Se.l)-M)>=(He-=(g?Se:Se.r)-M)){var Dt=(We+He)/2;We=Dt,He=Dt}var Et;Le?Je<(Et=et-(g?Se:Se.b))&&Et<et&&(Je=Et):Je<(Et=Je+(g?Se:Se.t))&&Et<et&&(et=Et)}var ht=v(We,He,Je,et,at,{isHorizontal:!1,constrained:!0,angle:0,anchor:mt,leftToRight:St});return ht.fontSize=Be.fontSize,ht.targetX=le(ht.targetX),ht.targetY=ue(ht.targetY),isNaN(ht.targetX)||isNaN(ht.targetY)?{}:(We!==He&&Je!==et&&c(_.type,ht,h),{scale:ht.scale,rotate:ht.rotate,textX:ht.textX,textY:ht.textY,anchorX:ht.anchorX,anchorY:ht.anchorY,targetX:ht.targetX,targetY:ht.targetY})},De=function(Ee,Be){for(var We,He=0,Je=Ee;!We&&He<I;)He++,(Je=Je.parent)?We=Q(Je,Be):He=I;return We||{}},Ue=function(Ee,Be,We,He,Je){var et,at=Q(Ee,Be);if(at)et=at;else if(Be)et=H;else if(Y)if(Ee.parent){var mt=re||We;mt&&!Be?et=G(Ee,mt,He):S.extendFlat(et={},De(Ee,Be))}else et=S.extendFlat({},Ee),g&&("h"===Je.orientation?Je.flipX?et.x0=Ee.x1:et.x1=0:Je.flipY?et.y0=Ee.y1:et.y1=0);else et={};return E(et,{x0:Ee.x0,x1:Ee.x1,y0:Ee.y0,y1:Ee.y1})},Ge=function(Ee,Be,We,He){var ct,Dt,Et,Je=Q(Ee,Be),et={},at=(ct=Ee,Dt=We,Et=He,Be?se[a(w)]||H:ct.data.depth-x.data.depth<I?G(ct,te[_.level]||Dt,Et):{});S.extendFlat(et,{transform:Oe({x0:at.x0,x1:at.x1,y0:at.y0,y1:at.y1,textBB:Ee.textBB,_text:Ee._text},{isHeader:f.isHeader(Ee,_)})}),Je?et=Je:Ee.parent&&S.extendFlat(et,De(Ee,Be));var mt=Ee.transform;return Ee.x0!==Ee.x1&&Ee.y0!==Ee.y1&&c(_.type,mt,h),E(et,{transform:{scale:mt.scale,rotate:mt.rotate,textX:mt.textX,textY:mt.textY,anchorX:mt.anchorX,anchorY:mt.anchorY,targetX:mt.targetX,targetY:mt.targetY}})},ye=function(Ee,Be,We,He,Je){var et=He[0],at=He[1];k?Ee.exit().transition().each(function(){var mt=D.select(this);mt.select("path.surface").transition().attrTween("d",function(ct){var St=function(Dt,Et,ht,pt){var Pt,Ft=Q(Dt,Et);if(Et)Pt=H;else{var Ht=Q(x,Et);Pt=Ht?G(Dt,Ht,pt):{}}return E(Ft,Pt)}(ct,Be,0,[et,at]);return function(Dt){return Je(St(Dt))}}),mt.select("g.slicetext").attr("opacity",0)}).remove():Ee.exit().remove()},Ie=function(Ee){var Be=Ee.transform;return Ee.x0!==Ee.x1&&Ee.y0!==Ee.y1&&c(_.type,Be,h),S.getTextTransform({textX:Be.textX,textY:Be.textY,anchorX:Be.anchorX,anchorY:Be.anchorY,targetX:Be.targetX,targetY:Be.targetY,scale:Be.scale,rotate:Be.rotate})};k&&(A.each(function(Ee){se[a(Ee)]={x0:Ee.x0,x1:Ee.x1,y0:Ee.y0,y1:Ee.y1},Ee.transform&&(se[a(Ee)].transform={textX:Ee.transform.textX,textY:Ee.transform.textY,anchorX:Ee.transform.anchorX,anchorY:Ee.transform.anchorY,targetX:Ee.transform.targetX,targetY:Ee.transform.targetY,scale:Ee.transform.scale,rotate:Ee.transform.rotate})}),p.each(function(Ee){te[a(Ee)]={x0:Ee.x0,x1:Ee.x1,y0:Ee.y0,y1:Ee.y1},Ee.transform&&(te[a(Ee)].transform={textX:Ee.transform.textX,textY:Ee.transform.textY,anchorX:Ee.transform.anchorX,anchorY:Ee.transform.anchorY,targetX:Ee.transform.targetX,targetY:Ee.transform.targetY,scale:Ee.transform.scale,rotate:Ee.transform.rotate}),!Y&&f.isEntry(Ee)&&(Y=Ee)})),re=m(o,l,x,p,{width:N,height:j,viewX:le,viewY:ue,pathSlice:function(Ee){var Be=le(Ee.x0),We=le(Ee.x1),He=ue(Ee.y0),Je=ue(Ee.y1),et=We-Be,at=Je-He;if(!et||!at)return"";var ct=Math.min(_.marker.cornerradius||0,et/2,at/2);ct&&Ee.data&&Ee.data.data&&Ee.data.data.label&&(pe&&(ct=Math.min(ct,Se.t)),fe&&(ct=Math.min(ct,Se.l)),be&&(ct=Math.min(ct,Se.r)),Le&&(ct=Math.min(ct,Se.b)));var St=function(Dt,Et){return ct?"a"+Te(ct,ct)+" 0 0 1 "+Te(Dt,Et):""};return"M"+Te(Be,He+ct)+St(ct,-ct)+"L"+Te(We-ct,He)+St(ct,ct)+"L"+Te(We,Je-ct)+St(-ct,ct)+"L"+Te(Be+ct,Je)+St(-ct,-ct)+"Z"},toMoveInsideSlice:Oe,prevEntry:Y,makeUpdateSliceInterpolator:Ue,makeUpdateTextInterpolator:Ge,handleSlicesExit:ye,hasTransition:k,strTransform:Ie}),_.pathbar.visible?s(o,l,x,A,{barDifY:W,width:X,height:F,viewX:we,viewY:Ae,pathSlice:function(Ee){var Be=we(Math.max(Math.min(Ee.x0,Ee.x0),0)),We=we(Math.min(Math.max(Ee.x1,Ee.x1),X)),He=Ae(Ee.y0),Je=Ae(Ee.y1),et=F/2,at={},mt={};at.x=Be,mt.x=We,at.y=mt.y=(He+Je)/2;var ct={x:Be,y:He},St={x:We,y:He},Dt={x:We,y:Je},Et={x:Be,y:Je};return">"===Fe?(ct.x-=et,St.x-=et,Dt.x-=et,Et.x-=et):"/"===Fe?(Dt.x-=et,Et.x-=et,at.x-=et/2,mt.x-=et/2):"\\"===Fe?(ct.x-=et,St.x-=et,at.x-=et/2,mt.x-=et/2):"<"===Fe&&(at.x-=et,mt.x-=et),xe(ct),xe(Et),xe(at),xe(St),xe(Dt),xe(mt),"M"+Te(ct.x,ct.y)+"L"+Te(St.x,St.y)+"L"+Te(mt.x,mt.y)+"L"+Te(Dt.x,Dt.y)+"L"+Te(Et.x,Et.y)+"L"+Te(at.x,at.y)+"Z"},toMoveInsideSlice:Oe,makeUpdateSliceInterpolator:Ue,makeUpdateTextInterpolator:Ge,handleSlicesExit:ye,hasTransition:k,strTransform:Ie}):A.remove()}},96362:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),f=r(71828),S=r(2791),M=r(72597).resizeText,v=r(43467);function c(i,s,a,o,l){var u,d,m=(l||{}).hovered,h=s.data.data,T=h.i,_=h.color,g=S.isHierarchyRoot(s),w=1;if(m)u=a._hovered.marker.line.color,d=a._hovered.marker.line.width;else if(g&&_===a.root.color)w=100,u="rgba(0,0,0,0)",d=0;else if(u=f.castOption(a,T,"marker.line.color")||E.defaultLine,d=f.castOption(a,T,"marker.line.width")||0,!a._hasColorscale&&!s.onPathbar){var x=a.marker.depthfade;if(x){var b,A=E.combine(E.addOpacity(a._backgroundColor,.75),_);if(!0===x){var p=S.getMaxDepth(a);b=isFinite(p)?S.isLeaf(s)?0:a._maxVisibleLayers-(s.data.depth-a._entryDepth):s.data.height+1}else b=s.data.depth-a._entryDepth,a._atRootLevel||b++;if(b>0)for(var O=0;O<b;O++)_=E.combine(E.addOpacity(A,.5*O/b),_)}}i.call(v,s,a,o,_).style("stroke-width",d).call(E.stroke,u).style("opacity",w)}ae.exports={style:function(i){var s=i._fullLayout._treemaplayer.selectAll(".trace");M(i,s,"treemap"),s.each(function(a){var o=D.select(this),l=a[0].trace;o.style("opacity",l.opacity),o.selectAll("path.surface").each(function(u){D.select(this).call(c,u,l,i,{hovered:!1})})})},styleOne:c}},68875:function(ae,B,r){"use strict";var D=r(53522),E=r(1426).extendFlat,f=r(12663).axisHoverFormat;ae.exports={y:D.y,x:D.x,x0:D.x0,y0:D.y0,xhoverformat:f("x"),yhoverformat:f("y"),name:E({},D.name,{}),orientation:E({},D.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:D.fillcolor,points:E({},D.boxpoints,{}),jitter:E({},D.jitter,{}),pointpos:E({},D.pointpos,{}),width:E({},D.width,{}),marker:D.marker,text:D.text,hovertext:D.hovertext,hovertemplate:D.hovertemplate,quartilemethod:D.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:D.offsetgroup,alignmentgroup:D.alignmentgroup,selected:D.selected,unselected:D.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(48518),S=r(60168),M=r(50606).BADNUM;function v(i,s,a){var o=s.max-s.min;if(!o)return i.bandwidth?i.bandwidth:0;if(i.bandwidth)return Math.max(i.bandwidth,o/1e4);var d,l=a.length,u=D.stdev(a,l-1,s.mean);return Math.max((d=l,1.059*Math.min(u,(s.q3-s.q1)/1.349)*Math.pow(d,-.2)),o/100)}function c(i,s,a,o){var l,u=i.spanmode,d=i.span||[],h=[s.min-2*o,s.max+2*o];function T(g){var w=d[g],x="multicategory"===a.type?a.r2c(w):a.d2c(w,0,i[s.valLetter+"calendar"]);return x===M?h[g]:x}var _={type:"linear",range:l="soft"===u?h:"hard"===u?[s.min,s.max]:[T(0),T(1)]};return E.setConvert(_),_.cleanRange(),l}ae.exports=function(i,s){var a=f(i,s);if(a[0].t.empty)return a;for(var o=i._fullLayout,l=E.getFromId(i,s["h"===s.orientation?"xaxis":"yaxis"]),u=1/0,d=-1/0,m=0,h=0,T=0;T<a.length;T++){var _=a[T],g=_.pts.map(S.extractVal),w=_.bandwidth=v(s,_,g),x=_.span=c(s,_,l,w);if(_.min===_.max&&0===w)x=_.span=[_.min,_.max],_.density=[{v:1,t:x[0]}],_.bandwidth=w,m=Math.max(m,1);else{var b=x[1]-x[0],A=Math.ceil(b/(w/3)),p=b/A;if(!isFinite(p)||!isFinite(A))return D.error("Something went wrong with computing the violin span"),a[0].t.empty=!0,a;var O=S.makeKDE(_,s,g);_.density=new Array(A);for(var k=0,I=x[0];I<x[1]+p/2;k++,I+=p){var P=O(I);_.density[k]={v:P,t:I},m=Math.max(m,P)}}h=Math.max(h,g.length),u=Math.min(u,x[0]),d=Math.max(d,x[1])}var R=E.findExtremes(l,[u,d],{padded:!0});if(s._extremes[l._id]=R,s.width)a[0].t.maxKDE=m;else{var N=o._violinScaleGroupStats,j=s.scalegroup,X=N[j];X?(X.maxKDE=Math.max(X.maxKDE,m),X.maxCount=Math.max(X.maxCount,h)):N[j]={maxKDE:m,maxCount:h}}return a[0].t.labels.kde=D._(i,"kde:"),a}},86403:function(ae,B,r){"use strict";var D=r(37188).setPositionOffset,E=["v","h"];ae.exports=function(f,S){for(var M=f.calcdata,v=S.xaxis,c=S.yaxis,i=0;i<E.length;i++){for(var s=E[i],a="h"===s?c:v,o=[],l=0;l<M.length;l++){var u=M[l],m=u[0].trace;!0!==m.visible||"violin"!==m.type||u[0].t.empty||m.orientation!==s||m.xaxis!==v._id||m.yaxis!==c._id||o.push(l)}D("violin",f,o,a)}}},15899:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),f=r(36411),S=r(68875);ae.exports=function(M,v,c,i){function s(b,A){return D.coerce(M,v,S,b,A)}function a(b,A){return D.coerce2(M,v,S,b,A)}if(f.handleSampleDefaults(M,v,s,i),!1!==v.visible){s("bandwidth"),s("side"),s("width")||(s("scalegroup",v.name),s("scalemode"));var o,l=s("span");Array.isArray(l)&&(o="manual"),s("spanmode",o);var u=s("line.color",(M.marker||{}).color||c),d=s("line.width"),m=s("fillcolor",E.addOpacity(v.line.color,.5));f.handlePointsDefaults(M,v,s,{prefix:""});var h=a("box.width"),T=a("box.fillcolor",m),_=a("box.line.color",u),g=a("box.line.width",d);s("box.visible",Boolean(h||T||_||g))||(v.box={visible:!1});var w=a("meanline.color",u),x=a("meanline.width",d);s("meanline.visible",Boolean(w||x))||(v.meanline={visible:!1}),s("quartilemethod")}}},60168:function(ae,B,r){"use strict";var D=r(71828),E=function(f){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*f*f)};B.makeKDE=function(f,S,M){var v=M.length,c=E,i=f.bandwidth,s=1/(v*i);return function(a){for(var o=0,l=0;l<v;l++)o+=c((a-M[l])/i);return s*o}},B.getPositionOnKdePath=function(f,S,M){var v,c;"h"===S.orientation?(v="y",c="x"):(v="x",c="y");var i=D.findPointOnPath(f.path,M,c,{pathLength:f.pathLength}),s=f.posCenterPx,a=i[v];return[a,"both"===S.side?2*s-a:s]},B.getKdeValue=function(f,S,M){var v=f.pts.map(B.extractVal);return B.makeKDE(f,S,v)(M)/f.posDensityScale},B.extractVal=function(f){return f.v}},57634:function(ae,B,r){"use strict";var D=r(7901),E=r(71828),f=r(89298),S=r(41868),M=r(60168);ae.exports=function(v,c,i,s,a){a||(a={});var o,l,u=a.hoverLayer,d=v.cd,m=d[0].trace,h=m.hoveron,T=-1!==h.indexOf("violins"),_=-1!==h.indexOf("kde"),g=[];if(T||_){var w=S.hoverOnBoxes(v,c,i,s);if(_&&w.length>0){var x,b,A,p,O,k=v.xa,I=v.ya;"h"===m.orientation?(O=c,x="y",A=I,b="x",p=k):(O=i,x="x",A=k,b="y",p=I);var P=d[v.index];if(O>=P.span[0]&&O<=P.span[1]){var R=E.extendFlat({},v),N=p.c2p(O,!0),j=M.getKdeValue(P,m,O),X=M.getPositionOnKdePath(P,m,N),F=A._offset,Z=A._length;R[x+"0"]=X[0],R[x+"1"]=X[1],R[b+"0"]=R[b+"1"]=N,R[b+"Label"]=b+": "+f.hoverLabelText(p,O,m[b+"hoverformat"])+", "+d[0].t.labels.kde+" "+j.toFixed(3);for(var W=0,H=0;H<w.length;H++)if("med"===w[H].attr){W=H;break}R.spikeDistance=w[W].spikeDistance;var G=x+"Spike";R[G]=w[W][G],w[W].spikeDistance=void 0,w[W][G]=void 0,R.hovertemplate=!1,g.push(R),(l={})[x+"1"]=E.constrain(F+X[0],F,F+Z),l[x+"2"]=E.constrain(F+X[1],F,F+Z),l[b+"1"]=l[b+"2"]=p._offset+N}}T&&(g=g.concat(w))}-1!==h.indexOf("points")&&(o=S.hoverOnPoints(v,c,i));var Y=u.selectAll(".violinline-"+m.uid).data(l?[0]:[]);return Y.enter().append("line").classed("violinline-"+m.uid,!0).attr("stroke-width",1.5),Y.exit().remove(),Y.attr(l).call(D.stroke,v.color),"closest"===s?o?[o]:g:(o&&g.push(o),g)}},47462:function(ae,B,r){"use strict";ae.exports={attributes:r(68875),layoutAttributes:r(9228),supplyDefaults:r(15899),crossTraceDefaults:r(36411).crossTraceDefaults,supplyLayoutDefaults:r(33598),calc:r(38603),crossTraceCalc:r(86403),plot:r(28443),style:r(31847),styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(57634),selectPoints:r(24626),moduleType:"trace",name:"violin",basePlotModule:r(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(ae,B,r){"use strict";var D=r(40094),E=r(71828).extendFlat;ae.exports={violinmode:E({},D.boxmode,{}),violingap:E({},D.boxgap,{}),violingroupgap:E({},D.boxgroupgap,{})}},33598:function(ae,B,r){"use strict";var D=r(71828),E=r(9228),f=r(4199);ae.exports=function(S,M,v){f._supply(S,M,v,function(c,i){return D.coerce(S,M,E,c,i)},"violin")}},28443:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424),S=r(86047),M=r(34621),v=r(60168);ae.exports=function(c,i,s,a){var o=c._context.staticPlot,l=c._fullLayout,u=i.xaxis,d=i.yaxis;function m(h,T){var _=M(h,{xaxis:u,yaxis:d,trace:T,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return f.smoothopen(_[0],1)}E.makeTraceGroups(a,s,"trace violins").each(function(h){var T=D.select(this),_=h[0],g=_.t,w=_.trace;if(!0!==w.visible||g.empty)T.remove();else{var x=g.bPos,b=g.bdPos,A=i[g.valLetter+"axis"],p=i[g.posLetter+"axis"],O="both"===w.side,k=O||"positive"===w.side,I=O||"negative"===w.side,P=T.selectAll("path.violin").data(E.identity);P.enter().append("path").style("vector-effect",o?"none":"non-scaling-stroke").attr("class","violin"),P.exit().remove(),P.each(function(H){var G,Y,se,te,re,Q,ee,oe,le=D.select(this),ue=H.density,de=ue.length,he=p.c2l(H.pos+x,!0),we=p.l2p(he);if(w.width)G=g.maxKDE/b;else{var Ae=l._violinScaleGroupStats[w.scalegroup];G="count"===w.scalemode?Ae.maxKDE/b*(Ae.maxCount/H.pts.length):Ae.maxKDE/b}if(k){for(ee=new Array(de),re=0;re<de;re++)(oe=ee[re]={})[g.posLetter]=he+ue[re].v/G,oe[g.valLetter]=A.c2l(ue[re].t,!0);Y=m(ee,w)}if(I){for(ee=new Array(de),Q=0,re=de-1;Q<de;Q++,re--)(oe=ee[Q]={})[g.posLetter]=he-ue[re].v/G,oe[g.valLetter]=A.c2l(ue[re].t,!0);se=m(ee,w)}if(O)te=Y+"L"+se.substr(1)+"Z";else{var Te=[we,A.c2p(ue[0].t)],ve=[we,A.c2p(ue[de-1].t)];"h"===w.orientation&&(Te.reverse(),ve.reverse()),te=k?"M"+Te+"L"+Y.substr(1)+"L"+ve:"M"+ve+"L"+se.substr(1)+"L"+Te}le.attr("d",te),H.posCenterPx=we,H.posDensityScale=G*b,H.path=le.node(),H.pathLength=H.path.getTotalLength()/(O?2:1)});var R,N,j,X=w.box,F=X.width,Z=(X.line||{}).width;O?(R=b*F,N=0):k?(R=[0,b*F/2],N=Z*{x:1,y:-1}[g.posLetter]):(R=[b*F/2,0],N=Z*{x:-1,y:1}[g.posLetter]),S.plotBoxAndWhiskers(T,{pos:p,val:A},w,{bPos:x,bdPos:R,bPosPxOffset:N}),S.plotBoxMean(T,{pos:p,val:A},w,{bPos:x,bdPos:R,bPosPxOffset:N}),!w.box.visible&&w.meanline.visible&&(j=E.identity);var W=T.selectAll("path.meanline").data(j||[]);W.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",o?"none":"non-scaling-stroke"),W.exit().remove(),W.each(function(H){var G=A.c2p(H.mean,!0),Y=v.getPositionOnKdePath(H,w,G);D.select(this).attr("d","h"===w.orientation?"M"+G+","+Y[0]+"V"+Y[1]:"M"+Y[0]+","+G+"H"+Y[1])}),S.plotPoints(T,{x:u,y:d},w,g)}})}},31847:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),f=r(16296).stylePoints;ae.exports=function(S){var M=D.select(S).selectAll("g.trace.violins");M.style("opacity",function(v){return v[0].trace.opacity}),M.each(function(v){var c=v[0].trace,i=D.select(this),s=c.box||{},a=s.line||{},o=c.meanline||{},l=o.width;i.selectAll("path.violin").style("stroke-width",c.line.width+"px").call(E.stroke,c.line.color).call(E.fill,c.fillcolor),i.selectAll("path.box").style("stroke-width",a.width+"px").call(E.stroke,a.color).call(E.fill,s.fillcolor);var u={"stroke-width":l+"px","stroke-dasharray":2*l+"px,"+l+"px"};i.selectAll("path.mean").style(u).call(E.stroke,o.color),i.selectAll("path.meanline").style(u).call(E.stroke,o.color),f(i,c,S)})}},16336:function(ae,B,r){"use strict";var D=r(50693),E=r(16249),f=r(54532),S=r(9012),M=r(1426).extendFlat,v=r(30962).overrideAll,c=ae.exports=v(M({x:E.x,y:E.y,z:E.z,value:E.value,isomin:E.isomin,isomax:E.isomax,surface:E.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:E.slices,caps:E.caps,text:E.text,hovertext:E.hovertext,xhoverformat:E.xhoverformat,yhoverformat:E.yhoverformat,zhoverformat:E.zhoverformat,valuehoverformat:E.valuehoverformat,hovertemplate:E.hovertemplate},D("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:E.colorbar,opacity:E.opacity,opacityscale:f.opacityscale,lightposition:E.lightposition,lighting:E.lighting,flatshading:E.flatshading,contour:E.contour,hoverinfo:M({},S.hoverinfo),showlegend:M({},S.showlegend,{dflt:!1})}),"calc","nested");c.x.editType=c.y.editType=c.z.editType=c.value.editType="calc+clearAxisTypes",c.transforms=void 0},64809:function(ae,B,r){"use strict";var D=r(9330).gl_mesh3d,E=r(81697).parseColorScale,f=r(78614),S=r(21081).extractOpts,M=r(90060),v=r(22674).findNearestOnAxis,c=r(22674).generateIsoMeshes;function i(a,o,l){this.scene=a,this.uid=l,this.mesh=o,this.name="",this.data=null,this.showContour=!1}var s=i.prototype;s.handlePick=function(a){if(a.object===this.mesh){var o=a.data.index,u=this.data._meshY[o],d=this.data._meshZ[o],m=this.data._Ys.length,h=this.data._Zs.length,T=v(this.data._meshX[o],this.data._Xs).id,_=v(u,this.data._Ys).id,g=v(d,this.data._Zs).id,w=a.index=g+h*_+h*m*T;a.traceCoordinate=[this.data._meshX[w],this.data._meshY[w],this.data._meshZ[w],this.data._value[w]];var x=this.data.hovertext||this.data.text;return Array.isArray(x)&&void 0!==x[w]?a.textLabel=x[w]:x&&(a.textLabel=x),!0}},s.update=function(a){var o=this.scene,l=o.fullSceneLayout;function u(h,T,_,g){return T.map(function(w){return h.d2l(w,0,g)*_})}this.data=c(a);var d={positions:M(u(l.xaxis,a._meshX,o.dataScale[0],a.xcalendar),u(l.yaxis,a._meshY,o.dataScale[1],a.ycalendar),u(l.zaxis,a._meshZ,o.dataScale[2],a.zcalendar)),cells:M(a._meshI,a._meshJ,a._meshK),lightPosition:[a.lightposition.x,a.lightposition.y,a.lightposition.z],ambient:a.lighting.ambient,diffuse:a.lighting.diffuse,specular:a.lighting.specular,roughness:a.lighting.roughness,fresnel:a.lighting.fresnel,vertexNormalsEpsilon:a.lighting.vertexnormalsepsilon,faceNormalsEpsilon:a.lighting.facenormalsepsilon,opacity:a.opacity,opacityscale:a.opacityscale,contourEnable:a.contour.show,contourColor:f(a.contour.color).slice(0,3),contourWidth:a.contour.width,useFacetNormals:a.flatshading},m=S(a);d.vertexIntensity=a._meshIntensity,d.vertexIntensityBounds=[m.min,m.max],d.colormap=E(a),this.mesh.update(d)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ae.exports=function(a,o){var u=D({gl:a.glplot.gl}),d=new i(a,u,o.uid);return u._trace=d,d.update(o),a.glplot.add(u),d}},47651:function(ae,B,r){"use strict";var D=r(71828),E=r(16336),f=r(82738).supplyIsoDefaults,S=r(91831).opacityscaleDefaults;ae.exports=function(M,v,c,i){function s(a,o){return D.coerce(M,v,E,a,o)}f(M,v,c,i,s),S(M,v,i,s)}},17659:function(ae,B,r){"use strict";ae.exports={attributes:r(16336),supplyDefaults:r(47651),calc:r(56959),colorbar:{min:"cmin",max:"cmax"},plot:r(64809),moduleType:"trace",name:"volume",basePlotModule:r(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(ae,B,r){"use strict";var D=r(1486),E=r(82196).line,f=r(9012),S=r(12663).axisHoverFormat,M=r(5386).fF,v=r(5386).si,c=r(48334),i=r(1426).extendFlat,s=r(7901);function a(o){return{marker:{color:i({},D.marker.color,{arrayOk:!1,editType:"style"}),line:{color:i({},D.marker.line.color,{arrayOk:!1,editType:"style"}),width:i({},D.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}ae.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:D.x,x0:D.x0,dx:D.dx,y:D.y,y0:D.y0,dy:D.dy,xperiod:D.xperiod,yperiod:D.yperiod,xperiod0:D.xperiod0,yperiod0:D.yperiod0,xperiodalignment:D.xperiodalignment,yperiodalignment:D.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),hovertext:D.hovertext,hovertemplate:M({},{keys:c.eventDataKeys}),hoverinfo:i({},f.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:c.eventDataKeys.concat(["label"])}),text:D.text,textposition:D.textposition,insidetextanchor:D.insidetextanchor,textangle:D.textangle,textfont:D.textfont,insidetextfont:D.insidetextfont,outsidetextfont:D.outsidetextfont,constraintext:D.constraintext,cliponaxis:D.cliponaxis,orientation:D.orientation,offset:D.offset,width:D.width,increasing:a(),decreasing:a(),totals:a(),connector:{line:{color:i({},E.color,{dflt:s.defaultLine}),width:i({},E.width,{editType:"plot"}),dash:E.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:D.offsetgroup,alignmentgroup:D.alignmentgroup}},52752:function(ae,B,r){"use strict";var D=r(89298),E=r(42973),f=r(71828).mergeArray,S=r(66279),M=r(50606).BADNUM;function v(i){return"a"===i||"absolute"===i}function c(i){return"t"===i||"total"===i}ae.exports=function(i,s){var a,o,l,u,d,m,h=D.getFromId(i,s.xaxis||"x"),T=D.getFromId(i,s.yaxis||"y");"h"===s.orientation?(a=h.makeCalcdata(s,"x"),l=T.makeCalcdata(s,"y"),u=E(s,T,"y",l),d=!!s.yperiodalignment,m="y"):(a=T.makeCalcdata(s,"y"),l=h.makeCalcdata(s,"x"),u=E(s,h,"x",l),d=!!s.xperiodalignment,m="x"),o=u.vals;for(var _,g=Math.min(o.length,a.length),w=new Array(g),x=0,b=!1,A=0;A<g;A++){var p=a[A]||0,O=!1;(a[A]!==M||c(s.measure[A])||v(s.measure[A]))&&A+1<g&&(a[A+1]!==M||c(s.measure[A+1])||v(s.measure[A+1]))&&(O=!0);var k=w[A]={i:A,p:o[A],s:p,rawS:p,cNext:O};v(s.measure[A])?(x=k.s,k.isSum=!0,k.dir="totals",k.s=x):c(s.measure[A])?(k.isSum=!0,k.dir="totals",k.s=x):(k.isSum=!1,k.dir=k.rawS<0?"decreasing":"increasing",k.s=x+(_=k.s),x+=_),"totals"===k.dir&&(b=!0),d&&(w[A].orig_p=l[A],w[A][m+"End"]=u.ends[A],w[A][m+"Start"]=u.starts[A]),s.ids&&(k.id=String(s.ids[A])),k.v=(s.base||0)+x}return w.length&&(w[0].hasTotals=b),f(s.text,w,"tx"),f(s.hovertext,w,"htx"),S(w,s),w}},48334:function(ae){"use strict";ae.exports={eventDataKeys:["initial","delta","final"]}},70766:function(ae,B,r){"use strict";var D=r(11661).setGroupPositions;ae.exports=function(E,f){var S,M,v=E._fullLayout,c=E._fullData,i=E.calcdata,s=f.xaxis,a=f.yaxis,o=[],l=[],u=[];for(M=0;M<c.length;M++){var d=c[M];!0===d.visible&&d.xaxis===s._id&&d.yaxis===a._id&&"waterfall"===d.type&&(S=i[M],"h"===d.orientation?u.push(S):l.push(S),o.push(S))}var m={mode:v.waterfallmode,norm:v.waterfallnorm,gap:v.waterfallgap,groupgap:v.waterfallgroupgap};for(D(E,s,a,l,m),D(E,a,s,u,m),M=0;M<o.length;M++){S=o[M];for(var h=0;h<S.length;h++){var T=S[h];!1===T.isSum&&(T.s0+=0===h?0:S[h-1].s),h+1<S.length&&(S[h].nextP0=S[h+1].p0,S[h].nextS0=S[h+1].s0)}}}},83266:function(ae,B,r){"use strict";var D=r(71828),E=r(26125),f=r(90769).handleText,S=r(67513),M=r(73927),v=r(43037),c=r(7901),i=r(22372),s=i.INCREASING.COLOR,a=i.DECREASING.COLOR;function o(l,u,d){l(u+".marker.color",d),l(u+".marker.line.color",c.defaultLine),l(u+".marker.line.width")}ae.exports={supplyDefaults:function(l,u,d,m){function h(_,g){return D.coerce(l,u,v,_,g)}if(S(l,u,m,h)){M(l,u,m,h),h("xhoverformat"),h("yhoverformat"),h("measure"),h("orientation",u.x&&!u.y?"h":"v"),h("base"),h("offset"),h("width"),h("text"),h("hovertext"),h("hovertemplate");var T=h("textposition");f(l,u,m,h,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==u.textposition&&(h("texttemplate"),u.texttemplate||h("textinfo")),o(h,"increasing",s),o(h,"decreasing",a),o(h,"totals","#4499FF"),h("connector.visible")&&(h("connector.mode"),h("connector.line.width")&&(h("connector.line.color"),h("connector.line.dash")))}else u.visible=!1},crossTraceDefaults:function(l,u){var d,m;function h(_){return D.coerce(m._input,m,v,_)}if("group"===u.waterfallmode)for(var T=0;T<l.length;T++)d=(m=l[T])._input,E(d,m,u,h)}}},58593:function(ae){"use strict";ae.exports=function(B,r){return B.x="xVal"in r?r.xVal:r.x,B.y="yVal"in r?r.yVal:r.y,"initial"in r&&(B.initial=r.initial),"delta"in r&&(B.delta=r.delta),"final"in r&&(B.final=r.final),r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),B}},61326:function(ae,B,r){"use strict";var D=r(89298).hoverLabelText,E=r(7901).opacity,f=r(95423).hoverOnBars,S=r(22372),M=S.INCREASING.SYMBOL,v=S.DECREASING.SYMBOL;ae.exports=function(c,i,s,a,o){var R,N,j,X,l=f(c,i,s,a,o);if(l){var u=l.cd,d=u[0].trace,m="h"===d.orientation,h=m?"x":"y",T=m?c.xa:c.ya,_=u[l.index],g=_.isSum?_.b+_.s:_.rawS;l.initial=_.b+_.s-g,l.delta=g,l.final=l.initial+l.delta;var w=k(Math.abs(l.delta));l.deltaLabel=g<0?"("+w+")":w,l.finalLabel=k(l.final),l.initialLabel=k(l.initial);var x=_.hi||d.hoverinfo,b=[];if(x&&"none"!==x&&"skip"!==x){var A="all"===x,p=x.split("+"),O=function(I){return A||-1!==p.indexOf(I)};_.isSum||(!O("final")||O(m?"x":"y")||b.push(l.finalLabel),O("delta")&&b.push(g<0?l.deltaLabel+" "+v:l.deltaLabel+" "+M),O("initial")&&b.push("Initial: "+l.initialLabel))}return b.length&&(l.extraText=b.join("<br>")),l.color=(j=(R=d[_.dir].marker).line.color,X=R.line.width,E(N=R.color)?N:E(j)&&X?j:void 0),[l]}function k(I){return D(T,I,d[h+"hoverformat"])}}},19990:function(ae,B,r){"use strict";ae.exports={attributes:r(43037),layoutAttributes:r(13494),supplyDefaults:r(83266).supplyDefaults,crossTraceDefaults:r(83266).crossTraceDefaults,supplyLayoutDefaults:r(5176),calc:r(52752),crossTraceCalc:r(70766),plot:r(30436),style:r(55750).style,hoverPoints:r(61326),eventData:r(58593),selectPoints:r(81974),moduleType:"trace",name:"waterfall",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(ae){"use strict";ae.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(ae,B,r){"use strict";var D=r(71828),E=r(13494);ae.exports=function(f,S,M){var v=!1;function c(a,o){return D.coerce(f,S,E,a,o)}for(var i=0;i<M.length;i++){var s=M[i];if(s.visible&&"waterfall"===s.type){v=!0;break}}v&&(c("waterfallmode"),c("waterfallgap",.2),c("waterfallgroupgap"))}},30436:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),f=r(91424),S=r(50606).BADNUM,M=r(17295),v=r(72597).clearMinTextSize;ae.exports=function(c,i,s,a){var l,u,h,T,o=c._fullLayout;v("waterfall",o),M.plot(c,i,s,a,{mode:o.waterfallmode,norm:o.waterfallmode,gap:o.waterfallgap,groupgap:o.waterfallgroupgap}),l=c,h=(u=i).xaxis,T=u.yaxis,E.makeTraceGroups(a,s,"trace bars").each(function(_){var g=D.select(this),w=_[0].trace,x=E.ensureSingle(g,"g","lines");if(w.connector&&w.connector.visible){var b="h"===w.orientation,A=w.connector.mode,p=x.selectAll("g.line").data(E.identity);p.enter().append("g").classed("line",!0),p.exit().remove();var O=p.size();p.each(function(k,I){if(I===O-1||k.cNext){var P=(F=h,Z=T,G=[],se=(W=b)?Z:F,(H=[])[0]=(Y=W?F:Z).c2p((X=k).s0,!0),G[0]=se.c2p(X.p0,!0),H[1]=Y.c2p(X.s1,!0),G[1]=se.c2p(X.p1,!0),H[2]=Y.c2p(X.nextS0,!0),G[2]=se.c2p(X.nextP0,!0),W?[H,G]:[G,H]),R=P[0],N=P[1],j="";R[0]!==S&&N[0]!==S&&R[1]!==S&&N[1]!==S&&("spanning"===A&&!k.isSum&&I>0&&(j+=b?"M"+R[0]+","+N[1]+"V"+N[0]:"M"+R[1]+","+N[0]+"H"+R[0]),"between"!==A&&(k.isSum||I<O-1)&&(j+=b?"M"+R[1]+","+N[0]+"V"+N[1]:"M"+R[0]+","+N[1]+"H"+R[1]),R[2]!==S&&N[2]!==S&&(j+=b?"M"+R[1]+","+N[1]+"V"+N[2]:"M"+R[1]+","+N[1]+"H"+R[2])),""===j&&(j="M0,0Z"),E.ensureSingle(D.select(this),"path").attr("d",j).call(f.setClipUrl,u.layerClipId,l)}var X,F,Z,W,H,G,Y,se})}else x.remove()})}},55750:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),f=r(7901),S=r(37822).DESELECTDIM,M=r(16688),v=r(72597).resizeText,c=M.styleTextPoints;ae.exports={style:function(i,s,a){var o=a||D.select(i).selectAll("g.waterfalllayer").selectAll("g.trace");v(i,o,"waterfall"),o.style("opacity",function(l){return l[0].trace.opacity}),o.each(function(l){var u=D.select(this),d=l[0].trace;u.selectAll(".point > path").each(function(m){if(!m.isBlank){var h=d[m.dir].marker;D.select(this).call(f.fill,h.color).call(f.stroke,h.line.color).call(E.dashLine,h.line.dash,h.line.width).style("opacity",d.selectedpoints&&!m.selected?S:1)}}),c(u,d,i),u.selectAll(".lines").each(function(){var m=d.connector.line;E.lineGroupStyle(D.select(this).selectAll("path"),m.width,m.color,m.dash)})})}}},82887:function(ae,B,r){"use strict";var D=r(89298),E=r(71828),f=r(86281),S=r(79344).p,M=r(50606).BADNUM;B.moduleType="transform",B.name="aggregate";var v=B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},c=v.aggregations;function i(l,u,d,m){if(m.enabled){for(var h=m.target,T=E.nestedProperty(u,h),_=T.get(),g=function(b,A){var O=A.d2c,k=A.c2d;switch(b.func){case"count":return s;case"first":return a;case"last":return o;case"sum":return function(I,P){for(var R=0,N=0;N<P.length;N++){var j=O(I[P[N]]);j!==M&&(R+=j)}return k(R)};case"avg":return function(I,P){for(var R=0,N=0,j=0;j<P.length;j++){var X=O(I[P[j]]);X!==M&&(R+=X,N++)}return N?k(R/N):M};case"min":return function(I,P){for(var R=1/0,N=0;N<P.length;N++){var j=O(I[P[N]]);j!==M&&(R=Math.min(R,j))}return R===1/0?M:k(R)};case"max":return function(I,P){for(var R=-1/0,N=0;N<P.length;N++){var j=O(I[P[N]]);j!==M&&(R=Math.max(R,j))}return R===-1/0?M:k(R)};case"range":return function(I,P){for(var R=1/0,N=-1/0,j=0;j<P.length;j++){var X=O(I[P[j]]);X!==M&&(R=Math.min(R,X),N=Math.max(N,X))}return N===-1/0||R===1/0?M:k(N-R)};case"change":return function(I,P){var R=O(I[P[0]]),N=O(I[P[P.length-1]]);return R===M||N===M?M:k(N-R)};case"median":return function(I,P){for(var R=[],N=0;N<P.length;N++){var j=O(I[P[N]]);j!==M&&R.push(j)}if(!R.length)return M;R.sort(E.sorterAsc);var X=(R.length-1)/2;return k((R[Math.floor(X)]+R[Math.ceil(X)])/2)};case"mode":return function(I,P){for(var R={},N=0,j=M,X=0;X<P.length;X++){var F=O(I[P[X]]);if(F!==M){var Z=R[F]=(R[F]||0)+1;Z>N&&(N=Z,j=F)}}return N?k(j):M};case"rms":return function(I,P){for(var R=0,N=0,j=0;j<P.length;j++){var X=O(I[P[j]]);X!==M&&(R+=X*X,N++)}return N?k(Math.sqrt(R/N)):M};case"stddev":return function(I,P){var R,N=0,j=0,X=1,F=M;for(R=0;R<P.length&&F===M;R++)F=O(I[P[R]]);if(F===M)return M;for(;R<P.length;R++){var Z=O(I[P[R]]);if(Z!==M){var W=Z-F;N+=W,j+=W*W,X++}}var H="sample"===b.funcmode?X-1:X;return H?Math.sqrt((j-N*N/X)/H):0}}}(m,D.getDataConversions(l,u,h,_)),w=new Array(d.length),x=0;x<d.length;x++)w[x]=g(_,d[x]);T.set(w),"count"===m.func&&E.pushUnique(u._arrayAttrs,h)}}function s(l,u){return u.length}function a(l,u){return l[u[0]]}function o(l,u){return l[u[u.length-1]]}B.supplyDefaults=function(l,u){var d,m={};function h(k,I){return E.coerce(l,m,v,k,I)}if(!h("enabled"))return m;var T=f.findArrayAttributes(u),_={};for(d=0;d<T.length;d++)_[T[d]]=1;var g=h("groups");if(!Array.isArray(g)){if(!_[g])return m.enabled=!1,m;_[g]=0}var w,x=l.aggregations||[],b=m.aggregations=new Array(x.length);function A(k,I){return E.coerce(x[d],w,c,k,I)}for(d=0;d<x.length;d++){w={_index:d};var p=A("target"),O=A("func");A("enabled")&&p&&(_[p]||"count"===O&&void 0===_[p])?("stddev"===O&&A("funcmode"),_[p]=0,b[d]=w):b[d]={enabled:!1,_index:d}}for(d=0;d<T.length;d++)_[T[d]]&&b.push({target:T[d],func:c.func.dflt,enabled:!0,_index:-1});return m},B.calcTransform=function(l,u,d){if(d.enabled){var m=d.groups,h=E.getTargetArray(u,{target:m});if(h){var T,_,g,x={},b={},A=[],p=S(u.transforms,d),O=h.length;for(u._length&&(O=Math.min(O,u._length)),T=0;T<O;T++)void 0===(g=x[_=h[T]])?(x[_]=A.length,A.push([T]),b[x[_]]=p(T)):(A[g].push(T),b[x[_]]=(b[x[_]]||[]).concat(p(T)));d._indexToPoints=b;var k=d.aggregations;for(T=0;T<k.length;T++)i(l,u,A,k[T]);"string"==typeof m&&i(l,u,A,{target:m,func:"first",enabled:!0}),u._length=A.length}}}},14382:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),f=r(89298),S=r(79344).p,M=r(74808),v=M.COMPARISON_OPS,c=M.INTERVAL_OPS,i=M.SET_OPS;B.moduleType="transform",B.name="filter",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(c).concat(i),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},B.supplyDefaults=function(s){var a={};function o(d,m){return D.coerce(s,a,B.attributes,d,m)}if(o("enabled")){var l=o("target");if(D.isArrayOrTypedArray(l)&&0===l.length)return a.enabled=!1,a;o("preservegaps"),o("operation"),o("value");var u=E.getComponentMethod("calendars","handleDefaults");u(s,a,"valuecalendar",null),u(s,a,"targetcalendar",null)}return a},B.calcTransform=function(s,a,o){if(o.enabled){var l=D.getTargetArray(a,o);if(l){var u=o.target,d=l.length;a._length&&(d=Math.min(d,a._length));var m=o.targetcalendar,h=a._arrayAttrs,T=o.preservegaps;if("string"==typeof u){var _=D.nestedProperty(a,u+"calendar").get();_&&(m=_)}var g,w,x=function(P,R,N){var j=P.operation,X=P.value,F=Array.isArray(X);function Z(Y){return-1!==Y.indexOf(j)}var W,H=function(Y){return R(Y,0,P.valuecalendar)},G=function(Y){return R(Y,0,N)};switch(Z(v)?W=H(F?X[0]:X):Z(c)?W=F?[H(X[0]),H(X[1])]:[H(X),H(X)]:Z(i)&&(W=F?X.map(H):[H(X)]),j){case"=":return function(Y){return G(Y)===W};case"!=":return function(Y){return G(Y)!==W};case"<":return function(Y){return G(Y)<W};case"<=":return function(Y){return G(Y)<=W};case">":return function(Y){return G(Y)>W};case">=":return function(Y){return G(Y)>=W};case"[]":return function(Y){var se=G(Y);return se>=W[0]&&se<=W[1]};case"()":return function(Y){var se=G(Y);return se>W[0]&&se<W[1]};case"[)":return function(Y){var se=G(Y);return se>=W[0]&&se<W[1]};case"(]":return function(Y){var se=G(Y);return se>W[0]&&se<=W[1]};case"][":return function(Y){var se=G(Y);return se<=W[0]||se>=W[1]};case")(":return function(Y){var se=G(Y);return se<W[0]||se>W[1]};case"](":return function(Y){var se=G(Y);return se<=W[0]||se>W[1]};case")[":return function(Y){var se=G(Y);return se<W[0]||se>=W[1]};case"{}":return function(Y){return-1!==W.indexOf(G(Y))};case"}{":return function(Y){return-1===W.indexOf(G(Y))}}}(o,f.getDataToCoordFunc(s,a,u,l),m),b={},A={},p=0;T?(g=function(P){b[P.astr]=D.extendDeep([],P.get()),P.set(new Array(d))},w=function(P,R){var N=b[P.astr][R];P.get()[R]=N}):(g=function(P){b[P.astr]=D.extendDeep([],P.get()),P.set([])},w=function(P,R){var N=b[P.astr][R];P.get().push(N)}),I(g);for(var O=S(a.transforms,o),k=0;k<d;k++)x(l[k])?(I(w,k),A[p++]=O(k)):T&&p++;o._indexToPoints=A,a._length=p}}function I(P,R){for(var N=0;N<h.length;N++)P(D.nestedProperty(a,h[N]),R)}}},43102:function(ae,B,r){"use strict";var D=r(71828),E=r(86281),f=r(74875),S=r(79344).p;function M(v,c){var i,s,a,o,l,u,d,m,h,T,_=c.transform,g=c.transformIndex,w=v.transforms[g].groups,x=S(v.transforms,_);if(!D.isArrayOrTypedArray(w)||0===w.length)return[v];var b=D.filterUnique(w),A=new Array(b.length),p=w.length,O=E.findArrayAttributes(v),k=_.styles||[],I={};for(i=0;i<k.length;i++)I[k[i].target]=k[i].value;_.styles&&(T=D.keyedContainer(_,"styles","target","value.name"));var P={},R={};for(i=0;i<b.length;i++){P[u=b[i]]=i,R[u]=0,(d=A[i]=D.extendDeepNoArrays({},v))._group=u,d.transforms[g]._indexToPoints={};var N=null;for(T&&(N=T.get(u)),d.name=N||""===N?N:D.templateString(_.nameformat,{trace:v.name,group:u}),m=d.transforms,d.transforms=[],s=0;s<m.length;s++)d.transforms[s]=D.extendDeepNoArrays({},m[s]);for(s=0;s<O.length;s++)D.nestedProperty(d,O[s]).set([])}for(a=0;a<O.length;a++){for(o=O[a],s=0,h=[];s<b.length;s++)h[s]=D.nestedProperty(A[s],o).get();for(l=D.nestedProperty(v,o).get(),s=0;s<p;s++)h[P[w[s]]].push(l[s])}for(s=0;s<p;s++)(d=A[P[w[s]]]).transforms[g]._indexToPoints[R[w[s]]]=x(s),R[w[s]]++;for(i=0;i<b.length;i++)u=b[i],f.clearExpandedTraceDefaultColors(d=A[i]),d=D.extendDeepNoArrays(d,I[u]||{});return A}B.moduleType="transform",B.name="groupby",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},B.supplyDefaults=function(v,c,i){var s,a={};function o(h,T){return D.coerce(v,a,B.attributes,h,T)}if(!o("enabled"))return a;o("groups"),o("nameformat",i._dataLength>1?"%{group} (%{trace})":"%{group}");var l=v.styles,u=a.styles=[];if(l)for(s=0;s<l.length;s++){var d=u[s]={};D.coerce(l[s],u[s],B.attributes.styles,"target");var m=D.coerce(l[s],u[s],B.attributes.styles,"value");D.isPlainObject(m)?d.value=D.extendDeep({},m):m&&delete d.value}return a},B.transform=function(v,c){var i,s,a,o=[];for(s=0;s<v.length;s++)for(i=M(v[s],c),a=0;a<i.length;a++)o.push(i[a]);return o}},79344:function(ae,B){"use strict";B.p=function(r,D){for(var E,f,S=0;S<r.length&&(E=r[S])!==D;S++)E._indexToPoints&&!1!==E.enabled&&(f=E._indexToPoints);return f?function(v){return f[v]}:function(v){return[v]}}},32275:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),f=r(79344).p,S=r(50606).BADNUM;B.moduleType="transform",B.name="sort",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},B.supplyDefaults=function(M){var v={};function c(i,s){return D.coerce(M,v,B.attributes,i,s)}return c("enabled")&&(c("target"),c("order")),v},B.calcTransform=function(M,v,c){if(c.enabled){var i=D.getTargetArray(v,c);if(i){var s=c.target,a=i.length;v._length&&(a=Math.min(a,v._length));var o,l,u=v._arrayAttrs,d=function(w,x,b,A){var p,O=new Array(A),k=new Array(A);for(p=0;p<A;p++)O[p]={v:x[p],i:p};for(O.sort(function(I,P){switch(I.order){case"ascending":return function(R,N){var j=P(R.v),X=P(N.v);return j===S?1:X===S?-1:j-X};case"descending":return function(R,N){var j=P(R.v),X=P(N.v);return j===S?1:X===S?-1:X-j}}}(w,b)),p=0;p<A;p++)k[p]=O[p].i;return k}(c,i,E.getDataToCoordFunc(M,v,s,i),a),m=f(v.transforms,c),h={};for(o=0;o<u.length;o++){var T=D.nestedProperty(v,u[o]),_=T.get(),g=new Array(a);for(l=0;l<a;l++)g[l]=_[d[l]];T.set(g)}for(l=0;l<a;l++)h[l]=m(d[l]);c._indexToPoints=h,v._length=a}}}},11506:function(ae,B){"use strict";B.version="2.27.1"},9330:function(ae,B,r){var D,E=r(90386);D=function(){return function(){var f={7386:function(v,c,i){v.exports={alpha_shape:i(2350),convex_hull:i(5537),delaunay_triangulate:i(4419),gl_cone3d:i(1140),gl_error3d:i(3110),gl_heatmap2d:i(6386),gl_line3d:i(6086),gl_mesh3d:i(8116),gl_plot2d:i(2117),gl_plot3d:i(1059),gl_pointcloud2d:i(8271),gl_scatter3d:i(2182),gl_select_box:i(6623),gl_spikes2d:i(3050),gl_streamtube3d:i(7307),gl_surface3d:i(3754),ndarray:i(5050),ndarray_linear_interpolate:i(3581)}},2146:function(v,c,i){"use strict";function a(ye,Ie){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ee,Be){return Ee.__proto__=Be,Ee})(ye,Ie)}function o(ye){if(void 0===ye)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ye}function l(ye){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ie){return Ie.__proto__||Object.getPrototypeOf(Ie)})(ye)}function u(ye){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ie){return typeof Ie}:function(Ie){return Ie&&"function"==typeof Symbol&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie})(ye)}var d=i(3910),m=i(3187),h="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;c.lW=g,c.h2=50;var T=2147483647;function _(ye){if(ye>T)throw new RangeError('The value "'+ye+'" is invalid for option "size"');var Ie=new Uint8Array(ye);return Object.setPrototypeOf(Ie,g.prototype),Ie}function g(ye,Ie,Ee){if("number"==typeof ye){if("string"==typeof Ie)throw new TypeError('The "string" argument must be of type string. Received type number');return b(ye)}return w(ye,Ie,Ee)}function w(ye,Ie,Ee){if("string"==typeof ye)return function(He,Je){if("string"==typeof Je&&""!==Je||(Je="utf8"),!g.isEncoding(Je))throw new TypeError("Unknown encoding: "+Je);var et=0|k(He,Je),at=_(et),mt=at.write(He,Je);return mt!==et&&(at=at.slice(0,mt)),at}(ye,Ie);if(ArrayBuffer.isView(ye))return function(He){if(Le(He,Uint8Array)){var Je=new Uint8Array(He);return p(Je.buffer,Je.byteOffset,Je.byteLength)}return A(He)}(ye);if(null==ye)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(ye));if(Le(ye,ArrayBuffer)||ye&&Le(ye.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(ye,SharedArrayBuffer)||ye&&Le(ye.buffer,SharedArrayBuffer)))return p(ye,Ie,Ee);if("number"==typeof ye)throw new TypeError('The "value" argument must not be of type number. Received type number');var Be=ye.valueOf&&ye.valueOf();if(null!=Be&&Be!==ye)return g.from(Be,Ie,Ee);var We=function(He){if(g.isBuffer(He)){var Je=0|O(He.length),et=_(Je);return 0===et.length||He.copy(et,0,0,Je),et}return void 0!==He.length?"number"!=typeof He.length||Oe(He.length)?_(0):A(He):"Buffer"===He.type&&Array.isArray(He.data)?A(He.data):void 0}(ye);if(We)return We;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ye[Symbol.toPrimitive])return g.from(ye[Symbol.toPrimitive]("string"),Ie,Ee);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(ye))}function x(ye){if("number"!=typeof ye)throw new TypeError('"size" argument must be of type number');if(ye<0)throw new RangeError('The value "'+ye+'" is invalid for option "size"')}function b(ye){return x(ye),_(ye<0?0:0|O(ye))}function A(ye){for(var Ie=ye.length<0?0:0|O(ye.length),Ee=_(Ie),Be=0;Be<Ie;Be+=1)Ee[Be]=255&ye[Be];return Ee}function p(ye,Ie,Ee){if(Ie<0||ye.byteLength<Ie)throw new RangeError('"offset" is outside of buffer bounds');if(ye.byteLength<Ie+(Ee||0))throw new RangeError('"length" is outside of buffer bounds');var Be;return Be=void 0===Ie&&void 0===Ee?new Uint8Array(ye):void 0===Ee?new Uint8Array(ye,Ie):new Uint8Array(ye,Ie,Ee),Object.setPrototypeOf(Be,g.prototype),Be}function O(ye){if(ye>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return 0|ye}function k(ye,Ie){if(g.isBuffer(ye))return ye.length;if(ArrayBuffer.isView(ye)||Le(ye,ArrayBuffer))return ye.byteLength;if("string"!=typeof ye)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(ye));var Ee=ye.length,Be=arguments.length>2&&!0===arguments[2];if(!Be&&0===Ee)return 0;for(var We=!1;;)switch(Ie){case"ascii":case"latin1":case"binary":return Ee;case"utf8":case"utf-8":return pe(ye).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Ee;case"hex":return Ee>>>1;case"base64":return fe(ye).length;default:if(We)return Be?-1:pe(ye).length;Ie=(""+Ie).toLowerCase(),We=!0}}function I(ye,Ie,Ee){var Be=!1;if((void 0===Ie||Ie<0)&&(Ie=0),Ie>this.length||((void 0===Ee||Ee>this.length)&&(Ee=this.length),Ee<=0)||(Ee>>>=0)<=(Ie>>>=0))return"";for(ye||(ye="utf8");;)switch(ye){case"hex":return re(this,Ie,Ee);case"utf8":case"utf-8":return G(this,Ie,Ee);case"ascii":return se(this,Ie,Ee);case"latin1":case"binary":return te(this,Ie,Ee);case"base64":return H(this,Ie,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,Ie,Ee);default:if(Be)throw new TypeError("Unknown encoding: "+ye);ye=(ye+"").toLowerCase(),Be=!0}}function P(ye,Ie,Ee){var Be=ye[Ie];ye[Ie]=ye[Ee],ye[Ee]=Be}function R(ye,Ie,Ee,Be,We){if(0===ye.length)return-1;if("string"==typeof Ee?(Be=Ee,Ee=0):Ee>2147483647?Ee=2147483647:Ee<-2147483648&&(Ee=-2147483648),Oe(Ee=+Ee)&&(Ee=We?0:ye.length-1),Ee<0&&(Ee=ye.length+Ee),Ee>=ye.length){if(We)return-1;Ee=ye.length-1}else if(Ee<0){if(!We)return-1;Ee=0}if("string"==typeof Ie&&(Ie=g.from(Ie,Be)),g.isBuffer(Ie))return 0===Ie.length?-1:N(ye,Ie,Ee,Be,We);if("number"==typeof Ie)return Ie&=255,"function"==typeof Uint8Array.prototype.indexOf?We?Uint8Array.prototype.indexOf.call(ye,Ie,Ee):Uint8Array.prototype.lastIndexOf.call(ye,Ie,Ee):N(ye,[Ie],Ee,Be,We);throw new TypeError("val must be string, number or Buffer")}function N(ye,Ie,Ee,Be,We){var He,Je=1,et=ye.length,at=Ie.length;if(void 0!==Be&&("ucs2"===(Be=String(Be).toLowerCase())||"ucs-2"===Be||"utf16le"===Be||"utf-16le"===Be)){if(ye.length<2||Ie.length<2)return-1;Je=2,et/=2,at/=2,Ee/=2}function mt(Et,ht){return 1===Je?Et[ht]:Et.readUInt16BE(ht*Je)}if(We){var ct=-1;for(He=Ee;He<et;He++)if(mt(ye,He)===mt(Ie,-1===ct?0:He-ct)){if(-1===ct&&(ct=He),He-ct+1===at)return ct*Je}else-1!==ct&&(He-=He-ct),ct=-1}else for(Ee+at>et&&(Ee=et-at),He=Ee;He>=0;He--){for(var St=!0,Dt=0;Dt<at;Dt++)if(mt(ye,He+Dt)!==mt(Ie,Dt)){St=!1;break}if(St)return He}return-1}function j(ye,Ie,Ee,Be){Ee=Number(Ee)||0;var We=ye.length-Ee;Be?(Be=Number(Be))>We&&(Be=We):Be=We;var He,Je=Ie.length;for(Be>Je/2&&(Be=Je/2),He=0;He<Be;++He){var et=parseInt(Ie.substr(2*He,2),16);if(Oe(et))return He;ye[Ee+He]=et}return He}function X(ye,Ie,Ee,Be){return be(pe(Ie,ye.length-Ee),ye,Ee,Be)}function F(ye,Ie,Ee,Be){return be(function(We){for(var He=[],Je=0;Je<We.length;++Je)He.push(255&We.charCodeAt(Je));return He}(Ie),ye,Ee,Be)}function Z(ye,Ie,Ee,Be){return be(fe(Ie),ye,Ee,Be)}function W(ye,Ie,Ee,Be){return be(function(We,He){for(var Je,et,mt=[],ct=0;ct<We.length&&!((He-=2)<0);++ct)et=(Je=We.charCodeAt(ct))>>8,mt.push(Je%256),mt.push(et);return mt}(Ie,ye.length-Ee),ye,Ee,Be)}function H(ye,Ie,Ee){return d.fromByteArray(0===Ie&&Ee===ye.length?ye:ye.slice(Ie,Ee))}function G(ye,Ie,Ee){Ee=Math.min(ye.length,Ee);for(var Be=[],We=Ie;We<Ee;){var He=ye[We],Je=null,et=He>239?4:He>223?3:He>191?2:1;if(We+et<=Ee){var at=void 0,mt=void 0,ct=void 0,St=void 0;switch(et){case 1:He<128&&(Je=He);break;case 2:128==(192&(at=ye[We+1]))&&(St=(31&He)<<6|63&at)>127&&(Je=St);break;case 3:mt=ye[We+2],128==(192&(at=ye[We+1]))&&128==(192&mt)&&(St=(15&He)<<12|(63&at)<<6|63&mt)>2047&&(St<55296||St>57343)&&(Je=St);break;case 4:mt=ye[We+2],ct=ye[We+3],128==(192&(at=ye[We+1]))&&128==(192&mt)&&128==(192&ct)&&(St=(15&He)<<18|(63&at)<<12|(63&mt)<<6|63&ct)>65535&&St<1114112&&(Je=St)}}null===Je?(Je=65533,et=1):Je>65535&&(Be.push((Je-=65536)>>>10&1023|55296),Je=56320|1023&Je),Be.push(Je),We+=et}return function(Dt){var Et=Dt.length;if(Et<=Y)return String.fromCharCode.apply(String,Dt);for(var ht="",pt=0;pt<Et;)ht+=String.fromCharCode.apply(String,Dt.slice(pt,pt+=Y));return ht}(Be)}(g.TYPED_ARRAY_SUPPORT=function(){try{var ye=new Uint8Array(1),Ie={foo:function(){return 42}};return Object.setPrototypeOf(Ie,Uint8Array.prototype),Object.setPrototypeOf(ye,Ie),42===ye.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(ye,Ie,Ee){return w(ye,Ie,Ee)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(ye,Ie,Ee){return We=Ie,He=Ee,x(Be=ye),Be<=0?_(Be):void 0!==We?"string"==typeof He?_(Be).fill(We,He):_(Be).fill(We):_(Be);var Be,We,He},g.allocUnsafe=function(ye){return b(ye)},g.allocUnsafeSlow=function(ye){return b(ye)},g.isBuffer=function(ye){return null!=ye&&!0===ye._isBuffer&&ye!==g.prototype},g.compare=function(ye,Ie){if(Le(ye,Uint8Array)&&(ye=g.from(ye,ye.offset,ye.byteLength)),Le(Ie,Uint8Array)&&(Ie=g.from(Ie,Ie.offset,Ie.byteLength)),!g.isBuffer(ye)||!g.isBuffer(Ie))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ye===Ie)return 0;for(var Ee=ye.length,Be=Ie.length,We=0,He=Math.min(Ee,Be);We<He;++We)if(ye[We]!==Ie[We]){Ee=ye[We],Be=Ie[We];break}return Ee<Be?-1:Be<Ee?1:0},g.isEncoding=function(ye){switch(String(ye).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(ye,Ie){if(!Array.isArray(ye))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ye.length)return g.alloc(0);var Ee;if(void 0===Ie)for(Ie=0,Ee=0;Ee<ye.length;++Ee)Ie+=ye[Ee].length;var Be=g.allocUnsafe(Ie),We=0;for(Ee=0;Ee<ye.length;++Ee){var He=ye[Ee];if(Le(He,Uint8Array))We+He.length>Be.length?(g.isBuffer(He)||(He=g.from(He)),He.copy(Be,We)):Uint8Array.prototype.set.call(Be,He,We);else{if(!g.isBuffer(He))throw new TypeError('"list" argument must be an Array of Buffers');He.copy(Be,We)}We+=He.length}return Be},g.byteLength=k,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var ye=this.length;if(ye%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ie=0;Ie<ye;Ie+=2)P(this,Ie,Ie+1);return this},g.prototype.swap32=function(){var ye=this.length;if(ye%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ie=0;Ie<ye;Ie+=4)P(this,Ie,Ie+3),P(this,Ie+1,Ie+2);return this},g.prototype.swap64=function(){var ye=this.length;if(ye%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ie=0;Ie<ye;Ie+=8)P(this,Ie,Ie+7),P(this,Ie+1,Ie+6),P(this,Ie+2,Ie+5),P(this,Ie+3,Ie+4);return this},g.prototype.toString=function(){var ye=this.length;return 0===ye?"":0===arguments.length?G(this,0,ye):I.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(ye){if(!g.isBuffer(ye))throw new TypeError("Argument must be a Buffer");return this===ye||0===g.compare(this,ye)},g.prototype.inspect=function(){var ye="",Ie=c.h2;return ye=this.toString("hex",0,Ie).replace(/(.{2})/g,"$1 ").trim(),this.length>Ie&&(ye+=" ... "),"<Buffer "+ye+">"},h&&(g.prototype[h]=g.prototype.inspect),g.prototype.compare=function(ye,Ie,Ee,Be,We){if(Le(ye,Uint8Array)&&(ye=g.from(ye,ye.offset,ye.byteLength)),!g.isBuffer(ye))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(ye));if(void 0===Ie&&(Ie=0),void 0===Ee&&(Ee=ye?ye.length:0),void 0===Be&&(Be=0),void 0===We&&(We=this.length),Ie<0||Ee>ye.length||Be<0||We>this.length)throw new RangeError("out of range index");if(Be>=We&&Ie>=Ee)return 0;if(Be>=We)return-1;if(Ie>=Ee)return 1;if(this===ye)return 0;for(var He=(We>>>=0)-(Be>>>=0),Je=(Ee>>>=0)-(Ie>>>=0),et=Math.min(He,Je),at=this.slice(Be,We),mt=ye.slice(Ie,Ee),ct=0;ct<et;++ct)if(at[ct]!==mt[ct]){He=at[ct],Je=mt[ct];break}return He<Je?-1:Je<He?1:0},g.prototype.includes=function(ye,Ie,Ee){return-1!==this.indexOf(ye,Ie,Ee)},g.prototype.indexOf=function(ye,Ie,Ee){return R(this,ye,Ie,Ee,!0)},g.prototype.lastIndexOf=function(ye,Ie,Ee){return R(this,ye,Ie,Ee,!1)},g.prototype.write=function(ye,Ie,Ee,Be){if(void 0===Ie)Be="utf8",Ee=this.length,Ie=0;else if(void 0===Ee&&"string"==typeof Ie)Be=Ie,Ee=this.length,Ie=0;else{if(!isFinite(Ie))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Ie>>>=0,isFinite(Ee)?(Ee>>>=0,void 0===Be&&(Be="utf8")):(Be=Ee,Ee=void 0)}var We=this.length-Ie;if((void 0===Ee||Ee>We)&&(Ee=We),ye.length>0&&(Ee<0||Ie<0)||Ie>this.length)throw new RangeError("Attempt to write outside buffer bounds");Be||(Be="utf8");for(var He=!1;;)switch(Be){case"hex":return j(this,ye,Ie,Ee);case"utf8":case"utf-8":return X(this,ye,Ie,Ee);case"ascii":case"latin1":case"binary":return F(this,ye,Ie,Ee);case"base64":return Z(this,ye,Ie,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,ye,Ie,Ee);default:if(He)throw new TypeError("Unknown encoding: "+Be);Be=(""+Be).toLowerCase(),He=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Y=4096;function se(ye,Ie,Ee){var Be="";Ee=Math.min(ye.length,Ee);for(var We=Ie;We<Ee;++We)Be+=String.fromCharCode(127&ye[We]);return Be}function te(ye,Ie,Ee){var Be="";Ee=Math.min(ye.length,Ee);for(var We=Ie;We<Ee;++We)Be+=String.fromCharCode(ye[We]);return Be}function re(ye,Ie,Ee){var Be=ye.length;(!Ie||Ie<0)&&(Ie=0),(!Ee||Ee<0||Ee>Be)&&(Ee=Be);for(var We="",He=Ie;He<Ee;++He)We+=De[ye[He]];return We}function Q(ye,Ie,Ee){for(var Be=ye.slice(Ie,Ee),We="",He=0;He<Be.length-1;He+=2)We+=String.fromCharCode(Be[He]+256*Be[He+1]);return We}function ee(ye,Ie,Ee){if(ye%1!=0||ye<0)throw new RangeError("offset is not uint");if(ye+Ie>Ee)throw new RangeError("Trying to access beyond buffer length")}function oe(ye,Ie,Ee,Be,We,He){if(!g.isBuffer(ye))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ie>We||Ie<He)throw new RangeError('"value" argument is out of bounds');if(Ee+Be>ye.length)throw new RangeError("Index out of range")}function le(ye,Ie,Ee,Be,We){xe(Ie,Be,We,ye,Ee,7);var He=Number(Ie&BigInt(4294967295));ye[Ee++]=He,ye[Ee++]=He>>=8,ye[Ee++]=He>>=8,ye[Ee++]=He>>=8;var Je=Number(Ie>>BigInt(32)&BigInt(4294967295));return ye[Ee++]=Je,ye[Ee++]=Je>>=8,ye[Ee++]=Je>>=8,ye[Ee++]=Je>>=8,Ee}function ue(ye,Ie,Ee,Be,We){xe(Ie,Be,We,ye,Ee,7);var He=Number(Ie&BigInt(4294967295));ye[Ee+7]=He,ye[Ee+6]=He>>=8,ye[Ee+5]=He>>=8,ye[Ee+4]=He>>=8;var Je=Number(Ie>>BigInt(32)&BigInt(4294967295));return ye[Ee+3]=Je,ye[Ee+2]=Je>>=8,ye[Ee+1]=Je>>=8,ye[Ee]=Je>>=8,Ee+8}function de(ye,Ie,Ee,Be,We,He){if(Ee+Be>ye.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("Index out of range")}function he(ye,Ie,Ee,Be,We){return Ie=+Ie,Ee>>>=0,We||de(ye,0,Ee,4),m.write(ye,Ie,Ee,Be,23,4),Ee+4}function we(ye,Ie,Ee,Be,We){return Ie=+Ie,Ee>>>=0,We||de(ye,0,Ee,8),m.write(ye,Ie,Ee,Be,52,8),Ee+8}g.prototype.slice=function(ye,Ie){var Ee=this.length;(ye=~~ye)<0?(ye+=Ee)<0&&(ye=0):ye>Ee&&(ye=Ee),(Ie=void 0===Ie?Ee:~~Ie)<0?(Ie+=Ee)<0&&(Ie=0):Ie>Ee&&(Ie=Ee),Ie<ye&&(Ie=ye);var Be=this.subarray(ye,Ie);return Object.setPrototypeOf(Be,g.prototype),Be},g.prototype.readUintLE=g.prototype.readUIntLE=function(ye,Ie,Ee){ye>>>=0,Ie>>>=0,Ee||ee(ye,Ie,this.length);for(var Be=this[ye],We=1,He=0;++He<Ie&&(We*=256);)Be+=this[ye+He]*We;return Be},g.prototype.readUintBE=g.prototype.readUIntBE=function(ye,Ie,Ee){ye>>>=0,Ie>>>=0,Ee||ee(ye,Ie,this.length);for(var Be=this[ye+--Ie],We=1;Ie>0&&(We*=256);)Be+=this[ye+--Ie]*We;return Be},g.prototype.readUint8=g.prototype.readUInt8=function(ye,Ie){return ye>>>=0,Ie||ee(ye,1,this.length),this[ye]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(ye,Ie){return ye>>>=0,Ie||ee(ye,2,this.length),this[ye]|this[ye+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(ye,Ie){return ye>>>=0,Ie||ee(ye,2,this.length),this[ye]<<8|this[ye+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(ye,Ie){return ye>>>=0,Ie||ee(ye,4,this.length),(this[ye]|this[ye+1]<<8|this[ye+2]<<16)+16777216*this[ye+3]},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(ye,Ie){return ye>>>=0,Ie||ee(ye,4,this.length),16777216*this[ye]+(this[ye+1]<<16|this[ye+2]<<8|this[ye+3])},g.prototype.readBigUInt64LE=Ue(function(ye){Fe(ye>>>=0,"offset");var Ie=this[ye],Ee=this[ye+7];void 0!==Ie&&void 0!==Ee||Se(ye,this.length-8);var Be=Ie+this[++ye]*Math.pow(2,8)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,24),We=this[++ye]+this[++ye]*Math.pow(2,8)+this[++ye]*Math.pow(2,16)+Ee*Math.pow(2,24);return BigInt(Be)+(BigInt(We)<<BigInt(32))}),g.prototype.readBigUInt64BE=Ue(function(ye){Fe(ye>>>=0,"offset");var Ie=this[ye],Ee=this[ye+7];void 0!==Ie&&void 0!==Ee||Se(ye,this.length-8);var Be=Ie*Math.pow(2,24)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,8)+this[++ye],We=this[++ye]*Math.pow(2,24)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,8)+Ee;return(BigInt(Be)<<BigInt(32))+BigInt(We)}),g.prototype.readIntLE=function(ye,Ie,Ee){ye>>>=0,Ie>>>=0,Ee||ee(ye,Ie,this.length);for(var Be=this[ye],We=1,He=0;++He<Ie&&(We*=256);)Be+=this[ye+He]*We;return Be>=(We*=128)&&(Be-=Math.pow(2,8*Ie)),Be},g.prototype.readIntBE=function(ye,Ie,Ee){ye>>>=0,Ie>>>=0,Ee||ee(ye,Ie,this.length);for(var Be=Ie,We=1,He=this[ye+--Be];Be>0&&(We*=256);)He+=this[ye+--Be]*We;return He>=(We*=128)&&(He-=Math.pow(2,8*Ie)),He},g.prototype.readInt8=function(ye,Ie){return ye>>>=0,Ie||ee(ye,1,this.length),128&this[ye]?-1*(255-this[ye]+1):this[ye]},g.prototype.readInt16LE=function(ye,Ie){ye>>>=0,Ie||ee(ye,2,this.length);var Ee=this[ye]|this[ye+1]<<8;return 32768&Ee?4294901760|Ee:Ee},g.prototype.readInt16BE=function(ye,Ie){ye>>>=0,Ie||ee(ye,2,this.length);var Ee=this[ye+1]|this[ye]<<8;return 32768&Ee?4294901760|Ee:Ee},g.prototype.readInt32LE=function(ye,Ie){return ye>>>=0,Ie||ee(ye,4,this.length),this[ye]|this[ye+1]<<8|this[ye+2]<<16|this[ye+3]<<24},g.prototype.readInt32BE=function(ye,Ie){return ye>>>=0,Ie||ee(ye,4,this.length),this[ye]<<24|this[ye+1]<<16|this[ye+2]<<8|this[ye+3]},g.prototype.readBigInt64LE=Ue(function(ye){Fe(ye>>>=0,"offset");var Ie=this[ye],Ee=this[ye+7];void 0!==Ie&&void 0!==Ee||Se(ye,this.length-8);var Be=this[ye+4]+this[ye+5]*Math.pow(2,8)+this[ye+6]*Math.pow(2,16)+(Ee<<24);return(BigInt(Be)<<BigInt(32))+BigInt(Ie+this[++ye]*Math.pow(2,8)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,24))}),g.prototype.readBigInt64BE=Ue(function(ye){Fe(ye>>>=0,"offset");var Ie=this[ye],Ee=this[ye+7];void 0!==Ie&&void 0!==Ee||Se(ye,this.length-8);var Be=(Ie<<24)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,8)+this[++ye];return(BigInt(Be)<<BigInt(32))+BigInt(this[++ye]*Math.pow(2,24)+this[++ye]*Math.pow(2,16)+this[++ye]*Math.pow(2,8)+Ee)}),g.prototype.readFloatLE=function(ye,Ie){return ye>>>=0,Ie||ee(ye,4,this.length),m.read(this,ye,!0,23,4)},g.prototype.readFloatBE=function(ye,Ie){return ye>>>=0,Ie||ee(ye,4,this.length),m.read(this,ye,!1,23,4)},g.prototype.readDoubleLE=function(ye,Ie){return ye>>>=0,Ie||ee(ye,8,this.length),m.read(this,ye,!0,52,8)},g.prototype.readDoubleBE=function(ye,Ie){return ye>>>=0,Ie||ee(ye,8,this.length),m.read(this,ye,!1,52,8)},g.prototype.writeUintLE=g.prototype.writeUIntLE=function(ye,Ie,Ee,Be){ye=+ye,Ie>>>=0,Ee>>>=0,Be||oe(this,ye,Ie,Ee,Math.pow(2,8*Ee)-1,0);var We=1,He=0;for(this[Ie]=255&ye;++He<Ee&&(We*=256);)this[Ie+He]=ye/We&255;return Ie+Ee},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(ye,Ie,Ee,Be){ye=+ye,Ie>>>=0,Ee>>>=0,Be||oe(this,ye,Ie,Ee,Math.pow(2,8*Ee)-1,0);var We=Ee-1,He=1;for(this[Ie+We]=255&ye;--We>=0&&(He*=256);)this[Ie+We]=ye/He&255;return Ie+Ee},g.prototype.writeUint8=g.prototype.writeUInt8=function(ye,Ie,Ee){return ye=+ye,Ie>>>=0,Ee||oe(this,ye,Ie,1,255,0),this[Ie]=255&ye,Ie+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(ye,Ie,Ee){return ye=+ye,Ie>>>=0,Ee||oe(this,ye,Ie,2,65535,0),this[Ie]=255&ye,this[Ie+1]=ye>>>8,Ie+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(ye,Ie,Ee){return ye=+ye,Ie>>>=0,Ee||oe(this,ye,Ie,2,65535,0),this[Ie]=ye>>>8,this[Ie+1]=255&ye,Ie+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(ye,Ie,Ee){return ye=+ye,Ie>>>=0,Ee||oe(this,ye,Ie,4,4294967295,0),this[Ie+3]=ye>>>24,this[Ie+2]=ye>>>16,this[Ie+1]=ye>>>8,this[Ie]=255&ye,Ie+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(ye,Ie,Ee){return ye=+ye,Ie>>>=0,Ee||oe(this,ye,Ie,4,4294967295,0),this[Ie]=ye>>>24,this[Ie+1]=ye>>>16,this[Ie+2]=ye>>>8,this[Ie+3]=255&ye,Ie+4},g.prototype.writeBigUInt64LE=Ue(function(ye){return le(this,ye,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=Ue(function(ye){return ue(this,ye,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(ye,Ie,Ee,Be){if(ye=+ye,Ie>>>=0,!Be){var We=Math.pow(2,8*Ee-1);oe(this,ye,Ie,Ee,We-1,-We)}var He=0,Je=1,et=0;for(this[Ie]=255&ye;++He<Ee&&(Je*=256);)ye<0&&0===et&&0!==this[Ie+He-1]&&(et=1),this[Ie+He]=(ye/Je>>0)-et&255;return Ie+Ee},g.prototype.writeIntBE=function(ye,Ie,Ee,Be){if(ye=+ye,Ie>>>=0,!Be){var We=Math.pow(2,8*Ee-1);oe(this,ye,Ie,Ee,We-1,-We)}var He=Ee-1,Je=1,et=0;for(this[Ie+He]=255&ye;--He>=0&&(Je*=256);)ye<0&&0===et&&0!==this[Ie+He+1]&&(et=1),this[Ie+He]=(ye/Je>>0)-et&255;return Ie+Ee},g.prototype.writeInt8=function(ye,Ie,Ee){return ye=+ye,Ie>>>=0,Ee||oe(this,ye,Ie,1,127,-128),ye<0&&(ye=255+ye+1),this[Ie]=255&ye,Ie+1},g.prototype.writeInt16LE=function(ye,Ie,Ee){return ye=+ye,Ie>>>=0,Ee||oe(this,ye,Ie,2,32767,-32768),this[Ie]=255&ye,this[Ie+1]=ye>>>8,Ie+2},g.prototype.writeInt16BE=function(ye,Ie,Ee){return ye=+ye,Ie>>>=0,Ee||oe(this,ye,Ie,2,32767,-32768),this[Ie]=ye>>>8,this[Ie+1]=255&ye,Ie+2},g.prototype.writeInt32LE=function(ye,Ie,Ee){return ye=+ye,Ie>>>=0,Ee||oe(this,ye,Ie,4,2147483647,-2147483648),this[Ie]=255&ye,this[Ie+1]=ye>>>8,this[Ie+2]=ye>>>16,this[Ie+3]=ye>>>24,Ie+4},g.prototype.writeInt32BE=function(ye,Ie,Ee){return ye=+ye,Ie>>>=0,Ee||oe(this,ye,Ie,4,2147483647,-2147483648),ye<0&&(ye=4294967295+ye+1),this[Ie]=ye>>>24,this[Ie+1]=ye>>>16,this[Ie+2]=ye>>>8,this[Ie+3]=255&ye,Ie+4},g.prototype.writeBigInt64LE=Ue(function(ye){return le(this,ye,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=Ue(function(ye){return ue(this,ye,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeFloatLE=function(ye,Ie,Ee){return he(this,ye,Ie,!0,Ee)},g.prototype.writeFloatBE=function(ye,Ie,Ee){return he(this,ye,Ie,!1,Ee)},g.prototype.writeDoubleLE=function(ye,Ie,Ee){return we(this,ye,Ie,!0,Ee)},g.prototype.writeDoubleBE=function(ye,Ie,Ee){return we(this,ye,Ie,!1,Ee)},g.prototype.copy=function(ye,Ie,Ee,Be){if(!g.isBuffer(ye))throw new TypeError("argument should be a Buffer");if(Ee||(Ee=0),Be||0===Be||(Be=this.length),Ie>=ye.length&&(Ie=ye.length),Ie||(Ie=0),Be>0&&Be<Ee&&(Be=Ee),Be===Ee||0===ye.length||0===this.length)return 0;if(Ie<0)throw new RangeError("targetStart out of bounds");if(Ee<0||Ee>=this.length)throw new RangeError("Index out of range");if(Be<0)throw new RangeError("sourceEnd out of bounds");Be>this.length&&(Be=this.length),ye.length-Ie<Be-Ee&&(Be=ye.length-Ie+Ee);var We=Be-Ee;return this===ye&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Ie,Ee,Be):Uint8Array.prototype.set.call(ye,this.subarray(Ee,Be),Ie),We},g.prototype.fill=function(ye,Ie,Ee,Be){if("string"==typeof ye){if("string"==typeof Ie?(Be=Ie,Ie=0,Ee=this.length):"string"==typeof Ee&&(Be=Ee,Ee=this.length),void 0!==Be&&"string"!=typeof Be)throw new TypeError("encoding must be a string");if("string"==typeof Be&&!g.isEncoding(Be))throw new TypeError("Unknown encoding: "+Be);if(1===ye.length){var We=ye.charCodeAt(0);("utf8"===Be&&We<128||"latin1"===Be)&&(ye=We)}}else"number"==typeof ye?ye&=255:"boolean"==typeof ye&&(ye=Number(ye));if(Ie<0||this.length<Ie||this.length<Ee)throw new RangeError("Out of range index");if(Ee<=Ie)return this;var He;if(Ie>>>=0,Ee=void 0===Ee?this.length:Ee>>>0,ye||(ye=0),"number"==typeof ye)for(He=Ie;He<Ee;++He)this[He]=ye;else{var Je=g.isBuffer(ye)?ye:g.from(ye,Be),et=Je.length;if(0===et)throw new TypeError('The value "'+ye+'" is invalid for argument "value"');for(He=0;He<Ee-Ie;++He)this[He+Ie]=Je[He%et]}return this};var Ae={};function Te(ye,Ie,Ee){Ae[ye]=function(Be){!function(ct,St){if("function"!=typeof St&&null!==St)throw new TypeError("Super expression must either be null or a function");ct.prototype=Object.create(St&&St.prototype,{constructor:{value:ct,writable:!0,configurable:!0}}),Object.defineProperty(ct,"prototype",{writable:!1}),St&&a(ct,St)}(mt,Be);var We,He,Je,et,at=(Je=mt,et=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ct,St=l(Je);if(et){var Dt=l(this).constructor;ct=Reflect.construct(St,arguments,Dt)}else ct=St.apply(this,arguments);return function(Et,ht){if(ht&&("object"===u(ht)||"function"==typeof ht))return ht;if(void 0!==ht)throw new TypeError("Derived constructors may only return object or undefined");return o(Et)}(this,ct)});function mt(){var ct;return function(St,Dt){if(!(St instanceof Dt))throw new TypeError("Cannot call a class as a function")}(this,mt),ct=at.call(this),Object.defineProperty(o(ct),"message",{value:Ie.apply(o(ct),arguments),writable:!0,configurable:!0}),ct.name="".concat(ct.name," [").concat(ye,"]"),delete ct.name,ct}return We=mt,(He=[{key:"code",get:function(){return ye},set:function(ct){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ct,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ye,"]: ").concat(this.message)}}])&&function s(ye,Ie){for(var Ee=0;Ee<Ie.length;Ee++){var Be=Ie[Ee];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(ye,Be.key,Be)}}(We.prototype,He),Object.defineProperty(We,"prototype",{writable:!1}),mt}(Ee)}function ve(ye){for(var Ie="",Ee=ye.length,Be="-"===ye[0]?1:0;Ee>=Be+4;Ee-=3)Ie="_".concat(ye.slice(Ee-3,Ee)).concat(Ie);return"".concat(ye.slice(0,Ee)).concat(Ie)}function xe(ye,Ie,Ee,Be,We,He){if(ye>Ee||ye<Ie){var Je,et="bigint"==typeof Ie?"n":"";throw Je=He>3?0===Ie||Ie===BigInt(0)?">= 0".concat(et," and < 2").concat(et," ** ").concat(8*(He+1)).concat(et):">= -(2".concat(et," ** ").concat(8*(He+1)-1).concat(et,") and < 2 ** ")+"".concat(8*(He+1)-1).concat(et):">= ".concat(Ie).concat(et," and <= ").concat(Ee).concat(et),new Ae.ERR_OUT_OF_RANGE("value",Je,ye)}var at,mt,ct;at=Be,ct=He,Fe(mt=We,"offset"),void 0!==at[mt]&&void 0!==at[mt+ct]||Se(mt,at.length-(ct+1))}function Fe(ye,Ie){if("number"!=typeof ye)throw new Ae.ERR_INVALID_ARG_TYPE(Ie,"number",ye)}function Se(ye,Ie,Ee){throw Math.floor(ye)!==ye?(Fe(ye,Ee),new Ae.ERR_OUT_OF_RANGE(Ee||"offset","an integer",ye)):Ie<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE(Ee||"offset",">= ".concat(Ee?1:0," and <= ").concat(Ie),ye)}Te("ERR_BUFFER_OUT_OF_BOUNDS",function(ye){return ye?"".concat(ye," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Te("ERR_INVALID_ARG_TYPE",function(ye,Ie){return'The "'.concat(ye,'" argument must be of type number. Received type ').concat(u(Ie))},TypeError),Te("ERR_OUT_OF_RANGE",function(ye,Ie,Ee){var Be='The value of "'.concat(ye,'" is out of range.'),We=Ee;return Number.isInteger(Ee)&&Math.abs(Ee)>Math.pow(2,32)?We=ve(String(Ee)):"bigint"==typeof Ee&&(We=String(Ee),(Ee>Math.pow(BigInt(2),BigInt(32))||Ee<-Math.pow(BigInt(2),BigInt(32)))&&(We=ve(We)),We+="n"),Be+" It must be ".concat(Ie,". Received ").concat(We)},RangeError);var ke=/[^+/0-9A-Za-z-_]/g;function pe(ye,Ie){var Ee;Ie=Ie||1/0;for(var Be=ye.length,We=null,He=[],Je=0;Je<Be;++Je){if((Ee=ye.charCodeAt(Je))>55295&&Ee<57344){if(!We){if(Ee>56319){(Ie-=3)>-1&&He.push(239,191,189);continue}if(Je+1===Be){(Ie-=3)>-1&&He.push(239,191,189);continue}We=Ee;continue}if(Ee<56320){(Ie-=3)>-1&&He.push(239,191,189),We=Ee;continue}Ee=65536+(We-55296<<10|Ee-56320)}else We&&(Ie-=3)>-1&&He.push(239,191,189);if(We=null,Ee<128){if((Ie-=1)<0)break;He.push(Ee)}else if(Ee<2048){if((Ie-=2)<0)break;He.push(Ee>>6|192,63&Ee|128)}else if(Ee<65536){if((Ie-=3)<0)break;He.push(Ee>>12|224,Ee>>6&63|128,63&Ee|128)}else{if(!(Ee<1114112))throw new Error("Invalid code point");if((Ie-=4)<0)break;He.push(Ee>>18|240,Ee>>12&63|128,Ee>>6&63|128,63&Ee|128)}}return He}function fe(ye){return d.toByteArray(function(Ie){if((Ie=(Ie=Ie.split("=")[0]).trim().replace(ke,"")).length<2)return"";for(;Ie.length%4!=0;)Ie+="=";return Ie}(ye))}function be(ye,Ie,Ee,Be){var We;for(We=0;We<Be&&!(We+Ee>=Ie.length||We>=ye.length);++We)Ie[We+Ee]=ye[We];return We}function Le(ye,Ie){return ye instanceof Ie||null!=ye&&null!=ye.constructor&&null!=ye.constructor.name&&ye.constructor.name===Ie.name}function Oe(ye){return ye!=ye}var De=function(){for(var ye="0123456789abcdef",Ie=new Array(256),Ee=0;Ee<16;++Ee)for(var Be=16*Ee,We=0;We<16;++We)Ie[Be+We]=ye[Ee]+ye[We];return Ie}();function Ue(ye){return typeof BigInt>"u"?Ge:ye}function Ge(){throw new Error("BigInt not supported")}},2321:function(v){"use strict";v.exports=a,v.exports.isMobile=a,v.exports.default=a;var c=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/CrOS/,s=/android|ipad|playbook|silk/i;function a(o){o||(o={});var l=o.ua;if(l||typeof navigator>"u"||(l=navigator.userAgent),l&&l.headers&&"string"==typeof l.headers["user-agent"]&&(l=l.headers["user-agent"]),"string"!=typeof l)return!1;var u=c.test(l)&&!i.test(l)||!!o.tablet&&s.test(l);return!u&&o.tablet&&o.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==l.indexOf("Macintosh")&&-1!==l.indexOf("Safari")&&(u=!0),u}},3910:function(v,c){"use strict";c.byteLength=function(m){var h=u(m),_=h[1];return 3*(h[0]+_)/4-_},c.toByteArray=function(m){var h,T,k,_=u(m),g=_[0],w=_[1],x=new a(3*(g+(k=w))/4-k),b=0,A=w>0?g-4:g;for(T=0;T<A;T+=4)h=s[m.charCodeAt(T)]<<18|s[m.charCodeAt(T+1)]<<12|s[m.charCodeAt(T+2)]<<6|s[m.charCodeAt(T+3)],x[b++]=h>>16&255,x[b++]=h>>8&255,x[b++]=255&h;return 2===w&&(h=s[m.charCodeAt(T)]<<2|s[m.charCodeAt(T+1)]>>4,x[b++]=255&h),1===w&&(h=s[m.charCodeAt(T)]<<10|s[m.charCodeAt(T+1)]<<4|s[m.charCodeAt(T+2)]>>2,x[b++]=h>>8&255,x[b++]=255&h),x},c.fromByteArray=function(m){for(var h,T=m.length,_=T%3,g=[],w=16383,x=0,b=T-_;x<b;x+=w)g.push(d(m,x,x+w>b?b:x+w));return 1===_?g.push(i[(h=m[T-1])>>2]+i[h<<4&63]+"=="):2===_&&g.push(i[(h=(m[T-2]<<8)+m[T-1])>>10]+i[h>>4&63]+i[h<<2&63]+"="),g.join("")};for(var i=[],s=[],a=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0;l<64;++l)i[l]=o[l],s[o.charCodeAt(l)]=l;function u(m){var h=m.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=m.indexOf("=");return-1===T&&(T=h),[T,T===h?0:4-T%4]}function d(m,h,T){for(var g,w=[],x=h;x<T;x+=3)w.push(i[(g=(m[x]<<16&16711680)+(m[x+1]<<8&65280)+(255&m[x+2]))>>18&63]+i[g>>12&63]+i[g>>6&63]+i[63&g]);return w.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},3187:function(v,c){c.read=function(i,s,a,o,l){var u,d,m=8*l-o-1,h=(1<<m)-1,T=h>>1,_=-7,g=a?l-1:0,w=a?-1:1,x=i[s+g];for(g+=w,u=x&(1<<-_)-1,x>>=-_,_+=m;_>0;u=256*u+i[s+g],g+=w,_-=8);for(d=u&(1<<-_)-1,u>>=-_,_+=o;_>0;d=256*d+i[s+g],g+=w,_-=8);if(0===u)u=1-T;else{if(u===h)return d?NaN:1/0*(x?-1:1);d+=Math.pow(2,o),u-=T}return(x?-1:1)*d*Math.pow(2,u-o)},c.write=function(i,s,a,o,l,u){var d,m,h,T=8*u-l-1,_=(1<<T)-1,g=_>>1,w=23===l?Math.pow(2,-24)-Math.pow(2,-77):0,x=o?0:u-1,b=o?1:-1,A=s<0||0===s&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(m=isNaN(s)?1:0,d=_):(d=Math.floor(Math.log(s)/Math.LN2),s*(h=Math.pow(2,-d))<1&&(d--,h*=2),(s+=d+g>=1?w/h:w*Math.pow(2,1-g))*h>=2&&(d++,h/=2),d+g>=_?(m=0,d=_):d+g>=1?(m=(s*h-1)*Math.pow(2,l),d+=g):(m=s*Math.pow(2,g-1)*Math.pow(2,l),d=0));l>=8;i[a+x]=255&m,x+=b,m/=256,l-=8);for(d=d<<l|m,T+=l;T>0;i[a+x]=255&d,x+=b,d/=256,T-=8);i[a+x-b]|=128*A}},1152:function(v,c,i){"use strict";v.exports=function(d){var m=(d=d||{}).eye||[0,0,1],h=d.center||[0,0,0],T=d.up||[0,1,0],_=d.distanceLimits||[0,1/0],g=d.mode||"turntable",w=s(),x=a(),b=o();return w.setDistanceLimits(_[0],_[1]),w.lookAt(0,m,h,T),x.setDistanceLimits(_[0],_[1]),x.lookAt(0,m,h,T),b.setDistanceLimits(_[0],_[1]),b.lookAt(0,m,h,T),new l({turntable:w,orbit:x,matrix:b},g)};var s=i(3440),a=i(7774),o=i(9298);function l(d,m){this._controllerNames=Object.keys(d),this._controllerList=this._controllerNames.map(function(h){return d[h]}),this._mode=m,this._active=d[m],this._active||(this._mode="turntable",this._active=d.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var u=l.prototype;u.flush=function(d){for(var m=this._controllerList,h=0;h<m.length;++h)m[h].flush(d)},u.idle=function(d){for(var m=this._controllerList,h=0;h<m.length;++h)m[h].idle(d)},u.lookAt=function(d,m,h,T){for(var _=this._controllerList,g=0;g<_.length;++g)_[g].lookAt(d,m,h,T)},u.rotate=function(d,m,h,T){for(var _=this._controllerList,g=0;g<_.length;++g)_[g].rotate(d,m,h,T)},u.pan=function(d,m,h,T){for(var _=this._controllerList,g=0;g<_.length;++g)_[g].pan(d,m,h,T)},u.translate=function(d,m,h,T){for(var _=this._controllerList,g=0;g<_.length;++g)_[g].translate(d,m,h,T)},u.setMatrix=function(d,m){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].setMatrix(d,m)},u.setDistanceLimits=function(d,m){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].setDistanceLimits(d,m)},u.setDistance=function(d,m){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].setDistance(d,m)},u.recalcMatrix=function(d){this._active.recalcMatrix(d)},u.getDistance=function(d){return this._active.getDistance(d)},u.getDistanceLimits=function(d){return this._active.getDistanceLimits(d)},u.lastT=function(){return this._active.lastT()},u.setMode=function(d){if(d!==this._mode){var m=this._controllerNames.indexOf(d);if(!(m<0)){var h=this._active,T=this._controllerList[m],_=Math.max(h.lastT(),T.lastT());h.recalcMatrix(_),T.setMatrix(_,h.computedMatrix),this._active=T,this._mode=d,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},u.getMode=function(){return this._mode}},8126:function(v,c,i){"use strict";var s=typeof WeakMap>"u"?i(5346):WeakMap,a=i(5827),o=i(2944),l=new s;v.exports=function(u){var d=l.get(u),m=d&&(d._triangleBuffer.handle||d._triangleBuffer.buffer);if(!m||!u.isBuffer(m)){var h=a(u,new Float32Array([-1,-1,-1,4,4,-1]));(d=o(u,[{buffer:h,type:u.FLOAT,size:2}]))._triangleBuffer=h,l.set(u,d)}d.bind(),u.drawArrays(u.TRIANGLES,0,3),d.unbind()}},8008:function(v,c,i){var s=i(4930);v.exports=function(a,o,l){o="number"==typeof o?o:1,l=l||": ";var u=a.split(/\r?\n/),d=String(u.length+o-1).length;return u.map(function(m,h){var T=h+o,_=String(T).length;return s(T,d-_)+l+m}).join("\n")}},2153:function(v,c,i){"use strict";v.exports=function(o){var l=o.length;if(0===l)return[];if(1===l)return[0];for(var u=o[0].length,d=[o[0]],m=[0],h=1;h<l;++h)if(d.push(o[h]),a(d,u)){if(m.push(h),m.length===u+1)return m}else d.pop();return m};var s=i(417);function a(o,l){for(var u=new Array(l+1),d=0;d<o.length;++d)u[d]=o[d];for(d=0;d<=o.length;++d){for(var m=o.length;m<=l;++m){for(var h=new Array(l),T=0;T<l;++T)h[T]=Math.pow(m+1-d,T);u[m]=h}if(s.apply(void 0,u))return!0}return!1}},4653:function(v,c,i){"use strict";v.exports=function(o,l){return s(l).filter(function(u){for(var d=new Array(u.length),m=0;m<u.length;++m)d[m]=l[u[m]];return a(d)*o<1})};var s=i(4419),a=i(1778)},2350:function(v,c,i){v.exports=function(o,l){return a(s(o,l))};var s=i(4653),a=i(8691)},7896:function(v){v.exports=function(c){return atob(c)}},957:function(v,c,i){"use strict";v.exports=function(o,l){for(var u=l.length,d=new Array(u+1),m=0;m<u;++m){for(var h=new Array(u+1),T=0;T<=u;++T)h[T]=o[T][m];d[m]=h}for(d[u]=new Array(u+1),m=0;m<=u;++m)d[u][m]=1;var _=new Array(u+1);for(m=0;m<u;++m)_[m]=l[m];_[u]=1;var g=s(d,_),w=a(g[u+1]);0===w&&(w=1);var x=new Array(u+1);for(m=0;m<=u;++m)x[m]=a(g[m])/w;return x};var s=i(6606);function a(o){for(var l=0,u=0;u<o.length;++u)l+=o[u];return l}},1539:function(v,c,i){"use strict";var s=i(8524);v.exports=function(a,o){return s(a[0].mul(o[1]).add(o[0].mul(a[1])),a[1].mul(o[1]))}},8846:function(v){"use strict";v.exports=function(c,i){return c[0].mul(i[1]).cmp(i[0].mul(c[1]))}},9189:function(v,c,i){"use strict";var s=i(8524);v.exports=function(a,o){return s(a[0].mul(o[1]),a[1].mul(o[0]))}},5125:function(v,c,i){"use strict";var s=i(234),a=i(3218),o=i(5514),l=i(2813),u=i(8524),d=i(9189);v.exports=function m(h,T){if(s(h))return T?d(h,m(T)):[h[0].clone(),h[1].clone()];var _,g,w=0;if(a(h))_=h.clone();else if("string"==typeof h)_=l(h);else{if(0===h)return[o(0),o(1)];if(h===Math.floor(h))_=o(h);else{for(;h!==Math.floor(h);)h*=Math.pow(2,256),w-=256;_=o(h)}}if(s(T))_.mul(T[1]),g=T[0].clone();else if(a(T))g=T.clone();else if("string"==typeof T)g=l(T);else if(T)if(T===Math.floor(T))g=o(T);else{for(;T!==Math.floor(T);)T*=Math.pow(2,256),w+=256;g=o(T)}else g=o(1);return w>0?_=_.ushln(w):w<0&&(g=g.ushln(-w)),u(_,g)}},234:function(v,c,i){"use strict";var s=i(3218);v.exports=function(a){return Array.isArray(a)&&2===a.length&&s(a[0])&&s(a[1])}},4275:function(v,c,i){"use strict";var s=i(1928);v.exports=function(a){return a.cmp(new s(0))}},9958:function(v,c,i){"use strict";var s=i(4275);v.exports=function(a){var o=a.length,l=a.words,u=0;if(1===o)u=l[0];else if(2===o)u=l[0]+67108864*l[1];else for(var d=0;d<o;d++)u+=l[d]*Math.pow(67108864,d);return s(a)*u}},1112:function(v,c,i){"use strict";var s=i(8362),a=i(2288).countTrailingZeros;v.exports=function(o){var l=a(s.lo(o));if(l<32)return l;var u=a(s.hi(o));return u>20?52:u+32}},3218:function(v,c,i){"use strict";i(1928),v.exports=function(s){return s&&"object"==typeof s&&Boolean(s.words)}},5514:function(v,c,i){"use strict";var s=i(1928),a=i(8362);v.exports=function(o){var l=a.exponent(o);return l<52?new s(o):new s(o*Math.pow(2,52-l)).ushln(l-52)}},8524:function(v,c,i){"use strict";var s=i(5514),a=i(4275);v.exports=function(o,l){var u=a(o),d=a(l);if(0===u)return[s(0),s(1)];if(0===d)return[s(0),s(0)];d<0&&(o=o.neg(),l=l.neg());var m=o.gcd(l);return m.cmpn(1)?[o.div(m),l.div(m)]:[o,l]}},2813:function(v,c,i){"use strict";var s=i(1928);v.exports=function(a){return new s(a)}},3962:function(v,c,i){"use strict";var s=i(8524);v.exports=function(a,o){return s(a[0].mul(o[0]),a[1].mul(o[1]))}},4951:function(v,c,i){"use strict";var s=i(4275);v.exports=function(a){return s(a[0])*s(a[1])}},4354:function(v,c,i){"use strict";var s=i(8524);v.exports=function(a,o){return s(a[0].mul(o[1]).sub(a[1].mul(o[0])),a[1].mul(o[1]))}},7999:function(v,c,i){"use strict";var s=i(9958),a=i(1112);v.exports=function(o){var l=o[0],u=o[1];if(0===l.cmpn(0))return 0;var d=l.abs().divmod(u.abs()),h=s(d.div),T=d.mod,_=l.negative!==u.negative?-1:1;if(0===T.cmpn(0))return _*h;if(h){var g=a(h)+4;return _*(h+(x=s(T.ushln(g).divRound(u)))*Math.pow(2,-g))}var w=u.bitLength()-T.bitLength()+53,x=s(T.ushln(w).divRound(u));return w<1023?_*x*Math.pow(2,-w):_*(x*=Math.pow(2,-1023))*Math.pow(2,1023-w)}},5070:function(v){"use strict";function c(u,d,m,h,T){for(var _=T+1;h<=T;){var g=h+T>>>1,w=u[g];(void 0!==m?m(w,d):w-d)>=0?(_=g,T=g-1):h=g+1}return _}function i(u,d,m,h,T){for(var _=T+1;h<=T;){var g=h+T>>>1,w=u[g];(void 0!==m?m(w,d):w-d)>0?(_=g,T=g-1):h=g+1}return _}function s(u,d,m,h,T){for(var _=h-1;h<=T;){var g=h+T>>>1,w=u[g];(void 0!==m?m(w,d):w-d)<0?(_=g,h=g+1):T=g-1}return _}function a(u,d,m,h,T){for(var _=h-1;h<=T;){var g=h+T>>>1,w=u[g];(void 0!==m?m(w,d):w-d)<=0?(_=g,h=g+1):T=g-1}return _}function o(u,d,m,h,T){for(;h<=T;){var _=h+T>>>1,g=u[_],w=void 0!==m?m(g,d):g-d;if(0===w)return _;w<=0?h=_+1:T=_-1}return-1}function l(u,d,m,h,T,_){return"function"==typeof m?_(u,d,m,void 0===h?0:0|h,void 0===T?u.length-1:0|T):_(u,d,void 0,void 0===m?0:0|m,void 0===h?u.length-1:0|h)}v.exports={ge:function(u,d,m,h,T){return l(u,d,m,h,T,c)},gt:function(u,d,m,h,T){return l(u,d,m,h,T,i)},lt:function(u,d,m,h,T){return l(u,d,m,h,T,s)},le:function(u,d,m,h,T){return l(u,d,m,h,T,a)},eq:function(u,d,m,h,T){return l(u,d,m,h,T,o)}}},2288:function(v,c){"use strict";function i(a){var o=32;return(a&=-a)&&o--,65535&a&&(o-=16),16711935&a&&(o-=8),252645135&a&&(o-=4),858993459&a&&(o-=2),1431655765&a&&(o-=1),o}c.INT_BITS=32,c.INT_MAX=2147483647,c.INT_MIN=-2147483648,c.sign=function(a){return(a>0)-(a<0)},c.abs=function(a){var o=a>>31;return(a^o)-o},c.min=function(a,o){return o^(a^o)&-(a<o)},c.max=function(a,o){return a^(a^o)&-(a<o)},c.isPow2=function(a){return!(a&a-1||!a)},c.log2=function(a){var o,l;return o=(a>65535)<<4,o|=l=((a>>>=o)>255)<<3,o|=l=((a>>>=l)>15)<<2,(o|=l=((a>>>=l)>3)<<1)|(a>>>=l)>>1},c.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},c.popCount=function(a){return 16843009*((a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},c.countTrailingZeros=i,c.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,1+((a|=a>>>8)|a>>>16)},c.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},c.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var s=new Array(256);(function(a){for(var o=0;o<256;++o){var l=o,u=o,d=7;for(l>>>=1;l;l>>>=1)u<<=1,u|=1&l,--d;a[o]=u<<d&255}})(s),c.reverse=function(a){return s[255&a]<<24|s[a>>>8&255]<<16|s[a>>>16&255]<<8|s[a>>>24&255]},c.interleave2=function(a,o){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))<<1},c.deinterleave2=function(a,o){return(a=65535&((a=16711935&((a=252645135&((a=858993459&((a=a>>>o&1431655765)|a>>>1))|a>>>2))|a>>>4))|a>>>16))<<16>>16},c.interleave3=function(a,o,l){return a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2),(a|=(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<1)|(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<2},c.deinterleave3=function(a,o){return(a=1023&((a=4278190335&((a=251719695&((a=3272356035&((a=a>>>o&1227133513)|a>>>2))|a>>>4))|a>>>8))|a>>>16))<<22>>22},c.nextCombination=function(a){var o=a|a-1;return o+1|(~o&-~o)-1>>>i(a)+1}},1928:function(v,c,i){!function(s,a){"use strict";function o(F,Z){if(!F)throw new Error(Z||"Assertion failed")}function l(F,Z){F.super_=Z;var W=function(){};W.prototype=Z.prototype,F.prototype=new W,F.prototype.constructor=F}function u(F,Z,W){if(u.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,null!==F&&("le"!==Z&&"be"!==Z||(W=Z,Z=10),this._init(F||0,Z||10,W||"be"))}var d;"object"==typeof s?s.exports=u:a.BN=u,u.BN=u,u.wordSize=26;try{d=typeof window<"u"&&void 0!==window.Buffer?window.Buffer:i(6601).Buffer}catch{}function m(F,Z){var W=F.charCodeAt(Z);return W>=65&&W<=70?W-55:W>=97&&W<=102?W-87:W-48&15}function h(F,Z,W){var H=m(F,W);return W-1>=Z&&(H|=m(F,W-1)<<4),H}function T(F,Z,W,H){for(var G=0,Y=Math.min(F.length,W),se=Z;se<Y;se++){var te=F.charCodeAt(se)-48;G*=H,G+=te>=49?te-49+10:te>=17?te-17+10:te}return G}u.isBN=function(F){return F instanceof u||null!==F&&"object"==typeof F&&F.constructor.wordSize===u.wordSize&&Array.isArray(F.words)},u.max=function(F,Z){return F.cmp(Z)>0?F:Z},u.min=function(F,Z){return F.cmp(Z)<0?F:Z},u.prototype._init=function(F,Z,W){if("number"==typeof F)return this._initNumber(F,Z,W);if("object"==typeof F)return this._initArray(F,Z,W);"hex"===Z&&(Z=16),o(Z===(0|Z)&&Z>=2&&Z<=36);var H=0;"-"===(F=F.toString().replace(/\s+/g,""))[0]&&(H++,this.negative=1),H<F.length&&(16===Z?this._parseHex(F,H,W):(this._parseBase(F,Z,H),"le"===W&&this._initArray(this.toArray(),Z,W)))},u.prototype._initNumber=function(F,Z,W){F<0&&(this.negative=1,F=-F),F<67108864?(this.words=[67108863&F],this.length=1):F<4503599627370496?(this.words=[67108863&F,F/67108864&67108863],this.length=2):(o(F<9007199254740992),this.words=[67108863&F,F/67108864&67108863,1],this.length=3),"le"===W&&this._initArray(this.toArray(),Z,W)},u.prototype._initArray=function(F,Z,W){if(o("number"==typeof F.length),F.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(F.length/3),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var G,Y,se=0;if("be"===W)for(H=F.length-1,G=0;H>=0;H-=3)this.words[G]|=(Y=F[H]|F[H-1]<<8|F[H-2]<<16)<<se&67108863,this.words[G+1]=Y>>>26-se&67108863,(se+=24)>=26&&(se-=26,G++);else if("le"===W)for(H=0,G=0;H<F.length;H+=3)this.words[G]|=(Y=F[H]|F[H+1]<<8|F[H+2]<<16)<<se&67108863,this.words[G+1]=Y>>>26-se&67108863,(se+=24)>=26&&(se-=26,G++);return this.strip()},u.prototype._parseHex=function(F,Z,W){this.length=Math.ceil((F.length-Z)/6),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var G,Y=0,se=0;if("be"===W)for(H=F.length-1;H>=Z;H-=2)G=h(F,Z,H)<<Y,this.words[se]|=67108863&G,Y>=18?(Y-=18,this.words[se+=1]|=G>>>26):Y+=8;else for(H=(F.length-Z)%2==0?Z+1:Z;H<F.length;H+=2)G=h(F,Z,H)<<Y,this.words[se]|=67108863&G,Y>=18?(Y-=18,this.words[se+=1]|=G>>>26):Y+=8;this.strip()},u.prototype._parseBase=function(F,Z,W){this.words=[0],this.length=1;for(var H=0,G=1;G<=67108863;G*=Z)H++;H--,G=G/Z|0;for(var Y=F.length-W,se=Y%H,te=Math.min(Y,Y-se)+W,re=0,Q=W;Q<te;Q+=H)re=T(F,Q,Q+H,Z),this.imuln(G),this.words[0]+re<67108864?this.words[0]+=re:this._iaddn(re);if(0!==se){var ee=1;for(re=T(F,Q,F.length,Z),Q=0;Q<se;Q++)ee*=Z;this.imuln(ee),this.words[0]+re<67108864?this.words[0]+=re:this._iaddn(re)}this.strip()},u.prototype.copy=function(F){F.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)F.words[Z]=this.words[Z];F.length=this.length,F.negative=this.negative,F.red=this.red},u.prototype.clone=function(){var F=new u(null);return this.copy(F),F},u.prototype._expand=function(F){for(;this.length<F;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},u.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function x(F,Z,W){W.negative=Z.negative^F.negative;var H=F.length+Z.length|0;W.length=H,H=H-1|0;var G=0|F.words[0],Y=0|Z.words[0],se=G*Y,re=se/67108864|0;W.words[0]=67108863&se;for(var Q=1;Q<H;Q++){for(var ee=re>>>26,oe=67108863&re,le=Math.min(Q,Z.length-1),ue=Math.max(0,Q-F.length+1);ue<=le;ue++)ee+=(se=(G=0|F.words[Q-ue|0])*(Y=0|Z.words[ue])+oe)/67108864|0,oe=67108863&se;W.words[Q]=0|oe,re=0|ee}return 0!==re?W.words[Q]=0|re:W.length--,W.strip()}u.prototype.toString=function(F,Z){var W;if(Z=0|Z||1,16===(F=F||10)||"hex"===F){W="";for(var H=0,G=0,Y=0;Y<this.length;Y++){var se=this.words[Y],te=(16777215&(se<<H|G)).toString(16);W=0!=(G=se>>>24-H&16777215)||Y!==this.length-1?_[6-te.length]+te+W:te+W,(H+=2)>=26&&(H-=26,Y--)}for(0!==G&&(W=G.toString(16)+W);W.length%Z!=0;)W="0"+W;return 0!==this.negative&&(W="-"+W),W}if(F===(0|F)&&F>=2&&F<=36){var re=g[F],Q=w[F];W="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var oe=ee.modn(Q).toString(F);W=(ee=ee.idivn(Q)).isZero()?oe+W:_[re-oe.length]+oe+W}for(this.isZero()&&(W="0"+W);W.length%Z!=0;)W="0"+W;return 0!==this.negative&&(W="-"+W),W}o(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var F=this.words[0];return 2===this.length?F+=67108864*this.words[1]:3===this.length&&1===this.words[2]?F+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-F:F},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(F,Z){return o(void 0!==d),this.toArrayLike(d,F,Z)},u.prototype.toArray=function(F,Z){return this.toArrayLike(Array,F,Z)},u.prototype.toArrayLike=function(F,Z,W){var H=this.byteLength(),G=W||Math.max(1,H);o(H<=G,"byte array longer than desired length"),o(G>0,"Requested array length <= 0"),this.strip();var Y,se,te="le"===Z,re=new F(G),Q=this.clone();if(te){for(se=0;!Q.isZero();se++)Y=Q.andln(255),Q.iushrn(8),re[se]=Y;for(;se<G;se++)re[se]=0}else{for(se=0;se<G-H;se++)re[se]=0;for(se=0;!Q.isZero();se++)Y=Q.andln(255),Q.iushrn(8),re[G-se-1]=Y}return re},u.prototype._countBits=Math.clz32?function(F){return 32-Math.clz32(F)}:function(F){var Z=F,W=0;return Z>=4096&&(W+=13,Z>>>=13),Z>=64&&(W+=7,Z>>>=7),Z>=8&&(W+=4,Z>>>=4),Z>=2&&(W+=2,Z>>>=2),W+Z},u.prototype._zeroBits=function(F){if(0===F)return 26;var Z=F,W=0;return!(8191&Z)&&(W+=13,Z>>>=13),!(127&Z)&&(W+=7,Z>>>=7),!(15&Z)&&(W+=4,Z>>>=4),!(3&Z)&&(W+=2,Z>>>=2),!(1&Z)&&W++,W},u.prototype.bitLength=function(){var Z=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+Z},u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var F=0,Z=0;Z<this.length;Z++){var W=this._zeroBits(this.words[Z]);if(F+=W,26!==W)break}return F},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(F){return 0!==this.negative?this.abs().inotn(F).iaddn(1):this.clone()},u.prototype.fromTwos=function(F){return this.testn(F-1)?this.notn(F).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return 0!==this.negative},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(F){for(;this.length<F.length;)this.words[this.length++]=0;for(var Z=0;Z<F.length;Z++)this.words[Z]=this.words[Z]|F.words[Z];return this.strip()},u.prototype.ior=function(F){return o(0==(this.negative|F.negative)),this.iuor(F)},u.prototype.or=function(F){return this.length>F.length?this.clone().ior(F):F.clone().ior(this)},u.prototype.uor=function(F){return this.length>F.length?this.clone().iuor(F):F.clone().iuor(this)},u.prototype.iuand=function(F){var Z;Z=this.length>F.length?F:this;for(var W=0;W<Z.length;W++)this.words[W]=this.words[W]&F.words[W];return this.length=Z.length,this.strip()},u.prototype.iand=function(F){return o(0==(this.negative|F.negative)),this.iuand(F)},u.prototype.and=function(F){return this.length>F.length?this.clone().iand(F):F.clone().iand(this)},u.prototype.uand=function(F){return this.length>F.length?this.clone().iuand(F):F.clone().iuand(this)},u.prototype.iuxor=function(F){var Z,W;this.length>F.length?(Z=this,W=F):(Z=F,W=this);for(var H=0;H<W.length;H++)this.words[H]=Z.words[H]^W.words[H];if(this!==Z)for(;H<Z.length;H++)this.words[H]=Z.words[H];return this.length=Z.length,this.strip()},u.prototype.ixor=function(F){return o(0==(this.negative|F.negative)),this.iuxor(F)},u.prototype.xor=function(F){return this.length>F.length?this.clone().ixor(F):F.clone().ixor(this)},u.prototype.uxor=function(F){return this.length>F.length?this.clone().iuxor(F):F.clone().iuxor(this)},u.prototype.inotn=function(F){o("number"==typeof F&&F>=0);var Z=0|Math.ceil(F/26),W=F%26;this._expand(Z),W>0&&Z--;for(var H=0;H<Z;H++)this.words[H]=67108863&~this.words[H];return W>0&&(this.words[H]=~this.words[H]&67108863>>26-W),this.strip()},u.prototype.notn=function(F){return this.clone().inotn(F)},u.prototype.setn=function(F,Z){o("number"==typeof F&&F>=0);var W=F/26|0,H=F%26;return this._expand(W+1),this.words[W]=Z?this.words[W]|1<<H:this.words[W]&~(1<<H),this.strip()},u.prototype.iadd=function(F){var Z,W,H;if(0!==this.negative&&0===F.negative)return this.negative=0,Z=this.isub(F),this.negative^=1,this._normSign();if(0===this.negative&&0!==F.negative)return F.negative=0,Z=this.isub(F),F.negative=1,Z._normSign();this.length>F.length?(W=this,H=F):(W=F,H=this);for(var G=0,Y=0;Y<H.length;Y++)this.words[Y]=67108863&(Z=(0|W.words[Y])+(0|H.words[Y])+G),G=Z>>>26;for(;0!==G&&Y<W.length;Y++)this.words[Y]=67108863&(Z=(0|W.words[Y])+G),G=Z>>>26;if(this.length=W.length,0!==G)this.words[this.length]=G,this.length++;else if(W!==this)for(;Y<W.length;Y++)this.words[Y]=W.words[Y];return this},u.prototype.add=function(F){var Z;return 0!==F.negative&&0===this.negative?(F.negative=0,Z=this.sub(F),F.negative^=1,Z):0===F.negative&&0!==this.negative?(this.negative=0,Z=F.sub(this),this.negative=1,Z):this.length>F.length?this.clone().iadd(F):F.clone().iadd(this)},u.prototype.isub=function(F){if(0!==F.negative){F.negative=0;var Z=this.iadd(F);return F.negative=1,Z._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(F),this.negative=1,this._normSign();var W,H,G=this.cmp(F);if(0===G)return this.negative=0,this.length=1,this.words[0]=0,this;G>0?(W=this,H=F):(W=F,H=this);for(var Y=0,se=0;se<H.length;se++)Y=(Z=(0|W.words[se])-(0|H.words[se])+Y)>>26,this.words[se]=67108863&Z;for(;0!==Y&&se<W.length;se++)Y=(Z=(0|W.words[se])+Y)>>26,this.words[se]=67108863&Z;if(0===Y&&se<W.length&&W!==this)for(;se<W.length;se++)this.words[se]=W.words[se];return this.length=Math.max(this.length,se),W!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(F){return this.clone().isub(F)};var b=function(F,Z,W){var H,G,Y,se=F.words,te=Z.words,re=W.words,Q=0,ee=0|se[0],oe=8191&ee,le=ee>>>13,ue=0|se[1],de=8191&ue,he=ue>>>13,we=0|se[2],Ae=8191&we,Te=we>>>13,ve=0|se[3],xe=8191&ve,Fe=ve>>>13,Se=0|se[4],ke=8191&Se,pe=Se>>>13,fe=0|se[5],be=8191&fe,Le=fe>>>13,Oe=0|se[6],De=8191&Oe,Ue=Oe>>>13,Ge=0|se[7],ye=8191&Ge,Ie=Ge>>>13,Ee=0|se[8],Be=8191&Ee,We=Ee>>>13,He=0|se[9],Je=8191&He,et=He>>>13,at=0|te[0],mt=8191&at,ct=at>>>13,St=0|te[1],Dt=8191&St,Et=St>>>13,ht=0|te[2],pt=8191&ht,Pt=ht>>>13,Ft=0|te[3],Ht=8191&Ft,Lt=Ft>>>13,tt=0|te[4],rt=8191&tt,Ke=tt>>>13,it=0|te[5],gt=8191&it,ft=it>>>13,Ve=0|te[6],qe=8191&Ve,dt=Ve>>>13,ut=0|te[7],At=8191&ut,wt=ut>>>13,kt=0|te[8],_t=8191&kt,Rt=kt>>>13,bt=0|te[9],Tt=8191&bt,Ot=bt>>>13;W.negative=F.negative^Z.negative,W.length=19;var Wt=(Q+(H=Math.imul(oe,mt))|0)+((8191&(G=(G=Math.imul(oe,ct))+Math.imul(le,mt)|0))<<13)|0;Q=((Y=Math.imul(le,ct))+(G>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,H=Math.imul(de,mt),G=(G=Math.imul(de,ct))+Math.imul(he,mt)|0,Y=Math.imul(he,ct);var qt=(Q+(H=H+Math.imul(oe,Dt)|0)|0)+((8191&(G=(G=G+Math.imul(oe,Et)|0)+Math.imul(le,Dt)|0))<<13)|0;Q=((Y=Y+Math.imul(le,Et)|0)+(G>>>13)|0)+(qt>>>26)|0,qt&=67108863,H=Math.imul(Ae,mt),G=(G=Math.imul(Ae,ct))+Math.imul(Te,mt)|0,Y=Math.imul(Te,ct),H=H+Math.imul(de,Dt)|0,G=(G=G+Math.imul(de,Et)|0)+Math.imul(he,Dt)|0,Y=Y+Math.imul(he,Et)|0;var Jt=(Q+(H=H+Math.imul(oe,pt)|0)|0)+((8191&(G=(G=G+Math.imul(oe,Pt)|0)+Math.imul(le,pt)|0))<<13)|0;Q=((Y=Y+Math.imul(le,Pt)|0)+(G>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,H=Math.imul(xe,mt),G=(G=Math.imul(xe,ct))+Math.imul(Fe,mt)|0,Y=Math.imul(Fe,ct),H=H+Math.imul(Ae,Dt)|0,G=(G=G+Math.imul(Ae,Et)|0)+Math.imul(Te,Dt)|0,Y=Y+Math.imul(Te,Et)|0,H=H+Math.imul(de,pt)|0,G=(G=G+Math.imul(de,Pt)|0)+Math.imul(he,pt)|0,Y=Y+Math.imul(he,Pt)|0;var pn=(Q+(H=H+Math.imul(oe,Ht)|0)|0)+((8191&(G=(G=G+Math.imul(oe,Lt)|0)+Math.imul(le,Ht)|0))<<13)|0;Q=((Y=Y+Math.imul(le,Lt)|0)+(G>>>13)|0)+(pn>>>26)|0,pn&=67108863,H=Math.imul(ke,mt),G=(G=Math.imul(ke,ct))+Math.imul(pe,mt)|0,Y=Math.imul(pe,ct),H=H+Math.imul(xe,Dt)|0,G=(G=G+Math.imul(xe,Et)|0)+Math.imul(Fe,Dt)|0,Y=Y+Math.imul(Fe,Et)|0,H=H+Math.imul(Ae,pt)|0,G=(G=G+Math.imul(Ae,Pt)|0)+Math.imul(Te,pt)|0,Y=Y+Math.imul(Te,Pt)|0,H=H+Math.imul(de,Ht)|0,G=(G=G+Math.imul(de,Lt)|0)+Math.imul(he,Ht)|0,Y=Y+Math.imul(he,Lt)|0;var en=(Q+(H=H+Math.imul(oe,rt)|0)|0)+((8191&(G=(G=G+Math.imul(oe,Ke)|0)+Math.imul(le,rt)|0))<<13)|0;Q=((Y=Y+Math.imul(le,Ke)|0)+(G>>>13)|0)+(en>>>26)|0,en&=67108863,H=Math.imul(be,mt),G=(G=Math.imul(be,ct))+Math.imul(Le,mt)|0,Y=Math.imul(Le,ct),H=H+Math.imul(ke,Dt)|0,G=(G=G+Math.imul(ke,Et)|0)+Math.imul(pe,Dt)|0,Y=Y+Math.imul(pe,Et)|0,H=H+Math.imul(xe,pt)|0,G=(G=G+Math.imul(xe,Pt)|0)+Math.imul(Fe,pt)|0,Y=Y+Math.imul(Fe,Pt)|0,H=H+Math.imul(Ae,Ht)|0,G=(G=G+Math.imul(Ae,Lt)|0)+Math.imul(Te,Ht)|0,Y=Y+Math.imul(Te,Lt)|0,H=H+Math.imul(de,rt)|0,G=(G=G+Math.imul(de,Ke)|0)+Math.imul(he,rt)|0,Y=Y+Math.imul(he,Ke)|0;var nn=(Q+(H=H+Math.imul(oe,gt)|0)|0)+((8191&(G=(G=G+Math.imul(oe,ft)|0)+Math.imul(le,gt)|0))<<13)|0;Q=((Y=Y+Math.imul(le,ft)|0)+(G>>>13)|0)+(nn>>>26)|0,nn&=67108863,H=Math.imul(De,mt),G=(G=Math.imul(De,ct))+Math.imul(Ue,mt)|0,Y=Math.imul(Ue,ct),H=H+Math.imul(be,Dt)|0,G=(G=G+Math.imul(be,Et)|0)+Math.imul(Le,Dt)|0,Y=Y+Math.imul(Le,Et)|0,H=H+Math.imul(ke,pt)|0,G=(G=G+Math.imul(ke,Pt)|0)+Math.imul(pe,pt)|0,Y=Y+Math.imul(pe,Pt)|0,H=H+Math.imul(xe,Ht)|0,G=(G=G+Math.imul(xe,Lt)|0)+Math.imul(Fe,Ht)|0,Y=Y+Math.imul(Fe,Lt)|0,H=H+Math.imul(Ae,rt)|0,G=(G=G+Math.imul(Ae,Ke)|0)+Math.imul(Te,rt)|0,Y=Y+Math.imul(Te,Ke)|0,H=H+Math.imul(de,gt)|0,G=(G=G+Math.imul(de,ft)|0)+Math.imul(he,gt)|0,Y=Y+Math.imul(he,ft)|0;var dn=(Q+(H=H+Math.imul(oe,qe)|0)|0)+((8191&(G=(G=G+Math.imul(oe,dt)|0)+Math.imul(le,qe)|0))<<13)|0;Q=((Y=Y+Math.imul(le,dt)|0)+(G>>>13)|0)+(dn>>>26)|0,dn&=67108863,H=Math.imul(ye,mt),G=(G=Math.imul(ye,ct))+Math.imul(Ie,mt)|0,Y=Math.imul(Ie,ct),H=H+Math.imul(De,Dt)|0,G=(G=G+Math.imul(De,Et)|0)+Math.imul(Ue,Dt)|0,Y=Y+Math.imul(Ue,Et)|0,H=H+Math.imul(be,pt)|0,G=(G=G+Math.imul(be,Pt)|0)+Math.imul(Le,pt)|0,Y=Y+Math.imul(Le,Pt)|0,H=H+Math.imul(ke,Ht)|0,G=(G=G+Math.imul(ke,Lt)|0)+Math.imul(pe,Ht)|0,Y=Y+Math.imul(pe,Lt)|0,H=H+Math.imul(xe,rt)|0,G=(G=G+Math.imul(xe,Ke)|0)+Math.imul(Fe,rt)|0,Y=Y+Math.imul(Fe,Ke)|0,H=H+Math.imul(Ae,gt)|0,G=(G=G+Math.imul(Ae,ft)|0)+Math.imul(Te,gt)|0,Y=Y+Math.imul(Te,ft)|0,H=H+Math.imul(de,qe)|0,G=(G=G+Math.imul(de,dt)|0)+Math.imul(he,qe)|0,Y=Y+Math.imul(he,dt)|0;var In=(Q+(H=H+Math.imul(oe,At)|0)|0)+((8191&(G=(G=G+Math.imul(oe,wt)|0)+Math.imul(le,At)|0))<<13)|0;Q=((Y=Y+Math.imul(le,wt)|0)+(G>>>13)|0)+(In>>>26)|0,In&=67108863,H=Math.imul(Be,mt),G=(G=Math.imul(Be,ct))+Math.imul(We,mt)|0,Y=Math.imul(We,ct),H=H+Math.imul(ye,Dt)|0,G=(G=G+Math.imul(ye,Et)|0)+Math.imul(Ie,Dt)|0,Y=Y+Math.imul(Ie,Et)|0,H=H+Math.imul(De,pt)|0,G=(G=G+Math.imul(De,Pt)|0)+Math.imul(Ue,pt)|0,Y=Y+Math.imul(Ue,Pt)|0,H=H+Math.imul(be,Ht)|0,G=(G=G+Math.imul(be,Lt)|0)+Math.imul(Le,Ht)|0,Y=Y+Math.imul(Le,Lt)|0,H=H+Math.imul(ke,rt)|0,G=(G=G+Math.imul(ke,Ke)|0)+Math.imul(pe,rt)|0,Y=Y+Math.imul(pe,Ke)|0,H=H+Math.imul(xe,gt)|0,G=(G=G+Math.imul(xe,ft)|0)+Math.imul(Fe,gt)|0,Y=Y+Math.imul(Fe,ft)|0,H=H+Math.imul(Ae,qe)|0,G=(G=G+Math.imul(Ae,dt)|0)+Math.imul(Te,qe)|0,Y=Y+Math.imul(Te,dt)|0,H=H+Math.imul(de,At)|0,G=(G=G+Math.imul(de,wt)|0)+Math.imul(he,At)|0,Y=Y+Math.imul(he,wt)|0;var Hn=(Q+(H=H+Math.imul(oe,_t)|0)|0)+((8191&(G=(G=G+Math.imul(oe,Rt)|0)+Math.imul(le,_t)|0))<<13)|0;Q=((Y=Y+Math.imul(le,Rt)|0)+(G>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,H=Math.imul(Je,mt),G=(G=Math.imul(Je,ct))+Math.imul(et,mt)|0,Y=Math.imul(et,ct),H=H+Math.imul(Be,Dt)|0,G=(G=G+Math.imul(Be,Et)|0)+Math.imul(We,Dt)|0,Y=Y+Math.imul(We,Et)|0,H=H+Math.imul(ye,pt)|0,G=(G=G+Math.imul(ye,Pt)|0)+Math.imul(Ie,pt)|0,Y=Y+Math.imul(Ie,Pt)|0,H=H+Math.imul(De,Ht)|0,G=(G=G+Math.imul(De,Lt)|0)+Math.imul(Ue,Ht)|0,Y=Y+Math.imul(Ue,Lt)|0,H=H+Math.imul(be,rt)|0,G=(G=G+Math.imul(be,Ke)|0)+Math.imul(Le,rt)|0,Y=Y+Math.imul(Le,Ke)|0,H=H+Math.imul(ke,gt)|0,G=(G=G+Math.imul(ke,ft)|0)+Math.imul(pe,gt)|0,Y=Y+Math.imul(pe,ft)|0,H=H+Math.imul(xe,qe)|0,G=(G=G+Math.imul(xe,dt)|0)+Math.imul(Fe,qe)|0,Y=Y+Math.imul(Fe,dt)|0,H=H+Math.imul(Ae,At)|0,G=(G=G+Math.imul(Ae,wt)|0)+Math.imul(Te,At)|0,Y=Y+Math.imul(Te,wt)|0,H=H+Math.imul(de,_t)|0,G=(G=G+Math.imul(de,Rt)|0)+Math.imul(he,_t)|0,Y=Y+Math.imul(he,Rt)|0;var An=(Q+(H=H+Math.imul(oe,Tt)|0)|0)+((8191&(G=(G=G+Math.imul(oe,Ot)|0)+Math.imul(le,Tt)|0))<<13)|0;Q=((Y=Y+Math.imul(le,Ot)|0)+(G>>>13)|0)+(An>>>26)|0,An&=67108863,H=Math.imul(Je,Dt),G=(G=Math.imul(Je,Et))+Math.imul(et,Dt)|0,Y=Math.imul(et,Et),H=H+Math.imul(Be,pt)|0,G=(G=G+Math.imul(Be,Pt)|0)+Math.imul(We,pt)|0,Y=Y+Math.imul(We,Pt)|0,H=H+Math.imul(ye,Ht)|0,G=(G=G+Math.imul(ye,Lt)|0)+Math.imul(Ie,Ht)|0,Y=Y+Math.imul(Ie,Lt)|0,H=H+Math.imul(De,rt)|0,G=(G=G+Math.imul(De,Ke)|0)+Math.imul(Ue,rt)|0,Y=Y+Math.imul(Ue,Ke)|0,H=H+Math.imul(be,gt)|0,G=(G=G+Math.imul(be,ft)|0)+Math.imul(Le,gt)|0,Y=Y+Math.imul(Le,ft)|0,H=H+Math.imul(ke,qe)|0,G=(G=G+Math.imul(ke,dt)|0)+Math.imul(pe,qe)|0,Y=Y+Math.imul(pe,dt)|0,H=H+Math.imul(xe,At)|0,G=(G=G+Math.imul(xe,wt)|0)+Math.imul(Fe,At)|0,Y=Y+Math.imul(Fe,wt)|0,H=H+Math.imul(Ae,_t)|0,G=(G=G+Math.imul(Ae,Rt)|0)+Math.imul(Te,_t)|0,Y=Y+Math.imul(Te,Rt)|0;var on=(Q+(H=H+Math.imul(de,Tt)|0)|0)+((8191&(G=(G=G+Math.imul(de,Ot)|0)+Math.imul(he,Tt)|0))<<13)|0;Q=((Y=Y+Math.imul(he,Ot)|0)+(G>>>13)|0)+(on>>>26)|0,on&=67108863,H=Math.imul(Je,pt),G=(G=Math.imul(Je,Pt))+Math.imul(et,pt)|0,Y=Math.imul(et,Pt),H=H+Math.imul(Be,Ht)|0,G=(G=G+Math.imul(Be,Lt)|0)+Math.imul(We,Ht)|0,Y=Y+Math.imul(We,Lt)|0,H=H+Math.imul(ye,rt)|0,G=(G=G+Math.imul(ye,Ke)|0)+Math.imul(Ie,rt)|0,Y=Y+Math.imul(Ie,Ke)|0,H=H+Math.imul(De,gt)|0,G=(G=G+Math.imul(De,ft)|0)+Math.imul(Ue,gt)|0,Y=Y+Math.imul(Ue,ft)|0,H=H+Math.imul(be,qe)|0,G=(G=G+Math.imul(be,dt)|0)+Math.imul(Le,qe)|0,Y=Y+Math.imul(Le,dt)|0,H=H+Math.imul(ke,At)|0,G=(G=G+Math.imul(ke,wt)|0)+Math.imul(pe,At)|0,Y=Y+Math.imul(pe,wt)|0,H=H+Math.imul(xe,_t)|0,G=(G=G+Math.imul(xe,Rt)|0)+Math.imul(Fe,_t)|0,Y=Y+Math.imul(Fe,Rt)|0;var yn=(Q+(H=H+Math.imul(Ae,Tt)|0)|0)+((8191&(G=(G=G+Math.imul(Ae,Ot)|0)+Math.imul(Te,Tt)|0))<<13)|0;Q=((Y=Y+Math.imul(Te,Ot)|0)+(G>>>13)|0)+(yn>>>26)|0,yn&=67108863,H=Math.imul(Je,Ht),G=(G=Math.imul(Je,Lt))+Math.imul(et,Ht)|0,Y=Math.imul(et,Lt),H=H+Math.imul(Be,rt)|0,G=(G=G+Math.imul(Be,Ke)|0)+Math.imul(We,rt)|0,Y=Y+Math.imul(We,Ke)|0,H=H+Math.imul(ye,gt)|0,G=(G=G+Math.imul(ye,ft)|0)+Math.imul(Ie,gt)|0,Y=Y+Math.imul(Ie,ft)|0,H=H+Math.imul(De,qe)|0,G=(G=G+Math.imul(De,dt)|0)+Math.imul(Ue,qe)|0,Y=Y+Math.imul(Ue,dt)|0,H=H+Math.imul(be,At)|0,G=(G=G+Math.imul(be,wt)|0)+Math.imul(Le,At)|0,Y=Y+Math.imul(Le,wt)|0,H=H+Math.imul(ke,_t)|0,G=(G=G+Math.imul(ke,Rt)|0)+Math.imul(pe,_t)|0,Y=Y+Math.imul(pe,Rt)|0;var ln=(Q+(H=H+Math.imul(xe,Tt)|0)|0)+((8191&(G=(G=G+Math.imul(xe,Ot)|0)+Math.imul(Fe,Tt)|0))<<13)|0;Q=((Y=Y+Math.imul(Fe,Ot)|0)+(G>>>13)|0)+(ln>>>26)|0,ln&=67108863,H=Math.imul(Je,rt),G=(G=Math.imul(Je,Ke))+Math.imul(et,rt)|0,Y=Math.imul(et,Ke),H=H+Math.imul(Be,gt)|0,G=(G=G+Math.imul(Be,ft)|0)+Math.imul(We,gt)|0,Y=Y+Math.imul(We,ft)|0,H=H+Math.imul(ye,qe)|0,G=(G=G+Math.imul(ye,dt)|0)+Math.imul(Ie,qe)|0,Y=Y+Math.imul(Ie,dt)|0,H=H+Math.imul(De,At)|0,G=(G=G+Math.imul(De,wt)|0)+Math.imul(Ue,At)|0,Y=Y+Math.imul(Ue,wt)|0,H=H+Math.imul(be,_t)|0,G=(G=G+Math.imul(be,Rt)|0)+Math.imul(Le,_t)|0,Y=Y+Math.imul(Le,Rt)|0;var wn=(Q+(H=H+Math.imul(ke,Tt)|0)|0)+((8191&(G=(G=G+Math.imul(ke,Ot)|0)+Math.imul(pe,Tt)|0))<<13)|0;Q=((Y=Y+Math.imul(pe,Ot)|0)+(G>>>13)|0)+(wn>>>26)|0,wn&=67108863,H=Math.imul(Je,gt),G=(G=Math.imul(Je,ft))+Math.imul(et,gt)|0,Y=Math.imul(et,ft),H=H+Math.imul(Be,qe)|0,G=(G=G+Math.imul(Be,dt)|0)+Math.imul(We,qe)|0,Y=Y+Math.imul(We,dt)|0,H=H+Math.imul(ye,At)|0,G=(G=G+Math.imul(ye,wt)|0)+Math.imul(Ie,At)|0,Y=Y+Math.imul(Ie,wt)|0,H=H+Math.imul(De,_t)|0,G=(G=G+Math.imul(De,Rt)|0)+Math.imul(Ue,_t)|0,Y=Y+Math.imul(Ue,Rt)|0;var Cn=(Q+(H=H+Math.imul(be,Tt)|0)|0)+((8191&(G=(G=G+Math.imul(be,Ot)|0)+Math.imul(Le,Tt)|0))<<13)|0;Q=((Y=Y+Math.imul(Le,Ot)|0)+(G>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,H=Math.imul(Je,qe),G=(G=Math.imul(Je,dt))+Math.imul(et,qe)|0,Y=Math.imul(et,dt),H=H+Math.imul(Be,At)|0,G=(G=G+Math.imul(Be,wt)|0)+Math.imul(We,At)|0,Y=Y+Math.imul(We,wt)|0,H=H+Math.imul(ye,_t)|0,G=(G=G+Math.imul(ye,Rt)|0)+Math.imul(Ie,_t)|0,Y=Y+Math.imul(Ie,Rt)|0;var Ln=(Q+(H=H+Math.imul(De,Tt)|0)|0)+((8191&(G=(G=G+Math.imul(De,Ot)|0)+Math.imul(Ue,Tt)|0))<<13)|0;Q=((Y=Y+Math.imul(Ue,Ot)|0)+(G>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,H=Math.imul(Je,At),G=(G=Math.imul(Je,wt))+Math.imul(et,At)|0,Y=Math.imul(et,wt),H=H+Math.imul(Be,_t)|0,G=(G=G+Math.imul(Be,Rt)|0)+Math.imul(We,_t)|0,Y=Y+Math.imul(We,Rt)|0;var Sn=(Q+(H=H+Math.imul(ye,Tt)|0)|0)+((8191&(G=(G=G+Math.imul(ye,Ot)|0)+Math.imul(Ie,Tt)|0))<<13)|0;Q=((Y=Y+Math.imul(Ie,Ot)|0)+(G>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,H=Math.imul(Je,_t),G=(G=Math.imul(Je,Rt))+Math.imul(et,_t)|0,Y=Math.imul(et,Rt);var qn=(Q+(H=H+Math.imul(Be,Tt)|0)|0)+((8191&(G=(G=G+Math.imul(Be,Ot)|0)+Math.imul(We,Tt)|0))<<13)|0;Q=((Y=Y+Math.imul(We,Ot)|0)+(G>>>13)|0)+(qn>>>26)|0,qn&=67108863;var kn=(Q+(H=Math.imul(Je,Tt))|0)+((8191&(G=(G=Math.imul(Je,Ot))+Math.imul(et,Tt)|0))<<13)|0;return Q=((Y=Math.imul(et,Ot))+(G>>>13)|0)+(kn>>>26)|0,kn&=67108863,re[0]=Wt,re[1]=qt,re[2]=Jt,re[3]=pn,re[4]=en,re[5]=nn,re[6]=dn,re[7]=In,re[8]=Hn,re[9]=An,re[10]=on,re[11]=yn,re[12]=ln,re[13]=wn,re[14]=Cn,re[15]=Ln,re[16]=Sn,re[17]=qn,re[18]=kn,0!==Q&&(re[19]=Q,W.length++),W};function A(F,Z,W){return(new p).mulp(F,Z,W)}function p(F,Z){this.x=F,this.y=Z}Math.imul||(b=x),u.prototype.mulTo=function(F,Z){var H=this.length+F.length;return 10===this.length&&10===F.length?b(this,F,Z):H<63?x(this,F,Z):H<1024?function(G,Y,se){se.negative=Y.negative^G.negative,se.length=G.length+Y.length;for(var te=0,re=0,Q=0;Q<se.length-1;Q++){var ee=re;re=0;for(var oe=67108863&te,le=Math.min(Q,Y.length-1),ue=Math.max(0,Q-G.length+1);ue<=le;ue++){var he=(0|G.words[Q-ue])*(0|Y.words[ue]),we=67108863&he;oe=67108863&(we=we+oe|0),re+=(ee=(ee=ee+(he/67108864|0)|0)+(we>>>26)|0)>>>26,ee&=67108863}se.words[Q]=oe,te=ee,ee=re}return 0!==te?se.words[Q]=te:se.length--,se.strip()}(this,F,Z):A(this,F,Z)},p.prototype.makeRBT=function(F){for(var Z=new Array(F),W=u.prototype._countBits(F)-1,H=0;H<F;H++)Z[H]=this.revBin(H,W,F);return Z},p.prototype.revBin=function(F,Z,W){if(0===F||F===W-1)return F;for(var H=0,G=0;G<Z;G++)H|=(1&F)<<Z-G-1,F>>=1;return H},p.prototype.permute=function(F,Z,W,H,G,Y){for(var se=0;se<Y;se++)H[se]=Z[F[se]],G[se]=W[F[se]]},p.prototype.transform=function(F,Z,W,H,G,Y){this.permute(Y,F,Z,W,H,G);for(var se=1;se<G;se<<=1)for(var te=se<<1,re=Math.cos(2*Math.PI/te),Q=Math.sin(2*Math.PI/te),ee=0;ee<G;ee+=te)for(var oe=re,le=Q,ue=0;ue<se;ue++){var de=W[ee+ue],he=H[ee+ue],we=W[ee+ue+se],Ae=H[ee+ue+se],Te=oe*we-le*Ae;Ae=oe*Ae+le*we,W[ee+ue]=de+(we=Te),H[ee+ue]=he+Ae,W[ee+ue+se]=de-we,H[ee+ue+se]=he-Ae,ue!==te&&(Te=re*oe-Q*le,le=re*le+Q*oe,oe=Te)}},p.prototype.guessLen13b=function(F,Z){var W=1|Math.max(Z,F),H=1&W,G=0;for(W=W/2|0;W;W>>>=1)G++;return 1<<G+1+H},p.prototype.conjugate=function(F,Z,W){if(!(W<=1))for(var H=0;H<W/2;H++){var G=F[H];F[H]=F[W-H-1],F[W-H-1]=G,G=Z[H],Z[H]=-Z[W-H-1],Z[W-H-1]=-G}},p.prototype.normalize13b=function(F,Z){for(var W=0,H=0;H<Z/2;H++){var G=8192*Math.round(F[2*H+1]/Z)+Math.round(F[2*H]/Z)+W;F[H]=67108863&G,W=G<67108864?0:G/67108864|0}return F},p.prototype.convert13b=function(F,Z,W,H){for(var G=0,Y=0;Y<Z;Y++)W[2*Y]=8191&(G+=0|F[Y]),W[2*Y+1]=8191&(G>>>=13),G>>>=13;for(Y=2*Z;Y<H;++Y)W[Y]=0;o(0===G),o(0==(-8192&G))},p.prototype.stub=function(F){for(var Z=new Array(F),W=0;W<F;W++)Z[W]=0;return Z},p.prototype.mulp=function(F,Z,W){var H=2*this.guessLen13b(F.length,Z.length),G=this.makeRBT(H),Y=this.stub(H),se=new Array(H),te=new Array(H),re=new Array(H),Q=new Array(H),ee=new Array(H),oe=new Array(H),le=W.words;le.length=H,this.convert13b(F.words,F.length,se,H),this.convert13b(Z.words,Z.length,Q,H),this.transform(se,Y,te,re,H,G),this.transform(Q,Y,ee,oe,H,G);for(var ue=0;ue<H;ue++){var de=te[ue]*ee[ue]-re[ue]*oe[ue];re[ue]=te[ue]*oe[ue]+re[ue]*ee[ue],te[ue]=de}return this.conjugate(te,re,H),this.transform(te,re,le,Y,H,G),this.conjugate(le,Y,H),this.normalize13b(le,H),W.negative=F.negative^Z.negative,W.length=F.length+Z.length,W.strip()},u.prototype.mul=function(F){var Z=new u(null);return Z.words=new Array(this.length+F.length),this.mulTo(F,Z)},u.prototype.mulf=function(F){var Z=new u(null);return Z.words=new Array(this.length+F.length),A(this,F,Z)},u.prototype.imul=function(F){return this.clone().mulTo(F,this)},u.prototype.imuln=function(F){o("number"==typeof F),o(F<67108864);for(var Z=0,W=0;W<this.length;W++){var H=(0|this.words[W])*F,G=(67108863&H)+(67108863&Z);Z>>=26,Z+=H/67108864|0,Z+=G>>>26,this.words[W]=67108863&G}return 0!==Z&&(this.words[W]=Z,this.length++),this},u.prototype.muln=function(F){return this.clone().imuln(F)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(F){var Z=function(Y){for(var se=new Array(Y.bitLength()),te=0;te<se.length;te++){var Q=te%26;se[te]=(Y.words[te/26|0]&1<<Q)>>>Q}return se}(F);if(0===Z.length)return new u(1);for(var W=this,H=0;H<Z.length&&0===Z[H];H++,W=W.sqr());if(++H<Z.length)for(var G=W.sqr();H<Z.length;H++,G=G.sqr())0!==Z[H]&&(W=W.mul(G));return W},u.prototype.iushln=function(F){o("number"==typeof F&&F>=0);var Z,W=F%26,H=(F-W)/26,G=67108863>>>26-W<<26-W;if(0!==W){var Y=0;for(Z=0;Z<this.length;Z++){var se=this.words[Z]&G;this.words[Z]=(0|this.words[Z])-se<<W|Y,Y=se>>>26-W}Y&&(this.words[Z]=Y,this.length++)}if(0!==H){for(Z=this.length-1;Z>=0;Z--)this.words[Z+H]=this.words[Z];for(Z=0;Z<H;Z++)this.words[Z]=0;this.length+=H}return this.strip()},u.prototype.ishln=function(F){return o(0===this.negative),this.iushln(F)},u.prototype.iushrn=function(F,Z,W){var H;o("number"==typeof F&&F>=0),H=Z?(Z-Z%26)/26:0;var G=F%26,Y=Math.min((F-G)/26,this.length),se=67108863^67108863>>>G<<G,te=W;if(H-=Y,H=Math.max(0,H),te){for(var re=0;re<Y;re++)te.words[re]=this.words[re];te.length=Y}if(0!==Y)if(this.length>Y)for(this.length-=Y,re=0;re<this.length;re++)this.words[re]=this.words[re+Y];else this.words[0]=0,this.length=1;var Q=0;for(re=this.length-1;re>=0&&(0!==Q||re>=H);re--){var ee=0|this.words[re];this.words[re]=Q<<26-G|ee>>>G,Q=ee&se}return te&&0!==Q&&(te.words[te.length++]=Q),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(F,Z,W){return o(0===this.negative),this.iushrn(F,Z,W)},u.prototype.shln=function(F){return this.clone().ishln(F)},u.prototype.ushln=function(F){return this.clone().iushln(F)},u.prototype.shrn=function(F){return this.clone().ishrn(F)},u.prototype.ushrn=function(F){return this.clone().iushrn(F)},u.prototype.testn=function(F){o("number"==typeof F&&F>=0);var Z=F%26,W=(F-Z)/26;return!(this.length<=W||!(this.words[W]&1<<Z))},u.prototype.imaskn=function(F){o("number"==typeof F&&F>=0);var Z=F%26,W=(F-Z)/26;return o(0===this.negative,"imaskn works only with positive numbers"),this.length<=W?this:(0!==Z&&W++,this.length=Math.min(W,this.length),0!==Z&&(this.words[this.length-1]&=67108863^67108863>>>Z<<Z),this.strip())},u.prototype.maskn=function(F){return this.clone().imaskn(F)},u.prototype.iaddn=function(F){return o("number"==typeof F),o(F<67108864),F<0?this.isubn(-F):0!==this.negative?1===this.length&&(0|this.words[0])<F?(this.words[0]=F-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(F),this.negative=1,this):this._iaddn(F)},u.prototype._iaddn=function(F){this.words[0]+=F;for(var Z=0;Z<this.length&&this.words[Z]>=67108864;Z++)this.words[Z]-=67108864,Z===this.length-1?this.words[Z+1]=1:this.words[Z+1]++;return this.length=Math.max(this.length,Z+1),this},u.prototype.isubn=function(F){if(o("number"==typeof F),o(F<67108864),F<0)return this.iaddn(-F);if(0!==this.negative)return this.negative=0,this.iaddn(F),this.negative=1,this;if(this.words[0]-=F,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Z=0;Z<this.length&&this.words[Z]<0;Z++)this.words[Z]+=67108864,this.words[Z+1]-=1;return this.strip()},u.prototype.addn=function(F){return this.clone().iaddn(F)},u.prototype.subn=function(F){return this.clone().isubn(F)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(F,Z,W){var H,G;this._expand(F.length+W);var se=0;for(H=0;H<F.length;H++){G=(0|this.words[H+W])+se;var te=(0|F.words[H])*Z;se=((G-=67108863&te)>>26)-(te/67108864|0),this.words[H+W]=67108863&G}for(;H<this.length-W;H++)se=(G=(0|this.words[H+W])+se)>>26,this.words[H+W]=67108863&G;if(0===se)return this.strip();for(o(-1===se),se=0,H=0;H<this.length;H++)se=(G=-(0|this.words[H])+se)>>26,this.words[H]=67108863&G;return this.negative=1,this.strip()},u.prototype._wordDiv=function(F,Z){var W,H=this.clone(),G=F,Y=0|G.words[G.length-1];0!=(W=26-this._countBits(Y))&&(G=G.ushln(W),H.iushln(W),Y=0|G.words[G.length-1]);var se,te=H.length-G.length;if("mod"!==Z){(se=new u(null)).length=te+1,se.words=new Array(se.length);for(var re=0;re<se.length;re++)se.words[re]=0}var Q=H.clone()._ishlnsubmul(G,1,te);0===Q.negative&&(H=Q,se&&(se.words[te]=1));for(var ee=te-1;ee>=0;ee--){var oe=67108864*(0|H.words[G.length+ee])+(0|H.words[G.length+ee-1]);for(oe=Math.min(oe/Y|0,67108863),H._ishlnsubmul(G,oe,ee);0!==H.negative;)oe--,H.negative=0,H._ishlnsubmul(G,1,ee),H.isZero()||(H.negative^=1);se&&(se.words[ee]=oe)}return se&&se.strip(),H.strip(),"div"!==Z&&0!==W&&H.iushrn(W),{div:se||null,mod:H}},u.prototype.divmod=function(F,Z,W){return o(!F.isZero()),this.isZero()?{div:new u(0),mod:new u(0)}:0!==this.negative&&0===F.negative?(Y=this.neg().divmod(F,Z),"mod"!==Z&&(H=Y.div.neg()),"div"!==Z&&(G=Y.mod.neg(),W&&0!==G.negative&&G.iadd(F)),{div:H,mod:G}):0===this.negative&&0!==F.negative?(Y=this.divmod(F.neg(),Z),"mod"!==Z&&(H=Y.div.neg()),{div:H,mod:Y.mod}):this.negative&F.negative?(Y=this.neg().divmod(F.neg(),Z),"div"!==Z&&(G=Y.mod.neg(),W&&0!==G.negative&&G.isub(F)),{div:Y.div,mod:G}):F.length>this.length||this.cmp(F)<0?{div:new u(0),mod:this}:1===F.length?"div"===Z?{div:this.divn(F.words[0]),mod:null}:"mod"===Z?{div:null,mod:new u(this.modn(F.words[0]))}:{div:this.divn(F.words[0]),mod:new u(this.modn(F.words[0]))}:this._wordDiv(F,Z);var H,G,Y},u.prototype.div=function(F){return this.divmod(F,"div",!1).div},u.prototype.mod=function(F){return this.divmod(F,"mod",!1).mod},u.prototype.umod=function(F){return this.divmod(F,"mod",!0).mod},u.prototype.divRound=function(F){var Z=this.divmod(F);if(Z.mod.isZero())return Z.div;var W=0!==Z.div.negative?Z.mod.isub(F):Z.mod,H=F.ushrn(1),G=F.andln(1),Y=W.cmp(H);return Y<0||1===G&&0===Y?Z.div:0!==Z.div.negative?Z.div.isubn(1):Z.div.iaddn(1)},u.prototype.modn=function(F){o(F<=67108863);for(var Z=67108864%F,W=0,H=this.length-1;H>=0;H--)W=(Z*W+(0|this.words[H]))%F;return W},u.prototype.idivn=function(F){o(F<=67108863);for(var Z=0,W=this.length-1;W>=0;W--){var H=(0|this.words[W])+67108864*Z;this.words[W]=H/F|0,Z=H%F}return this.strip()},u.prototype.divn=function(F){return this.clone().idivn(F)},u.prototype.egcd=function(F){o(0===F.negative),o(!F.isZero());var Z=this,W=F.clone();Z=0!==Z.negative?Z.umod(F):Z.clone();for(var H=new u(1),G=new u(0),Y=new u(0),se=new u(1),te=0;Z.isEven()&&W.isEven();)Z.iushrn(1),W.iushrn(1),++te;for(var re=W.clone(),Q=Z.clone();!Z.isZero();){for(var ee=0,oe=1;!(Z.words[0]&oe)&&ee<26;++ee,oe<<=1);if(ee>0)for(Z.iushrn(ee);ee-- >0;)(H.isOdd()||G.isOdd())&&(H.iadd(re),G.isub(Q)),H.iushrn(1),G.iushrn(1);for(var le=0,ue=1;!(W.words[0]&ue)&&le<26;++le,ue<<=1);if(le>0)for(W.iushrn(le);le-- >0;)(Y.isOdd()||se.isOdd())&&(Y.iadd(re),se.isub(Q)),Y.iushrn(1),se.iushrn(1);Z.cmp(W)>=0?(Z.isub(W),H.isub(Y),G.isub(se)):(W.isub(Z),Y.isub(H),se.isub(G))}return{a:Y,b:se,gcd:W.iushln(te)}},u.prototype._invmp=function(F){o(0===F.negative),o(!F.isZero());var Z=this,W=F.clone();Z=0!==Z.negative?Z.umod(F):Z.clone();for(var H,G=new u(1),Y=new u(0),se=W.clone();Z.cmpn(1)>0&&W.cmpn(1)>0;){for(var te=0,re=1;!(Z.words[0]&re)&&te<26;++te,re<<=1);if(te>0)for(Z.iushrn(te);te-- >0;)G.isOdd()&&G.iadd(se),G.iushrn(1);for(var Q=0,ee=1;!(W.words[0]&ee)&&Q<26;++Q,ee<<=1);if(Q>0)for(W.iushrn(Q);Q-- >0;)Y.isOdd()&&Y.iadd(se),Y.iushrn(1);Z.cmp(W)>=0?(Z.isub(W),G.isub(Y)):(W.isub(Z),Y.isub(G))}return(H=0===Z.cmpn(1)?G:Y).cmpn(0)<0&&H.iadd(F),H},u.prototype.gcd=function(F){if(this.isZero())return F.abs();if(F.isZero())return this.abs();var Z=this.clone(),W=F.clone();Z.negative=0,W.negative=0;for(var H=0;Z.isEven()&&W.isEven();H++)Z.iushrn(1),W.iushrn(1);for(;;){for(;Z.isEven();)Z.iushrn(1);for(;W.isEven();)W.iushrn(1);var G=Z.cmp(W);if(G<0){var Y=Z;Z=W,W=Y}else if(0===G||0===W.cmpn(1))break;Z.isub(W)}return W.iushln(H)},u.prototype.invm=function(F){return this.egcd(F).a.umod(F)},u.prototype.isEven=function(){return 0==(1&this.words[0])},u.prototype.isOdd=function(){return 1==(1&this.words[0])},u.prototype.andln=function(F){return this.words[0]&F},u.prototype.bincn=function(F){o("number"==typeof F);var Z=F%26,W=(F-Z)/26,H=1<<Z;if(this.length<=W)return this._expand(W+1),this.words[W]|=H,this;for(var G=H,Y=W;0!==G&&Y<this.length;Y++){var se=0|this.words[Y];G=(se+=G)>>>26,this.words[Y]=se&=67108863}return 0!==G&&(this.words[Y]=G,this.length++),this},u.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},u.prototype.cmpn=function(F){var Z,W=F<0;if(0!==this.negative&&!W)return-1;if(0===this.negative&&W)return 1;if(this.strip(),this.length>1)Z=1;else{W&&(F=-F),o(F<=67108863,"Number is too big");var H=0|this.words[0];Z=H===F?0:H<F?-1:1}return 0!==this.negative?0|-Z:Z},u.prototype.cmp=function(F){if(0!==this.negative&&0===F.negative)return-1;if(0===this.negative&&0!==F.negative)return 1;var Z=this.ucmp(F);return 0!==this.negative?0|-Z:Z},u.prototype.ucmp=function(F){if(this.length>F.length)return 1;if(this.length<F.length)return-1;for(var Z=0,W=this.length-1;W>=0;W--){var H=0|this.words[W],G=0|F.words[W];if(H!==G){H<G?Z=-1:H>G&&(Z=1);break}}return Z},u.prototype.gtn=function(F){return 1===this.cmpn(F)},u.prototype.gt=function(F){return 1===this.cmp(F)},u.prototype.gten=function(F){return this.cmpn(F)>=0},u.prototype.gte=function(F){return this.cmp(F)>=0},u.prototype.ltn=function(F){return-1===this.cmpn(F)},u.prototype.lt=function(F){return-1===this.cmp(F)},u.prototype.lten=function(F){return this.cmpn(F)<=0},u.prototype.lte=function(F){return this.cmp(F)<=0},u.prototype.eqn=function(F){return 0===this.cmpn(F)},u.prototype.eq=function(F){return 0===this.cmp(F)},u.red=function(F){return new j(F)},u.prototype.toRed=function(F){return o(!this.red,"Already a number in reduction context"),o(0===this.negative,"red works only with positives"),F.convertTo(this)._forceRed(F)},u.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(F){return this.red=F,this},u.prototype.forceRed=function(F){return o(!this.red,"Already a number in reduction context"),this._forceRed(F)},u.prototype.redAdd=function(F){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,F)},u.prototype.redIAdd=function(F){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,F)},u.prototype.redSub=function(F){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,F)},u.prototype.redISub=function(F){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,F)},u.prototype.redShl=function(F){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,F)},u.prototype.redMul=function(F){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.mul(this,F)},u.prototype.redIMul=function(F){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.imul(this,F)},u.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(F){return o(this.red&&!F.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,F)};var O={k256:null,p224:null,p192:null,p25519:null};function k(F,Z){this.name=F,this.p=new u(Z,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function R(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function N(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function j(F){if("string"==typeof F){var Z=u._prime(F);this.m=Z.p,this.prime=Z}else o(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}function X(F){j.call(this,F),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var F=new u(null);return F.words=new Array(Math.ceil(this.n/13)),F},k.prototype.ireduce=function(F){var Z,W=F;do{this.split(W,this.tmp),Z=(W=(W=this.imulK(W)).iadd(this.tmp)).bitLength()}while(Z>this.n);var H=Z<this.n?-1:W.ucmp(this.p);return 0===H?(W.words[0]=0,W.length=1):H>0?W.isub(this.p):void 0!==W.strip?W.strip():W._strip(),W},k.prototype.split=function(F,Z){F.iushrn(this.n,0,Z)},k.prototype.imulK=function(F){return F.imul(this.k)},l(I,k),I.prototype.split=function(F,Z){for(var W=4194303,H=Math.min(F.length,9),G=0;G<H;G++)Z.words[G]=F.words[G];if(Z.length=H,F.length<=9)return F.words[0]=0,void(F.length=1);var Y=F.words[9];for(Z.words[Z.length++]=Y&W,G=10;G<F.length;G++){var se=0|F.words[G];F.words[G-10]=(se&W)<<4|Y>>>22,Y=se}F.words[G-10]=Y>>>=22,F.length-=0===Y&&F.length>10?10:9},I.prototype.imulK=function(F){F.words[F.length]=0,F.words[F.length+1]=0,F.length+=2;for(var Z=0,W=0;W<F.length;W++){var H=0|F.words[W];F.words[W]=67108863&(Z+=977*H),Z=64*H+(Z/67108864|0)}return 0===F.words[F.length-1]&&(F.length--,0===F.words[F.length-1]&&F.length--),F},l(P,k),l(R,k),l(N,k),N.prototype.imulK=function(F){for(var Z=0,W=0;W<F.length;W++){var H=19*(0|F.words[W])+Z,G=67108863&H;H>>>=26,F.words[W]=G,Z=H}return 0!==Z&&(F.words[F.length++]=Z),F},u._prime=function(F){if(O[F])return O[F];var Z;if("k256"===F)Z=new I;else if("p224"===F)Z=new P;else if("p192"===F)Z=new R;else{if("p25519"!==F)throw new Error("Unknown prime "+F);Z=new N}return O[F]=Z,Z},j.prototype._verify1=function(F){o(0===F.negative,"red works only with positives"),o(F.red,"red works only with red numbers")},j.prototype._verify2=function(F,Z){o(0==(F.negative|Z.negative),"red works only with positives"),o(F.red&&F.red===Z.red,"red works only with red numbers")},j.prototype.imod=function(F){return this.prime?this.prime.ireduce(F)._forceRed(this):F.umod(this.m)._forceRed(this)},j.prototype.neg=function(F){return F.isZero()?F.clone():this.m.sub(F)._forceRed(this)},j.prototype.add=function(F,Z){this._verify2(F,Z);var W=F.add(Z);return W.cmp(this.m)>=0&&W.isub(this.m),W._forceRed(this)},j.prototype.iadd=function(F,Z){this._verify2(F,Z);var W=F.iadd(Z);return W.cmp(this.m)>=0&&W.isub(this.m),W},j.prototype.sub=function(F,Z){this._verify2(F,Z);var W=F.sub(Z);return W.cmpn(0)<0&&W.iadd(this.m),W._forceRed(this)},j.prototype.isub=function(F,Z){this._verify2(F,Z);var W=F.isub(Z);return W.cmpn(0)<0&&W.iadd(this.m),W},j.prototype.shl=function(F,Z){return this._verify1(F),this.imod(F.ushln(Z))},j.prototype.imul=function(F,Z){return this._verify2(F,Z),this.imod(F.imul(Z))},j.prototype.mul=function(F,Z){return this._verify2(F,Z),this.imod(F.mul(Z))},j.prototype.isqr=function(F){return this.imul(F,F.clone())},j.prototype.sqr=function(F){return this.mul(F,F)},j.prototype.sqrt=function(F){if(F.isZero())return F.clone();var Z=this.m.andln(3);if(o(Z%2==1),3===Z){var W=this.m.add(new u(1)).iushrn(2);return this.pow(F,W)}for(var H=this.m.subn(1),G=0;!H.isZero()&&0===H.andln(1);)G++,H.iushrn(1);o(!H.isZero());var Y=new u(1).toRed(this),se=Y.redNeg(),te=this.m.subn(1).iushrn(1),re=this.m.bitLength();for(re=new u(2*re*re).toRed(this);0!==this.pow(re,te).cmp(se);)re.redIAdd(se);for(var Q=this.pow(re,H),ee=this.pow(F,H.addn(1).iushrn(1)),oe=this.pow(F,H),le=G;0!==oe.cmp(Y);){for(var ue=oe,de=0;0!==ue.cmp(Y);de++)ue=ue.redSqr();o(de<le);var he=this.pow(Q,new u(1).iushln(le-de-1));ee=ee.redMul(he),Q=he.redSqr(),oe=oe.redMul(Q),le=de}return ee},j.prototype.invm=function(F){var Z=F._invmp(this.m);return 0!==Z.negative?(Z.negative=0,this.imod(Z).redNeg()):this.imod(Z)},j.prototype.pow=function(F,Z){if(Z.isZero())return new u(1).toRed(this);if(0===Z.cmpn(1))return F.clone();var W=new Array(16);W[0]=new u(1).toRed(this),W[1]=F;for(var H=2;H<W.length;H++)W[H]=this.mul(W[H-1],F);var G=W[0],Y=0,se=0,te=Z.bitLength()%26;for(0===te&&(te=26),H=Z.length-1;H>=0;H--){for(var re=Z.words[H],Q=te-1;Q>=0;Q--){var ee=re>>Q&1;G!==W[0]&&(G=this.sqr(G)),0!==ee||0!==Y?(Y<<=1,Y|=ee,(4==++se||0===H&&0===Q)&&(G=this.mul(G,W[Y]),se=0,Y=0)):se=0}te=26}return G},j.prototype.convertTo=function(F){var Z=F.umod(this.m);return Z===F?Z.clone():Z},j.prototype.convertFrom=function(F){var Z=F.clone();return Z.red=null,Z},u.mont=function(F){return new X(F)},l(X,j),X.prototype.convertTo=function(F){return this.imod(F.ushln(this.shift))},X.prototype.convertFrom=function(F){var Z=this.imod(F.mul(this.rinv));return Z.red=null,Z},X.prototype.imul=function(F,Z){if(F.isZero()||Z.isZero())return F.words[0]=0,F.length=1,F;var W=F.imul(Z),H=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),G=W.isub(H).iushrn(this.shift),Y=G;return G.cmp(this.m)>=0?Y=G.isub(this.m):G.cmpn(0)<0&&(Y=G.iadd(this.m)),Y._forceRed(this)},X.prototype.mul=function(F,Z){if(F.isZero()||Z.isZero())return new u(0)._forceRed(this);var W=F.mul(Z),H=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),G=W.isub(H).iushrn(this.shift),Y=G;return G.cmp(this.m)>=0?Y=G.isub(this.m):G.cmpn(0)<0&&(Y=G.iadd(this.m)),Y._forceRed(this)},X.prototype.invm=function(F){return this.imod(F._invmp(this.m).mul(this.r2))._forceRed(this)}}(v=i.nmd(v),this)},2692:function(v){"use strict";v.exports=function(c){var i,s,a,o=c.length,l=0;for(i=0;i<o;++i)l+=c[i].length;var u=new Array(l),d=0;for(i=0;i<o;++i){var m=c[i],h=m.length;for(s=0;s<h;++s){var T=u[d++]=new Array(h-1),_=0;for(a=0;a<h;++a)a!==s&&(T[_++]=m[a]);if(1&s){var g=T[1];T[1]=T[0],T[0]=g}}}return u}},2569:function(v,c,i){"use strict";v.exports=function(T,_,g){switch(arguments.length){case 1:return s=[],m(w=T,w,h,!0),s;case 2:return"function"==typeof _?m(T,T,_,!0):(s=[],m(T,_,h,!1),s);case 3:return m(T,_,g,!1);default:throw new Error("box-intersect: Invalid arguments")}var w};var s,a=i(5306),o=i(1390),l=i(2337);function u(T,_){for(var g=0;g<T;++g)if(!(_[g]<=_[g+T]))return!0;return!1}function d(T,_,g,w){for(var x=0,b=0,A=0,p=T.length;A<p;++A){var O=T[A];if(!u(_,O)){for(var k=0;k<2*_;++k)g[x++]=O[k];w[b++]=A}}return b}function m(T,_,g,w){var x=T.length,b=_.length;if(!(x<=0||b<=0)){var A=T[0].length>>>1;if(!(A<=0)){var p,O=a.mallocDouble(2*A*x),k=a.mallocInt32(x);if((x=d(T,A,O,k))>0){if(1===A&&w)o.init(x),p=o.sweepComplete(A,g,0,x,O,k,0,x,O,k);else{var I=a.mallocDouble(2*A*b),P=a.mallocInt32(b);(b=d(_,A,I,P))>0&&(o.init(x+b),p=1===A?o.sweepBipartite(A,g,0,x,O,k,0,b,I,P):l(A,g,w,x,O,k,b,I,P),a.free(I),a.free(P))}a.free(O),a.free(k)}return p}}}function h(T,_){s.push([T,_])}},7333:function(v,c){"use strict";function i(s){return s?function(a,o,l,u,d,m,h,T,_,g,w){return d-u>_-T?function(x,b,A,p,O,k,I,P,R,N,j){for(var X=2*x,F=p,Z=X*p;F<O;++F,Z+=X){var W=k[b+Z],H=k[b+Z+x],G=I[F];e:for(var Y=P,se=X*P;Y<R;++Y,se+=X){var Q=j[Y];if(!(N[b+se+x]<W||H<N[b+se])){for(var ee=b+1;ee<x;++ee)if(k[ee+x+Z]<N[ee+se]||N[ee+x+se]<k[ee+Z])continue e;var he=A(G,Q);if(void 0!==he)return he}}}}(a,o,l,u,d,m,h,T,_,g,w):function(x,b,A,p,O,k,I,P,R,N,j){for(var X=2*x,F=P,Z=X*P;F<R;++F,Z+=X){var W=N[b+Z],H=N[b+Z+x],G=j[F];e:for(var Y=p,se=X*p;Y<O;++Y,se+=X){var Q=I[Y];if(!(H<k[b+se]||k[b+se+x]<W)){for(var ee=b+1;ee<x;++ee)if(k[ee+x+se]<N[ee+Z]||N[ee+x+Z]<k[ee+se])continue e;var he=A(Q,G);if(void 0!==he)return he}}}}(a,o,l,u,d,m,h,T,_,g,w)}:function(a,o,l,u,d,m,h,T,_,g,w,x){return m-d>g-_?u?function(b,A,p,O,k,I,P,R,N,j,X){for(var F=2*b,Z=O,W=F*O;Z<k;++Z,W+=F){var H=I[A+W],G=I[A+W+b],Y=P[Z];e:for(var se=R,te=F*R;se<N;++se,te+=F){var re=j[A+te],Q=X[se];if(!(re<=H||G<re)){for(var ee=A+1;ee<b;++ee)if(I[ee+b+W]<j[ee+te]||j[ee+b+te]<I[ee+W])continue e;var he=p(Q,Y);if(void 0!==he)return he}}}}(a,o,l,d,m,h,T,_,g,w,x):function(b,A,p,O,k,I,P,R,N,j,X){for(var F=2*b,Z=O,W=F*O;Z<k;++Z,W+=F){var H=I[A+W],G=I[A+W+b],Y=P[Z];e:for(var se=R,te=F*R;se<N;++se,te+=F){var re=j[A+te],Q=X[se];if(!(re<H||G<re)){for(var ee=A+1;ee<b;++ee)if(I[ee+b+W]<j[ee+te]||j[ee+b+te]<I[ee+W])continue e;var he=p(Y,Q);if(void 0!==he)return he}}}}(a,o,l,d,m,h,T,_,g,w,x):u?function(b,A,p,O,k,I,P,R,N,j,X){for(var F=2*b,Z=R,W=F*R;Z<N;++Z,W+=F){var H=j[A+W],G=X[Z];e:for(var Y=O,se=F*O;Y<k;++Y,se+=F){var Q=P[Y];if(!(H<=I[A+se]||I[A+se+b]<H)){for(var ee=A+1;ee<b;++ee)if(I[ee+b+se]<j[ee+W]||j[ee+b+W]<I[ee+se])continue e;var he=p(G,Q);if(void 0!==he)return he}}}}(a,o,l,d,m,h,T,_,g,w,x):function(b,A,p,O,k,I,P,R,N,j,X){for(var F=2*b,Z=R,W=F*R;Z<N;++Z,W+=F){var H=j[A+W],G=X[Z];e:for(var Y=O,se=F*O;Y<k;++Y,se+=F){var Q=P[Y];if(!(H<I[A+se]||I[A+se+b]<H)){for(var ee=A+1;ee<b;++ee)if(I[ee+b+se]<j[ee+W]||j[ee+b+W]<I[ee+se])continue e;var he=p(Q,G);if(void 0!==he)return he}}}}(a,o,l,d,m,h,T,_,g,w,x)}}c.partial=i(!1),c.full=i(!0)},2337:function(v,c,i){"use strict";v.exports=function(F,Z,W,H,G,Y,se,te,re){!function(We,He){var Je=8*a.log2(He+1)*(We+1)|0,et=a.nextPow2(k*Je);P.length<et&&(s.free(P),P=s.mallocInt32(et));var at=a.nextPow2(I*Je);R.length<at&&(s.free(R),R=s.mallocDouble(at))}(F,H+se);var Q,ee=0,oe=2*F;for(N(ee++,0,0,H,0,se,W?16:0,-1/0,1/0),W||N(ee++,0,0,se,0,H,1,-1/0,1/0);ee>0;){var le=(ee-=1)*k,ue=P[le],de=P[le+1],he=P[le+2],we=P[le+3],Ae=P[le+4],Te=P[le+5],ve=ee*I,xe=R[ve],Fe=R[ve+1],Se=1&Te,ke=!!(16&Te),pe=G,fe=Y,be=te,Le=re;if(Se&&(pe=te,fe=re,be=G,Le=Y),!(2&Te&&de>=(he=b(F,ue,de,he,pe,fe,Fe))||4&Te&&(de=A(F,ue,de,he,pe,fe,xe))>=he)){var Oe=he-de,De=Ae-we;if(ke){if(F*Oe*(Oe+De)<g){if(void 0!==(Q=d.scanComplete(F,ue,Z,de,he,pe,fe,we,Ae,be,Le)))return Q;continue}}else{if(F*Math.min(Oe,De)<T){if(void 0!==(Q=l(F,ue,Z,Se,de,he,pe,fe,we,Ae,be,Le)))return Q;continue}if(F*Oe*De<_){if(void 0!==(Q=d.scanBipartite(F,ue,Z,Se,de,he,pe,fe,we,Ae,be,Le)))return Q;continue}}var Ue=w(F,ue,de,he,pe,fe,xe,Fe);if(de<Ue)if(F*(Ue-de)<T){if(void 0!==(Q=u(F,ue+1,Z,de,Ue,pe,fe,we,Ae,be,Le)))return Q}else if(ue===F-2){if(void 0!==(Q=Se?d.sweepBipartite(F,Z,we,Ae,be,Le,de,Ue,pe,fe):d.sweepBipartite(F,Z,de,Ue,pe,fe,we,Ae,be,Le)))return Q}else N(ee++,ue+1,de,Ue,we,Ae,Se,-1/0,1/0),N(ee++,ue+1,we,Ae,de,Ue,1^Se,-1/0,1/0);if(Ue<he){var Ge=m(F,ue,we,Ae,be,Le),ye=be[oe*Ge+ue],Ie=x(F,ue,Ge,Ae,be,Le,ye);if(Ie<Ae&&N(ee++,ue,Ue,he,Ie,Ae,(4|Se)+(ke?16:0),ye,Fe),we<Ge&&N(ee++,ue,Ue,he,we,Ge,(2|Se)+(ke?16:0),xe,ye),Ge+1===Ie){if(void 0!==(Q=ke?X(F,ue,Z,Ue,he,pe,fe,Ge,be,Le[Ge]):j(F,ue,Z,Se,Ue,he,pe,fe,Ge,be,Le[Ge])))return Q}else if(Ge<Ie){var Ee;if(ke){if(Ue<(Ee=p(F,ue,Ue,he,pe,fe,ye))){var Be=x(F,ue,Ue,Ee,pe,fe,ye);if(ue===F-2){if(Ue<Be&&void 0!==(Q=d.sweepComplete(F,Z,Ue,Be,pe,fe,Ge,Ie,be,Le))||Be<Ee&&void 0!==(Q=d.sweepBipartite(F,Z,Be,Ee,pe,fe,Ge,Ie,be,Le)))return Q}else Ue<Be&&N(ee++,ue+1,Ue,Be,Ge,Ie,16,-1/0,1/0),Be<Ee&&(N(ee++,ue+1,Be,Ee,Ge,Ie,0,-1/0,1/0),N(ee++,ue+1,Ge,Ie,Be,Ee,1,-1/0,1/0))}}else Ue<(Ee=Se?O(F,ue,Ue,he,pe,fe,ye):p(F,ue,Ue,he,pe,fe,ye))&&(ue===F-2?Q=Se?d.sweepBipartite(F,Z,Ge,Ie,be,Le,Ue,Ee,pe,fe):d.sweepBipartite(F,Z,Ue,Ee,pe,fe,Ge,Ie,be,Le):(N(ee++,ue+1,Ue,Ee,Ge,Ie,Se,-1/0,1/0),N(ee++,ue+1,Ge,Ie,Ue,Ee,1^Se,-1/0,1/0)))}}}}};var s=i(5306),a=i(2288),o=i(7333),l=o.partial,u=o.full,d=i(1390),m=i(2464),h=i(122),T=128,_=1<<22,g=1<<22,w=h("!(lo>=p0)&&!(p1>=hi)"),x=h("lo===p0"),b=h("lo<p0"),A=h("hi<=p0"),p=h("lo<=p0&&p0<=hi"),O=h("lo<p0&&p0<=hi"),k=6,I=2,P=s.mallocInt32(1024),R=s.mallocDouble(1024);function N(F,Z,W,H,G,Y,se,te,re){var Q=k*F;P[Q]=Z,P[Q+1]=W,P[Q+2]=H,P[Q+3]=G,P[Q+4]=Y,P[Q+5]=se;var ee=I*F;R[ee]=te,R[ee+1]=re}function j(F,Z,W,H,G,Y,se,te,re,Q,ee){var oe=2*F,le=re*oe,ue=Q[le+Z];e:for(var de=G,he=G*oe;de<Y;++de,he+=oe){var we=se[he+Z],Ae=se[he+Z+F];if(!(ue<we||Ae<ue||H&&ue===we)){for(var Te,ve=te[de],xe=Z+1;xe<F;++xe)if(we=se[he+xe],(Ae=se[he+xe+F])<Q[le+xe]||Q[le+xe+F]<we)continue e;if(void 0!==(Te=H?W(ee,ve):W(ve,ee)))return Te}}}function X(F,Z,W,H,G,Y,se,te,re,Q){var ee=2*F,oe=te*ee,le=re[oe+Z];e:for(var ue=H,de=H*ee;ue<G;++ue,de+=ee){var he=se[ue];if(he!==Q){var we=Y[de+Z],Ae=Y[de+Z+F];if(!(le<we||Ae<le)){for(var Te=Z+1;Te<F;++Te)if(we=Y[de+Te],(Ae=Y[de+Te+F])<re[oe+Te]||re[oe+Te+F]<we)continue e;var Fe=W(he,Q);if(void 0!==Fe)return Fe}}}}},2464:function(v,c,i){"use strict";v.exports=function(l,u,d,m,h,T){if(m<=d+1)return d;for(var _=d,g=m,w=m+d>>>1,x=2*l,b=w,A=h[x*w+u];_<g;){if(g-_<a){o(l,u,_,g,h,T),A=h[x*w+u];break}var p=g-_,O=Math.random()*p+_|0,k=h[x*O+u],I=Math.random()*p+_|0,P=h[x*I+u],R=Math.random()*p+_|0,N=h[x*R+u];k<=P?N>=P?(b=I,A=P):k>=N?(b=O,A=k):(b=R,A=N):P>=N?(b=I,A=P):N>=k?(b=O,A=k):(b=R,A=N);for(var j=x*(g-1),X=x*b,F=0;F<x;++F,++j,++X){var Z=h[j];h[j]=h[X],h[X]=Z}var W=T[g-1];for(T[g-1]=T[b],T[b]=W,j=x*(g-1),X=x*(b=s(l,u,_,g-1,h,T,A)),F=0;F<x;++F,++j,++X)Z=h[j],h[j]=h[X],h[X]=Z;if(W=T[g-1],T[g-1]=T[b],T[b]=W,w<b){for(g=b-1;_<g&&h[x*(g-1)+u]===A;)g-=1;g+=1}else{if(!(b<w))break;for(_=b+1;_<g&&h[x*_+u]===A;)_+=1}}return s(l,u,d,w,h,T,h[x*w+u])};var s=i(122)("lo<p0"),a=8;function o(l,u,d,m,h,T){for(var _=2*l,g=_*(d+1)+u,w=d+1;w<m;++w,g+=_)for(var x=h[g],b=w,A=_*(w-1);b>d&&h[A+u]>x;--b,A-=_){for(var p=A,O=A+_,k=0;k<_;++k,++p,++O){var I=h[p];h[p]=h[O],h[O]=I}var P=T[b];T[b]=T[b-1],T[b-1]=P}}},122:function(v){"use strict";v.exports=function(i){return c[i]};var c={"lo===p0":function(i,s,a,o,l,u,d){for(var m=2*i,h=m*a,T=h,_=a,g=s,w=a;o>w;++w,h+=m)if(l[h+g]===d)if(_===w)_+=1,T+=m;else{for(var x=0;m>x;++x){var b=l[h+x];l[h+x]=l[T],l[T++]=b}var A=u[w];u[w]=u[_],u[_++]=A}return _},"lo<p0":function(i,s,a,o,l,u,d){for(var m=2*i,h=m*a,T=h,_=a,g=s,w=a;o>w;++w,h+=m)if(l[h+g]<d)if(_===w)_+=1,T+=m;else{for(var x=0;m>x;++x){var b=l[h+x];l[h+x]=l[T],l[T++]=b}var A=u[w];u[w]=u[_],u[_++]=A}return _},"lo<=p0":function(i,s,a,o,l,u,d){for(var m=2*i,h=m*a,T=h,_=a,g=i+s,w=a;o>w;++w,h+=m)if(l[h+g]<=d)if(_===w)_+=1,T+=m;else{for(var x=0;m>x;++x){var b=l[h+x];l[h+x]=l[T],l[T++]=b}var A=u[w];u[w]=u[_],u[_++]=A}return _},"hi<=p0":function(i,s,a,o,l,u,d){for(var m=2*i,h=m*a,T=h,_=a,g=i+s,w=a;o>w;++w,h+=m)if(l[h+g]<=d)if(_===w)_+=1,T+=m;else{for(var x=0;m>x;++x){var b=l[h+x];l[h+x]=l[T],l[T++]=b}var A=u[w];u[w]=u[_],u[_++]=A}return _},"lo<p0&&p0<=hi":function(i,s,a,o,l,u,d){for(var m=2*i,h=m*a,T=h,_=a,g=s,w=i+s,x=a;o>x;++x,h+=m)if(l[h+g]<d&&d<=l[h+w])if(_===x)_+=1,T+=m;else{for(var p=0;m>p;++p){var O=l[h+p];l[h+p]=l[T],l[T++]=O}var k=u[x];u[x]=u[_],u[_++]=k}return _},"lo<=p0&&p0<=hi":function(i,s,a,o,l,u,d){for(var m=2*i,h=m*a,T=h,_=a,g=s,w=i+s,x=a;o>x;++x,h+=m)if(l[h+g]<=d&&d<=l[h+w])if(_===x)_+=1,T+=m;else{for(var p=0;m>p;++p){var O=l[h+p];l[h+p]=l[T],l[T++]=O}var k=u[x];u[x]=u[_],u[_++]=k}return _},"!(lo>=p0)&&!(p1>=hi)":function(i,s,a,o,l,u,d,m){for(var h=2*i,T=h*a,_=T,g=a,w=s,x=i+s,b=a;o>b;++b,T+=h)if(!(l[T+w]>=d||m>=l[T+x]))if(g===b)g+=1,_+=h;else{for(var O=0;h>O;++O){var k=l[T+O];l[T+O]=l[_],l[_++]=k}var I=u[b];u[b]=u[g],u[g++]=I}return g}}},309:function(v){"use strict";v.exports=function(h,T){T<=4*c?i(0,T-1,h):m(0,T-1,h)};var c=32;function i(h,T,_){for(var g=2*(h+1),w=h+1;w<=T;++w){for(var x=_[g++],b=_[g++],A=w,p=g-2;A-- >h;){var O=_[p-2],k=_[p-1];if(O<x||O===x&&k<b)break;_[p]=O,_[p+1]=k,p-=2}_[p]=x,_[p+1]=b}}function s(h,T,_){var g=_[h*=2],w=_[h+1];_[h]=_[T*=2],_[h+1]=_[T+1],_[T]=g,_[T+1]=w}function a(h,T,_){_[h*=2]=_[T*=2],_[h+1]=_[T+1]}function o(h,T,_,g){_*=2;var w=g[h*=2],x=g[h+1];g[h]=g[T*=2],g[h+1]=g[T+1],g[T]=g[_],g[T+1]=g[_+1],g[_]=w,g[_+1]=x}function l(h,T,_,g,w){w[h*=2]=w[T*=2],w[T]=_,w[h+1]=w[T+1],w[T+1]=g}function u(h,T,_){var g=_[h*=2],w=_[T*=2];return!(g<w)&&(g!==w||_[h+1]>_[T+1])}function d(h,T,_,g){var w=g[h*=2];return w<T||w===T&&g[h+1]<_}function m(h,T,_){var g=(T-h+1)/6|0,w=h+g,x=T-g,b=h+T>>1,A=b-g,p=b+g,O=w,k=A,I=b,P=p,R=x,N=h+1,j=T-1,X=0;u(O,k,_)&&(X=O,O=k,k=X),u(P,R,_)&&(X=P,P=R,R=X),u(O,I,_)&&(X=O,O=I,I=X),u(k,I,_)&&(X=k,k=I,I=X),u(O,P,_)&&(X=O,O=P,P=X),u(I,P,_)&&(X=I,I=P,P=X),u(k,R,_)&&(X=k,k=R,R=X),u(k,I,_)&&(X=k,k=I,I=X),u(P,R,_)&&(X=P,P=R,R=X);for(var F=_[2*k],Z=_[2*k+1],W=_[2*P],H=_[2*P+1],G=2*O,Y=2*I,se=2*R,te=2*w,re=2*b,Q=2*x,ee=0;ee<2;++ee){var le=_[Y+ee],ue=_[se+ee];_[te+ee]=_[G+ee],_[re+ee]=le,_[Q+ee]=ue}a(A,h,_),a(p,T,_);for(var de=N;de<=j;++de)if(d(de,F,Z,_))de!==N&&s(de,N,_),++N;else if(!d(de,W,H,_))for(;;){if(d(j,W,H,_)){d(j,F,Z,_)?(o(de,N,j,_),++N,--j):(s(de,j,_),--j);break}if(--j<de)break}l(h,N-1,F,Z,_),l(T,j+1,W,H,_),N-2-h<=c?i(h,N-2,_):m(h,N-2,_),T-(j+2)<=c?i(j+2,T,_):m(j+2,T,_),j-N<=c?i(N,j,_):m(N,j,_)}},1390:function(v,c,i){"use strict";v.exports={init:function(A){var p=a.nextPow2(A);d.length<p&&(s.free(d),d=s.mallocInt32(p)),m.length<p&&(s.free(m),m=s.mallocInt32(p)),h.length<p&&(s.free(h),h=s.mallocInt32(p)),T.length<p&&(s.free(T),T=s.mallocInt32(p)),_.length<p&&(s.free(_),_=s.mallocInt32(p)),g.length<p&&(s.free(g),g=s.mallocInt32(p));var O=8*p;w.length<O&&(s.free(w),w=s.mallocDouble(O))},sweepBipartite:function(A,p,O,k,I,P,R,N,j,X){for(var F=0,Z=2*A,W=A-1,H=Z-1,G=O;G<k;++G){var Y=P[G],se=Z*G;w[F++]=I[se+W],w[F++]=-(Y+1),w[F++]=I[se+H],w[F++]=Y}for(G=R;G<N;++G){Y=X[G]+l;var te=Z*G;w[F++]=j[te+W],w[F++]=-Y,w[F++]=j[te+H],w[F++]=Y}var re=F>>>1;o(w,re);var Q=0,ee=0;for(G=0;G<re;++G){var oe=0|w[2*G+1];if(oe>=l)x(h,T,ee--,oe=oe-l|0);else if(oe>=0)x(d,m,Q--,oe);else if(oe<=-l){oe=-oe-l|0;for(var le=0;le<Q;++le)if(void 0!==(ue=p(d[le],oe)))return ue;b(h,T,ee++,oe)}else{for(oe=-oe-1|0,le=0;le<ee;++le){var ue;if(void 0!==(ue=p(oe,h[le])))return ue}b(d,m,Q++,oe)}}},sweepComplete:function(A,p,O,k,I,P,R,N,j,X){for(var F=0,Z=2*A,W=A-1,H=Z-1,G=O;G<k;++G){var Y=P[G]+1<<1,se=Z*G;w[F++]=I[se+W],w[F++]=-Y,w[F++]=I[se+H],w[F++]=Y}for(G=R;G<N;++G){Y=X[G]+1<<1;var te=Z*G;w[F++]=j[te+W],w[F++]=1|-Y,w[F++]=j[te+H],w[F++]=1|Y}var re=F>>>1;o(w,re);var Q=0,ee=0,oe=0;for(G=0;G<re;++G){var le=0|w[2*G+1],ue=1&le;if(G<re-1&&le>>1==w[2*G+3]>>1&&(ue=2,G+=1),le<0){for(var de=-(le>>1)-1,he=0;he<oe;++he)if(void 0!==(we=p(_[he],de)))return we;if(0!==ue)for(he=0;he<Q;++he)if(void 0!==(we=p(d[he],de)))return we;if(1!==ue)for(he=0;he<ee;++he){var we;if(void 0!==(we=p(h[he],de)))return we}0===ue?b(d,m,Q++,de):1===ue?b(h,T,ee++,de):2===ue&&b(_,g,oe++,de)}else de=(le>>1)-1,0===ue?x(d,m,Q--,de):1===ue?x(h,T,ee--,de):2===ue&&x(_,g,oe--,de)}},scanBipartite:function(A,p,O,k,I,P,R,N,j,X,F,Z){var W=0,H=2*A,G=p,Y=p+A,se=1,te=1;k?te=l:se=l;for(var re=I;re<P;++re){var Q=re+se,ee=H*re;w[W++]=R[ee+G],w[W++]=-Q,w[W++]=R[ee+Y],w[W++]=Q}for(re=j;re<X;++re)Q=re+te,w[W++]=F[H*re+G],w[W++]=-Q;var le=W>>>1;o(w,le);var ue=0;for(re=0;re<le;++re){var de=0|w[2*re+1];if(de<0){var he=!1;if((Q=-de)>=l?(he=!k,Q-=l):(he=!!k,Q-=1),he)b(d,m,ue++,Q);else{var we=Z[Q],Ae=H*Q,Te=F[Ae+p+1],ve=F[Ae+p+1+A];e:for(var xe=0;xe<ue;++xe){var Fe=d[xe],Se=H*Fe;if(!(ve<R[Se+p+1]||R[Se+p+1+A]<Te)){for(var ke=p+2;ke<A;++ke)if(F[Ae+ke+A]<R[Se+ke]||R[Se+ke+A]<F[Ae+ke])continue e;var pe,fe=N[Fe];if(void 0!==(pe=k?O(we,fe):O(fe,we)))return pe}}}}else x(d,m,ue--,de-se)}},scanComplete:function(A,p,O,k,I,P,R,N,j,X,F){for(var Z=0,W=2*A,H=p,G=p+A,Y=k;Y<I;++Y){var se=Y+l,te=W*Y;w[Z++]=P[te+H],w[Z++]=-se,w[Z++]=P[te+G],w[Z++]=se}for(Y=N;Y<j;++Y)se=Y+1,w[Z++]=X[W*Y+H],w[Z++]=-se;var Q=Z>>>1;o(w,Q);var ee=0;for(Y=0;Y<Q;++Y){var oe=0|w[2*Y+1];if(oe<0)if((se=-oe)>=l)d[ee++]=se-l;else{var le=F[se-=1],ue=W*se,de=X[ue+p+1],he=X[ue+p+1+A];e:for(var we=0;we<ee;++we){var Ae=d[we],Te=R[Ae];if(Te===le)break;var ve=W*Ae;if(!(he<P[ve+p+1]||P[ve+p+1+A]<de)){for(var xe=p+2;xe<A;++xe)if(X[ue+xe+A]<P[ve+xe]||P[ve+xe+A]<X[ue+xe])continue e;var Fe=O(Te,le);if(void 0!==Fe)return Fe}}}else{for(se=oe-l,we=ee-1;we>=0;--we)if(d[we]===se){for(xe=we+1;xe<ee;++xe)d[xe-1]=d[xe];break}--ee}}}};var s=i(5306),a=i(2288),o=i(309),l=1<<28,u=1024,d=s.mallocInt32(u),m=s.mallocInt32(u),h=s.mallocInt32(u),T=s.mallocInt32(u),_=s.mallocInt32(u),g=s.mallocInt32(u),w=s.mallocDouble(8192);function x(A,p,O,k){var I=p[k],P=A[O-1];A[I]=P,p[P]=I}function b(A,p,O,k){A[O]=k,p[k]=O}},7761:function(v,c,i){"use strict";var s=i(9971),a=i(743),o=i(2161),l=i(7098);function u(h){return[Math.min(h[0],h[1]),Math.max(h[0],h[1])]}function d(h,T){return h[0]-T[0]||h[1]-T[1]}function m(h,T,_){return T in h?h[T]:_}v.exports=function(h,T,_){Array.isArray(T)?(_=_||{},T=T||[]):(_=T||{},T=[]);var g=!!m(_,"delaunay",!0),w=!!m(_,"interior",!0),x=!!m(_,"exterior",!0),b=!!m(_,"infinity",!1);if(!w&&!x||0===h.length)return[];var A=s(h,T);if(g||w!==x||b){for(var p=a(h.length,T.map(u).sort(d)),O=0;O<A.length;++O){var k=A[O];p.addTriangle(k[0],k[1],k[2])}return g&&o(h,p),x?w?b?l(p,0,b):p.cells():l(p,1,b):l(p,-1)}return A}},2161:function(v,c,i){"use strict";var s=i(2227)[4];function a(o,l,u,d,m,h){var T=l.opposite(d,m);if(!(T<0)){if(m<d){var _=d;d=m,m=_,_=h,h=T,T=_}l.isConstraint(d,m)||s(o[d],o[m],o[h],o[T])<0&&u.push(d,m)}}i(5070),v.exports=function(o,l){for(var u=[],d=o.length,m=l.stars,h=0;h<d;++h)for(var T=m[h],_=1;_<T.length;_+=2)if(!((b=T[_])<h||l.isConstraint(h,b))){for(var g=T[_-1],w=-1,x=1;x<T.length;x+=2)if(T[x-1]===b){w=T[x];break}w<0||s(o[h],o[b],o[g],o[w])<0&&u.push(h,b)}for(;u.length>0;){for(var b=u.pop(),A=(g=-1,w=-1,T=m[h=u.pop()],1);A<T.length;A+=2){var p=T[A-1],O=T[A];p===b?w=O:O===b&&(g=p)}g<0||w<0||s(o[h],o[b],o[g],o[w])>=0||(l.flip(h,b),a(o,l,u,g,h,w),a(o,l,u,h,w,g),a(o,l,u,w,b,g),a(o,l,u,b,g,w))}}},7098:function(v,c,i){"use strict";var s,a=i(5070);function o(u,d,m,h,T,_,g){this.cells=u,this.neighbor=d,this.flags=h,this.constraint=m,this.active=T,this.next=_,this.boundary=g}function l(u,d){return u[0]-d[0]||u[1]-d[1]||u[2]-d[2]}v.exports=function(u,d,m){var h=function(R,N){for(var j=R.cells(),X=j.length,F=0;F<X;++F){var Z=(oe=j[F])[0],W=oe[1],H=oe[2];W<H?W<Z&&(oe[0]=W,oe[1]=H,oe[2]=Z):H<Z&&(oe[0]=H,oe[1]=Z,oe[2]=W)}j.sort(l);var G=new Array(X);for(F=0;F<G.length;++F)G[F]=0;var Y=[],se=[],te=new Array(3*X),re=new Array(3*X),Q=null;N&&(Q=[]);var ee=new o(j,te,re,G,Y,se,Q);for(F=0;F<X;++F)for(var oe=j[F],le=0;le<3;++le){var ue=te[3*F+le]=ee.locate(W=oe[(le+1)%3],Z=oe[le],R.opposite(W,Z)),de=re[3*F+le]=R.isConstraint(Z,W);ue<0&&(de?se.push(F):(Y.push(F),G[F]=1),N&&Q.push([W,Z,-1]))}return ee}(u,m);if(0===d)return m?h.cells.concat(h.boundary):h.cells;for(var T=1,_=h.active,g=h.next,w=h.flags,x=h.cells,b=h.constraint,A=h.neighbor;_.length>0||g.length>0;){for(;_.length>0;){var p=_.pop();if(w[p]!==-T){w[p]=T;for(var O=0;O<3;++O){var k=A[3*p+O];k>=0&&0===w[k]&&(b[3*p+O]?g.push(k):(_.push(k),w[k]=T))}}}var I=g;g=_,_=I,g.length=0,T=-T}var P=function(R,N,j){for(var X=0,F=0;F<R.length;++F)N[F]===j&&(R[X++]=R[F]);return R.length=X,R}(x,w,d);return m?P.concat(h.boundary):P},o.prototype.locate=(s=[0,0,0],function(u,d,m){var h=u,T=d,_=m;return d<m?d<u&&(h=d,T=m,_=u):m<u&&(h=m,T=u,_=d),h<0?-1:(s[0]=h,s[1]=T,s[2]=_,a.eq(this.cells,s,l))})},9971:function(v,c,i){"use strict";var s=i(5070),a=i(417)[3];function o(g,w,x,b,A){this.a=g,this.b=w,this.idx=x,this.lowerIds=b,this.upperIds=A}function l(g,w,x,b){this.a=g,this.b=w,this.type=x,this.idx=b}function u(g,w){var x=g.a[0]-w.a[0]||g.a[1]-w.a[1]||g.type-w.type;return x||(0!==g.type&&(x=a(g.a,g.b,w.b))?x:g.idx-w.idx)}function d(g,w){return a(g.a,g.b,w)}function m(g,w,x,b,A){for(var p=s.lt(w,b,d),O=s.gt(w,b,d),k=p;k<O;++k){for(var I=w[k],P=I.lowerIds,R=P.length;R>1&&a(x[P[R-2]],x[P[R-1]],b)>0;)g.push([P[R-1],P[R-2],A]),R-=1;P.length=R,P.push(A);var N=I.upperIds;for(R=N.length;R>1&&a(x[N[R-2]],x[N[R-1]],b)<0;)g.push([N[R-2],N[R-1],A]),R-=1;N.length=R,N.push(A)}}function h(g,w){var x;return(x=g.a[0]<w.a[0]?a(g.a,g.b,w.a):a(w.b,w.a,g.a))?x:(x=w.b[0]<g.b[0]?a(g.a,g.b,w.b):a(w.b,w.a,g.b))||g.idx-w.idx}function T(g,w,x){var b=s.le(g,x,h),A=g[b],p=A.upperIds,O=p[p.length-1];A.upperIds=[O],g.splice(b+1,0,new o(x.a,x.b,x.idx,[O],p))}function _(g,w,x){var b=x.a;x.a=x.b,x.b=b;var A=s.eq(g,x,h);g[A-1].upperIds=g[A].upperIds,g.splice(A,1)}v.exports=function(g,w){for(var x=g.length,b=w.length,A=[],p=0;p<x;++p)A.push(new l(g[p],null,0,p));for(p=0;p<b;++p){var O=w[p],k=g[O[0]],I=g[O[1]];k[0]<I[0]?A.push(new l(k,I,2,p),new l(I,k,1,p)):k[0]>I[0]&&A.push(new l(I,k,2,p),new l(k,I,1,p))}A.sort(u);for(var P=A[0].a[0]-(1+Math.abs(A[0].a[0]))*Math.pow(2,-52),R=[new o([P,1],[P,0],-1,[],[],[],[])],N=[],j=(p=0,A.length);p<j;++p){var X=A[p],F=X.type;0===F?m(N,R,g,X.a,X.idx):2===F?T(R,0,X):_(R,0,X)}return N}},743:function(v,c,i){"use strict";var s=i(5070);function a(u,d){this.stars=u,this.edges=d}v.exports=function(u,d){for(var m=new Array(u),h=0;h<u;++h)m[h]=[];return new a(m,d)};var o=a.prototype;function l(u,d,m){for(var h=1,T=u.length;h<T;h+=2)if(u[h-1]===d&&u[h]===m)return u[h-1]=u[T-2],u[h]=u[T-1],void(u.length=T-2)}o.isConstraint=function(){var u=[0,0];function d(m,h){return m[0]-h[0]||m[1]-h[1]}return function(m,h){return u[0]=Math.min(m,h),u[1]=Math.max(m,h),s.eq(this.edges,u,d)>=0}}(),o.removeTriangle=function(u,d,m){var h=this.stars;l(h[u],d,m),l(h[d],m,u),l(h[m],u,d)},o.addTriangle=function(u,d,m){var h=this.stars;h[u].push(d,m),h[d].push(m,u),h[m].push(u,d)},o.opposite=function(u,d){for(var m=this.stars[d],h=1,T=m.length;h<T;h+=2)if(m[h]===u)return m[h-1];return-1},o.flip=function(u,d){var m=this.opposite(u,d),h=this.opposite(d,u);this.removeTriangle(u,d,m),this.removeTriangle(d,u,h),this.addTriangle(u,h,m),this.addTriangle(d,m,h)},o.edges=function(){for(var u=this.stars,d=[],m=0,h=u.length;m<h;++m)for(var T=u[m],_=0,g=T.length;_<g;_+=2)d.push([T[_],T[_+1]]);return d},o.cells=function(){for(var u=this.stars,d=[],m=0,h=u.length;m<h;++m)for(var T=u[m],_=0,g=T.length;_<g;_+=2){var w=T[_],x=T[_+1];m<Math.min(w,x)&&d.push([m,w,x])}return d}},9887:function(v){"use strict";v.exports=function(c){for(var i=1,s=1;s<c.length;++s)for(var a=0;a<s;++a)if(c[s]<c[a])i=-i;else if(c[a]===c[s])return 0;return i}},9243:function(v,c,i){"use strict";var s=i(3094),a=i(6606);function o(d,m){for(var h=0,T=d.length,_=0;_<T;++_)h+=d[_]*m[_];return h}function l(d){var m=d.length;if(0===m)return[];var h=s([d.length+1,d.length+1],1),T=s([d.length+1],1);h[m][m]=0;for(var _=0;_<m;++_){for(var g=0;g<=_;++g)h[g][_]=h[_][g]=2*o(d[_],d[g]);T[_]=o(d[_],d[_])}var w=a(h,T),x=0,b=w[m+1];for(_=0;_<b.length;++_)x+=b[_];var A=new Array(m);for(_=0;_<m;++_){b=w[_];var p=0;for(g=0;g<b.length;++g)p+=b[g];A[_]=p/x}return A}function u(d){if(0===d.length)return[];for(var m=d[0].length,h=s([m]),T=l(d),_=0;_<d.length;++_)for(var g=0;g<m;++g)h[g]+=d[_][g]*T[_];return h}u.barycenetric=l,v.exports=u},1778:function(v,c,i){v.exports=function(a){for(var o=s(a),l=0,u=0;u<a.length;++u)for(var d=a[u],m=0;m<o.length;++m)l+=Math.pow(d[m]-o[m],2);return Math.sqrt(l/a.length)};var s=i(9243)},197:function(v,c,i){"use strict";v.exports=function(O,k,I){var P,F,W,H;if(I){P=k;for(var R=new Array(k.length),N=0;N<k.length;++N){var j=k[N];R[N]=[j[0],j[1],I[N]]}k=R}for(var X=(W=!!I,void 0,A(k,H=w(F=O,[],g(F)),W),!!H);p(O,k,!!I);)X=!0;if(I&&X)for(P.length=0,I.length=0,N=0;N<k.length;++N)P.push([(j=k[N])[0],j[1]]),I.push(j[2]);return X};var s=i(1731),a=i(2569),o=i(4434),l=i(5125),u=i(8846),d=i(7999),m=i(2826),h=i(8551),T=i(5528);function _(O){var k=d(O);return[h(k,-1/0),h(k,1/0)]}function g(O){for(var k=new Array(O.length),I=0;I<O.length;++I){var P=O[I];k[I]=[h(P[0],-1/0),h(P[1],-1/0),h(P[0],1/0),h(P[1],1/0)]}return k}function w(O,k,I){for(var P=k.length,R=new s(P),N=[],j=0;j<k.length;++j){var X=k[j],F=_(X[0]),Z=_(X[1]);N.push([h(F[0],-1/0),h(Z[0],-1/0),h(F[1],1/0),h(Z[1],1/0)])}a(N,function(se,te){R.link(se,te)});var W=!0,H=new Array(P);for(j=0;j<P;++j)(Y=R.find(j))!==j&&(W=!1,O[Y]=[Math.min(O[j][0],O[Y][0]),Math.min(O[j][1],O[Y][1])]);if(W)return null;var G=0;for(j=0;j<P;++j){var Y;(Y=R.find(j))===j?(H[j]=G,O[G++]=O[j]):H[j]=-1}for(O.length=G,j=0;j<P;++j)H[j]<0&&(H[j]=H[R.find(j)]);return H}function x(O,k){return O[0]-k[0]||O[1]-k[1]}function b(O,k){return O[0]-k[0]||O[1]-k[1]||(O[2]<k[2]?-1:O[2]>k[2]?1:0)}function A(O,k,I){if(0!==O.length){if(k)for(var P=0;P<O.length;++P){var R=k[(j=O[P])[0]],N=k[j[1]];j[0]=Math.min(R,N),j[1]=Math.max(R,N)}else for(P=0;P<O.length;++P){var j;R=(j=O[P])[0],N=j[1],j[0]=Math.min(R,N),j[1]=Math.max(R,N)}O.sort(I?b:x);var X=1;for(P=1;P<O.length;++P){var F=O[P-1],Z=O[P];(Z[0]!==F[0]||Z[1]!==F[1]||I&&Z[2]!==F[2])&&(O[X++]=Z)}O.length=X}}function p(O,k,I){var F,Z,H,P=function(F,Z){for(var W=new Array(Z.length),H=0;H<Z.length;++H){var G=Z[H],Y=F[G[0]],se=F[G[1]];W[H]=[h(Math.min(Y[0],se[0]),-1/0),h(Math.min(Y[1],se[1]),-1/0),h(Math.max(Y[0],se[0]),1/0),h(Math.max(Y[1],se[1]),1/0)]}return W}(O,k),R=(F=O,Z=k,H=[],a(P,function(G,Y){var se=Z[G],te=Z[Y];se[0]!==te[0]&&se[0]!==te[1]&&se[1]!==te[0]&&se[1]!==te[1]&&o(F[se[0]],F[se[1]],F[te[0]],F[te[1]])&&H.push([G,Y])}),H),N=function(F,Z,W,H){var G=[];return a(W,H,function(Y,se){var te=Z[Y];if(te[0]!==se&&te[1]!==se){var re=F[se];o(F[te[0]],F[te[1]],re,re)&&G.push([Y,se])}}),G}(O,k,P,g(O)),j=function(F,Z,W,H,G){var Y,se,te=F.map(function(pe){return[l(pe[0]),l(pe[1])]});for(Y=0;Y<W.length;++Y){var re=W[Y],Q=re[1],ee=Z[se=re[0]],oe=Z[Q],le=T(m(F[ee[0]]),m(F[ee[1]]),m(F[oe[0]]),m(F[oe[1]]));if(le){var ue=F.length;F.push([d(le[0]),d(le[1])]),te.push(le),H.push([se,ue],[Q,ue])}}for(H.sort(function(pe,fe){if(pe[0]!==fe[0])return pe[0]-fe[0];var be=te[pe[1]],Le=te[fe[1]];return u(be[0],Le[0])||u(be[1],Le[1])}),Y=H.length-1;Y>=0;--Y){var de=Z[se=(Se=H[Y])[0]],he=de[0],we=de[1],Ae=F[he],Te=F[we];if((Ae[0]-Te[0]||Ae[1]-Te[1])<0){var ve=he;he=we,we=ve}de[0]=he;var xe,Fe=de[1]=Se[1];for(G&&(xe=de[2]);Y>0&&H[Y-1][0]===se;){var Se,ke=(Se=H[--Y])[1];Z.push(G?[Fe,ke,xe]:[Fe,ke]),Fe=ke}Z.push(G?[Fe,we,xe]:[Fe,we])}return te}(O,k,R,N,I),X=w(O,j);return A(k,X,I),!!X||R.length>0||N.length>0}},5528:function(v,c,i){"use strict";v.exports=function(T,_,g,w){var x=u(_,T),b=u(w,g),A=h(x,b);if(0===l(A))return null;var p=h(b,u(T,g)),O=a(p,A),k=m(x,O);return d(T,k)};var s=i(3962),a=i(9189),o=i(4354),l=i(4951),u=i(6695),d=i(7584),m=i(4469);function h(T,_){return o(s(T[0],_[1]),s(T[1],_[0]))}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,c,i){"use strict";var s=i(5692),a=i(3578);function o(d){return[d[0]/255,d[1]/255,d[2]/255,d[3]]}function l(d){for(var m,h="#",T=0;T<3;++T)h+=("00"+(m=(m=d[T]).toString(16))).substr(m.length);return h}function u(d){return"rgba("+d.join(",")+")"}v.exports=function(d){var m,h,T,_,g,w,x,b,A,p;if(d||(d={}),b=(d.nshades||72)-1,x=d.format||"hex",(w=d.colormap)||(w="jet"),"string"==typeof w){if(w=w.toLowerCase(),!s[w])throw Error(w+" not a supported colorscale");g=s[w]}else{if(!Array.isArray(w))throw Error("unsupported colormap option",w);g=w.slice()}if(g.length>b+1)throw new Error(w+" map requires nshades to be at least size "+g.length);A=Array.isArray(d.alpha)?2!==d.alpha.length?[1,1]:d.alpha.slice():"number"==typeof d.alpha?[d.alpha,d.alpha]:[1,1],m=g.map(function(R){return Math.round(R.index*b)}),A[0]=Math.min(Math.max(A[0],0),1),A[1]=Math.min(Math.max(A[1],0),1);var O=g.map(function(R,N){var j=g[N].index,X=g[N].rgb.slice();return 4===X.length&&X[3]>=0&&X[3]<=1||(X[3]=A[0]+(A[1]-A[0])*j),X}),k=[];for(p=0;p<m.length-1;++p){_=m[p+1]-m[p],h=O[p],T=O[p+1];for(var I=0;I<_;I++){var P=I/_;k.push([Math.round(a(h[0],T[0],P)),Math.round(a(h[1],T[1],P)),Math.round(a(h[2],T[2],P)),a(h[3],T[3],P)])}}return k.push(g[g.length-1].rgb.concat(A[1])),"hex"===x?k=k.map(l):"rgbaString"===x?k=k.map(u):"float"===x&&(k=k.map(o)),k}},9398:function(v,c,i){"use strict";v.exports=function(m,h,T,_){var g=s(h,T,_);if(0===g){var w=a(s(m,h,T)),x=a(s(m,h,_));if(w===x){if(0===w){var b=d(m,h,T);return b===d(m,h,_)?0:b?1:-1}return 0}return 0===x?w>0||d(m,h,_)?-1:1:0===w?x>0||d(m,h,T)?1:-1:a(x-w)}var A=s(m,h,T);return A>0?g>0&&s(m,h,_)>0?1:-1:A<0?g>0||s(m,h,_)>0?1:-1:s(m,h,_)>0||d(m,h,T)?1:-1};var s=i(417),a=i(7538),o=i(87),l=i(2019),u=i(9662);function d(m,h,T){var _=o(m[0],-h[0]),g=o(m[1],-h[1]),w=o(T[0],-h[0]),x=o(T[1],-h[1]),b=u(l(_,w),l(g,x));return b[b.length-1]>=0}},7538:function(v){"use strict";v.exports=function(c){return c<0?-1:c>0?1:0}},9209:function(v){v.exports=function(s,a){var o=s.length,l=s.length-a.length;if(l)return l;switch(o){case 0:return 0;case 1:return s[0]-a[0];case 2:return s[0]+s[1]-a[0]-a[1]||c(s[0],s[1])-c(a[0],a[1]);case 3:var u=s[0]+s[1],d=a[0]+a[1];if(l=u+s[2]-(d+a[2]))return l;var m=c(s[0],s[1]),h=c(a[0],a[1]);return c(m,s[2])-c(h,a[2])||c(m+s[2],u)-c(h+a[2],d);case 4:var T=s[0],_=s[1],g=s[2],w=s[3],x=a[0],b=a[1],A=a[2],p=a[3];return T+_+g+w-(x+b+A+p)||c(T,_,g,w)-c(x,b,A,p,x)||c(T+_,T+g,T+w,_+g,_+w,g+w)-c(x+b,x+A,x+p,b+A,b+p,A+p)||c(T+_+g,T+_+w,T+g+w,_+g+w)-c(x+b+A,x+b+p,x+A+p,b+A+p);default:for(var O=s.slice().sort(i),k=a.slice().sort(i),I=0;I<o;++I)if(l=O[I]-k[I])return l;return 0}};var c=Math.min;function i(s,a){return s-a}},1284:function(v,c,i){"use strict";var s=i(9209),a=i(9887);v.exports=function(o,l){return s(o,l)||a(o)-a(l)}},5537:function(v,c,i){"use strict";var s=i(8950),a=i(8722),o=i(3332);v.exports=function(l){var u=l.length;if(0===u)return[];if(1===u)return[[0]];var d=l[0].length;return 0===d?[]:1===d?s(l):2===d?a(l):o(l,d)}},8950:function(v){"use strict";v.exports=function(c){for(var i=0,s=0,a=1;a<c.length;++a)c[a][0]<c[i][0]&&(i=a),c[a][0]>c[s][0]&&(s=a);return i<s?[[i],[s]]:i>s?[[s],[i]]:[[i]]}},8722:function(v,c,i){"use strict";v.exports=function(a){var o=s(a),l=o.length;if(l<=2)return[];for(var u=new Array(l),d=o[l-1],m=0;m<l;++m){var h=o[m];u[m]=[d,h],d=h}return u};var s=i(3266)},3332:function(v,c,i){"use strict";v.exports=function(o,l){try{return s(o,!0)}catch{var u=a(o);if(u.length<=l)return[];var d=function(h,T){for(var _=h.length,g=new Array(_),w=0;w<T.length;++w)g[w]=h[T[w]];var x=T.length;for(w=0;w<_;++w)T.indexOf(w)<0&&(g[x++]=h[w]);return g}(o,u);return function(h,T){for(var _=h.length,g=T.length,w=0;w<_;++w)for(var x=h[w],b=0;b<x.length;++b){var A=x[b];if(A<g)x[b]=T[A];else{A-=g;for(var p=0;p<g;++p)A>=T[p]&&(A+=1);x[b]=A}}return h}(s(d,!0),u)}};var s=i(2183),a=i(2153)},9680:function(v){"use strict";v.exports=function(c,i,s,a,o,l){var u=o-1,d=o*o,m=u*u,h=(1+2*o)*m,T=o*m,_=d*(3-2*o),g=d*u;if(c.length){l||(l=new Array(c.length));for(var w=c.length-1;w>=0;--w)l[w]=h*c[w]+T*i[w]+_*s[w]+g*a[w];return l}return h*c+T*i+_*s+g*a},v.exports.derivative=function(c,i,s,a,o,l){var u=6*o*o-6*o,d=3*o*o-4*o+1,m=-6*o*o+6*o,h=3*o*o-2*o;if(c.length){l||(l=new Array(c.length));for(var T=c.length-1;T>=0;--T)l[T]=u*c[T]+d*i[T]+m*s[T]+h*a[T];return l}return u*c+d*i+m*s[T]+h*a}},4419:function(v,c,i){"use strict";var s=i(2183),a=i(1215);function o(u,d){this.point=u,this.index=d}function l(u,d){for(var m=u.point,h=d.point,T=m.length,_=0;_<T;++_){var g=h[_]-m[_];if(g)return g}return 0}v.exports=function(u,d){var m=u.length;if(0===m)return[];var h=u[0].length;if(h<1)return[];if(1===h)return function(j,X,F){if(1===j)return F?[[-1,0]]:[];var Z=X.map(function(se,te){return[se[0],te]});Z.sort(function(se,te){return se[0]-te[0]});for(var W=new Array(j-1),H=1;H<j;++H)W[H-1]=[Z[H-1][1],Z[H][1]];return F&&W.push([-1,W[0][1]],[W[j-1][1],-1]),W}(m,u,d);for(var T=new Array(m),_=1,g=0;g<m;++g){for(var w=u[g],x=new Array(h+1),b=0,A=0;A<h;++A){var p=w[A];x[A]=p,b+=p*p}x[h]=b,T[g]=new o(x,g),_=Math.max(b,_)}a(T,l),m=T.length;var O=new Array(m+h+1),k=new Array(m+h+1),I=(h+1)*(h+1)*_,P=new Array(h+1);for(g=0;g<=h;++g)P[g]=0;for(P[h]=I,O[0]=P.slice(),k[0]=-1,g=0;g<=h;++g)(x=P.slice())[g]=1,O[g+1]=x,k[g+1]=-1;for(g=0;g<m;++g){var R=T[g];O[g+h+1]=R.point,k[g+h+1]=R.index}var N=s(O,!1);if(N=N.filter(d?function(j){for(var X=0,F=0;F<=h;++F){var Z=k[j[F]];if(Z<0&&++X>=2)return!1;j[F]=Z}return!0}:function(j){for(var X=0;X<=h;++X){var F=k[j[X]];if(F<0)return!1;j[X]=F}return!0}),1&h)for(g=0;g<N.length;++g)x=(R=N[g])[0],R[0]=R[1],R[1]=x;return N}},8362:function(v){var c=!1;if(typeof Float64Array<"u"){var i=new Float64Array(1),s=new Uint32Array(i.buffer);i[0]=1,c=!0,1072693248===s[1]?(v.exports=function(o){return i[0]=o,[s[0],s[1]]},v.exports.pack=function(o,l){return s[0]=o,s[1]=l,i[0]},v.exports.lo=function(o){return i[0]=o,s[0]},v.exports.hi=function(o){return i[0]=o,s[1]}):1072693248===s[0]?(v.exports=function(o){return i[0]=o,[s[1],s[0]]},v.exports.pack=function(o,l){return s[1]=o,s[0]=l,i[0]},v.exports.lo=function(o){return i[0]=o,s[1]},v.exports.hi=function(o){return i[0]=o,s[0]}):c=!1}if(!c){var a=new Buffer(8);v.exports=function(o){return a.writeDoubleLE(o,0,!0),[a.readUInt32LE(0,!0),a.readUInt32LE(4,!0)]},v.exports.pack=function(o,l){return a.writeUInt32LE(o,0,!0),a.writeUInt32LE(l,4,!0),a.readDoubleLE(0,!0)},v.exports.lo=function(o){return a.writeDoubleLE(o,0,!0),a.readUInt32LE(0,!0)},v.exports.hi=function(o){return a.writeDoubleLE(o,0,!0),a.readUInt32LE(4,!0)}}v.exports.sign=function(o){return v.exports.hi(o)>>>31},v.exports.exponent=function(o){return(v.exports.hi(o)<<1>>>21)-1023},v.exports.fraction=function(o){var l=v.exports.lo(o),u=v.exports.hi(o),d=1048575&u;return 2146435072&u&&(d+=1048576),[l,d]},v.exports.denormalized=function(o){return!(2146435072&v.exports.hi(o))}},3094:function(v){"use strict";function c(i,s,a){var o=0|i[a];if(o<=0)return[];var l,u=new Array(o);if(a===i.length-1)for(l=0;l<o;++l)u[l]=s;else for(l=0;l<o;++l)u[l]=c(i,s,a+1);return u}v.exports=function(i,s){switch(void 0===s&&(s=0),typeof i){case"number":if(i>0)return function(a,o){var l,u;for(l=new Array(a),u=0;u<a;++u)l[u]=o;return l}(0|i,s);break;case"object":if("number"==typeof i.length)return c(i,s,0)}return[]}},8348:function(v,c,i){"use strict";v.exports=function(a,o){var l=a.length;if("number"!=typeof o){o=0;for(var u=0;u<l;++u){var d=a[u];o=Math.max(o,d[0],d[1])}o=1+(0|o)}o|=0;var m=new Array(o);for(u=0;u<o;++u)m[u]=[];for(u=0;u<l;++u)m[(d=a[u])[0]].push(d[1]),m[d[1]].push(d[0]);for(var h=0;h<o;++h)s(m[h],function(T,_){return T-_});return m};var s=i(1215)},5795:function(v){"use strict";v.exports=function(c,i,s){var a=i||0,o=s||1;return[[c[12]+c[0],c[13]+c[1],c[14]+c[2],c[15]+c[3]],[c[12]-c[0],c[13]-c[1],c[14]-c[2],c[15]-c[3]],[c[12]+c[4],c[13]+c[5],c[14]+c[6],c[15]+c[7]],[c[12]-c[4],c[13]-c[5],c[14]-c[6],c[15]-c[7]],[a*c[12]+c[8],a*c[13]+c[9],a*c[14]+c[10],a*c[15]+c[11]],[o*c[12]-c[8],o*c[13]-c[9],o*c[14]-c[10],o*c[15]-c[11]]]}},8444:function(v,c,i){"use strict";v.exports=function(m,h,T){switch(arguments.length){case 0:return new l([0],[0],0);case 1:return"number"==typeof m?new l(_=d(m),_,0):new l(m,d(m.length),0);case 2:var _;if("number"==typeof h)return new l(m,_=d(m.length),+h);T=0;case 3:if(m.length!==h.length)throw new Error("state and velocity lengths must match");return new l(m,h,T)}};var s=i(9680),a=i(5070);function o(m,h,T){return Math.min(h,Math.max(m,T))}function l(m,h,T){this.dimension=m.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var _=0;_<this.dimension;++_)this.bounds[0][_]=-1/0,this.bounds[1][_]=1/0;this._state=m.slice().reverse(),this._velocity=h.slice().reverse(),this._time=[T],this._scratch=[m.slice(),m.slice(),m.slice(),m.slice(),m.slice()]}var u=l.prototype;function d(m){for(var h=new Array(m),T=0;T<m;++T)h[T]=0;return h}u.flush=function(m){var h=a.gt(this._time,m)-1;h<=0||(this._time.splice(0,h),this._state.splice(0,h*this.dimension),this._velocity.splice(0,h*this.dimension))},u.curve=function(m){var h=this._time,T=h.length,_=a.le(h,m),g=this._scratch[0],w=this._state,x=this._velocity,b=this.dimension,A=this.bounds;if(_<0)for(var p=b-1,O=0;O<b;++O,--p)g[O]=w[p];else if(_>=T-1){p=w.length-1;var k=m-h[T-1];for(O=0;O<b;++O,--p)g[O]=w[p]+k*x[p]}else{p=b*(_+1)-1;var I=h[_],P=h[_+1]-I||1,R=this._scratch[1],N=this._scratch[2],j=this._scratch[3],X=this._scratch[4],F=!0;for(O=0;O<b;++O,--p)R[O]=w[p],j[O]=x[p]*P,N[O]=w[p+b],X[O]=x[p+b]*P,F=F&&R[O]===N[O]&&j[O]===X[O]&&0===j[O];if(F)for(O=0;O<b;++O)g[O]=R[O];else s(R,j,N,X,(m-I)/P,g)}var Z=A[0],W=A[1];for(O=0;O<b;++O)g[O]=o(Z[O],W[O],g[O]);return g},u.dcurve=function(m){var h=this._time,T=h.length,_=a.le(h,m),g=this._scratch[0],w=this._state,x=this._velocity,b=this.dimension;if(_>=T-1)for(var A=w.length-1,p=0;p<b;++p,--A)g[p]=x[A];else{A=b*(_+1)-1;var O=h[_],k=h[_+1]-O||1,I=this._scratch[1],P=this._scratch[2],R=this._scratch[3],N=this._scratch[4],j=!0;for(p=0;p<b;++p,--A)I[p]=w[A],R[p]=x[A]*k,P[p]=w[A+b],N[p]=x[A+b]*k,j=j&&I[p]===P[p]&&R[p]===N[p]&&0===R[p];if(j)for(p=0;p<b;++p)g[p]=0;else for(s.derivative(I,R,P,N,(m-O)/k,g),p=0;p<b;++p)g[p]/=k}return g},u.lastT=function(){var m=this._time;return m[m.length-1]},u.stable=function(){for(var m=this._velocity,h=m.length,T=this.dimension-1;T>=0;--T)if(m[--h])return!1;return!0},u.jump=function(m){var h=this.lastT(),T=this.dimension;if(!(m<h||arguments.length!==T+1)){var _=this._state,g=this._velocity,w=_.length-this.dimension,x=this.bounds,b=x[0],A=x[1];this._time.push(h,m);for(var p=0;p<2;++p)for(var O=0;O<T;++O)_.push(_[w++]),g.push(0);for(this._time.push(m),O=T;O>0;--O)_.push(o(b[O-1],A[O-1],arguments[O])),g.push(0)}},u.push=function(m){var h=this.lastT(),T=this.dimension;if(!(m<h||arguments.length!==T+1)){var _=this._state,g=this._velocity,w=_.length-this.dimension,x=m-h,b=this.bounds,A=b[0],p=b[1],O=x>1e-6?1/x:0;this._time.push(m);for(var k=T;k>0;--k){var I=o(A[k-1],p[k-1],arguments[k]);_.push(I),g.push((I-_[w++])*O)}}},u.set=function(m){var h=this.dimension;if(!(m<this.lastT()||arguments.length!==h+1)){var T=this._state,_=this._velocity,g=this.bounds,w=g[0],x=g[1];this._time.push(m);for(var b=h;b>0;--b)T.push(o(w[b-1],x[b-1],arguments[b])),_.push(0)}},u.move=function(m){var h=this.lastT(),T=this.dimension;if(!(m<=h||arguments.length!==T+1)){var _=this._state,g=this._velocity,w=_.length-this.dimension,x=this.bounds,b=x[0],A=x[1],p=m-h,O=p>1e-6?1/p:0;this._time.push(m);for(var k=T;k>0;--k){var I=arguments[k];_.push(o(b[k-1],A[k-1],_[w++]+I)),g.push(I*O)}}},u.idle=function(m){var h=this.lastT();if(!(m<h)){var T=this.dimension,_=this._state,g=this._velocity,w=_.length-T,x=this.bounds,b=x[0],A=x[1],p=m-h;this._time.push(m);for(var O=T-1;O>=0;--O)_.push(o(b[O],A[O],_[w]+p*g[w])),g.push(0),w+=1}}},7080:function(v){"use strict";function c(w,x,b,A,p,O){this._color=w,this.key=x,this.value=b,this.left=A,this.right=p,this._count=O}function i(w){return new c(w._color,w.key,w.value,w.left,w.right,w._count)}function s(w,x){return new c(w,x.key,x.value,x.left,x.right,x._count)}function a(w){w._count=1+(w.left?w.left._count:0)+(w.right?w.right._count:0)}function o(w,x){this._compare=w,this.root=x}v.exports=function(w){return new o(w||g,null)};var l=o.prototype;function u(w,x){var b;return x.left&&(b=u(w,x.left))?b:(b=w(x.key,x.value))||(x.right?u(w,x.right):void 0)}function d(w,x,b,A){var p;return x(w,A.key)<=0&&(A.left&&(p=d(w,x,b,A.left))||(p=b(A.key,A.value)))?p:A.right?d(w,x,b,A.right):void 0}function m(w,x,b,A,p){var O,k=b(w,p.key),I=b(x,p.key);return k<=0&&(p.left&&(O=m(w,x,b,A,p.left))||I>0&&(O=A(p.key,p.value)))?O:I>0&&p.right?m(w,x,b,A,p.right):void 0}function h(w,x){this.tree=w,this._stack=x}Object.defineProperty(l,"keys",{get:function(){var w=[];return this.forEach(function(x,b){w.push(x)}),w}}),Object.defineProperty(l,"values",{get:function(){var w=[];return this.forEach(function(x,b){w.push(b)}),w}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(w,x){for(var b=this._compare,A=this.root,p=[],O=[];A;){var k=b(w,A.key);p.push(A),O.push(k),A=k<=0?A.left:A.right}p.push(new c(0,w,x,null,null,1));for(var I=p.length-2;I>=0;--I)A=p[I],p[I]=O[I]<=0?new c(A._color,A.key,A.value,p[I+1],A.right,A._count+1):new c(A._color,A.key,A.value,A.left,p[I+1],A._count+1);for(I=p.length-1;I>1;--I){var P=p[I-1];if(A=p[I],1===P._color||1===A._color)break;var R=p[I-2];if(R.left===P)if(P.left===A){if(!(N=R.right)||0!==N._color){R._color=0,R.left=P.right,P._color=1,P.right=R,p[I-2]=P,p[I-1]=A,a(R),a(P),I>=3&&((j=p[I-3]).left===R?j.left=P:j.right=P);break}P._color=1,R.right=s(1,N),R._color=0,I-=1}else{if(!(N=R.right)||0!==N._color){P.right=A.left,R._color=0,R.left=A.right,A._color=1,A.left=P,A.right=R,p[I-2]=A,p[I-1]=P,a(R),a(P),a(A),I>=3&&((j=p[I-3]).left===R?j.left=A:j.right=A);break}P._color=1,R.right=s(1,N),R._color=0,I-=1}else if(P.right===A){if(!(N=R.left)||0!==N._color){R._color=0,R.right=P.left,P._color=1,P.left=R,p[I-2]=P,p[I-1]=A,a(R),a(P),I>=3&&((j=p[I-3]).right===R?j.right=P:j.left=P);break}P._color=1,R.left=s(1,N),R._color=0,I-=1}else{var N;if(!(N=R.left)||0!==N._color){var j;P.left=A.right,R._color=0,R.right=A.left,A._color=1,A.right=P,A.left=R,p[I-2]=A,p[I-1]=P,a(R),a(P),a(A),I>=3&&((j=p[I-3]).right===R?j.right=A:j.left=A);break}P._color=1,R.left=s(1,N),R._color=0,I-=1}}return p[0]._color=1,new o(b,p[0])},l.forEach=function(w,x,b){if(this.root)switch(arguments.length){case 1:return u(w,this.root);case 2:return d(x,this._compare,w,this.root);case 3:return this._compare(x,b)>=0?void 0:m(x,b,this._compare,w,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var w=[],x=this.root;x;)w.push(x),x=x.left;return new h(this,w)}}),Object.defineProperty(l,"end",{get:function(){for(var w=[],x=this.root;x;)w.push(x),x=x.right;return new h(this,w)}}),l.at=function(w){if(w<0)return new h(this,[]);for(var x=this.root,b=[];;){if(b.push(x),x.left){if(w<x.left._count){x=x.left;continue}w-=x.left._count}if(!w)return new h(this,b);if(w-=1,!x.right||w>=x.right._count)break;x=x.right}return new h(this,[])},l.ge=function(w){for(var x=this._compare,b=this.root,A=[],p=0;b;){var O=x(w,b.key);A.push(b),O<=0&&(p=A.length),b=O<=0?b.left:b.right}return A.length=p,new h(this,A)},l.gt=function(w){for(var x=this._compare,b=this.root,A=[],p=0;b;){var O=x(w,b.key);A.push(b),O<0&&(p=A.length),b=O<0?b.left:b.right}return A.length=p,new h(this,A)},l.lt=function(w){for(var x=this._compare,b=this.root,A=[],p=0;b;){var O=x(w,b.key);A.push(b),O>0&&(p=A.length),b=O<=0?b.left:b.right}return A.length=p,new h(this,A)},l.le=function(w){for(var x=this._compare,b=this.root,A=[],p=0;b;){var O=x(w,b.key);A.push(b),O>=0&&(p=A.length),b=O<0?b.left:b.right}return A.length=p,new h(this,A)},l.find=function(w){for(var x=this._compare,b=this.root,A=[];b;){var p=x(w,b.key);if(A.push(b),0===p)return new h(this,A);b=p<=0?b.left:b.right}return new h(this,[])},l.remove=function(w){var x=this.find(w);return x?x.remove():this},l.get=function(w){for(var x=this._compare,b=this.root;b;){var A=x(w,b.key);if(0===A)return b.value;b=A<=0?b.left:b.right}};var T=h.prototype;function _(w,x){w.key=x.key,w.value=x.value,w.left=x.left,w.right=x.right,w._color=x._color,w._count=x._count}function g(w,x){return w<x?-1:w>x?1:0}Object.defineProperty(T,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(T,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),T.clone=function(){return new h(this.tree,this._stack.slice())},T.remove=function(){var w=this._stack;if(0===w.length)return this.tree;var x=new Array(w.length),b=w[w.length-1];x[x.length-1]=new c(b._color,b.key,b.value,b.left,b.right,b._count);for(var A=w.length-2;A>=0;--A)x[A]=(b=w[A]).left===w[A+1]?new c(b._color,b.key,b.value,x[A+1],b.right,b._count):new c(b._color,b.key,b.value,b.left,x[A+1],b._count);if((b=x[x.length-1]).left&&b.right){var p=x.length;for(b=b.left;b.right;)x.push(b),b=b.right;var O=x[p-1];for(x.push(new c(b._color,O.key,O.value,b.left,b.right,b._count)),x[p-1].key=b.key,x[p-1].value=b.value,A=x.length-2;A>=p;--A)x[A]=new c((b=x[A])._color,b.key,b.value,b.left,x[A+1],b._count);x[p-1].left=x[p]}if(0===(b=x[x.length-1])._color){var k=x[x.length-2];for(k.left===b?k.left=null:k.right===b&&(k.right=null),x.pop(),A=0;A<x.length;++A)x[A]._count--;return new o(this.tree._compare,x[0])}if(b.left||b.right){for(b.left?_(b,b.left):b.right&&_(b,b.right),b._color=1,A=0;A<x.length-1;++A)x[A]._count--;return new o(this.tree._compare,x[0])}if(1===x.length)return new o(this.tree._compare,null);for(A=0;A<x.length;++A)x[A]._count--;var I=x[x.length-2];return function(P){for(var R,N,j,X,F=P.length-1;F>=0;--F){if(R=P[F],0===F)return void(R._color=1);if((N=P[F-1]).left===R){if((j=N.right).right&&0===j.right._color)return X=(j=N.right=i(j)).right=i(j.right),N.right=j.left,j.left=N,j.right=X,j._color=N._color,R._color=1,N._color=1,X._color=1,a(N),a(j),F>1&&((Z=P[F-2]).left===N?Z.left=j:Z.right=j),void(P[F-1]=j);if(j.left&&0===j.left._color)return X=(j=N.right=i(j)).left=i(j.left),N.right=X.left,j.left=X.right,X.left=N,X.right=j,X._color=N._color,N._color=1,j._color=1,R._color=1,a(N),a(j),a(X),F>1&&((Z=P[F-2]).left===N?Z.left=X:Z.right=X),void(P[F-1]=X);if(1===j._color){if(0===N._color)return N._color=1,void(N.right=s(0,j));N.right=s(0,j);continue}j=i(j),N.right=j.left,j.left=N,j._color=N._color,N._color=0,a(N),a(j),F>1&&((Z=P[F-2]).left===N?Z.left=j:Z.right=j),P[F-1]=j,P[F]=N,F+1<P.length?P[F+1]=R:P.push(R),F+=2}else{if((j=N.left).left&&0===j.left._color)return X=(j=N.left=i(j)).left=i(j.left),N.left=j.right,j.right=N,j.left=X,j._color=N._color,R._color=1,N._color=1,X._color=1,a(N),a(j),F>1&&((Z=P[F-2]).right===N?Z.right=j:Z.left=j),void(P[F-1]=j);if(j.right&&0===j.right._color)return X=(j=N.left=i(j)).right=i(j.right),N.left=X.right,j.right=X.left,X.right=N,X.left=j,X._color=N._color,N._color=1,j._color=1,R._color=1,a(N),a(j),a(X),F>1&&((Z=P[F-2]).right===N?Z.right=X:Z.left=X),void(P[F-1]=X);if(1===j._color){if(0===N._color)return N._color=1,void(N.left=s(0,j));N.left=s(0,j);continue}var Z;j=i(j),N.left=j.right,j.right=N,j._color=N._color,N._color=0,a(N),a(j),F>1&&((Z=P[F-2]).right===N?Z.right=j:Z.left=j),P[F-1]=j,P[F]=N,F+1<P.length?P[F+1]=R:P.push(R),F+=2}}}(x),I.left===b?I.left=null:I.right=null,new o(this.tree._compare,x[0])},Object.defineProperty(T,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(T,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(T,"index",{get:function(){var w=0,x=this._stack;if(0===x.length){var b=this.tree.root;return b?b._count:0}x[x.length-1].left&&(w=x[x.length-1].left._count);for(var A=x.length-2;A>=0;--A)x[A+1]===x[A].right&&(++w,x[A].left&&(w+=x[A].left._count));return w},enumerable:!0}),T.next=function(){var w=this._stack;if(0!==w.length){var x=w[w.length-1];if(x.right)for(x=x.right;x;)w.push(x),x=x.left;else for(w.pop();w.length>0&&w[w.length-1].right===x;)x=w[w.length-1],w.pop()}},Object.defineProperty(T,"hasNext",{get:function(){var w=this._stack;if(0===w.length)return!1;if(w[w.length-1].right)return!0;for(var x=w.length-1;x>0;--x)if(w[x-1].left===w[x])return!0;return!1}}),T.update=function(w){var x=this._stack;if(0===x.length)throw new Error("Can't update empty node!");var b=new Array(x.length),A=x[x.length-1];b[b.length-1]=new c(A._color,A.key,w,A.left,A.right,A._count);for(var p=x.length-2;p>=0;--p)b[p]=(A=x[p]).left===x[p+1]?new c(A._color,A.key,A.value,b[p+1],A.right,A._count):new c(A._color,A.key,A.value,A.left,b[p+1],A._count);return new o(this.tree._compare,b[0])},T.prev=function(){var w=this._stack;if(0!==w.length){var x=w[w.length-1];if(x.left)for(x=x.left;x;)w.push(x),x=x.right;else for(w.pop();w.length>0&&w[w.length-1].left===x;)x=w[w.length-1],w.pop()}},Object.defineProperty(T,"hasPrev",{get:function(){var w=this._stack;if(0===w.length)return!1;if(w[w.length-1].left)return!0;for(var x=w.length-1;x>0;--x)if(w[x-1].right===w[x])return!0;return!1}})},7453:function(v,c,i){"use strict";v.exports=function(k,I){var P=new h(k);return P.update(I),P};var s=i(9557),a=i(1681),o=i(1011),l=i(2864),u=i(8468),d=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function m(k,I){return k[0]=I[0],k[1]=I[1],k[2]=I[2],k}function h(k){this.gl=k,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=o(k)}var T=h.prototype;function _(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}T.update=function(k){function I(se,te,re){if(re in k){var Q,ee=k[re],oe=this[re];this[re]=Q=(se?Array.isArray(ee)&&Array.isArray(ee[0]):Array.isArray(ee))?[te(ee[0]),te(ee[1]),te(ee[2])]:[te(ee),te(ee),te(ee)];for(var le=0;le<3;++le)if(Q[le]!==oe[le])return!0}return!1}k=k||{};var P,R=I.bind(this,!1,Number),N=I.bind(this,!1,Boolean),j=I.bind(this,!1,String),X=I.bind(this,!0,function(se){if(Array.isArray(se)){if(3===se.length)return[+se[0],+se[1],+se[2],1];if(4===se.length)return[+se[0],+se[1],+se[2],+se[3]]}return[0,0,0,1]}),F=!1,Z=!1;if("bounds"in k)for(var W=k.bounds,H=0;H<2;++H)for(var G=0;G<3;++G)W[H][G]!==this.bounds[H][G]&&(Z=!0),this.bounds[H][G]=W[H][G];if("ticks"in k)for(P=k.ticks,F=!0,this.autoTicks=!1,H=0;H<3;++H)this.tickSpacing[H]=0;else R("tickSpacing")&&(this.autoTicks=!0,Z=!0);if(this._firstInit&&("ticks"in k||"tickSpacing"in k||(this.autoTicks=!0),Z=!0,F=!0,this._firstInit=!1),Z&&this.autoTicks&&(P=u.create(this.bounds,this.tickSpacing),F=!0),F){for(H=0;H<3;++H)P[H].sort(function(se,te){return se.x-te.x});u.equal(P,this.ticks)?F=!1:this.ticks=P}N("tickEnable"),j("tickFont")&&(F=!0),R("tickSize"),R("tickAngle"),R("tickPad"),X("tickColor");var Y=j("labels");j("labelFont")&&(Y=!0),N("labelEnable"),R("labelSize"),R("labelPad"),X("labelColor"),N("lineEnable"),N("lineMirror"),R("lineWidth"),X("lineColor"),N("lineTickEnable"),N("lineTickMirror"),R("lineTickLength"),R("lineTickWidth"),X("lineTickColor"),N("gridEnable"),R("gridWidth"),X("gridColor"),N("zeroEnable"),X("zeroLineColor"),R("zeroLineWidth"),N("backgroundEnable"),X("backgroundColor"),this._text?this._text&&(Y||F)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=s(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&F&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=a(this.gl,this.bounds,this.ticks))};var g=[new _,new _,new _];function w(k,I,P,R,N){for(var j=k.primalOffset,X=k.primalMinor,F=k.mirrorOffset,Z=k.mirrorMinor,W=R[I],H=0;H<3;++H)if(I!==H){var G=j,Y=F,se=X,te=Z;W&1<<H&&(G=F,Y=j,se=Z,te=X),G[H]=P[0][H],Y[H]=P[1][H],N[H]>0?(se[H]=-1,te[H]=0):(se[H]=0,te[H]=1)}}var x=[0,0,0],b={model:d,view:d,projection:d,_ortho:!1};T.isOpaque=function(){return!0},T.isTransparent=function(){return!1},T.drawTransparent=function(k){};var A=[0,0,0],p=[0,0,0],O=[0,0,0];T.draw=function(k){for(var I=this.gl,P=(k=k||b).model||d,R=k.view||d,N=k.projection||d,j=this.bounds,X=k._ortho||!1,F=l(P,R,N,j,X),Z=F.cubeEdges,W=F.axis,te=(X?2:1)*this.pixelRatio*(N[3]*R[12]+N[7]*R[13]+N[11]*R[14]+N[15]*R[15])/I.drawingBufferHeight,re=0;re<3;++re)this.lastCubeProps.cubeEdges[re]=Z[re],this.lastCubeProps.axis[re]=W[re];var Q=g;for(re=0;re<3;++re)w(g[re],re,this.bounds,Z,W);I=this.gl;var ee,oe,le,Oe,De,Ue,Ge,ye,Ie,Ee,Be,We,ue=x;for(re=0;re<3;++re)ue[re]=this.backgroundEnable[re]?W[re]:0;for(this._background.draw(P,R,N,j,ue,this.backgroundColor),this._lines.bind(P,R,N,this),re=0;re<3;++re){var de=[0,0,0];de[re]=W[re]>0?j[1][re]:j[0][re];for(var he=0;he<2;++he){var we=(re+1+he)%3,Ae=(re+1+(1^he))%3;this.gridEnable[we]&&this._lines.drawGrid(we,Ae,this.bounds,de,this.gridColor[we],this.gridWidth[we]*this.pixelRatio)}for(he=0;he<2;++he)we=(re+1+he)%3,this.zeroEnable[Ae=(re+1+(1^he))%3]&&Math.min(j[0][Ae],j[1][Ae])<=0&&Math.max(j[0][Ae],j[1][Ae])>=0&&this._lines.drawZero(we,Ae,this.bounds,de,this.zeroLineColor[Ae],this.zeroLineWidth[Ae]*this.pixelRatio)}for(re=0;re<3;++re){this.lineEnable[re]&&this._lines.drawAxisLine(re,this.bounds,Q[re].primalOffset,this.lineColor[re],this.lineWidth[re]*this.pixelRatio),this.lineMirror[re]&&this._lines.drawAxisLine(re,this.bounds,Q[re].mirrorOffset,this.lineColor[re],this.lineWidth[re]*this.pixelRatio);var Te=m(A,Q[re].primalMinor),ve=m(p,Q[re].mirrorMinor),xe=this.lineTickLength;for(he=0;he<3;++he){var Fe=te/P[5*he];Te[he]*=xe[he]*Fe,ve[he]*=xe[he]*Fe}this.lineTickEnable[re]&&this._lines.drawAxisTicks(re,Q[re].primalOffset,Te,this.lineTickColor[re],this.lineTickWidth[re]*this.pixelRatio),this.lineTickMirror[re]&&this._lines.drawAxisTicks(re,Q[re].mirrorOffset,ve,this.lineTickColor[re],this.lineTickWidth[re]*this.pixelRatio)}function Se(Oe){(le=[0,0,0])[Oe]=1}for(this._lines.unbind(),this._text.bind(P,R,N,this.pixelRatio),re=0;re<3;++re){var pe=Q[re].primalMinor,fe=Q[re].mirrorMinor,be=m(O,Q[re].primalOffset);for(he=0;he<3;++he)this.lineTickEnable[re]&&(be[he]+=te*pe[he]*Math.max(this.lineTickLength[he],0)/P[5*he]);var Le=[0,0,0];if(Le[re]=1,this.tickEnable[re]){for(-3600===this.tickAngle[re]?(this.tickAngle[re]=0,this.tickAlign[re]="auto"):this.tickAlign[re]=-1,ee[0]="auto"===(ee=[this.tickAlign[re],.5,oe=1])[0]?0:parseInt(""+ee[0]),le=[0,0,0],Ge=void 0,ye=void 0,Ie=void 0,Ee=void 0,Be=void 0,We=void 0,Ee=(De=pe)[ye=((Oe=re)+2)%3],Be=(Ue=fe)[Ge=(Oe+1)%3],We=Ue[ye],(Ie=De[Ge])>0&&We>0||Ie>0&&We<0||Ie<0&&We>0||Ie<0&&We<0?Se(Ge):(Ee>0&&Be>0||Ee>0&&Be<0||Ee<0&&Be>0||Ee<0&&Be<0)&&Se(ye),he=0;he<3;++he)be[he]+=te*pe[he]*this.tickPad[he]/P[5*he];this._text.drawTicks(re,this.tickSize[re],this.tickAngle[re],be,this.tickColor[re],Le,le,ee)}if(this.labelEnable[re]){for(oe=0,le=[0,0,0],this.labels[re].length>4&&(Se(re),oe=1),ee[0]="auto"===(ee=[this.labelAlign[re],.5,oe])[0]?0:parseInt(""+ee[0]),he=0;he<3;++he)be[he]+=te*pe[he]*this.labelPad[he]/P[5*he];be[re]+=.5*(j[0][re]+j[1][re]),this._text.drawLabel(re,this.labelSize[re],this.labelAngle[re],be,this.labelColor[re],[0,0,0],le,ee)}}this._text.unbind()},T.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(v,c,i){"use strict";v.exports=function(d){for(var m=[],h=[],T=0,_=0;_<3;++_)for(var g=(_+1)%3,w=(_+2)%3,x=[0,0,0],b=[0,0,0],A=-1;A<=1;A+=2){h.push(T,T+2,T+1,T+1,T+2,T+3),x[_]=A,b[_]=A;for(var p=-1;p<=1;p+=2){x[g]=p;for(var O=-1;O<=1;O+=2)x[w]=O,m.push(x[0],x[1],x[2],b[0],b[1],b[2]),T+=1}var k=g;g=w,w=k}var I=s(d,new Float32Array(m)),P=s(d,new Uint16Array(h),d.ELEMENT_ARRAY_BUFFER),R=a(d,[{buffer:I,type:d.FLOAT,size:3,offset:0,stride:24},{buffer:I,type:d.FLOAT,size:3,offset:12,stride:24}],P),N=o(d);return N.attributes.position.location=0,N.attributes.normal.location=1,new l(d,I,R,N)};var s=i(5827),a=i(2944),o=i(1943).bg;function l(d,m,h,T){this.gl=d,this.buffer=m,this.vao=h,this.shader=T}var u=l.prototype;u.draw=function(d,m,h,T,_,g){for(var w=!1,x=0;x<3;++x)w=w||_[x];if(w){var b=this.gl;b.enable(b.POLYGON_OFFSET_FILL),b.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:d,view:m,projection:h,bounds:T,enable:_,colors:g},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),b.disable(b.POLYGON_OFFSET_FILL)}},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(v,c,i){"use strict";v.exports=function(p,O,k,I,P){a(u,O,p),a(u,k,u);for(var R=0,N=0;N<2;++N){h[2]=I[N][2];for(var j=0;j<2;++j){h[1]=I[j][1];for(var X=0;X<2;++X)h[0]=I[X][0],_(d[R],h,u),R+=1}}var F=-1;for(N=0;N<8;++N){for(var Z=d[N][3],W=0;W<3;++W)m[N][W]=d[N][W]/Z;P&&(m[N][2]*=-1),Z<0&&(F<0||m[N][2]<m[F][2])&&(F=N)}if(F<0){F=0;for(var H=0;H<3;++H){for(var G=(H+2)%3,Y=(H+1)%3,se=-1,te=-1,re=0;re<2;++re){var Q=(oe=re<<H)+(re<<G)+(1-re<<Y),ee=oe+(1-re<<G)+(re<<Y);l(m[oe],m[Q],m[ee],T)<0||(re?se=1:te=1)}if(se<0||te<0)te>se&&(F|=1<<H);else{for(re=0;re<2;++re){Q=(oe=re<<H)+(re<<G)+(1-re<<Y);var oe,le=w([d[oe],d[Q],d[ee=oe+(1-re<<G)+(re<<Y)],d[oe+(1<<G)+(1<<Y)]]);re?se=le:te=le}te>se&&(F|=1<<H)}}}var ue=7^F,de=-1;for(N=0;N<8;++N)N!==F&&N!==ue&&(de<0||m[de][1]>m[N][1])&&(de=N);var he=-1;for(N=0;N<3;++N)(Ae=de^1<<N)!==F&&Ae!==ue&&(he<0&&(he=Ae),(Y=m[Ae])[0]<m[he][0]&&(he=Ae));var we=-1;for(N=0;N<3;++N){var Ae;(Ae=de^1<<N)!==F&&Ae!==ue&&Ae!==he&&(we<0&&(we=Ae),(Y=m[Ae])[0]>m[we][0]&&(we=Ae))}var Te=x;Te[0]=Te[1]=Te[2]=0,Te[s.log2(he^de)]=de&he,Te[s.log2(de^we)]=de&we;var ve=7^we;ve===F||ve===ue?Te[s.log2(we^(ve=7^he))]=ve&we:Te[s.log2(he^ve)]=ve&he;var xe=b,Fe=F;for(H=0;H<3;++H)xe[H]=Fe&1<<H?-1:1;return A};var s=i(2288),a=i(104),o=i(4670),l=i(417),u=new Array(16),d=new Array(8),m=new Array(8),h=new Array(3),T=[0,0,0];function _(p,O,k){for(var I=0;I<4;++I){p[I]=k[12+I];for(var P=0;P<3;++P)p[I]+=O[P]*k[4*P+I]}}!function(){for(var p=0;p<8;++p)d[p]=[1,1,1,1],m[p]=[1,1,1]}();var g=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function w(p){for(var O=0;O<g.length;++O)if((p=o.positive(p,g[O])).length<3)return 0;var k=p[0],I=k[0]/k[3],P=k[1]/k[3],R=0;for(O=1;O+1<p.length;++O){var N=p[O],j=p[O+1];R+=Math.abs((N[0]/N[3]-I)*(j[1]/j[3]-P)-(N[1]/N[3]-P)*(j[0]/j[3]-I))}return R}var x=[1,1,1],b=[0,0,0],A={cubeEdges:x,axis:b}},1681:function(v,c,i){"use strict";v.exports=function(x,b,A){var p=[],O=[0,0,0],k=[0,0,0],I=[0,0,0],P=[0,0,0];p.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var R=0;R<3;++R){for(var N=p.length/3|0,j=0;j<A[R].length;++j){var X=+A[R][j].x;p.push(X,0,1,X,1,1,X,0,-1,X,0,-1,X,1,1,X,1,-1)}var F=p.length/3|0;O[R]=N,k[R]=F-N,N=p.length/3|0;for(var Z=0;Z<A[R].length;++Z)p.push(X=+A[R][Z].x,0,1,X,1,1,X,0,-1,X,0,-1,X,1,1,X,1,-1);F=p.length/3|0,I[R]=N,P[R]=F-N}var W=s(x,new Float32Array(p)),H=a(x,[{buffer:W,type:x.FLOAT,size:3,stride:0,offset:0}]),G=o(x);return G.attributes.position.location=0,new g(x,W,H,G,k,O,P,I)};var s=i(5827),a=i(2944),o=i(1943).j,l=[0,0,0],u=[0,0,0],d=[0,0,0],m=[0,0,0],h=[1,1];function T(x){return x[0]=x[1]=x[2]=0,x}function _(x,b){return x[0]=b[0],x[1]=b[1],x[2]=b[2],x}function g(x,b,A,p,O,k,I,P){this.gl=x,this.vertBuffer=b,this.vao=A,this.shader=p,this.tickCount=O,this.tickOffset=k,this.gridCount=I,this.gridOffset=P}var w=g.prototype;w.bind=function(x,b,A){this.shader.bind(),this.shader.uniforms.model=x,this.shader.uniforms.view=b,this.shader.uniforms.projection=A,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},w.unbind=function(){this.vao.unbind()},w.drawAxisLine=function(x,b,A,p,O){var k=T(u);this.shader.uniforms.majorAxis=u,k[x]=b[1][x]-b[0][x],this.shader.uniforms.minorAxis=k;var I,P=_(m,A);P[x]+=b[0][x],this.shader.uniforms.offset=P,this.shader.uniforms.lineWidth=O,this.shader.uniforms.color=p,(I=T(d))[(x+2)%3]=1,this.shader.uniforms.screenAxis=I,this.vao.draw(this.gl.TRIANGLES,6),(I=T(d))[(x+1)%3]=1,this.shader.uniforms.screenAxis=I,this.vao.draw(this.gl.TRIANGLES,6)},w.drawAxisTicks=function(x,b,A,p,O){if(this.tickCount[x]){var k=T(l);k[x]=1,this.shader.uniforms.majorAxis=k,this.shader.uniforms.offset=b,this.shader.uniforms.minorAxis=A,this.shader.uniforms.color=p,this.shader.uniforms.lineWidth=O;var I=T(d);I[x]=1,this.shader.uniforms.screenAxis=I,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x])}},w.drawGrid=function(x,b,A,p,O,k){if(this.gridCount[x]){var I=T(u);I[b]=A[1][b]-A[0][b],this.shader.uniforms.minorAxis=I;var P=_(m,p);P[b]+=A[0][b],this.shader.uniforms.offset=P;var R=T(l);R[x]=1,this.shader.uniforms.majorAxis=R;var N=T(d);N[x]=1,this.shader.uniforms.screenAxis=N,this.shader.uniforms.lineWidth=k,this.shader.uniforms.color=O,this.vao.draw(this.gl.TRIANGLES,this.gridCount[x],this.gridOffset[x])}},w.drawZero=function(x,b,A,p,O,k){var I=T(u);this.shader.uniforms.majorAxis=I,I[x]=A[1][x]-A[0][x],this.shader.uniforms.minorAxis=I;var P=_(m,p);P[x]+=A[0][x],this.shader.uniforms.offset=P;var R=T(d);R[b]=1,this.shader.uniforms.screenAxis=R,this.shader.uniforms.lineWidth=k,this.shader.uniforms.color=O,this.vao.draw(this.gl.TRIANGLES,6)},w.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(v,c,i){"use strict";var s=i(6832),a=i(5158),o=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),l=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);c.j=function(T){return a(T,o,l,null,[{name:"position",type:"vec3"}])};var u=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),d=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);c.f=function(T){return a(T,u,d,null,[{name:"position",type:"vec3"}])};var m=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),h=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);c.bg=function(T){return a(T,m,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,c,i){"use strict";v.exports=function(_,g,w,x,b,A){var p=s(_),O=a(_,[{buffer:p,size:3}]),k=l(_);k.attributes.position.location=0;var I=new m(_,k,p,O);return I.update(g,w,x,b,A),I};var s=i(5827),a=i(2944),o=i(875),l=i(1943).f,u=window||E.global||{},d=u.__TEXT_CACHE||{};function m(_,g,w,x){this.gl=_,this.shader=g,this.buffer=w,this.vao=x,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}u.__TEXT_CACHE={};var h=m.prototype,T=[0,0];h.bind=function(_,g,w,x){this.vao.bind(),this.shader.bind();var b=this.shader.uniforms;b.model=_,b.view=g,b.projection=w,b.pixelScale=x,T[0]=this.gl.drawingBufferWidth,T[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=T},h.unbind=function(){this.vao.unbind()},h.update=function(_,g,w,x,b){var A=[];function p(X,F,Z,W,H,G){var Y=d[Z];Y||(Y=d[Z]={});var se=Y[F];se||(se=Y[F]=function(he,we){try{return o(he,we)}catch(Ae){return console.warn('error vectorizing text:"'+he+'" error:',Ae),{cells:[],positions:[]}}}(F,{triangles:!0,font:Z,textAlign:"center",textBaseline:"middle",lineSpacing:H,styletags:G}));for(var te=(W||12)/12,re=se.positions,Q=se.cells,ee=0,oe=Q.length;ee<oe;++ee)for(var le=Q[ee],ue=2;ue>=0;--ue){var de=re[le[ue]];A.push(te*de[0],-te*de[1],X)}}for(var O=[0,0,0],k=[0,0,0],I=[0,0,0],P=[0,0,0],R={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},N=0;N<3;++N){I[N]=A.length/3|0,p(.5*(_[0][N]+_[1][N]),g[N],w[N],12,1.25,R),P[N]=(A.length/3|0)-I[N],O[N]=A.length/3|0;for(var j=0;j<x[N].length;++j)x[N][j].text&&p(x[N][j].x,x[N][j].text,x[N][j].font||b,x[N][j].fontSize||12,1.25,R);k[N]=(A.length/3|0)-O[N]}this.buffer.update(A),this.tickOffset=O,this.tickCount=k,this.labelOffset=I,this.labelCount=P},h.drawTicks=function(_,g,w,x,b,A,p,O){this.tickCount[_]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=b,this.shader.uniforms.angle=w,this.shader.uniforms.scale=g,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=p,this.shader.uniforms.alignOpt=O,this.vao.draw(this.gl.TRIANGLES,this.tickCount[_],this.tickOffset[_]))},h.drawLabel=function(_,g,w,x,b,A,p,O){this.labelCount[_]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=b,this.shader.uniforms.angle=w,this.shader.uniforms.scale=g,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=p,this.shader.uniforms.alignOpt=O,this.vao.draw(this.gl.TRIANGLES,this.labelCount[_],this.labelOffset[_]))},h.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(v,c){"use strict";function i(s,a){var o=s+"",l=o.indexOf("."),u=0;l>=0&&(u=o.length-l-1);var d=Math.pow(10,u),m=Math.round(s*a*d),h=m+"";if(h.indexOf("e")>=0)return h;var T=m/d,_=m%d;m<0?(T=0|-Math.ceil(T),_=0|-_):(T=0|Math.floor(T),_|=0);var g=""+T;if(m<0&&(g="-"+g),u){for(var w=""+_;w.length<u;)w="0"+w;return g+"."+w}return g}c.create=function(s,a){for(var o=[],l=0;l<3;++l){for(var u=[],d=0;d*a[l]<=s[1][l];++d)u.push({x:d*a[l],text:i(a[l],d)});for(d=-1;d*a[l]>=s[0][l];--d)u.push({x:d*a[l],text:i(a[l],d)});o.push(u)}return o},c.equal=function(s,a){for(var o=0;o<3;++o){if(s[o].length!==a[o].length)return!1;for(var l=0;l<s[o].length;++l){var u=s[o][l],d=a[o][l];if(u.x!==d.x||u.text!==d.text||u.font!==d.font||u.fontColor!==d.fontColor||u.fontSize!==d.fontSize||u.dx!==d.dx||u.dy!==d.dy)return!1}}return!0}},2771:function(v,c,i){"use strict";v.exports=function(A,p,O,k,I){var P=p.model||m,R=p.view||m,N=p.projection||m,j=p._ortho||!1,X=A.bounds,F=(I=I||o(P,R,N,X,j)).axis;l(h,R,P),l(h,N,h);for(var Z=x,W=0;W<3;++W)Z[W].lo=1/0,Z[W].hi=-1/0,Z[W].pixelsPerDataUnit=1/0;var H=s(u(h,h));u(h,h);for(var G=0;G<3;++G){var Y=(G+1)%3,se=(G+2)%3,te=b;e:for(W=0;W<2;++W){var re=[];if(F[G]<0!=!!W){te[G]=X[W][G];for(var Q=0;Q<2;++Q){te[Y]=X[Q^W][Y];for(var ee=0;ee<2;++ee)te[se]=X[ee^Q^W][se],re.push(te.slice())}var oe=j?5:4;for(Q=oe;Q===oe;++Q){if(0===re.length)continue e;re=a.positive(re,H[Q])}for(Q=0;Q<re.length;++Q){var le=w(b,h,se=re[Q],O,k);for(ee=0;ee<3;++ee)Z[ee].lo=Math.min(Z[ee].lo,se[ee]),Z[ee].hi=Math.max(Z[ee].hi,se[ee]),ee!==G&&(Z[ee].pixelsPerDataUnit=Math.min(Z[ee].pixelsPerDataUnit,Math.abs(le[ee])))}}}}return Z};var s=i(5795),a=i(4670),o=i(2864),l=i(104),u=i(2142),d=i(6342),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function T(A,p,O){this.lo=A,this.hi=p,this.pixelsPerDataUnit=O}var _=[0,0,0,1],g=[0,0,0,1];function w(A,p,O,k,I){for(var P=0;P<3;++P){for(var R=_,N=g,j=0;j<3;++j)N[j]=R[j]=O[j];N[3]=R[3]=1,N[P]+=1,d(N,N,p),N[3]<0&&(A[P]=1/0),R[P]-=1,d(R,R,p),R[3]<0&&(A[P]=1/0);var X=(R[0]/R[3]-N[0]/N[3])*k,F=(R[1]/R[3]-N[1]/N[3])*I;A[P]=.25*Math.sqrt(X*X+F*F)}return A}var x=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],b=[0,0,0]},5827:function(v,c,i){"use strict";var s=i(5306),a=i(7498),o=i(5050),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function u(T,_,g,w,x){this.gl=T,this.type=_,this.handle=g,this.length=w,this.usage=x}var d=u.prototype;function m(T,_,g,w,x,b){var A=x.length*x.BYTES_PER_ELEMENT;if(b<0)return T.bufferData(_,x,w),A;if(A+b>g)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return T.bufferSubData(_,b,x),g}d.bind=function(){this.gl.bindBuffer(this.type,this.handle)},d.unbind=function(){this.gl.bindBuffer(this.type,null)},d.dispose=function(){this.gl.deleteBuffer(this.handle)},d.update=function(T,_){if("number"!=typeof _&&(_=-1),this.bind(),"object"==typeof T&&void 0!==T.shape){var g=T.dtype;if(l.indexOf(g)<0&&(g="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(g=gl.getExtension("OES_element_index_uint")&&"uint16"!==g?"uint32":"uint16"),g===T.dtype&&function(A,p){for(var O=1,k=p.length-1;k>=0;--k){if(p[k]!==O)return!1;O*=A[k]}return!0}(T.shape,T.stride))this.length=m(this.gl,this.type,this.length,this.usage,0===T.offset&&T.data.length===T.shape[0]?T.data:T.data.subarray(T.offset,T.shape[0]),_);else{var w=s.malloc(T.size,g),x=o(w,T.shape);a.assign(x,T),this.length=m(this.gl,this.type,this.length,this.usage,_<0?w:w.subarray(0,T.size),_),s.free(w)}}else if(Array.isArray(T)){var b;b=function h(T,_){for(var g=s.malloc(T.length,_),w=T.length,x=0;x<w;++x)g[x]=T[x];return g}(T,this.type===this.gl.ELEMENT_ARRAY_BUFFER?"uint16":"float32"),this.length=m(this.gl,this.type,this.length,this.usage,_<0?b:b.subarray(0,T.length),_),s.free(b)}else if("object"==typeof T&&"number"==typeof T.length)this.length=m(this.gl,this.type,this.length,this.usage,T,_);else{if("number"!=typeof T&&void 0!==T)throw new Error("gl-buffer: Invalid data type");if(_>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(T|=0)<=0&&(T=1),this.gl.bufferData(this.type,0|T,this.usage),this.length=T}},v.exports=function(T,_,g,w){if(w=w||T.DYNAMIC_DRAW,(g=g||T.ARRAY_BUFFER)!==T.ARRAY_BUFFER&&g!==T.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(w!==T.DYNAMIC_DRAW&&w!==T.STATIC_DRAW&&w!==T.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var x=T.createBuffer(),b=new u(T,g,x,0,w);return b.update(_),b}},1140:function(v,c,i){"use strict";var s=i(2858);v.exports=function(o,l){var u=o.positions,d=o.vectors,m={positions:[],vertexIntensity:[],vertexIntensityBounds:o.vertexIntensityBounds,vectors:[],cells:[],coneOffset:o.coneOffset,colormap:o.colormap};if(0===o.positions.length)return l&&(l[0]=[0,0,0],l[1]=[0,0,0]),m;for(var h=0,T=1/0,_=-1/0,g=1/0,w=-1/0,x=1/0,b=-1/0,A=null,p=null,O=[],k=1/0,I=!1,P=0;P<u.length;P++){var R=u[P];T=Math.min(R[0],T),_=Math.max(R[0],_),g=Math.min(R[1],g),w=Math.max(R[1],w),x=Math.min(R[2],x),b=Math.max(R[2],b);var N=d[P];if(s.length(N)>h&&(h=s.length(N)),P){var j=2*s.distance(A,R)/(s.length(p)+s.length(N));j?(k=Math.min(k,j),I=!1):I=!0}I||(A=R,p=N),O.push(N)}var F=[_,w,b];l&&(l[0]=[T,g,x],l[1]=F),0===h&&(h=1);var Z=1/h;isFinite(k)||(k=1),m.vectorScale=k;var W=o.coneSize||.5;o.absoluteConeSize&&(W=o.absoluteConeSize*Z),m.coneScale=W,P=0;for(var H=0;P<u.length;P++)for(var G=(R=u[P])[0],Y=R[1],se=R[2],te=O[P],re=s.length(te)*Z,Q=0;Q<8;Q++){m.positions.push([G,Y,se,H++]),m.positions.push([G,Y,se,H++]),m.positions.push([G,Y,se,H++]),m.positions.push([G,Y,se,H++]),m.positions.push([G,Y,se,H++]),m.positions.push([G,Y,se,H++]),m.vectors.push(te),m.vectors.push(te),m.vectors.push(te),m.vectors.push(te),m.vectors.push(te),m.vectors.push(te),m.vertexIntensity.push(re,re,re),m.vertexIntensity.push(re,re,re);var ee=m.positions.length;m.cells.push([ee-6,ee-5,ee-4],[ee-3,ee-2,ee-1])}return m};var a=i(7234);v.exports.createMesh=i(5028),v.exports.createConeMesh=function(o,l){return v.exports.createMesh(o,l,{shaders:a,traceType:"cone"})}},5028:function(v,c,i){"use strict";var s=i(5158),a=i(5827),o=i(2944),l=i(8931),u=i(104),d=i(7437),m=i(5050),h=i(9156),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(w,x,b,A,p,O,k,I,P,R,N){this.gl=w,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=x,this.dirty=!0,this.triShader=b,this.pickShader=A,this.trianglePositions=p,this.triangleVectors=O,this.triangleColors=I,this.triangleUVs=P,this.triangleIds=k,this.triangleVAO=R,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=N,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var g=_.prototype;g.isOpaque=function(){return this.opacity>=1},g.isTransparent=function(){return this.opacity<1},g.pickSlots=1,g.setPickBase=function(w){this.pickId=w},g.update=function(w){w=w||{};var x=this.gl;this.dirty=!0,"lightPosition"in w&&(this.lightPosition=w.lightPosition),"opacity"in w&&(this.opacity=w.opacity),"ambient"in w&&(this.ambientLight=w.ambient),"diffuse"in w&&(this.diffuseLight=w.diffuse),"specular"in w&&(this.specularLight=w.specular),"roughness"in w&&(this.roughness=w.roughness),"fresnel"in w&&(this.fresnel=w.fresnel),void 0!==w.tubeScale&&(this.tubeScale=w.tubeScale),void 0!==w.vectorScale&&(this.vectorScale=w.vectorScale),void 0!==w.coneScale&&(this.coneScale=w.coneScale),void 0!==w.coneOffset&&(this.coneOffset=w.coneOffset),w.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=x.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=x.LINEAR,this.texture.setPixels(function(le){for(var ue=h({colormap:le,nshades:256,format:"rgba"}),de=new Uint8Array(1024),he=0;he<256;++he){for(var we=ue[he],Ae=0;Ae<3;++Ae)de[4*he+Ae]=we[Ae];de[4*he+3]=255*we[3]}return m(de,[256,256,4],[4,0,1])}(w.colormap)),this.texture.generateMipmap());var b=w.cells,A=w.positions,p=w.vectors;if(A&&b&&p){var O=[],k=[],I=[],P=[],R=[];this.cells=b,this.positions=A,this.vectors=p;var N=w.meshColor||[1,1,1,1],j=w.vertexIntensity,X=1/0,F=-1/0;if(j)if(w.vertexIntensityBounds)X=+w.vertexIntensityBounds[0],F=+w.vertexIntensityBounds[1];else for(var Z=0;Z<j.length;++Z){var W=j[Z];X=Math.min(X,W),F=Math.max(F,W)}else for(Z=0;Z<A.length;++Z)W=A[Z][2],X=Math.min(X,W),F=Math.max(F,W);for(this.intensity=j||function(le){for(var ue=le.length,de=new Array(ue),he=0;he<ue;++he)de[he]=le[he][2];return de}(A),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Z=0;Z<A.length;++Z)for(var H=A[Z],G=0;G<3;++G)!isNaN(H[G])&&isFinite(H[G])&&(this.bounds[0][G]=Math.min(this.bounds[0][G],H[G]),this.bounds[1][G]=Math.max(this.bounds[1][G],H[G]));var Y=0;e:for(Z=0;Z<b.length;++Z){var se=b[Z];if(3===se.length){for(G=0;G<3;++G){H=A[re=se[G]];for(var te=0;te<3;++te)if(isNaN(H[te])||!isFinite(H[te]))continue e}for(G=0;G<3;++G){var re;H=A[re=se[2-G]],O.push(H[0],H[1],H[2],H[3]);var Q=p[re];k.push(Q[0],Q[1],Q[2],Q[3]||0);var ee;I.push(N[0],N[1],N[2],3===N.length?1:N[3]),P.push((ee=j?[(j[re]-X)/(F-X),0]:[(H[2]-X)/(F-X),0])[0],ee[1]),R.push(Z)}Y+=1}}this.triangleCount=Y,this.trianglePositions.update(O),this.triangleVectors.update(k),this.triangleColors.update(I),this.triangleUVs.update(P),this.triangleIds.update(new Uint32Array(R))}},g.drawTransparent=g.draw=function(w){for(var x=this.gl,b=(w=w||{}).model||T,A=w.view||T,p=w.projection||T,O=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)O[0][k]=Math.max(O[0][k],this.clipBounds[0][k]),O[1][k]=Math.min(O[1][k],this.clipBounds[1][k]);var I={model:b,view:A,projection:p,inverseModel:T.slice(),clipBounds:O,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};I.inverseModel=d(I.inverseModel,I.model),x.disable(x.CULL_FACE),this.texture.bind(0);var P=new Array(16);for(u(P,I.view,I.model),u(P,I.projection,P),d(P,P),k=0;k<3;++k)I.eyePosition[k]=P[12+k]/P[15];var R=P[15];for(k=0;k<3;++k)R+=this.lightPosition[k]*P[4*k+3];for(k=0;k<3;++k){for(var N=P[12+k],j=0;j<3;++j)N+=P[4*j+k]*this.lightPosition[j];I.lightPosition[k]=N/R}if(this.triangleCount>0){var X=this.triShader;X.bind(),X.uniforms=I,this.triangleVAO.bind(),x.drawArrays(x.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},g.drawPick=function(w){for(var x=this.gl,b=(w=w||{}).model||T,A=w.view||T,p=w.projection||T,O=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)O[0][k]=Math.max(O[0][k],this.clipBounds[0][k]),O[1][k]=Math.min(O[1][k],this.clipBounds[1][k]);this._model=[].slice.call(b),this._view=[].slice.call(A),this._projection=[].slice.call(p),this._resolution=[x.drawingBufferWidth,x.drawingBufferHeight];var I={model:b,view:A,projection:p,clipBounds:O,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},P=this.pickShader;P.bind(),P.uniforms=I,this.triangleCount>0&&(this.triangleVAO.bind(),x.drawArrays(x.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},g.pick=function(w){if(!w||w.id!==this.pickId)return null;var x=w.value[0]+256*w.value[1]+65536*w.value[2],b=this.cells[x],A=this.positions[b[1]].slice(0,3),p={position:A,dataCoordinate:A,index:Math.floor(b[1]/48)};return"cone"===this.traceType?p.index=Math.floor(b[1]/48):"streamtube"===this.traceType&&(p.intensity=this.intensity[b[1]],p.velocity=this.vectors[b[1]].slice(0,3),p.divergence=this.vectors[b[1]][3],p.index=x),p},g.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},v.exports=function(w,x,b){var A=b.shaders;1===arguments.length&&(w=(x=w).gl);var Z,W,p=((W=s(w,(Z=A).meshShader.vertex,Z.meshShader.fragment,null,Z.meshShader.attributes)).attributes.position.location=0,W.attributes.color.location=2,W.attributes.uv.location=3,W.attributes.vector.location=4,W),O=function(F,Z){var W=s(F,Z.pickShader.vertex,Z.pickShader.fragment,null,Z.pickShader.attributes);return W.attributes.position.location=0,W.attributes.id.location=1,W.attributes.vector.location=4,W}(w,A),k=l(w,m(new Uint8Array([255,255,255,255]),[1,1,4]));k.generateMipmap(),k.minFilter=w.LINEAR_MIPMAP_LINEAR,k.magFilter=w.LINEAR;var I=a(w),P=a(w),R=a(w),N=a(w),j=a(w),X=new _(w,k,p,O,I,P,j,R,N,o(w,[{buffer:I,type:w.FLOAT,size:4},{buffer:j,type:w.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:R,type:w.FLOAT,size:4},{buffer:N,type:w.FLOAT,size:2},{buffer:P,type:w.FLOAT,size:4}]),b.traceType||"cone");return X.update(x),X}},7234:function(v,c,i){var s=i(6832),a=s(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=s(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),l=s(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),u=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);c.meshShader={vertex:a,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},c.pickShader={vertex:l,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,c,i){var s=i(1950);v.exports=function(a){return s[a]}},3110:function(v,c,i){"use strict";v.exports=function(_){var g=_.gl,w=s(g),x=a(g,[{buffer:w,type:g.FLOAT,size:3,offset:0,stride:40},{buffer:w,type:g.FLOAT,size:4,offset:12,stride:40},{buffer:w,type:g.FLOAT,size:3,offset:28,stride:40}]),b=o(g);b.attributes.position.location=0,b.attributes.color.location=1,b.attributes.offset.location=2;var A=new u(g,w,x,b);return A.update(_),A};var s=i(5827),a=i(2944),o=i(7667),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(_,g,w,x){this.gl=_,this.shader=x,this.buffer=g,this.vao=w,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var d=u.prototype;function m(_,g){for(var w=0;w<3;++w)_[0][w]=Math.min(_[0][w],g[w]),_[1][w]=Math.max(_[1][w],g[w])}d.isOpaque=function(){return!this.hasAlpha},d.isTransparent=function(){return this.hasAlpha},d.drawTransparent=d.draw=function(_){var g=this.gl,w=this.shader.uniforms;this.shader.bind();var x=w.view=_.view||l,b=w.projection=_.projection||l;w.model=_.model||l,w.clipBounds=this.clipBounds,w.opacity=this.opacity;var I=(_._ortho?2:1)*this.pixelRatio*(b[3]*x[12]+b[7]*x[13]+b[11]*x[14]+b[15]*x[15])/g.drawingBufferHeight;this.vao.bind();for(var P=0;P<3;++P)g.lineWidth(this.lineWidth[P]*this.pixelRatio),w.capSize=this.capSize[P]*I,this.lineCount[P]&&g.drawArrays(g.LINES,this.lineOffset[P],this.lineCount[P]);this.vao.unbind()};var h=function(){for(var _=new Array(3),g=0;g<3;++g){for(var w=[],x=1;x<=2;++x)for(var b=-1;b<=1;b+=2){var A=[0,0,0];A[(x+g)%3]=b,w.push(A)}_[g]=w}return _}();function T(_,g,w,x){for(var b=h[x],A=0;A<b.length;++A){var p=b[A];_.push(g[0],g[1],g[2],w[0],w[1],w[2],w[3],p[0],p[1],p[2])}return b.length}d.update=function(_){"lineWidth"in(_=_||{})&&(this.lineWidth=_.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in _&&(this.capSize=_.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in _&&(this.opacity=+_.opacity,this.opacity<1&&(this.hasAlpha=!0));var g=_.color||[[0,0,0],[0,0,0],[0,0,0]],w=_.position,x=_.error;if(Array.isArray(g[0])||(g=[g,g,g]),w&&x){var b=[],A=w.length,p=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var O=0;O<3;++O){this.lineOffset[O]=p;e:for(var k=0;k<A;++k){for(var I=w[k],P=0;P<3;++P)if(isNaN(I[P])||!isFinite(I[P]))continue e;var R,N=x[k],j=g[O];Array.isArray(j[0])&&(j=g[k]),3===j.length?j=[j[0],j[1],j[2],1]:4===j.length&&(j=[j[0],j[1],j[2],j[3]],!this.hasAlpha&&j[3]<1&&(this.hasAlpha=!0)),isNaN(N[0][O])||isNaN(N[1][O])||(N[0][O]<0&&((R=I.slice())[O]+=N[0][O],b.push(I[0],I[1],I[2],j[0],j[1],j[2],j[3],0,0,0,R[0],R[1],R[2],j[0],j[1],j[2],j[3],0,0,0),m(this.bounds,R),p+=2+T(b,R,j,O)),N[1][O]>0&&((R=I.slice())[O]+=N[1][O],b.push(I[0],I[1],I[2],j[0],j[1],j[2],j[3],0,0,0,R[0],R[1],R[2],j[0],j[1],j[2],j[3],0,0,0),m(this.bounds,R),p+=2+T(b,R,j,O)))}this.lineCount[O]=p-this.lineOffset[O]}this.buffer.update(b)}},d.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(v,c,i){"use strict";var s=i(6832),a=i(5158),o=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),l=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);v.exports=function(u){return a(u,o,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,c,i){"use strict";var s=i(8931);v.exports=function(A,p,O,k){a||(a=A.FRAMEBUFFER_UNSUPPORTED,o=A.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,l=A.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,u=A.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var I=A.getExtension("WEBGL_draw_buffers");if(!d&&I&&function(Z,W){var H=Z.getParameter(W.MAX_COLOR_ATTACHMENTS_WEBGL);d=new Array(H+1);for(var G=0;G<=H;++G){for(var Y=new Array(H),se=0;se<G;++se)Y[se]=Z.COLOR_ATTACHMENT0+se;for(se=G;se<H;++se)Y[se]=Z.NONE;d[G]=Y}}(A,I),Array.isArray(p)&&(k=O,O=0|p[1],p=0|p[0]),"number"!=typeof p)throw new Error("gl-fbo: Missing shape parameter");var P=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(p<0||p>P||O<0||O>P)throw new Error("gl-fbo: Parameters are too large for FBO");var R=1;if("color"in(k=k||{})){if((R=Math.max(0|k.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(R>1){if(!I)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(R>A.getParameter(I.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+R+" draw buffers")}}var N=A.UNSIGNED_BYTE,j=A.getExtension("OES_texture_float");if(k.float&&R>0){if(!j)throw new Error("gl-fbo: Context does not support floating point textures");N=A.FLOAT}else k.preferFloat&&R>0&&j&&(N=A.FLOAT);var X=!0;"depth"in k&&(X=!!k.depth);var F=!1;return"stencil"in k&&(F=!!k.stencil),new w(A,p,O,N,R,X,F,I)};var a,o,l,u,d=null;function m(A){return[A.getParameter(A.FRAMEBUFFER_BINDING),A.getParameter(A.RENDERBUFFER_BINDING),A.getParameter(A.TEXTURE_BINDING_2D)]}function h(A,p){A.bindFramebuffer(A.FRAMEBUFFER,p[0]),A.bindRenderbuffer(A.RENDERBUFFER,p[1]),A.bindTexture(A.TEXTURE_2D,p[2])}function T(A){switch(A){case a:throw new Error("gl-fbo: Framebuffer unsupported");case o:throw new Error("gl-fbo: Framebuffer incomplete attachment");case l:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case u:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function _(A,p,O,k,I,P){if(!k)return null;var R=s(A,p,O,I,k);return R.magFilter=A.NEAREST,R.minFilter=A.NEAREST,R.mipSamples=1,R.bind(),A.framebufferTexture2D(A.FRAMEBUFFER,P,A.TEXTURE_2D,R.handle,0),R}function g(A,p,O,k,I){var P=A.createRenderbuffer();return A.bindRenderbuffer(A.RENDERBUFFER,P),A.renderbufferStorage(A.RENDERBUFFER,k,p,O),A.framebufferRenderbuffer(A.FRAMEBUFFER,I,A.RENDERBUFFER,P),P}function w(A,p,O,k,I,P,R,N){this.gl=A,this._shape=[0|p,0|O],this._destroyed=!1,this._ext=N,this.color=new Array(I);for(var j=0;j<I;++j)this.color[j]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=k,this._useDepth=P,this._useStencil=R;var X=this,F=[0|p,0|O];Object.defineProperties(F,{0:{get:function(){return X._shape[0]},set:function(Z){return X.width=Z}},1:{get:function(){return X._shape[1]},set:function(Z){return X.height=Z}}}),this._shapeVector=F,function(Z){var W=m(Z.gl),H=Z.gl,G=Z.handle=H.createFramebuffer(),Y=Z._shape[0],se=Z._shape[1],te=Z.color.length,re=Z._ext,Q=Z._useStencil,ee=Z._useDepth,oe=Z._colorType;H.bindFramebuffer(H.FRAMEBUFFER,G);for(var le=0;le<te;++le)Z.color[le]=_(H,Y,se,oe,H.RGBA,H.COLOR_ATTACHMENT0+le);0===te?(Z._color_rb=g(H,Y,se,H.RGBA4,H.COLOR_ATTACHMENT0),re&&re.drawBuffersWEBGL(d[0])):te>1&&re.drawBuffersWEBGL(d[te]);var ue=H.getExtension("WEBGL_depth_texture");ue?Q?Z.depth=_(H,Y,se,ue.UNSIGNED_INT_24_8_WEBGL,H.DEPTH_STENCIL,H.DEPTH_STENCIL_ATTACHMENT):ee&&(Z.depth=_(H,Y,se,H.UNSIGNED_SHORT,H.DEPTH_COMPONENT,H.DEPTH_ATTACHMENT)):ee&&Q?Z._depth_rb=g(H,Y,se,H.DEPTH_STENCIL,H.DEPTH_STENCIL_ATTACHMENT):ee?Z._depth_rb=g(H,Y,se,H.DEPTH_COMPONENT16,H.DEPTH_ATTACHMENT):Q&&(Z._depth_rb=g(H,Y,se,H.STENCIL_INDEX,H.STENCIL_ATTACHMENT));var de=H.checkFramebufferStatus(H.FRAMEBUFFER);if(de!==H.FRAMEBUFFER_COMPLETE){for(Z._destroyed=!0,H.bindFramebuffer(H.FRAMEBUFFER,null),H.deleteFramebuffer(Z.handle),Z.handle=null,Z.depth&&(Z.depth.dispose(),Z.depth=null),Z._depth_rb&&(H.deleteRenderbuffer(Z._depth_rb),Z._depth_rb=null),le=0;le<Z.color.length;++le)Z.color[le].dispose(),Z.color[le]=null;Z._color_rb&&(H.deleteRenderbuffer(Z._color_rb),Z._color_rb=null),h(H,W),T(de)}h(H,W)}(this)}var x=w.prototype;function b(A,p,O){if(A._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(A._shape[0]!==p||A._shape[1]!==O){var k=A.gl,I=k.getParameter(k.MAX_RENDERBUFFER_SIZE);if(p<0||p>I||O<0||O>I)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");A._shape[0]=p,A._shape[1]=O;for(var P=m(k),R=0;R<A.color.length;++R)A.color[R].shape=A._shape;A._color_rb&&(k.bindRenderbuffer(k.RENDERBUFFER,A._color_rb),k.renderbufferStorage(k.RENDERBUFFER,k.RGBA4,A._shape[0],A._shape[1])),A.depth&&(A.depth.shape=A._shape),A._depth_rb&&(k.bindRenderbuffer(k.RENDERBUFFER,A._depth_rb),A._useDepth&&A._useStencil?k.renderbufferStorage(k.RENDERBUFFER,k.DEPTH_STENCIL,A._shape[0],A._shape[1]):A._useDepth?k.renderbufferStorage(k.RENDERBUFFER,k.DEPTH_COMPONENT16,A._shape[0],A._shape[1]):A._useStencil&&k.renderbufferStorage(k.RENDERBUFFER,k.STENCIL_INDEX,A._shape[0],A._shape[1])),k.bindFramebuffer(k.FRAMEBUFFER,A.handle);var N=k.checkFramebufferStatus(k.FRAMEBUFFER);N!==k.FRAMEBUFFER_COMPLETE&&(A.dispose(),h(k,P),T(N)),h(k,P)}}Object.defineProperties(x,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(A){if(Array.isArray(A)||(A=[0|A,0|A]),2!==A.length)throw new Error("gl-fbo: Shape vector must be length 2");var p=0|A[0],O=0|A[1];return b(this,p,O),[p,O]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(A){return b(this,A|=0,this._shape[1]),A},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(A){return b(this,this._shape[0],A|=0),A},enumerable:!1}}),x.bind=function(){if(!this._destroyed){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this.handle),A.viewport(0,0,this._shape[0],this._shape[1])}},x.dispose=function(){if(!this._destroyed){this._destroyed=!0;var A=this.gl;A.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(A.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var p=0;p<this.color.length;++p)this.color[p].dispose(),this.color[p]=null;this._color_rb&&(A.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(v,c,i){var s=i(8974).sprintf,a=i(6603),o=i(9365),l=i(8008);v.exports=function(u,d,m){"use strict";var h=o(d)||"of unknown name (see npm glsl-shader-name)",T="unknown type";void 0!==m&&(T=m===a.FRAGMENT_SHADER?"fragment":"vertex");for(var _=s("Error compiling %s shader %s:\n",T,h),g=s("%s%s",_,u),w=u.split("\n"),x={},b=0;b<w.length;b++){var A=w[b];if(""!==A&&"\0"!==A){var p=parseInt(A.split(":")[2]);if(isNaN(p))throw new Error(s("Could not parse error: %s",A));x[p]=A}}var O=l(d).split("\n");for(b=0;b<O.length;b++)if((x[b+3]||x[b+2]||x[b+1])&&(_+=O[b]+"\n",x[b+1])){var k=x[b+1];k=k.substr(k.split(":",3).join(":").length+1).trim(),_+=s("^^^ %s\n\n",k)}return{long:_.trim(),short:g.trim()}}},6386:function(v,c,i){"use strict";v.exports=function(g,w){var x=g.gl,b=new m(g,l(x,d.vertex,d.fragment),l(x,d.pickVertex,d.pickFragment),u(x),u(x),u(x),u(x));return b.update(w),g.addObject(b),b};var s=i(5070),a=i(9560),o=i(5306),l=i(5158),u=i(5827),d=i(1292);function m(g,w,x,b,A,p,O){this.plot=g,this.shader=w,this.pickShader=x,this.positionBuffer=b,this.weightBuffer=A,this.colorBuffer=p,this.idBuffer=O,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h,g,w,T=m.prototype,_=[0,0,1,0,0,1,1,0,1,1,0,1];T.draw=(h=[1,0,0,0,1,0,0,0,1],function(){var g=this.plot,w=this.shader,x=this.bounds,b=this.numVertices;if(!(b<=0)){var A=g.gl,p=g.dataBox,k=x[3]-x[1],I=p[2]-p[0],P=p[3]-p[1];h[0]=2*(x[2]-x[0])/I,h[4]=2*k/P,h[6]=2*(x[0]-p[0])/I-1,h[7]=2*(x[1]-p[1])/P-1,w.bind();var R=w.uniforms;R.viewTransform=h,R.shape=this.shape;var N=w.attributes;this.positionBuffer.bind(),N.position.pointer(),this.weightBuffer.bind(),N.weight.pointer(A.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),N.color.pointer(A.UNSIGNED_BYTE,!0),A.drawArrays(A.TRIANGLES,0,b)}}),T.drawPick=(g=[1,0,0,0,1,0,0,0,1],w=[0,0,0,0],function(x){var b=this.plot,A=this.pickShader,p=this.bounds,O=this.numVertices;if(!(O<=0)){var k=b.gl,I=b.dataBox,R=p[3]-p[1],N=I[2]-I[0],j=I[3]-I[1];g[0]=2*(p[2]-p[0])/N,g[4]=2*R/j,g[6]=2*(p[0]-I[0])/N-1,g[7]=2*(p[1]-I[1])/j-1;for(var X=0;X<4;++X)w[X]=x>>8*X&255;this.pickOffset=x,A.bind();var F=A.uniforms;F.viewTransform=g,F.pickOffset=w,F.shape=this.shape;var Z=A.attributes;return this.positionBuffer.bind(),Z.position.pointer(),this.weightBuffer.bind(),Z.weight.pointer(k.UNSIGNED_BYTE,!1),this.idBuffer.bind(),Z.pickId.pointer(k.UNSIGNED_BYTE,!1),k.drawArrays(k.TRIANGLES,0,O),x+this.shape[0]*this.shape[1]}}),T.pick=function(g,w,x){var b=this.pickOffset;if(x<b||x>=b+this.shape[0]*this.shape[1])return null;var p=x-b;return{object:this,pointId:p,dataCoord:[this.xData[p%this.shape[0]],this.yData[p/this.shape[0]|0]]}},T.update=function(g){var w=(g=g||{}).shape||[0,0],x=g.x||a(w[0]),b=g.y||a(w[1]),A=g.z||new Float32Array(w[0]*w[1]),p=!1!==g.zsmooth;this.xData=x,this.yData=b;var O,k,I,P,R=g.colorLevels||[0],N=g.colorValues||[0,0,0,1],j=R.length,X=this.bounds;p?(O=X[0]=x[0],k=X[1]=b[0],I=X[2]=x[x.length-1],P=X[3]=b[b.length-1]):(O=X[0]=x[0]+(x[1]-x[0])/2,k=X[1]=b[0]+(b[1]-b[0])/2,I=X[2]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2,P=X[3]=b[b.length-1]+(b[b.length-1]-b[b.length-2])/2);var F=1/(I-O),Z=1/(P-k),W=w[0],H=w[1];this.shape=[W,H];var G=(p?(W-1)*(H-1):W*H)*(_.length>>>1);this.numVertices=G;for(var Y=o.mallocUint8(4*G),se=o.mallocFloat32(2*G),te=o.mallocUint8(2*G),re=o.mallocUint32(G),Q=0,ee=p?W-1:W,oe=p?H-1:H,le=0;le<oe;++le){var ue,de;p?(ue=Z*(b[le]-k),de=Z*(b[le+1]-k)):(ue=le<H-1?Z*(b[le]-(b[le+1]-b[le])/2-k):Z*(b[le]-(b[le]-b[le-1])/2-k),de=le<H-1?Z*(b[le]+(b[le+1]-b[le])/2-k):Z*(b[le]+(b[le]-b[le-1])/2-k));for(var he=0;he<ee;++he){var we,Ae;p?(we=F*(x[he]-O),Ae=F*(x[he+1]-O)):(we=he<W-1?F*(x[he]-(x[he+1]-x[he])/2-O):F*(x[he]-(x[he]-x[he-1])/2-O),Ae=he<W-1?F*(x[he]+(x[he+1]-x[he])/2-O):F*(x[he]+(x[he]-x[he-1])/2-O));for(var Te=0;Te<_.length;Te+=2){var ve,xe,Fe,Se,ke=_[Te],pe=_[Te+1],fe=A[p?(le+pe)*W+(he+ke):le*W+he],be=s.le(R,fe);if(be<0)ve=N[0],xe=N[1],Fe=N[2],Se=N[3];else if(be===j-1)ve=N[4*j-4],xe=N[4*j-3],Fe=N[4*j-2],Se=N[4*j-1];else{var Le=(fe-R[be])/(R[be+1]-R[be]),Oe=1-Le,De=4*be,Ue=4*(be+1);ve=Oe*N[De]+Le*N[Ue],xe=Oe*N[De+1]+Le*N[Ue+1],Fe=Oe*N[De+2]+Le*N[Ue+2],Se=Oe*N[De+3]+Le*N[Ue+3]}Y[4*Q]=255*ve,Y[4*Q+1]=255*xe,Y[4*Q+2]=255*Fe,Y[4*Q+3]=255*Se,se[2*Q]=.5*we+.5*Ae,se[2*Q+1]=.5*ue+.5*de,te[2*Q]=ke,te[2*Q+1]=pe,re[Q]=le*W+he,Q+=1}}}this.positionBuffer.update(se),this.weightBuffer.update(te),this.colorBuffer.update(Y),this.idBuffer.update(re),o.free(se),o.free(Y),o.free(te),o.free(re)},T.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(v,c,i){"use strict";var s=i(6832);v.exports={fragment:s(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:s(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},248:function(v,c,i){var s=i(6832),a=i(5158),o=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),l=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),u=s(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),d=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];c.createShader=function(m){return a(m,o,l,null,d)},c.createPickShader=function(m){return a(m,o,u,null,d)}},6086:function(v,c,i){"use strict";v.exports=function(O){var k=O.gl||O.scene&&O.scene.gl,I=T(k);I.attributes.position.location=0,I.attributes.nextPosition.location=1,I.attributes.arcLength.location=2,I.attributes.lineWidth.location=3,I.attributes.color.location=4;var P=_(k);P.attributes.position.location=0,P.attributes.nextPosition.location=1,P.attributes.arcLength.location=2,P.attributes.lineWidth.location=3,P.attributes.color.location=4;for(var R=s(k),N=a(k,[{buffer:R,size:3,offset:0,stride:48},{buffer:R,size:3,offset:12,stride:48},{buffer:R,size:1,offset:24,stride:48},{buffer:R,size:1,offset:28,stride:48},{buffer:R,size:4,offset:32,stride:48}]),j=m(new Array(1024),[256,1,4]),X=0;X<1024;++X)j.data[X]=255;var F=o(k,j);F.wrap=k.REPEAT;var Z=new A(k,I,P,R,N,F);return Z.update(O),Z};var s=i(5827),a=i(2944),o=i(8931),l=new Uint8Array(4),u=new Float32Array(l.buffer),d=i(5070),m=i(5050),h=i(248),T=h.createShader,_=h.createPickShader,g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function w(O,k){for(var I=0,P=0;P<3;++P){var R=O[P]-k[P];I+=R*R}return Math.sqrt(I)}function x(O){for(var k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)k[0][I]=Math.max(O[0][I],k[0][I]),k[1][I]=Math.min(O[1][I],k[1][I]);return k}function b(O,k,I,P){this.arcLength=O,this.position=k,this.index=I,this.dataCoordinate=P}function A(O,k,I,P,R,N){this.gl=O,this.shader=k,this.pickShader=I,this.buffer=P,this.vao=R,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var p=A.prototype;p.isTransparent=function(){return this.hasAlpha},p.isOpaque=function(){return!this.hasAlpha},p.pickSlots=1,p.setPickBase=function(O){this.pickId=O},p.drawTransparent=p.draw=function(O){if(this.vertexCount){var k=this.gl,I=this.shader,P=this.vao;I.bind(),I.uniforms={model:O.model||g,view:O.view||g,projection:O.projection||g,clipBounds:x(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[k.drawingBufferWidth,k.drawingBufferHeight],pixelRatio:this.pixelRatio},P.bind(),P.draw(k.TRIANGLE_STRIP,this.vertexCount),P.unbind()}},p.drawPick=function(O){if(this.vertexCount){var k=this.gl,I=this.pickShader,P=this.vao;I.bind(),I.uniforms={model:O.model||g,view:O.view||g,projection:O.projection||g,pickId:this.pickId,clipBounds:x(this.clipBounds),screenShape:[k.drawingBufferWidth,k.drawingBufferHeight],pixelRatio:this.pixelRatio},P.bind(),P.draw(k.TRIANGLE_STRIP,this.vertexCount),P.unbind()}},p.update=function(O){var k,I;this.dirty=!0;var P=!!O.connectGaps;"dashScale"in O&&(this.dashScale=O.dashScale),this.hasAlpha=!1,"opacity"in O&&(this.opacity=+O.opacity,this.opacity<1&&(this.hasAlpha=!0));var R=[],N=[],j=[],X=0,F=0,Z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],W=O.position||O.positions;if(W){var H=O.color||O.colors||[0,0,0,1],G=O.lineWidth||1,Y=!1;e:for(k=1;k<W.length;++k){var se,te,re,Q=W[k-1],ee=W[k];for(N.push(X),j.push(Q.slice()),I=0;I<3;++I){if(isNaN(Q[I])||isNaN(ee[I])||!isFinite(Q[I])||!isFinite(ee[I])){if(!P&&R.length>0){for(var oe=0;oe<24;++oe)R.push(R[R.length-12]);F+=2,Y=!0}continue e}Z[0][I]=Math.min(Z[0][I],Q[I],ee[I]),Z[1][I]=Math.max(Z[1][I],Q[I],ee[I])}Array.isArray(H[0])?(se=H.length>k-1?H[k-1]:H.length>0?H[H.length-1]:[0,0,0,1],te=H.length>k?H[k]:H.length>0?H[H.length-1]:[0,0,0,1]):se=te=H,3===se.length&&(se=[se[0],se[1],se[2],1]),3===te.length&&(te=[te[0],te[1],te[2],1]),!this.hasAlpha&&se[3]<1&&(this.hasAlpha=!0),re=Array.isArray(G)?G.length>k-1?G[k-1]:G.length>0?G[G.length-1]:[0,0,0,1]:G;var le=X;if(X+=w(Q,ee),Y){for(I=0;I<2;++I)R.push(Q[0],Q[1],Q[2],ee[0],ee[1],ee[2],le,re,se[0],se[1],se[2],se[3]);F+=2,Y=!1}R.push(Q[0],Q[1],Q[2],ee[0],ee[1],ee[2],le,re,se[0],se[1],se[2],se[3],Q[0],Q[1],Q[2],ee[0],ee[1],ee[2],le,-re,se[0],se[1],se[2],se[3],ee[0],ee[1],ee[2],Q[0],Q[1],Q[2],X,-re,te[0],te[1],te[2],te[3],ee[0],ee[1],ee[2],Q[0],Q[1],Q[2],X,re,te[0],te[1],te[2],te[3]),F+=4}}if(this.buffer.update(R),N.push(X),j.push(W[W.length-1].slice()),this.bounds=Z,this.vertexCount=F,this.points=j,this.arcLength=N,"dashes"in O){var ue=O.dashes.slice();for(ue.unshift(0),k=1;k<ue.length;++k)ue[k]=ue[k-1]+ue[k];var de=m(new Array(1024),[256,1,4]);for(k=0;k<256;++k){for(I=0;I<4;++I)de.set(k,0,I,0);1&d.le(ue,ue[ue.length-1]*k/255)?de.set(k,0,0,0):de.set(k,0,0,255)}this.texture.setPixels(de)}},p.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},p.pick=function(O){if(!O||O.id!==this.pickId)return null;var W,H,G,k=(W=O.value[0],H=O.value[1],G=O.value[2],l[0]=0,l[1]=G,l[2]=H,l[3]=W,u[0]),I=d.le(this.arcLength,k);if(I<0)return null;if(I===this.arcLength.length-1)return new b(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),I);for(var P=this.points[I],R=this.points[Math.min(I+1,this.points.length-1)],N=(k-this.arcLength[I])/(this.arcLength[I+1]-this.arcLength[I]),j=1-N,X=[0,0,0],F=0;F<3;++F)X[F]=j*P[F]+N*R[F];var Z=Math.min(N<.5?I:I+1,this.points.length-1);return new b(k,X,Z,this.points[Z])}},7332:function(v){v.exports=function(c){var i=new Float32Array(16);return i[0]=c[0],i[1]=c[1],i[2]=c[2],i[3]=c[3],i[4]=c[4],i[5]=c[5],i[6]=c[6],i[7]=c[7],i[8]=c[8],i[9]=c[9],i[10]=c[10],i[11]=c[11],i[12]=c[12],i[13]=c[13],i[14]=c[14],i[15]=c[15],i}},9823:function(v){v.exports=function(){var c=new Float32Array(16);return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},7787:function(v){v.exports=function(c){var i=c[0],s=c[1],a=c[2],o=c[3],l=c[4],u=c[5],d=c[6],m=c[7],h=c[8],T=c[9],_=c[10],g=c[11],w=c[12],x=c[13],b=c[14],A=c[15];return(i*u-s*l)*(_*A-g*b)-(i*d-a*l)*(T*A-g*x)+(i*m-o*l)*(T*b-_*x)+(s*d-a*u)*(h*A-g*w)-(s*m-o*u)*(h*b-_*w)+(a*m-o*d)*(h*x-T*w)}},5950:function(v){v.exports=function(c,i){var s=i[0],a=i[1],o=i[2],l=i[3],u=s+s,d=a+a,m=o+o,h=s*u,T=a*u,_=a*d,g=o*u,w=o*d,x=o*m,b=l*u,A=l*d,p=l*m;return c[0]=1-_-x,c[1]=T+p,c[2]=g-A,c[3]=0,c[4]=T-p,c[5]=1-h-x,c[6]=w+b,c[7]=0,c[8]=g+A,c[9]=w-b,c[10]=1-h-_,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},7280:function(v){v.exports=function(c,i,s){var a=i[0],o=i[1],l=i[2],u=i[3],d=a+a,m=o+o,h=l+l,T=a*d,_=a*m,g=a*h,w=o*m,x=o*h,b=l*h,A=u*d,p=u*m,O=u*h;return c[0]=1-(w+b),c[1]=_+O,c[2]=g-p,c[3]=0,c[4]=_-O,c[5]=1-(T+b),c[6]=x+A,c[7]=0,c[8]=g+p,c[9]=x-A,c[10]=1-(T+w),c[11]=0,c[12]=s[0],c[13]=s[1],c[14]=s[2],c[15]=1,c}},9947:function(v){v.exports=function(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},7437:function(v){v.exports=function(c,i){var s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],d=i[5],m=i[6],h=i[7],T=i[8],_=i[9],g=i[10],w=i[11],x=i[12],b=i[13],A=i[14],p=i[15],O=s*d-a*u,k=s*m-o*u,I=s*h-l*u,P=a*m-o*d,R=a*h-l*d,N=o*h-l*m,j=T*b-_*x,X=T*A-g*x,F=T*p-w*x,Z=_*A-g*b,W=_*p-w*b,H=g*p-w*A,G=O*H-k*W+I*Z+P*F-R*X+N*j;return G?(c[0]=(d*H-m*W+h*Z)*(G=1/G),c[1]=(o*W-a*H-l*Z)*G,c[2]=(b*N-A*R+p*P)*G,c[3]=(g*R-_*N-w*P)*G,c[4]=(m*F-u*H-h*X)*G,c[5]=(s*H-o*F+l*X)*G,c[6]=(A*I-x*N-p*k)*G,c[7]=(T*N-g*I+w*k)*G,c[8]=(u*W-d*F+h*j)*G,c[9]=(a*F-s*W-l*j)*G,c[10]=(x*R-b*I+p*O)*G,c[11]=(_*I-T*R-w*O)*G,c[12]=(d*X-u*Z-m*j)*G,c[13]=(s*Z-a*X+o*j)*G,c[14]=(b*k-x*P-A*O)*G,c[15]=(T*P-_*k+g*O)*G,c):null}},3012:function(v,c,i){var s=i(9947);v.exports=function(a,o,l,u){var d,m,h,T,_,g,w,x,b,A,p=o[0],O=o[1],k=o[2],I=u[0],P=u[1],R=u[2],N=l[0],j=l[1],X=l[2];return Math.abs(p-N)<1e-6&&Math.abs(O-j)<1e-6&&Math.abs(k-X)<1e-6?s(a):(w=p-N,x=O-j,b=k-X,d=P*(b*=A=1/Math.sqrt(w*w+x*x+b*b))-R*(x*=A),m=R*(w*=A)-I*b,h=I*x-P*w,(A=Math.sqrt(d*d+m*m+h*h))?(d*=A=1/A,m*=A,h*=A):(d=0,m=0,h=0),T=x*h-b*m,_=b*d-w*h,g=w*m-x*d,(A=Math.sqrt(T*T+_*_+g*g))?(T*=A=1/A,_*=A,g*=A):(T=0,_=0,g=0),a[0]=d,a[1]=T,a[2]=w,a[3]=0,a[4]=m,a[5]=_,a[6]=x,a[7]=0,a[8]=h,a[9]=g,a[10]=b,a[11]=0,a[12]=-(d*p+m*O+h*k),a[13]=-(T*p+_*O+g*k),a[14]=-(w*p+x*O+b*k),a[15]=1,a)}},104:function(v){v.exports=function(c,i,s){var a=i[0],o=i[1],l=i[2],u=i[3],d=i[4],m=i[5],h=i[6],T=i[7],_=i[8],g=i[9],w=i[10],x=i[11],b=i[12],A=i[13],p=i[14],O=i[15],k=s[0],I=s[1],P=s[2],R=s[3];return c[0]=k*a+I*d+P*_+R*b,c[1]=k*o+I*m+P*g+R*A,c[2]=k*l+I*h+P*w+R*p,c[3]=k*u+I*T+P*x+R*O,c[4]=(k=s[4])*a+(I=s[5])*d+(P=s[6])*_+(R=s[7])*b,c[5]=k*o+I*m+P*g+R*A,c[6]=k*l+I*h+P*w+R*p,c[7]=k*u+I*T+P*x+R*O,c[8]=(k=s[8])*a+(I=s[9])*d+(P=s[10])*_+(R=s[11])*b,c[9]=k*o+I*m+P*g+R*A,c[10]=k*l+I*h+P*w+R*p,c[11]=k*u+I*T+P*x+R*O,c[12]=(k=s[12])*a+(I=s[13])*d+(P=s[14])*_+(R=s[15])*b,c[13]=k*o+I*m+P*g+R*A,c[14]=k*l+I*h+P*w+R*p,c[15]=k*u+I*T+P*x+R*O,c}},5268:function(v){v.exports=function(c,i,s,a,o,l,u){var d=1/(i-s),m=1/(a-o),h=1/(l-u);return c[0]=-2*d,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*m,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*h,c[11]=0,c[12]=(i+s)*d,c[13]=(o+a)*m,c[14]=(u+l)*h,c[15]=1,c}},1120:function(v){v.exports=function(c,i,s,a,o){var l=1/Math.tan(i/2),u=1/(a-o);return c[0]=l/s,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=l,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=(o+a)*u,c[11]=-1,c[12]=0,c[13]=0,c[14]=2*o*a*u,c[15]=0,c}},4422:function(v){v.exports=function(c,i,s,a){var o,l,u,d,m,h,T,_,g,w,x,b,A,p,O,k,I,P,R,N,j,X,F,Z,W=a[0],H=a[1],G=a[2],Y=Math.sqrt(W*W+H*H+G*G);return Math.abs(Y)<1e-6?null:(W*=Y=1/Y,H*=Y,G*=Y,o=Math.sin(s),u=1-(l=Math.cos(s)),m=i[1],h=i[2],T=i[3],g=i[5],w=i[6],x=i[7],A=i[9],p=i[10],O=i[11],R=W*H*u-G*o,N=H*H*u+l,j=G*H*u+W*o,X=W*G*u+H*o,F=H*G*u-W*o,Z=G*G*u+l,c[0]=(d=i[0])*(k=W*W*u+l)+(_=i[4])*(I=H*W*u+G*o)+(b=i[8])*(P=G*W*u-H*o),c[1]=m*k+g*I+A*P,c[2]=h*k+w*I+p*P,c[3]=T*k+x*I+O*P,c[4]=d*R+_*N+b*j,c[5]=m*R+g*N+A*j,c[6]=h*R+w*N+p*j,c[7]=T*R+x*N+O*j,c[8]=d*X+_*F+b*Z,c[9]=m*X+g*F+A*Z,c[10]=h*X+w*F+p*Z,c[11]=T*X+x*F+O*Z,i!==c&&(c[12]=i[12],c[13]=i[13],c[14]=i[14],c[15]=i[15]),c)}},6109:function(v){v.exports=function(c,i,s){var a=Math.sin(s),o=Math.cos(s),l=i[4],u=i[5],d=i[6],m=i[7],h=i[8],T=i[9],_=i[10],g=i[11];return i!==c&&(c[0]=i[0],c[1]=i[1],c[2]=i[2],c[3]=i[3],c[12]=i[12],c[13]=i[13],c[14]=i[14],c[15]=i[15]),c[4]=l*o+h*a,c[5]=u*o+T*a,c[6]=d*o+_*a,c[7]=m*o+g*a,c[8]=h*o-l*a,c[9]=T*o-u*a,c[10]=_*o-d*a,c[11]=g*o-m*a,c}},7115:function(v){v.exports=function(c,i,s){var a=Math.sin(s),o=Math.cos(s),l=i[0],u=i[1],d=i[2],m=i[3],h=i[8],T=i[9],_=i[10],g=i[11];return i!==c&&(c[4]=i[4],c[5]=i[5],c[6]=i[6],c[7]=i[7],c[12]=i[12],c[13]=i[13],c[14]=i[14],c[15]=i[15]),c[0]=l*o-h*a,c[1]=u*o-T*a,c[2]=d*o-_*a,c[3]=m*o-g*a,c[8]=l*a+h*o,c[9]=u*a+T*o,c[10]=d*a+_*o,c[11]=m*a+g*o,c}},5240:function(v){v.exports=function(c,i,s){var a=Math.sin(s),o=Math.cos(s),l=i[0],u=i[1],d=i[2],m=i[3],h=i[4],T=i[5],_=i[6],g=i[7];return i!==c&&(c[8]=i[8],c[9]=i[9],c[10]=i[10],c[11]=i[11],c[12]=i[12],c[13]=i[13],c[14]=i[14],c[15]=i[15]),c[0]=l*o+h*a,c[1]=u*o+T*a,c[2]=d*o+_*a,c[3]=m*o+g*a,c[4]=h*o-l*a,c[5]=T*o-u*a,c[6]=_*o-d*a,c[7]=g*o-m*a,c}},3668:function(v){v.exports=function(c,i,s){var a=s[0],o=s[1],l=s[2];return c[0]=i[0]*a,c[1]=i[1]*a,c[2]=i[2]*a,c[3]=i[3]*a,c[4]=i[4]*o,c[5]=i[5]*o,c[6]=i[6]*o,c[7]=i[7]*o,c[8]=i[8]*l,c[9]=i[9]*l,c[10]=i[10]*l,c[11]=i[11]*l,c[12]=i[12],c[13]=i[13],c[14]=i[14],c[15]=i[15],c}},998:function(v){v.exports=function(c,i,s){var a,o,l,u,d,m,h,T,_,g,w,x,b=s[0],A=s[1],p=s[2];return i===c?(c[12]=i[0]*b+i[4]*A+i[8]*p+i[12],c[13]=i[1]*b+i[5]*A+i[9]*p+i[13],c[14]=i[2]*b+i[6]*A+i[10]*p+i[14],c[15]=i[3]*b+i[7]*A+i[11]*p+i[15]):(o=i[1],l=i[2],u=i[3],d=i[4],m=i[5],h=i[6],T=i[7],_=i[8],g=i[9],w=i[10],x=i[11],c[0]=a=i[0],c[1]=o,c[2]=l,c[3]=u,c[4]=d,c[5]=m,c[6]=h,c[7]=T,c[8]=_,c[9]=g,c[10]=w,c[11]=x,c[12]=a*b+d*A+_*p+i[12],c[13]=o*b+m*A+g*p+i[13],c[14]=l*b+h*A+w*p+i[14],c[15]=u*b+T*A+x*p+i[15]),c}},2142:function(v){v.exports=function(c,i){if(c===i){var s=i[1],a=i[2],o=i[3],l=i[6],u=i[7],d=i[11];c[1]=i[4],c[2]=i[8],c[3]=i[12],c[4]=s,c[6]=i[9],c[7]=i[13],c[8]=a,c[9]=l,c[11]=i[14],c[12]=o,c[13]=u,c[14]=d}else c[0]=i[0],c[1]=i[4],c[2]=i[8],c[3]=i[12],c[4]=i[1],c[5]=i[5],c[6]=i[9],c[7]=i[13],c[8]=i[2],c[9]=i[6],c[10]=i[10],c[11]=i[14],c[12]=i[3],c[13]=i[7],c[14]=i[11],c[15]=i[15];return c}},4340:function(v,c,i){"use strict";var s=i(957),a=i(7309);function o(d,m){for(var h=[0,0,0,0],T=0;T<4;++T)for(var _=0;_<4;++_)h[_]+=d[4*T+_]*m[T];return h}function l(d,m,h,T,_){for(var g=o(T,o(h,o(m,[d[0],d[1],d[2],1]))),w=0;w<3;++w)g[w]/=g[3];return[.5*_[0]*(1+g[0]),.5*_[1]*(1-g[1])]}function u(d,m){for(var h=[0,0,0],T=0;T<d.length;++T)for(var _=d[T],g=m[T],w=0;w<3;++w)h[w]+=g*_[w];return h}v.exports=function(d,m,h,T,_,g){if(1===d.length)return[0,d[0].slice()];for(var w=new Array(d.length),x=0;x<d.length;++x)w[x]=l(d[x],h,T,_,g);var b=0,A=1/0;for(x=0;x<w.length;++x){for(var p=0,O=0;O<2;++O)p+=Math.pow(w[x][O]-m[O],2);p<A&&(A=p,b=x)}var k=function(P,R){if(2===P.length){for(var N=0,j=0,X=0;X<2;++X)N+=Math.pow(R[X]-P[0][X],2),j+=Math.pow(R[X]-P[1][X],2);return(N=Math.sqrt(N))+(j=Math.sqrt(j))<1e-6?[1,0]:[j/(N+j),N/(j+N)]}if(3===P.length){var F=[0,0];return a(P[0],P[1],P[2],R,F),s(P,F)}return[]}(w,m),I=0;for(x=0;x<3;++x){if(k[x]<-.001||k[x]>1.0001)return null;I+=k[x]}return Math.abs(I-1)>.001?null:[b,u(d,k),k]}},2056:function(v,c,i){var s=i(6832),a=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),o=s(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),l=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),u=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),d=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),m=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),h=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),T=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),_=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),g=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),w=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);c.meshShader={vertex:a,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},c.wireShader={vertex:l,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},c.pointShader={vertex:d,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},c.pickShader={vertex:h,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},c.pointPickShader={vertex:_,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},c.contourShader={vertex:g,fragment:w,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,c,i){"use strict";var s=i(5158),a=i(5827),o=i(2944),l=i(8931),u=i(115),d=i(104),m=i(7437),h=i(5050),T=i(9156),_=i(7212),g=i(5306),w=i(2056),x=i(4340),b=w.meshShader,A=w.wireShader,p=w.pointShader,O=w.pickShader,k=w.pointPickShader,I=w.contourShader,P=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function R(H,G,Y,se,te,re,Q,ee,oe,le,ue,de,he,we,Ae,Te,ve,xe,Fe,Se,ke,pe,fe,be,Le,Oe,De){this.gl=H,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=G,this.dirty=!0,this.triShader=Y,this.lineShader=se,this.pointShader=te,this.pickShader=re,this.pointPickShader=Q,this.contourShader=ee,this.trianglePositions=oe,this.triangleColors=ue,this.triangleNormals=he,this.triangleUVs=de,this.triangleIds=le,this.triangleVAO=we,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Ae,this.edgeColors=ve,this.edgeUVs=xe,this.edgeIds=Te,this.edgeVAO=Fe,this.edgeCount=0,this.pointPositions=Se,this.pointColors=pe,this.pointUVs=fe,this.pointSizes=be,this.pointIds=ke,this.pointVAO=Le,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Oe,this.contourVAO=De,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=P,this._view=P,this._projection=P,this._resolution=[1,1]}var N=R.prototype;function j(H,G){if(!G||!G.length)return 1;for(var Y=0;Y<G.length;++Y){if(G.length<2)return 1;if(G[Y][0]===H)return G[Y][1];if(G[Y][0]>H&&Y>0){var se=(G[Y][0]-H)/(G[Y][0]-G[Y-1][0]);return G[Y][1]*(1-se)+se*G[Y-1][1]}}return 1}N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function(H){this.pickId=H},N.highlight=function(H){if(H&&this.contourEnable){for(var G=_(this.cells,this.intensity,H.intensity),Y=G.cells,se=G.vertexIds,te=G.vertexWeights,re=Y.length,Q=g.mallocFloat32(6*re),ee=0,oe=0;oe<re;++oe)for(var le=Y[oe],ue=0;ue<2;++ue){var de=le[0];2===le.length&&(de=le[ue]);for(var Ae=te[de],Te=1-Ae,ve=this.positions[se[de][0]],xe=this.positions[se[de][1]],Fe=0;Fe<3;++Fe)Q[ee++]=Ae*ve[Fe]+Te*xe[Fe]}this.contourCount=ee/3|0,this.contourPositions.update(Q.subarray(0,ee)),g.free(Q)}else this.contourCount=0},N.update=function(H){H=H||{};var G=this.gl;this.dirty=!0,"contourEnable"in H&&(this.contourEnable=H.contourEnable),"contourColor"in H&&(this.contourColor=H.contourColor),"lineWidth"in H&&(this.lineWidth=H.lineWidth),"lightPosition"in H&&(this.lightPosition=H.lightPosition),this.hasAlpha=!1,"opacity"in H&&(this.opacity=H.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in H&&(this.opacityscale=H.opacityscale,this.hasAlpha=!0),"ambient"in H&&(this.ambientLight=H.ambient),"diffuse"in H&&(this.diffuseLight=H.diffuse),"specular"in H&&(this.specularLight=H.specular),"roughness"in H&&(this.roughness=H.roughness),"fresnel"in H&&(this.fresnel=H.fresnel),H.texture?(this.texture.dispose(),this.texture=l(G,H.texture)):H.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=G.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=G.LINEAR,this.texture.setPixels(function(Ft,Ht){for(var Lt=T({colormap:Ft,nshades:256,format:"rgba"}),tt=new Uint8Array(1024),rt=0;rt<256;++rt){for(var Ke=Lt[rt],it=0;it<3;++it)tt[4*rt+it]=Ke[it];tt[4*rt+3]=Ht?255*j(rt/255,Ht):255*Ke[3]}return h(tt,[256,256,4],[4,0,1])}(H.colormap,this.opacityscale)),this.texture.generateMipmap());var Y=H.cells,se=H.positions;if(se&&Y){var te=[],re=[],Q=[],ee=[],oe=[],le=[],ue=[],de=[],he=[],we=[],Ae=[],Te=[],ve=[],xe=[];this.cells=Y,this.positions=se;var Fe=H.vertexNormals,Se=H.cellNormals,ke=void 0===H.vertexNormalsEpsilon?1e-6:H.vertexNormalsEpsilon;H.useFacetNormals&&!Se&&(Se=u.faceNormals(Y,se,void 0===H.faceNormalsEpsilon?1e-6:H.faceNormalsEpsilon)),Se||Fe||(Fe=u.vertexNormals(Y,se,ke));var fe=H.vertexColors,be=H.cellColors,Le=H.meshColor||[1,1,1,1],Oe=H.vertexUVs,De=H.vertexIntensity,Ue=H.cellUVs,Ge=H.cellIntensity,ye=1/0,Ie=-1/0;if(!Oe&&!Ue)if(De)if(H.vertexIntensityBounds)ye=+H.vertexIntensityBounds[0],Ie=+H.vertexIntensityBounds[1];else for(var Ee=0;Ee<De.length;++Ee){var Be=De[Ee];ye=Math.min(ye,Be),Ie=Math.max(Ie,Be)}else if(Ge)if(H.cellIntensityBounds)ye=+H.cellIntensityBounds[0],Ie=+H.cellIntensityBounds[1];else for(Ee=0;Ee<Ge.length;++Ee)Be=Ge[Ee],ye=Math.min(ye,Be),Ie=Math.max(Ie,Be);else for(Ee=0;Ee<se.length;++Ee)Be=se[Ee][2],ye=Math.min(ye,Be),Ie=Math.max(Ie,Be);this.intensity=De||Ge||function(Ft){for(var Ht=Ft.length,Lt=new Array(Ht),tt=0;tt<Ht;++tt)Lt[tt]=Ft[tt][2];return Lt}(se),this.pickVertex=!(Ge||be);var We=H.pointSizes,He=H.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ee=0;Ee<se.length;++Ee)for(var Je=se[Ee],et=0;et<3;++et)!isNaN(Je[et])&&isFinite(Je[et])&&(this.bounds[0][et]=Math.min(this.bounds[0][et],Je[et]),this.bounds[1][et]=Math.max(this.bounds[1][et],Je[et]));var at=0,mt=0,ct=0;e:for(Ee=0;Ee<Y.length;++Ee){var St=Y[Ee];switch(St.length){case 1:for(Je=se[Et=St[0]],et=0;et<3;++et)if(isNaN(Je[et])||!isFinite(Je[et]))continue e;we.push(Je[0],Je[1],Je[2]),ht=fe?fe[Et]:be?be[Ee]:Le,this.opacityscale&&De?re.push(ht[0],ht[1],ht[2],this.opacity*j((De[Et]-ye)/(Ie-ye),this.opacityscale)):3===ht.length?Ae.push(ht[0],ht[1],ht[2],this.opacity):(Ae.push(ht[0],ht[1],ht[2],ht[3]*this.opacity),ht[3]<1&&(this.hasAlpha=!0)),Te.push((pt=Oe?Oe[Et]:De?[(De[Et]-ye)/(Ie-ye),0]:Ue?Ue[Ee]:Ge?[(Ge[Ee]-ye)/(Ie-ye),0]:[(Je[2]-ye)/(Ie-ye),0])[0],pt[1]),ve.push(We?We[Et]:He),xe.push(Ee),ct+=1;break;case 2:for(et=0;et<2;++et){Je=se[Et=St[et]];for(var Dt=0;Dt<3;++Dt)if(isNaN(Je[Dt])||!isFinite(Je[Dt]))continue e}for(et=0;et<2;++et)Je=se[Et=St[et]],le.push(Je[0],Je[1],Je[2]),ht=fe?fe[Et]:be?be[Ee]:Le,this.opacityscale&&De?re.push(ht[0],ht[1],ht[2],this.opacity*j((De[Et]-ye)/(Ie-ye),this.opacityscale)):3===ht.length?ue.push(ht[0],ht[1],ht[2],this.opacity):(ue.push(ht[0],ht[1],ht[2],ht[3]*this.opacity),ht[3]<1&&(this.hasAlpha=!0)),de.push((pt=Oe?Oe[Et]:De?[(De[Et]-ye)/(Ie-ye),0]:Ue?Ue[Ee]:Ge?[(Ge[Ee]-ye)/(Ie-ye),0]:[(Je[2]-ye)/(Ie-ye),0])[0],pt[1]),he.push(Ee);mt+=1;break;case 3:for(et=0;et<3;++et)for(Je=se[Et=St[et]],Dt=0;Dt<3;++Dt)if(isNaN(Je[Dt])||!isFinite(Je[Dt]))continue e;for(et=0;et<3;++et){var Et,ht,pt,Pt;Je=se[Et=St[2-et]],te.push(Je[0],Je[1],Je[2]),(ht=fe?fe[Et]:be?be[Ee]:Le)?this.opacityscale&&De?re.push(ht[0],ht[1],ht[2],this.opacity*j((De[Et]-ye)/(Ie-ye),this.opacityscale)):3===ht.length?re.push(ht[0],ht[1],ht[2],this.opacity):(re.push(ht[0],ht[1],ht[2],ht[3]*this.opacity),ht[3]<1&&(this.hasAlpha=!0)):re.push(.5,.5,.5,1),ee.push((pt=Oe?Oe[Et]:De?[(De[Et]-ye)/(Ie-ye),0]:Ue?Ue[Ee]:Ge?[(Ge[Ee]-ye)/(Ie-ye),0]:[(Je[2]-ye)/(Ie-ye),0])[0],pt[1]),Q.push((Pt=Fe?Fe[Et]:Se[Ee])[0],Pt[1],Pt[2]),oe.push(Ee)}at+=1}}this.pointCount=ct,this.edgeCount=mt,this.triangleCount=at,this.pointPositions.update(we),this.pointColors.update(Ae),this.pointUVs.update(Te),this.pointSizes.update(ve),this.pointIds.update(new Uint32Array(xe)),this.edgePositions.update(le),this.edgeColors.update(ue),this.edgeUVs.update(de),this.edgeIds.update(new Uint32Array(he)),this.trianglePositions.update(te),this.triangleColors.update(re),this.triangleUVs.update(ee),this.triangleNormals.update(Q),this.triangleIds.update(new Uint32Array(oe))}},N.drawTransparent=N.draw=function(H){for(var G=this.gl,Y=(H=H||{}).model||P,se=H.view||P,te=H.projection||P,re=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)re[0][Q]=Math.max(re[0][Q],this.clipBounds[0][Q]),re[1][Q]=Math.min(re[1][Q],this.clipBounds[1][Q]);var ee={model:Y,view:se,projection:te,inverseModel:P.slice(),clipBounds:re,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};ee.inverseModel=m(ee.inverseModel,ee.model),G.disable(G.CULL_FACE),this.texture.bind(0);var oe=new Array(16);for(d(oe,ee.view,ee.model),d(oe,ee.projection,oe),m(oe,oe),Q=0;Q<3;++Q)ee.eyePosition[Q]=oe[12+Q]/oe[15];var le,ue=oe[15];for(Q=0;Q<3;++Q)ue+=this.lightPosition[Q]*oe[4*Q+3];for(Q=0;Q<3;++Q){for(var de=oe[12+Q],he=0;he<3;++he)de+=oe[4*he+Q]*this.lightPosition[he];ee.lightPosition[Q]=de/ue}this.triangleCount>0&&((le=this.triShader).bind(),le.uniforms=ee,this.triangleVAO.bind(),G.drawArrays(G.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((le=this.lineShader).bind(),le.uniforms=ee,this.edgeVAO.bind(),G.lineWidth(this.lineWidth*this.pixelRatio),G.drawArrays(G.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((le=this.pointShader).bind(),le.uniforms=ee,this.pointVAO.bind(),G.drawArrays(G.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((le=this.contourShader).bind(),le.uniforms=ee,this.contourVAO.bind(),G.drawArrays(G.LINES,0,this.contourCount),this.contourVAO.unbind())},N.drawPick=function(H){for(var G=this.gl,Y=(H=H||{}).model||P,se=H.view||P,te=H.projection||P,re=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)re[0][Q]=Math.max(re[0][Q],this.clipBounds[0][Q]),re[1][Q]=Math.min(re[1][Q],this.clipBounds[1][Q]);this._model=[].slice.call(Y),this._view=[].slice.call(se),this._projection=[].slice.call(te),this._resolution=[G.drawingBufferWidth,G.drawingBufferHeight];var ee,oe={model:Y,view:se,projection:te,clipBounds:re,pickId:this.pickId/255};(ee=this.pickShader).bind(),ee.uniforms=oe,this.triangleCount>0&&(this.triangleVAO.bind(),G.drawArrays(G.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),G.lineWidth(this.lineWidth*this.pixelRatio),G.drawArrays(G.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((ee=this.pointPickShader).bind(),ee.uniforms=oe,this.pointVAO.bind(),G.drawArrays(G.POINTS,0,this.pointCount),this.pointVAO.unbind())},N.pick=function(H){if(!H||H.id!==this.pickId)return null;for(var G=H.value[0]+256*H.value[1]+65536*H.value[2],Y=this.cells[G],se=this.positions,te=new Array(Y.length),re=0;re<Y.length;++re)te[re]=se[Y[re]];var Q=H.coord[0],ee=H.coord[1];if(!this.pickVertex){var oe=this.positions[Y[0]],le=this.positions[Y[1]],ue=this.positions[Y[2]];return{_cellCenter:!0,position:[Q,ee],index:G,cell:Y,cellId:G,intensity:this.intensity[G],dataCoordinate:[(oe[0]+le[0]+ue[0])/3,(oe[1]+le[1]+ue[1])/3,(oe[2]+le[2]+ue[2])/3]}}var he=x(te,[Q*this.pixelRatio,this._resolution[1]-ee*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!he)return null;var we=he[2],Ae=0;for(re=0;re<Y.length;++re)Ae+=we[re]*this.intensity[Y[re]];return{position:he[1],index:Y[he[0]],cell:Y,cellId:G,intensity:Ae,dataCoordinate:this.positions[Y[he[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},v.exports=function(H,G){if(1===arguments.length&&(H=(G=H).gl),!(H.getExtension("OES_standard_derivatives")||H.getExtension("MOZ_OES_standard_derivatives")||H.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var ye,Y=((ye=s(H,b.vertex,b.fragment)).attributes.position.location=0,ye.attributes.color.location=2,ye.attributes.uv.location=3,ye.attributes.normal.location=4,ye),se=function(Ge){var ye=s(Ge,A.vertex,A.fragment);return ye.attributes.position.location=0,ye.attributes.color.location=2,ye.attributes.uv.location=3,ye}(H),te=function X(H){var G=s(H,p.vertex,p.fragment);return G.attributes.position.location=0,G.attributes.color.location=2,G.attributes.uv.location=3,G.attributes.pointSize.location=4,G}(H),re=function F(H){var G=s(H,O.vertex,O.fragment);return G.attributes.position.location=0,G.attributes.id.location=1,G}(H),Q=function Z(H){var G=s(H,k.vertex,k.fragment);return G.attributes.position.location=0,G.attributes.id.location=1,G.attributes.pointSize.location=4,G}(H),ee=function W(H){var G=s(H,I.vertex,I.fragment);return G.attributes.position.location=0,G}(H),oe=l(H,h(new Uint8Array([255,255,255,255]),[1,1,4]));oe.generateMipmap(),oe.minFilter=H.LINEAR_MIPMAP_LINEAR,oe.magFilter=H.LINEAR;var le=a(H),ue=a(H),de=a(H),he=a(H),we=a(H),Ae=o(H,[{buffer:le,type:H.FLOAT,size:3},{buffer:we,type:H.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ue,type:H.FLOAT,size:4},{buffer:de,type:H.FLOAT,size:2},{buffer:he,type:H.FLOAT,size:3}]),Te=a(H),ve=a(H),xe=a(H),Fe=a(H),Se=o(H,[{buffer:Te,type:H.FLOAT,size:3},{buffer:Fe,type:H.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ve,type:H.FLOAT,size:4},{buffer:xe,type:H.FLOAT,size:2}]),ke=a(H),pe=a(H),fe=a(H),be=a(H),Le=a(H),Oe=o(H,[{buffer:ke,type:H.FLOAT,size:3},{buffer:Le,type:H.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:pe,type:H.FLOAT,size:4},{buffer:fe,type:H.FLOAT,size:2},{buffer:be,type:H.FLOAT,size:1}]),De=a(H),Ue=new R(H,oe,Y,se,te,re,Q,ee,le,we,ue,de,he,Ae,Te,Fe,ve,xe,Se,ke,Le,pe,fe,be,Oe,De,o(H,[{buffer:De,type:H.FLOAT,size:3}]));return Ue.update(G),Ue}},4554:function(v,c,i){"use strict";v.exports=function(h){var T=h.gl;return new l(h,s(T,[0,0,0,1,1,0,1,1]),a(T,o.boxVert,o.lineFrag))};var s=i(5827),a=i(5158),o=i(2709);function l(h,T,_){this.plot=h,this.vbo=T,this.shader=_}var u,d,m=l.prototype;m.bind=function(){var h=this.shader;this.vbo.bind(),this.shader.bind(),h.attributes.coord.pointer(),h.uniforms.screenBox=this.plot.screenBox},m.drawBox=(u=[0,0],d=[0,0],function(h,T,_,g,w){var b=this.shader,A=this.plot.gl;u[0]=h,u[1]=T,d[0]=_,d[1]=g,b.uniforms.lo=u,b.uniforms.hi=d,b.uniforms.color=w,A.drawArrays(A.TRIANGLE_STRIP,0,4)}),m.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(v,c,i){"use strict";v.exports=function(x){var b=x.gl;return new u(x,s(b),a(b,l.gridVert,l.gridFrag),a(b,l.tickVert,l.gridFrag))};var s=i(5827),a=i(5158),o=i(5070),l=i(2709);function u(x,b,A,p){this.plot=x,this.vbo=b,this.shader=A,this.tickShader=p,this.ticks=[[],[]]}function d(x,b){return x-b}var m,h,T,_,g,x,b,A,p,O,k,w=u.prototype;w.draw=(m=[0,0],h=[0,0],T=[0,0],function(){for(var x=this.plot,b=this.vbo,A=this.shader,p=this.ticks,O=x.gl,k=x._tickBounds,I=x.dataBox,P=x.viewBox,R=x.gridLineWidth,N=x.gridLineColor,j=x.gridLineEnable,X=x.pixelRatio,F=0;F<2;++F){var Z=k[F],H=.5*(I[F+2]+I[F]),G=I[F+2]-I[F];h[F]=2*(k[F+2]-Z)/G,m[F]=2*(Z-H)/G}A.bind(),b.bind(),A.attributes.dataCoord.pointer(),A.uniforms.dataShift=m,A.uniforms.dataScale=h;var Y=0;for(F=0;F<2;++F){T[0]=T[1]=0,T[F]=1,A.uniforms.dataAxis=T,A.uniforms.lineWidth=R[F]/(P[F+2]-P[F])*X,A.uniforms.color=N[F];var se=6*p[F].length;j[F]&&se&&O.drawArrays(O.TRIANGLES,Y,se),Y+=se}}),w.drawTickMarks=(x=[0,0],b=[0,0],A=[1,0],p=[0,1],O=[0,0],k=[0,0],function(){for(var I=this.plot,P=this.vbo,R=this.tickShader,N=this.ticks,j=I.gl,X=I._tickBounds,F=I.dataBox,Z=I.viewBox,W=I.pixelRatio,H=I.screenBox,G=H[2]-H[0],Y=H[3]-H[1],se=Z[2]-Z[0],te=Z[3]-Z[1],re=0;re<2;++re){var Q=X[re],oe=.5*(F[re+2]+F[re]),le=F[re+2]-F[re];b[re]=2*(X[re+2]-Q)/le,x[re]=2*(Q-oe)/le}b[0]*=se/G,x[0]*=se/G,b[1]*=te/Y,x[1]*=te/Y,R.bind(),P.bind(),R.attributes.dataCoord.pointer();var ue=R.uniforms;ue.dataShift=x,ue.dataScale=b;var de=I.tickMarkLength,he=I.tickMarkWidth,we=I.tickMarkColor,Ae=6*N[0].length,Te=Math.min(o.ge(N[0],(F[0]-X[0])/(X[2]-X[0]),d),N[0].length),ve=Math.min(o.gt(N[0],(F[2]-X[0])/(X[2]-X[0]),d),N[0].length),xe=0+6*Te,Fe=6*Math.max(0,ve-Te),Se=Math.min(o.ge(N[1],(F[1]-X[1])/(X[3]-X[1]),d),N[1].length),ke=Math.min(o.gt(N[1],(F[3]-X[1])/(X[3]-X[1]),d),N[1].length),pe=Ae+6*Se,fe=6*Math.max(0,ke-Se);O[0]=2*(Z[0]-de[1])/G-1,O[1]=(Z[3]+Z[1])/Y-1,k[0]=de[1]*W/G,k[1]=he[1]*W/Y,fe&&(ue.color=we[1],ue.tickScale=k,ue.dataAxis=p,ue.screenOffset=O,j.drawArrays(j.TRIANGLES,pe,fe)),O[0]=(Z[2]+Z[0])/G-1,O[1]=2*(Z[1]-de[0])/Y-1,k[0]=he[0]*W/G,k[1]=de[0]*W/Y,Fe&&(ue.color=we[0],ue.tickScale=k,ue.dataAxis=A,ue.screenOffset=O,j.drawArrays(j.TRIANGLES,xe,Fe)),O[0]=2*(Z[2]+de[3])/G-1,O[1]=(Z[3]+Z[1])/Y-1,k[0]=de[3]*W/G,k[1]=he[3]*W/Y,fe&&(ue.color=we[3],ue.tickScale=k,ue.dataAxis=p,ue.screenOffset=O,j.drawArrays(j.TRIANGLES,pe,fe)),O[0]=(Z[2]+Z[0])/G-1,O[1]=2*(Z[3]+de[2])/Y-1,k[0]=he[2]*W/G,k[1]=de[2]*W/Y,Fe&&(ue.color=we[2],ue.tickScale=k,ue.dataAxis=A,ue.screenOffset=O,j.drawArrays(j.TRIANGLES,xe,Fe))}),w.update=(_=[1,1,-1,-1,1,-1],g=[1,-1,1,1,-1,-1],function(x){for(var b=x.ticks,A=x.bounds,p=new Float32Array(18*(b[0].length+b[1].length)),O=0,k=[[],[]],I=0;I<2;++I)for(var P=k[I],R=b[I],N=A[I],j=A[I+2],X=0;X<R.length;++X){var F=(R[X].x-N)/(j-N);P.push(F);for(var Z=0;Z<6;++Z)p[O++]=F,p[O++]=_[Z],p[O++]=g[Z]}this.ticks=k,this.vbo.update(p)}),w.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(v,c,i){"use strict";v.exports=function(h){var T=h.gl;return new l(h,s(T,[-1,-1,-1,1,1,-1,1,1]),a(T,o.lineVert,o.lineFrag))};var s=i(5827),a=i(5158),o=i(2709);function l(h,T,_){this.plot=h,this.vbo=T,this.shader=_}var u,d,m=l.prototype;m.bind=function(){var h=this.shader;this.vbo.bind(),this.shader.bind(),h.attributes.coord.pointer(),h.uniforms.screenBox=this.plot.screenBox},m.drawLine=(u=[0,0],d=[0,0],function(h,T,_,g,w,x){var b=this.plot,A=this.shader,p=b.gl;u[0]=h,u[1]=T,d[0]=_,d[1]=g,A.uniforms.start=u,A.uniforms.end=d,A.uniforms.width=w*b.pixelRatio,A.uniforms.color=x,p.drawArrays(p.TRIANGLE_STRIP,0,4)}),m.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(v,c,i){"use strict";var s=i(6832),a=s(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);v.exports={lineVert:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:a,textVert:s(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:a,gridVert:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:a,boxVert:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},5613:function(v,c,i){"use strict";v.exports=function(b){var A=b.gl;return new d(b,s(A),a(A,u.textVert,u.textFrag))};var s=i(5827),a=i(5158),o=i(6946),l=i(5070),u=i(2709);function d(b,A,p){this.plot=b,this.vbo=A,this.shader=p,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var m,h,T,_,g,w,b,A,x=d.prototype;x.drawTicks=(m=[0,0],h=[0,0],T=[0,0],function(b){var A=this.plot,p=this.shader,O=this.tickX[b],k=this.tickOffset[b],I=A.gl,P=A.viewBox,R=A.dataBox,N=A.screenBox,j=A.pixelRatio,X=A.tickEnable,F=A.tickPad,Z=A.tickColor,W=A.tickAngle,H=A.labelEnable,G=A.labelPad,Y=A.labelColor,se=A.labelAngle,te=this.labelOffset[b],re=this.labelCount[b],Q=l.lt(O,R[b]),ee=l.le(O,R[b+2]);m[0]=m[1]=0,m[b]=1,h[b]=(P[2+b]+P[b])/(N[2+b]-N[b])-1;var oe=2/N[2+(1^b)]-N[1^b];h[1^b]=oe*P[1^b]-1,X[b]&&(h[1^b]-=oe*j*F[b],Q<ee&&k[ee]>k[Q]&&(p.uniforms.dataAxis=m,p.uniforms.screenOffset=h,p.uniforms.color=Z[b],p.uniforms.angle=W[b],I.drawArrays(I.TRIANGLES,k[Q],k[ee]-k[Q]))),H[b]&&re&&(h[1^b]-=oe*j*G[b],p.uniforms.dataAxis=T,p.uniforms.screenOffset=h,p.uniforms.color=Y[b],p.uniforms.angle=se[b],I.drawArrays(I.TRIANGLES,te,re)),h[1^b]=oe*P[2+(1^b)]-1,X[b+2]&&(h[1^b]+=oe*j*F[b+2],Q<ee&&k[ee]>k[Q]&&(p.uniforms.dataAxis=m,p.uniforms.screenOffset=h,p.uniforms.color=Z[b+2],p.uniforms.angle=W[b+2],I.drawArrays(I.TRIANGLES,k[Q],k[ee]-k[Q]))),H[b+2]&&re&&(h[1^b]+=oe*j*G[b+2],p.uniforms.dataAxis=T,p.uniforms.screenOffset=h,p.uniforms.color=Y[b+2],p.uniforms.angle=se[b+2],I.drawArrays(I.TRIANGLES,te,re))}),x.drawTitle=(b=[0,0],A=[0,0],function(){var p=this.plot,O=this.shader,k=p.gl,I=p.screenBox,P=p.titleCenter,R=p.titleAngle,N=p.titleColor,j=p.pixelRatio;if(this.titleCount){for(var X=0;X<2;++X)A[X]=2*(P[X]*j-I[X])/(I[2+X]-I[X])-1;O.bind(),O.uniforms.dataAxis=b,O.uniforms.screenOffset=A,O.uniforms.angle=R,O.uniforms.color=N,k.drawArrays(k.TRIANGLES,this.titleOffset,this.titleCount)}}),x.bind=(_=[0,0],g=[0,0],w=[0,0],function(){var b=this.plot,A=this.shader,p=b._tickBounds,O=b.dataBox,k=b.screenBox,I=b.viewBox;A.bind();for(var P=0;P<2;++P){var R=p[P],j=.5*(O[P+2]+O[P]),X=O[P+2]-O[P],Z=I[P+2]-I[P],H=k[P+2]-k[P];g[P]=2*(p[P+2]-R)/X*Z/H,_[P]=2*(R-j)/X*Z/H}w[1]=2*b.pixelRatio/(k[3]-k[1]),w[0]=w[1]*(k[3]-k[1])/(k[2]-k[0]),A.uniforms.dataScale=g,A.uniforms.dataShift=_,A.uniforms.textScale=w,this.vbo.bind(),A.attributes.textCoordinate.pointer()}),x.update=function(b){var A,p,O,k,I,P=[],R=b.ticks,N=b.bounds;for(I=0;I<2;++I){var j=[Math.floor(P.length/3)],X=[-1/0],F=R[I];for(A=0;A<F.length;++A){var Z=F[A],W=Z.x,G=Z.font||"sans-serif";k=Z.fontSize||12;for(var Y=1/(N[I+2]-N[I]),se=N[I],te=Z.text.split("\n"),re=0;re<te.length;re++)for(O=o(G,te[re]).data,p=0;p<O.length;p+=2)P.push(O[p]*k,-O[p+1]*k-re*k*1.2,(W-se)*Y);j.push(Math.floor(P.length/3)),X.push(W)}this.tickOffset[I]=j,this.tickX[I]=X}for(I=0;I<2;++I){for(this.labelOffset[I]=Math.floor(P.length/3),O=o(b.labelFont[I],b.labels[I],{textAlign:"center"}).data,k=b.labelSize[I],A=0;A<O.length;A+=2)P.push(O[A]*k,-O[A+1]*k,0);this.labelCount[I]=Math.floor(P.length/3)-this.labelOffset[I]}for(this.titleOffset=Math.floor(P.length/3),O=o(b.titleFont,b.title).data,k=b.titleSize,A=0;A<O.length;A+=2)P.push(O[A]*k,-O[A+1]*k,0);this.titleCount=Math.floor(P.length/3)-this.titleOffset,this.vbo.update(P)},x.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(v,c,i){"use strict";v.exports=function(_){var g=_.gl,w=new d(g,s(g,[g.drawingBufferWidth,g.drawingBufferHeight]));return w.grid=a(w),w.text=o(w),w.line=l(w),w.box=u(w),w.update(_),w};var s=i(2611),a=i(3016),o=i(5613),l=i(1154),u=i(4554);function d(_,g){this.gl=_,this.pickBuffer=g,this.screenBox=[0,0,_.drawingBufferWidth,_.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var m=d.prototype;function h(_){for(var g=_.slice(),w=0;w<g.length;++w)g[w]=g[w].slice();return g}function T(_,g){return _.x-g.x}m.setDirty=function(){this.dirty=this.pickDirty=!0},m.setOverlayDirty=function(){this.dirty=!0},m.nextDepthValue=function(){return this._depthCounter++/65536},m.draw=function(){var _=this.gl,g=this.screenBox,w=this.viewBox,x=this.dataBox,b=this.pixelRatio,A=this.grid,p=this.line,O=this.text,k=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,_.bindFramebuffer(_.FRAMEBUFFER,null),_.enable(_.SCISSOR_TEST),_.disable(_.DEPTH_TEST),_.depthFunc(_.LESS),_.depthMask(!1),_.enable(_.BLEND),_.blendEquation(_.FUNC_ADD,_.FUNC_ADD),_.blendFunc(_.ONE,_.ONE_MINUS_SRC_ALPHA),this.borderColor){_.scissor(g[0],g[1],g[2]-g[0],g[3]-g[1]);var I=this.borderColor;_.clearColor(I[0]*I[3],I[1]*I[3],I[2]*I[3],I[3]),_.clear(_.COLOR_BUFFER_BIT|_.DEPTH_BUFFER_BIT)}_.scissor(w[0],w[1],w[2]-w[0],w[3]-w[1]),_.viewport(w[0],w[1],w[2]-w[0],w[3]-w[1]);var P=this.backgroundColor;_.clearColor(P[0]*P[3],P[1]*P[3],P[2]*P[3],P[3]),_.clear(_.COLOR_BUFFER_BIT),A.draw();var R=this.zeroLineEnable,N=this.zeroLineColor,j=this.zeroLineWidth;if(R[0]||R[1]){p.bind();for(var X=0;X<2;++X)if(R[X]&&x[X]<=0&&x[X+2]>=0){var F=g[X]-x[X]*(g[X+2]-g[X])/(x[X+2]-x[X]);0===X?p.drawLine(F,g[1],F,g[3],j[X],N[X]):p.drawLine(g[0],F,g[2],F,j[X],N[X])}}for(X=0;X<k.length;++X)k[X].draw();_.viewport(g[0],g[1],g[2]-g[0],g[3]-g[1]),_.scissor(g[0],g[1],g[2]-g[0],g[3]-g[1]),this.grid.drawTickMarks(),p.bind();var Z=this.borderLineEnable,W=this.borderLineWidth,H=this.borderLineColor;for(Z[1]&&p.drawLine(w[0],w[1]-.5*W[1]*b,w[0],w[3]+.5*W[3]*b,W[1],H[1]),Z[0]&&p.drawLine(w[0]-.5*W[0]*b,w[1],w[2]+.5*W[2]*b,w[1],W[0],H[0]),Z[3]&&p.drawLine(w[2],w[1]-.5*W[1]*b,w[2],w[3]+.5*W[3]*b,W[3],H[3]),Z[2]&&p.drawLine(w[0]-.5*W[0]*b,w[3],w[2]+.5*W[2]*b,w[3],W[2],H[2]),O.bind(),X=0;X<2;++X)O.drawTicks(X);this.titleEnable&&O.drawTitle();var G=this.overlays;for(X=0;X<G.length;++X)G[X].draw();_.disable(_.SCISSOR_TEST),_.disable(_.BLEND),_.depthMask(!0)}},m.drawPick=function(){if(!this.static){var _=this.pickBuffer;this._pickTimeout=null,_.begin();for(var g=1,w=this.objects,x=0;x<w.length;++x)g=w[x].drawPick(g);_.end()}},m.pick=function(_,g){if(!this.static){var w=this.pixelRatio,x=this.pickPixelRatio,b=this.viewBox,A=0|Math.round((_-b[0]/w)*x),p=0|Math.round((g-b[1]/w)*x),O=this.pickBuffer.query(A,p,this.pickRadius);if(!O)return null;for(var k=O.id+(O.value[0]<<8)+(O.value[1]<<16)+(O.value[2]<<24),I=this.objects,P=0;P<I.length;++P){var R=I[P].pick(A,p,k);if(R)return R}return null}},m.setScreenBox=function(_){var g=this.screenBox,w=this.pixelRatio;g[0]=0|Math.round(_[0]*w),g[1]=0|Math.round(_[1]*w),g[2]=0|Math.round(_[2]*w),g[3]=0|Math.round(_[3]*w),this.setDirty()},m.setDataBox=function(_){var g=this.dataBox;(g[0]!==_[0]||g[1]!==_[1]||g[2]!==_[2]||g[3]!==_[3])&&(g[0]=_[0],g[1]=_[1],g[2]=_[2],g[3]=_[3],this.setDirty())},m.setViewBox=function(_){var g=this.pixelRatio,w=this.viewBox;w[0]=0|Math.round(_[0]*g),w[1]=0|Math.round(_[1]*g),w[2]=0|Math.round(_[2]*g),w[3]=0|Math.round(_[3]*g);var x=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((_[2]-_[0])*x),0|Math.round((_[3]-_[1])*x)],this.setDirty()},m.update=function(_){var g=this.gl;this.pixelRatio=(_=_||{}).pixelRatio||1;var w=this.pixelRatio;this.pickPixelRatio=Math.max(w,1),this.setScreenBox(_.screenBox||[0,0,g.drawingBufferWidth/w,g.drawingBufferHeight/w]),this.setViewBox(_.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/w,.125*(this.screenBox[3]-this.screenBox[1])/w,.875*(this.screenBox[2]-this.screenBox[0])/w,.875*(this.screenBox[3]-this.screenBox[1])/w]);var x=this.viewBox,b=(x[2]-x[0])/(x[3]-x[1]);this.setDataBox(_.dataBox||[-10,-10/b,10,10/b]),this.borderColor=!1!==_.borderColor&&(_.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(_.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(_.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(_.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(_.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(_.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(_.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(_.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(_.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(_.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(_.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(_.titleCenter||[.5*(x[0]+x[2])/w,(x[3]+120)/w]).slice(),this.titleEnable=!("titleEnable"in _)||!!_.titleEnable,this.titleAngle=_.titleAngle||0,this.titleColor=(_.titleColor||[0,0,0,1]).slice(),this.labelPad=(_.labelPad||[15,15,15,15]).slice(),this.labelAngle=(_.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(_.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(_.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(_.tickPad||[15,15,15,15]).slice(),this.tickAngle=(_.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(_.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(_.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(_.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(_.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(_.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var A=_.ticks||[[],[]],p=this._tickBounds;p[0]=p[1]=1/0,p[2]=p[3]=-1/0;for(var O=0;O<2;++O){var k=A[O].slice(0);0!==k.length&&(k.sort(T),p[O]=Math.min(p[O],k[0].x),p[O+2]=Math.max(p[O+2],k[k.length-1].x))}this.grid.update({bounds:p,ticks:A}),this.text.update({bounds:p,ticks:A,labels:_.labels||["x","y"],labelSize:_.labelSize||[12,12],labelFont:_.labelFont||["sans-serif","sans-serif"],title:_.title||"",titleSize:_.titleSize||18,titleFont:_.titleFont||"sans-serif"}),this.static=!!_.static,this.setDirty()},m.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var _=this.objects.length-1;_>=0;--_)this.objects[_].dispose();for(this.objects.length=0,_=this.overlays.length-1;_>=0;--_)this.overlays[_].dispose();this.overlays.length=0,this.gl=null},m.addObject=function(_){this.objects.indexOf(_)<0&&(this.objects.push(_),this.setDirty())},m.removeObject=function(_){for(var g=this.objects,w=0;w<g.length;++w)if(g[w]===_){g.splice(w,1),this.setDirty();break}},m.addOverlay=function(_){this.overlays.indexOf(_)<0&&(this.overlays.push(_),this.setOverlayDirty())},m.removeOverlay=function(_){for(var g=this.overlays,w=0;w<g.length;++w)if(g[w]===_){g.splice(w,1),this.setOverlayDirty();break}}},4296:function(v,c,i){"use strict";v.exports=function(m,h){m=m||document.body;var T=[.01,1/0];"distanceLimits"in(h=h||{})&&(T[0]=h.distanceLimits[0],T[1]=h.distanceLimits[1]),"zoomMin"in h&&(T[0]=h.zoomMin),"zoomMax"in h&&(T[1]=h.zoomMax);var _=a({center:h.center||[0,0,0],up:h.up||[0,1,0],eye:h.eye||[0,0,10],mode:h.mode||"orbit",distanceLimits:T}),g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0,x=m.clientWidth,b=m.clientHeight,A={keyBindingMode:"rotate",enableWheel:!0,view:_,element:m,delay:h.delay||16,rotateSpeed:h.rotateSpeed||1,zoomSpeed:h.zoomSpeed||1,translateSpeed:h.translateSpeed||1,flipX:!!h.flipX,flipY:!!h.flipY,modes:_.modes,_ortho:h._ortho||h.projection&&"orthographic"===h.projection.type||!1,tick:function(){var p=s(),O=this.delay,k=p-2*O;_.idle(p-O),_.recalcMatrix(k),_.flush(p-(100+2*O));for(var I=!0,P=_.computedMatrix,R=0;R<16;++R)I=I&&g[R]===P[R],g[R]=P[R];var N=m.clientWidth===x&&m.clientHeight===b;return x=m.clientWidth,b=m.clientHeight,I?!N:(w=Math.exp(_.computedRadius[0]),!0)},lookAt:function(p,O,k){_.lookAt(_.lastT(),p,O,k)},rotate:function(p,O,k){_.rotate(_.lastT(),p,O,k)},pan:function(p,O,k){_.pan(_.lastT(),p,O,k)},translate:function(p,O,k){_.translate(_.lastT(),p,O,k)}};return Object.defineProperties(A,{matrix:{get:function(){return _.computedMatrix},set:function(p){return _.setMatrix(_.lastT(),p),_.computedMatrix},enumerable:!0},mode:{get:function(){return _.getMode()},set:function(p){var O=_.computedUp.slice(),k=_.computedEye.slice(),I=_.computedCenter.slice();if(_.setMode(p),"turntable"===p){var P=s();_._active.lookAt(P,k,I,O),_._active.lookAt(P+500,k,I,[0,0,1]),_._active.flush(P)}return _.getMode()},enumerable:!0},center:{get:function(){return _.computedCenter},set:function(p){return _.lookAt(_.lastT(),null,p),_.computedCenter},enumerable:!0},eye:{get:function(){return _.computedEye},set:function(p){return _.lookAt(_.lastT(),p),_.computedEye},enumerable:!0},up:{get:function(){return _.computedUp},set:function(p){return _.lookAt(_.lastT(),null,null,p),_.computedUp},enumerable:!0},distance:{get:function(){return w},set:function(p){return _.setDistance(_.lastT(),p),p},enumerable:!0},distanceLimits:{get:function(){return _.getDistanceLimits(T)},set:function(p){return _.setDistanceLimits(p),p},enumerable:!0}}),m.addEventListener("contextmenu",function(p){return p.preventDefault(),!1}),A._lastX=-1,A._lastY=-1,A._lastMods={shift:!1,control:!1,alt:!1,meta:!1},A.enableMouseListeners=function(){function p(O,k,I,P){var R=A.keyBindingMode;if(!1!==R){var N="rotate"===R,j="pan"===R,X="zoom"===R,F=!!P.control,Z=!!P.alt,W=!!P.shift,H=!!(1&O),G=!!(2&O),Y=!!(4&O),se=1/m.clientHeight,te=se*(k-A._lastX),re=se*(I-A._lastY),Q=A.flipX?1:-1,ee=A.flipY?1:-1,oe=Math.PI*A.rotateSpeed,le=s();if(-1!==A._lastX&&-1!==A._lastY&&((N&&H&&!F&&!Z&&!W||H&&!F&&!Z&&W)&&_.rotate(le,Q*oe*te,-ee*oe*re,0),(j&&H&&!F&&!Z&&!W||G||H&&F&&!Z&&!W)&&_.pan(le,-A.translateSpeed*te*w,A.translateSpeed*re*w,0),X&&H&&!F&&!Z&&!W||Y||H&&!F&&Z&&!W)){var ue=-A.zoomSpeed*re/window.innerHeight*(le-_.lastT())*100;_.pan(le,0,0,w*(Math.exp(ue)-1))}return A._lastX=k,A._lastY=I,A._lastMods=P,!0}}A.mouseListener=o(m,p),m.addEventListener("touchstart",function(O){var k=u(O.changedTouches[0],m);p(0,k[0],k[1],A._lastMods),p(1,k[0],k[1],A._lastMods)},!!d&&{passive:!0}),m.addEventListener("touchmove",function(O){var k=u(O.changedTouches[0],m);p(1,k[0],k[1],A._lastMods),O.preventDefault()},!!d&&{passive:!1}),m.addEventListener("touchend",function(O){p(0,A._lastX,A._lastY,A._lastMods)},!!d&&{passive:!0}),A.wheelListener=l(m,function(O,k){if(!1!==A.keyBindingMode&&A.enableWheel){var I=A.flipX?1:-1,P=A.flipY?1:-1,R=s();if(Math.abs(O)>Math.abs(k))_.rotate(R,0,0,-O*I*Math.PI*A.rotateSpeed/window.innerWidth);else if(!A._ortho){var N=-A.zoomSpeed*P*k/window.innerHeight*(R-_.lastT())/20;_.pan(R,0,0,w*(Math.exp(N)-1))}}},!0)},A.enableMouseListeners(),A};var s=i(8161),a=i(1152),o=i(6145),l=i(6475),u=i(2565),d=i(5233)},8245:function(v,c,i){var s=i(6832),a=i(5158),o=s(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),l=s(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);v.exports=function(u){return a(u,o,l,null,[{name:"position",type:"vec2"}])}},1059:function(v,c,i){"use strict";var s=i(4296),a=i(7453),o=i(2771),l=i(6496),u=i(2611),d=i(4234),m=i(8126),h=i(6145),T=i(1120),_=i(5268),g=i(8245),w=i(2321)({tablet:!0,featureDetect:!0});function x(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function b(p){var O=Math.round(Math.log(Math.abs(p))/Math.log(10));if(O<0){var k=Math.round(Math.pow(10,-O));return Math.ceil(p*k)/k}return O>0?(k=Math.round(Math.pow(10,O)),Math.ceil(p/k)*k):Math.ceil(p)}function A(p){return"boolean"!=typeof p||p}v.exports={createScene:function(p){(p=p||{}).camera=p.camera||{};var O=p.canvas;O||(O=document.createElement("canvas"),p.container?p.container.appendChild(O):document.body.appendChild(O));var k=p.gl;if(k||(p.glOptions&&(w=!!p.glOptions.preserveDrawingBuffer),k=function(Fe,Se){var ke=null;try{(ke=Fe.getContext("webgl",Se))||(ke=Fe.getContext("experimental-webgl",Se))}catch{return null}return ke}(O,p.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:w})),!k)throw new Error("webgl not supported");var I=p.bounds||[[-10,-10,-10],[10,10,10]],P=new x,R=d(k,k.drawingBufferWidth,k.drawingBufferHeight,{preferFloat:!w}),N=g(k),j=p.cameraObject&&!0===p.cameraObject._ortho||p.camera.projection&&"orthographic"===p.camera.projection.type||!1,X={eye:p.camera.eye||[2,0,0],center:p.camera.center||[0,0,0],up:p.camera.up||[0,1,0],zoomMin:p.camera.zoomMax||.1,zoomMax:p.camera.zoomMin||100,mode:p.camera.mode||"turntable",_ortho:j},F=p.axes||{},Z=a(k,F);Z.enable=!F.disable;var H=l(k,p.spikes||{}),G=[],Y=[],se=[],te=[],re=!0,Q=!0,ee={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},oe=(Q=!0,[k.drawingBufferWidth,k.drawingBufferHeight]),le=p.cameraObject||s(O,X),ue={gl:k,contextLost:!1,pixelRatio:p.pixelRatio||1,canvas:O,selection:P,camera:le,axes:Z,axesPixels:null,spikes:H,bounds:I,objects:G,shape:oe,aspect:p.aspectRatio||[1,1,1],pickRadius:p.pickRadius||10,zNear:p.zNear||.01,zFar:p.zFar||1e3,fovy:p.fovy||Math.PI/4,clearColor:p.clearColor||[0,0,0,0],autoResize:A(p.autoResize),autoBounds:A(p.autoBounds),autoScale:!!p.autoScale,autoCenter:A(p.autoCenter),clipToBounds:A(p.clipToBounds),snapToData:!!p.snapToData,onselect:p.onselect||null,onrender:p.onrender||null,onclick:p.onclick||null,cameraParams:ee,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Fe){this.aspect[0]=Fe.x,this.aspect[1]=Fe.y,this.aspect[2]=Fe.z,Q=!0},setBounds:function(Fe,Se){this.bounds[0][Fe]=Se.min,this.bounds[1][Fe]=Se.max},setClearColor:function(Fe){this.clearColor=Fe},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},de=[k.drawingBufferWidth/ue.pixelRatio|0,k.drawingBufferHeight/ue.pixelRatio|0];function he(){if(!ue._stopped&&ue.autoResize){var Fe=O.parentNode,Se=1,ke=1;Fe&&Fe!==document.body?(Se=Fe.clientWidth,ke=Fe.clientHeight):(Se=window.innerWidth,ke=window.innerHeight);var pe=0|Math.ceil(Se*ue.pixelRatio),fe=0|Math.ceil(ke*ue.pixelRatio);if(pe!==O.width||fe!==O.height){O.width=pe,O.height=fe;var be=O.style;be.position=be.position||"absolute",be.left="0px",be.top="0px",be.width=Se+"px",be.height=ke+"px",re=!0}}}function we(){for(var Fe=G.length,Se=te.length,ke=0;ke<Se;++ke)se[ke]=0;e:for(ke=0;ke<Fe;++ke){var pe=G[ke],fe=pe.pickSlots;if(fe){for(var be=0;be<Se;++be)if(se[be]+fe<255){Y[ke]=be,pe.setPickBase(se[be]+1),se[be]+=fe;continue e}var Le=u(k,oe);Y[ke]=Se,te.push(Le),se.push(fe),pe.setPickBase(1),Se+=1}else Y[ke]=-1}for(;Se>0&&0===se[Se-1];)se.pop(),te.pop().dispose()}function Ae(){if(ue.contextLost)return!0;k.isContextLost()&&(ue.contextLost=!0,ue.mouseListener.enabled=!1,ue.selection.object=null,ue.oncontextloss&&ue.oncontextloss())}ue.autoResize&&he(),window.addEventListener("resize",he),ue.update=function(Fe){ue._stopped||(Fe=Fe||{},re=!0,Q=!0)},ue.add=function(Fe){ue._stopped||(Fe.axes=Z,G.push(Fe),Y.push(-1),re=!0,Q=!0,we())},ue.remove=function(Fe){if(!ue._stopped){var Se=G.indexOf(Fe);Se<0||(G.splice(Se,1),Y.pop(),re=!0,Q=!0,we())}},ue.dispose=function(){if(!ue._stopped&&(ue._stopped=!0,window.removeEventListener("resize",he),O.removeEventListener("webglcontextlost",Ae),ue.mouseListener.enabled=!1,!ue.contextLost)){Z.dispose(),H.dispose();for(var Fe=0;Fe<G.length;++Fe)G[Fe].dispose();for(R.dispose(),Fe=0;Fe<te.length;++Fe)te[Fe].dispose();N.dispose(),k=null,Z=null,H=null,G=[]}},ue._mouseRotating=!1,ue._prevButtons=0,ue.enableMouseListeners=function(){ue.mouseListener=h(O,function(Fe,Se,ke){if(!ue._stopped){var pe=te.length,fe=G.length,be=P.object;P.distance=1/0,P.mouse[0]=Se,P.mouse[1]=ke,P.object=null,P.screen=null,P.dataCoordinate=P.dataPosition=null;var Le=!1;if(Fe&&ue._prevButtons)ue._mouseRotating=!0;else{ue._mouseRotating&&(Q=!0),ue._mouseRotating=!1;for(var Oe=0;Oe<pe;++Oe){var De=te[Oe].query(Se,de[1]-ke-1,ue.pickRadius);if(De){if(De.distance>P.distance)continue;for(var Ue=0;Ue<fe;++Ue){var Ge=G[Ue];if(Y[Ue]===Oe){var ye=Ge.pick(De);ye&&(P.buttons=Fe,P.screen=De.coord,P.distance=De.distance,P.object=Ge,P.index=ye.distance,P.dataPosition=ye.position,P.dataCoordinate=ye.dataCoordinate,P.data=ye,Le=!0)}}}}}be&&be!==P.object&&(be.highlight&&be.highlight(null),re=!0),P.object&&(P.object.highlight&&P.object.highlight(P.data),re=!0),(Le=Le||P.object!==be)&&ue.onselect&&ue.onselect(P),1&Fe&&!(1&ue._prevButtons)&&ue.onclick&&ue.onclick(P),ue._prevButtons=Fe}})},O.addEventListener("webglcontextlost",Ae);var Te=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],ve=[Te[0].slice(),Te[1].slice()];function xe(){if(!Ae()){he();var Fe=ue.camera.tick();ee.view=ue.camera.matrix,re=re||Fe,Q=Q||Fe,Z.pixelRatio=ue.pixelRatio,H.pixelRatio=ue.pixelRatio;var Se=G.length,ke=Te[0],pe=Te[1];ke[0]=ke[1]=ke[2]=1/0,pe[0]=pe[1]=pe[2]=-1/0;for(var fe=0;fe<Se;++fe){(He=G[fe]).pixelRatio=ue.pixelRatio,He.axes=ue.axes,re=re||!!He.dirty,Q=Q||!!He.dirty;var be=He.bounds;if(be)for(var Le=be[0],Oe=be[1],De=0;De<3;++De)ke[De]=Math.min(ke[De],Le[De]),pe[De]=Math.max(pe[De],Oe[De])}var Ue=ue.bounds;if(ue.autoBounds)for(De=0;De<3;++De){if(pe[De]<ke[De])ke[De]=-1,pe[De]=1;else{ke[De]===pe[De]&&(ke[De]-=1,pe[De]+=1);var Ge=.05*(pe[De]-ke[De]);ke[De]=ke[De]-Ge,pe[De]=pe[De]+Ge}Ue[0][De]=ke[De],Ue[1][De]=pe[De]}var ye=!1;for(De=0;De<3;++De)ye=ye||ve[0][De]!==Ue[0][De]||ve[1][De]!==Ue[1][De],ve[0][De]=Ue[0][De],ve[1][De]=Ue[1][De];if(Q=Q||ye,re=re||ye){if(ye){var Ie=[0,0,0];for(fe=0;fe<3;++fe)Ie[fe]=b((Ue[1][fe]-Ue[0][fe])/10);Z.update(Z.autoTicks?{bounds:Ue,tickSpacing:Ie}:{bounds:Ue})}var Ee=k.drawingBufferWidth,Be=k.drawingBufferHeight;for(oe[0]=Ee,oe[1]=Be,de[0]=0|Math.max(Ee/ue.pixelRatio,1),de[1]=0|Math.max(Be/ue.pixelRatio,1),function(Je,et){var at=Je.bounds,mt=Je.cameraParams,ct=mt.projection,St=mt.model,ht=Je.zNear,pt=Je.zFar,Pt=Je.fovy,Ft=Je.gl.drawingBufferWidth/Je.gl.drawingBufferHeight;et?(_(ct,-Ft,Ft,-1,1,ht,pt),mt._ortho=!0):(T(ct,Pt,Ft,ht,pt),mt._ortho=!1);for(var Ht=0;Ht<16;++Ht)St[Ht]=0;St[15]=1;var Lt=0;for(Ht=0;Ht<3;++Ht)Lt=Math.max(Lt,at[1][Ht]-at[0][Ht]);for(Ht=0;Ht<3;++Ht)St[5*Ht]=Je.autoScale?Je.aspect[Ht]/(at[1][Ht]-at[0][Ht]):1/Lt,Je.autoCenter&&(St[12+Ht]=.5*-St[5*Ht]*(at[0][Ht]+at[1][Ht]))}(ue,j),fe=0;fe<Se;++fe)(He=G[fe]).axesBounds=Ue,ue.clipToBounds&&(He.clipBounds=Ue);P.object&&(H.position=ue.snapToData?P.dataCoordinate:P.dataPosition,H.bounds=Ue),Q&&(Q=!1,function(){if(!Ae()){k.colorMask(!0,!0,!0,!0),k.depthMask(!0),k.disable(k.BLEND),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL);for(var Je=G.length,et=te.length,at=0;at<et;++at){var mt=te[at];mt.shape=de,mt.begin();for(var ct=0;ct<Je;++ct)if(Y[ct]===at){var St=G[ct];St.drawPick&&(St.pixelRatio=1,St.drawPick(ee))}mt.end()}}}()),ue.axesPixels=o(ue.axes,ee,Ee,Be),ue.onrender&&ue.onrender(),k.bindFramebuffer(k.FRAMEBUFFER,null),k.viewport(0,0,Ee,Be),ue.clearRGBA(),k.depthMask(!0),k.colorMask(!0,!0,!0,!0),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL),k.disable(k.BLEND),k.disable(k.CULL_FACE);var We=!1;for(Z.enable&&(We=We||Z.isTransparent(),Z.draw(ee)),H.axes=Z,P.object&&H.draw(ee),k.disable(k.CULL_FACE),fe=0;fe<Se;++fe)(He=G[fe]).axes=Z,He.pixelRatio=ue.pixelRatio,He.isOpaque&&He.isOpaque()&&He.draw(ee),He.isTransparent&&He.isTransparent()&&(We=!0);if(We){for(R.shape=oe,R.bind(),k.clear(k.DEPTH_BUFFER_BIT),k.colorMask(!1,!1,!1,!1),k.depthMask(!0),k.depthFunc(k.LESS),Z.enable&&Z.isTransparent()&&Z.drawTransparent(ee),fe=0;fe<Se;++fe)(He=G[fe]).isOpaque&&He.isOpaque()&&He.draw(ee);for(k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.colorMask(!0,!0,!0,!0),k.depthMask(!1),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),Z.isTransparent()&&Z.drawTransparent(ee),fe=0;fe<Se;++fe){var He;(He=G[fe]).isTransparent&&He.isTransparent()&&He.drawTransparent(ee)}k.bindFramebuffer(k.FRAMEBUFFER,null),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.disable(k.DEPTH_TEST),N.bind(),R.color[0].bind(0),N.uniforms.accumBuffer=0,m(k),k.disable(k.BLEND)}for(re=!1,fe=0;fe<Se;++fe)G[fe].dirty=!1}}}return ue.enableMouseListeners(),function Fe(){ue._stopped||ue.contextLost||(xe(),requestAnimationFrame(Fe))}(),ue.redraw=function(){ue._stopped||(re=!0,xe())},ue},createCamera:s}},8023:function(v,c,i){var s=i(6832);c.pointVertex=s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),c.pointFragment=s(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),c.pickVertex=s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),c.pickFragment=s(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},8271:function(v,c,i){"use strict";var s=i(5158),a=i(5827),o=i(5306),l=i(8023);function u(T,_,g,w,x){this.plot=T,this.offsetBuffer=_,this.pickBuffer=g,this.shader=w,this.pickShader=x,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}v.exports=function(T,_){var g=T.gl,w=new u(T,a(g),a(g),s(g,l.pointVertex,l.pointFragment),s(g,l.pickVertex,l.pickFragment));return w.update(_),T.addObject(w),w};var d,m,h=u.prototype;h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},h.update=function(T){var _;function g(k,I){return k in T?T[k]:I}T=T||{},this.sizeMin=g("sizeMin",.5),this.sizeMax=g("sizeMax",20),this.color=g("color",[1,0,0,1]).slice(),this.areaRatio=g("areaRatio",1),this.borderColor=g("borderColor",[0,0,0,1]).slice(),this.blend=g("blend",!1);var w=T.positions.length>>>1,x=T.positions instanceof Float32Array,b=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=w,A=T.positions,p=x?A:o.mallocFloat32(A.length),O=b?T.idToIndex:o.mallocInt32(w);if(x||p.set(A),!b)for(p.set(A),_=0;_<w;_++)O[_]=_;this.points=A,this.offsetBuffer.update(p),this.pickBuffer.update(O),x||o.free(p),b||o.free(O),this.pointCount=w,this.pickOffset=0},h.unifiedDraw=(d=[1,0,0,0,1,0,0,0,1],m=[0,0,0,0],function(T){var _=void 0!==T,g=_?this.pickShader:this.shader,w=this.plot.gl,x=this.plot.dataBox;if(0===this.pointCount)return T;var b=x[2]-x[0],A=x[3]-x[1],p=function(P,R){var N,j=0,X=P.length>>>1;for(N=0;N<X;N++){var F=P[2*N],Z=P[2*N+1];F>=R[0]&&F<=R[2]&&Z>=R[1]&&Z<=R[3]&&j++}return j}(this.points,x),O=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(p,.33333)));d[0]=2/b,d[4]=2/A,d[6]=-2*x[0]/b-1,d[7]=-2*x[1]/A-1,this.offsetBuffer.bind(),g.bind(),g.attributes.position.pointer(),g.uniforms.matrix=d,g.uniforms.color=this.color,g.uniforms.borderColor=this.borderColor,g.uniforms.pointCloud=O<5,g.uniforms.pointSize=O,g.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),_&&(m[0]=255&T,m[1]=T>>8&255,m[2]=T>>16&255,m[3]=T>>24&255,this.pickBuffer.bind(),g.attributes.pickId.pointer(w.UNSIGNED_BYTE),g.uniforms.pickOffset=m,this.pickOffset=T);var k=w.getParameter(w.BLEND),I=w.getParameter(w.DITHER);return k&&!this.blend&&w.disable(w.BLEND),I&&w.disable(w.DITHER),w.drawArrays(w.POINTS,0,this.pointCount),k&&!this.blend&&w.enable(w.BLEND),I&&w.enable(w.DITHER),T+this.pointCount}),h.draw=h.unifiedDraw,h.drawPick=h.unifiedDraw,h.pick=function(T,_,g){var w=this.pickOffset;if(g<w||g>=w+this.pointCount)return null;var b=g-w,A=this.points;return{object:this,pointId:b,dataCoord:[A[2*b],A[2*b+1]]}}},6093:function(v){v.exports=function(c,i,s,a){var o,l,u,d,m,h=i[0],T=i[1],_=i[2],g=i[3],w=s[0],x=s[1],b=s[2],A=s[3];return(l=h*w+T*x+_*b+g*A)<0&&(l=-l,w=-w,x=-x,b=-b,A=-A),1-l>1e-6?(o=Math.acos(l),u=Math.sin(o),d=Math.sin((1-a)*o)/u,m=Math.sin(a*o)/u):(d=1-a,m=a),c[0]=d*h+m*w,c[1]=d*T+m*x,c[2]=d*_+m*b,c[3]=d*g+m*A,c}},8240:function(v){"use strict";v.exports=function(c){return c||0===c?c.toString():""}},4123:function(v,c,i){"use strict";var s=i(875);v.exports=function(o,l,u){var d=a[l];if(d||(d=a[l]={}),o in d)return d[o];var m={textAlign:"center",textBaseline:"middle",lineHeight:1,font:l,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},h=s(o,m);m.triangles=!1;var T,_,g=s(o,m);if(u&&1!==u){for(T=0;T<h.positions.length;++T)for(_=0;_<h.positions[T].length;++_)h.positions[T][_]/=u;for(T=0;T<g.positions.length;++T)for(_=0;_<g.positions[T].length;++_)g.positions[T][_]/=u}var w=[[1/0,1/0],[-1/0,-1/0]],x=g.positions.length;for(T=0;T<x;++T){var b=g.positions[T];for(_=0;_<2;++_)w[0][_]=Math.min(w[0][_],b[_]),w[1][_]=Math.max(w[1][_],b[_])}return d[o]=[h,g,w]};var a={}},9282:function(v,c,i){var s=i(5158),a=i(6832),o=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),l=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),u=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),d=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),m=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:o,fragment:d,attributes:h},_={vertex:l,fragment:d,attributes:h},g={vertex:u,fragment:d,attributes:h},w={vertex:o,fragment:m,attributes:h},x={vertex:l,fragment:m,attributes:h},b={vertex:u,fragment:m,attributes:h};function A(p,O){var k=s(p,O),I=k.attributes;return I.position.location=0,I.color.location=1,I.glyph.location=2,I.id.location=3,k}c.createPerspective=function(p){return A(p,T)},c.createOrtho=function(p){return A(p,_)},c.createProject=function(p){return A(p,g)},c.createPickPerspective=function(p){return A(p,w)},c.createPickOrtho=function(p){return A(p,x)},c.createPickProject=function(p){return A(p,b)}},2182:function(v,c,i){"use strict";var s=i(3596),a=i(5827),o=i(2944),l=i(5306),u=i(104),d=i(9282),m=i(4123),h=i(8240),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(Y,se){var te=Y[0],re=Y[1],Q=Y[2],ee=Y[3];return Y[0]=se[0]*te+se[4]*re+se[8]*Q+se[12]*ee,Y[1]=se[1]*te+se[5]*re+se[9]*Q+se[13]*ee,Y[2]=se[2]*te+se[6]*re+se[10]*Q+se[14]*ee,Y[3]=se[3]*te+se[7]*re+se[11]*Q+se[15]*ee,Y}function g(Y,se,te,re){return _(re,re),_(re,re),_(re,re)}function w(Y,se){this.index=Y,this.dataCoordinate=this.position=se}function x(Y){return!0===Y||Y>1?1:Y}function b(Y,se,te,re,Q,ee,oe,le,ue,de,he,we){this.gl=Y,this.pixelRatio=1,this.shader=se,this.orthoShader=te,this.projectShader=re,this.pointBuffer=Q,this.colorBuffer=ee,this.glyphBuffer=oe,this.idBuffer=le,this.vao=ue,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=de,this.pickOrthoShader=he,this.pickProjectShader=we,this.points=[],this._selectResult=new w(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}v.exports=function(Y){var se=Y.gl,te=d.createPerspective(se),re=d.createOrtho(se),Q=d.createProject(se),ee=d.createPickPerspective(se),oe=d.createPickOrtho(se),le=d.createPickProject(se),ue=a(se),de=a(se),he=a(se),we=a(se),Ae=new b(se,te,re,Q,ue,de,he,we,o(se,[{buffer:ue,size:3,type:se.FLOAT},{buffer:de,size:4,type:se.FLOAT},{buffer:he,size:2,type:se.FLOAT},{buffer:we,size:4,type:se.UNSIGNED_BYTE,normalized:!0}]),ee,oe,le);return Ae.update(Y),Ae};var A=b.prototype;A.pickSlots=1,A.setPickBase=function(Y){this.pickId=Y},A.isTransparent=function(){if(this.hasAlpha)return!0;for(var Y=0;Y<3;++Y)if(this.axesProject[Y]&&this.projectHasAlpha)return!0;return!1},A.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Y=0;Y<3;++Y)if(this.axesProject[Y]&&!this.projectHasAlpha)return!0;return!1};var p=[0,0],O=[0,0,0],k=[0,0,0],I=[0,0,0,1],P=[0,0,0,1],R=T.slice(),N=[0,0,0],j=[[0,0,0],[0,0,0]];function X(Y){return Y[0]=Y[1]=Y[2]=0,Y}function F(Y,se){return Y[0]=se[0],Y[1]=se[1],Y[2]=se[2],Y[3]=1,Y}function Z(Y,se,te,re){return Y[0]=se[0],Y[1]=se[1],Y[2]=se[2],Y[te]=re,Y}var W=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function H(Y,se,te,re,Q,ee,oe){var le=te.gl;if((ee===te.projectHasAlpha||oe)&&function(de,he,we,Ae){var Te,ve=he.axesProject,xe=he.gl,Fe=de.uniforms,Se=we.model||T,ke=we.view||T,pe=we.projection||T,fe=he.axesBounds,be=function(at){for(var mt=j,ct=0;ct<2;++ct)for(var St=0;St<3;++St)mt[ct][St]=Math.max(Math.min(at[ct][St],1e8),-1e8);return mt}(he.clipBounds);Te=he.axes&&he.axes.lastCubeProps?he.axes.lastCubeProps.axis:[1,1,1],p[0]=2/xe.drawingBufferWidth,p[1]=2/xe.drawingBufferHeight,de.bind(),Fe.view=ke,Fe.projection=pe,Fe.screenSize=p,Fe.highlightId=he.highlightId,Fe.highlightScale=he.highlightScale,Fe.clipBounds=be,Fe.pickGroup=he.pickId/255,Fe.pixelRatio=Ae;for(var Le=0;Le<3;++Le)if(ve[Le]){Fe.scale=he.projectScale[Le],Fe.opacity=he.projectOpacity[Le];for(var Oe=R,De=0;De<16;++De)Oe[De]=0;for(De=0;De<4;++De)Oe[5*De]=1;Oe[5*Le]=0,Oe[12+Le]=Te[Le]<0?fe[0][Le]:fe[1][Le],u(Oe,Se,Oe),Fe.model=Oe;var Ue=(Le+1)%3,Ge=(Le+2)%3,ye=X(O),Ie=X(k);ye[Ue]=1,Ie[Ge]=1;var Ee=g(0,0,0,F(I,ye)),Be=g(0,0,0,F(P,Ie));if(Math.abs(Ee[1])>Math.abs(Be[1])){var We=Ee;Ee=Be,Be=We,We=ye,ye=Ie,Ie=We;var He=Ue;Ue=Ge,Ge=He}Ee[0]<0&&(ye[Ue]=-1),Be[1]>0&&(Ie[Ge]=-1);var Je=0,et=0;for(De=0;De<4;++De)Je+=Math.pow(Se[4*Ue+De],2),et+=Math.pow(Se[4*Ge+De],2);ye[Ue]/=Math.sqrt(Je),Ie[Ge]/=Math.sqrt(et),Fe.axes[0]=ye,Fe.axes[1]=Ie,Fe.fragClipBounds[0]=Z(N,be[0],Le,-1e8),Fe.fragClipBounds[1]=Z(N,be[1],Le,1e8),he.vao.bind(),he.vao.draw(xe.TRIANGLES,he.vertexCount),he.lineWidth>0&&(xe.lineWidth(he.lineWidth*Ae),he.vao.draw(xe.LINES,he.lineVertexCount,he.vertexCount)),he.vao.unbind()}}(se,te,re,Q),ee===te.hasAlpha||oe){Y.bind();var ue=Y.uniforms;ue.model=re.model||T,ue.view=re.view||T,ue.projection=re.projection||T,p[0]=2/le.drawingBufferWidth,p[1]=2/le.drawingBufferHeight,ue.screenSize=p,ue.highlightId=te.highlightId,ue.highlightScale=te.highlightScale,ue.fragClipBounds=W,ue.clipBounds=te.axes.bounds,ue.opacity=te.opacity,ue.pickGroup=te.pickId/255,ue.pixelRatio=Q,te.vao.bind(),te.vao.draw(le.TRIANGLES,te.vertexCount),te.lineWidth>0&&(le.lineWidth(te.lineWidth*Q),te.vao.draw(le.LINES,te.lineVertexCount,te.vertexCount)),te.vao.unbind()}}function G(Y,se,te,re){var Q;Q=Array.isArray(Y)?se<Y.length?Y[se]:void 0:Y,Q=h(Q);var ee=!0;s(Q)&&(Q="\u25bc",ee=!1);var oe=m(Q,te,re);return{mesh:oe[0],lines:oe[1],bounds:oe[2],visible:ee}}A.draw=function(Y){H(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,Y,this.pixelRatio,!1,!1)},A.drawTransparent=function(Y){H(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,Y,this.pixelRatio,!0,!1)},A.drawPick=function(Y){H(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,Y,1,!0,!0)},A.pick=function(Y){if(!Y||Y.id!==this.pickId)return null;var se=Y.value[2]+(Y.value[1]<<8)+(Y.value[0]<<16);if(se>=this.pointCount||se<0)return null;var te=this.points[se],re=this._selectResult;re.index=se;for(var Q=0;Q<3;++Q)re.position[Q]=re.dataCoordinate[Q]=te[Q];return re},A.highlight=function(Y){if(Y){var se=Y.index;this.highlightId=[(255&se)/255,(se>>8&255)/255,(se>>16&255)/255,0]}else this.highlightId=[1,1,1,1]},A.update=function(Y){if("perspective"in(Y=Y||{})&&(this.useOrtho=!Y.perspective),"orthographic"in Y&&(this.useOrtho=!!Y.orthographic),"lineWidth"in Y&&(this.lineWidth=Y.lineWidth),"project"in Y)if(Array.isArray(Y.project))this.axesProject=Y.project;else{var se=!!Y.project;this.axesProject=[se,se,se]}if("projectScale"in Y)if(Array.isArray(Y.projectScale))this.projectScale=Y.projectScale.slice();else{var te=+Y.projectScale;this.projectScale=[te,te,te]}if(this.projectHasAlpha=!1,"projectOpacity"in Y){this.projectOpacity=Array.isArray(Y.projectOpacity)?Y.projectOpacity.slice():[te=+Y.projectOpacity,te,te];for(var re=0;re<3;++re)this.projectOpacity[re]=x(this.projectOpacity[re]),this.projectOpacity[re]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Y&&(this.opacity=x(Y.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var Q,ee,oe=Y.position,le=Y.font||"normal",ue=Y.alignment||[0,0];if(2===ue.length)Q=ue[0],ee=ue[1];else for(Q=[],ee=[],re=0;re<ue.length;++re)Q[re]=ue[re][0],ee[re]=ue[re][1];var de=[1/0,1/0,1/0],he=[-1/0,-1/0,-1/0],we=Y.glyph,Ae=Y.color,Te=Y.size,ve=Y.angle,xe=Y.lineColor,Fe=-1,Se=0,ke=0,pe=0;if(oe.length){pe=oe.length;e:for(re=0;re<pe;++re){for(var fe=oe[re],be=0;be<3;++be)if(isNaN(fe[be])||!isFinite(fe[be]))continue e;var Le=(mt=G(we,re,le,this.pixelRatio)).mesh,Oe=mt.lines,De=mt.bounds;Se+=3*Le.cells.length,ke+=2*Oe.edges.length}}var Ue=Se+ke,Ge=l.mallocFloat(3*Ue),ye=l.mallocFloat(4*Ue),Ie=l.mallocFloat(2*Ue),Ee=l.mallocUint32(Ue);if(Ue>0){var Be=0,We=Se,He=[0,0,0,1],Je=[0,0,0,1],et=Array.isArray(Ae)&&Array.isArray(Ae[0]),at=Array.isArray(xe)&&Array.isArray(xe[0]);e:for(re=0;re<pe;++re){for(Fe+=1,fe=oe[re],be=0;be<3;++be){if(isNaN(fe[be])||!isFinite(fe[be]))continue e;he[be]=Math.max(he[be],fe[be]),de[be]=Math.min(de[be],fe[be])}Le=(mt=G(we,re,le,this.pixelRatio)).mesh,Oe=mt.lines,De=mt.bounds;var mt,ct=mt.visible;if(ct)if(Array.isArray(Ae)){if(3===(St=et?re<Ae.length?Ae[re]:[0,0,0,0]:Ae).length){for(be=0;be<3;++be)He[be]=St[be];He[3]=1}else if(4===St.length){for(be=0;be<4;++be)He[be]=St[be];!this.hasAlpha&&St[3]<1&&(this.hasAlpha=!0)}}else He[0]=He[1]=He[2]=0,He[3]=1;else He=[1,1,1,0];if(ct)if(Array.isArray(xe)){var St;if(3===(St=at?re<xe.length?xe[re]:[0,0,0,0]:xe).length){for(be=0;be<3;++be)Je[be]=St[be];Je[be]=1}else if(4===St.length){for(be=0;be<4;++be)Je[be]=St[be];!this.hasAlpha&&St[3]<1&&(this.hasAlpha=!0)}}else Je[0]=Je[1]=Je[2]=0,Je[3]=1;else Je=[1,1,1,0];var Dt=.5;ct?Array.isArray(Te)?Dt=re<Te.length?+Te[re]:12:Te?Dt=+Te:this.useOrtho&&(Dt=12):Dt=0;var Et=0;Array.isArray(ve)?Et=re<ve.length?+ve[re]:0:ve&&(Et=+ve);var ht=Math.cos(Et),pt=Math.sin(Et);for(fe=oe[re],be=0;be<3;++be)he[be]=Math.max(he[be],fe[be]),de[be]=Math.min(de[be],fe[be]);var Pt=Q,Ft=ee;Pt=0,Array.isArray(Q)?Pt=re<Q.length?Q[re]:0:Q&&(Pt=Q),Ft=0,Array.isArray(ee)?Ft=re<ee.length?ee[re]:0:ee&&(Ft=ee);var Ht=[Pt*=Pt>0?1-De[0][0]:Pt<0?1+De[1][0]:1,Ft*=Ft>0?1-De[0][1]:Ft<0?1+De[1][1]:1],Lt=Le.cells||[],tt=Le.positions||[];for(be=0;be<Lt.length;++be)for(var rt=Lt[be],Ke=0;Ke<3;++Ke){for(var it=0;it<3;++it)Ge[3*Be+it]=fe[it];for(it=0;it<4;++it)ye[4*Be+it]=He[it];Ee[Be]=Fe;var gt=tt[rt[Ke]];Ie[2*Be]=Dt*(ht*gt[0]-pt*gt[1]+Ht[0]),Ie[2*Be+1]=Dt*(pt*gt[0]+ht*gt[1]+Ht[1]),Be+=1}for(Lt=Oe.edges,tt=Oe.positions,be=0;be<Lt.length;++be)for(rt=Lt[be],Ke=0;Ke<2;++Ke){for(it=0;it<3;++it)Ge[3*We+it]=fe[it];for(it=0;it<4;++it)ye[4*We+it]=Je[it];Ee[We]=Fe,Ie[2*We]=Dt*(ht*(gt=tt[rt[Ke]])[0]-pt*gt[1]+Ht[0]),Ie[2*We+1]=Dt*(pt*gt[0]+ht*gt[1]+Ht[1]),We+=1}}}this.bounds=[de,he],this.points=oe,this.pointCount=oe.length,this.vertexCount=Se,this.lineVertexCount=ke,this.pointBuffer.update(Ge),this.colorBuffer.update(ye),this.glyphBuffer.update(Ie),this.idBuffer.update(Ee),l.free(Ge),l.free(ye),l.free(Ie),l.free(Ee)},A.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(v,c,i){"use strict";var s=i(6832);c.boxVertex=s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),c.boxFragment=s(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},6623:function(v,c,i){"use strict";var s=i(5158),a=i(5827),o=i(1884);function l(d,m,h){this.plot=d,this.boxBuffer=m,this.boxShader=h,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}v.exports=function(d,m){var h=d.gl,T=new l(d,a(h,[0,0,0,1,1,0,1,1]),s(h,o.boxVertex,o.boxFragment));return T.update(m),d.addOverlay(T),T};var u=l.prototype;u.draw=function(){if(this.enabled){var d=this.plot,m=this.selectBox,h=this.borderWidth,T=this.innerColor,_=this.outerColor,g=this.borderColor,w=d.box,x=d.screenBox,b=d.dataBox,A=d.viewBox,p=d.pixelRatio,O=(m[0]-b[0])*(A[2]-A[0])/(b[2]-b[0])+A[0],k=(m[1]-b[1])*(A[3]-A[1])/(b[3]-b[1])+A[1],I=(m[2]-b[0])*(A[2]-A[0])/(b[2]-b[0])+A[0],P=(m[3]-b[1])*(A[3]-A[1])/(b[3]-b[1])+A[1];if(O=Math.max(O,A[0]),k=Math.max(k,A[1]),I=Math.min(I,A[2]),P=Math.min(P,A[3]),!(I<O||P<k)){w.bind();var R=x[2]-x[0],N=x[3]-x[1];if(this.outerFill&&(w.drawBox(0,0,R,k,_),w.drawBox(0,k,O,P,_),w.drawBox(0,P,R,N,_),w.drawBox(I,k,R,P,_)),this.innerFill&&w.drawBox(O,k,I,P,T),h>0){var j=h*p;w.drawBox(O-j,k-j,I+j,k+j,g),w.drawBox(O-j,P-j,I+j,P+j,g),w.drawBox(O-j,k-j,O+j,P+j,g),w.drawBox(I-j,k-j,I+j,P+j,g)}}}},u.update=function(d){this.innerFill=!!(d=d||{}).innerFill,this.outerFill=!!d.outerFill,this.innerColor=(d.innerColor||[0,0,0,.5]).slice(),this.outerColor=(d.outerColor||[0,0,0,.5]).slice(),this.borderColor=(d.borderColor||[0,0,0,1]).slice(),this.borderWidth=d.borderWidth||0,this.selectBox=(d.selectBox||this.selectBox).slice()},u.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(v,c,i){"use strict";v.exports=function(h,T){var _=T[0],g=T[1];return new d(h,s(h,_,g,{}),a.mallocUint8(_*g*4))};var s=i(4234),a=i(5306),o=i(5050),l=i(2288).nextPow2;function u(h,T,_,g,w){this.coord=[h,T],this.id=_,this.value=g,this.distance=w}function d(h,T,_){this.gl=h,this.fbo=T,this.buffer=_,this._readTimeout=null;var g=this;this._readCallback=function(){g.gl&&(T.bind(),h.readPixels(0,0,T.shape[0],T.shape[1],h.RGBA,h.UNSIGNED_BYTE,g.buffer),g._readTimeout=null)}}var m=d.prototype;Object.defineProperty(m,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(h){if(this.gl){this.fbo.shape=h;var T=this.fbo.shape[0],_=this.fbo.shape[1];if(_*T*4>this.buffer.length){a.free(this.buffer);for(var g=this.buffer=a.mallocUint8(l(_*T*4)),w=0;w<_*T*4;++w)g[w]=255}return h}}}),m.begin=function(){var h=this.gl;h&&(this.fbo.bind(),h.clearColor(1,1,1,1),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT))},m.end=function(){var h=this.gl;h&&(h.bindFramebuffer(h.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},m.query=function(h,T,_){if(!this.gl)return null;var g=this.fbo.shape.slice();h|=0,T|=0,"number"!=typeof _&&(_=1);var w=0|Math.min(Math.max(h-_,0),g[0]),x=0|Math.min(Math.max(h+_,0),g[0]),b=0|Math.min(Math.max(T-_,0),g[1]),A=0|Math.min(Math.max(T+_,0),g[1]);if(x<=w||A<=b)return null;var p=[x-w,A-b],O=o(this.buffer,[p[0],p[1],4],[4,4*g[0],1],4*(w+g[0]*b)),k=function(R,N,j){for(var X=1e8,F=-1,Z=-1,W=R.shape[0],H=R.shape[1],G=0;G<W;G++)for(var Y=0;Y<H;Y++){var se=R.get(G,Y,0),te=R.get(G,Y,1),re=R.get(G,Y,2),Q=R.get(G,Y,3);if(se<255||te<255||re<255||Q<255){var ee=N-G,oe=j-Y,le=ee*ee+oe*oe;le<X&&(X=le,F=G,Z=Y)}}return[F,Z,X]}(O.hi(p[0],p[1],1),_,_),I=k[0],P=k[1];return I<0||Math.pow(this.radius,2)<k[2]?null:new u(I+w|0,P+b|0,O.get(I,P,0),[O.get(I,P,1),O.get(I,P,2),O.get(I,P,3)],Math.sqrt(k[2]))},m.dispose=function(){this.gl&&(this.fbo.dispose(),a.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(v,c,i){"use strict";var s=i(9016),a=i(4280),o=i(3984),l=i(1628),u=i(2631),d=i(9068);function m(_){this.gl=_,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=m.prototype;function T(_,g){return _.name<g.name?-1:1}h.bind=function(){var _;this.program||this._relink();var g=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),w=this.gl.lastAttribCount;if(g>w)for(_=w;_<g;_++)this.gl.enableVertexAttribArray(_);else if(w>g)for(_=g;_<w;_++)this.gl.disableVertexAttribArray(_);this.gl.lastAttribCount=g,this.gl.useProgram(this.program)},h.dispose=function(){for(var _=this.gl.lastAttribCount,g=0;g<_;g++)this.gl.disableVertexAttribArray(g);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},h.update=function(_,g,w,x){if(!g||1===arguments.length){var b=_;_=b.vertex,g=b.fragment,w=b.uniforms,x=b.attributes}var A=this,p=A.gl,O=A._vref;A._vref=l.shader(p,p.VERTEX_SHADER,_),O&&O.dispose(),A.vertShader=A._vref.shader;var k=this._fref;if(A._fref=l.shader(p,p.FRAGMENT_SHADER,g),k&&k.dispose(),A.fragShader=A._fref.shader,!w||!x){var I=p.createProgram();if(p.attachShader(I,A.fragShader),p.attachShader(I,A.vertShader),p.linkProgram(I),!p.getProgramParameter(I,p.LINK_STATUS)){var P=p.getProgramInfoLog(I);throw new d(P,"Error linking program:"+P)}w=w||u.uniforms(p,I),x=x||u.attributes(p,I),p.deleteProgram(I)}(x=x.slice()).sort(T);var R,N=[],j=[],X=[];for(R=0;R<x.length;++R){var F=x[R];if(F.type.indexOf("mat")>=0){for(var Z=0|F.type.charAt(F.type.length-1),W=new Array(Z),H=0;H<Z;++H)W[H]=X.length,j.push(F.name+"["+H+"]"),"number"==typeof F.location?X.push(F.location+H):Array.isArray(F.location)&&F.location.length===Z&&"number"==typeof F.location[H]?X.push(0|F.location[H]):X.push(-1);N.push({name:F.name,type:F.type,locations:W})}else N.push({name:F.name,type:F.type,locations:[X.length]}),j.push(F.name),X.push("number"==typeof F.location?0|F.location:-1)}var G=0;for(R=0;R<X.length;++R)if(X[R]<0){for(;X.indexOf(G)>=0;)G+=1;X[R]=G}var Y=new Array(w.length);function se(){A.program=l.program(p,A._vref,A._fref,j,X);for(var te=0;te<w.length;++te)Y[te]=p.getUniformLocation(A.program,w[te].name)}se(),A._relink=se,A.types={uniforms:o(w),attributes:o(x)},A.attributes=a(p,A,N,X),Object.defineProperty(A,"uniforms",s(p,A,w,Y))},v.exports=function(_,g,w,x,b){var A=new m(_);return A.update(g,w,x,b),A}},9068:function(v){function c(i,s,a){this.shortMessage=s||"",this.longMessage=a||"",this.rawError=i||"",this.message="gl-shader: "+(s||i||"")+(a?"\n"+a:""),this.stack=(new Error).stack}(c.prototype=new Error).name="GLError",c.prototype.constructor=c,v.exports=c},4280:function(v,c,i){"use strict";v.exports=function(m,h,T,_){for(var g={},w=0,x=T.length;w<x;++w){var b=T[w],A=b.name,p=b.type,O=b.locations;switch(p){case"bool":case"int":case"float":u(m,h,O[0],_,1,g,A);break;default:if(p.indexOf("vec")>=0){if((k=p.charCodeAt(p.length-1)-48)<2||k>4)throw new s("","Invalid data type for attribute "+A+": "+p);u(m,h,O[0],_,k,g,A)}else{if(!(p.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+A+": "+p);var k;if((k=p.charCodeAt(p.length-1)-48)<2||k>4)throw new s("","Invalid data type for attribute "+A+": "+p);d(m,h,O,_,k,g,A)}}}return g};var s=i(9068);function a(m,h,T,_,g,w){this._gl=m,this._wrapper=h,this._index=T,this._locations=_,this._dimension=g,this._constFunc=w}var o=a.prototype;o.pointer=function(m,h,T,_){var g=this,w=g._gl,x=g._locations[g._index];w.vertexAttribPointer(x,g._dimension,m||w.FLOAT,!!h,T||0,_||0),w.enableVertexAttribArray(x)},o.set=function(m,h,T,_){return this._constFunc(this._locations[this._index],m,h,T,_)},Object.defineProperty(o,"location",{get:function(){return this._locations[this._index]},set:function(m){return m!==this._locations[this._index]&&(this._locations[this._index]=0|m,this._wrapper.program=null),0|m}});var l=[function(m,h,T){return void 0===T.length?m.vertexAttrib1f(h,T):m.vertexAttrib1fv(h,T)},function(m,h,T,_){return void 0===T.length?m.vertexAttrib2f(h,T,_):m.vertexAttrib2fv(h,T)},function(m,h,T,_,g){return void 0===T.length?m.vertexAttrib3f(h,T,_,g):m.vertexAttrib3fv(h,T)},function(m,h,T,_,g,w){return void 0===T.length?m.vertexAttrib4f(h,T,_,g,w):m.vertexAttrib4fv(h,T)}];function u(m,h,T,_,g,w,x){var b=l[g],A=new a(m,h,T,_,g,b);Object.defineProperty(w,x,{set:function(p){return m.disableVertexAttribArray(_[T]),b(m,_[T],p),p},get:function(){return A},enumerable:!0})}function d(m,h,T,_,g,w,x){for(var b=new Array(g),A=new Array(g),p=0;p<g;++p)u(m,h,T[p],_,g,b,p),A[p]=b[p];Object.defineProperty(b,"location",{set:function(I){if(Array.isArray(I))for(var P=0;P<g;++P)A[P].location=I[P];else for(P=0;P<g;++P)A[P].location=I+P;return I},get:function(){for(var I=new Array(g),P=0;P<g;++P)I[P]=_[T[P]];return I},enumerable:!0}),b.pointer=function(I,P,R,N){I=I||m.FLOAT,P=!!P,R=R||g*g,N=N||0;for(var j=0;j<g;++j){var X=_[T[j]];m.vertexAttribPointer(X,g,I,P,R,N+j*g),m.enableVertexAttribArray(X)}};var O=new Array(g),k=m["vertexAttrib"+g+"fv"];Object.defineProperty(w,x,{set:function(I){for(var P=0;P<g;++P){var R=_[T[P]];if(m.disableVertexAttribArray(R),Array.isArray(I[0]))k.call(m,R,I[P]);else{for(var N=0;N<g;++N)O[N]=I[g*P+N];k.call(m,R,O)}}return I},get:function(){return b},enumerable:!0})}},9016:function(v,c,i){"use strict";var s=i(3984),a=i(9068);function o(u){return function(){return u}}function l(u,d){for(var m=new Array(u),h=0;h<u;++h)m[h]=d;return m}v.exports=function(u,d,m,h){function T(b){return function(A){for(var p=_("",b),O=0;O<p.length;++O){var k=p[O],I=k[0],P=k[1];if(h[P]){var R=A;if("string"==typeof I&&(0===I.indexOf(".")||0===I.indexOf("["))){var N=I;if(0===I.indexOf(".")&&(N=I.slice(1)),N.indexOf("]")===N.length-1){var j=N.indexOf("["),X=N.slice(0,j),F=N.slice(j+1,N.length-1);R=X?A[X][F]:A[F]}else R=A[N]}var Z,W=m[P].type;switch(W){case"bool":case"int":case"sampler2D":case"samplerCube":u.uniform1i(h[P],R);break;case"float":u.uniform1f(h[P],R);break;default:var H=W.indexOf("vec");if(!(0<=H&&H<=1&&W.length===4+H)){if(0===W.indexOf("mat")&&4===W.length){if((Z=W.charCodeAt(W.length-1)-48)<2||Z>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+W);u["uniformMatrix"+Z+"fv"](h[P],!1,R);break}throw new a("","Unknown uniform data type for "+name+": "+W)}if((Z=W.charCodeAt(W.length-1)-48)<2||Z>4)throw new a("","Invalid data type");switch(W.charAt(0)){case"b":case"i":u["uniform"+Z+"iv"](h[P],R);break;case"v":u["uniform"+Z+"fv"](h[P],R);break;default:throw new a("","Unrecognized data type for vector "+name+": "+W)}}}}}}function _(b,A){if("object"!=typeof A)return[[b,A]];var p=[];for(var O in A){var k=A[O],I=b;parseInt(O)+""===O?I+="["+O+"]":I+="."+O,"object"==typeof k?p.push.apply(p,_(I,k)):p.push([I,k])}return p}function g(b,A,p){if("object"==typeof p){var O=w(p);Object.defineProperty(b,A,{get:o(O),set:T(p),enumerable:!0,configurable:!1})}else h[p]?Object.defineProperty(b,A,{get:(k=p,function(I,P,R){return I.getUniform(P.program,R[k])}),set:T(p),enumerable:!0,configurable:!1}):b[A]=function(I){switch(I){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var P=I.indexOf("vec");if(0<=P&&P<=1&&I.length===4+P){if((R=I.charCodeAt(I.length-1)-48)<2||R>4)throw new a("","Invalid data type");return"b"===I.charAt(0)?l(R,!1):l(R,0)}if(0===I.indexOf("mat")&&4===I.length){var R;if((R=I.charCodeAt(I.length-1)-48)<2||R>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+I);return l(R*R,0)}throw new a("","Unknown uniform data type for "+name+": "+I)}}(m[p].type);var k}function w(b){var A;if(Array.isArray(b)){A=new Array(b.length);for(var p=0;p<b.length;++p)g(A,p,b[p])}else for(var O in A={},b)g(A,O,b[O]);return A}var x=s(m,!0);return{get:o(w(x)),set:T(x),enumerable:!0,configurable:!0}}},3984:function(v){"use strict";v.exports=function(c,i){for(var s={},a=0;a<c.length;++a)for(var o=c[a].name.split("."),l=s,u=0;u<o.length;++u){var d=o[u].split("[");if(d.length>1){d[0]in l||(l[d[0]]=[]),l=l[d[0]];for(var m=1;m<d.length;++m){var h=parseInt(d[m]);m<d.length-1||u<o.length-1?(h in l||(l[h]=m<d.length-1?[]:{}),l=l[h]):l[h]=i?a:c[a].type}}else u<o.length-1?(d[0]in l||(l[d[0]]={}),l=l[d[0]]):l[d[0]]=i?a:c[a].type}return s}},2631:function(v,c){"use strict";c.uniforms=function(o,l){for(var u=o.getProgramParameter(l,o.ACTIVE_UNIFORMS),d=[],m=0;m<u;++m){var h=o.getActiveUniform(l,m);if(h){var T=a(o,h.type);if(h.size>1)for(var _=0;_<h.size;++_)d.push({name:h.name.replace("[0]","["+_+"]"),type:T});else d.push({name:h.name,type:T})}}return d},c.attributes=function(o,l){for(var u=o.getProgramParameter(l,o.ACTIVE_ATTRIBUTES),d=[],m=0;m<u;++m){var h=o.getActiveAttrib(l,m);h&&d.push({name:h.name,type:a(o,h.type)})}return d};var i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null;function a(o,l){if(!s){var u=Object.keys(i);s={};for(var d=0;d<u.length;++d){var m=u[d];s[o[m]]=i[m]}}return s[l]}},1628:function(v,c,i){"use strict";c.shader=function(T,_,g){return h(T).getShaderReference(_,g)},c.program=function(T,_,g,w,x){return h(T).getProgram(_,g,w,x)};var s=i(9068),a=i(3530),o=new(typeof WeakMap>"u"?i(4037):WeakMap),l=0;function u(T,_,g,w,x,b,A){this.id=T,this.src=_,this.type=g,this.shader=w,this.count=b,this.programs=[],this.cache=A}function d(T){this.gl=T,this.shaders=[{},{}],this.programs={}}u.prototype.dispose=function(){if(0==--this.count){for(var T=this.cache,_=T.gl,g=this.programs,w=0,x=g.length;w<x;++w){var b=T.programs[g[w]];b&&(delete T.programs[w],_.deleteProgram(b))}_.deleteShader(this.shader),delete T.shaders[this.type===_.FRAGMENT_SHADER|0][this.src]}};var m=d.prototype;function h(T){var _=o.get(T);return _||(_=new d(T),o.set(T,_)),_}m.getShaderReference=function(T,_){var g=this.gl,w=this.shaders[T===g.FRAGMENT_SHADER|0],x=w[_];if(x&&g.isShader(x.shader))x.count+=1;else{var b=function(A,p,O){var k=A.createShader(p);if(A.shaderSource(k,O),A.compileShader(k),!A.getShaderParameter(k,A.COMPILE_STATUS)){var I=A.getShaderInfoLog(k);try{var P=a(I,O,p)}catch(R){throw console.warn("Failed to format compiler error: "+R),new s(I,"Error compiling shader:\n"+I)}throw new s(I,P.short,P.long)}return k}(g,T,_);x=w[_]=new u(l++,_,T,b,[],1,this)}return x},m.getProgram=function(T,_,g,w){var x=[T.id,_.id,g.join(":"),w.join(":")].join("@"),b=this.programs[x];return b&&this.gl.isProgram(b)||(this.programs[x]=b=function(A,p,O,k,I){var P=A.createProgram();A.attachShader(P,p),A.attachShader(P,O);for(var R=0;R<k.length;++R)A.bindAttribLocation(P,I[R],k[R]);if(A.linkProgram(P),!A.getProgramParameter(P,A.LINK_STATUS)){var N=A.getProgramInfoLog(P);throw new s(N,"Error linking program: "+N)}return P}(this.gl,T.shader,_.shader,g,w),T.programs.push(x),_.programs.push(x)),b}},3050:function(v){"use strict";function c(s){this.plot=s,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}v.exports=function(s,a){var o=new c(s);return o.update(a),s.addOverlay(o),o};var i=c.prototype;i.update=function(s){this.enable=((s=s||{}).enable||[!0,!0,!1,!1]).slice(),this.width=(s.width||[1,1,1,1]).slice(),this.color=(s.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(a){return a.slice()}),this.center=(s.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},i.draw=function(){var s=this.enable,a=this.width,o=this.color,l=this.center,u=this.plot,d=u.line,m=u.dataBox,h=u.viewBox;if(d.bind(),m[0]<=l[0]&&l[0]<=m[2]&&m[1]<=l[1]&&l[1]<=m[3]){var T=h[0]+(l[0]-m[0])/(m[2]-m[0])*(h[2]-h[0]),_=h[1]+(l[1]-m[1])/(m[3]-m[1])*(h[3]-h[1]);s[0]&&d.drawLine(T,_,h[0],_,a[0],o[0]),s[1]&&d.drawLine(T,_,T,h[1],a[1],o[1]),s[2]&&d.drawLine(T,_,h[2],_,a[2],o[2]),s[3]&&d.drawLine(T,_,T,h[3],a[3],o[3])}},i.dispose=function(){this.plot.removeOverlay(this)}},3540:function(v,c,i){"use strict";var s=i(6832),a=i(5158),o=s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),l=s(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);v.exports=function(u){return a(u,o,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,c,i){"use strict";var s=i(5827),a=i(2944),o=i(3540);v.exports=function(_,g){var w=[];function x(k,I,P,R,N,j){var X=[k,I,P,0,0,0,1];X[R+3]=1,X[R]=N,w.push.apply(w,X),X[6]=-1,w.push.apply(w,X),X[R]=j,w.push.apply(w,X),w.push.apply(w,X),X[6]=1,w.push.apply(w,X),X[R]=N,w.push.apply(w,X)}x(0,0,0,0,0,1),x(0,0,0,1,0,1),x(0,0,0,2,0,1),x(1,0,0,1,-1,1),x(1,0,0,2,-1,1),x(0,1,0,0,-1,1),x(0,1,0,2,-1,1),x(0,0,1,0,-1,1),x(0,0,1,1,-1,1);var b=s(_,w),A=a(_,[{type:_.FLOAT,buffer:b,size:3,offset:0,stride:28},{type:_.FLOAT,buffer:b,size:3,offset:12,stride:28},{type:_.FLOAT,buffer:b,size:1,offset:24,stride:28}]),p=o(_);p.attributes.position.location=0,p.attributes.color.location=1,p.attributes.weight.location=2;var O=new u(_,b,A,p);return O.update(g),O};var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(_,g,w,x){this.gl=_,this.buffer=g,this.vao=w,this.shader=x,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var d=u.prototype,m=[0,0,0],h=[0,0,0],T=[0,0];d.isTransparent=function(){return!1},d.drawTransparent=function(_){},d.draw=function(_){var g=this.gl,w=this.vao,x=this.shader;w.bind(),x.bind();var b,A=_.model||l,p=_.view||l,O=_.projection||l;this.axes&&(b=this.axes.lastCubeProps.axis);for(var k=m,I=h,P=0;P<3;++P)b&&b[P]<0?(k[P]=this.bounds[0][P],I[P]=this.bounds[1][P]):(k[P]=this.bounds[1][P],I[P]=this.bounds[0][P]);for(T[0]=g.drawingBufferWidth,T[1]=g.drawingBufferHeight,x.uniforms.model=A,x.uniforms.view=p,x.uniforms.projection=O,x.uniforms.coordinates=[this.position,k,I],x.uniforms.colors=this.colors,x.uniforms.screenShape=T,P=0;P<3;++P)x.uniforms.lineWidth=this.lineWidth[P]*this.pixelRatio,this.enabled[P]&&(w.draw(g.TRIANGLES,6,6*P),this.drawSides[P]&&w.draw(g.TRIANGLES,12,18+12*P));w.unbind()},d.update=function(_){_&&("bounds"in _&&(this.bounds=_.bounds),"position"in _&&(this.position=_.position),"lineWidth"in _&&(this.lineWidth=_.lineWidth),"colors"in _&&(this.colors=_.colors),"enabled"in _&&(this.enabled=_.enabled),"drawSides"in _&&(this.drawSides=_.drawSides))},d.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(v,c,i){var s=i(6832),a=s(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=s(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),l=s(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),u=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);c.meshShader={vertex:a,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},c.pickShader={vertex:l,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,c,i){"use strict";var s=i(2858),a=i(4020),o=["xyz","xzy","yxz","yzx","zxy","zyx"],l=function(T,_){var g,w=T.length;for(g=0;g<w;g++){var x=T[g];if(x===_)return g;if(x>_)return g-1}return g},u=function(T,_,g){return T<_?_:T>g?g:T},d=function(T){var _=1/0;T.sort(function(b,A){return b-A});for(var g=T.length,w=1;w<g;w++){var x=Math.abs(T[w]-T[w-1]);x<_&&(_=x)}return _};v.exports=function(T,_){var g=T.startingPositions,w=T.maxLength||1e3,x=T.tubeSize||1,b=T.absoluteTubeSize,A=T.gridFill||"+x+y+z",p={};-1!==A.indexOf("-x")&&(p.reversedX=!0),-1!==A.indexOf("-y")&&(p.reversedY=!0),-1!==A.indexOf("-z")&&(p.reversedZ=!0),p.filled=o.indexOf(A.replace(/-/g,"").replace(/\+/g,""));var xe,Fe,Se,ke,O=T.getVelocity||function(xe){return function(Fe,Se,ke){var pe=Se.vectors,fe=Se.meshgrid,be=Fe[0],Le=Fe[1],Oe=Fe[2],De=fe[0].length,Ue=fe[1].length,Ge=fe[2].length,ye=l(fe[0],be),Ie=l(fe[1],Le),Ee=l(fe[2],Oe),Be=ye+1,We=Ie+1,He=Ee+1;if(ye=u(ye,0,De-1),Be=u(Be,0,De-1),Ie=u(Ie,0,Ue-1),We=u(We,0,Ue-1),Ee=u(Ee,0,Ge-1),He=u(He,0,Ge-1),ye<0||Ie<0||Ee<0||Be>De-1||We>Ue-1||He>Ge-1)return s.create();var Je,et,at,mt,ct,St,Dt=fe[0][ye],ht=fe[1][Ie],Pt=fe[2][Ee],Ft=(be-Dt)/(fe[0][Be]-Dt),Ht=(Le-ht)/(fe[1][We]-ht),Lt=(Oe-Pt)/(fe[2][He]-Pt);switch(isFinite(Ft)||(Ft=.5),isFinite(Ht)||(Ht=.5),isFinite(Lt)||(Lt=.5),ke.reversedX&&(ye=De-1-ye,Be=De-1-Be),ke.reversedY&&(Ie=Ue-1-Ie,We=Ue-1-We),ke.reversedZ&&(Ee=Ge-1-Ee,He=Ge-1-He),ke.filled){case 5:ct=Ee,St=He,at=Ie*Ge,mt=We*Ge,Je=ye*Ge*Ue,et=Be*Ge*Ue;break;case 4:ct=Ee,St=He,Je=ye*Ge,et=Be*Ge,at=Ie*Ge*De,mt=We*Ge*De;break;case 3:at=Ie,mt=We,ct=Ee*Ue,St=He*Ue,Je=ye*Ue*Ge,et=Be*Ue*Ge;break;case 2:at=Ie,mt=We,Je=ye*Ue,et=Be*Ue,ct=Ee*Ue*De,St=He*Ue*De;break;case 1:Je=ye,et=Be,ct=Ee*De,St=He*De,at=Ie*De*Ge,mt=We*De*Ge;break;default:Je=ye,et=Be,at=Ie*De,mt=We*De,ct=Ee*De*Ue,St=He*De*Ue}var tt=pe[Je+at+ct],rt=pe[Je+at+St],Ke=pe[Je+mt+ct],it=pe[Je+mt+St],gt=pe[et+at+ct],ft=pe[et+at+St],Ve=pe[et+mt+ct],qe=pe[et+mt+St],dt=s.create(),ut=s.create(),At=s.create(),wt=s.create();s.lerp(dt,tt,gt,Ft),s.lerp(ut,rt,ft,Ft),s.lerp(At,Ke,Ve,Ft),s.lerp(wt,it,qe,Ft);var kt=s.create(),_t=s.create();s.lerp(kt,dt,At,Ht),s.lerp(_t,ut,wt,Ht);var Rt=s.create();return s.lerp(Rt,kt,_t,Lt),Rt}(xe,T,p)},k=T.getDivergence||function(xe,Fe){var Se=s.create(),ke=1e-4;s.add(Se,xe,[ke,0,0]);var pe=O(Se);s.subtract(pe,pe,Fe),s.scale(pe,pe,1/ke),s.add(Se,xe,[0,ke,0]);var fe=O(Se);s.subtract(fe,fe,Fe),s.scale(fe,fe,1/ke),s.add(Se,xe,[0,0,ke]);var be=O(Se);return s.subtract(be,be,Fe),s.scale(be,be,1/ke),s.add(Se,pe,fe),s.add(Se,Se,be),Se},I=[],P=_[0][0],R=_[0][1],N=_[0][2],j=_[1][0],X=_[1][1],F=_[1][2],W=10*s.distance(_[0],_[1])/w,H=W*W,G=1,Y=0,se=g.length;se>1&&(G=function(xe){for(var Fe=[],Se=[],ke=[],pe={},fe={},be={},Le=xe.length,Oe=0;Oe<Le;Oe++){var De=xe[Oe],Ue=De[0],Ge=De[1],ye=De[2];pe[Ue]||(Fe.push(Ue),pe[Ue]=!0),fe[Ge]||(Se.push(Ge),fe[Ge]=!0),be[ye]||(ke.push(ye),be[ye]=!0)}var Ie=d(Fe),Ee=d(Se),Be=d(ke),We=Math.min(Ie,Ee,Be);return isFinite(We)?We:1}(g));for(var te=0;te<se;te++){var re=s.create();s.copy(re,g[te]);var Q=[re],ee=[],oe=O(re),le=re;ee.push(oe);var ue=[],de=k(re,oe),he=s.length(de);isFinite(he)&&he>Y&&(Y=he),ue.push(he),I.push({points:Q,velocities:ee,divergences:ue});for(var we=0;we<100*w&&Q.length<w&&(Fe=void 0,Se=void 0,ke=void 0,Se=(xe=re)[1],ke=xe[2],!((Fe=xe[0])<P||Fe>j||Se<R||Se>X||ke<N||ke>F));){we++;var Ae=s.clone(oe),Te=s.squaredLength(Ae);if(0===Te)break;Te>H&&s.scale(Ae,Ae,W/Math.sqrt(Te)),s.add(Ae,Ae,re),oe=O(Ae),s.squaredDistance(le,Ae)-H>-1e-4*H&&(Q.push(Ae),le=Ae,ee.push(oe),de=k(Ae,oe),he=s.length(de),isFinite(he)&&he>Y&&(Y=he),ue.push(he)),re=Ae}}var ve=function(xe,Fe,Se,ke){for(var pe=0,fe=0;fe<xe.length;fe++)for(var be=xe[fe].velocities,Le=0;Le<be.length;Le++)pe=Math.max(pe,s.length(be[Le]));var Oe=xe.map(function(Je){return function(et,at,mt,ct){for(var St=et.points,Dt=et.velocities,Et=et.divergences,ht=[],pt=[],Pt=[],Ft=[],Ht=[],Lt=[],tt=0,rt=0,Ke=a.create(),it=a.create(),gt=0;gt<St.length;gt++){var ft=St[gt],Ve=Dt[gt],qe=Et[gt];0===at&&(qe=.05*mt),rt=s.length(Ve)/ct,Ke=a.create(),s.copy(Ke,Ve),Ke[3]=qe;for(var dt=0;dt<8;dt++)Ht[dt]=[ft[0],ft[1],ft[2],dt];if(Ft.length>0)for(dt=0;dt<8;dt++){var ut=(dt+1)%8;ht.push(Ft[dt],Ht[dt],Ht[ut],Ht[ut],Ft[ut],Ft[dt]),Pt.push(it,Ke,Ke,Ke,it,it),Lt.push(tt,rt,rt,rt,tt,tt);var At=ht.length;pt.push([At-6,At-5,At-4],[At-3,At-2,At-1])}var wt=Ft;Ft=Ht,Ht=wt;var kt=it;it=Ke,Ke=kt;var _t=tt;tt=rt,rt=_t}return{positions:ht,cells:pt,vectors:Pt,vertexIntensity:Lt}}(Je,Se,ke,pe)}),De=[],Ue=[],Ge=[],ye=[];for(fe=0;fe<Oe.length;fe++){var Ie=Oe[fe],Ee=De.length;for(De=De.concat(Ie.positions),Ge=Ge.concat(Ie.vectors),ye=ye.concat(Ie.vertexIntensity),Le=0;Le<Ie.cells.length;Le++){var Be=Ie.cells[Le],We=[];Ue.push(We);for(var He=0;He<Be.length;He++)We.push(Be[He]+Ee)}}return{positions:De,cells:Ue,vectors:Ge,vertexIntensity:ye,colormap:Fe}}(I,T.colormap,Y,G);return b?ve.tubeScale=b:(0===Y&&(Y=1),ve.tubeScale=.5*x*G/Y),ve};var m=i(9578),h=i(1140).createMesh;v.exports.createTubeMesh=function(T,_){return h(T,_,{shaders:m,traceType:"streamtube"})}},9054:function(v,c,i){var s=i(5158),a=i(6832),o=a(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),l=a(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color \u2014 in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),u=a(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),d=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);c.createShader=function(m){var h=s(m,o,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},c.createPickShader=function(m){var h=s(m,o,d,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},c.createContourShader=function(m){var h=s(m,u,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},c.createPickContourShader=function(m){var h=s(m,u,d,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},3754:function(v,c,i){"use strict";v.exports=function(de){var he=de.gl,we=p(he),Ae=k(he),Te=O(he),ve=I(he),xe=a(he),Fe=o(he,[{buffer:xe,size:4,stride:P,offset:0},{buffer:xe,size:3,stride:P,offset:16},{buffer:xe,size:3,stride:P,offset:28}]),Se=a(he),ke=o(he,[{buffer:Se,size:4,stride:20,offset:0},{buffer:Se,size:1,stride:20,offset:16}]),pe=a(he),fe=o(he,[{buffer:pe,size:2,type:he.FLOAT}]),be=l(he,1,F,he.RGBA,he.UNSIGNED_BYTE);be.minFilter=he.LINEAR,be.magFilter=he.LINEAR;var Le=new Z(he,[0,0],[[0,0,0],[0,0,0]],we,Ae,xe,Fe,be,Te,ve,Se,ke,pe,fe,[0,0,0]),Oe={levels:[[],[],[]]};for(var De in de)Oe[De]=de[De];return Oe.colormap=Oe.colormap||"jet",Le.update(Oe),Le};var s=i(2288),a=i(5827),o=i(2944),l=i(8931),u=i(5306),d=i(9156),m=i(7498),h=i(7382),T=i(5050),_=i(4162),g=i(104),w=i(7437),x=i(5070),b=i(9144),A=i(9054),p=A.createShader,O=A.createContourShader,k=A.createPickShader,I=A.createPickContourShader,P=40,R=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],N=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],j=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function X(de,he,we,Ae,Te){this.position=de,this.index=he,this.uv=we,this.level=Ae,this.dataCoordinate=Te}!function(){for(var de=0;de<3;++de){var he=j[de],we=(de+2)%3;he[(de+1)%3+0]=1,he[we+3]=1,he[de+6]=1}}();var F=256;function Z(de,he,we,Ae,Te,ve,xe,Fe,Se,ke,pe,fe,be,Le,Oe){this.gl=de,this.shape=he,this.bounds=we,this.objectOffset=Oe,this.intensityBounds=[],this._shader=Ae,this._pickShader=Te,this._coordinateBuffer=ve,this._vao=xe,this._colorMap=Fe,this._contourShader=Se,this._contourPickShader=ke,this._contourBuffer=pe,this._contourVAO=fe,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new X([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=be,this._dynamicVAO=Le,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var W=Z.prototype;W.genColormap=function(de,he){var we=!1,Ae=h([d({colormap:de,nshades:F,format:"rgba"}).map(function(Te,ve){var xe=he?function(Fe,Se){if(!Se||!Se.length)return 1;for(var ke=0;ke<Se.length;++ke){if(Se.length<2)return 1;if(Se[ke][0]===Fe)return Se[ke][1];if(Se[ke][0]>Fe&&ke>0){var pe=(Se[ke][0]-Fe)/(Se[ke][0]-Se[ke-1][0]);return Se[ke][1]*(1-pe)+pe*Se[ke-1][1]}}return 1}(ve/255,he):Te[3];return xe<1&&(we=!0),[Te[0],Te[1],Te[2],255*xe]})]);return m.divseq(Ae,255),this.hasAlphaScale=we,Ae},W.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},W.isOpaque=function(){return!this.isTransparent()},W.pickSlots=1,W.setPickBase=function(de){this.pickId=de};var H=[0,0,0],G={showSurface:!1,showContour:!1,projections:[R.slice(),R.slice(),R.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function Y(de,he){var we,Ae,Te,ve=he.axes&&he.axes.lastCubeProps.axis||H,xe=he.showSurface,Fe=he.showContour;for(we=0;we<3;++we)for(xe=xe||he.surfaceProject[we],Ae=0;Ae<3;++Ae)Fe=Fe||he.contourProject[we][Ae];for(we=0;we<3;++we){var Se=G.projections[we];for(Ae=0;Ae<16;++Ae)Se[Ae]=0;for(Ae=0;Ae<4;++Ae)Se[5*Ae]=1;Se[5*we]=0,Se[12+we]=he.axesBounds[+(ve[we]>0)][we],g(Se,de.model,Se);var ke=G.clipBounds[we];for(Te=0;Te<2;++Te)for(Ae=0;Ae<3;++Ae)ke[Te][Ae]=de.clipBounds[Te][Ae];ke[0][we]=-1e8,ke[1][we]=1e8}return G.showSurface=xe,G.showContour=Fe,G}var se={model:R,view:R,projection:R,inverseModel:R.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},te=R.slice(),re=[1,0,0,0,1,0,0,0,1];function Q(de,he){de=de||{};var we=this.gl;we.disable(we.CULL_FACE),this._colorMap.bind(0);var Ae=se;Ae.model=de.model||R,Ae.view=de.view||R,Ae.projection=de.projection||R,Ae.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],Ae.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],Ae.objectOffset=this.objectOffset,Ae.contourColor=this.contourColor[0],Ae.inverseModel=w(Ae.inverseModel,Ae.model);for(var Te=0;Te<2;++Te)for(var ve=Ae.clipBounds[Te],xe=0;xe<3;++xe)ve[xe]=Math.min(Math.max(this.clipBounds[Te][xe],-1e8),1e8);Ae.kambient=this.ambientLight,Ae.kdiffuse=this.diffuseLight,Ae.kspecular=this.specularLight,Ae.roughness=this.roughness,Ae.fresnel=this.fresnel,Ae.opacity=this.opacity,Ae.height=0,Ae.permutation=re,Ae.vertexColor=this.vertexColor;var Fe=te;for(g(Fe,Ae.view,Ae.model),g(Fe,Ae.projection,Fe),w(Fe,Fe),Te=0;Te<3;++Te)Ae.eyePosition[Te]=Fe[12+Te]/Fe[15];var Se=Fe[15];for(Te=0;Te<3;++Te)Se+=this.lightPosition[Te]*Fe[4*Te+3];for(Te=0;Te<3;++Te){var ke=Fe[12+Te];for(xe=0;xe<3;++xe)ke+=Fe[4*xe+Te]*this.lightPosition[xe];Ae.lightPosition[Te]=ke/Se}var pe=Y(Ae,this);if(pe.showSurface){for(this._shader.bind(),this._shader.uniforms=Ae,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(we.TRIANGLES,this._vertexCount),Te=0;Te<3;++Te)this.surfaceProject[Te]&&this.vertexCount&&(this._shader.uniforms.model=pe.projections[Te],this._shader.uniforms.clipBounds=pe.clipBounds[Te],this._vao.draw(we.TRIANGLES,this._vertexCount));this._vao.unbind()}if(pe.showContour){var fe=this._contourShader;Ae.kambient=1,Ae.kdiffuse=0,Ae.kspecular=0,Ae.opacity=1,fe.bind(),fe.uniforms=Ae;var be=this._contourVAO;for(be.bind(),Te=0;Te<3;++Te)for(fe.uniforms.permutation=j[Te],we.lineWidth(this.contourWidth[Te]*this.pixelRatio),xe=0;xe<this.contourLevels[Te].length;++xe)xe===this.highlightLevel[Te]?(fe.uniforms.contourColor=this.highlightColor[Te],fe.uniforms.contourTint=this.highlightTint[Te]):0!==xe&&xe-1!==this.highlightLevel[Te]||(fe.uniforms.contourColor=this.contourColor[Te],fe.uniforms.contourTint=this.contourTint[Te]),this._contourCounts[Te][xe]&&(fe.uniforms.height=this.contourLevels[Te][xe],be.draw(we.LINES,this._contourCounts[Te][xe],this._contourOffsets[Te][xe]));for(Te=0;Te<3;++Te)for(fe.uniforms.model=pe.projections[Te],fe.uniforms.clipBounds=pe.clipBounds[Te],xe=0;xe<3;++xe)if(this.contourProject[Te][xe]){fe.uniforms.permutation=j[xe],we.lineWidth(this.contourWidth[xe]*this.pixelRatio);for(var Le=0;Le<this.contourLevels[xe].length;++Le)Le===this.highlightLevel[xe]?(fe.uniforms.contourColor=this.highlightColor[xe],fe.uniforms.contourTint=this.highlightTint[xe]):0!==Le&&Le-1!==this.highlightLevel[xe]||(fe.uniforms.contourColor=this.contourColor[xe],fe.uniforms.contourTint=this.contourTint[xe]),this._contourCounts[xe][Le]&&(fe.uniforms.height=this.contourLevels[xe][Le],be.draw(we.LINES,this._contourCounts[xe][Le],this._contourOffsets[xe][Le]))}for(be.unbind(),(be=this._dynamicVAO).bind(),Te=0;Te<3;++Te)if(0!==this._dynamicCounts[Te])for(fe.uniforms.model=Ae.model,fe.uniforms.clipBounds=Ae.clipBounds,fe.uniforms.permutation=j[Te],we.lineWidth(this.dynamicWidth[Te]*this.pixelRatio),fe.uniforms.contourColor=this.dynamicColor[Te],fe.uniforms.contourTint=this.dynamicTint[Te],fe.uniforms.height=this.dynamicLevel[Te],be.draw(we.LINES,this._dynamicCounts[Te],this._dynamicOffsets[Te]),xe=0;xe<3;++xe)this.contourProject[xe][Te]&&(fe.uniforms.model=pe.projections[xe],fe.uniforms.clipBounds=pe.clipBounds[xe],be.draw(we.LINES,this._dynamicCounts[Te],this._dynamicOffsets[Te]));be.unbind()}}W.draw=function(de){return Q.call(this,de,!1)},W.drawTransparent=function(de){return Q.call(this,de,!0)};var ee={model:R,view:R,projection:R,inverseModel:R,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function oe(de,he){return Array.isArray(de)?[he(de[0]),he(de[1]),he(de[2])]:[he(de),he(de),he(de)]}function le(de){return Array.isArray(de)?3===de.length?[de[0],de[1],de[2],1]:[de[0],de[1],de[2],de[3]]:[0,0,0,1]}function ue(de){if(Array.isArray(de)){if(Array.isArray(de))return[le(de[0]),le(de[1]),le(de[2])];var he=le(de);return[he.slice(),he.slice(),he.slice()]}}W.drawPick=function(de){de=de||{};var he=this.gl;he.disable(he.CULL_FACE);var we=ee;we.model=de.model||R,we.view=de.view||R,we.projection=de.projection||R,we.shape=this._field[2].shape,we.pickId=this.pickId/255,we.lowerBound=this.bounds[0],we.upperBound=this.bounds[1],we.objectOffset=this.objectOffset,we.permutation=re;for(var Ae=0;Ae<2;++Ae)for(var Te=we.clipBounds[Ae],ve=0;ve<3;++ve)Te[ve]=Math.min(Math.max(this.clipBounds[Ae][ve],-1e8),1e8);var xe=Y(we,this);if(xe.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=we,this._vao.bind(),this._vao.draw(he.TRIANGLES,this._vertexCount),Ae=0;Ae<3;++Ae)this.surfaceProject[Ae]&&(this._pickShader.uniforms.model=xe.projections[Ae],this._pickShader.uniforms.clipBounds=xe.clipBounds[Ae],this._vao.draw(he.TRIANGLES,this._vertexCount));this._vao.unbind()}if(xe.showContour){var Fe=this._contourPickShader;Fe.bind(),Fe.uniforms=we;var Se=this._contourVAO;for(Se.bind(),ve=0;ve<3;++ve)for(he.lineWidth(this.contourWidth[ve]*this.pixelRatio),Fe.uniforms.permutation=j[ve],Ae=0;Ae<this.contourLevels[ve].length;++Ae)this._contourCounts[ve][Ae]&&(Fe.uniforms.height=this.contourLevels[ve][Ae],Se.draw(he.LINES,this._contourCounts[ve][Ae],this._contourOffsets[ve][Ae]));for(Ae=0;Ae<3;++Ae)for(Fe.uniforms.model=xe.projections[Ae],Fe.uniforms.clipBounds=xe.clipBounds[Ae],ve=0;ve<3;++ve)if(this.contourProject[Ae][ve]){Fe.uniforms.permutation=j[ve],he.lineWidth(this.contourWidth[ve]*this.pixelRatio);for(var ke=0;ke<this.contourLevels[ve].length;++ke)this._contourCounts[ve][ke]&&(Fe.uniforms.height=this.contourLevels[ve][ke],Se.draw(he.LINES,this._contourCounts[ve][ke],this._contourOffsets[ve][ke]))}Se.unbind()}},W.pick=function(de){if(!de||de.id!==this.pickId)return null;var he=this._field[2].shape,we=this._pickResult,Ae=he[0]*(de.value[0]+(de.value[2]>>4)/16)/255,Te=Math.floor(Ae),ve=Ae-Te,xe=he[1]*(de.value[1]+(15&de.value[2])/16)/255,Fe=Math.floor(xe),Se=xe-Fe;Te+=1,Fe+=1;var ke=we.position;ke[0]=ke[1]=ke[2]=0;for(var pe=0;pe<2;++pe)for(var fe=pe?ve:1-ve,be=0;be<2;++be)for(var Le=Te+pe,Oe=Fe+be,De=fe*(be?Se:1-Se),Ue=0;Ue<3;++Ue)ke[Ue]+=this._field[Ue].get(Le,Oe)*De;for(var Ge=this._pickResult.level,ye=0;ye<3;++ye)if(Ge[ye]=x.le(this.contourLevels[ye],ke[ye]),Ge[ye]<0)this.contourLevels[ye].length>0&&(Ge[ye]=0);else if(Ge[ye]<this.contourLevels[ye].length-1){var Ee=this.contourLevels[ye][Ge[ye]+1];Math.abs(this.contourLevels[ye][Ge[ye]]-ke[ye])>Math.abs(Ee-ke[ye])&&(Ge[ye]+=1)}for(we.index[0]=ve<.5?Te:Te+1,we.index[1]=Se<.5?Fe:Fe+1,we.uv[0]=Ae/he[0],we.uv[1]=xe/he[1],Ue=0;Ue<3;++Ue)we.dataCoordinate[Ue]=this._field[Ue].get(we.index[0],we.index[1]);return we},W.padField=function(de,he){var we=he.shape.slice(),Ae=de.shape.slice();m.assign(de.lo(1,1).hi(we[0],we[1]),he),m.assign(de.lo(1).hi(we[0],1),he.hi(we[0],1)),m.assign(de.lo(1,Ae[1]-1).hi(we[0],1),he.lo(0,we[1]-1).hi(we[0],1)),m.assign(de.lo(0,1).hi(1,we[1]),he.hi(1)),m.assign(de.lo(Ae[0]-1,1).hi(1,we[1]),he.lo(we[0]-1)),de.set(0,0,he.get(0,0)),de.set(0,Ae[1]-1,he.get(0,we[1]-1)),de.set(Ae[0]-1,0,he.get(we[0]-1,0)),de.set(Ae[0]-1,Ae[1]-1,he.get(we[0]-1,we[1]-1))},W.update=function(de){this.objectOffset=(de=de||{}).objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in de&&(this.contourWidth=oe(de.contourWidth,Number)),"showContour"in de&&(this.showContour=oe(de.showContour,Boolean)),"showSurface"in de&&(this.showSurface=!!de.showSurface),"contourTint"in de&&(this.contourTint=oe(de.contourTint,Boolean)),"contourColor"in de&&(this.contourColor=ue(de.contourColor)),"contourProject"in de&&(this.contourProject=oe(de.contourProject,function(yn){return oe(yn,Boolean)})),"surfaceProject"in de&&(this.surfaceProject=de.surfaceProject),"dynamicColor"in de&&(this.dynamicColor=ue(de.dynamicColor)),"dynamicTint"in de&&(this.dynamicTint=oe(de.dynamicTint,Number)),"dynamicWidth"in de&&(this.dynamicWidth=oe(de.dynamicWidth,Number)),"opacity"in de&&(this.opacity=de.opacity),"opacityscale"in de&&(this.opacityscale=de.opacityscale),"colorBounds"in de&&(this.colorBounds=de.colorBounds),"vertexColor"in de&&(this.vertexColor=de.vertexColor?1:0),"colormap"in de&&this._colorMap.setPixels(this.genColormap(de.colormap,this.opacityscale));var he=de.field||de.coords&&de.coords[2]||null,we=!1;if(he||(he=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in de||"coords"in de){var Ae=(he.shape[0]+2)*(he.shape[1]+2);Ae>this._field[2].data.length&&(u.freeFloat(this._field[2].data),this._field[2].data=u.mallocFloat(s.nextPow2(Ae))),this._field[2]=T(this._field[2].data,[he.shape[0]+2,he.shape[1]+2]),this.padField(this._field[2],he),this.shape=he.shape.slice();for(var Te=this.shape,ve=0;ve<2;++ve)this._field[2].size>this._field[ve].data.length&&(u.freeFloat(this._field[ve].data),this._field[ve].data=u.mallocFloat(this._field[2].size)),this._field[ve]=T(this._field[ve].data,[Te[0]+2,Te[1]+2]);if(de.coords){var xe=de.coords;if(!Array.isArray(xe)||3!==xe.length)throw new Error("gl-surface: invalid coordinates for x/y");for(ve=0;ve<2;++ve){var Fe=xe[ve];for(be=0;be<2;++be)if(Fe.shape[be]!==Te[be])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ve],Fe)}}else if(de.ticks){var Se=de.ticks;if(!Array.isArray(Se)||2!==Se.length)throw new Error("gl-surface: invalid ticks");for(ve=0;ve<2;++ve){var ke=Se[ve];if((Array.isArray(ke)||ke.length)&&(ke=T(ke)),ke.shape[0]!==Te[ve])throw new Error("gl-surface: invalid tick length");var pe=T(ke.data,Te);pe.stride[ve]=ke.stride[0],pe.stride[1^ve]=0,this.padField(this._field[ve],pe)}}else{for(ve=0;ve<2;++ve){var fe=[0,0];fe[ve]=1,this._field[ve]=T(this._field[ve].data,[Te[0]+2,Te[1]+2],fe,0)}this._field[0].set(0,0,0);for(var be=0;be<Te[0];++be)this._field[0].set(be+1,0,be);for(this._field[0].set(Te[0]+1,0,Te[0]-1),this._field[1].set(0,0,0),be=0;be<Te[1];++be)this._field[1].set(0,be+1,be);this._field[1].set(0,Te[1]+1,Te[1]-1)}var Le=this._field,Oe=T(u.mallocFloat(3*Le[2].size*2),[3,Te[0]+2,Te[1]+2,2]);for(ve=0;ve<3;++ve)b(Oe.pick(ve),Le[ve],"mirror");var De=T(u.mallocFloat(3*Le[2].size),[Te[0]+2,Te[1]+2,3]);for(ve=0;ve<Te[0]+2;++ve)for(be=0;be<Te[1]+2;++be){var Ue=Oe.get(0,ve,be,0),Ge=Oe.get(0,ve,be,1),ye=Oe.get(1,ve,be,0),Ie=Oe.get(1,ve,be,1),Ee=Oe.get(2,ve,be,0),Be=Oe.get(2,ve,be,1),We=ye*Be-Ie*Ee,He=Ee*Ge-Be*Ue,Je=Ue*Ie-Ge*ye,et=Math.sqrt(We*We+He*He+Je*Je);et<1e-8?(et=Math.max(Math.abs(We),Math.abs(He),Math.abs(Je)))<1e-8?(Je=1,He=We=0,et=1):et=1/et:et=1/Math.sqrt(et),De.set(ve,be,0,We*et),De.set(ve,be,1,He*et),De.set(ve,be,2,Je*et)}u.free(Oe.data);var at=[1/0,1/0,1/0],mt=[-1/0,-1/0,-1/0],ct=1/0,St=-1/0,Et=u.mallocFloat(s.nextPow2((Te[0]-1)*(Te[1]-1)*6*10)),ht=0,pt=0;for(ve=0;ve<Te[0]-1;++ve)e:for(be=0;be<Te[1]-1;++be){for(var Pt=0;Pt<2;++Pt)for(var Ft=0;Ft<2;++Ft)for(var Ht=0;Ht<3;++Ht){var Lt=this._field[Ht].get(1+ve+Pt,1+be+Ft);if(isNaN(Lt)||!isFinite(Lt))continue e}for(Ht=0;Ht<6;++Ht){var tt=ve+N[Ht][0],rt=be+N[Ht][1],Ke=this._field[0].get(tt+1,rt+1),it=this._field[1].get(tt+1,rt+1);Lt=this._field[2].get(tt+1,rt+1),We=De.get(tt+1,rt+1,0),He=De.get(tt+1,rt+1,1),Je=De.get(tt+1,rt+1,2),de.intensity&&(gt=de.intensity.get(tt,rt));var gt=de.intensity?de.intensity.get(tt,rt):Lt+this.objectOffset[2];Et[ht++]=tt,Et[ht++]=rt,Et[ht++]=Ke,Et[ht++]=it,Et[ht++]=Lt,Et[ht++]=0,Et[ht++]=gt,Et[ht++]=We,Et[ht++]=He,Et[ht++]=Je,at[0]=Math.min(at[0],Ke+this.objectOffset[0]),at[1]=Math.min(at[1],it+this.objectOffset[1]),at[2]=Math.min(at[2],Lt+this.objectOffset[2]),ct=Math.min(ct,gt),mt[0]=Math.max(mt[0],Ke+this.objectOffset[0]),mt[1]=Math.max(mt[1],it+this.objectOffset[1]),mt[2]=Math.max(mt[2],Lt+this.objectOffset[2]),St=Math.max(St,gt),pt+=1}}for(de.intensityBounds&&(ct=+de.intensityBounds[0],St=+de.intensityBounds[1]),ve=6;ve<ht;ve+=10)Et[ve]=(Et[ve]-ct)/(St-ct);this._vertexCount=pt,this._coordinateBuffer.update(Et.subarray(0,ht)),u.freeFloat(Et),u.free(De.data),this.bounds=[at,mt],this.intensity=de.intensity||this._field[2],this.intensityBounds[0]===ct&&this.intensityBounds[1]===St||(we=!0),this.intensityBounds=[ct,St]}if("levels"in de){var ft=de.levels;for(ft=Array.isArray(ft[0])?ft.slice():[[],[],ft],ve=0;ve<3;++ve)ft[ve]=ft[ve].slice(),ft[ve].sort(function(yn,ln){return yn-ln});for(ve=0;ve<3;++ve)for(be=0;be<ft[ve].length;++be)ft[ve][be]-=this.objectOffset[ve];e:for(ve=0;ve<3;++ve){if(ft[ve].length!==this.contourLevels[ve].length){we=!0;break}for(be=0;be<ft[ve].length;++be)if(ft[ve][be]!==this.contourLevels[ve][be]){we=!0;break e}}this.contourLevels=ft}if(we){Le=this._field,Te=this.shape;for(var Ve=[],qe=0;qe<3;++qe){var dt=this.contourLevels[qe],ut=[],At=[],wt=[0,0,0];for(ve=0;ve<dt.length;++ve){var kt=_(this._field[qe],dt[ve]);ut.push(Ve.length/5|0),pt=0;e:for(be=0;be<kt.cells.length;++be){var _t=kt.cells[be];for(Ht=0;Ht<2;++Ht){var Rt=kt.positions[_t[Ht]],bt=Rt[0],Tt=0|Math.floor(bt),Ot=bt-Tt,Wt=Rt[1],qt=0|Math.floor(Wt),Jt=Wt-qt,pn=!1;t:for(var en=0;en<3;++en){wt[en]=0;var nn=(qe+en+1)%3;for(Pt=0;Pt<2;++Pt){var dn=Pt?Ot:1-Ot;for(tt=0|Math.min(Math.max(Tt+Pt,0),Te[0]),Ft=0;Ft<2;++Ft){var In=Ft?Jt:1-Jt;if(rt=0|Math.min(Math.max(qt+Ft,0),Te[1]),Lt=en<2?this._field[nn].get(tt,rt):(this.intensity.get(tt,rt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Lt)||isNaN(Lt)){pn=!0;break t}wt[en]+=dn*In*Lt}}}if(pn){if(Ht>0){for(var An=0;An<5;++An)Ve.pop();pt-=1}continue e}Ve.push(wt[0],wt[1],Rt[0],Rt[1],wt[2]),pt+=1}}At.push(pt)}this._contourOffsets[qe]=ut,this._contourCounts[qe]=At}var on=u.mallocFloat(Ve.length);for(ve=0;ve<Ve.length;++ve)on[ve]=Ve[ve];this._contourBuffer.update(on),u.freeFloat(on)}},W.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var de=0;de<3;++de)u.freeFloat(this._field[de].data)},W.highlight=function(de){var he,we;if(!de)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(he=0;he<3;++he)this.highlightLevel[he]=this.enableHighlight[he]?de.level[he]:-1;for(we=this.snapToData?de.dataCoordinate:de.position,he=0;he<3;++he)we[he]-=this.objectOffset[he];if(this.enableDynamic[0]&&we[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&we[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&we[2]!==this.dynamicLevel[2]){for(var Ae=0,Te=this.shape,ve=u.mallocFloat(12*Te[0]*Te[1]),xe=0;xe<3;++xe)if(this.enableDynamic[xe]){this.dynamicLevel[xe]=we[xe];var pe=this._field[(xe+1)%3],fe=this._field[(xe+2)%3],be=_(this._field[xe],we[xe]),Le=be.cells,Oe=be.positions;for(this._dynamicOffsets[xe]=Ae,he=0;he<Le.length;++he)for(var De=Le[he],Ue=0;Ue<2;++Ue){var Ge=Oe[De[Ue]],ye=+Ge[0],Ie=0|ye,Ee=0|Math.min(Ie+1,Te[0]),Be=ye-Ie,We=1-Be,He=+Ge[1],Je=0|He,et=0|Math.min(Je+1,Te[1]),at=He-Je,mt=1-at,ct=We*mt,St=We*at,Dt=Be*mt,Et=Be*at,ht=ct*pe.get(Ie,Je)+St*pe.get(Ie,et)+Dt*pe.get(Ee,Je)+Et*pe.get(Ee,et),pt=ct*fe.get(Ie,Je)+St*fe.get(Ie,et)+Dt*fe.get(Ee,Je)+Et*fe.get(Ee,et);if(isNaN(ht)||isNaN(pt)){Ue&&(Ae-=1);break}ve[2*Ae+0]=ht,ve[2*Ae+1]=pt,Ae+=1}this._dynamicCounts[xe]=Ae-this._dynamicOffsets[xe]}else this.dynamicLevel[xe]=NaN,this._dynamicCounts[xe]=0;this._dynamicBuffer.update(ve.subarray(0,2*Ae)),u.freeFloat(ve)}}},8931:function(v,c,i){"use strict";var s=i(5050),a=i(7498),o=i(5306);v.exports=function(A){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(l||(l=[(k=A).LINEAR,k.NEAREST_MIPMAP_LINEAR,k.LINEAR_MIPMAP_NEAREST,k.LINEAR_MIPMAP_NEAREST],u=[k.NEAREST,k.LINEAR,k.NEAREST_MIPMAP_NEAREST,k.NEAREST_MIPMAP_LINEAR,k.LINEAR_MIPMAP_NEAREST,k.LINEAR_MIPMAP_LINEAR],d=[k.REPEAT,k.CLAMP_TO_EDGE,k.MIRRORED_REPEAT]),"number"==typeof arguments[1])return b(A,arguments[1],arguments[2],arguments[3]||A.RGBA,arguments[4]||A.UNSIGNED_BYTE);var k;if(Array.isArray(arguments[1]))return b(A,0|arguments[1][0],0|arguments[1][1],arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var p=arguments[1],O=m(p)?p:p.raw;if(O)return function(k,I,P,R,N,j){var X=x(k);return k.texImage2D(k.TEXTURE_2D,0,N,N,j,I),new _(k,X,P,R,N,j)}(A,O,0|p.width,0|p.height,arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(p.shape&&p.data&&p.stride)return function(k,I){var P=I.dtype,R=I.shape.slice(),N=k.getParameter(k.MAX_TEXTURE_SIZE);if(R[0]<0||R[0]>N||R[1]<0||R[1]>N)throw new Error("gl-texture2d: Invalid texture size");var j=w(R,I.stride.slice()),X=0;"float32"===P?X=k.FLOAT:"float64"===P?(X=k.FLOAT,j=!1,P="float32"):"uint8"===P?X=k.UNSIGNED_BYTE:(X=k.UNSIGNED_BYTE,j=!1,P="uint8");var F,Z,W=0;if(2===R.length)W=k.LUMINANCE,I=s(I.data,R=[R[0],R[1],1],[I.stride[0],I.stride[1],1],I.offset);else{if(3!==R.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===R[2])W=k.ALPHA;else if(2===R[2])W=k.LUMINANCE_ALPHA;else if(3===R[2])W=k.RGB;else{if(4!==R[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");W=k.RGBA}}X!==k.FLOAT||k.getExtension("OES_texture_float")||(X=k.UNSIGNED_BYTE,j=!1);var H=I.size;if(j)F=0===I.offset&&I.data.length===H?I.data:I.data.subarray(I.offset,I.offset+H);else{var G=[R[2],R[2]*R[0],1];Z=o.malloc(H,P);var Y=s(Z,R,G,0);"float32"!==P&&"float64"!==P||X!==k.UNSIGNED_BYTE?a.assign(Y,I):h(Y,I),F=Z.subarray(0,H)}var se=x(k);return k.texImage2D(k.TEXTURE_2D,0,W,R[0],R[1],0,W,X,F),j||o.free(Z),new _(k,se,R[0],R[1],W,X)}(A,p)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var l=null,u=null,d=null;function m(A){return typeof HTMLCanvasElement<"u"&&A instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&A instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&A instanceof HTMLVideoElement||typeof ImageData<"u"&&A instanceof ImageData}var h=function(A,p){a.muls(A,p,255)};function T(A,p,O){var k=A.gl,I=k.getParameter(k.MAX_TEXTURE_SIZE);if(p<0||p>I||O<0||O>I)throw new Error("gl-texture2d: Invalid texture size");return A._shape=[p,O],A.bind(),k.texImage2D(k.TEXTURE_2D,0,A.format,p,O,0,A.format,A.type,null),A._mipLevels=[0],A}function _(A,p,O,k,I,P){this.gl=A,this.handle=p,this.format=I,this.type=P,this._shape=[O,k],this._mipLevels=[0],this._magFilter=A.NEAREST,this._minFilter=A.NEAREST,this._wrapS=A.CLAMP_TO_EDGE,this._wrapT=A.CLAMP_TO_EDGE,this._anisoSamples=1;var R=this,N=[this._wrapS,this._wrapT];Object.defineProperties(N,[{get:function(){return R._wrapS},set:function(X){return R.wrapS=X}},{get:function(){return R._wrapT},set:function(X){return R.wrapT=X}}]),this._wrapVector=N;var j=[this._shape[0],this._shape[1]];Object.defineProperties(j,[{get:function(){return R._shape[0]},set:function(X){return R.width=X}},{get:function(){return R._shape[1]},set:function(X){return R.height=X}}]),this._shapeVector=j}var g=_.prototype;function w(A,p){return 3===A.length?1===p[2]&&p[1]===A[0]*A[2]&&p[0]===A[2]:1===p[0]&&p[1]===A[0]}function x(A){var p=A.createTexture();return A.bindTexture(A.TEXTURE_2D,p),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),p}function b(A,p,O,k,I){var P=A.getParameter(A.MAX_TEXTURE_SIZE);if(p<0||p>P||O<0||O>P)throw new Error("gl-texture2d: Invalid texture shape");if(I===A.FLOAT&&!A.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var R=x(A);return A.texImage2D(A.TEXTURE_2D,0,k,p,O,0,k,I,null),new _(A,R,p,O,k,I)}Object.defineProperties(g,{minFilter:{get:function(){return this._minFilter},set:function(A){this.bind();var p=this.gl;if(this.type===p.FLOAT&&l.indexOf(A)>=0&&(p.getExtension("OES_texture_float_linear")||(A=p.NEAREST)),u.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,A),this._minFilter=A}},magFilter:{get:function(){return this._magFilter},set:function(A){this.bind();var p=this.gl;if(this.type===p.FLOAT&&l.indexOf(A)>=0&&(p.getExtension("OES_texture_float_linear")||(A=p.NEAREST)),u.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,A),this._magFilter=A}},mipSamples:{get:function(){return this._anisoSamples},set:function(A){var p=this._anisoSamples;if(this._anisoSamples=0|Math.max(A,1),p!==this._anisoSamples){var O=this.gl.getExtension("EXT_texture_filter_anisotropic");O&&this.gl.texParameterf(this.gl.TEXTURE_2D,O.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(A){if(this.bind(),d.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,A),this._wrapS=A}},wrapT:{get:function(){return this._wrapT},set:function(A){if(this.bind(),d.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,A),this._wrapT=A}},wrap:{get:function(){return this._wrapVector},set:function(A){if(Array.isArray(A)||(A=[A,A]),2!==A.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var p=0;p<2;++p)if(d.indexOf(A[p])<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);this._wrapS=A[0],this._wrapT=A[1];var O=this.gl;return this.bind(),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,this._wrapS),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,this._wrapT),A}},shape:{get:function(){return this._shapeVector},set:function(A){if(Array.isArray(A)){if(2!==A.length)throw new Error("gl-texture2d: Invalid texture shape")}else A=[0|A,0|A];return T(this,0|A[0],0|A[1]),[0|A[0],0|A[1]]}},width:{get:function(){return this._shape[0]},set:function(A){return T(this,A|=0,this._shape[1]),A}},height:{get:function(){return this._shape[1]},set:function(A){return T(this,this._shape[0],A|=0),A}}}),g.bind=function(A){var p=this.gl;return void 0!==A&&p.activeTexture(p.TEXTURE0+(0|A)),p.bindTexture(p.TEXTURE_2D,this.handle),void 0!==A?0|A:p.getParameter(p.ACTIVE_TEXTURE)-p.TEXTURE0},g.dispose=function(){this.gl.deleteTexture(this.handle)},g.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var A=Math.min(this._shape[0],this._shape[1]),p=0;A>0;++p,A>>>=1)this._mipLevels.indexOf(p)<0&&this._mipLevels.push(p)},g.setPixels=function(A,p,O,k){var I=this.gl;this.bind(),Array.isArray(p)?(k=O,O=0|p[1],p=0|p[0]):(p=p||0,O=O||0),k=k||0;var P=m(A)?A:A.raw;if(P)this._mipLevels.indexOf(k)<0?(I.texImage2D(I.TEXTURE_2D,0,this.format,this.format,this.type,P),this._mipLevels.push(k)):I.texSubImage2D(I.TEXTURE_2D,k,p,O,this.format,this.type,P);else{if(!(A.shape&&A.stride&&A.data))throw new Error("gl-texture2d: Unsupported data type");if(A.shape.length<2||p+A.shape[1]>this._shape[1]>>>k||O+A.shape[0]>this._shape[0]>>>k||p<0||O<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(R,N,j,X,F,Z,W,H){var G=H.dtype,Y=H.shape.slice();if(Y.length<2||Y.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var se=0,te=0,re=w(Y,H.stride.slice());if("float32"===G?se=R.FLOAT:"float64"===G?(se=R.FLOAT,re=!1,G="float32"):"uint8"===G?se=R.UNSIGNED_BYTE:(se=R.UNSIGNED_BYTE,re=!1,G="uint8"),2===Y.length)te=R.LUMINANCE,H=s(H.data,Y=[Y[0],Y[1],1],[H.stride[0],H.stride[1],1],H.offset);else{if(3!==Y.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===Y[2])te=R.ALPHA;else if(2===Y[2])te=R.LUMINANCE_ALPHA;else if(3===Y[2])te=R.RGB;else{if(4!==Y[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");te=R.RGBA}}if(te!==R.LUMINANCE&&te!==R.ALPHA||F!==R.LUMINANCE&&F!==R.ALPHA||(te=F),te!==F)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var Q=H.size,ee=W.indexOf(X)<0;if(ee&&W.push(X),se===Z&&re)0===H.offset&&H.data.length===Q?ee?R.texImage2D(R.TEXTURE_2D,X,F,Y[0],Y[1],0,F,Z,H.data):R.texSubImage2D(R.TEXTURE_2D,X,N,j,Y[0],Y[1],F,Z,H.data):ee?R.texImage2D(R.TEXTURE_2D,X,F,Y[0],Y[1],0,F,Z,H.data.subarray(H.offset,H.offset+Q)):R.texSubImage2D(R.TEXTURE_2D,X,N,j,Y[0],Y[1],F,Z,H.data.subarray(H.offset,H.offset+Q));else{var oe;oe=Z===R.FLOAT?o.mallocFloat32(Q):o.mallocUint8(Q);var le=s(oe,Y,[Y[2],Y[2]*Y[0],1]);se===R.FLOAT&&Z===R.UNSIGNED_BYTE?h(le,H):a.assign(le,H),ee?R.texImage2D(R.TEXTURE_2D,X,F,Y[0],Y[1],0,F,Z,oe.subarray(0,Q)):R.texSubImage2D(R.TEXTURE_2D,X,N,j,Y[0],Y[1],F,Z,oe.subarray(0,Q)),Z===R.FLOAT?o.freeFloat32(oe):o.freeUint8(oe)}}(I,p,O,k,this.format,this.type,this._mipLevels,A)}}},3056:function(v){"use strict";v.exports=function(c,i,s){i?i.bind():c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null);var a=0|c.getParameter(c.MAX_VERTEX_ATTRIBS);if(s){if(s.length>a)throw new Error("gl-vao: Too many vertex attributes");for(var o=0;o<s.length;++o){var l=s[o];if(l.buffer){var d=l.size||4,m=l.type||c.FLOAT,h=!!l.normalized,T=l.stride||0,_=l.offset||0;l.buffer.bind(),c.enableVertexAttribArray(o),c.vertexAttribPointer(o,d,m,h,T,_)}else{if("number"==typeof l)c.vertexAttrib1f(o,l);else if(1===l.length)c.vertexAttrib1f(o,l[0]);else if(2===l.length)c.vertexAttrib2f(o,l[0],l[1]);else if(3===l.length)c.vertexAttrib3f(o,l[0],l[1],l[2]);else{if(4!==l.length)throw new Error("gl-vao: Invalid vertex attribute");c.vertexAttrib4f(o,l[0],l[1],l[2],l[3])}c.disableVertexAttribArray(o)}}for(;o<a;++o)c.disableVertexAttribArray(o)}else for(c.bindBuffer(c.ARRAY_BUFFER,null),o=0;o<a;++o)c.disableVertexAttribArray(o)}},7220:function(v,c,i){"use strict";var s=i(3056);function a(o){this.gl=o,this._elements=null,this._attributes=null,this._elementsType=o.UNSIGNED_SHORT}a.prototype.bind=function(){s(this.gl,this._elements,this._attributes)},a.prototype.update=function(o,l,u){this._elements=l,this._attributes=o,this._elementsType=u||this.gl.UNSIGNED_SHORT},a.prototype.dispose=function(){},a.prototype.unbind=function(){},a.prototype.draw=function(o,l,u){u=u||0;var d=this.gl;this._elements?d.drawElements(o,l,this._elementsType,u):d.drawArrays(o,u,l)},v.exports=function(o){return new a(o)}},3778:function(v,c,i){"use strict";var s=i(3056);function a(l,u,d,m,h,T){this.location=l,this.dimension=u,this.a=d,this.b=m,this.c=h,this.d=T}function o(l,u,d){this.gl=l,this._ext=u,this.handle=d,this._attribs=[],this._useElements=!1,this._elementsType=l.UNSIGNED_SHORT}a.prototype.bind=function(l){switch(this.dimension){case 1:l.vertexAttrib1f(this.location,this.a);break;case 2:l.vertexAttrib2f(this.location,this.a,this.b);break;case 3:l.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:l.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},o.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var l=0;l<this._attribs.length;++l)this._attribs[l].bind(this.gl)},o.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},o.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},o.prototype.update=function(l,u,d){if(this.bind(),s(this.gl,u,l),this.unbind(),this._attribs.length=0,l)for(var m=0;m<l.length;++m){var h=l[m];"number"==typeof h?this._attribs.push(new a(m,1,h)):Array.isArray(h)&&this._attribs.push(new a(m,h.length,h[0],h[1],h[2],h[3]))}this._useElements=!!u,this._elementsType=d||this.gl.UNSIGNED_SHORT},o.prototype.draw=function(l,u,d){d=d||0;var m=this.gl;this._useElements?m.drawElements(l,u,this._elementsType,d):m.drawArrays(l,d,u)},v.exports=function(l,u){return new o(l,u,u.createVertexArrayOES())}},2944:function(v,c,i){"use strict";var s=i(3778),a=i(7220);function o(l){this.bindVertexArrayOES=l.bindVertexArray.bind(l),this.createVertexArrayOES=l.createVertexArray.bind(l),this.deleteVertexArrayOES=l.deleteVertexArray.bind(l)}v.exports=function(l,u,d,m){var h,T=l.createVertexArray?new o(l):l.getExtension("OES_vertex_array_object");return(h=T?s(l,T):a(l)).update(u,d,m),h}},2598:function(v){v.exports=function(c,i,s){return c[0]=i[0]+s[0],c[1]=i[1]+s[1],c[2]=i[2]+s[2],c}},5879:function(v,c,i){v.exports=function(l,u){var d=s(l[0],l[1],l[2]),m=s(u[0],u[1],u[2]);a(d,d),a(m,m);var h=o(d,m);return h>1?0:Math.acos(h)};var s=i(5415),a=i(899),o=i(9305)},8827:function(v){v.exports=function(c,i){return c[0]=Math.ceil(i[0]),c[1]=Math.ceil(i[1]),c[2]=Math.ceil(i[2]),c}},7622:function(v){v.exports=function(c){var i=new Float32Array(3);return i[0]=c[0],i[1]=c[1],i[2]=c[2],i}},8782:function(v){v.exports=function(c,i){return c[0]=i[0],c[1]=i[1],c[2]=i[2],c}},8501:function(v){v.exports=function(){var c=new Float32Array(3);return c[0]=0,c[1]=0,c[2]=0,c}},903:function(v){v.exports=function(c,i,s){var a=i[0],o=i[1],l=i[2],u=s[0],d=s[1],m=s[2];return c[0]=o*m-l*d,c[1]=l*u-a*m,c[2]=a*d-o*u,c}},5981:function(v,c,i){v.exports=i(8288)},8288:function(v){v.exports=function(c,i){var s=i[0]-c[0],a=i[1]-c[1],o=i[2]-c[2];return Math.sqrt(s*s+a*a+o*o)}},8629:function(v,c,i){v.exports=i(7979)},7979:function(v){v.exports=function(c,i,s){return c[0]=i[0]/s[0],c[1]=i[1]/s[1],c[2]=i[2]/s[2],c}},9305:function(v){v.exports=function(c,i){return c[0]*i[0]+c[1]*i[1]+c[2]*i[2]}},154:function(v){v.exports=1e-6},4932:function(v,c,i){v.exports=function(a,o){var l=a[0],u=a[1],d=a[2],m=o[0],h=o[1],T=o[2];return Math.abs(l-m)<=s*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(u-h)<=s*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(d-T)<=s*Math.max(1,Math.abs(d),Math.abs(T))};var s=i(154)},5777:function(v){v.exports=function(c,i){return c[0]===i[0]&&c[1]===i[1]&&c[2]===i[2]}},3306:function(v){v.exports=function(c,i){return c[0]=Math.floor(i[0]),c[1]=Math.floor(i[1]),c[2]=Math.floor(i[2]),c}},7447:function(v,c,i){v.exports=function(a,o,l,u,d,m){var h,T;for(o||(o=3),l||(l=0),T=u?Math.min(u*o+l,a.length):a.length,h=l;h<T;h+=o)s[0]=a[h],s[1]=a[h+1],s[2]=a[h+2],d(s,s,m),a[h]=s[0],a[h+1]=s[1],a[h+2]=s[2];return a};var s=i(8501)()},5415:function(v){v.exports=function(c,i,s){var a=new Float32Array(3);return a[0]=c,a[1]=i,a[2]=s,a}},2858:function(v,c,i){v.exports={EPSILON:i(154),create:i(8501),clone:i(7622),angle:i(5879),fromValues:i(5415),copy:i(8782),set:i(831),equals:i(4932),exactEquals:i(5777),add:i(2598),subtract:i(911),sub:i(8921),multiply:i(105),mul:i(5733),divide:i(7979),div:i(8629),min:i(3605),max:i(1716),floor:i(3306),ceil:i(8827),round:i(1624),scale:i(5685),scaleAndAdd:i(6722),distance:i(8288),dist:i(5981),squaredDistance:i(6403),sqrDist:i(5294),length:i(4693),len:i(1468),squaredLength:i(4337),sqrLen:i(3303),negate:i(435),inverse:i(2073),normalize:i(899),dot:i(9305),cross:i(903),lerp:i(1868),random:i(6660),transformMat4:i(3255),transformMat3:i(9908),transformQuat:i(6568),rotateX:i(392),rotateY:i(3222),rotateZ:i(3388),forEach:i(7447)}},2073:function(v){v.exports=function(c,i){return c[0]=1/i[0],c[1]=1/i[1],c[2]=1/i[2],c}},1468:function(v,c,i){v.exports=i(4693)},4693:function(v){v.exports=function(c){var i=c[0],s=c[1],a=c[2];return Math.sqrt(i*i+s*s+a*a)}},1868:function(v){v.exports=function(c,i,s,a){var o=i[0],l=i[1],u=i[2];return c[0]=o+a*(s[0]-o),c[1]=l+a*(s[1]-l),c[2]=u+a*(s[2]-u),c}},1716:function(v){v.exports=function(c,i,s){return c[0]=Math.max(i[0],s[0]),c[1]=Math.max(i[1],s[1]),c[2]=Math.max(i[2],s[2]),c}},3605:function(v){v.exports=function(c,i,s){return c[0]=Math.min(i[0],s[0]),c[1]=Math.min(i[1],s[1]),c[2]=Math.min(i[2],s[2]),c}},5733:function(v,c,i){v.exports=i(105)},105:function(v){v.exports=function(c,i,s){return c[0]=i[0]*s[0],c[1]=i[1]*s[1],c[2]=i[2]*s[2],c}},435:function(v){v.exports=function(c,i){return c[0]=-i[0],c[1]=-i[1],c[2]=-i[2],c}},899:function(v){v.exports=function(c,i){var s=i[0],a=i[1],o=i[2],l=s*s+a*a+o*o;return l>0&&(l=1/Math.sqrt(l),c[0]=i[0]*l,c[1]=i[1]*l,c[2]=i[2]*l),c}},6660:function(v){v.exports=function(c,i){i=i||1;var s=2*Math.random()*Math.PI,a=2*Math.random()-1,o=Math.sqrt(1-a*a)*i;return c[0]=Math.cos(s)*o,c[1]=Math.sin(s)*o,c[2]=a*i,c}},392:function(v){v.exports=function(c,i,s,a){var o=s[1],l=s[2],u=i[1]-o,d=i[2]-l,m=Math.sin(a),h=Math.cos(a);return c[0]=i[0],c[1]=o+u*h-d*m,c[2]=l+u*m+d*h,c}},3222:function(v){v.exports=function(c,i,s,a){var o=s[0],l=s[2],u=i[0]-o,d=i[2]-l,m=Math.sin(a),h=Math.cos(a);return c[0]=o+d*m+u*h,c[1]=i[1],c[2]=l+d*h-u*m,c}},3388:function(v){v.exports=function(c,i,s,a){var o=s[0],l=s[1],u=i[0]-o,d=i[1]-l,m=Math.sin(a),h=Math.cos(a);return c[0]=o+u*h-d*m,c[1]=l+u*m+d*h,c[2]=i[2],c}},1624:function(v){v.exports=function(c,i){return c[0]=Math.round(i[0]),c[1]=Math.round(i[1]),c[2]=Math.round(i[2]),c}},5685:function(v){v.exports=function(c,i,s){return c[0]=i[0]*s,c[1]=i[1]*s,c[2]=i[2]*s,c}},6722:function(v){v.exports=function(c,i,s,a){return c[0]=i[0]+s[0]*a,c[1]=i[1]+s[1]*a,c[2]=i[2]+s[2]*a,c}},831:function(v){v.exports=function(c,i,s,a){return c[0]=i,c[1]=s,c[2]=a,c}},5294:function(v,c,i){v.exports=i(6403)},3303:function(v,c,i){v.exports=i(4337)},6403:function(v){v.exports=function(c,i){var s=i[0]-c[0],a=i[1]-c[1],o=i[2]-c[2];return s*s+a*a+o*o}},4337:function(v){v.exports=function(c){var i=c[0],s=c[1],a=c[2];return i*i+s*s+a*a}},8921:function(v,c,i){v.exports=i(911)},911:function(v){v.exports=function(c,i,s){return c[0]=i[0]-s[0],c[1]=i[1]-s[1],c[2]=i[2]-s[2],c}},9908:function(v){v.exports=function(c,i,s){var a=i[0],o=i[1],l=i[2];return c[0]=a*s[0]+o*s[3]+l*s[6],c[1]=a*s[1]+o*s[4]+l*s[7],c[2]=a*s[2]+o*s[5]+l*s[8],c}},3255:function(v){v.exports=function(c,i,s){var a=i[0],o=i[1],l=i[2],u=s[3]*a+s[7]*o+s[11]*l+s[15];return c[0]=(s[0]*a+s[4]*o+s[8]*l+s[12])/(u=u||1),c[1]=(s[1]*a+s[5]*o+s[9]*l+s[13])/u,c[2]=(s[2]*a+s[6]*o+s[10]*l+s[14])/u,c}},6568:function(v){v.exports=function(c,i,s){var a=i[0],o=i[1],l=i[2],u=s[0],d=s[1],m=s[2],h=s[3],T=h*a+d*l-m*o,_=h*o+m*a-u*l,g=h*l+u*o-d*a,w=-u*a-d*o-m*l;return c[0]=T*h+w*-u+_*-m-g*-d,c[1]=_*h+w*-d+g*-u-T*-m,c[2]=g*h+w*-m+T*-d-_*-u,c}},3433:function(v){v.exports=function(c,i,s){return c[0]=i[0]+s[0],c[1]=i[1]+s[1],c[2]=i[2]+s[2],c[3]=i[3]+s[3],c}},1413:function(v){v.exports=function(c){var i=new Float32Array(4);return i[0]=c[0],i[1]=c[1],i[2]=c[2],i[3]=c[3],i}},3470:function(v){v.exports=function(c,i){return c[0]=i[0],c[1]=i[1],c[2]=i[2],c[3]=i[3],c}},5313:function(v){v.exports=function(){var c=new Float32Array(4);return c[0]=0,c[1]=0,c[2]=0,c[3]=0,c}},5446:function(v){v.exports=function(c,i){var s=i[0]-c[0],a=i[1]-c[1],o=i[2]-c[2],l=i[3]-c[3];return Math.sqrt(s*s+a*a+o*o+l*l)}},205:function(v){v.exports=function(c,i,s){return c[0]=i[0]/s[0],c[1]=i[1]/s[1],c[2]=i[2]/s[2],c[3]=i[3]/s[3],c}},4242:function(v){v.exports=function(c,i){return c[0]*i[0]+c[1]*i[1]+c[2]*i[2]+c[3]*i[3]}},5680:function(v){v.exports=function(c,i,s,a){var o=new Float32Array(4);return o[0]=c,o[1]=i,o[2]=s,o[3]=a,o}},4020:function(v,c,i){v.exports={create:i(5313),clone:i(1413),fromValues:i(5680),copy:i(3470),set:i(6453),add:i(3433),subtract:i(2705),multiply:i(746),divide:i(205),min:i(2170),max:i(3030),scale:i(5510),scaleAndAdd:i(4224),distance:i(5446),squaredDistance:i(1542),length:i(8177),squaredLength:i(9037),negate:i(6459),inverse:i(8057),normalize:i(381),dot:i(4242),lerp:i(8746),random:i(3770),transformMat4:i(6342),transformQuat:i(5022)}},8057:function(v){v.exports=function(c,i){return c[0]=1/i[0],c[1]=1/i[1],c[2]=1/i[2],c[3]=1/i[3],c}},8177:function(v){v.exports=function(c){var i=c[0],s=c[1],a=c[2],o=c[3];return Math.sqrt(i*i+s*s+a*a+o*o)}},8746:function(v){v.exports=function(c,i,s,a){var o=i[0],l=i[1],u=i[2],d=i[3];return c[0]=o+a*(s[0]-o),c[1]=l+a*(s[1]-l),c[2]=u+a*(s[2]-u),c[3]=d+a*(s[3]-d),c}},3030:function(v){v.exports=function(c,i,s){return c[0]=Math.max(i[0],s[0]),c[1]=Math.max(i[1],s[1]),c[2]=Math.max(i[2],s[2]),c[3]=Math.max(i[3],s[3]),c}},2170:function(v){v.exports=function(c,i,s){return c[0]=Math.min(i[0],s[0]),c[1]=Math.min(i[1],s[1]),c[2]=Math.min(i[2],s[2]),c[3]=Math.min(i[3],s[3]),c}},746:function(v){v.exports=function(c,i,s){return c[0]=i[0]*s[0],c[1]=i[1]*s[1],c[2]=i[2]*s[2],c[3]=i[3]*s[3],c}},6459:function(v){v.exports=function(c,i){return c[0]=-i[0],c[1]=-i[1],c[2]=-i[2],c[3]=-i[3],c}},381:function(v){v.exports=function(c,i){var s=i[0],a=i[1],o=i[2],l=i[3],u=s*s+a*a+o*o+l*l;return u>0&&(u=1/Math.sqrt(u),c[0]=s*u,c[1]=a*u,c[2]=o*u,c[3]=l*u),c}},3770:function(v,c,i){var s=i(381),a=i(5510);v.exports=function(o,l){return l=l||1,o[0]=Math.random(),o[1]=Math.random(),o[2]=Math.random(),o[3]=Math.random(),s(o,o),a(o,o,l),o}},5510:function(v){v.exports=function(c,i,s){return c[0]=i[0]*s,c[1]=i[1]*s,c[2]=i[2]*s,c[3]=i[3]*s,c}},4224:function(v){v.exports=function(c,i,s,a){return c[0]=i[0]+s[0]*a,c[1]=i[1]+s[1]*a,c[2]=i[2]+s[2]*a,c[3]=i[3]+s[3]*a,c}},6453:function(v){v.exports=function(c,i,s,a,o){return c[0]=i,c[1]=s,c[2]=a,c[3]=o,c}},1542:function(v){v.exports=function(c,i){var s=i[0]-c[0],a=i[1]-c[1],o=i[2]-c[2],l=i[3]-c[3];return s*s+a*a+o*o+l*l}},9037:function(v){v.exports=function(c){var i=c[0],s=c[1],a=c[2],o=c[3];return i*i+s*s+a*a+o*o}},2705:function(v){v.exports=function(c,i,s){return c[0]=i[0]-s[0],c[1]=i[1]-s[1],c[2]=i[2]-s[2],c[3]=i[3]-s[3],c}},6342:function(v){v.exports=function(c,i,s){var a=i[0],o=i[1],l=i[2],u=i[3];return c[0]=s[0]*a+s[4]*o+s[8]*l+s[12]*u,c[1]=s[1]*a+s[5]*o+s[9]*l+s[13]*u,c[2]=s[2]*a+s[6]*o+s[10]*l+s[14]*u,c[3]=s[3]*a+s[7]*o+s[11]*l+s[15]*u,c}},5022:function(v){v.exports=function(c,i,s){var a=i[0],o=i[1],l=i[2],u=s[0],d=s[1],m=s[2],h=s[3],T=h*a+d*l-m*o,_=h*o+m*a-u*l,g=h*l+u*o-d*a,w=-u*a-d*o-m*l;return c[0]=T*h+w*-u+_*-m-g*-d,c[1]=_*h+w*-d+g*-u-T*-m,c[2]=g*h+w*-m+T*-d-_*-u,c[3]=i[3],c}},9365:function(v,c,i){var s=i(8096),a=i(7896);v.exports=function(o){for(var l=Array.isArray(o)?o:s(o),u=0;u<l.length;u++){var d=l[u];if("preprocessor"===d.type){var m=d.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(m&&m[2]){var T=m[2];return(m[1]?a(T):T).trim()}}}}},3193:function(v,c,i){v.exports=function(R){var N,j,X,F=0,Z=0,W=d,H=[],G=[],Y=1,se=0,te=0,re=!1,Q=!1,ee="",oe=o,le=s;"300 es"===(R=R||{}).version&&(oe=u,le=l);var ue={},de={};for(F=0;F<oe.length;F++)ue[oe[F]]=!0;for(F=0;F<le.length;F++)de[le[F]]=!0;return function(be){return G=[],null!==be?function(Le){var Oe;for(F=0,Le.toString&&(Le=Le.toString()),ee+=Le.replace(/\r\n/g,"\n"),X=ee.length;N=ee[F],F<X;){switch(Oe=F,W){case h:F="/"===N&&"*"===j?(H.push(N),he(H.join("")),W=d,F+1):(H.push(N),j=N,F+1);break;case T:case _:F="\r"!==N&&"\n"!==N||"\\"===j?(H.push(N),j=N,F+1):(he(H.join("")),W=d,F);break;case g:F=xe();break;case w:F="."===N||/[eE]/.test(N)?(H.push(N),W=x,j=N,F+1):"x"===N&&1===H.length&&"0"===H[0]?(W=I,H.push(N),j=N,F+1):/[^\d]/.test(N)?(he(H.join("")),W=d,F):(H.push(N),j=N,F+1);break;case I:F=/[^a-fA-F0-9]/.test(N)?(he(H.join("")),W=d,F):(H.push(N),j=N,F+1);break;case x:"f"===N&&(H.push(N),j=N,F+=1),F=/[eE]/.test(N)?(H.push(N),j=N,F+1):("-"!==N&&"+"!==N||!/[eE]/.test(j))&&/[^\d]/.test(N)?(he(H.join("")),W=d,F):(H.push(N),j=N,F+1);break;case m:F=fe();break;case O:F=/[^\s]/g.test(N)?(he(H.join("")),W=d,F):(H.push(N),j=N,F+1);break;case d:H=H.length?[]:H,F="/"===j&&"*"===N?(te=Z+F-1,W=h,j=N,F+1):"/"===j&&"/"===N?(te=Z+F-1,W=T,j=N,F+1):"#"===N?(W=_,te=Z+F,F):/\s/.test(N)?(W=O,te=Z+F,F):(re=/\d/.test(N),Q=/[^\w_]/.test(N),te=Z+F,W=re?w:Q?g:m,F)}Oe!==F&&("\n"===ee[Oe]?(se=0,++Y):++se)}return Z+=F,ee=ee.slice(F),G}(be):(H.length&&he(H.join("")),W=k,he("(eof)"),G)};function he(be){be.length&&G.push({type:P[W],data:be,position:te,line:Y,column:se})}function xe(){if("."===j&&/\d/.test(N))return W=x,F;if("/"===j&&"*"===N)return W=h,F;if("/"===j&&"/"===N)return W=T,F;if("."===N&&H.length){for(;Fe(H););return W=x,F}if(";"===N||")"===N||"("===N){if(H.length)for(;Fe(H););return he(N),W=d,F+1}var be=2===H.length&&"="!==N;if(/[\w_\d\s]/.test(N)||be){for(;Fe(H););return W=d,F}return H.push(N),j=N,F+1}function Fe(be){for(var Le,Oe,De=0;;){if(Le=a.indexOf(be.slice(0,be.length+De).join("")),Oe=a[Le],-1===Le){if(De--+be.length>0)continue;Oe=be.slice(0,1).join("")}return he(Oe),te+=Oe.length,(H=H.slice(Oe.length)).length}}function fe(){if(/[^\d\w_]/.test(N)){var be=H.join("");return W=de[be]?p:ue[be]?A:b,he(H.join("")),W=d,F}return H.push(N),j=N,F+1}};var s=i(399),a=i(9746),o=i(9525),l=i(9458),u=i(3585),d=999,m=9999,h=0,T=1,_=2,g=3,w=4,x=5,b=6,A=7,p=8,O=9,k=10,I=11,P=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(v,c,i){var s=i(9525);s=s.slice().filter(function(a){return!/^(gl\_|texture)/.test(a)}),v.exports=s.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,c,i){var s=i(399);v.exports=s.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,c,i){var s=i(3193);v.exports=function(a,o){var l=s(o),u=[];return(u=u.concat(l(a))).concat(l(null))}},6832:function(v){v.exports=function(c){"string"==typeof c&&(c=[c]);for(var i=[].slice.call(arguments,1),s=[],a=0;a<c.length-1;a++)s.push(c[a],i[a]||"");return s.push(c[a]),s.join("")}},5233:function(v,c,i){"use strict";var s=i(4846);v.exports=s&&function(){var a=!1;try{var o=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch{a=!1}return a}()},2183:function(v,c,i){"use strict";v.exports=function(T,_){var g=T.length;if(0===g)throw new Error("Must have at least d+1 points");var w=T[0].length;if(g<=w)throw new Error("Must input at least d+1 points");var x=T.slice(0,w+1),b=s.apply(void 0,x);if(0===b)throw new Error("Input not in general position");for(var A=new Array(w+1),p=0;p<=w;++p)A[p]=p;b<0&&(A[0]=1,A[1]=0);var O=new o(A,new Array(w+1),!1),k=O.adjacent,I=new Array(w+2);for(p=0;p<=w;++p){for(var P=A.slice(),R=0;R<=w;++R)R===p&&(P[R]=-1);var N=P[0];P[0]=P[1],P[1]=N;var j=new o(P,new Array(w+1),!0);k[p]=j,I[p]=j}for(I[w+1]=O,p=0;p<=w;++p){P=k[p].vertices;var X=k[p].adjacent;for(R=0;R<=w;++R){var F=P[R];if(F<0)X[R]=O;else for(var Z=0;Z<=w;++Z)k[Z].vertices.indexOf(F)<0&&(X[R]=k[Z])}}var W=new m(w,x,I),H=!!_;for(p=w+1;p<g;++p)W.insert(T[p],H);return W.boundary()};var s=i(417),a=i(8211).H;function o(T,_,g){this.vertices=T,this.adjacent=_,this.boundary=g,this.lastVisited=-1}function l(T,_,g){this.vertices=T,this.cell=_,this.index=g}function u(T,_){return a(T.vertices,_.vertices)}o.prototype.flip=function(){var T=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=T;var _=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=_};var d=[];function m(T,_,g){this.dimension=T,this.vertices=_,this.simplices=g,this.interior=g.filter(function(A){return!A.boundary}),this.tuple=new Array(T+1);for(var w=0;w<=T;++w)this.tuple[w]=this.vertices[w];var x,A,b=d[T];b||(b=d[T]=((x=s[T+1])||(x=s),A=x,function(){return A.apply(this,this.tuple)})),this.orient=b}var h=m.prototype;h.handleBoundaryDegeneracy=function(T,_){var g=this.dimension,w=this.vertices.length-1,x=this.tuple,b=this.vertices,A=[T];for(T.lastVisited=-w;A.length>0;)for(var p=(T=A.pop()).adjacent,O=0;O<=g;++O){var k=p[O];if(k.boundary&&!(k.lastVisited<=-w)){for(var I=k.vertices,P=0;P<=g;++P){var R=I[P];x[P]=R<0?_:b[R]}var N=this.orient();if(N>0)return k;k.lastVisited=-w,0===N&&A.push(k)}}return null},h.walk=function(T,_){var g=this.vertices.length-1,w=this.dimension,x=this.vertices,b=this.tuple,A=_?this.interior.length*Math.random()|0:this.interior.length-1,p=this.interior[A];e:for(;!p.boundary;){for(var O=p.vertices,k=p.adjacent,I=0;I<=w;++I)b[I]=x[O[I]];for(p.lastVisited=g,I=0;I<=w;++I){var P=k[I];if(!(P.lastVisited>=g)){var R=b[I];b[I]=T;var N=this.orient();if(b[I]=R,N<0){p=P;continue e}P.lastVisited=P.boundary?-g:g}}return}return p},h.addPeaks=function(T,_){var g=this.vertices.length-1,w=this.dimension,x=this.vertices,b=this.tuple,A=this.interior,p=this.simplices,O=[_];_.lastVisited=g,_.vertices[_.vertices.indexOf(-1)]=g,_.boundary=!1,A.push(_);for(var k=[];O.length>0;){var I=(_=O.pop()).vertices,P=_.adjacent,R=I.indexOf(g);if(!(R<0))for(var N=0;N<=w;++N)if(N!==R){var j=P[N];if(j.boundary&&!(j.lastVisited>=g)){var X=j.vertices;if(j.lastVisited!==-g){for(var F=0,Z=0;Z<=w;++Z)X[Z]<0?(F=Z,b[Z]=T):b[Z]=x[X[Z]];if(this.orient()>0){X[F]=g,j.boundary=!1,A.push(j),O.push(j),j.lastVisited=g;continue}j.lastVisited=-g}var W=j.adjacent,H=I.slice(),G=P.slice(),Y=new o(H,G,!0);p.push(Y);var se=W.indexOf(_);if(!(se<0))for(W[se]=Y,G[R]=j,H[N]=-1,G[N]=_,P[N]=Y,Y.flip(),Z=0;Z<=w;++Z){var te=H[Z];if(!(te<0||te===g)){for(var re=new Array(w-1),Q=0,ee=0;ee<=w;++ee){var oe=H[ee];oe<0||ee===Z||(re[Q++]=oe)}k.push(new l(re,Y,Z))}}}}}for(k.sort(u),N=0;N+1<k.length;N+=2){var le=k[N],ue=k[N+1];le.index<0||ue.index<0||(le.cell.adjacent[le.index]=ue.cell,ue.cell.adjacent[ue.index]=le.cell)}},h.insert=function(T,_){var g=this.vertices;g.push(T);var w=this.walk(T,_);if(w){for(var x=this.dimension,b=this.tuple,A=0;A<=x;++A){var p=w.vertices[A];b[A]=p<0?T:g[p]}var O=this.orient(b);O<0||(0!==O||(w=this.handleBoundaryDegeneracy(w,T)))&&this.addPeaks(T,w)}},h.boundary=function(){for(var T=this.dimension,_=[],g=this.simplices,w=g.length,x=0;x<w;++x){var b=g[x];if(b.boundary){for(var A=new Array(T),p=b.vertices,O=0,k=0,I=0;I<=T;++I)p[I]>=0?A[O++]=p[I]:k=1&I;if(k===(1&T)){var P=A[0];A[0]=A[1],A[1]=P}_.push(A)}}return _}},9014:function(v,c,i){"use strict";var s=i(5070);function a(O,k,I,P,R){this.mid=O,this.left=k,this.right=I,this.leftPoints=P,this.rightPoints=R,this.count=(k?k.count:0)+(I?I.count:0)+P.length}v.exports=function(O){return new A(O&&0!==O.length?b(O):null)};var o=a.prototype;function l(O,k){O.mid=k.mid,O.left=k.left,O.right=k.right,O.leftPoints=k.leftPoints,O.rightPoints=k.rightPoints,O.count=k.count}function u(O,k){var I=b(k);O.mid=I.mid,O.left=I.left,O.right=I.right,O.leftPoints=I.leftPoints,O.rightPoints=I.rightPoints,O.count=I.count}function d(O,k){var I=O.intervals([]);I.push(k),u(O,I)}function m(O,k){var I=O.intervals([]),P=I.indexOf(k);return P<0?0:(I.splice(P,1),u(O,I),1)}function h(O,k,I){for(var P=0;P<O.length&&O[P][0]<=k;++P){var R=I(O[P]);if(R)return R}}function T(O,k,I){for(var P=O.length-1;P>=0&&O[P][1]>=k;--P){var R=I(O[P]);if(R)return R}}function _(O,k){for(var I=0;I<O.length;++I){var P=k(O[I]);if(P)return P}}function g(O,k){return O-k}function w(O,k){return O[0]-k[0]||O[1]-k[1]}function x(O,k){return O[1]-k[1]||O[0]-k[0]}function b(O){if(0===O.length)return null;for(var k=[],I=0;I<O.length;++I)k.push(O[I][0],O[I][1]);k.sort(g);var P=k[k.length>>1],R=[],N=[],j=[];for(I=0;I<O.length;++I){var X=O[I];X[1]<P?R.push(X):P<X[0]?N.push(X):j.push(X)}var F=j,Z=j.slice();return F.sort(w),Z.sort(x),new a(P,b(R),b(N),F,Z)}function A(O){this.root=O}o.intervals=function(O){return O.push.apply(O,this.leftPoints),this.left&&this.left.intervals(O),this.right&&this.right.intervals(O),O},o.insert=function(O){var k=this.count-this.leftPoints.length;if(this.count+=1,O[1]<this.mid)this.left?4*(this.left.count+1)>3*(k+1)?d(this,O):this.left.insert(O):this.left=b([O]);else if(O[0]>this.mid)this.right?4*(this.right.count+1)>3*(k+1)?d(this,O):this.right.insert(O):this.right=b([O]);else{var I=s.ge(this.leftPoints,O,w),P=s.ge(this.rightPoints,O,x);this.leftPoints.splice(I,0,O),this.rightPoints.splice(P,0,O)}},o.remove=function(O){var k=this.count-this.leftPoints;if(O[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(k-1)?m(this,O):2===(N=this.left.remove(O))?(this.left=null,this.count-=1,1):(1===N&&(this.count-=1),N):0;if(O[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(k-1)?m(this,O):2===(N=this.right.remove(O))?(this.right=null,this.count-=1,1):(1===N&&(this.count-=1),N):0;if(1===this.count)return this.leftPoints[0]===O?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===O){if(this.left&&this.right){for(var I=this,P=this.left;P.right;)I=P,P=P.right;if(I===this)P.right=this.right;else{var R=this.left,N=this.right;I.count-=P.count,I.right=P.left,P.left=R,P.right=N}l(this,P),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else l(this,this.left?this.left:this.right);return 1}for(R=s.ge(this.leftPoints,O,w);R<this.leftPoints.length&&this.leftPoints[R][0]===O[0];++R)if(this.leftPoints[R]===O)for(this.count-=1,this.leftPoints.splice(R,1),N=s.ge(this.rightPoints,O,x);N<this.rightPoints.length&&this.rightPoints[N][1]===O[1];++N)if(this.rightPoints[N]===O)return this.rightPoints.splice(N,1),1;return 0},o.queryPoint=function(O,k){return O<this.mid?this.left&&(I=this.left.queryPoint(O,k))?I:h(this.leftPoints,O,k):O>this.mid?this.right&&(I=this.right.queryPoint(O,k))?I:T(this.rightPoints,O,k):_(this.leftPoints,k);var I},o.queryInterval=function(O,k,I){var P;return O<this.mid&&this.left&&(P=this.left.queryInterval(O,k,I))||k>this.mid&&this.right&&(P=this.right.queryInterval(O,k,I))?P:k<this.mid?h(this.leftPoints,k,I):O>this.mid?T(this.rightPoints,O,I):_(this.leftPoints,I)};var p=A.prototype;p.insert=function(O){this.root?this.root.insert(O):this.root=new a(O[0],null,null,[O],[O])},p.remove=function(O){if(this.root){var k=this.root.remove(O);return 2===k&&(this.root=null),0!==k}return!1},p.queryPoint=function(O,k){if(this.root)return this.root.queryPoint(O,k)},p.queryInterval=function(O,k,I){if(O<=k&&this.root)return this.root.queryInterval(O,k,I)},Object.defineProperty(p,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(p,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(v){"use strict";v.exports=function(c){for(var i=new Array(c),s=0;s<c;++s)i[s]=s;return i}},4846:function(v){v.exports=!0},4780:function(v){function c(i){return!!i.constructor&&"function"==typeof i.constructor.isBuffer&&i.constructor.isBuffer(i)}v.exports=function(i){return null!=i&&(c(i)||"function"==typeof(s=i).readFloatLE&&"function"==typeof s.slice&&c(s.slice(0,0))||!!i._isBuffer);var s}},3596:function(v){"use strict";v.exports=function(c){for(var i,s=c.length,a=0;a<s;a++)if(((i=c.charCodeAt(a))<9||i>13)&&32!==i&&133!==i&&160!==i&&5760!==i&&6158!==i&&(i<8192||i>8205)&&8232!==i&&8233!==i&&8239!==i&&8287!==i&&8288!==i&&12288!==i&&65279!==i)return!1;return!0}},3578:function(v){v.exports=function(c,i,s){return c*(1-s)+i*s}},7191:function(v,c,i){var s=i(4690),a=i(9823),o=i(7332),l=i(7787),u=i(7437),d=i(2142),m={length:i(4693),normalize:i(899),dot:i(9305),cross:i(903)},h=a(),T=a(),_=[0,0,0,0],g=[[0,0,0],[0,0,0],[0,0,0]],w=[0,0,0];function x(b,A,p,O,k){b[0]=A[0]*O+p[0]*k,b[1]=A[1]*O+p[1]*k,b[2]=A[2]*O+p[2]*k}v.exports=function(b,A,p,O,k,I){if(A||(A=[0,0,0]),p||(p=[0,0,0]),O||(O=[0,0,0]),k||(k=[0,0,0,1]),I||(I=[0,0,0,1]),!s(h,b)||(o(T,h),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(l(T)<1e-8)))return!1;var P,R,N,j,X,F,Z,ee,oe,W=h[3],H=h[7],G=h[11],Y=h[12],se=h[13],te=h[14],re=h[15];if(0!==W||0!==H||0!==G){if(_[0]=W,_[1]=H,_[2]=G,_[3]=re,!u(T,T))return!1;d(T,T),j=(R=_)[0],(P=k)[0]=(N=T)[0]*j+N[4]*(X=R[1])+N[8]*(F=R[2])+N[12]*(Z=R[3]),P[1]=N[1]*j+N[5]*X+N[9]*F+N[13]*Z,P[2]=N[2]*j+N[6]*X+N[10]*F+N[14]*Z,P[3]=N[3]*j+N[7]*X+N[11]*F+N[15]*Z}else k[0]=k[1]=k[2]=0,k[3]=1;if(A[0]=Y,A[1]=se,A[2]=te,(ee=g)[0][0]=(oe=h)[0],ee[0][1]=oe[1],ee[0][2]=oe[2],ee[1][0]=oe[4],ee[1][1]=oe[5],ee[1][2]=oe[6],ee[2][0]=oe[8],ee[2][1]=oe[9],ee[2][2]=oe[10],p[0]=m.length(g[0]),m.normalize(g[0],g[0]),O[0]=m.dot(g[0],g[1]),x(g[1],g[1],g[0],1,-O[0]),p[1]=m.length(g[1]),m.normalize(g[1],g[1]),O[0]/=p[1],O[1]=m.dot(g[0],g[2]),x(g[2],g[2],g[0],1,-O[1]),O[2]=m.dot(g[1],g[2]),x(g[2],g[2],g[1],1,-O[2]),p[2]=m.length(g[2]),m.normalize(g[2],g[2]),O[1]/=p[2],O[2]/=p[2],m.cross(w,g[1],g[2]),m.dot(g[0],w)<0)for(var Q=0;Q<3;Q++)p[Q]*=-1,g[Q][0]*=-1,g[Q][1]*=-1,g[Q][2]*=-1;return I[0]=.5*Math.sqrt(Math.max(1+g[0][0]-g[1][1]-g[2][2],0)),I[1]=.5*Math.sqrt(Math.max(1-g[0][0]+g[1][1]-g[2][2],0)),I[2]=.5*Math.sqrt(Math.max(1-g[0][0]-g[1][1]+g[2][2],0)),I[3]=.5*Math.sqrt(Math.max(1+g[0][0]+g[1][1]+g[2][2],0)),g[2][1]>g[1][2]&&(I[0]=-I[0]),g[0][2]>g[2][0]&&(I[1]=-I[1]),g[1][0]>g[0][1]&&(I[2]=-I[2]),!0}},4690:function(v){v.exports=function(c,i){var s=i[15];if(0===s)return!1;for(var a=1/s,o=0;o<16;o++)c[o]=i[o]*a;return!0}},7649:function(v,c,i){var s=i(1868),a=i(1102),o=i(7191),l=i(7787),u=i(1116),d=T(),m=T(),h=T();function T(){return{translate:_(),scale:_(1),skew:_(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function _(g){return[g||0,g||0,g||0]}v.exports=function(g,w,x,b){if(0===l(w)||0===l(x))return!1;var A=o(w,d.translate,d.scale,d.skew,d.perspective,d.quaternion),p=o(x,m.translate,m.scale,m.skew,m.perspective,m.quaternion);return!(!A||!p||(s(h.translate,d.translate,m.translate,b),s(h.skew,d.skew,m.skew,b),s(h.scale,d.scale,m.scale,b),s(h.perspective,d.perspective,m.perspective,b),u(h.quaternion,d.quaternion,m.quaternion,b),a(g,h.translate,h.scale,h.skew,h.perspective,h.quaternion),0))}},1102:function(v,c,i){var s={identity:i(9947),translate:i(998),multiply:i(104),create:i(9823),scale:i(3668),fromRotationTranslation:i(7280)},a=(s.create(),s.create());v.exports=function(o,l,u,d,m,h){return s.identity(o),s.fromRotationTranslation(o,h,l),o[3]=m[0],o[7]=m[1],o[11]=m[2],o[15]=m[3],s.identity(a),0!==d[2]&&(a[9]=d[2],s.multiply(o,o,a)),0!==d[1]&&(a[9]=0,a[8]=d[1],s.multiply(o,o,a)),0!==d[0]&&(a[8]=0,a[4]=d[0],s.multiply(o,o,a)),s.scale(o,o,u),o}},9298:function(v,c,i){"use strict";var s=i(5070),a=i(7649),o=i(7437),l=i(6109),u=i(7115),d=i(5240),m=i(3012),h=i(998),T=(i(3668),i(899)),_=[0,0,0];function g(b){this._components=b.slice(),this._time=[0],this.prevMatrix=b.slice(),this.nextMatrix=b.slice(),this.computedMatrix=b.slice(),this.computedInverse=b.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}v.exports=function(b){return new g((b=b||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var w=g.prototype;w.recalcMatrix=function(b){var A=this._time,p=s.le(A,b),O=this.computedMatrix;if(!(p<0)){var k=this._components;if(p===A.length-1)for(var I=16*p,P=0;P<16;++P)O[P]=k[I++];else{var R=A[p+1]-A[p],N=(I=16*p,this.prevMatrix),j=!0;for(P=0;P<16;++P)N[P]=k[I++];var X=this.nextMatrix;for(P=0;P<16;++P)X[P]=k[I++],j=j&&N[P]===X[P];if(R<1e-6||j)for(P=0;P<16;++P)O[P]=N[P];else a(O,N,X,(b-A[p])/R)}var F=this.computedUp;F[0]=O[1],F[1]=O[5],F[2]=O[9],T(F,F);var Z=this.computedInverse;o(Z,O);var W=this.computedEye,H=Z[15];W[0]=Z[12]/H,W[1]=Z[13]/H,W[2]=Z[14]/H;var G=this.computedCenter,Y=Math.exp(this.computedRadius[0]);for(P=0;P<3;++P)G[P]=W[P]-O[2+4*P]*Y}},w.idle=function(b){if(!(b<this.lastT())){for(var A=this._components,p=A.length-16,O=0;O<16;++O)A.push(A[p++]);this._time.push(b)}},w.flush=function(b){var A=s.gt(this._time,b)-2;A<0||(this._time.splice(0,A),this._components.splice(0,16*A))},w.lastT=function(){return this._time[this._time.length-1]},w.lookAt=function(b,A,p,O){this.recalcMatrix(b),this.setMatrix(b,m(this.computedMatrix,A=A||this.computedEye,p=p||_,O=O||this.computedUp));for(var k=0,I=0;I<3;++I)k+=Math.pow(p[I]-A[I],2);k=Math.log(Math.sqrt(k)),this.computedRadius[0]=k},w.rotate=function(b,A,p,O){this.recalcMatrix(b);var k=this.computedInverse;A&&u(k,k,A),p&&l(k,k,p),O&&d(k,k,O),this.setMatrix(b,o(this.computedMatrix,k))};var x=[0,0,0];w.pan=function(b,A,p,O){x[0]=-(A||0),x[1]=-(p||0),x[2]=-(O||0),this.recalcMatrix(b);var k=this.computedInverse;h(k,k,x),this.setMatrix(b,o(k,k))},w.translate=function(b,A,p,O){x[0]=A||0,x[1]=p||0,x[2]=O||0,this.recalcMatrix(b);var k=this.computedMatrix;h(k,k,x),this.setMatrix(b,k)},w.setMatrix=function(b,A){if(!(b<this.lastT())){this._time.push(b);for(var p=0;p<16;++p)this._components.push(A[p])}},w.setDistance=function(b,A){this.computedRadius[0]=A},w.setDistanceLimits=function(b,A){var p=this._limits;p[0]=b,p[1]=A},w.getDistanceLimits=function(b){var A=this._limits;return b?(b[0]=A[0],b[1]=A[1],b):A}},3266:function(v,c,i){"use strict";v.exports=function(a){var o=a.length;if(o<3){for(var l=new Array(o),u=0;u<o;++u)l[u]=u;return 2===o&&a[0][0]===a[1][0]&&a[0][1]===a[1][1]?[0]:l}var d=new Array(o);for(u=0;u<o;++u)d[u]=u;d.sort(function(A,p){return a[A][0]-a[p][0]||a[A][1]-a[p][1]});var m=[d[0],d[1]],h=[d[0],d[1]];for(u=2;u<o;++u){for(var T=d[u],_=a[T],g=m.length;g>1&&s(a[m[g-2]],a[m[g-1]],_)<=0;)g-=1,m.pop();for(m.push(T),g=h.length;g>1&&s(a[h[g-2]],a[h[g-1]],_)>=0;)g-=1,h.pop();h.push(T)}l=new Array(h.length+m.length-2);for(var w=0,x=(u=0,m.length);u<x;++u)l[w++]=m[u];for(var b=h.length-2;b>0;--b)l[w++]=h[b];return l};var s=i(417)[3]},6145:function(v,c,i){"use strict";v.exports=function(a,o){o||(o=a,a=window);var l=0,u=0,d=0,m={shift:!1,alt:!1,control:!1,meta:!1},h=!1;function T(I){var P=!1;return"altKey"in I&&(P=P||I.altKey!==m.alt,m.alt=!!I.altKey),"shiftKey"in I&&(P=P||I.shiftKey!==m.shift,m.shift=!!I.shiftKey),"ctrlKey"in I&&(P=P||I.ctrlKey!==m.control,m.control=!!I.ctrlKey),"metaKey"in I&&(P=P||I.metaKey!==m.meta,m.meta=!!I.metaKey),P}function _(I,P){var R=s.x(P),N=s.y(P);"buttons"in P&&(I=0|P.buttons),(I!==l||R!==u||N!==d||T(P))&&(l=0|I,u=R||0,d=N||0,o&&o(l,u,d,m))}function g(I){_(0,I)}function w(){(l||u||d||m.shift||m.alt||m.meta||m.control)&&(u=d=0,l=0,m.shift=m.alt=m.control=m.meta=!1,o&&o(0,0,0,m))}function x(I){T(I)&&o&&o(l,u,d,m)}function b(I){0===s.buttons(I)?_(0,I):_(l,I)}function A(I){_(l|s.buttons(I),I)}function p(I){_(l&~s.buttons(I),I)}function O(){h||(h=!0,a.addEventListener("mousemove",b),a.addEventListener("mousedown",A),a.addEventListener("mouseup",p),a.addEventListener("mouseleave",g),a.addEventListener("mouseenter",g),a.addEventListener("mouseout",g),a.addEventListener("mouseover",g),a.addEventListener("blur",w),a.addEventListener("keyup",x),a.addEventListener("keydown",x),a.addEventListener("keypress",x),a!==window&&(window.addEventListener("blur",w),window.addEventListener("keyup",x),window.addEventListener("keydown",x),window.addEventListener("keypress",x)))}O();var k={element:a};return Object.defineProperties(k,{enabled:{get:function(){return h},set:function(I){I?O():h&&(h=!1,a.removeEventListener("mousemove",b),a.removeEventListener("mousedown",A),a.removeEventListener("mouseup",p),a.removeEventListener("mouseleave",g),a.removeEventListener("mouseenter",g),a.removeEventListener("mouseout",g),a.removeEventListener("mouseover",g),a.removeEventListener("blur",w),a.removeEventListener("keyup",x),a.removeEventListener("keydown",x),a.removeEventListener("keypress",x),a!==window&&(window.removeEventListener("blur",w),window.removeEventListener("keyup",x),window.removeEventListener("keydown",x),window.removeEventListener("keypress",x)))},enumerable:!0},buttons:{get:function(){return l},enumerable:!0},x:{get:function(){return u},enumerable:!0},y:{get:function(){return d},enumerable:!0},mods:{get:function(){return m},enumerable:!0}}),k};var s=i(4110)},2565:function(v){var c={left:0,top:0};v.exports=function(i,s,a){s=s||i.currentTarget||i.srcElement,Array.isArray(a)||(a=[0,0]);var o,l=i.clientX||0,u=i.clientY||0,d=(o=s)===window||o===document||o===document.body?c:o.getBoundingClientRect();return a[0]=l-d.left,a[1]=u-d.top,a}},4110:function(v,c){"use strict";function i(s){return s.target||s.srcElement||window}c.buttons=function(s){if("object"==typeof s){if("buttons"in s)return s.buttons;if("which"in s){if(2===(a=s.which))return 4;if(3===a)return 2;if(a>0)return 1<<a-1}else if("button"in s){var a;if(1===(a=s.button))return 4;if(2===a)return 2;if(a>=0)return 1<<a}}return 0},c.element=i,c.x=function(s){if("object"==typeof s){if("offsetX"in s)return s.offsetX;var a=i(s).getBoundingClientRect();return s.clientX-a.left}return 0},c.y=function(s){if("object"==typeof s){if("offsetY"in s)return s.offsetY;var a=i(s).getBoundingClientRect();return s.clientY-a.top}return 0}},6475:function(v,c,i){"use strict";var s=i(14);v.exports=function(a,o,l){"function"==typeof a&&(l=!!o,o=a,a=window);var u=s("ex",a),d=function(m){l&&m.preventDefault();var h=m.deltaX||0,T=m.deltaY||0,_=m.deltaZ||0,g=1;switch(m.deltaMode){case 1:g=u;break;case 2:g=window.innerHeight}if(T*=g,_*=g,(h*=g)||T||_)return o(h,T,_,m)};return a.addEventListener("wheel",d),d}},9284:function(v,c,i){"use strict";var s=i(5306);v.exports=function(o){function l(_){throw new Error("ndarray-extract-contour: "+_)}"object"!=typeof o&&l("Must specify arguments");var u=o.order;Array.isArray(u)||l("Must specify order");var _,g,w,p,d=o.arrayArguments||1;d<1&&l("Must have at least one array argument"),(o.scalarArguments||0)<0&&l("Scalar arg count must be > 0"),"function"!=typeof o.vertex&&l("Must specify vertex creation function"),"function"!=typeof o.cell&&l("Must specify cell creation function"),"function"!=typeof o.phase&&l("Must specify phase function");for(var m=o.getters||[],h=new Array(d),T=0;T<d;++T)h[T]=m.indexOf(T)>=0;return _=o.vertex,g=o.cell,w=o.phase,p=[h,u].join(","),(0,a[p])(_,g,w,s.mallocUint32,s.freeUint32)};var a={"false,0,1":function(o,l,u,d,m){return function(h,T,_,g){var w,x=0|h.shape[0],b=0|h.shape[1],A=h.data,O=0|h.stride[0],k=0|h.stride[1],I=0|h.offset,P=0|-O,R=0,N=0|-k,j=0,X=-O-k|0,F=0,Z=0|O,W=k-O*x|0,H=0,G=0,Y=0,se=2*x|0,te=d(se),re=d(se),Q=0,ee=0,oe=-1,le=-1,ue=0,de=0|-x,he=0|x,we=0,Ae=-x-1|0,Te=x-1|0,ve=0,xe=0,Fe=0;for(H=0;H<x;++H)te[Q++]=u(A[I],T,_,g),I+=Z;if(I+=W,b>0){if(G=1,te[Q++]=u(A[I],T,_,g),I+=Z,x>0)for(H=1,ee=te[Q]=u(w=A[I],T,_,g),we=te[Q+de],ve=te[Q+Ae],ee===(ue=te[Q+oe])&&ee===we&&ee===ve||(o(H,G,w,R=A[I+P],j=A[I+N],F=A[I+X],ee,ue,we,ve,T,_,g),xe=re[Q]=Y++),Q+=1,I+=Z,H=2;H<x;++H)ee=te[Q]=u(w=A[I],T,_,g),we=te[Q+de],ve=te[Q+Ae],ee===(ue=te[Q+oe])&&ee===we&&ee===ve||(o(H,G,w,R=A[I+P],j=A[I+N],F=A[I+X],ee,ue,we,ve,T,_,g),xe=re[Q]=Y++,ve!==ue&&l(re[Q+oe],xe,F,R,ve,ue,T,_,g)),Q+=1,I+=Z;for(I+=W,Q=0,Fe=oe,oe=le,le=Fe,Fe=de,de=he,he=Fe,Fe=Ae,Ae=Te,Te=Fe,G=2;G<b;++G){if(te[Q++]=u(A[I],T,_,g),I+=Z,x>0)for(H=1,ee=te[Q]=u(w=A[I],T,_,g),we=te[Q+de],ve=te[Q+Ae],ee===(ue=te[Q+oe])&&ee===we&&ee===ve||(o(H,G,w,R=A[I+P],j=A[I+N],F=A[I+X],ee,ue,we,ve,T,_,g),xe=re[Q]=Y++,ve!==we&&l(re[Q+de],xe,j,F,we,ve,T,_,g)),Q+=1,I+=Z,H=2;H<x;++H)ee=te[Q]=u(w=A[I],T,_,g),we=te[Q+de],ve=te[Q+Ae],ee===(ue=te[Q+oe])&&ee===we&&ee===ve||(o(H,G,w,R=A[I+P],j=A[I+N],F=A[I+X],ee,ue,we,ve,T,_,g),xe=re[Q]=Y++,ve!==we&&l(re[Q+de],xe,j,F,we,ve,T,_,g),ve!==ue&&l(re[Q+oe],xe,F,R,ve,ue,T,_,g)),Q+=1,I+=Z;1&G&&(Q=0),Fe=oe,oe=le,le=Fe,Fe=de,de=he,he=Fe,Fe=Ae,Ae=Te,Te=Fe,I+=W}}m(re),m(te)}},"false,1,0":function(o,l,u,d,m){return function(h,T,_,g){var w,x=0|h.shape[0],b=0|h.shape[1],A=h.data,O=0|h.stride[0],k=0|h.stride[1],I=0|h.offset,P=0|-O,R=0,N=0|-k,j=0,X=-O-k|0,F=0,Z=0|k,W=O-k*b|0,H=0,G=0,Y=0,se=2*b|0,te=d(se),re=d(se),Q=0,ee=0,oe=-1,le=-1,ue=0,de=0|-b,he=0|b,we=0,Ae=-b-1|0,Te=b-1|0,ve=0,xe=0,Fe=0;for(G=0;G<b;++G)te[Q++]=u(A[I],T,_,g),I+=Z;if(I+=W,x>0){if(H=1,te[Q++]=u(A[I],T,_,g),I+=Z,b>0)for(G=1,ee=te[Q]=u(w=A[I],T,_,g),ue=te[Q+oe],ve=te[Q+Ae],ee===(we=te[Q+de])&&ee===ue&&ee===ve||(o(H,G,w,R=A[I+P],j=A[I+N],F=A[I+X],ee,we,ue,ve,T,_,g),xe=re[Q]=Y++),Q+=1,I+=Z,G=2;G<b;++G)ee=te[Q]=u(w=A[I],T,_,g),ue=te[Q+oe],ve=te[Q+Ae],ee===(we=te[Q+de])&&ee===ue&&ee===ve||(o(H,G,w,R=A[I+P],j=A[I+N],F=A[I+X],ee,we,ue,ve,T,_,g),xe=re[Q]=Y++,ve!==ue&&l(re[Q+oe],xe,j,F,ue,ve,T,_,g)),Q+=1,I+=Z;for(I+=W,Q=0,Fe=de,de=he,he=Fe,Fe=oe,oe=le,le=Fe,Fe=Ae,Ae=Te,Te=Fe,H=2;H<x;++H){if(te[Q++]=u(A[I],T,_,g),I+=Z,b>0)for(G=1,ee=te[Q]=u(w=A[I],T,_,g),ue=te[Q+oe],ve=te[Q+Ae],ee===(we=te[Q+de])&&ee===ue&&ee===ve||(o(H,G,w,R=A[I+P],j=A[I+N],F=A[I+X],ee,we,ue,ve,T,_,g),xe=re[Q]=Y++,ve!==we&&l(re[Q+de],xe,F,R,ve,we,T,_,g)),Q+=1,I+=Z,G=2;G<b;++G)ee=te[Q]=u(w=A[I],T,_,g),ue=te[Q+oe],ve=te[Q+Ae],ee===(we=te[Q+de])&&ee===ue&&ee===ve||(o(H,G,w,R=A[I+P],j=A[I+N],F=A[I+X],ee,we,ue,ve,T,_,g),xe=re[Q]=Y++,ve!==ue&&l(re[Q+oe],xe,j,F,ue,ve,T,_,g),ve!==we&&l(re[Q+de],xe,F,R,ve,we,T,_,g)),Q+=1,I+=Z;1&H&&(Q=0),Fe=de,de=he,he=Fe,Fe=oe,oe=le,le=Fe,Fe=Ae,Ae=Te,Te=Fe,I+=W}}m(re),m(te)}}}},9144:function(v,c,i){"use strict";var s=i(3094),a={zero:function(x,b,A,p){var O=x[0];p|=0;var k=0,I=A[0];for(k=0;k<O;++k)b[p]=0,p+=I},fdTemplate1:function(x,b,A,p,O,k,I){var P=x[0],R=A[0],N=-1*R,j=R;p|=0,I|=0;var X=0,F=R,Z=k[0];for(X=0;X<P;++X)O[I]=.5*(b[p+N]-b[p+j]),p+=F,I+=Z},fdTemplate2:function(x,b,A,p,O,k,I,P,R,N){var j=x[0],X=x[1],F=A[0],Z=A[1],H=k[1],Y=R[1],se=-1*F,te=F,re=-1*Z,Q=Z;p|=0,I|=0,N|=0;var ee=0,oe=0,le=Z,ue=F-X*Z,de=H,he=k[0]-X*H,we=Y,Ae=R[0]-X*Y;for(oe=0;oe<j;++oe){for(ee=0;ee<X;++ee)O[I]=.5*(b[p+se]-b[p+te]),P[N]=.5*(b[p+re]-b[p+Q]),p+=le,I+=de,N+=we;p+=ue,I+=he,N+=Ae}}},o={cdiff:function(x){var b={};return function(A,p,O){var k=A.dtype,I=A.order,P=p.dtype,R=p.order,N=O.dtype,j=O.order,X=[k,I.join(),P,R.join(),N,j.join()].join(),F=b[X];return F||(b[X]=F=x([k,I,P,R,N,j])),F(A.shape.slice(0),A.data,A.stride,0|A.offset,p.data,p.stride,0|p.offset,O.data,O.stride,0|O.offset)}},zero:function(x){var b={};return function(A){var p=A.dtype,O=A.order,k=[p,O.join()].join(),I=b[k];return I||(b[k]=I=x([p,O])),I(A.shape.slice(0),A.data,A.stride,0|A.offset)}},fdTemplate1:function(x){var b={};return function(A,p){var O=A.dtype,k=A.order,I=p.dtype,P=p.order,R=[O,k.join(),I,P.join()].join(),N=b[R];return N||(b[R]=N=x([O,k,I,P])),N(A.shape.slice(0),A.data,A.stride,0|A.offset,p.data,p.stride,0|p.offset)}},fdTemplate2:function(x){var b={};return function(A,p,O){var k=A.dtype,I=A.order,P=p.dtype,R=p.order,N=O.dtype,j=O.order,X=[k,I.join(),P,R.join(),N,j.join()].join(),F=b[X];return F||(b[X]=F=x([k,I,P,R,N,j])),F(A.shape.slice(0),A.data,A.stride,0|A.offset,p.data,p.stride,0|p.offset,O.data,O.stride,0|O.offset)}}};function l(x){return(0,o[x.funcName])(u.bind(void 0,x))}function u(x){return a[x.funcName]}function d(x){return l({funcName:x.funcName})}var m={},h={},T=d({funcName:"cdiff"}),_=d({funcName:"zero"});function g(x){return x in m?m[x]:m[x]=d({funcName:"fdTemplate"+x})}function w(x,b,A,p){return function(O,k){var I=k.shape.slice();return I[0]>2&&I[1]>2&&p(k.pick(-1,-1).lo(1,1).hi(I[0]-2,I[1]-2),O.pick(-1,-1,0).lo(1,1).hi(I[0]-2,I[1]-2),O.pick(-1,-1,1).lo(1,1).hi(I[0]-2,I[1]-2)),I[1]>2&&(A(k.pick(0,-1).lo(1).hi(I[1]-2),O.pick(0,-1,1).lo(1).hi(I[1]-2)),b(O.pick(0,-1,0).lo(1).hi(I[1]-2))),I[1]>2&&(A(k.pick(I[0]-1,-1).lo(1).hi(I[1]-2),O.pick(I[0]-1,-1,1).lo(1).hi(I[1]-2)),b(O.pick(I[0]-1,-1,0).lo(1).hi(I[1]-2))),I[0]>2&&(A(k.pick(-1,0).lo(1).hi(I[0]-2),O.pick(-1,0,0).lo(1).hi(I[0]-2)),b(O.pick(-1,0,1).lo(1).hi(I[0]-2))),I[0]>2&&(A(k.pick(-1,I[1]-1).lo(1).hi(I[0]-2),O.pick(-1,I[1]-1,0).lo(1).hi(I[0]-2)),b(O.pick(-1,I[1]-1,1).lo(1).hi(I[0]-2))),O.set(0,0,0,0),O.set(0,0,1,0),O.set(I[0]-1,0,0,0),O.set(I[0]-1,0,1,0),O.set(0,I[1]-1,0,0),O.set(0,I[1]-1,1,0),O.set(I[0]-1,I[1]-1,0,0),O.set(I[0]-1,I[1]-1,1,0),O}}v.exports=function(x,b,A){return Array.isArray(A)||(A=s(b.dimension,"string"==typeof A?A:"clamp")),0===b.size?x:0===b.dimension?(x.set(0),x):function(p){var O=p.join();if(R=h[O])return R;for(var k=p.length,I=[T,_],P=1;P<=k;++P)I.push(g(P));var R=w.apply(void 0,I);return h[O]=R,R}(A)(x,b)}},3581:function(v){"use strict";function c(o,l){var u=Math.floor(l),d=l-u,h=0<=u+1&&u+1<o.shape[0];return(1-d)*(0<=u&&u<o.shape[0]?+o.get(u):0)+d*(h?+o.get(u+1):0)}function i(o,l,u){var d=Math.floor(l),m=l-d,h=0<=d&&d<o.shape[0],T=0<=d+1&&d+1<o.shape[0],_=Math.floor(u),g=u-_,w=0<=_&&_<o.shape[1],x=0<=_+1&&_+1<o.shape[1],b=h&&w?o.get(d,_):0,A=h&&x?o.get(d,_+1):0;return(1-g)*((1-m)*b+m*(T&&w?o.get(d+1,_):0))+g*((1-m)*A+m*(T&&x?o.get(d+1,_+1):0))}function s(o,l,u,d){var m=Math.floor(l),h=l-m,T=0<=m&&m<o.shape[0],_=0<=m+1&&m+1<o.shape[0],g=Math.floor(u),w=u-g,x=0<=g&&g<o.shape[1],b=0<=g+1&&g+1<o.shape[1],A=Math.floor(d),p=d-A,O=0<=A&&A<o.shape[2],k=0<=A+1&&A+1<o.shape[2],I=T&&x&&O?o.get(m,g,A):0,P=T&&b&&O?o.get(m,g+1,A):0,R=_&&x&&O?o.get(m+1,g,A):0,N=_&&b&&O?o.get(m+1,g+1,A):0,j=T&&x&&k?o.get(m,g,A+1):0,X=T&&b&&k?o.get(m,g+1,A+1):0;return(1-p)*((1-w)*((1-h)*I+h*R)+w*((1-h)*P+h*N))+p*((1-w)*((1-h)*j+h*(_&&x&&k?o.get(m+1,g,A+1):0))+w*((1-h)*X+h*(_&&b&&k?o.get(m+1,g+1,A+1):0)))}function a(o){var l,u,d=0|o.shape.length,m=new Array(d),h=new Array(d),T=new Array(d),_=new Array(d);for(l=0;l<d;++l)u=+arguments[l+1],m[l]=Math.floor(u),h[l]=u-m[l],T[l]=0<=m[l]&&m[l]<o.shape[l],_[l]=0<=m[l]+1&&m[l]+1<o.shape[l];var g,w,x,b=0;e:for(l=0;l<1<<d;++l){for(w=1,x=o.offset,g=0;g<d;++g)if(l&1<<g){if(!_[g])continue e;w*=h[g],x+=o.stride[g]*(m[g]+1)}else{if(!T[g])continue e;w*=1-h[g],x+=o.stride[g]*m[g]}b+=w*o.data[x]}return b}v.exports=function(o,l,u,d){switch(o.shape.length){case 0:return 0;case 1:return c(o,l);case 2:return i(o,l,u);case 3:return s(o,l,u,d);default:return a.apply(void 0,arguments)}},v.exports.d1=c,v.exports.d2=i,v.exports.d3=s},7498:function(v,c){"use strict";var i={"float64,2,1,0":function(){return function(u,d,m,h,T){var _=u[0],g=u[1],w=u[2],b=m[1],A=m[2];h|=0;var p=0,O=0,k=0,I=A,P=b-w*A,R=m[0]-g*b;for(k=0;k<_;++k){for(O=0;O<g;++O){for(p=0;p<w;++p)d[h]/=T,h+=I;h+=P}h+=R}}},"uint8,2,0,1,float64,2,1,0":function(){return function(u,d,m,h,T,_,g,w){for(var x=u[0],b=u[1],A=u[2],p=m[0],O=m[1],k=m[2],I=_[0],P=_[1],R=_[2],N=h|=0,j=g|=0,X=0|u[0];X>0;){X<64?(x=X,X=0):(x=64,X-=64);for(var F=0|u[1];F>0;){F<64?(b=F,F=0):(b=64,F-=64),h=N+X*p+F*O,g=j+X*I+F*P;var Z=0,W=0,H=0,G=k,Y=p-A*k,se=O-x*p,te=R,re=I-A*R,Q=P-x*I;for(H=0;H<b;++H){for(W=0;W<x;++W){for(Z=0;Z<A;++Z)d[h]=T[g]*w,h+=G,g+=te;h+=Y,g+=re}h+=se,g+=Q}}}}},"float32,1,0,float32,1,0":function(){return function(u,d,m,h,T,_,g){var w=u[0],x=u[1],A=m[1],O=_[1];h|=0,g|=0;var k=0,I=0,P=A,R=m[0]-x*A,N=O,j=_[0]-x*O;for(I=0;I<w;++I){for(k=0;k<x;++k)d[h]=T[g],h+=P,g+=N;h+=R,g+=j}}},"float32,1,0,float32,0,1":function(){return function(u,d,m,h,T,_,g){for(var w=u[0],x=u[1],b=m[0],A=m[1],p=_[0],O=_[1],k=h|=0,I=g|=0,P=0|u[1];P>0;){P<64?(x=P,P=0):(x=64,P-=64);for(var R=0|u[0];R>0;){R<64?(w=R,R=0):(w=64,R-=64),h=k+P*A+R*b,g=I+P*O+R*p;var N=0,j=0,X=A,F=b-x*A,Z=O,W=p-x*O;for(j=0;j<w;++j){for(N=0;N<x;++N)d[h]=T[g],h+=X,g+=Z;h+=F,g+=W}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(u,d,m,h,T,_,g){for(var w=u[0],x=u[1],b=u[2],A=m[0],p=m[1],O=m[2],k=_[0],I=_[1],P=_[2],R=h|=0,N=g|=0,j=0|u[2];j>0;){j<64?(b=j,j=0):(b=64,j-=64);for(var X=0|u[0];X>0;){X<64?(w=X,X=0):(w=64,X-=64);for(var F=0|u[1];F>0;){F<64?(x=F,F=0):(x=64,F-=64),h=R+j*O+X*A+F*p,g=N+j*P+X*k+F*I;var Z=0,W=0,H=0,G=O,Y=A-b*O,se=p-w*A,te=P,re=k-b*P,Q=I-w*k;for(H=0;H<x;++H){for(W=0;W<w;++W){for(Z=0;Z<b;++Z)d[h]=T[g],h+=G,g+=te;h+=Y,g+=re}h+=se,g+=Q}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(u,d,m,h,T,_,g){var w=u[0],x=u[1],b=u[2],A=m[0],O=m[2],k=_[0],P=_[2];h|=0,g|=0;var R=0,N=0,j=0,X=O,F=A-b*O,Z=m[1]-w*A,W=P,H=k-b*P,G=_[1]-w*k;for(j=0;j<x;++j){for(N=0;N<w;++N){for(R=0;R<b;++R)d[h]=T[g],h+=X,g+=W;h+=F,g+=H}h+=Z,g+=G}}}},s=function(u,d){var m=d.join(",");return(0,i[m])()},a={mul:function(u){var d={};return function(m,h,T){var _=m.dtype,g=m.order,w=h.dtype,x=h.order,b=T.dtype,A=T.order,p=[_,g.join(),w,x.join(),b,A.join()].join(),O=d[p];return O||(d[p]=O=u([_,g,w,x,b,A])),O(m.shape.slice(0),m.data,m.stride,0|m.offset,h.data,h.stride,0|h.offset,T.data,T.stride,0|T.offset)}},muls:function(u){var d={};return function(m,h,T){var _=m.dtype,g=m.order,w=h.dtype,x=h.order,b=[_,g.join(),w,x.join()].join(),A=d[b];return A||(d[b]=A=u([_,g,w,x])),A(m.shape.slice(0),m.data,m.stride,0|m.offset,h.data,h.stride,0|h.offset,T)}},mulseq:function(u){var d={};return function(m,h){var T=m.dtype,_=m.order,g=[T,_.join()].join(),w=d[g];return w||(d[g]=w=u([T,_])),w(m.shape.slice(0),m.data,m.stride,0|m.offset,h)}},div:function(u){var d={};return function(m,h,T){var _=m.dtype,g=m.order,w=h.dtype,x=h.order,b=T.dtype,A=T.order,p=[_,g.join(),w,x.join(),b,A.join()].join(),O=d[p];return O||(d[p]=O=u([_,g,w,x,b,A])),O(m.shape.slice(0),m.data,m.stride,0|m.offset,h.data,h.stride,0|h.offset,T.data,T.stride,0|T.offset)}},divs:function(u){var d={};return function(m,h,T){var _=m.dtype,g=m.order,w=h.dtype,x=h.order,b=[_,g.join(),w,x.join()].join(),A=d[b];return A||(d[b]=A=u([_,g,w,x])),A(m.shape.slice(0),m.data,m.stride,0|m.offset,h.data,h.stride,0|h.offset,T)}},divseq:function(u){var d={};return function(m,h){var T=m.dtype,_=m.order,g=[T,_.join()].join(),w=d[g];return w||(d[g]=w=u([T,_])),w(m.shape.slice(0),m.data,m.stride,0|m.offset,h)}},assign:function(u){var d={};return function(m,h){var T=m.dtype,_=m.order,g=h.dtype,w=h.order,x=[T,_.join(),g,w.join()].join(),b=d[x];return b||(d[x]=b=u([T,_,g,w])),b(m.shape.slice(0),m.data,m.stride,0|m.offset,h.data,h.stride,0|h.offset)}}};function o(u){return(0,a[(d={funcName:u.funcName}).funcName])(s.bind(void 0,d));var d}var l={mul:"*",div:"/"};(function(){for(var u in l)c[u]=o({funcName:u}),c[u+"s"]=o({funcName:u+"s"}),c[u+"seq"]=o({funcName:u+"seq"})})(),c.assign=o({funcName:"assign"})},7382:function(v,c,i){"use strict";var s=i(5050),a=i(9262);v.exports=function(o,l){for(var u=[],d=o,m=1;Array.isArray(d);)u.push(d.length),m*=d.length,d=d[0];return 0===u.length?s():(l||(l=s(new Float64Array(m),u)),a(l,o),l)}},9262:function(v){"use strict";var c,i;v.exports=(c=function(){return function(c,i,s,a,o){var l=c[0],u=c[1],d=c[2],h=s[1],T=s[2],_=[0,0,0];a|=0;var g=0,w=0,x=0,b=T,A=h-d*T,p=s[0]-u*h;for(x=0;x<l;++x){for(w=0;w<u;++w){for(g=0;g<d;++g){var O,k=o;for(O=0;O<_.length-1;++O)k=k[_[O]];i[a]=k[_[_.length-1]],a+=b,++_[2]}a+=A,_[2]-=d,++_[1]}a+=p,_[1]-=u,++_[0]}}}.bind(void 0,{funcName:"convert"}),i={},function(s,a){var o=s.dtype,l=s.order,u=[o,l.join()].join(),d=i[u];return d||(i[u]=d=c([o,l])),d(s.shape.slice(0),s.data,s.stride,0|s.offset,a)})},8139:function(v,c,i){"use strict";var s=i(5306);function a(d){return"uint32"===d?[s.mallocUint32,s.freeUint32]:null}var o={"uint32,1,0":function(d,m){return function(h,T,_,g,w,x,b,A,p,O,k){var I,P,R,N,j,X,F,Z,W=h*w+g,H=d(A);for(I=h+1;I<=T;++I){for(P=I,R=W+=w,j=0,X=W,N=0;N<A;++N)H[j++]=_[X],X+=p;e:for(;P-- >h;){j=0,X=R-w;t:for(N=0;N<A;++N){if((F=_[X])<(Z=H[j]))break e;if(F>Z)break t;X+=O,j+=k}for(j=R,X=R-w,N=0;N<A;++N)_[j]=_[X],j+=p,X+=p;R-=w}for(j=R,X=0,N=0;N<A;++N)_[j]=H[X++],j+=p}m(H)}}},l={"uint32,1,0":function(d,m,h){return function T(_,g,w,x,b,A,p,O,k,I,P){var R,N,X,F,Z,W,H,G,Y,se,te,re,Q,ee,oe,le,ue,de,he,we,Ae,Te,ve,xe,Fe=(g-_+1)/6|0,Se=_+Fe,ke=g-Fe,pe=_+g>>1,fe=pe-Fe,be=pe+Fe,Le=Se,Oe=fe,De=pe,Ue=be,Ge=ke,ye=_+1,Ie=g-1,Ee=!0,Be=0,We=0,He=0,Je=O,et=m(Je),at=m(Je);se=b*Le,te=b*Oe,xe=x;e:for(Y=0;Y<O;++Y){if((He=w[W=se+xe]-w[H=te+xe])>0){N=Le,Le=Oe,Oe=N;break e}if(He<0)break e;xe+=I}se=b*Ue,te=b*Ge,xe=x;e:for(Y=0;Y<O;++Y){if((He=w[W=se+xe]-w[H=te+xe])>0){N=Ue,Ue=Ge,Ge=N;break e}if(He<0)break e;xe+=I}se=b*Le,te=b*De,xe=x;e:for(Y=0;Y<O;++Y){if((He=w[W=se+xe]-w[H=te+xe])>0){N=Le,Le=De,De=N;break e}if(He<0)break e;xe+=I}se=b*Oe,te=b*De,xe=x;e:for(Y=0;Y<O;++Y){if((He=w[W=se+xe]-w[H=te+xe])>0){N=Oe,Oe=De,De=N;break e}if(He<0)break e;xe+=I}se=b*Le,te=b*Ue,xe=x;e:for(Y=0;Y<O;++Y){if((He=w[W=se+xe]-w[H=te+xe])>0){N=Le,Le=Ue,Ue=N;break e}if(He<0)break e;xe+=I}se=b*De,te=b*Ue,xe=x;e:for(Y=0;Y<O;++Y){if((He=w[W=se+xe]-w[H=te+xe])>0){N=De,De=Ue,Ue=N;break e}if(He<0)break e;xe+=I}se=b*Oe,te=b*Ge,xe=x;e:for(Y=0;Y<O;++Y){if((He=w[W=se+xe]-w[H=te+xe])>0){N=Oe,Oe=Ge,Ge=N;break e}if(He<0)break e;xe+=I}se=b*Oe,te=b*De,xe=x;e:for(Y=0;Y<O;++Y){if((He=w[W=se+xe]-w[H=te+xe])>0){N=Oe,Oe=De,De=N;break e}if(He<0)break e;xe+=I}se=b*Ue,te=b*Ge,xe=x;e:for(Y=0;Y<O;++Y){if((He=w[W=se+xe]-w[H=te+xe])>0){N=Ue,Ue=Ge,Ge=N;break e}if(He<0)break e;xe+=I}for(se=b*Le,te=b*Oe,re=b*De,Q=b*Ue,ee=b*Ge,oe=b*Se,le=b*pe,ue=b*ke,ve=0,xe=x,Y=0;Y<O;++Y)W=se+xe,G=re+xe,de=Q+xe,he=ee+xe,we=oe+xe,Ae=le+xe,Te=ue+xe,et[ve]=w[H=te+xe],at[ve]=w[de],Ee=Ee&&et[ve]===at[ve],X=w[G],F=w[he],w[we]=w[W],w[Ae]=X,w[Te]=F,++ve,xe+=k;for(se=b*fe,te=b*_,xe=x,Y=0;Y<O;++Y)w[W=se+xe]=w[H=te+xe],xe+=k;for(se=b*be,te=b*g,xe=x,Y=0;Y<O;++Y)w[W=se+xe]=w[H=te+xe],xe+=k;if(Ee)for(Z=ye;Z<=Ie;++Z){for(W=x+Z*b,ve=0,Y=0;Y<O&&0==(He=w[W]-et[ve]);++Y)ve+=P,W+=I;if(0!==He)if(He<0){if(Z!==ye)for(se=b*Z,te=b*ye,xe=x,Y=0;Y<O;++Y)R=w[W=se+xe],w[W]=w[H=te+xe],w[H]=R,xe+=k;++ye}else for(;;){for(W=x+Ie*b,ve=0,Y=0;Y<O&&0==(He=w[W]-et[ve]);++Y)ve+=P,W+=I;if(!(He>0)){if(He<0){for(se=b*Z,te=b*ye,re=b*Ie,xe=x,Y=0;Y<O;++Y)G=re+xe,R=w[W=se+xe],w[W]=w[H=te+xe],w[H]=w[G],w[G]=R,xe+=k;++ye,--Ie;break}for(se=b*Z,te=b*Ie,xe=x,Y=0;Y<O;++Y)R=w[W=se+xe],w[W]=w[H=te+xe],w[H]=R,xe+=k;--Ie;break}Ie--}}else for(Z=ye;Z<=Ie;++Z){for(W=x+Z*b,ve=0,Y=0;Y<O&&0==(Be=w[W]-et[ve]);++Y)ve+=P,W+=I;if(Be<0){if(Z!==ye)for(se=b*Z,te=b*ye,xe=x,Y=0;Y<O;++Y)R=w[W=se+xe],w[W]=w[H=te+xe],w[H]=R,xe+=k;++ye}else{for(W=x+Z*b,ve=0,Y=0;Y<O&&0==(We=w[W]-at[ve]);++Y)ve+=P,W+=I;if(We>0)for(;;){for(W=x+Ie*b,ve=0,Y=0;Y<O&&0==(He=w[W]-at[ve]);++Y)ve+=P,W+=I;if(!(He>0)){for(W=x+Ie*b,ve=0,Y=0;Y<O&&0==(He=w[W]-et[ve]);++Y)ve+=P,W+=I;if(He<0){for(se=b*Z,te=b*ye,re=b*Ie,xe=x,Y=0;Y<O;++Y)G=re+xe,R=w[W=se+xe],w[W]=w[H=te+xe],w[H]=w[G],w[G]=R,xe+=k;++ye,--Ie}else{for(se=b*Z,te=b*Ie,xe=x,Y=0;Y<O;++Y)R=w[W=se+xe],w[W]=w[H=te+xe],w[H]=R,xe+=k;--Ie}break}if(--Ie<Z)break}}}for(se=b*_,te=b*(ye-1),ve=0,xe=x,Y=0;Y<O;++Y)w[W=se+xe]=w[H=te+xe],w[H]=et[ve],++ve,xe+=k;for(se=b*g,te=b*(Ie+1),ve=0,xe=x,Y=0;Y<O;++Y)w[W=se+xe]=w[H=te+xe],w[H]=at[ve],++ve,xe+=k;if(ye-2-_<=32?d(_,ye-2,w,x,b,A,p,O,k,I,P):T(_,ye-2,w,x,b,A,p,O,k,I,P),g-(Ie+2)<=32?d(Ie+2,g,w,x,b,A,p,O,k,I,P):T(Ie+2,g,w,x,b,A,p,O,k,I,P),Ee)return h(et),void h(at);if(ye<Se&&Ie>ke){e:for(;;){for(W=x+ye*b,ve=0,xe=x,Y=0;Y<O;++Y){if(w[W]!==et[ve])break e;++ve,W+=k}++ye}e:for(;;){for(W=x+Ie*b,ve=0,xe=x,Y=0;Y<O;++Y){if(w[W]!==at[ve])break e;++ve,W+=k}--Ie}for(Z=ye;Z<=Ie;++Z){for(W=x+Z*b,ve=0,Y=0;Y<O&&0==(Be=w[W]-et[ve]);++Y)ve+=P,W+=I;if(0===Be){if(Z!==ye)for(se=b*Z,te=b*ye,xe=x,Y=0;Y<O;++Y)R=w[W=se+xe],w[W]=w[H=te+xe],w[H]=R,xe+=k;++ye}else{for(W=x+Z*b,ve=0,Y=0;Y<O&&0==(We=w[W]-at[ve]);++Y)ve+=P,W+=I;if(0===We)for(;;){for(W=x+Ie*b,ve=0,Y=0;Y<O&&0==(He=w[W]-at[ve]);++Y)ve+=P,W+=I;if(0!==He){for(W=x+Ie*b,ve=0,Y=0;Y<O&&0==(He=w[W]-et[ve]);++Y)ve+=P,W+=I;if(He<0){for(se=b*Z,te=b*ye,re=b*Ie,xe=x,Y=0;Y<O;++Y)G=re+xe,R=w[W=se+xe],w[W]=w[H=te+xe],w[H]=w[G],w[G]=R,xe+=k;++ye,--Ie}else{for(se=b*Z,te=b*Ie,xe=x,Y=0;Y<O;++Y)R=w[W=se+xe],w[W]=w[H=te+xe],w[H]=R,xe+=k;--Ie}break}if(--Ie<Z)break}}}}h(et),h(at),Ie-ye<=32?d(ye,Ie,w,x,b,A,p,O,k,I,P):T(ye,Ie,w,x,b,A,p,O,k,I,P)}}},u={"uint32,1,0":function(d,m){return function(h){var T=h.data,_=0|h.offset,g=h.shape,w=h.stride,x=0|w[0],b=0|g[0],A=0|w[1],p=0|g[1],O=A,k=A;b<=32?d(0,b-1,T,_,x,A,b,p,O,k,1):m(0,b-1,T,_,x,A,b,p,O,k,1)}}};v.exports=function(d,m){var w,x,b,A,p,h=[m,d].join(","),T=u[h],_=(w=d,b=a(x=m),A=[x,w].join(","),p=o[A],b?p(b[0],b[1]):p()),g=function(w,x,b){var A=a(x),p=[x,w].join(","),O=l[p];return w.length>1&&A?O(b,A[0],A[1]):O(b)}(d,m,_);return T(_,g)}},8729:function(v,c,i){"use strict";var s=i(8139),a={};v.exports=function(o){var l=o.order,u=o.dtype,d=[l,u].join(":"),m=a[d];return m||(a[d]=m=s(l,u)),m(o),o}},5050:function(v,c,i){var s=i(4780),a=typeof Float64Array<"u";function o(h,T){return h[0]-T[0]}function l(){var h,T=this.stride,_=new Array(T.length);for(h=0;h<_.length;++h)_[h]=[Math.abs(T[h]),h];_.sort(o);var g=new Array(_.length);for(h=0;h<g.length;++h)g[h]=_[h][1];return g}var u={T:function(h){function T(g){this.data=g}var _=T.prototype;return _.dtype=h,_.index=function(){return-1},_.size=0,_.dimension=-1,_.shape=_.stride=_.order=[],_.lo=_.hi=_.transpose=_.step=function(){return new T(this.data)},_.get=_.set=function(){},_.pick=function(){return null},function(g){return new T(g)}},0:function(h,T){function _(w,x){this.data=w,this.offset=x}var g=_.prototype;return g.dtype=h,g.index=function(){return this.offset},g.dimension=0,g.size=1,g.shape=g.stride=g.order=[],g.lo=g.hi=g.transpose=g.step=function(){return new _(this.data,this.offset)},g.pick=function(){return T(this.data)},g.valueOf=g.get=function(){return"generic"===h?this.data.get(this.offset):this.data[this.offset]},g.set=function(w){return"generic"===h?this.data.set(this.offset,w):this.data[this.offset]=w},function(w,x,b,A){return new _(w,A)}},1:function(h,T,_){function g(x,b,A,p){this.data=x,this.shape=[b],this.stride=[A],this.offset=0|p}var w=g.prototype;return w.dtype=h,w.dimension=1,Object.defineProperty(w,"size",{get:function(){return this.shape[0]}}),w.order=[0],w.set=function(x,b){return"generic"===h?this.data.set(this.offset+this.stride[0]*x,b):this.data[this.offset+this.stride[0]*x]=b},w.get=function(x){return"generic"===h?this.data.get(this.offset+this.stride[0]*x):this.data[this.offset+this.stride[0]*x]},w.index=function(x){return this.offset+this.stride[0]*x},w.hi=function(x){return new g(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,this.stride[0],this.offset)},w.lo=function(x){var b=this.offset,A=0,p=this.shape[0],O=this.stride[0];return"number"==typeof x&&x>=0&&(b+=O*(A=0|x),p-=A),new g(this.data,p,O,b)},w.step=function(x){var b=this.shape[0],A=this.stride[0],p=this.offset,O=0,k=Math.ceil;return"number"==typeof x&&((O=0|x)<0?(p+=A*(b-1),b=k(-b/O)):b=k(b/O),A*=O),new g(this.data,b,A,p)},w.transpose=function(x){return new g(this.data,this.shape[x=void 0===x?0:0|x],this.stride[x],this.offset)},w.pick=function(x){var b=[],A=[],p=this.offset;return"number"==typeof x&&x>=0?p=p+this.stride[0]*x|0:(b.push(this.shape[0]),A.push(this.stride[0])),(0,T[b.length+1])(this.data,b,A,p)},function(x,b,A,p){return new g(x,b[0],A[0],p)}},2:function(h,T,_){function g(x,b,A,p,O,k){this.data=x,this.shape=[b,A],this.stride=[p,O],this.offset=0|k}var w=g.prototype;return w.dtype=h,w.dimension=2,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(w,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),w.set=function(x,b,A){return"generic"===h?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*b,A):this.data[this.offset+this.stride[0]*x+this.stride[1]*b]=A},w.get=function(x,b){return"generic"===h?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*b):this.data[this.offset+this.stride[0]*x+this.stride[1]*b]},w.index=function(x,b){return this.offset+this.stride[0]*x+this.stride[1]*b},w.hi=function(x,b){return new g(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof b||b<0?this.shape[1]:0|b,this.stride[0],this.stride[1],this.offset)},w.lo=function(x,b){var A=this.offset,p=0,O=this.shape[0],k=this.shape[1],I=this.stride[0],P=this.stride[1];return"number"==typeof x&&x>=0&&(A+=I*(p=0|x),O-=p),"number"==typeof b&&b>=0&&(A+=P*(p=0|b),k-=p),new g(this.data,O,k,I,P,A)},w.step=function(x,b){var A=this.shape[0],p=this.shape[1],O=this.stride[0],k=this.stride[1],I=this.offset,P=0,R=Math.ceil;return"number"==typeof x&&((P=0|x)<0?(I+=O*(A-1),A=R(-A/P)):A=R(A/P),O*=P),"number"==typeof b&&((P=0|b)<0?(I+=k*(p-1),p=R(-p/P)):p=R(p/P),k*=P),new g(this.data,A,p,O,k,I)},w.transpose=function(x,b){var A=this.shape,p=this.stride;return new g(this.data,A[x=void 0===x?0:0|x],A[b=void 0===b?1:0|b],p[x],p[b],this.offset)},w.pick=function(x,b){var A=[],p=[],O=this.offset;return"number"==typeof x&&x>=0?O=O+this.stride[0]*x|0:(A.push(this.shape[0]),p.push(this.stride[0])),"number"==typeof b&&b>=0?O=O+this.stride[1]*b|0:(A.push(this.shape[1]),p.push(this.stride[1])),(0,T[A.length+1])(this.data,A,p,O)},function(x,b,A,p){return new g(x,b[0],b[1],A[0],A[1],p)}},3:function(h,T,_){function g(x,b,A,p,O,k,I,P){this.data=x,this.shape=[b,A,p],this.stride=[O,k,I],this.offset=0|P}var w=g.prototype;return w.dtype=h,w.dimension=3,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(w,"order",{get:function(){var x=Math.abs(this.stride[0]),b=Math.abs(this.stride[1]),A=Math.abs(this.stride[2]);return x>b?b>A?[2,1,0]:x>A?[1,2,0]:[1,0,2]:x>A?[2,0,1]:A>b?[0,1,2]:[0,2,1]}}),w.set=function(x,b,A,p){return"generic"===h?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A,p):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A]=p},w.get=function(x,b,A){return"generic"===h?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A]},w.index=function(x,b,A){return this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A},w.hi=function(x,b,A){return new g(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof b||b<0?this.shape[1]:0|b,"number"!=typeof A||A<0?this.shape[2]:0|A,this.stride[0],this.stride[1],this.stride[2],this.offset)},w.lo=function(x,b,A){var p=this.offset,O=0,k=this.shape[0],I=this.shape[1],P=this.shape[2],R=this.stride[0],N=this.stride[1],j=this.stride[2];return"number"==typeof x&&x>=0&&(p+=R*(O=0|x),k-=O),"number"==typeof b&&b>=0&&(p+=N*(O=0|b),I-=O),"number"==typeof A&&A>=0&&(p+=j*(O=0|A),P-=O),new g(this.data,k,I,P,R,N,j,p)},w.step=function(x,b,A){var p=this.shape[0],O=this.shape[1],k=this.shape[2],I=this.stride[0],P=this.stride[1],R=this.stride[2],N=this.offset,j=0,X=Math.ceil;return"number"==typeof x&&((j=0|x)<0?(N+=I*(p-1),p=X(-p/j)):p=X(p/j),I*=j),"number"==typeof b&&((j=0|b)<0?(N+=P*(O-1),O=X(-O/j)):O=X(O/j),P*=j),"number"==typeof A&&((j=0|A)<0?(N+=R*(k-1),k=X(-k/j)):k=X(k/j),R*=j),new g(this.data,p,O,k,I,P,R,N)},w.transpose=function(x,b,A){var p=this.shape,O=this.stride;return new g(this.data,p[x=void 0===x?0:0|x],p[b=void 0===b?1:0|b],p[A=void 0===A?2:0|A],O[x],O[b],O[A],this.offset)},w.pick=function(x,b,A){var p=[],O=[],k=this.offset;return"number"==typeof x&&x>=0?k=k+this.stride[0]*x|0:(p.push(this.shape[0]),O.push(this.stride[0])),"number"==typeof b&&b>=0?k=k+this.stride[1]*b|0:(p.push(this.shape[1]),O.push(this.stride[1])),"number"==typeof A&&A>=0?k=k+this.stride[2]*A|0:(p.push(this.shape[2]),O.push(this.stride[2])),(0,T[p.length+1])(this.data,p,O,k)},function(x,b,A,p){return new g(x,b[0],b[1],b[2],A[0],A[1],A[2],p)}},4:function(h,T,_){function g(x,b,A,p,O,k,I,P,R,N){this.data=x,this.shape=[b,A,p,O],this.stride=[k,I,P,R],this.offset=0|N}var w=g.prototype;return w.dtype=h,w.dimension=4,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(w,"order",{get:_}),w.set=function(x,b,A,p,O){return"generic"===h?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*p,O):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*p]=O},w.get=function(x,b,A,p){return"generic"===h?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*p):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*p]},w.index=function(x,b,A,p){return this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*p},w.hi=function(x,b,A,p){return new g(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof b||b<0?this.shape[1]:0|b,"number"!=typeof A||A<0?this.shape[2]:0|A,"number"!=typeof p||p<0?this.shape[3]:0|p,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},w.lo=function(x,b,A,p){var O=this.offset,k=0,I=this.shape[0],P=this.shape[1],R=this.shape[2],N=this.shape[3],j=this.stride[0],X=this.stride[1],F=this.stride[2],Z=this.stride[3];return"number"==typeof x&&x>=0&&(O+=j*(k=0|x),I-=k),"number"==typeof b&&b>=0&&(O+=X*(k=0|b),P-=k),"number"==typeof A&&A>=0&&(O+=F*(k=0|A),R-=k),"number"==typeof p&&p>=0&&(O+=Z*(k=0|p),N-=k),new g(this.data,I,P,R,N,j,X,F,Z,O)},w.step=function(x,b,A,p){var O=this.shape[0],k=this.shape[1],I=this.shape[2],P=this.shape[3],R=this.stride[0],N=this.stride[1],j=this.stride[2],X=this.stride[3],F=this.offset,Z=0,W=Math.ceil;return"number"==typeof x&&((Z=0|x)<0?(F+=R*(O-1),O=W(-O/Z)):O=W(O/Z),R*=Z),"number"==typeof b&&((Z=0|b)<0?(F+=N*(k-1),k=W(-k/Z)):k=W(k/Z),N*=Z),"number"==typeof A&&((Z=0|A)<0?(F+=j*(I-1),I=W(-I/Z)):I=W(I/Z),j*=Z),"number"==typeof p&&((Z=0|p)<0?(F+=X*(P-1),P=W(-P/Z)):P=W(P/Z),X*=Z),new g(this.data,O,k,I,P,R,N,j,X,F)},w.transpose=function(x,b,A,p){var O=this.shape,k=this.stride;return new g(this.data,O[x=void 0===x?0:0|x],O[b=void 0===b?1:0|b],O[A=void 0===A?2:0|A],O[p=void 0===p?3:0|p],k[x],k[b],k[A],k[p],this.offset)},w.pick=function(x,b,A,p){var O=[],k=[],I=this.offset;return"number"==typeof x&&x>=0?I=I+this.stride[0]*x|0:(O.push(this.shape[0]),k.push(this.stride[0])),"number"==typeof b&&b>=0?I=I+this.stride[1]*b|0:(O.push(this.shape[1]),k.push(this.stride[1])),"number"==typeof A&&A>=0?I=I+this.stride[2]*A|0:(O.push(this.shape[2]),k.push(this.stride[2])),"number"==typeof p&&p>=0?I=I+this.stride[3]*p|0:(O.push(this.shape[3]),k.push(this.stride[3])),(0,T[O.length+1])(this.data,O,k,I)},function(x,b,A,p){return new g(x,b[0],b[1],b[2],b[3],A[0],A[1],A[2],A[3],p)}},5:function(h,T,_){function g(x,b,A,p,O,k,I,P,R,N,j,X){this.data=x,this.shape=[b,A,p,O,k],this.stride=[I,P,R,N,j],this.offset=0|X}var w=g.prototype;return w.dtype=h,w.dimension=5,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(w,"order",{get:_}),w.set=function(x,b,A,p,O,k){return"generic"===h?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*p+this.stride[4]*O,k):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*p+this.stride[4]*O]=k},w.get=function(x,b,A,p,O){return"generic"===h?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*p+this.stride[4]*O):this.data[this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*p+this.stride[4]*O]},w.index=function(x,b,A,p,O){return this.offset+this.stride[0]*x+this.stride[1]*b+this.stride[2]*A+this.stride[3]*p+this.stride[4]*O},w.hi=function(x,b,A,p,O){return new g(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof b||b<0?this.shape[1]:0|b,"number"!=typeof A||A<0?this.shape[2]:0|A,"number"!=typeof p||p<0?this.shape[3]:0|p,"number"!=typeof O||O<0?this.shape[4]:0|O,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},w.lo=function(x,b,A,p,O){var k=this.offset,I=0,P=this.shape[0],R=this.shape[1],N=this.shape[2],j=this.shape[3],X=this.shape[4],F=this.stride[0],Z=this.stride[1],W=this.stride[2],H=this.stride[3],G=this.stride[4];return"number"==typeof x&&x>=0&&(k+=F*(I=0|x),P-=I),"number"==typeof b&&b>=0&&(k+=Z*(I=0|b),R-=I),"number"==typeof A&&A>=0&&(k+=W*(I=0|A),N-=I),"number"==typeof p&&p>=0&&(k+=H*(I=0|p),j-=I),"number"==typeof O&&O>=0&&(k+=G*(I=0|O),X-=I),new g(this.data,P,R,N,j,X,F,Z,W,H,G,k)},w.step=function(x,b,A,p,O){var k=this.shape[0],I=this.shape[1],P=this.shape[2],R=this.shape[3],N=this.shape[4],j=this.stride[0],X=this.stride[1],F=this.stride[2],Z=this.stride[3],W=this.stride[4],H=this.offset,G=0,Y=Math.ceil;return"number"==typeof x&&((G=0|x)<0?(H+=j*(k-1),k=Y(-k/G)):k=Y(k/G),j*=G),"number"==typeof b&&((G=0|b)<0?(H+=X*(I-1),I=Y(-I/G)):I=Y(I/G),X*=G),"number"==typeof A&&((G=0|A)<0?(H+=F*(P-1),P=Y(-P/G)):P=Y(P/G),F*=G),"number"==typeof p&&((G=0|p)<0?(H+=Z*(R-1),R=Y(-R/G)):R=Y(R/G),Z*=G),"number"==typeof O&&((G=0|O)<0?(H+=W*(N-1),N=Y(-N/G)):N=Y(N/G),W*=G),new g(this.data,k,I,P,R,N,j,X,F,Z,W,H)},w.transpose=function(x,b,A,p,O){var k=this.shape,I=this.stride;return new g(this.data,k[x=void 0===x?0:0|x],k[b=void 0===b?1:0|b],k[A=void 0===A?2:0|A],k[p=void 0===p?3:0|p],k[O=void 0===O?4:0|O],I[x],I[b],I[A],I[p],I[O],this.offset)},w.pick=function(x,b,A,p,O){var k=[],I=[],P=this.offset;return"number"==typeof x&&x>=0?P=P+this.stride[0]*x|0:(k.push(this.shape[0]),I.push(this.stride[0])),"number"==typeof b&&b>=0?P=P+this.stride[1]*b|0:(k.push(this.shape[1]),I.push(this.stride[1])),"number"==typeof A&&A>=0?P=P+this.stride[2]*A|0:(k.push(this.shape[2]),I.push(this.stride[2])),"number"==typeof p&&p>=0?P=P+this.stride[3]*p|0:(k.push(this.shape[3]),I.push(this.stride[3])),"number"==typeof O&&O>=0?P=P+this.stride[4]*O|0:(k.push(this.shape[4]),I.push(this.stride[4])),(0,T[k.length+1])(this.data,k,I,P)},function(x,b,A,p){return new g(x,b[0],b[1],b[2],b[3],b[4],A[0],A[1],A[2],A[3],A[4],p)}}};function d(h,T){var _=-1===T?"T":String(T),g=u[_];return-1===T?g(h):0===T?g(h,m[h][0]):g(h,m[h],l)}var m={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};v.exports=function(h,T,_,g){if(void 0===h)return(0,m.array[0])([]);"number"==typeof h&&(h=[h]),void 0===T&&(T=[h.length]);var w=T.length;if(void 0===_){_=new Array(w);for(var x=w-1,b=1;x>=0;--x)_[x]=b,b*=T[x]}if(void 0===g)for(g=0,x=0;x<w;++x)_[x]<0&&(g-=(T[x]-1)*_[x]);for(var A=function(O){if(s(O))return"buffer";if(a)switch(Object.prototype.toString.call(O)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(O)?"array":"generic"}(h),p=m[A];p.length<=w+1;)p.push(d(A,p.length-1));return(0,p[w+1])(h,T,_,g)}},8551:function(v,c,i){"use strict";var s=i(8362),a=Math.pow(2,-1074),o=-1>>>0;v.exports=function(l,u){if(isNaN(l)||isNaN(u))return NaN;if(l===u)return l;if(0===l)return u<0?-a:a;var d=s.hi(l),m=s.lo(l);return u>l==l>0?m===o?(d+=1,m=0):m+=1:0===m?(m=o,d-=1):m-=1,s.pack(m,d)}},115:function(v,c){c.vertexNormals=function(i,s,a){for(var o=s.length,l=new Array(o),u=void 0===a?1e-6:a,d=0;d<o;++d)l[d]=[0,0,0];for(d=0;d<i.length;++d)for(var m=i[d],T=m[m.length-1],_=m[0],g=0;g<m.length;++g){for(var w=s[T],x=s[T=_],b=s[_=m[(g+1)%m.length]],A=new Array(3),p=0,O=new Array(3),k=0,I=0;I<3;++I)A[I]=w[I]-x[I],p+=A[I]*A[I],O[I]=b[I]-x[I],k+=O[I]*O[I];if(p*k>u){var P=l[T],R=1/Math.sqrt(p*k);for(I=0;I<3;++I){var N=(I+1)%3,j=(I+2)%3;P[I]+=R*(O[N]*A[j]-O[j]*A[N])}}}for(d=0;d<o;++d){P=l[d];var X=0;for(I=0;I<3;++I)X+=P[I]*P[I];if(X>u)for(R=1/Math.sqrt(X),I=0;I<3;++I)P[I]*=R;else for(I=0;I<3;++I)P[I]=0}return l},c.faceNormals=function(i,s,a){for(var o=i.length,l=new Array(o),u=void 0===a?1e-6:a,d=0;d<o;++d){for(var m=i[d],h=new Array(3),T=0;T<3;++T)h[T]=s[m[T]];var _=new Array(3),g=new Array(3);for(T=0;T<3;++T)_[T]=h[1][T]-h[0][T],g[T]=h[2][T]-h[0][T];var w=new Array(3),x=0;for(T=0;T<3;++T){var b=(T+1)%3,A=(T+2)%3;w[T]=_[b]*g[A]-_[A]*g[b],x+=w[T]*w[T]}for(x=x>u?1/Math.sqrt(x):0,T=0;T<3;++T)w[T]*=x;l[d]=w}return l}},567:function(v){"use strict";v.exports=function(c,i,s,a,o,l,u,d,m,h){var T=i+l+h;if(_>0){var _=Math.sqrt(T+1);c[0]=.5*(u-m)/_,c[1]=.5*(d-a)/_,c[2]=.5*(s-l)/_,c[3]=.5*_}else{var g=Math.max(i,l,h);_=Math.sqrt(2*g-T+1),i>=g?(c[0]=.5*_,c[1]=.5*(o+s)/_,c[2]=.5*(d+a)/_,c[3]=.5*(u-m)/_):l>=g?(c[0]=.5*(s+o)/_,c[1]=.5*_,c[2]=.5*(m+u)/_,c[3]=.5*(d-a)/_):(c[0]=.5*(a+d)/_,c[1]=.5*(u+m)/_,c[2]=.5*_,c[3]=.5*(s-o)/_)}return c}},7774:function(v,c,i){"use strict";v.exports=function(g){var w=(g=g||{}).center||[0,0,0],x=g.rotation||[0,0,0,1],b=g.radius||1;w=[].slice.call(w,0,3),h(x=[].slice.call(x,0,4),x);var A=new T(x,w,Math.log(b));return A.setDistanceLimits(g.zoomMin,g.zoomMax),("eye"in g||"up"in g)&&A.lookAt(0,g.eye,g.center,g.up),A};var s=i(8444),a=i(3012),o=i(5950),l=i(7437),u=i(567);function d(g,w,x){return Math.sqrt(Math.pow(g,2)+Math.pow(w,2)+Math.pow(x,2))}function m(g,w,x,b){return Math.sqrt(Math.pow(g,2)+Math.pow(w,2)+Math.pow(x,2)+Math.pow(b,2))}function h(g,w){var x=w[0],b=w[1],A=w[2],p=w[3],O=m(x,b,A,p);O>1e-6?(g[0]=x/O,g[1]=b/O,g[2]=A/O,g[3]=p/O):(g[0]=g[1]=g[2]=0,g[3]=1)}function T(g,w,x){this.radius=s([x]),this.center=s(w),this.rotation=s(g),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var _=T.prototype;_.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},_.recalcMatrix=function(g){this.radius.curve(g),this.center.curve(g),this.rotation.curve(g);var w=this.computedRotation;h(w,w);var x=this.computedMatrix;o(x,w);var b=this.computedCenter,A=this.computedEye,p=this.computedUp,O=Math.exp(this.computedRadius[0]);A[0]=b[0]+O*x[2],A[1]=b[1]+O*x[6],A[2]=b[2]+O*x[10],p[0]=x[1],p[1]=x[5],p[2]=x[9];for(var k=0;k<3;++k){for(var I=0,P=0;P<3;++P)I+=x[k+4*P]*A[P];x[12+k]=-I}},_.getMatrix=function(g,w){this.recalcMatrix(g);var x=this.computedMatrix;if(w){for(var b=0;b<16;++b)w[b]=x[b];return w}return x},_.idle=function(g){this.center.idle(g),this.radius.idle(g),this.rotation.idle(g)},_.flush=function(g){this.center.flush(g),this.radius.flush(g),this.rotation.flush(g)},_.pan=function(g,w,x,b){w=w||0,x=x||0,b=b||0,this.recalcMatrix(g);var A=this.computedMatrix,p=A[1],O=A[5],k=A[9],I=d(p,O,k),P=A[0],R=A[4],N=A[8],j=P*(p/=I)+R*(O/=I)+N*(k/=I),X=d(P-=p*j,R-=O*j,N-=k*j),F=A[2],Z=A[6],W=A[10],H=F*p+Z*O+W*k,G=F*(P/=X)+Z*(R/=X)+W*(N/=X),Y=d(F-=H*p+G*P,Z-=H*O+G*R,W-=H*k+G*N);F/=Y,Z/=Y,W/=Y,this.center.move(g,P*w+p*x,R*w+O*x,N*w+k*x);var Q=Math.exp(this.computedRadius[0]);Q=Math.max(1e-4,Q+b),this.radius.set(g,Math.log(Q))},_.rotate=function(g,w,x,b){this.recalcMatrix(g);var A=this.computedMatrix,N=A[2],j=A[6],X=A[10],F=(w=w||0)*A[0]+(x=x||0)*A[1],Z=w*A[4]+x*A[5],W=w*A[8]+x*A[9],H=-(j*W-X*Z),G=-(X*F-N*W),Y=-(N*Z-j*F),se=Math.sqrt(Math.max(0,1-Math.pow(H,2)-Math.pow(G,2)-Math.pow(Y,2))),te=m(H,G,Y,se);te>1e-6?(H/=te,G/=te,Y/=te,se/=te):(H=G=Y=0,se=1);var re=this.computedRotation,Q=re[0],ee=re[1],oe=re[2],le=re[3],ue=Q*se+le*H+ee*Y-oe*G,de=ee*se+le*G+oe*H-Q*Y,he=oe*se+le*Y+Q*G-ee*H,we=le*se-Q*H-ee*G-oe*Y;if(b){H=N,G=j,Y=X;var Ae=Math.sin(b)/d(H,G,Y);H*=Ae,G*=Ae,Y*=Ae,we=we*(se=Math.cos(w))-(ue=ue*se+we*H+de*Y-he*G)*H-(de=de*se+we*G+he*H-ue*Y)*G-(he=he*se+we*Y+ue*G-de*H)*Y}var Te=m(ue,de,he,we);Te>1e-6?(ue/=Te,de/=Te,he/=Te,we/=Te):(ue=de=he=0,we=1),this.rotation.set(g,ue,de,he,we)},_.lookAt=function(g,w,x,b){this.recalcMatrix(g);var A=this.computedMatrix;a(A,w=w||this.computedEye,x=x||this.computedCenter,b=b||this.computedUp);var p=this.computedRotation;u(p,A[0],A[1],A[2],A[4],A[5],A[6],A[8],A[9],A[10]),h(p,p),this.rotation.set(g,p[0],p[1],p[2],p[3]);for(var O=0,k=0;k<3;++k)O+=Math.pow(x[k]-w[k],2);this.radius.set(g,.5*Math.log(Math.max(O,1e-6))),this.center.set(g,x[0],x[1],x[2])},_.translate=function(g,w,x,b){this.center.move(g,w||0,x||0,b||0)},_.setMatrix=function(g,w){var x=this.computedRotation;u(x,w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]),h(x,x),this.rotation.set(g,x[0],x[1],x[2],x[3]);var b=this.computedMatrix;l(b,w);var A=b[15];if(Math.abs(A)>1e-6){var p=b[12]/A,O=b[13]/A,k=b[14]/A;this.recalcMatrix(g);var I=Math.exp(this.computedRadius[0]);this.center.set(g,p-b[2]*I,O-b[6]*I,k-b[10]*I),this.radius.idle(g)}else this.center.idle(g),this.radius.idle(g)},_.setDistance=function(g,w){w>0&&this.radius.set(g,Math.log(w))},_.setDistanceLimits=function(g,w){g=g>0?Math.log(g):-1/0,w=w>0?Math.log(w):1/0,w=Math.max(w,g),this.radius.bounds[0][0]=g,this.radius.bounds[1][0]=w},_.getDistanceLimits=function(g){var w=this.radius.bounds;return g?(g[0]=Math.exp(w[0][0]),g[1]=Math.exp(w[1][0]),g):[Math.exp(w[0][0]),Math.exp(w[1][0])]},_.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},_.fromJSON=function(g){var w=this.lastT(),x=g.center;x&&this.center.set(w,x[0],x[1],x[2]);var b=g.rotation;b&&this.rotation.set(w,b[0],b[1],b[2],b[3]);var A=g.distance;A&&A>0&&this.radius.set(w,Math.log(A)),this.setDistanceLimits(g.zoomMin,g.zoomMax)}},4930:function(v,c,i){"use strict";var s=i(6184);v.exports=function(a,o,l){return s(l=void 0!==l?l+"":" ",o)+a}},4405:function(v){v.exports=function(c,i){i||(i=[0,""]),c=String(c);var s=parseFloat(c,10);return i[0]=s,i[1]=c.match(/[\d.\-\+]*\s*(.*)/)[1]||"",i}},4166:function(v,c,i){"use strict";v.exports=function(a,o){for(var l=0|o.length,u=a.length,d=[new Array(l),new Array(l)],m=0;m<l;++m)d[0][m]=[],d[1][m]=[];for(m=0;m<u;++m){var h=a[m];d[0][h[0]].push(h),d[1][h[1]].push(h)}var k,T=[];for(m=0;m<l;++m)d[0][m].length+d[1][m].length===0&&T.push([m]);function _(O,k){var I=d[k][O[k]];I.splice(I.indexOf(O),1)}function g(O,k,I){for(var P,R,N,j=0;j<2;++j)if(d[j][k].length>0){P=d[j][k][0],N=j;break}R=P[1^N];for(var X=0;X<2;++X)for(var F=d[X][k],Z=0;Z<F.length;++Z){var W=F[Z],H=W[1^X];s(o[O],o[k],o[R],o[H])>0&&(P=W,R=H,N=X)}return I||P&&_(P,N),R}function w(O,k){var I=d[k][O][0],P=[O];_(I,k);for(var R=I[1^k];;){for(;R!==O;)P.push(R),R=g(P[P.length-2],R,!1);if(d[0][O].length+d[1][O].length===0)break;var N=P[P.length-1],j=O,X=P[1],F=g(N,j,!0);if(s(o[N],o[j],o[X],o[F])<0)break;P.push(O),R=g(N,j)}return P}for(m=0;m<l;++m)for(var b=0;b<2;++b){for(var A=[];d[b][m].length>0;){var p=w(m,b);(k=p)[1]===k[k.length-1]?A.push.apply(A,p):(A.length>0&&T.push(A),A=p)}A.length>0&&T.push(A)}return T};var s=i(9398)},3959:function(v,c,i){"use strict";v.exports=function(a,o){for(var l=s(a,o.length),u=new Array(o.length),d=new Array(o.length),m=[],h=0;h<o.length;++h){var T=l[h].length;d[h]=T,u[h]=!0,T<=1&&m.push(h)}for(;m.length>0;){u[b=m.pop()]=!1;var _=l[b];for(h=0;h<_.length;++h){var g=_[h];0==--d[g]&&m.push(g)}}var w=new Array(o.length),x=[];for(h=0;h<o.length;++h)if(u[h]){var b=x.length;w[h]=b,x.push(o[h])}else w[h]=-1;var A=[];for(h=0;h<a.length;++h){var p=a[h];u[p[0]]&&u[p[1]]&&A.push([w[p[0]],w[p[1]]])}return[A,x]};var s=i(8348)},8040:function(v,c,i){"use strict";v.exports=function(T,_){for(var g=m(T,_),w=(_=g[1]).length,x=s(T=g[0],_.length),b=0;b<w;++b)if(x[b].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var A=a(T,_),p=(A=A.filter(function(Fe){for(var Se=Fe.length,ke=[0],pe=0;pe<Se;++pe){var fe=_[Fe[pe]],be=_[Fe[(pe+1)%Se]],Le=l(-fe[0],fe[1]),Oe=l(-fe[0],be[1]),De=l(be[0],fe[1]),Ue=l(be[0],be[1]);ke=u(ke,u(u(Le,Oe),u(De,Ue)))}return ke[ke.length-1]>0})).length,O=new Array(p),k=new Array(p);for(b=0;b<p;++b){O[b]=b;var I=new Array(p),P=A[b].map(function(Fe){return _[Fe]}),R=o([P]),N=0;e:for(var j=0;j<p;++j)if(I[j]=0,b!==j){for(var X=(ve=A[j]).length,F=0;F<X;++F){var Z=R(_[ve[F]]);if(0!==Z){Z<0&&(I[j]=1,N+=1);continue e}}I[j]=1,N+=1}k[b]=[N,b,I]}for(k.sort(function(Fe,Se){return Se[0]-Fe[0]}),b=0;b<p;++b){var W=(I=k[b])[1],H=I[2];for(j=0;j<p;++j)H[j]&&(O[j]=W)}var G=function(Fe){for(var Se=new Array(Fe),ke=0;ke<Fe;++ke)Se[ke]=[];return Se}(p);for(b=0;b<p;++b)G[b].push(O[b]),G[O[b]].push(b);var Y={},se=h(w,!1);for(b=0;b<p;++b)for(X=(ve=A[b]).length,j=0;j<X;++j){var te=ve[j],re=ve[(j+1)%X],Q=Math.min(te,re)+":"+Math.max(te,re);if(Q in Y){var ee=Y[Q];G[ee].push(b),G[b].push(ee),se[te]=se[re]=!0}else Y[Q]=b}function oe(Fe){for(var Se=Fe.length,ke=0;ke<Se;++ke)if(!se[Fe[ke]])return!1;return!0}var le=[],ue=h(p,-1);for(b=0;b<p;++b)O[b]!==b||oe(A[b])?ue[b]=-1:(le.push(b),ue[b]=0);for(g=[];le.length>0;){var de=le.pop(),he=G[de];d(he,function(Fe,Se){return Fe-Se});var we,Ae=he.length,Te=ue[de];for(0===Te&&(we=[ve=A[de]]),b=0;b<Ae;++b){var ve,xe=he[b];ue[xe]>=0||(ue[xe]=1^Te,le.push(xe),0===Te&&(oe(ve=A[xe])||(ve.reverse(),we.push(ve))))}0===Te&&g.push(we)}return g};var s=i(8348),a=i(4166),o=i(211),l=i(9660),u=i(9662),d=i(1215),m=i(3959);function h(T,_){for(var g=new Array(T),w=0;w<T;++w)g[w]=_;return g}},211:function(v,c,i){v.exports=function(h){for(var T=h.length,_=[],g=[],w=0;w<T;++w)for(var x=h[w],b=x.length,A=b-1,p=0;p<b;A=p++){var O=x[A],k=x[p];O[0]===k[0]?g.push([O,k]):_.push([O,k])}if(0===_.length)return 0===g.length?m:(I=d(g),function(N){return I(N[0],N[1])?0:1});var I,N,j,P=a(_),R=(N=P.slabs,j=P.coordinates,function(X){var F=l.le(j,X[0]);if(F<0)return 1;var Z=N[F];if(!Z){if(!(F>0&&j[F]===X[0]))return 1;Z=N[F-1]}for(var W=1;Z;){var H=Z.key,G=s(X,H[0],H[1]);if(H[0][0]<H[1][0])if(G<0)Z=Z.left;else{if(!(G>0))return 0;W=-1,Z=Z.right}else if(G>0)Z=Z.left;else{if(!(G<0))return 0;W=1,Z=Z.right}}return W});return 0===g.length?R:function(N,j){return function(X){return N(X[0],X[1])?0:j(X)}}(d(g),R)};var s=i(417)[3],a=i(4385),o=i(9014),l=i(5070);function u(){return!0}function d(h){for(var T={},_=0;_<h.length;++_){var g=h[_],w=g[0][0],x=g[0][1],b=g[1][1],A=[Math.min(x,b),Math.max(x,b)];w in T?T[w].push(A):T[w]=[A]}var I,p={},O=Object.keys(T);for(_=0;_<O.length;++_)p[O[_]]=o(T[O[_]]);return I=p,function(P,R){var N=I[P];return!!N&&!!N.queryPoint(R,u)}}function m(h){return 1}},7309:function(v){"use strict";var c=new Float64Array(4),i=new Float64Array(4),s=new Float64Array(4);v.exports=function(a,o,l,u,d){c.length<u.length&&(c=new Float64Array(u.length),i=new Float64Array(u.length),s=new Float64Array(u.length));for(var m=0;m<u.length;++m)c[m]=a[m]-u[m],i[m]=o[m]-a[m],s[m]=l[m]-a[m];var h=0,T=0,_=0,g=0,w=0,x=0;for(m=0;m<u.length;++m){var b=i[m],A=s[m],p=c[m];h+=b*b,T+=b*A,_+=A*A,g+=p*b,w+=p*A,x+=p*p}var O,k,I,P,R,N=Math.abs(h*_-T*T),j=T*w-_*g,X=T*g-h*w;if(j+X<=N)if(j<0)X<0&&g<0?(X=0,-g>=h?(j=1,O=h+2*g+x):O=g*(j=-g/h)+x):(j=0,w>=0?(X=0,O=x):-w>=_?(X=1,O=_+2*w+x):O=w*(X=-w/_)+x);else if(X<0)X=0,g>=0?(j=0,O=x):-g>=h?(j=1,O=h+2*g+x):O=g*(j=-g/h)+x;else{var F=1/N;O=(j*=F)*(h*j+T*(X*=F)+2*g)+X*(T*j+_*X+2*w)+x}else j<0?(I=_+w)>(k=T+g)?(P=I-k)>=(R=h-2*T+_)?(j=1,X=0,O=h+2*g+x):O=(j=P/R)*(h*j+T*(X=1-j)+2*g)+X*(T*j+_*X+2*w)+x:(j=0,I<=0?(X=1,O=_+2*w+x):w>=0?(X=0,O=x):O=w*(X=-w/_)+x):X<0?(I=h+g)>(k=T+w)?(P=I-k)>=(R=h-2*T+_)?(X=1,j=0,O=_+2*w+x):O=(j=1-(X=P/R))*(h*j+T*X+2*g)+X*(T*j+_*X+2*w)+x:(X=0,I<=0?(j=1,O=h+2*g+x):g>=0?(j=0,O=x):O=g*(j=-g/h)+x):(P=_+w-T-g)<=0?(j=0,X=1,O=_+2*w+x):P>=(R=h-2*T+_)?(j=1,X=0,O=h+2*g+x):O=(j=P/R)*(h*j+T*(X=1-j)+2*g)+X*(T*j+_*X+2*w)+x;var Z=1-j-X;for(m=0;m<u.length;++m)d[m]=Z*a[m]+j*o[m]+X*l[m];return O<0?0:O}},1116:function(v,c,i){v.exports=i(6093)},7584:function(v,c,i){"use strict";var s=i(1539);v.exports=function(a,o){for(var l=a.length,u=new Array(l),d=0;d<l;++d)u[d]=s(a[d],o[d]);return u}},2826:function(v,c,i){"use strict";v.exports=function(a){for(var o=new Array(a.length),l=0;l<a.length;++l)o[l]=s(a[l]);return o};var s=i(5125)},4469:function(v,c,i){"use strict";var s=i(5125),a=i(3962);v.exports=function(o,l){for(var u=s(l),d=o.length,m=new Array(d),h=0;h<d;++h)m[h]=a(o[h],u);return m}},6695:function(v,c,i){"use strict";var s=i(4354);v.exports=function(a,o){for(var l=a.length,u=new Array(l),d=0;d<l;++d)u[d]=s(a[d],o[d]);return u}},7037:function(v,c,i){"use strict";var s=i(9209),a=i(1284),o=i(9887);v.exports=function(l){l.sort(a);for(var u=l.length,d=0,m=0;m<u;++m){var h=l[m],T=o(h);if(0!==T){if(d>0){var _=l[d-1];if(0===s(h,_)&&o(_)!==T){d-=1;continue}}l[d++]=h}}return l.length=d,l}},6184:function(v){"use strict";var c,i="";v.exports=function(s,a){if("string"!=typeof s)throw new TypeError("expected a string");if(1===a)return s;if(2===a)return s+s;var o=s.length*a;if(c!==s||void 0===c)c=s,i="";else if(i.length>=o)return i.substr(0,o);for(;o>i.length&&a>1;)1&a&&(i+=s),a>>=1,s+=s;return i=(i+=s).substr(0,o)}},8161:function(v,c,i){v.exports=i.g.performance&&i.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){"use strict";v.exports=function(c){for(var i=c.length,s=c[c.length-1],a=i,o=i-2;o>=0;--o){var l=s;(m=(d=c[o])-((s=l+d)-l))&&(c[--a]=s,s=m)}var u=0;for(o=a;o<i;++o){var d,m;(m=(d=s)-((s=(l=c[o])+d)-l))&&(c[u++]=m)}return c[u++]=s,c.length=u,c}},8167:function(v,c,i){"use strict";var s=i(9660),a=i(9662),o=i(8289),l=i(402);function u(w,x,b,A){return function(p){return A(w(b(p[0][0],p[1][1]),b(-p[0][1],p[1][0])))}}function d(w,x,b,A){return function(p){return A(w(x(w(b(p[1][1],p[2][2]),b(-p[1][2],p[2][1])),p[0][0]),w(x(w(b(p[1][0],p[2][2]),b(-p[1][2],p[2][0])),-p[0][1]),x(w(b(p[1][0],p[2][1]),b(-p[1][1],p[2][0])),p[0][2]))))}}function m(w,x,b,A){return function(p){return A(w(w(x(w(x(w(b(p[2][2],p[3][3]),b(-p[2][3],p[3][2])),p[1][1]),w(x(w(b(p[2][1],p[3][3]),b(-p[2][3],p[3][1])),-p[1][2]),x(w(b(p[2][1],p[3][2]),b(-p[2][2],p[3][1])),p[1][3]))),p[0][0]),x(w(x(w(b(p[2][2],p[3][3]),b(-p[2][3],p[3][2])),p[1][0]),w(x(w(b(p[2][0],p[3][3]),b(-p[2][3],p[3][0])),-p[1][2]),x(w(b(p[2][0],p[3][2]),b(-p[2][2],p[3][0])),p[1][3]))),-p[0][1])),w(x(w(x(w(b(p[2][1],p[3][3]),b(-p[2][3],p[3][1])),p[1][0]),w(x(w(b(p[2][0],p[3][3]),b(-p[2][3],p[3][0])),-p[1][1]),x(w(b(p[2][0],p[3][1]),b(-p[2][1],p[3][0])),p[1][3]))),p[0][2]),x(w(x(w(b(p[2][1],p[3][2]),b(-p[2][2],p[3][1])),p[1][0]),w(x(w(b(p[2][0],p[3][2]),b(-p[2][2],p[3][0])),-p[1][1]),x(w(b(p[2][0],p[3][1]),b(-p[2][1],p[3][0])),p[1][2]))),-p[0][3]))))}}function h(w,x,b,A){return function(p){return A(w(w(x(w(w(x(w(x(w(b(p[3][3],p[4][4]),b(-p[3][4],p[4][3])),p[2][2]),w(x(w(b(p[3][2],p[4][4]),b(-p[3][4],p[4][2])),-p[2][3]),x(w(b(p[3][2],p[4][3]),b(-p[3][3],p[4][2])),p[2][4]))),p[1][1]),x(w(x(w(b(p[3][3],p[4][4]),b(-p[3][4],p[4][3])),p[2][1]),w(x(w(b(p[3][1],p[4][4]),b(-p[3][4],p[4][1])),-p[2][3]),x(w(b(p[3][1],p[4][3]),b(-p[3][3],p[4][1])),p[2][4]))),-p[1][2])),w(x(w(x(w(b(p[3][2],p[4][4]),b(-p[3][4],p[4][2])),p[2][1]),w(x(w(b(p[3][1],p[4][4]),b(-p[3][4],p[4][1])),-p[2][2]),x(w(b(p[3][1],p[4][2]),b(-p[3][2],p[4][1])),p[2][4]))),p[1][3]),x(w(x(w(b(p[3][2],p[4][3]),b(-p[3][3],p[4][2])),p[2][1]),w(x(w(b(p[3][1],p[4][3]),b(-p[3][3],p[4][1])),-p[2][2]),x(w(b(p[3][1],p[4][2]),b(-p[3][2],p[4][1])),p[2][3]))),-p[1][4]))),p[0][0]),x(w(w(x(w(x(w(b(p[3][3],p[4][4]),b(-p[3][4],p[4][3])),p[2][2]),w(x(w(b(p[3][2],p[4][4]),b(-p[3][4],p[4][2])),-p[2][3]),x(w(b(p[3][2],p[4][3]),b(-p[3][3],p[4][2])),p[2][4]))),p[1][0]),x(w(x(w(b(p[3][3],p[4][4]),b(-p[3][4],p[4][3])),p[2][0]),w(x(w(b(p[3][0],p[4][4]),b(-p[3][4],p[4][0])),-p[2][3]),x(w(b(p[3][0],p[4][3]),b(-p[3][3],p[4][0])),p[2][4]))),-p[1][2])),w(x(w(x(w(b(p[3][2],p[4][4]),b(-p[3][4],p[4][2])),p[2][0]),w(x(w(b(p[3][0],p[4][4]),b(-p[3][4],p[4][0])),-p[2][2]),x(w(b(p[3][0],p[4][2]),b(-p[3][2],p[4][0])),p[2][4]))),p[1][3]),x(w(x(w(b(p[3][2],p[4][3]),b(-p[3][3],p[4][2])),p[2][0]),w(x(w(b(p[3][0],p[4][3]),b(-p[3][3],p[4][0])),-p[2][2]),x(w(b(p[3][0],p[4][2]),b(-p[3][2],p[4][0])),p[2][3]))),-p[1][4]))),-p[0][1])),w(x(w(w(x(w(x(w(b(p[3][3],p[4][4]),b(-p[3][4],p[4][3])),p[2][1]),w(x(w(b(p[3][1],p[4][4]),b(-p[3][4],p[4][1])),-p[2][3]),x(w(b(p[3][1],p[4][3]),b(-p[3][3],p[4][1])),p[2][4]))),p[1][0]),x(w(x(w(b(p[3][3],p[4][4]),b(-p[3][4],p[4][3])),p[2][0]),w(x(w(b(p[3][0],p[4][4]),b(-p[3][4],p[4][0])),-p[2][3]),x(w(b(p[3][0],p[4][3]),b(-p[3][3],p[4][0])),p[2][4]))),-p[1][1])),w(x(w(x(w(b(p[3][1],p[4][4]),b(-p[3][4],p[4][1])),p[2][0]),w(x(w(b(p[3][0],p[4][4]),b(-p[3][4],p[4][0])),-p[2][1]),x(w(b(p[3][0],p[4][1]),b(-p[3][1],p[4][0])),p[2][4]))),p[1][3]),x(w(x(w(b(p[3][1],p[4][3]),b(-p[3][3],p[4][1])),p[2][0]),w(x(w(b(p[3][0],p[4][3]),b(-p[3][3],p[4][0])),-p[2][1]),x(w(b(p[3][0],p[4][1]),b(-p[3][1],p[4][0])),p[2][3]))),-p[1][4]))),p[0][2]),w(x(w(w(x(w(x(w(b(p[3][2],p[4][4]),b(-p[3][4],p[4][2])),p[2][1]),w(x(w(b(p[3][1],p[4][4]),b(-p[3][4],p[4][1])),-p[2][2]),x(w(b(p[3][1],p[4][2]),b(-p[3][2],p[4][1])),p[2][4]))),p[1][0]),x(w(x(w(b(p[3][2],p[4][4]),b(-p[3][4],p[4][2])),p[2][0]),w(x(w(b(p[3][0],p[4][4]),b(-p[3][4],p[4][0])),-p[2][2]),x(w(b(p[3][0],p[4][2]),b(-p[3][2],p[4][0])),p[2][4]))),-p[1][1])),w(x(w(x(w(b(p[3][1],p[4][4]),b(-p[3][4],p[4][1])),p[2][0]),w(x(w(b(p[3][0],p[4][4]),b(-p[3][4],p[4][0])),-p[2][1]),x(w(b(p[3][0],p[4][1]),b(-p[3][1],p[4][0])),p[2][4]))),p[1][2]),x(w(x(w(b(p[3][1],p[4][2]),b(-p[3][2],p[4][1])),p[2][0]),w(x(w(b(p[3][0],p[4][2]),b(-p[3][2],p[4][0])),-p[2][1]),x(w(b(p[3][0],p[4][1]),b(-p[3][1],p[4][0])),p[2][2]))),-p[1][4]))),-p[0][3]),x(w(w(x(w(x(w(b(p[3][2],p[4][3]),b(-p[3][3],p[4][2])),p[2][1]),w(x(w(b(p[3][1],p[4][3]),b(-p[3][3],p[4][1])),-p[2][2]),x(w(b(p[3][1],p[4][2]),b(-p[3][2],p[4][1])),p[2][3]))),p[1][0]),x(w(x(w(b(p[3][2],p[4][3]),b(-p[3][3],p[4][2])),p[2][0]),w(x(w(b(p[3][0],p[4][3]),b(-p[3][3],p[4][0])),-p[2][2]),x(w(b(p[3][0],p[4][2]),b(-p[3][2],p[4][0])),p[2][3]))),-p[1][1])),w(x(w(x(w(b(p[3][1],p[4][3]),b(-p[3][3],p[4][1])),p[2][0]),w(x(w(b(p[3][0],p[4][3]),b(-p[3][3],p[4][0])),-p[2][1]),x(w(b(p[3][0],p[4][1]),b(-p[3][1],p[4][0])),p[2][3]))),p[1][2]),x(w(x(w(b(p[3][1],p[4][2]),b(-p[3][2],p[4][1])),p[2][0]),w(x(w(b(p[3][0],p[4][2]),b(-p[3][2],p[4][0])),-p[2][1]),x(w(b(p[3][0],p[4][1]),b(-p[3][1],p[4][0])),p[2][2]))),-p[1][3]))),p[0][4])))))}}function T(w){return(2===w?u:3===w?d:4===w?m:5===w?h:void 0)(a,o,s,l)}var _=[function(){return[0]},function(w){return[w[0][0]]}];function g(w,x,b,A,p,O,k,I){return function(P){switch(P.length){case 0:return w(P);case 1:return x(P);case 2:return b(P);case 3:return A(P);case 4:return p(P);case 5:return O(P)}var R=k[P.length];return R||(R=k[P.length]=I(P.length)),R(P)}}!function(){for(;_.length<6;)_.push(T(_.length));v.exports=g.apply(void 0,_.concat([_,T]));for(var w=0;w<_.length;++w)v.exports[w]=_[w]}()},9130:function(v,c,i){"use strict";var s=i(9660),a=i(9662);v.exports=function(o,l){for(var u=s(o[0],l[0]),d=1;d<o.length;++d)u=a(u,s(o[d],l[d]));return u}},2227:function(v,c,i){"use strict";var s=i(9660),a=i(9662),o=i(4078),l=i(8289);function u(x){return(3===x?d:4===x?m:5===x?h:T)(a,o,s,l)}function d(x,b,A,p){return function(O,k,I){var P=A(O[0],O[0]),R=p(P,k[0]),N=p(P,I[0]),j=A(k[0],k[0]),X=p(j,O[0]),F=p(j,I[0]),Z=A(I[0],I[0]),W=p(Z,O[0]),H=p(Z,k[0]),G=x(b(H,F),b(X,R)),Y=b(W,N),se=b(G,Y);return se[se.length-1]}}function m(x,b,A,p){return function(O,k,I,P){var R=x(A(O[0],O[0]),A(O[1],O[1])),N=p(R,k[0]),j=p(R,I[0]),X=p(R,P[0]),F=x(A(k[0],k[0]),A(k[1],k[1])),Z=p(F,O[0]),W=p(F,I[0]),H=p(F,P[0]),G=x(A(I[0],I[0]),A(I[1],I[1])),Y=p(G,O[0]),se=p(G,k[0]),te=p(G,P[0]),re=x(A(P[0],P[0]),A(P[1],P[1])),Q=p(re,O[0]),ee=p(re,k[0]),oe=p(re,I[0]),le=x(x(p(b(oe,te),k[1]),x(p(b(ee,H),-I[1]),p(b(se,W),P[1]))),x(p(b(ee,H),O[1]),x(p(b(Q,X),-k[1]),p(b(Z,N),P[1])))),ue=x(x(p(b(oe,te),O[1]),x(p(b(Q,X),-I[1]),p(b(Y,j),P[1]))),x(p(b(se,W),O[1]),x(p(b(Y,j),-k[1]),p(b(Z,N),I[1])))),de=b(le,ue);return de[de.length-1]}}function h(x,b,A,p){return function(O,k,I,P,R){var N=x(A(O[0],O[0]),x(A(O[1],O[1]),A(O[2],O[2]))),j=p(N,k[0]),X=p(N,I[0]),F=p(N,P[0]),Z=p(N,R[0]),W=x(A(k[0],k[0]),x(A(k[1],k[1]),A(k[2],k[2]))),H=p(W,O[0]),G=p(W,I[0]),Y=p(W,P[0]),se=p(W,R[0]),te=x(A(I[0],I[0]),x(A(I[1],I[1]),A(I[2],I[2]))),re=p(te,O[0]),Q=p(te,k[0]),ee=p(te,P[0]),oe=p(te,R[0]),le=x(A(P[0],P[0]),x(A(P[1],P[1]),A(P[2],P[2]))),ue=p(le,O[0]),de=p(le,k[0]),he=p(le,I[0]),we=p(le,R[0]),Ae=x(A(R[0],R[0]),x(A(R[1],R[1]),A(R[2],R[2]))),Te=p(Ae,O[0]),ve=p(Ae,k[0]),xe=p(Ae,I[0]),Fe=p(Ae,P[0]),Se=x(x(x(p(x(p(b(Fe,we),I[1]),x(p(b(xe,oe),-P[1]),p(b(he,ee),R[1]))),k[2]),x(p(x(p(b(Fe,we),k[1]),x(p(b(ve,se),-P[1]),p(b(de,Y),R[1]))),-I[2]),p(x(p(b(xe,oe),k[1]),x(p(b(ve,se),-I[1]),p(b(Q,G),R[1]))),P[2]))),x(p(x(p(b(he,ee),k[1]),x(p(b(de,Y),-I[1]),p(b(Q,G),P[1]))),-R[2]),x(p(x(p(b(Fe,we),k[1]),x(p(b(ve,se),-P[1]),p(b(de,Y),R[1]))),O[2]),p(x(p(b(Fe,we),O[1]),x(p(b(Te,Z),-P[1]),p(b(ue,F),R[1]))),-k[2])))),x(x(p(x(p(b(ve,se),O[1]),x(p(b(Te,Z),-k[1]),p(b(H,j),R[1]))),P[2]),x(p(x(p(b(de,Y),O[1]),x(p(b(ue,F),-k[1]),p(b(H,j),P[1]))),-R[2]),p(x(p(b(he,ee),k[1]),x(p(b(de,Y),-I[1]),p(b(Q,G),P[1]))),O[2]))),x(p(x(p(b(he,ee),O[1]),x(p(b(ue,F),-I[1]),p(b(re,X),P[1]))),-k[2]),x(p(x(p(b(de,Y),O[1]),x(p(b(ue,F),-k[1]),p(b(H,j),P[1]))),I[2]),p(x(p(b(Q,G),O[1]),x(p(b(re,X),-k[1]),p(b(H,j),I[1]))),-P[2]))))),ke=x(x(x(p(x(p(b(Fe,we),I[1]),x(p(b(xe,oe),-P[1]),p(b(he,ee),R[1]))),O[2]),p(x(p(b(Fe,we),O[1]),x(p(b(Te,Z),-P[1]),p(b(ue,F),R[1]))),-I[2])),x(p(x(p(b(xe,oe),O[1]),x(p(b(Te,Z),-I[1]),p(b(re,X),R[1]))),P[2]),p(x(p(b(he,ee),O[1]),x(p(b(ue,F),-I[1]),p(b(re,X),P[1]))),-R[2]))),x(x(p(x(p(b(xe,oe),k[1]),x(p(b(ve,se),-I[1]),p(b(Q,G),R[1]))),O[2]),p(x(p(b(xe,oe),O[1]),x(p(b(Te,Z),-I[1]),p(b(re,X),R[1]))),-k[2])),x(p(x(p(b(ve,se),O[1]),x(p(b(Te,Z),-k[1]),p(b(H,j),R[1]))),I[2]),p(x(p(b(Q,G),O[1]),x(p(b(re,X),-k[1]),p(b(H,j),I[1]))),-R[2])))),pe=b(Se,ke);return pe[pe.length-1]}}function T(x,b,A,p){return function(O,k,I,P,R,N){var j=x(x(A(O[0],O[0]),A(O[1],O[1])),x(A(O[2],O[2]),A(O[3],O[3]))),X=p(j,k[0]),F=p(j,I[0]),Z=p(j,P[0]),W=p(j,R[0]),H=p(j,N[0]),G=x(x(A(k[0],k[0]),A(k[1],k[1])),x(A(k[2],k[2]),A(k[3],k[3]))),Y=p(G,O[0]),se=p(G,I[0]),te=p(G,P[0]),re=p(G,R[0]),Q=p(G,N[0]),ee=x(x(A(I[0],I[0]),A(I[1],I[1])),x(A(I[2],I[2]),A(I[3],I[3]))),oe=p(ee,O[0]),le=p(ee,k[0]),ue=p(ee,P[0]),de=p(ee,R[0]),he=p(ee,N[0]),we=x(x(A(P[0],P[0]),A(P[1],P[1])),x(A(P[2],P[2]),A(P[3],P[3]))),Ae=p(we,O[0]),Te=p(we,k[0]),ve=p(we,I[0]),xe=p(we,R[0]),Fe=p(we,N[0]),Se=x(x(A(R[0],R[0]),A(R[1],R[1])),x(A(R[2],R[2]),A(R[3],R[3]))),ke=p(Se,O[0]),pe=p(Se,k[0]),fe=p(Se,I[0]),be=p(Se,P[0]),Le=p(Se,N[0]),Oe=x(x(A(N[0],N[0]),A(N[1],N[1])),x(A(N[2],N[2]),A(N[3],N[3]))),De=p(Oe,O[0]),Ue=p(Oe,k[0]),Ge=p(Oe,I[0]),ye=p(Oe,P[0]),Ie=p(Oe,R[0]),Ee=x(x(x(p(x(x(p(x(p(b(Ie,Le),P[1]),x(p(b(ye,Fe),-R[1]),p(b(be,xe),N[1]))),I[2]),p(x(p(b(Ie,Le),I[1]),x(p(b(Ge,he),-R[1]),p(b(fe,de),N[1]))),-P[2])),x(p(x(p(b(ye,Fe),I[1]),x(p(b(Ge,he),-P[1]),p(b(ve,ue),N[1]))),R[2]),p(x(p(b(be,xe),I[1]),x(p(b(fe,de),-P[1]),p(b(ve,ue),R[1]))),-N[2]))),k[3]),x(p(x(x(p(x(p(b(Ie,Le),P[1]),x(p(b(ye,Fe),-R[1]),p(b(be,xe),N[1]))),k[2]),p(x(p(b(Ie,Le),k[1]),x(p(b(Ue,Q),-R[1]),p(b(pe,re),N[1]))),-P[2])),x(p(x(p(b(ye,Fe),k[1]),x(p(b(Ue,Q),-P[1]),p(b(Te,te),N[1]))),R[2]),p(x(p(b(be,xe),k[1]),x(p(b(pe,re),-P[1]),p(b(Te,te),R[1]))),-N[2]))),-I[3]),p(x(x(p(x(p(b(Ie,Le),I[1]),x(p(b(Ge,he),-R[1]),p(b(fe,de),N[1]))),k[2]),p(x(p(b(Ie,Le),k[1]),x(p(b(Ue,Q),-R[1]),p(b(pe,re),N[1]))),-I[2])),x(p(x(p(b(Ge,he),k[1]),x(p(b(Ue,Q),-I[1]),p(b(le,se),N[1]))),R[2]),p(x(p(b(fe,de),k[1]),x(p(b(pe,re),-I[1]),p(b(le,se),R[1]))),-N[2]))),P[3]))),x(x(p(x(x(p(x(p(b(ye,Fe),I[1]),x(p(b(Ge,he),-P[1]),p(b(ve,ue),N[1]))),k[2]),p(x(p(b(ye,Fe),k[1]),x(p(b(Ue,Q),-P[1]),p(b(Te,te),N[1]))),-I[2])),x(p(x(p(b(Ge,he),k[1]),x(p(b(Ue,Q),-I[1]),p(b(le,se),N[1]))),P[2]),p(x(p(b(ve,ue),k[1]),x(p(b(Te,te),-I[1]),p(b(le,se),P[1]))),-N[2]))),-R[3]),p(x(x(p(x(p(b(be,xe),I[1]),x(p(b(fe,de),-P[1]),p(b(ve,ue),R[1]))),k[2]),p(x(p(b(be,xe),k[1]),x(p(b(pe,re),-P[1]),p(b(Te,te),R[1]))),-I[2])),x(p(x(p(b(fe,de),k[1]),x(p(b(pe,re),-I[1]),p(b(le,se),R[1]))),P[2]),p(x(p(b(ve,ue),k[1]),x(p(b(Te,te),-I[1]),p(b(le,se),P[1]))),-R[2]))),N[3])),x(p(x(x(p(x(p(b(Ie,Le),P[1]),x(p(b(ye,Fe),-R[1]),p(b(be,xe),N[1]))),k[2]),p(x(p(b(Ie,Le),k[1]),x(p(b(Ue,Q),-R[1]),p(b(pe,re),N[1]))),-P[2])),x(p(x(p(b(ye,Fe),k[1]),x(p(b(Ue,Q),-P[1]),p(b(Te,te),N[1]))),R[2]),p(x(p(b(be,xe),k[1]),x(p(b(pe,re),-P[1]),p(b(Te,te),R[1]))),-N[2]))),O[3]),p(x(x(p(x(p(b(Ie,Le),P[1]),x(p(b(ye,Fe),-R[1]),p(b(be,xe),N[1]))),O[2]),p(x(p(b(Ie,Le),O[1]),x(p(b(De,H),-R[1]),p(b(ke,W),N[1]))),-P[2])),x(p(x(p(b(ye,Fe),O[1]),x(p(b(De,H),-P[1]),p(b(Ae,Z),N[1]))),R[2]),p(x(p(b(be,xe),O[1]),x(p(b(ke,W),-P[1]),p(b(Ae,Z),R[1]))),-N[2]))),-k[3])))),x(x(x(p(x(x(p(x(p(b(Ie,Le),k[1]),x(p(b(Ue,Q),-R[1]),p(b(pe,re),N[1]))),O[2]),p(x(p(b(Ie,Le),O[1]),x(p(b(De,H),-R[1]),p(b(ke,W),N[1]))),-k[2])),x(p(x(p(b(Ue,Q),O[1]),x(p(b(De,H),-k[1]),p(b(Y,X),N[1]))),R[2]),p(x(p(b(pe,re),O[1]),x(p(b(ke,W),-k[1]),p(b(Y,X),R[1]))),-N[2]))),P[3]),p(x(x(p(x(p(b(ye,Fe),k[1]),x(p(b(Ue,Q),-P[1]),p(b(Te,te),N[1]))),O[2]),p(x(p(b(ye,Fe),O[1]),x(p(b(De,H),-P[1]),p(b(Ae,Z),N[1]))),-k[2])),x(p(x(p(b(Ue,Q),O[1]),x(p(b(De,H),-k[1]),p(b(Y,X),N[1]))),P[2]),p(x(p(b(Te,te),O[1]),x(p(b(Ae,Z),-k[1]),p(b(Y,X),P[1]))),-N[2]))),-R[3])),x(p(x(x(p(x(p(b(be,xe),k[1]),x(p(b(pe,re),-P[1]),p(b(Te,te),R[1]))),O[2]),p(x(p(b(be,xe),O[1]),x(p(b(ke,W),-P[1]),p(b(Ae,Z),R[1]))),-k[2])),x(p(x(p(b(pe,re),O[1]),x(p(b(ke,W),-k[1]),p(b(Y,X),R[1]))),P[2]),p(x(p(b(Te,te),O[1]),x(p(b(Ae,Z),-k[1]),p(b(Y,X),P[1]))),-R[2]))),N[3]),p(x(x(p(x(p(b(ye,Fe),I[1]),x(p(b(Ge,he),-P[1]),p(b(ve,ue),N[1]))),k[2]),p(x(p(b(ye,Fe),k[1]),x(p(b(Ue,Q),-P[1]),p(b(Te,te),N[1]))),-I[2])),x(p(x(p(b(Ge,he),k[1]),x(p(b(Ue,Q),-I[1]),p(b(le,se),N[1]))),P[2]),p(x(p(b(ve,ue),k[1]),x(p(b(Te,te),-I[1]),p(b(le,se),P[1]))),-N[2]))),O[3]))),x(x(p(x(x(p(x(p(b(ye,Fe),I[1]),x(p(b(Ge,he),-P[1]),p(b(ve,ue),N[1]))),O[2]),p(x(p(b(ye,Fe),O[1]),x(p(b(De,H),-P[1]),p(b(Ae,Z),N[1]))),-I[2])),x(p(x(p(b(Ge,he),O[1]),x(p(b(De,H),-I[1]),p(b(oe,F),N[1]))),P[2]),p(x(p(b(ve,ue),O[1]),x(p(b(Ae,Z),-I[1]),p(b(oe,F),P[1]))),-N[2]))),-k[3]),p(x(x(p(x(p(b(ye,Fe),k[1]),x(p(b(Ue,Q),-P[1]),p(b(Te,te),N[1]))),O[2]),p(x(p(b(ye,Fe),O[1]),x(p(b(De,H),-P[1]),p(b(Ae,Z),N[1]))),-k[2])),x(p(x(p(b(Ue,Q),O[1]),x(p(b(De,H),-k[1]),p(b(Y,X),N[1]))),P[2]),p(x(p(b(Te,te),O[1]),x(p(b(Ae,Z),-k[1]),p(b(Y,X),P[1]))),-N[2]))),I[3])),x(p(x(x(p(x(p(b(Ge,he),k[1]),x(p(b(Ue,Q),-I[1]),p(b(le,se),N[1]))),O[2]),p(x(p(b(Ge,he),O[1]),x(p(b(De,H),-I[1]),p(b(oe,F),N[1]))),-k[2])),x(p(x(p(b(Ue,Q),O[1]),x(p(b(De,H),-k[1]),p(b(Y,X),N[1]))),I[2]),p(x(p(b(le,se),O[1]),x(p(b(oe,F),-k[1]),p(b(Y,X),I[1]))),-N[2]))),-P[3]),p(x(x(p(x(p(b(ve,ue),k[1]),x(p(b(Te,te),-I[1]),p(b(le,se),P[1]))),O[2]),p(x(p(b(ve,ue),O[1]),x(p(b(Ae,Z),-I[1]),p(b(oe,F),P[1]))),-k[2])),x(p(x(p(b(Te,te),O[1]),x(p(b(Ae,Z),-k[1]),p(b(Y,X),P[1]))),I[2]),p(x(p(b(le,se),O[1]),x(p(b(oe,F),-k[1]),p(b(Y,X),I[1]))),-P[2]))),N[3]))))),Be=x(x(x(p(x(x(p(x(p(b(Ie,Le),P[1]),x(p(b(ye,Fe),-R[1]),p(b(be,xe),N[1]))),I[2]),p(x(p(b(Ie,Le),I[1]),x(p(b(Ge,he),-R[1]),p(b(fe,de),N[1]))),-P[2])),x(p(x(p(b(ye,Fe),I[1]),x(p(b(Ge,he),-P[1]),p(b(ve,ue),N[1]))),R[2]),p(x(p(b(be,xe),I[1]),x(p(b(fe,de),-P[1]),p(b(ve,ue),R[1]))),-N[2]))),O[3]),x(p(x(x(p(x(p(b(Ie,Le),P[1]),x(p(b(ye,Fe),-R[1]),p(b(be,xe),N[1]))),O[2]),p(x(p(b(Ie,Le),O[1]),x(p(b(De,H),-R[1]),p(b(ke,W),N[1]))),-P[2])),x(p(x(p(b(ye,Fe),O[1]),x(p(b(De,H),-P[1]),p(b(Ae,Z),N[1]))),R[2]),p(x(p(b(be,xe),O[1]),x(p(b(ke,W),-P[1]),p(b(Ae,Z),R[1]))),-N[2]))),-I[3]),p(x(x(p(x(p(b(Ie,Le),I[1]),x(p(b(Ge,he),-R[1]),p(b(fe,de),N[1]))),O[2]),p(x(p(b(Ie,Le),O[1]),x(p(b(De,H),-R[1]),p(b(ke,W),N[1]))),-I[2])),x(p(x(p(b(Ge,he),O[1]),x(p(b(De,H),-I[1]),p(b(oe,F),N[1]))),R[2]),p(x(p(b(fe,de),O[1]),x(p(b(ke,W),-I[1]),p(b(oe,F),R[1]))),-N[2]))),P[3]))),x(x(p(x(x(p(x(p(b(ye,Fe),I[1]),x(p(b(Ge,he),-P[1]),p(b(ve,ue),N[1]))),O[2]),p(x(p(b(ye,Fe),O[1]),x(p(b(De,H),-P[1]),p(b(Ae,Z),N[1]))),-I[2])),x(p(x(p(b(Ge,he),O[1]),x(p(b(De,H),-I[1]),p(b(oe,F),N[1]))),P[2]),p(x(p(b(ve,ue),O[1]),x(p(b(Ae,Z),-I[1]),p(b(oe,F),P[1]))),-N[2]))),-R[3]),p(x(x(p(x(p(b(be,xe),I[1]),x(p(b(fe,de),-P[1]),p(b(ve,ue),R[1]))),O[2]),p(x(p(b(be,xe),O[1]),x(p(b(ke,W),-P[1]),p(b(Ae,Z),R[1]))),-I[2])),x(p(x(p(b(fe,de),O[1]),x(p(b(ke,W),-I[1]),p(b(oe,F),R[1]))),P[2]),p(x(p(b(ve,ue),O[1]),x(p(b(Ae,Z),-I[1]),p(b(oe,F),P[1]))),-R[2]))),N[3])),x(p(x(x(p(x(p(b(Ie,Le),I[1]),x(p(b(Ge,he),-R[1]),p(b(fe,de),N[1]))),k[2]),p(x(p(b(Ie,Le),k[1]),x(p(b(Ue,Q),-R[1]),p(b(pe,re),N[1]))),-I[2])),x(p(x(p(b(Ge,he),k[1]),x(p(b(Ue,Q),-I[1]),p(b(le,se),N[1]))),R[2]),p(x(p(b(fe,de),k[1]),x(p(b(pe,re),-I[1]),p(b(le,se),R[1]))),-N[2]))),O[3]),p(x(x(p(x(p(b(Ie,Le),I[1]),x(p(b(Ge,he),-R[1]),p(b(fe,de),N[1]))),O[2]),p(x(p(b(Ie,Le),O[1]),x(p(b(De,H),-R[1]),p(b(ke,W),N[1]))),-I[2])),x(p(x(p(b(Ge,he),O[1]),x(p(b(De,H),-I[1]),p(b(oe,F),N[1]))),R[2]),p(x(p(b(fe,de),O[1]),x(p(b(ke,W),-I[1]),p(b(oe,F),R[1]))),-N[2]))),-k[3])))),x(x(x(p(x(x(p(x(p(b(Ie,Le),k[1]),x(p(b(Ue,Q),-R[1]),p(b(pe,re),N[1]))),O[2]),p(x(p(b(Ie,Le),O[1]),x(p(b(De,H),-R[1]),p(b(ke,W),N[1]))),-k[2])),x(p(x(p(b(Ue,Q),O[1]),x(p(b(De,H),-k[1]),p(b(Y,X),N[1]))),R[2]),p(x(p(b(pe,re),O[1]),x(p(b(ke,W),-k[1]),p(b(Y,X),R[1]))),-N[2]))),I[3]),p(x(x(p(x(p(b(Ge,he),k[1]),x(p(b(Ue,Q),-I[1]),p(b(le,se),N[1]))),O[2]),p(x(p(b(Ge,he),O[1]),x(p(b(De,H),-I[1]),p(b(oe,F),N[1]))),-k[2])),x(p(x(p(b(Ue,Q),O[1]),x(p(b(De,H),-k[1]),p(b(Y,X),N[1]))),I[2]),p(x(p(b(le,se),O[1]),x(p(b(oe,F),-k[1]),p(b(Y,X),I[1]))),-N[2]))),-R[3])),x(p(x(x(p(x(p(b(fe,de),k[1]),x(p(b(pe,re),-I[1]),p(b(le,se),R[1]))),O[2]),p(x(p(b(fe,de),O[1]),x(p(b(ke,W),-I[1]),p(b(oe,F),R[1]))),-k[2])),x(p(x(p(b(pe,re),O[1]),x(p(b(ke,W),-k[1]),p(b(Y,X),R[1]))),I[2]),p(x(p(b(le,se),O[1]),x(p(b(oe,F),-k[1]),p(b(Y,X),I[1]))),-R[2]))),N[3]),p(x(x(p(x(p(b(be,xe),I[1]),x(p(b(fe,de),-P[1]),p(b(ve,ue),R[1]))),k[2]),p(x(p(b(be,xe),k[1]),x(p(b(pe,re),-P[1]),p(b(Te,te),R[1]))),-I[2])),x(p(x(p(b(fe,de),k[1]),x(p(b(pe,re),-I[1]),p(b(le,se),R[1]))),P[2]),p(x(p(b(ve,ue),k[1]),x(p(b(Te,te),-I[1]),p(b(le,se),P[1]))),-R[2]))),O[3]))),x(x(p(x(x(p(x(p(b(be,xe),I[1]),x(p(b(fe,de),-P[1]),p(b(ve,ue),R[1]))),O[2]),p(x(p(b(be,xe),O[1]),x(p(b(ke,W),-P[1]),p(b(Ae,Z),R[1]))),-I[2])),x(p(x(p(b(fe,de),O[1]),x(p(b(ke,W),-I[1]),p(b(oe,F),R[1]))),P[2]),p(x(p(b(ve,ue),O[1]),x(p(b(Ae,Z),-I[1]),p(b(oe,F),P[1]))),-R[2]))),-k[3]),p(x(x(p(x(p(b(be,xe),k[1]),x(p(b(pe,re),-P[1]),p(b(Te,te),R[1]))),O[2]),p(x(p(b(be,xe),O[1]),x(p(b(ke,W),-P[1]),p(b(Ae,Z),R[1]))),-k[2])),x(p(x(p(b(pe,re),O[1]),x(p(b(ke,W),-k[1]),p(b(Y,X),R[1]))),P[2]),p(x(p(b(Te,te),O[1]),x(p(b(Ae,Z),-k[1]),p(b(Y,X),P[1]))),-R[2]))),I[3])),x(p(x(x(p(x(p(b(fe,de),k[1]),x(p(b(pe,re),-I[1]),p(b(le,se),R[1]))),O[2]),p(x(p(b(fe,de),O[1]),x(p(b(ke,W),-I[1]),p(b(oe,F),R[1]))),-k[2])),x(p(x(p(b(pe,re),O[1]),x(p(b(ke,W),-k[1]),p(b(Y,X),R[1]))),I[2]),p(x(p(b(le,se),O[1]),x(p(b(oe,F),-k[1]),p(b(Y,X),I[1]))),-R[2]))),-P[3]),p(x(x(p(x(p(b(ve,ue),k[1]),x(p(b(Te,te),-I[1]),p(b(le,se),P[1]))),O[2]),p(x(p(b(ve,ue),O[1]),x(p(b(Ae,Z),-I[1]),p(b(oe,F),P[1]))),-k[2])),x(p(x(p(b(Te,te),O[1]),x(p(b(Ae,Z),-k[1]),p(b(Y,X),P[1]))),I[2]),p(x(p(b(le,se),O[1]),x(p(b(oe,F),-k[1]),p(b(Y,X),I[1]))),-P[2]))),R[3]))))),We=b(Ee,Be);return We[We.length-1]}}var _=[function(){return 0},function(){return 0},function(){return 0}];function g(x){var b=_[x.length];return b||(b=_[x.length]=u(x.length)),b.apply(void 0,x)}function w(x,b,A,p,O,k,I,P){return function(R,N,j,X,F,Z){switch(arguments.length){case 0:case 1:return 0;case 2:return p(R,N);case 3:return O(R,N,j);case 4:return k(R,N,j,X);case 5:return I(R,N,j,X,F);case 6:return P(R,N,j,X,F,Z)}for(var W=new Array(arguments.length),H=0;H<arguments.length;++H)W[H]=arguments[H];return x(W)}}!function(){for(;_.length<=6;)_.push(u(_.length));v.exports=w.apply(void 0,[g].concat(_));for(var x=0;x<=6;++x)v.exports[x]=_[x]}()},6606:function(v,c,i){"use strict";var s=i(8167);function a(_){return(2===_?o:3===_?l:4===_?u:5===_?d:m)(_<6?s[_]:s)}function o(_){return function(g,w){return[_([[+w[0],+g[0][1]],[+w[1],+g[1][1]]]),_([[+g[0][0],+w[0]],[+g[1][0],+w[1]]]),_(g)]}}function l(_){return function(g,w){return[_([[+w[0],+g[0][1],+g[0][2]],[+w[1],+g[1][1],+g[1][2]],[+w[2],+g[2][1],+g[2][2]]]),_([[+g[0][0],+w[0],+g[0][2]],[+g[1][0],+w[1],+g[1][2]],[+g[2][0],+w[2],+g[2][2]]]),_([[+g[0][0],+g[0][1],+w[0]],[+g[1][0],+g[1][1],+w[1]],[+g[2][0],+g[2][1],+w[2]]]),_(g)]}}function u(_){return function(g,w){return[_([[+w[0],+g[0][1],+g[0][2],+g[0][3]],[+w[1],+g[1][1],+g[1][2],+g[1][3]],[+w[2],+g[2][1],+g[2][2],+g[2][3]],[+w[3],+g[3][1],+g[3][2],+g[3][3]]]),_([[+g[0][0],+w[0],+g[0][2],+g[0][3]],[+g[1][0],+w[1],+g[1][2],+g[1][3]],[+g[2][0],+w[2],+g[2][2],+g[2][3]],[+g[3][0],+w[3],+g[3][2],+g[3][3]]]),_([[+g[0][0],+g[0][1],+w[0],+g[0][3]],[+g[1][0],+g[1][1],+w[1],+g[1][3]],[+g[2][0],+g[2][1],+w[2],+g[2][3]],[+g[3][0],+g[3][1],+w[3],+g[3][3]]]),_([[+g[0][0],+g[0][1],+g[0][2],+w[0]],[+g[1][0],+g[1][1],+g[1][2],+w[1]],[+g[2][0],+g[2][1],+g[2][2],+w[2]],[+g[3][0],+g[3][1],+g[3][2],+w[3]]]),_(g)]}}function d(_){return function(g,w){return[_([[+w[0],+g[0][1],+g[0][2],+g[0][3],+g[0][4]],[+w[1],+g[1][1],+g[1][2],+g[1][3],+g[1][4]],[+w[2],+g[2][1],+g[2][2],+g[2][3],+g[2][4]],[+w[3],+g[3][1],+g[3][2],+g[3][3],+g[3][4]],[+w[4],+g[4][1],+g[4][2],+g[4][3],+g[4][4]]]),_([[+g[0][0],+w[0],+g[0][2],+g[0][3],+g[0][4]],[+g[1][0],+w[1],+g[1][2],+g[1][3],+g[1][4]],[+g[2][0],+w[2],+g[2][2],+g[2][3],+g[2][4]],[+g[3][0],+w[3],+g[3][2],+g[3][3],+g[3][4]],[+g[4][0],+w[4],+g[4][2],+g[4][3],+g[4][4]]]),_([[+g[0][0],+g[0][1],+w[0],+g[0][3],+g[0][4]],[+g[1][0],+g[1][1],+w[1],+g[1][3],+g[1][4]],[+g[2][0],+g[2][1],+w[2],+g[2][3],+g[2][4]],[+g[3][0],+g[3][1],+w[3],+g[3][3],+g[3][4]],[+g[4][0],+g[4][1],+w[4],+g[4][3],+g[4][4]]]),_([[+g[0][0],+g[0][1],+g[0][2],+w[0],+g[0][4]],[+g[1][0],+g[1][1],+g[1][2],+w[1],+g[1][4]],[+g[2][0],+g[2][1],+g[2][2],+w[2],+g[2][4]],[+g[3][0],+g[3][1],+g[3][2],+w[3],+g[3][4]],[+g[4][0],+g[4][1],+g[4][2],+w[4],+g[4][4]]]),_([[+g[0][0],+g[0][1],+g[0][2],+g[0][3],+w[0]],[+g[1][0],+g[1][1],+g[1][2],+g[1][3],+w[1]],[+g[2][0],+g[2][1],+g[2][2],+g[2][3],+w[2]],[+g[3][0],+g[3][1],+g[3][2],+g[3][3],+w[3]],[+g[4][0],+g[4][1],+g[4][2],+g[4][3],+w[4]]]),_(g)]}}function m(_){return function(g,w){return[_([[+w[0],+g[0][1],+g[0][2],+g[0][3],+g[0][4],+g[0][5]],[+w[1],+g[1][1],+g[1][2],+g[1][3],+g[1][4],+g[1][5]],[+w[2],+g[2][1],+g[2][2],+g[2][3],+g[2][4],+g[2][5]],[+w[3],+g[3][1],+g[3][2],+g[3][3],+g[3][4],+g[3][5]],[+w[4],+g[4][1],+g[4][2],+g[4][3],+g[4][4],+g[4][5]],[+w[5],+g[5][1],+g[5][2],+g[5][3],+g[5][4],+g[5][5]]]),_([[+g[0][0],+w[0],+g[0][2],+g[0][3],+g[0][4],+g[0][5]],[+g[1][0],+w[1],+g[1][2],+g[1][3],+g[1][4],+g[1][5]],[+g[2][0],+w[2],+g[2][2],+g[2][3],+g[2][4],+g[2][5]],[+g[3][0],+w[3],+g[3][2],+g[3][3],+g[3][4],+g[3][5]],[+g[4][0],+w[4],+g[4][2],+g[4][3],+g[4][4],+g[4][5]],[+g[5][0],+w[5],+g[5][2],+g[5][3],+g[5][4],+g[5][5]]]),_([[+g[0][0],+g[0][1],+w[0],+g[0][3],+g[0][4],+g[0][5]],[+g[1][0],+g[1][1],+w[1],+g[1][3],+g[1][4],+g[1][5]],[+g[2][0],+g[2][1],+w[2],+g[2][3],+g[2][4],+g[2][5]],[+g[3][0],+g[3][1],+w[3],+g[3][3],+g[3][4],+g[3][5]],[+g[4][0],+g[4][1],+w[4],+g[4][3],+g[4][4],+g[4][5]],[+g[5][0],+g[5][1],+w[5],+g[5][3],+g[5][4],+g[5][5]]]),_([[+g[0][0],+g[0][1],+g[0][2],+w[0],+g[0][4],+g[0][5]],[+g[1][0],+g[1][1],+g[1][2],+w[1],+g[1][4],+g[1][5]],[+g[2][0],+g[2][1],+g[2][2],+w[2],+g[2][4],+g[2][5]],[+g[3][0],+g[3][1],+g[3][2],+w[3],+g[3][4],+g[3][5]],[+g[4][0],+g[4][1],+g[4][2],+w[4],+g[4][4],+g[4][5]],[+g[5][0],+g[5][1],+g[5][2],+w[5],+g[5][4],+g[5][5]]]),_([[+g[0][0],+g[0][1],+g[0][2],+g[0][3],+w[0],+g[0][5]],[+g[1][0],+g[1][1],+g[1][2],+g[1][3],+w[1],+g[1][5]],[+g[2][0],+g[2][1],+g[2][2],+g[2][3],+w[2],+g[2][5]],[+g[3][0],+g[3][1],+g[3][2],+g[3][3],+w[3],+g[3][5]],[+g[4][0],+g[4][1],+g[4][2],+g[4][3],+w[4],+g[4][5]],[+g[5][0],+g[5][1],+g[5][2],+g[5][3],+w[5],+g[5][5]]]),_([[+g[0][0],+g[0][1],+g[0][2],+g[0][3],+g[0][4],+w[0]],[+g[1][0],+g[1][1],+g[1][2],+g[1][3],+g[1][4],+w[1]],[+g[2][0],+g[2][1],+g[2][2],+g[2][3],+g[2][4],+w[2]],[+g[3][0],+g[3][1],+g[3][2],+g[3][3],+g[3][4],+w[3]],[+g[4][0],+g[4][1],+g[4][2],+g[4][3],+g[4][4],+w[4]],[+g[5][0],+g[5][1],+g[5][2],+g[5][3],+g[5][4],+w[5]]]),_(g)]}}var h=[function(){return[[0]]},function(_,g){return[[g[0]],[_[0][0]]]}];function T(_,g,w,x,b,A,p,O){return function(k,I){switch(k.length){case 0:return _(k,I);case 1:return g(k,I);case 2:return w(k,I);case 3:return x(k,I);case 4:return b(k,I);case 5:return A(k,I)}var P=p[k.length];return P||(P=p[k.length]=O(k.length)),P(k,I)}}!function(){for(;h.length<6;)h.push(a(h.length));v.exports=T.apply(void 0,h.concat([h,a]));for(var _=0;_<6;++_)v.exports[_]=h[_]}()},417:function(v,c,i){"use strict";var s=i(9660),a=i(9662),o=i(8289),l=i(4078);function u(b,A,p,O){return function(k,I,P){var R=b(b(A(I[1],P[0]),A(-P[1],I[0])),b(A(k[1],I[0]),A(-I[1],k[0]))),N=b(A(k[1],P[0]),A(-P[1],k[0])),j=O(R,N);return j[j.length-1]}}function d(b,A,p,O){return function(k,I,P,R){var N=b(b(p(b(A(P[1],R[0]),A(-R[1],P[0])),I[2]),b(p(b(A(I[1],R[0]),A(-R[1],I[0])),-P[2]),p(b(A(I[1],P[0]),A(-P[1],I[0])),R[2]))),b(p(b(A(I[1],R[0]),A(-R[1],I[0])),k[2]),b(p(b(A(k[1],R[0]),A(-R[1],k[0])),-I[2]),p(b(A(k[1],I[0]),A(-I[1],k[0])),R[2])))),j=b(b(p(b(A(P[1],R[0]),A(-R[1],P[0])),k[2]),b(p(b(A(k[1],R[0]),A(-R[1],k[0])),-P[2]),p(b(A(k[1],P[0]),A(-P[1],k[0])),R[2]))),b(p(b(A(I[1],P[0]),A(-P[1],I[0])),k[2]),b(p(b(A(k[1],P[0]),A(-P[1],k[0])),-I[2]),p(b(A(k[1],I[0]),A(-I[1],k[0])),P[2])))),X=O(N,j);return X[X.length-1]}}function m(b,A,p,O){return function(k,I,P,R,N){var j=b(b(b(p(b(p(b(A(R[1],N[0]),A(-N[1],R[0])),P[2]),b(p(b(A(P[1],N[0]),A(-N[1],P[0])),-R[2]),p(b(A(P[1],R[0]),A(-R[1],P[0])),N[2]))),I[3]),b(p(b(p(b(A(R[1],N[0]),A(-N[1],R[0])),I[2]),b(p(b(A(I[1],N[0]),A(-N[1],I[0])),-R[2]),p(b(A(I[1],R[0]),A(-R[1],I[0])),N[2]))),-P[3]),p(b(p(b(A(P[1],N[0]),A(-N[1],P[0])),I[2]),b(p(b(A(I[1],N[0]),A(-N[1],I[0])),-P[2]),p(b(A(I[1],P[0]),A(-P[1],I[0])),N[2]))),R[3]))),b(p(b(p(b(A(P[1],R[0]),A(-R[1],P[0])),I[2]),b(p(b(A(I[1],R[0]),A(-R[1],I[0])),-P[2]),p(b(A(I[1],P[0]),A(-P[1],I[0])),R[2]))),-N[3]),b(p(b(p(b(A(R[1],N[0]),A(-N[1],R[0])),I[2]),b(p(b(A(I[1],N[0]),A(-N[1],I[0])),-R[2]),p(b(A(I[1],R[0]),A(-R[1],I[0])),N[2]))),k[3]),p(b(p(b(A(R[1],N[0]),A(-N[1],R[0])),k[2]),b(p(b(A(k[1],N[0]),A(-N[1],k[0])),-R[2]),p(b(A(k[1],R[0]),A(-R[1],k[0])),N[2]))),-I[3])))),b(b(p(b(p(b(A(I[1],N[0]),A(-N[1],I[0])),k[2]),b(p(b(A(k[1],N[0]),A(-N[1],k[0])),-I[2]),p(b(A(k[1],I[0]),A(-I[1],k[0])),N[2]))),R[3]),b(p(b(p(b(A(I[1],R[0]),A(-R[1],I[0])),k[2]),b(p(b(A(k[1],R[0]),A(-R[1],k[0])),-I[2]),p(b(A(k[1],I[0]),A(-I[1],k[0])),R[2]))),-N[3]),p(b(p(b(A(P[1],R[0]),A(-R[1],P[0])),I[2]),b(p(b(A(I[1],R[0]),A(-R[1],I[0])),-P[2]),p(b(A(I[1],P[0]),A(-P[1],I[0])),R[2]))),k[3]))),b(p(b(p(b(A(P[1],R[0]),A(-R[1],P[0])),k[2]),b(p(b(A(k[1],R[0]),A(-R[1],k[0])),-P[2]),p(b(A(k[1],P[0]),A(-P[1],k[0])),R[2]))),-I[3]),b(p(b(p(b(A(I[1],R[0]),A(-R[1],I[0])),k[2]),b(p(b(A(k[1],R[0]),A(-R[1],k[0])),-I[2]),p(b(A(k[1],I[0]),A(-I[1],k[0])),R[2]))),P[3]),p(b(p(b(A(I[1],P[0]),A(-P[1],I[0])),k[2]),b(p(b(A(k[1],P[0]),A(-P[1],k[0])),-I[2]),p(b(A(k[1],I[0]),A(-I[1],k[0])),P[2]))),-R[3]))))),X=b(b(b(p(b(p(b(A(R[1],N[0]),A(-N[1],R[0])),P[2]),b(p(b(A(P[1],N[0]),A(-N[1],P[0])),-R[2]),p(b(A(P[1],R[0]),A(-R[1],P[0])),N[2]))),k[3]),p(b(p(b(A(R[1],N[0]),A(-N[1],R[0])),k[2]),b(p(b(A(k[1],N[0]),A(-N[1],k[0])),-R[2]),p(b(A(k[1],R[0]),A(-R[1],k[0])),N[2]))),-P[3])),b(p(b(p(b(A(P[1],N[0]),A(-N[1],P[0])),k[2]),b(p(b(A(k[1],N[0]),A(-N[1],k[0])),-P[2]),p(b(A(k[1],P[0]),A(-P[1],k[0])),N[2]))),R[3]),p(b(p(b(A(P[1],R[0]),A(-R[1],P[0])),k[2]),b(p(b(A(k[1],R[0]),A(-R[1],k[0])),-P[2]),p(b(A(k[1],P[0]),A(-P[1],k[0])),R[2]))),-N[3]))),b(b(p(b(p(b(A(P[1],N[0]),A(-N[1],P[0])),I[2]),b(p(b(A(I[1],N[0]),A(-N[1],I[0])),-P[2]),p(b(A(I[1],P[0]),A(-P[1],I[0])),N[2]))),k[3]),p(b(p(b(A(P[1],N[0]),A(-N[1],P[0])),k[2]),b(p(b(A(k[1],N[0]),A(-N[1],k[0])),-P[2]),p(b(A(k[1],P[0]),A(-P[1],k[0])),N[2]))),-I[3])),b(p(b(p(b(A(I[1],N[0]),A(-N[1],I[0])),k[2]),b(p(b(A(k[1],N[0]),A(-N[1],k[0])),-I[2]),p(b(A(k[1],I[0]),A(-I[1],k[0])),N[2]))),P[3]),p(b(p(b(A(I[1],P[0]),A(-P[1],I[0])),k[2]),b(p(b(A(k[1],P[0]),A(-P[1],k[0])),-I[2]),p(b(A(k[1],I[0]),A(-I[1],k[0])),P[2]))),-N[3])))),F=O(j,X);return F[F.length-1]}}function h(b){return(3===b?u:4===b?d:m)(a,s,o,l)}var T=h(3),_=h(4),g=[function(){return 0},function(){return 0},function(b,A){return A[0]-b[0]},function(b,A,p){var O,k=(b[1]-p[1])*(A[0]-p[0]),I=(b[0]-p[0])*(A[1]-p[1]),P=k-I;if(k>0){if(I<=0)return P;O=k+I}else{if(!(k<0)||I>=0)return P;O=-(k+I)}var R=33306690738754716e-32*O;return P>=R||P<=-R?P:T(b,A,p)},function(b,A,p,O){var k=b[0]-O[0],I=A[0]-O[0],P=p[0]-O[0],R=b[1]-O[1],N=A[1]-O[1],j=p[1]-O[1],X=b[2]-O[2],F=A[2]-O[2],Z=p[2]-O[2],W=I*j,H=P*N,G=P*R,Y=k*j,se=k*N,te=I*R,re=X*(W-H)+F*(G-Y)+Z*(se-te),Q=7771561172376103e-31*((Math.abs(W)+Math.abs(H))*Math.abs(X)+(Math.abs(G)+Math.abs(Y))*Math.abs(F)+(Math.abs(se)+Math.abs(te))*Math.abs(Z));return re>Q||-re>Q?re:_(b,A,p,O)}];function w(b){var A=g[b.length];return A||(A=g[b.length]=h(b.length)),A.apply(void 0,b)}function x(b,A,p,O,k,I,P){return function(R,N,j,X,F){switch(arguments.length){case 0:case 1:return 0;case 2:return O(R,N);case 3:return k(R,N,j);case 4:return I(R,N,j,X);case 5:return P(R,N,j,X,F)}for(var Z=new Array(arguments.length),W=0;W<arguments.length;++W)Z[W]=arguments[W];return b(Z)}}!function(){for(;g.length<=5;)g.push(h(g.length));v.exports=x.apply(void 0,[w].concat(g));for(var b=0;b<=5;++b)v.exports[b]=g[b]}()},2019:function(v,c,i){"use strict";var s=i(9662),a=i(8289);v.exports=function(o,l){if(1===o.length)return a(l,o[0]);if(1===l.length)return a(o,l[0]);if(0===o.length||0===l.length)return[0];var u=[0];if(o.length<l.length)for(var d=0;d<o.length;++d)u=s(u,a(l,o[d]));else for(d=0;d<l.length;++d)u=s(u,a(o,l[d]));return u}},8289:function(v,c,i){"use strict";var s=i(9660),a=i(87);v.exports=function(o,l){var u=o.length;if(1===u){var d=s(o[0],l);return d[0]?d:[d[1]]}var m=new Array(2*u),h=[.1,.1],T=[.1,.1],_=0;s(o[0],l,h),h[0]&&(m[_++]=h[0]);for(var g=1;g<u;++g){s(o[g],l,T),a(h[1],T[0],h),h[0]&&(m[_++]=h[0]);var x=T[1],b=h[1],A=x+b,p=b-(A-x);h[1]=A,p&&(m[_++]=p)}return h[1]&&(m[_++]=h[1]),0===_&&(m[_++]=0),m.length=_,m}},4434:function(v,c,i){"use strict";v.exports=function(a,o,l,u){var d=s(a,l,u),m=s(o,l,u);if(d>0&&m>0||d<0&&m<0)return!1;var h=s(l,a,o),T=s(u,a,o);return!(h>0&&T>0||h<0&&T<0)&&(0!==d||0!==m||0!==h||0!==T||function(_,g,w,x){for(var b=0;b<2;++b){var A=_[b],p=g[b],O=Math.min(A,p),k=Math.max(A,p),I=w[b],P=x[b],R=Math.min(I,P);if(Math.max(I,P)<O||k<R)return!1}return!0}(a,o,l,u))};var s=i(417)[3]},4078:function(v){"use strict";v.exports=function(c,i){var R,N,j,X,F,s=0|c.length,a=0|i.length;if(1===s&&1===a)return(F=(R=c[0])-((j=R+(N=-i[0]))-(X=j-R))+(N-X))?[F,j]:[j];var o,l,u=new Array(s+a),d=0,m=0,h=0,T=Math.abs,_=c[m],g=T(_),w=-i[h],x=T(w);g<x?(l=_,(m+=1)<s&&(g=T(_=c[m]))):(l=w,(h+=1)<a&&(x=T(w=-i[h]))),m<s&&g<x||h>=a?(o=_,(m+=1)<s&&(g=T(_=c[m]))):(o=w,(h+=1)<a&&(x=T(w=-i[h])));for(var b,A,p=o+l,O=p-o,k=l-O,I=k,P=p;m<s&&h<a;)g<x?(o=_,(m+=1)<s&&(g=T(_=c[m]))):(o=w,(h+=1)<a&&(x=T(w=-i[h]))),(k=(l=I)-(O=(p=o+l)-o))&&(u[d++]=k),I=P-((b=P+p)-(A=b-P))+(p-A),P=b;for(;m<s;)(k=(l=I)-(O=(p=(o=_)+l)-o))&&(u[d++]=k),I=P-((b=P+p)-(A=b-P))+(p-A),P=b,(m+=1)<s&&(_=c[m]);for(;h<a;)(k=(l=I)-(O=(p=(o=w)+l)-o))&&(u[d++]=k),I=P-((b=P+p)-(A=b-P))+(p-A),P=b,(h+=1)<a&&(w=-i[h]);return I&&(u[d++]=I),P&&(u[d++]=P),d||(u[d++]=0),u.length=d,u}},9662:function(v){"use strict";v.exports=function(c,i){var R,N,j,X,F,s=0|c.length,a=0|i.length;if(1===s&&1===a)return(F=(R=c[0])-((j=R+(N=i[0]))-(X=j-R))+(N-X))?[F,j]:[j];var o,l,u=new Array(s+a),d=0,m=0,h=0,T=Math.abs,_=c[m],g=T(_),w=i[h],x=T(w);g<x?(l=_,(m+=1)<s&&(g=T(_=c[m]))):(l=w,(h+=1)<a&&(x=T(w=i[h]))),m<s&&g<x||h>=a?(o=_,(m+=1)<s&&(g=T(_=c[m]))):(o=w,(h+=1)<a&&(x=T(w=i[h])));for(var b,A,p=o+l,O=p-o,k=l-O,I=k,P=p;m<s&&h<a;)g<x?(o=_,(m+=1)<s&&(g=T(_=c[m]))):(o=w,(h+=1)<a&&(x=T(w=i[h]))),(k=(l=I)-(O=(p=o+l)-o))&&(u[d++]=k),I=P-((b=P+p)-(A=b-P))+(p-A),P=b;for(;m<s;)(k=(l=I)-(O=(p=(o=_)+l)-o))&&(u[d++]=k),I=P-((b=P+p)-(A=b-P))+(p-A),P=b,(m+=1)<s&&(_=c[m]);for(;h<a;)(k=(l=I)-(O=(p=(o=w)+l)-o))&&(u[d++]=k),I=P-((b=P+p)-(A=b-P))+(p-A),P=b,(h+=1)<a&&(w=i[h]);return I&&(u[d++]=I),P&&(u[d++]=P),d||(u[d++]=0),u.length=d,u}},8691:function(v,c,i){"use strict";v.exports=function(o){return a(s(o))};var s=i(2692),a=i(7037)},7212:function(v,c,i){"use strict";v.exports=function(u,d,m,h){if(m=m||0,void 0===h&&(h=function(p){for(var O=p.length,k=0,I=0;I<O;++I)k=0|Math.max(k,p[I].length);return k-1}(u)),0===u.length||h<1)return{cells:[],vertexIds:[],vertexWeights:[]};var T=function(p,O){for(var k=p.length,I=a.mallocUint8(k),P=0;P<k;++P)I[P]=p[P]<O|0;return I}(d,+m),_=function(p,O){for(var k=p.length,P=a.mallocUint32(2*(O*(O+1)/2*k|0)),R=0,N=0;N<k;++N)for(var j=p[N],X=(O=j.length,0);X<O;++X)for(var F=0;F<X;++F){var Z=j[F],W=j[X];P[R++]=0|Math.min(Z,W),P[R++]=0|Math.max(Z,W)}o(s(P,[R/2|0,2]));var H=2;for(N=2;N<R;N+=2)P[N-2]===P[N]&&P[N-1]===P[N+1]||(P[H++]=P[N],P[H++]=P[N+1]);return s(P,[H/2|0,2])}(u,h),g=function(p,O,k,I){for(var P=p.data,R=p.shape[0],N=a.mallocDouble(R),j=0,X=0;X<R;++X){var F=P[2*X],Z=P[2*X+1];if(k[F]!==k[Z]){var W=O[F],H=O[Z];P[2*j]=F,P[2*j+1]=Z,N[j++]=(H-I)/(H-W)}}return p.shape[0]=j,s(N,[j])}(_,d,T,+m),w=function(p,O){var k=a.mallocInt32(2*O),I=p.shape[0],P=p.data;k[0]=0;for(var R=0,N=0;N<I;++N){var j=P[2*N];if(j!==R){for(k[2*R+1]=N;++R<j;)k[2*R]=N,k[2*R+1]=N;k[2*R]=N}}for(k[2*R+1]=I;++R<O;)k[2*R]=k[2*R+1]=I;return k}(_,0|d.length),x=l(h)(u,_.data,w,T),b=function(p){for(var O=0|p.shape[0],k=p.data,I=new Array(O),P=0;P<O;++P)I[P]=[k[2*P],k[2*P+1]];return I}(_),A=[].slice.call(g.data,0,g.shape[0]);return a.free(T),a.free(_.data),a.free(g.data),a.free(w),{cells:x,vertexIds:b,vertexWeights:A}};var s=i(5050),a=i(5306),o=i(8729),l=i(1168)},1168:function(v){"use strict";v.exports=function(i){return c[i]()};var c=[function(){return function(i,s,a,o){for(var l=i.length,u=0;u<l;++u);return[]}},function(){function i(s,a,o,l){for(var u=0|Math.min(o,l),d=0|Math.max(o,l),m=s[2*u],h=s[2*u+1];m<h;){var T=m+h>>1,_=a[2*T+1];if(_===d)return T;d<_?h=T:m=T+1}return m}return function(s,a,o,l){for(var u=s.length,d=[],m=0;m<u;++m){var h=s[m];if(2===h.length){var T=(l[h[0]]<<0)+(l[h[1]]<<1);if(0===T||3===T)continue;switch(T){case 0:case 3:break;case 1:d.push([i(o,a,h[0],h[1])]);break;case 2:d.push([i(o,a,h[1],h[0])])}}}return d}},function(){function i(s,a,o,l){for(var u=0|Math.min(o,l),d=0|Math.max(o,l),m=s[2*u],h=s[2*u+1];m<h;){var T=m+h>>1,_=a[2*T+1];if(_===d)return T;d<_?h=T:m=T+1}return m}return function(s,a,o,l){for(var u=s.length,d=[],m=0;m<u;++m){var h=s[m],T=h.length;if(3===T){if(0==(_=(l[h[0]]<<0)+(l[h[1]]<<1)+(l[h[2]]<<2))||7===_)continue;switch(_){case 0:case 7:break;case 1:d.push([i(o,a,h[0],h[2]),i(o,a,h[0],h[1])]);break;case 2:d.push([i(o,a,h[1],h[0]),i(o,a,h[1],h[2])]);break;case 3:d.push([i(o,a,h[0],h[2]),i(o,a,h[1],h[2])]);break;case 4:d.push([i(o,a,h[2],h[1]),i(o,a,h[2],h[0])]);break;case 5:d.push([i(o,a,h[2],h[1]),i(o,a,h[0],h[1])]);break;case 6:d.push([i(o,a,h[1],h[0]),i(o,a,h[2],h[0])])}}else if(2===T){var _;if(0==(_=(l[h[0]]<<0)+(l[h[1]]<<1))||3===_)continue;switch(_){case 0:case 3:break;case 1:d.push([i(o,a,h[0],h[1])]);break;case 2:d.push([i(o,a,h[1],h[0])])}}}return d}},function(){function i(s,a,o,l){for(var u=0|Math.min(o,l),d=0|Math.max(o,l),m=s[2*u],h=s[2*u+1];m<h;){var T=m+h>>1,_=a[2*T+1];if(_===d)return T;d<_?h=T:m=T+1}return m}return function(s,a,o,l){for(var u=s.length,d=[],m=0;m<u;++m){var h=s[m],T=h.length;if(4===T){if(0==(_=(l[h[0]]<<0)+(l[h[1]]<<1)+(l[h[2]]<<2)+(l[h[3]]<<3))||15===_)continue;switch(_){case 0:case 15:break;case 1:d.push([i(o,a,h[0],h[1]),i(o,a,h[0],h[2]),i(o,a,h[0],h[3])]);break;case 2:d.push([i(o,a,h[1],h[2]),i(o,a,h[1],h[0]),i(o,a,h[1],h[3])]);break;case 3:d.push([i(o,a,h[1],h[2]),i(o,a,h[0],h[2]),i(o,a,h[0],h[3])],[i(o,a,h[1],h[3]),i(o,a,h[1],h[2]),i(o,a,h[0],h[3])]);break;case 4:d.push([i(o,a,h[2],h[0]),i(o,a,h[2],h[1]),i(o,a,h[2],h[3])]);break;case 5:d.push([i(o,a,h[0],h[1]),i(o,a,h[2],h[1]),i(o,a,h[0],h[3])],[i(o,a,h[2],h[1]),i(o,a,h[2],h[3]),i(o,a,h[0],h[3])]);break;case 6:d.push([i(o,a,h[2],h[0]),i(o,a,h[1],h[0]),i(o,a,h[1],h[3])],[i(o,a,h[2],h[3]),i(o,a,h[2],h[0]),i(o,a,h[1],h[3])]);break;case 7:d.push([i(o,a,h[0],h[3]),i(o,a,h[1],h[3]),i(o,a,h[2],h[3])]);break;case 8:d.push([i(o,a,h[3],h[1]),i(o,a,h[3],h[0]),i(o,a,h[3],h[2])]);break;case 9:d.push([i(o,a,h[3],h[1]),i(o,a,h[0],h[1]),i(o,a,h[0],h[2])],[i(o,a,h[3],h[2]),i(o,a,h[3],h[1]),i(o,a,h[0],h[2])]);break;case 10:d.push([i(o,a,h[1],h[0]),i(o,a,h[3],h[0]),i(o,a,h[1],h[2])],[i(o,a,h[3],h[0]),i(o,a,h[3],h[2]),i(o,a,h[1],h[2])]);break;case 11:d.push([i(o,a,h[1],h[2]),i(o,a,h[0],h[2]),i(o,a,h[3],h[2])]);break;case 12:d.push([i(o,a,h[3],h[0]),i(o,a,h[2],h[0]),i(o,a,h[2],h[1])],[i(o,a,h[3],h[1]),i(o,a,h[3],h[0]),i(o,a,h[2],h[1])]);break;case 13:d.push([i(o,a,h[0],h[1]),i(o,a,h[2],h[1]),i(o,a,h[3],h[1])]);break;case 14:d.push([i(o,a,h[2],h[0]),i(o,a,h[1],h[0]),i(o,a,h[3],h[0])])}}else if(3===T){if(0==(_=(l[h[0]]<<0)+(l[h[1]]<<1)+(l[h[2]]<<2))||7===_)continue;switch(_){case 0:case 7:break;case 1:d.push([i(o,a,h[0],h[2]),i(o,a,h[0],h[1])]);break;case 2:d.push([i(o,a,h[1],h[0]),i(o,a,h[1],h[2])]);break;case 3:d.push([i(o,a,h[0],h[2]),i(o,a,h[1],h[2])]);break;case 4:d.push([i(o,a,h[2],h[1]),i(o,a,h[2],h[0])]);break;case 5:d.push([i(o,a,h[2],h[1]),i(o,a,h[0],h[1])]);break;case 6:d.push([i(o,a,h[1],h[0]),i(o,a,h[2],h[0])])}}else if(2===T){var _;if(0==(_=(l[h[0]]<<0)+(l[h[1]]<<1))||3===_)continue;switch(_){case 0:case 3:break;case 1:d.push([i(o,a,h[0],h[1])]);break;case 2:d.push([i(o,a,h[1],h[0])])}}}return d}}]},8211:function(v,c,i){"use strict";i(2288),i(1731),c.H=function(s,a){var o=s.length,l=s.length-a.length,u=Math.min;if(l)return l;switch(o){case 0:return 0;case 1:return s[0]-a[0];case 2:return(h=s[0]+s[1]-a[0]-a[1])||u(s[0],s[1])-u(a[0],a[1]);case 3:var d=s[0]+s[1],m=a[0]+a[1];if(h=d+s[2]-(m+a[2]))return h;var h,T=u(s[0],s[1]),_=u(a[0],a[1]);return(h=u(T,s[2])-u(_,a[2]))||u(T+s[2],d)-u(_+a[2],m);default:var g=s.slice(0);g.sort();var w=a.slice(0);w.sort();for(var x=0;x<o;++x)if(l=g[x]-w[x])return l;return 0}}},9392:function(v,c){"use strict";function i(a){var o=32;return(a&=-a)&&o--,65535&a&&(o-=16),16711935&a&&(o-=8),252645135&a&&(o-=4),858993459&a&&(o-=2),1431655765&a&&(o-=1),o}c.INT_BITS=32,c.INT_MAX=2147483647,c.INT_MIN=-2147483648,c.sign=function(a){return(a>0)-(a<0)},c.abs=function(a){var o=a>>31;return(a^o)-o},c.min=function(a,o){return o^(a^o)&-(a<o)},c.max=function(a,o){return a^(a^o)&-(a<o)},c.isPow2=function(a){return!(a&a-1||!a)},c.log2=function(a){var o,l;return o=(a>65535)<<4,o|=l=((a>>>=o)>255)<<3,o|=l=((a>>>=l)>15)<<2,(o|=l=((a>>>=l)>3)<<1)|(a>>>=l)>>1},c.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},c.popCount=function(a){return 16843009*((a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},c.countTrailingZeros=i,c.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,1+((a|=a>>>8)|a>>>16)},c.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},c.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var s=new Array(256);(function(a){for(var o=0;o<256;++o){var l=o,u=o,d=7;for(l>>>=1;l;l>>>=1)u<<=1,u|=1&l,--d;a[o]=u<<d&255}})(s),c.reverse=function(a){return s[255&a]<<24|s[a>>>8&255]<<16|s[a>>>16&255]<<8|s[a>>>24&255]},c.interleave2=function(a,o){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))<<1},c.deinterleave2=function(a,o){return(a=65535&((a=16711935&((a=252645135&((a=858993459&((a=a>>>o&1431655765)|a>>>1))|a>>>2))|a>>>4))|a>>>16))<<16>>16},c.interleave3=function(a,o,l){return a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2),(a|=(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<1)|(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<2},c.deinterleave3=function(a,o){return(a=1023&((a=4278190335&((a=251719695&((a=3272356035&((a=a>>>o&1227133513)|a>>>2))|a>>>4))|a>>>8))|a>>>16))<<22>>22},c.nextCombination=function(a){var o=a|a-1;return o+1|(~o&-~o)-1>>>i(a)+1}},6656:function(v,c,i){"use strict";var s=i(9392),a=i(9521);function o(_,g){var w=_.length,x=_.length-g.length,b=Math.min;if(x)return x;switch(w){case 0:return 0;case 1:return _[0]-g[0];case 2:return(O=_[0]+_[1]-g[0]-g[1])||b(_[0],_[1])-b(g[0],g[1]);case 3:var A=_[0]+_[1],p=g[0]+g[1];if(O=A+_[2]-(p+g[2]))return O;var O,k=b(_[0],_[1]),I=b(g[0],g[1]);return(O=b(k,_[2])-b(I,g[2]))||b(k+_[2],A)-b(I+g[2],p);default:var P=_.slice(0);P.sort();var R=g.slice(0);R.sort();for(var N=0;N<w;++N)if(x=P[N]-R[N])return x;return 0}}function l(_,g){return o(_[0],g[0])}function u(_,g){if(g){for(var w=_.length,x=new Array(w),b=0;b<w;++b)x[b]=[_[b],g[b]];for(x.sort(l),b=0;b<w;++b)_[b]=x[b][0],g[b]=x[b][1];return _}return _.sort(o),_}function d(_){if(0===_.length)return[];for(var g=1,w=_.length,x=1;x<w;++x){var b=_[x];if(o(b,_[x-1])){if(x===g){g++;continue}_[g++]=b}}return _.length=g,_}function m(_,g){for(var w=0,x=_.length-1,b=-1;w<=x;){var A=w+x>>1,p=o(_[A],g);p<=0?(0===p&&(b=A),w=A+1):p>0&&(x=A-1)}return b}function h(_,g){for(var w=new Array(_.length),x=0,b=w.length;x<b;++x)w[x]=[];for(var A=[],p=(x=0,g.length);x<p;++x)for(var O=g[x],k=O.length,I=1,P=1<<k;I<P;++I){A.length=s.popCount(I);for(var R=0,N=0;N<k;++N)I&1<<N&&(A[R++]=O[N]);var j=m(_,A);if(!(j<0))for(;w[j++].push(x),!(j>=_.length||0!==o(_[j],A)););}return w}function T(_,g){if(g<0)return[];for(var w=[],x=(1<<g+1)-1,b=0;b<_.length;++b)for(var A=_[b],p=x;p<1<<A.length;p=s.nextCombination(p)){for(var O=new Array(g+1),k=0,I=0;I<A.length;++I)p&1<<I&&(O[k++]=A[I]);w.push(O)}return u(w)}c.dimension=function(_){for(var g=0,w=Math.max,x=0,b=_.length;x<b;++x)g=w(g,_[x].length);return g-1},c.countVertices=function(_){for(var g=-1,w=Math.max,x=0,b=_.length;x<b;++x)for(var A=_[x],p=0,O=A.length;p<O;++p)g=w(g,A[p]);return g+1},c.cloneCells=function(_){for(var g=new Array(_.length),w=0,x=_.length;w<x;++w)g[w]=_[w].slice(0);return g},c.compareCells=o,c.normalize=u,c.unique=d,c.findCell=m,c.incidence=h,c.dual=function(_,g){if(!g)return h(d(T(_,0)),_);for(var w=new Array(g),x=0;x<g;++x)w[x]=[];x=0;for(var b=_.length;x<b;++x)for(var A=_[x],p=0,O=A.length;p<O;++p)w[A[p]].push(x);return w},c.explode=function(_){for(var g=[],w=0,x=_.length;w<x;++w)for(var b=_[w],A=0|b.length,p=1,O=1<<A;p<O;++p){for(var k=[],I=0;I<A;++I)p>>>I&1&&k.push(b[I]);g.push(k)}return u(g)},c.skeleton=T,c.boundary=function(_){for(var g=[],w=0,x=_.length;w<x;++w)for(var b=_[w],A=0,p=b.length;A<p;++A){for(var O=new Array(b.length-1),k=0,I=0;k<p;++k)k!==A&&(O[I++]=b[k]);g.push(O)}return u(g)},c.connectedComponents=function(_,g){return g?function(w,x){for(var b=new a(x),A=0;A<w.length;++A)for(var p=w[A],O=0;O<p.length;++O)for(var k=O+1;k<p.length;++k)b.link(p[O],p[k]);var I=[],P=b.ranks;for(A=0;A<P.length;++A)P[A]=-1;for(A=0;A<w.length;++A){var R=b.find(w[A][0]);P[R]<0?(P[R]=I.length,I.push([w[A].slice(0)])):I[P[R]].push(w[A].slice(0))}return I}(_,g):function(w){for(var x=d(u(T(w,0))),b=new a(x.length),A=0;A<w.length;++A)for(var p=w[A],O=0;O<p.length;++O)for(var k=m(x,[p[O]]),I=O+1;I<p.length;++I)b.link(k,m(x,[p[I]]));var P=[],R=b.ranks;for(A=0;A<R.length;++A)R[A]=-1;for(A=0;A<w.length;++A){var N=b.find(m(x,[w[A][0]]));R[N]<0?(R[N]=P.length,P.push([w[A].slice(0)])):P[R[N]].push(w[A].slice(0))}return P}(_)}},9521:function(v){"use strict";function c(i){this.roots=new Array(i),this.ranks=new Array(i);for(var s=0;s<i;++s)this.roots[s]=s,this.ranks[s]=0}v.exports=c,c.prototype.length=function(){return this.roots.length},c.prototype.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},c.prototype.find=function(i){for(var s=this.roots;s[i]!==i;){var a=s[i];s[i]=s[a],i=a}return i},c.prototype.link=function(i,s){var a=this.find(i),o=this.find(s);if(a!==o){var l=this.ranks,u=this.roots,d=l[a],m=l[o];d<m?u[a]=o:m<d?u[o]=a:(u[o]=a,++l[a])}}},8243:function(v,c,i){"use strict";v.exports=function(o,l,u){for(var d=l.length,m=o.length,h=new Array(d),T=new Array(d),_=new Array(d),g=new Array(d),w=0;w<d;++w)h[w]=T[w]=-1,_[w]=1/0,g[w]=!1;for(w=0;w<m;++w){var x=o[w];if(2!==x.length)throw new Error("Input must be a graph");var b=x[1],A=x[0];T[A]=-1!==T[A]?-2:b,h[b]=-1!==h[b]?-2:A}function p(te){if(g[te])return 1/0;var Q,ee,oe=h[te],le=T[te];return oe<0||le<0?1/0:(Q=l[oe],ee=l[le],Math.abs(s(l[te],Q,ee))/Math.sqrt(Math.pow(Q[0]-ee[0],2)+Math.pow(Q[1]-ee[1],2)))}function O(te,re){var Q=F[te],ee=F[re];F[te]=ee,F[re]=Q,Z[Q]=re,Z[ee]=te}function k(te){return _[F[te]]}function I(te){return 1&te?te-1>>1:(te>>1)-1}function P(te){for(var re=k(te);;){var Q=re,ee=2*te+1,oe=2*(te+1),le=te;if(ee<W){var ue=k(ee);ue<Q&&(le=ee,Q=ue)}if(oe<W&&k(oe)<Q&&(le=oe),le===te)return te;O(te,le),te=le}}function R(te){for(var re=k(te);te>0;){var Q=I(te);if(!(Q>=0&&re<k(Q)))return te;O(te,Q),te=Q}}function N(){if(W>0){var te=F[0];return O(0,W-1),W-=1,P(0),te}return-1}function j(te,re){var Q=F[te];return _[Q]===re?te:(_[Q]=-1/0,R(te),N(),_[Q]=re,R((W+=1)-1))}function X(te){if(!g[te]){g[te]=!0;var re=h[te],Q=T[te];h[Q]>=0&&(h[Q]=re),T[re]>=0&&(T[re]=Q),Z[re]>=0&&j(Z[re],p(re)),Z[Q]>=0&&j(Z[Q],p(Q))}}var F=[],Z=new Array(d);for(w=0;w<d;++w)(_[w]=p(w))<1/0?(Z[w]=F.length,F.push(w)):Z[w]=-1;var W=F.length;for(w=W>>1;w>=0;--w)P(w);for(;;){var H=N();if(H<0||_[H]>u)break;X(H)}var G=[];for(w=0;w<d;++w)g[w]||(Z[w]=G.length,G.push(l[w].slice()));function Y(te,re){if(te[re]<0)return re;var Q=re,ee=re;do{var oe=te[ee];if(!g[ee]||oe<0||oe===ee||(oe=te[ee=oe],!g[ee]||oe<0||oe===ee))break;ee=oe,Q=te[Q]}while(Q!==ee);for(var le=re;le!==ee;le=te[le])te[le]=ee;return ee}var se=[];return o.forEach(function(te){var re=Y(h,te[0]),Q=Y(T,te[1]);if(re>=0&&Q>=0&&re!==Q){var ee=Z[re],oe=Z[Q];ee!==oe&&se.push([ee,oe])}}),a.unique(a.normalize(se)),{positions:G,edges:se}};var s=i(417),a=i(6656)},6638:function(v,c,i){"use strict";v.exports=function(o,l){var u,d,m,h;if(l[0][0]<l[1][0])u=l[0],d=l[1];else{if(!(l[0][0]>l[1][0]))return a(l,o);u=l[1],d=l[0]}if(o[0][0]<o[1][0])m=o[0],h=o[1];else{if(!(o[0][0]>o[1][0]))return-a(o,l);m=o[1],h=o[0]}var T=s(u,d,h),_=s(u,d,m);if(T<0){if(_<=0)return T}else if(T>0){if(_>=0)return T}else if(_)return _;if(T=s(h,m,d),_=s(h,m,u),T<0){if(_<=0)return T}else if(T>0){if(_>=0)return T}else if(_)return _;return d[0]-h[0]};var s=i(417);function a(o,l){var u,d,m,h;if(l[0][0]<l[1][0])u=l[0],d=l[1];else{if(!(l[0][0]>l[1][0])){var T=Math.min(o[0][1],o[1][1]),_=Math.max(o[0][1],o[1][1]),g=Math.min(l[0][1],l[1][1]),w=Math.max(l[0][1],l[1][1]);return _<g?_-g:T>w?T-w:_-w}u=l[1],d=l[0]}o[0][1]<o[1][1]?(m=o[0],h=o[1]):(m=o[1],h=o[0]);var x=s(d,u,m);return x||(x=s(d,u,h))||h-d}},4385:function(v,c,i){"use strict";v.exports=function(_){for(var g=_.length,w=2*g,x=new Array(w),b=0;b<g;++b){var A=_[b],p=A[0][0]<A[1][0];x[2*b]=new T(A[0][0],A,p,b),x[2*b+1]=new T(A[1][0],A,!p,b)}x.sort(function(X,F){var Z=X.x-F.x;return Z||(Z=X.create-F.create)||Math.min(X.segment[0][1],X.segment[1][1])-Math.min(F.segment[0][1],F.segment[1][1])});var O=a(l),k=[],I=[],P=[];for(b=0;b<w;){for(var R=x[b].x,N=[];b<w;){var j=x[b];if(j.x!==R)break;b+=1,j.segment[0][0]===j.x&&j.segment[1][0]===j.x?j.create&&(j.segment[0][1]<j.segment[1][1]?(N.push(new h(j.segment[0][1],j.index,!0,!0)),N.push(new h(j.segment[1][1],j.index,!1,!1))):(N.push(new h(j.segment[1][1],j.index,!0,!1)),N.push(new h(j.segment[0][1],j.index,!1,!0)))):O=j.create?O.insert(j.segment,j.index):O.remove(j.segment)}k.push(O.root),I.push(R),P.push(N)}return new u(k,I,P)};var s=i(5070),a=i(7080),o=i(417),l=i(6638);function u(_,g,w){this.slabs=_,this.coordinates=g,this.horizontal=w}function d(_,g){return _.y-g}function m(_,g){for(var w=null;_;){var x,b,A=_.key;A[0][0]<A[1][0]?(x=A[0],b=A[1]):(x=A[1],b=A[0]);var p=o(x,b,g);if(p<0)_=_.left;else if(p>0)if(g[0]!==A[1][0])w=_,_=_.right;else{if(O=m(_.right,g))return O;_=_.left}else{if(g[0]!==A[1][0])return _;var O;if(O=m(_.right,g))return O;_=_.left}}return w}function h(_,g,w,x){this.y=_,this.index=g,this.start=w,this.closed=x}function T(_,g,w,x){this.x=_,this.segment=g,this.create=w,this.index=x}u.prototype.castUp=function(_){var g=s.le(this.coordinates,_[0]);if(g<0)return-1;var w=m(this.slabs[g],_),x=-1;if(w&&(x=w.value),this.coordinates[g]===_[0]){var b=null;if(w&&(b=w.key),g>0){var A=m(this.slabs[g-1],_);A&&(b?l(A.key,b)>0&&(b=A.key,x=A.value):(x=A.value,b=A.key))}var p=this.horizontal[g];if(p.length>0){var O=s.ge(p,_[1],d);if(O<p.length){var k=p[O];if(_[1]===k.y){if(k.closed)return k.index;for(;O<p.length-1&&p[O+1].y===_[1];)if((k=p[O+=1]).closed)return k.index;if(k.y===_[1]&&!k.start){if((O+=1)>=p.length)return x;k=p[O]}}if(k.start)if(b){var I=o(b[0],b[1],[_[0],k.y]);b[0][0]>b[1][0]&&(I=-I),I>0&&(x=k.index)}else x=k.index;else k.y!==_[1]&&(x=k.index)}}}return x}},4670:function(v,c,i){"use strict";var s=i(9130),a=i(9662);function o(u,d){var m=a(s(u,d),[d[d.length-1]]);return m[m.length-1]}function l(u,d,m,h){var T=-d/(h-d);T<0?T=0:T>1&&(T=1);for(var _=1-T,g=u.length,w=new Array(g),x=0;x<g;++x)w[x]=T*u[x]+_*m[x];return w}v.exports=function(u,d){for(var m=[],h=[],T=o(u[u.length-1],d),_=u[u.length-1],g=u[0],w=0;w<u.length;++w,_=g){var x=o(g=u[w],d);if(T<0&&x>0||T>0&&x<0){var b=l(_,x,g,T);m.push(b),h.push(b.slice())}x<0?h.push(g.slice()):x>0?m.push(g.slice()):(m.push(g.slice()),h.push(g.slice())),T=x}return{positive:m,negative:h}},v.exports.positive=function(u,d){for(var m=[],h=o(u[u.length-1],d),T=u[u.length-1],_=u[0],g=0;g<u.length;++g,T=_){var w=o(_=u[g],d);(h<0&&w>0||h>0&&w<0)&&m.push(l(T,w,_,h)),w>=0&&m.push(_.slice()),h=w}return m},v.exports.negative=function(u,d){for(var m=[],h=o(u[u.length-1],d),T=u[u.length-1],_=u[0],g=0;g<u.length;++g,T=_){var w=o(_=u[g],d);(h<0&&w>0||h>0&&w<0)&&m.push(l(T,w,_,h)),w<=0&&m.push(_.slice()),h=w}return m}},8974:function(v,c,i){var s;!function(){"use strict";var a={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(d){return function(m,h){var T,_,g,w,x,b,A,p,O,k=1,I=m.length,P="";for(_=0;_<I;_++)if("string"==typeof m[_])P+=m[_];else if("object"==typeof m[_]){if((w=m[_]).keys)for(T=h[k],g=0;g<w.keys.length;g++){if(null==T)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',w.keys[g],w.keys[g-1]));T=T[w.keys[g]]}else T=w.param_no?h[w.param_no]:h[k++];if(a.not_type.test(w.type)&&a.not_primitive.test(w.type)&&T instanceof Function&&(T=T()),a.numeric_arg.test(w.type)&&"number"!=typeof T&&isNaN(T))throw new TypeError(o("[sprintf] expecting number but found %T",T));switch(a.number.test(w.type)&&(p=T>=0),w.type){case"b":T=parseInt(T,10).toString(2);break;case"c":T=String.fromCharCode(parseInt(T,10));break;case"d":case"i":T=parseInt(T,10);break;case"j":T=JSON.stringify(T,null,w.width?parseInt(w.width):0);break;case"e":T=w.precision?parseFloat(T).toExponential(w.precision):parseFloat(T).toExponential();break;case"f":T=w.precision?parseFloat(T).toFixed(w.precision):parseFloat(T);break;case"g":T=w.precision?String(Number(T.toPrecision(w.precision))):parseFloat(T);break;case"o":T=(parseInt(T,10)>>>0).toString(8);break;case"s":T=String(T),T=w.precision?T.substring(0,w.precision):T;break;case"t":T=String(!!T),T=w.precision?T.substring(0,w.precision):T;break;case"T":T=Object.prototype.toString.call(T).slice(8,-1).toLowerCase(),T=w.precision?T.substring(0,w.precision):T;break;case"u":T=parseInt(T,10)>>>0;break;case"v":T=T.valueOf(),T=w.precision?T.substring(0,w.precision):T;break;case"x":T=(parseInt(T,10)>>>0).toString(16);break;case"X":T=(parseInt(T,10)>>>0).toString(16).toUpperCase()}a.json.test(w.type)?P+=T:(!a.number.test(w.type)||p&&!w.sign?O="":(O=p?"+":"-",T=T.toString().replace(a.sign,"")),b=w.pad_char?"0"===w.pad_char?"0":w.pad_char.charAt(1):" ",A=w.width-(O+T).length,x=w.width&&A>0?b.repeat(A):"",P+=w.align?O+T+x:"0"===b?O+x+T:x+O+T)}return P}(function(m){if(u[m])return u[m];for(var h,T=m,_=[],g=0;T;){if(null!==(h=a.text.exec(T)))_.push(h[0]);else if(null!==(h=a.modulo.exec(T)))_.push("%");else{if(null===(h=a.placeholder.exec(T)))throw new SyntaxError("[sprintf] unexpected placeholder");if(h[2]){g|=1;var w=[],x=h[2],b=[];if(null===(b=a.key.exec(x)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(w.push(b[1]);""!==(x=x.substring(b[0].length));)if(null!==(b=a.key_access.exec(x)))w.push(b[1]);else{if(null===(b=a.index_access.exec(x)))throw new SyntaxError("[sprintf] failed to parse named argument key");w.push(b[1])}h[2]=w}else g|=2;if(3===g)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");_.push({placeholder:h[0],param_no:h[1],keys:h[2],sign:h[3],pad_char:h[4],align:h[5],width:h[6],precision:h[7],type:h[8]})}T=T.substring(h[0].length)}return u[m]=_}(d),arguments)}function l(d,m){return o.apply(null,[d].concat(m||[]))}var u=Object.create(null);c.sprintf=o,c.vsprintf=l,typeof window<"u"&&(window.sprintf=o,window.vsprintf=l,void 0===(s=function(){return{sprintf:o,vsprintf:l}}.call(c,i,c,v))||(v.exports=s))}()},4162:function(v,c,i){"use strict";v.exports=function(u,d){if(u.dimension<=0)return{positions:[],cells:[]};if(1===u.dimension)return function(T,_){for(var g=a(T,_),w=g.length,x=new Array(w),b=new Array(w),A=0;A<w;++A)x[A]=[g[A]],b[A]=[A];return{positions:x,cells:b}}(u,d);var m=u.order.join()+"-"+u.dtype,h=l[m];return d=+d||0,h||(h=l[m]=function(T,_){var w=o[T.length+"d"];if(w)return w(s,T,_)}(u.order,u.dtype)),h(u,d)};var s=i(9284),a=i(9584),o={"2d":function(u,d,m){var h=u({order:d,scalarArguments:3,getters:"generic"===m?[0]:void 0,phase:function(T,_,g,w){return T>w|0},vertex:function(T,_,g,w,x,b,A,p,O,k,I,P,R){var N=(A<<0)+(p<<1)+(O<<2)+(k<<3)|0;if(0!==N&&15!==N)switch(N){case 0:case 15:I.push([T-.5,_-.5]);break;case 1:I.push([T-.25-.25*(w+g-2*R)/(g-w),_-.25-.25*(x+g-2*R)/(g-x)]);break;case 2:I.push([T-.75-.25*(-w-g+2*R)/(w-g),_-.25-.25*(b+w-2*R)/(w-b)]);break;case 3:I.push([T-.5,_-.5-.5*(x+g+b+w-4*R)/(g-x+w-b)]);break;case 4:I.push([T-.25-.25*(b+x-2*R)/(x-b),_-.75-.25*(-x-g+2*R)/(x-g)]);break;case 5:I.push([T-.5-.5*(w+g+b+x-4*R)/(g-w+x-b),_-.5]);break;case 6:I.push([T-.5-.25*(-w-g+b+x)/(w-g+x-b),_-.5-.25*(-x-g+b+w)/(x-g+w-b)]);break;case 7:I.push([T-.75-.25*(b+x-2*R)/(x-b),_-.75-.25*(b+w-2*R)/(w-b)]);break;case 8:I.push([T-.75-.25*(-b-x+2*R)/(b-x),_-.75-.25*(-b-w+2*R)/(b-w)]);break;case 9:I.push([T-.5-.25*(w+g+-b-x)/(g-w+b-x),_-.5-.25*(x+g+-b-w)/(g-x+b-w)]);break;case 10:I.push([T-.5-.5*(-w-g-b-x+4*R)/(w-g+b-x),_-.5]);break;case 11:I.push([T-.25-.25*(-b-x+2*R)/(b-x),_-.75-.25*(x+g-2*R)/(g-x)]);break;case 12:I.push([T-.5,_-.5-.5*(-x-g-b-w+4*R)/(x-g+b-w)]);break;case 13:I.push([T-.75-.25*(w+g-2*R)/(g-w),_-.25-.25*(-b-w+2*R)/(b-w)]);break;case 14:I.push([T-.25-.25*(-w-g+2*R)/(w-g),_-.25-.25*(-x-g+2*R)/(x-g)])}},cell:function(T,_,g,w,x,b,A,p,O){p.push(x?[T,_]:[_,T])}});return function(T,_){var g=[],w=[];return h(T,g,w,_),{positions:g,cells:w}}}},l={}},6946:function(v,c,i){"use strict";v.exports=function l(u,d,m){m=m||{};var h=o[u];h||(h=o[u]={" ":{data:new Float32Array(0),shape:.2}});var T=h[d];if(!T)if(d.length<=1||!/\d/.test(d))T=h[d]=function(P){for(var R=P.cells,N=P.positions,j=new Float32Array(6*R.length),X=0,F=0,Z=0;Z<R.length;++Z)for(var W=R[Z],H=0;H<3;++H){var G=N[W[H]];j[X++]=G[0],j[X++]=G[1]+1.4,F=Math.max(G[0],F)}return{data:j,shape:F}}(s(d,{triangles:!0,font:u,textAlign:m.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var _=d.split(/(\d|\s)/),g=new Array(_.length),w=0,x=0,b=0;b<_.length;++b)g[b]=l(u,_[b]),w+=g[b].data.length,x+=g[b].shape,b>0&&(x+=.02);var A=new Float32Array(w),p=0,O=-.5*x;for(b=0;b<g.length;++b){for(var k=g[b].data,I=0;I<k.length;I+=2)A[p++]=k[I]+O,A[p++]=k[I+1];O+=g[b].shape+.02}T=h[d]={data:A,shape:x}}return T};var s=i(875),a=window||E.global||{},o=a.__TEXT_CACHE||{};a.__TEXT_CACHE={}},14:function(v,c,i){"use strict";var s=i(4405);v.exports=l;var a=96;function o(u,d){var m=s(getComputedStyle(u).getPropertyValue(d));return m[0]*l(m[1],u)}function l(u,d){switch(d=d||document.body,u=(u||"px").trim().toLowerCase(),d!==window&&d!==document||(d=document.body),u){case"%":return d.clientHeight/100;case"ch":case"ex":return function(m,h){var T=document.createElement("div");T.style["font-size"]="128"+m,h.appendChild(T);var _=o(T,"font-size")/128;return h.removeChild(T),_}(u,d);case"em":return o(d,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return a;case"cm":return a/2.54;case"mm":return a/25.4;case"pt":return a/72;case"pc":return a/6}return 1}},3440:function(v,c,i){"use strict";v.exports=function(x){var b=(x=x||{}).center||[0,0,0],A=x.up||[0,1,0],p=x.right||T(A),O=x.radius||1,k=x.theta||0,I=x.phi||0;if(b=[].slice.call(b,0,3),A=[].slice.call(A,0,3),u(A,A),p=[].slice.call(p,0,3),u(p,p),"eye"in x){var P=x.eye,R=[P[0]-b[0],P[1]-b[1],P[2]-b[2]];l(p,R,A),m(p[0],p[1],p[2])<1e-6?p=T(A):u(p,p),O=m(R[0],R[1],R[2]);var N=d(A,R)/O,j=d(p,R)/O;I=Math.acos(N),k=Math.acos(j)}return O=Math.log(O),new _(x.zoomMin,x.zoomMax,b,A,p,O,k,I)};var s=i(8444),a=i(7437),o=i(4422),l=i(903),u=i(899),d=i(9305);function m(x,b,A){return Math.sqrt(Math.pow(x,2)+Math.pow(b,2)+Math.pow(A,2))}function h(x){return Math.min(1,Math.max(-1,x))}function T(x){var b=Math.abs(x[0]),A=Math.abs(x[1]),p=Math.abs(x[2]),O=[0,0,0];b>Math.max(A,p)?O[2]=1:A>Math.max(b,p)?O[0]=1:O[1]=1;for(var k=0,I=0,P=0;P<3;++P)k+=x[P]*x[P],I+=O[P]*x[P];for(P=0;P<3;++P)O[P]-=I/k*x[P];return u(O,O),O}function _(x,b,A,p,O,k,I,P){this.center=s(A),this.up=s(p),this.right=s(O),this.radius=s([k]),this.angle=s([I,P]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(x,b),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var R=0;R<16;++R)this.computedMatrix[R]=.5;this.recalcMatrix(0)}var g=_.prototype;g.setDistanceLimits=function(x,b){x=x>0?Math.log(x):-1/0,b=b>0?Math.log(b):1/0,b=Math.max(b,x),this.radius.bounds[0][0]=x,this.radius.bounds[1][0]=b},g.getDistanceLimits=function(x){var b=this.radius.bounds[0];return x?(x[0]=Math.exp(b[0][0]),x[1]=Math.exp(b[1][0]),x):[Math.exp(b[0][0]),Math.exp(b[1][0])]},g.recalcMatrix=function(x){this.center.curve(x),this.up.curve(x),this.right.curve(x),this.radius.curve(x),this.angle.curve(x);for(var b=this.computedUp,A=this.computedRight,p=0,O=0,k=0;k<3;++k)O+=b[k]*A[k],p+=b[k]*b[k];var I=Math.sqrt(p),P=0;for(k=0;k<3;++k)A[k]-=b[k]*O/p,P+=A[k]*A[k],b[k]/=I;var R=Math.sqrt(P);for(k=0;k<3;++k)A[k]/=R;var N=this.computedToward;l(N,b,A),u(N,N);var j=Math.exp(this.computedRadius[0]),X=this.computedAngle[0],F=this.computedAngle[1],Z=Math.cos(X),W=Math.sin(X),H=Math.cos(F),G=Math.sin(F),Y=this.computedCenter,se=Z*H,te=W*H,re=G,Q=-Z*G,ee=-W*G,oe=H,le=this.computedEye,ue=this.computedMatrix;for(k=0;k<3;++k){var de=se*A[k]+te*N[k]+re*b[k];ue[4*k+1]=Q*A[k]+ee*N[k]+oe*b[k],ue[4*k+2]=de,ue[4*k+3]=0}var he=ue[1],we=ue[5],Ae=ue[9],Te=ue[2],ve=ue[6],xe=ue[10],Fe=we*xe-Ae*ve,Se=Ae*Te-he*xe,ke=he*ve-we*Te,pe=m(Fe,Se,ke);for(Se/=pe,ke/=pe,ue[0]=Fe/=pe,ue[4]=Se,ue[8]=ke,k=0;k<3;++k)le[k]=Y[k]+ue[2+4*k]*j;for(k=0;k<3;++k){P=0;for(var fe=0;fe<3;++fe)P+=ue[k+4*fe]*le[fe];ue[12+k]=-P}ue[15]=1},g.getMatrix=function(x,b){this.recalcMatrix(x);var A=this.computedMatrix;if(b){for(var p=0;p<16;++p)b[p]=A[p];return b}return A};var w=[0,0,0];g.rotate=function(x,b,A,p){if(this.angle.move(x,b,A),p){this.recalcMatrix(x);var O=this.computedMatrix;w[0]=O[2],w[1]=O[6],w[2]=O[10];for(var k=this.computedUp,I=this.computedRight,P=this.computedToward,R=0;R<3;++R)O[4*R]=k[R],O[4*R+1]=I[R],O[4*R+2]=P[R];for(o(O,O,p,w),R=0;R<3;++R)k[R]=O[4*R],I[R]=O[4*R+1];this.up.set(x,k[0],k[1],k[2]),this.right.set(x,I[0],I[1],I[2])}},g.pan=function(x,b,A,p){b=b||0,A=A||0,p=p||0,this.recalcMatrix(x);var O=this.computedMatrix,k=(Math.exp(this.computedRadius[0]),O[1]),I=O[5],P=O[9],R=m(k,I,P),N=O[0],j=O[4],X=O[8],F=N*(k/=R)+j*(I/=R)+X*(P/=R),Z=m(N-=k*F,j-=I*F,X-=P*F),W=(N/=Z)*b+k*A,H=(j/=Z)*b+I*A,G=(X/=Z)*b+P*A;this.center.move(x,W,H,G);var Y=Math.exp(this.computedRadius[0]);Y=Math.max(1e-4,Y+p),this.radius.set(x,Math.log(Y))},g.translate=function(x,b,A,p){this.center.move(x,b||0,A||0,p||0)},g.setMatrix=function(x,b,A,p){var O=1;"number"==typeof A&&(O=0|A),(O<0||O>3)&&(O=1);var k=(O+2)%3;b||(this.recalcMatrix(x),b=this.computedMatrix);var I=b[O],P=b[O+4],R=b[O+8];if(p){var N=Math.abs(I),j=Math.abs(P),X=Math.abs(R),F=Math.max(N,j,X);N===F?(I=I<0?-1:1,P=R=0):X===F?(R=R<0?-1:1,I=P=0):(P=P<0?-1:1,I=R=0)}else{var Z=m(I,P,R);I/=Z,P/=Z,R/=Z}var W,H,G=b[k],Y=b[k+4],se=b[k+8],te=G*I+Y*P+se*R,re=m(G-=I*te,Y-=P*te,se-=R*te),Q=P*(se/=re)-R*(Y/=re),ee=R*(G/=re)-I*se,oe=I*Y-P*G,le=m(Q,ee,oe);if(Q/=le,ee/=le,oe/=le,this.center.jump(x,De,Ue,Ge),this.radius.idle(x),this.up.jump(x,I,P,R),this.right.jump(x,G,Y,se),2===O){var ue=b[1],de=b[5],he=b[9];W=Fe<0?-Math.PI/2:Math.PI/2,H=Math.atan2(ue*Q+de*ee+he*oe,ue*G+de*Y+he*se)}else{var Te=b[2],ve=b[6],xe=b[10],Fe=Te*I+ve*P+xe*R,Se=Te*G+ve*Y+xe*se,ke=Te*Q+ve*ee+xe*oe;W=Math.asin(h(Fe)),H=Math.atan2(ke,Se)}this.angle.jump(x,H,W),this.recalcMatrix(x);var pe=b[2],fe=b[6],be=b[10],Le=this.computedMatrix;a(Le,b);var Oe=Le[15],De=Le[12]/Oe,Ue=Le[13]/Oe,Ge=Le[14]/Oe,ye=Math.exp(this.computedRadius[0]);this.center.jump(x,De-pe*ye,Ue-fe*ye,Ge-be*ye)},g.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},g.idle=function(x){this.center.idle(x),this.up.idle(x),this.right.idle(x),this.radius.idle(x),this.angle.idle(x)},g.flush=function(x){this.center.flush(x),this.up.flush(x),this.right.flush(x),this.radius.flush(x),this.angle.flush(x)},g.setDistance=function(x,b){b>0&&this.radius.set(x,Math.log(b))},g.lookAt=function(x,b,A,p){this.recalcMatrix(x),b=b||this.computedEye,A=A||this.computedCenter;var O=(p=p||this.computedUp)[0],k=p[1],I=p[2],P=m(O,k,I);if(!(P<1e-6)){O/=P,k/=P,I/=P;var R=b[0]-A[0],N=b[1]-A[1],j=b[2]-A[2],X=m(R,N,j);if(!(X<1e-6)){R/=X,N/=X,j/=X;var F=this.computedRight,Z=F[0],W=F[1],H=F[2],G=O*Z+k*W+I*H,Y=m(Z-=G*O,W-=G*k,H-=G*I);if(!(Y<.01&&(Y=m(Z=k*j-I*N,W=I*R-O*j,H=O*N-k*R))<1e-6)){Z/=Y,W/=Y,H/=Y,this.up.set(x,O,k,I),this.right.set(x,Z,W,H),this.center.set(x,A[0],A[1],A[2]),this.radius.set(x,Math.log(X));var se=k*H-I*W,te=I*Z-O*H,re=O*W-k*Z,Q=m(se,te,re),oe=Z*R+W*N+H*j,le=(se/=Q)*R+(te/=Q)*N+(re/=Q)*j,ue=Math.asin(h(O*R+k*N+I*j)),de=Math.atan2(le,oe),he=this.angle._state,we=he[he.length-1],Ae=he[he.length-2];we%=2*Math.PI;var Te=Math.abs(we+2*Math.PI-de),ve=Math.abs(we-de),xe=Math.abs(we-2*Math.PI-de);Te<ve&&(we+=2*Math.PI),xe<ve&&(we-=2*Math.PI),this.angle.jump(this.angle.lastT(),we,Ae),this.angle.set(x,de,ue)}}}}},9660:function(v){"use strict";v.exports=function(i,s,a){var o=i*s,l=c*i,u=l-(l-i),d=i-u,m=c*s,h=m-(m-s),T=s-h,_=d*T-(o-u*h-d*h-u*T);return a?(a[0]=_,a[1]=o,a):[_,o]};var c=+(Math.pow(2,27)+1)},87:function(v){"use strict";v.exports=function(c,i,s){var a=c+i,o=a-c,l=i-o,u=c-(a-o);return s?(s[0]=u+l,s[1]=a,s):[u+l,a]}},5306:function(v,c,i){"use strict";var s=i(2288),a=i(3094),o=i(2146).lW;i.g.__TYPEDARRAY_POOL||(i.g.__TYPEDARRAY_POOL={UINT8:a([32,0]),UINT16:a([32,0]),UINT32:a([32,0]),BIGUINT64:a([32,0]),INT8:a([32,0]),INT16:a([32,0]),INT32:a([32,0]),BIGINT64:a([32,0]),FLOAT:a([32,0]),DOUBLE:a([32,0]),DATA:a([32,0]),UINT8C:a([32,0]),BUFFER:a([32,0])});var l=typeof Uint8ClampedArray<"u",u=typeof BigUint64Array<"u",d=typeof BigInt64Array<"u",m=i.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=a([32,0])),m.BIGUINT64||(m.BIGUINT64=a([32,0])),m.BIGINT64||(m.BIGINT64=a([32,0])),m.BUFFER||(m.BUFFER=a([32,0]));var h=m.DATA,T=m.BUFFER;function _(F){if(F){var W=s.log2(F.length||F.byteLength);h[W].push(F)}}function g(F){F=s.nextPow2(F);var Z=s.log2(F),W=h[Z];return W.length>0?W.pop():new ArrayBuffer(F)}function w(F){return new Uint8Array(g(F),0,F)}function x(F){return new Uint16Array(g(2*F),0,F)}function b(F){return new Uint32Array(g(4*F),0,F)}function A(F){return new Int8Array(g(F),0,F)}function p(F){return new Int16Array(g(2*F),0,F)}function O(F){return new Int32Array(g(4*F),0,F)}function k(F){return new Float32Array(g(4*F),0,F)}function I(F){return new Float64Array(g(8*F),0,F)}function P(F){return l?new Uint8ClampedArray(g(F),0,F):w(F)}function R(F){return u?new BigUint64Array(g(8*F),0,F):null}function N(F){return d?new BigInt64Array(g(8*F),0,F):null}function j(F){return new DataView(g(F),0,F)}function X(F){F=s.nextPow2(F);var Z=s.log2(F),W=T[Z];return W.length>0?W.pop():new o(F)}c.free=function(F){if(o.isBuffer(F))T[s.log2(F.length)].push(F);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(F)&&(F=F.buffer),!F)return;var W=0|s.log2(F.length||F.byteLength);h[W].push(F)}},c.freeUint8=c.freeUint16=c.freeUint32=c.freeBigUint64=c.freeInt8=c.freeInt16=c.freeInt32=c.freeBigInt64=c.freeFloat32=c.freeFloat=c.freeFloat64=c.freeDouble=c.freeUint8Clamped=c.freeDataView=function(F){_(F.buffer)},c.freeArrayBuffer=_,c.freeBuffer=function(F){T[s.log2(F.length)].push(F)},c.malloc=function(F,Z){if(void 0===Z||"arraybuffer"===Z)return g(F);switch(Z){case"uint8":return w(F);case"uint16":return x(F);case"uint32":return b(F);case"int8":return A(F);case"int16":return p(F);case"int32":return O(F);case"float":case"float32":return k(F);case"double":case"float64":return I(F);case"uint8_clamped":return P(F);case"bigint64":return N(F);case"biguint64":return R(F);case"buffer":return X(F);case"data":case"dataview":return j(F);default:return null}return null},c.mallocArrayBuffer=g,c.mallocUint8=w,c.mallocUint16=x,c.mallocUint32=b,c.mallocInt8=A,c.mallocInt16=p,c.mallocInt32=O,c.mallocFloat32=c.mallocFloat=k,c.mallocFloat64=c.mallocDouble=I,c.mallocUint8Clamped=P,c.mallocBigUint64=R,c.mallocBigInt64=N,c.mallocDataView=j,c.mallocBuffer=X,c.clearCache=function(){for(var F=0;F<32;++F)m.UINT8[F].length=0,m.UINT16[F].length=0,m.UINT32[F].length=0,m.INT8[F].length=0,m.INT16[F].length=0,m.INT32[F].length=0,m.FLOAT[F].length=0,m.DOUBLE[F].length=0,m.BIGUINT64[F].length=0,m.BIGINT64[F].length=0,m.UINT8C[F].length=0,h[F].length=0,T[F].length=0}},1731:function(v){"use strict";function c(s){this.roots=new Array(s),this.ranks=new Array(s);for(var a=0;a<s;++a)this.roots[a]=a,this.ranks[a]=0}v.exports=c;var i=c.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var s=this.roots.length;return this.roots.push(s),this.ranks.push(0),s},i.find=function(s){for(var a=s,o=this.roots;o[s]!==s;)s=o[s];for(;o[a]!==s;){var l=o[a];o[a]=s,a=l}return s},i.link=function(s,a){var o=this.find(s),l=this.find(a);if(o!==l){var u=this.ranks,d=this.roots,m=u[o],h=u[l];m<h?d[o]=l:h<m?d[l]=o:(d[l]=o,++u[o])}}},1215:function(v){"use strict";v.exports=function(c,i,s){return 0===c.length?c:i?(s||c.sort(i),function(a,o){for(var l=1,u=a.length,d=a[0],m=a[0],h=1;h<u;++h)if(m=d,o(d=a[h],m)){if(h===l){l++;continue}a[l++]=d}return a.length=l,a}(c,i)):(s||c.sort(),function(a){for(var o=1,l=a.length,u=a[0],d=a[0],m=1;m<l;++m,d=u)if(d=u,(u=a[m])!==d){if(m===o){o++;continue}a[o++]=u}return a.length=o,a}(c))}},875:function(v,c,i){"use strict";v.exports=function(l,u){return"object"==typeof u&&null!==u||(u={}),s(l,u.canvas||a,u.context||o,u)};var s=i(712),a=null,o=null;typeof document<"u"&&((a=document.createElement("canvas")).width=8192,a.height=1024,o=a.getContext("2d"))},712:function(v,c,i){v.exports=function(R,N,j,X){var F=64,Z=1.25,W={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return X&&(X.size&&X.size>0&&(F=X.size),X.lineSpacing&&X.lineSpacing>0&&(Z=X.lineSpacing),X.styletags&&X.styletags.breaklines&&(W.breaklines=!!X.styletags.breaklines),X.styletags&&X.styletags.bolds&&(W.bolds=!!X.styletags.bolds),X.styletags&&X.styletags.italics&&(W.italics=!!X.styletags.italics),X.styletags&&X.styletags.subscripts&&(W.subscripts=!!X.styletags.subscripts),X.styletags&&X.styletags.superscripts&&(W.superscripts=!!X.styletags.superscripts)),j.font=[X.fontStyle,X.fontVariant,X.fontWeight,F+"px",X.font].filter(function(H){return H}).join(" "),j.textAlign="start",j.textBaseline="alphabetic",j.direction="ltr",P(function(H,G,Y,se,te,re){Y=(Y=Y.replace(/\n/g,"")).replace(/\<br\>/g,!0===re.breaklines?"\n":" ");var Q="",ee=[];for(de=0;de<Y.length;++de)ee[de]=Q;!0===re.bolds&&(ee=O(m,h,Y,ee)),!0===re.italics&&(ee=O(T,_,Y,ee)),!0===re.superscripts&&(ee=O(g,x,Y,ee)),!0===re.subscripts&&(ee=O(b,p,Y,ee));var oe=[],le="";for(de=0;de<Y.length;++de)null!==ee[de]&&(le+=Y[de],oe.push(ee[de]));var ue,de,he,we,Ae,Te=le.split("\n"),ve=Te.length,xe=Math.round(te*se),Fe=se,Se=2*se,ke=0,pe=ve*xe+Se;H.height<pe&&(H.height=pe),G.fillStyle="#000",G.fillRect(0,0,H.width,H.height),G.fillStyle="#fff";var fe=0,be="";function Le(){if(""!==be){var Be=G.measureText(be).width;G.fillText(be,Fe+he,Se+we),he+=Be}}function Oe(){return Math.round(Ae)+"px "}function De(Be,We){var He=""+G.font;if(!0===re.subscripts){var Je=Be.indexOf(A),et=We.indexOf(A),at=Je>-1?parseInt(Be[1+Je]):0,mt=et>-1?parseInt(We[1+et]):0;at!==mt&&(He=He.replace(Oe(),"?px "),Ae*=Math.pow(.75,mt-at),He=He.replace("?px ",Oe())),we+=.25*xe*(mt-at)}if(!0===re.superscripts){var ct=Be.indexOf(w),St=We.indexOf(w),Dt=ct>-1?parseInt(Be[1+ct]):0,Et=St>-1?parseInt(We[1+St]):0;Dt!==Et&&(He=He.replace(Oe(),"?px "),Ae*=Math.pow(.75,Et-Dt),He=He.replace("?px ",Oe())),we-=.25*xe*(Et-Dt)}if(!0===re.bolds){var ht=Be.indexOf(h)>-1,pt=We.indexOf(h)>-1;!ht&&pt&&(He=Pt?He.replace("italic ","italic bold "):"bold "+He),ht&&!pt&&(He=He.replace("bold ",""))}if(!0===re.italics){var Pt=Be.indexOf(_)>-1,Ft=We.indexOf(_)>-1;!Pt&&Ft&&(He="italic "+He),Pt&&!Ft&&(He=He.replace("italic ",""))}G.font=He}for(ue=0;ue<ve;++ue){var Ue=Te[ue]+"\n";for(he=0,we=ue*xe,Ae=se,be="",de=0;de<Ue.length;++de){var Ge=de+fe<oe.length?oe[de+fe]:oe[oe.length-1];Q===Ge?be+=Ue[de]:(Le(),be=Ue[de],void 0!==Ge&&(De(Q,Ge),Q=Ge))}Le(),fe+=Ue.length;var ye=0|Math.round(he+2*Fe);ke<ye&&(ke=ye)}var Ie=ke,Ee=Se+xe*ve;return a(G.getImageData(0,0,Ie,Ee).data,[Ee,Ie,4]).pick(-1,-1,0).transpose(1,0)}(N,j,R,F,Z,W),X,F)},v.exports.processPixels=P;var s=i(4162),a=i(5050),o=i(8243),l=i(197),u=i(7761),d=i(8040),m="b",h="b|",T="i",_="i|",g="sup",w="+",x="+1",b="sub",A="-",p="-1";function O(R,N,j,X){for(var F="<"+R+">",Z="</"+R+">",W=F.length,H=Z.length,G=N[0]===w||N[0]===A,Y=0,se=-H;Y>-1&&-1!==(Y=j.indexOf(F,Y))&&-1!==(se=j.indexOf(Z,Y+W))&&!(se<=Y);){for(var te=Y;te<se+H;++te)if(te<Y+W||te>=se)X[te]=null,j=j.substr(0,te)+" "+j.substr(te+1);else if(null!==X[te]){var re=X[te].indexOf(N[0]);-1===re?X[te]+=N:G&&(X[te]=X[te].substr(0,re+1)+(1+parseInt(X[te][re+1]))+X[te].substr(re+2))}var Q=Y+W,ee=j.substr(Q,se-Q).indexOf(F);Y=-1!==ee?ee:se+H}return X}function I(R,N,j,X){var F=function k(R,N){var j=s(R,128);return N?o(j.cells,j.positions,.25):{edges:j.cells,positions:j.positions}}(R,X),Z=function(ue,de,he){for(var we=de.textAlign||"start",Ae=de.textBaseline||"alphabetic",Te=[1<<30,1<<30],ve=[0,0],xe=ue.length,Fe=0;Fe<xe;++Fe)for(var Se=ue[Fe],ke=0;ke<2;++ke)Te[ke]=0|Math.min(Te[ke],Se[ke]),ve[ke]=0|Math.max(ve[ke],Se[ke]);var pe=0;switch(we){case"center":pe=-.5*(Te[0]+ve[0]);break;case"right":case"end":pe=-ve[0];break;case"left":case"start":pe=-Te[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+we+"'")}var fe=0;switch(Ae){case"hanging":case"top":fe=-Te[1];break;case"middle":fe=-.5*(Te[1]+ve[1]);break;case"alphabetic":case"ideographic":fe=-3*he;break;case"bottom":fe=-ve[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+Ae+"'")}var be=1/he;return"lineHeight"in de?be*=+de.lineHeight:"width"in de?be=de.width/(ve[0]-Te[0]):"height"in de&&(be=de.height/(ve[1]-Te[1])),ue.map(function(Le){return[be*(Le[0]+pe),be*(Le[1]+fe)]})}(F.positions,N,j),W=F.edges,H="ccw"===N.orientation;if(l(Z,W),N.polygons||N.polygon||N.polyline){for(var G=d(W,Z),Y=new Array(G.length),se=0;se<G.length;++se){for(var te=G[se],re=new Array(te.length),Q=0;Q<te.length;++Q){for(var ee=te[Q],oe=new Array(ee.length),le=0;le<ee.length;++le)oe[le]=Z[ee[le]].slice();H&&oe.reverse(),re[Q]=oe}Y[se]=re}return Y}return N.triangles||N.triangulate||N.triangle?{cells:u(Z,W,{delaunay:!1,exterior:!1,interior:!0}),positions:Z}:{edges:W,positions:Z}}function P(R,N,j){try{return I(R,N,j,!0)}catch{}try{return I(R,N,j,!1)}catch{}return N.polygons||N.polyline||N.polygon?[]:N.triangles||N.triangulate||N.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(v){!function(){"use strict";if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=b);var c=!1;if("function"==typeof WeakMap){var i=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var s=new i,a=Object.freeze({});if(s.set(a,1),1===s.get(a))return void(v.exports=WeakMap);c=!0}}var o=Object.getOwnPropertyNames,l=Object.defineProperty,u=Object.isExtensible,d="weakmap:",m=d+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var h=new ArrayBuffer(25),T=new Uint8Array(h);crypto.getRandomValues(T),m=d+"rand:"+Array.prototype.map.call(T,function(I){return(I%36).toString(36)}).join("")+"___"}if(l(Object,"getOwnPropertyNames",{value:function(I){return o(I).filter(A)}}),"getPropertyNames"in Object){var _=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(I){return _(I).filter(A)}})}!function(){var I=Object.freeze;l(Object,"freeze",{value:function(N){return p(N),I(N)}});var P=Object.seal;l(Object,"seal",{value:function(N){return p(N),P(N)}});var R=Object.preventExtensions;l(Object,"preventExtensions",{value:function(N){return p(N),R(N)}})}();var g=!1,w=0,x=function(){this instanceof x||k();var I=[],P=[],R=w++;return Object.create(x.prototype,{get___:{value:O(function(N,j){var X,F=p(N);return F?R in F?F[R]:j:(X=I.indexOf(N))>=0?P[X]:j})},has___:{value:O(function(N){var j=p(N);return j?R in j:I.indexOf(N)>=0})},set___:{value:O(function(N,j){var X,F=p(N);return F?F[R]=j:(X=I.indexOf(N))>=0?P[X]=j:(P[X=I.length]=j,I[X]=N),this})},delete___:{value:O(function(N){var j,X,F=p(N);return F?R in F&&delete F[R]:!((j=I.indexOf(N))<0||(X=I.length-1,I[j]=void 0,P[j]=P[X],I[j]=I[X],I.length=X,P.length=X,0))})}})};x.prototype=Object.create(Object.prototype,{get:{value:function(I,P){return this.get___(I,P)},writable:!0,configurable:!0},has:{value:function(I){return this.has___(I)},writable:!0,configurable:!0},set:{value:function(I,P){return this.set___(I,P)},writable:!0,configurable:!0},delete:{value:function(I){return this.delete___(I)},writable:!0,configurable:!0}}),"function"==typeof i?function(){function I(){this instanceof x||k();var P,R=new i,N=void 0,j=!1;return P=c?function(X,F){return R.set(X,F),R.has(X)||(N||(N=new x),N.set(X,F)),this}:function(X,F){if(j)try{R.set(X,F)}catch{N||(N=new x),N.set___(X,F)}else R.set(X,F);return this},Object.create(x.prototype,{get___:{value:O(function(X,F){return N?R.has(X)?R.get(X):N.get___(X,F):R.get(X,F)})},has___:{value:O(function(X){return R.has(X)||!!N&&N.has___(X)})},set___:{value:O(P)},delete___:{value:O(function(X){var F=!!R.delete(X);return N&&N.delete___(X)||F})},permitHostObjects___:{value:O(function(X){if(X!==b)throw new Error("bogus call to permitHostObjects___");j=!0})}})}c&&typeof Proxy<"u"&&(Proxy=void 0),I.prototype=x.prototype,v.exports=I,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=x)}function b(I){I.permitHostObjects___&&I.permitHostObjects___(b)}function A(I){return!(I.substr(0,8)==d&&"___"===I.substr(I.length-3))}function p(I){if(I!==Object(I))throw new TypeError("Not an object: "+I);var P=I[m];if(P&&P.key===I)return P;if(u(I)){P={key:I};try{return l(I,m,{value:P,writable:!1,enumerable:!1,configurable:!1}),P}catch{return}}}function O(I){return I.prototype=null,Object.freeze(I)}function k(){g||typeof console>"u"||(g=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},9222:function(v,c,i){var s=i(7178);v.exports=function(){var a={};return function(o){if(("object"!=typeof o||null===o)&&"function"!=typeof o)throw new Error("Weakmap-shim: Key must be object");var l=o.valueOf(a);return l&&l.identity===a?l:s(o,a)}}},7178:function(v){v.exports=function(c,i){var s={identity:i},a=c.valueOf;return Object.defineProperty(c,"valueOf",{value:function(o){return o!==i?a.apply(this,arguments):s},writable:!0}),s}},4037:function(v,c,i){var s=i(9222);v.exports=function(){var a=s();return{get:function(o,l){var u=a(o);return u.hasOwnProperty("value")?u.value:l},set:function(o,l){return a(o).value=l,this},has:function(o){return"value"in a(o)},delete:function(o){return delete a(o).value}}}},6183:function(v){"use strict";var c,i;v.exports=(c=function(){return function(c,i,s,a,o,l){var u=c[0],d=s[0],m=[0],h=d;a|=0;var T=0,_=d;for(T=0;T<u;++T){var g=i[a]-l,w=i[a+h]-l;g>=0!=w>=0&&o.push(m[0]+.5+.5*(g+w)/(g-w)),a+=_,++m[0]}}}.bind(void 0,{funcName:"zeroCrossings"}),i={},function(s,a,o){var l=s.dtype,u=s.order,d=[l,u.join()].join(),m=i[d];return m||(i[d]=m=c([l,u])),m(s.shape.slice(0),s.data,s.stride,0|s.offset,a,o)})},9584:function(v,c,i){"use strict";v.exports=function(a,o){var l=[];return o=+o||0,s(a.hi(a.shape[0]-1),l,o),l};var s=i(6183)},6601:function(){}},S={};function M(v){var c=S[v];if(void 0!==c)return c.exports;var i=S[v]={id:v,loaded:!1,exports:{}};return f[v].call(i.exports,i,i.exports,M),i.loaded=!0,i.exports}return M.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),M.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v},M(7386)}()},ae.exports=D()},12856:function(ae,B,r){"use strict";function E(pe,fe){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(be,Le){return be.__proto__=Le,be})(pe,fe)}function f(pe){if(void 0===pe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}function S(pe){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(fe){return fe.__proto__||Object.getPrototypeOf(fe)})(pe)}function M(pe){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(fe){return typeof fe}:function(fe){return fe&&"function"==typeof Symbol&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe})(pe)}var v=r(95341),c=r(95280),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;B.Buffer=o,B.SlowBuffer=function(pe){return+pe!=pe&&(pe=0),o.alloc(+pe)},B.INSPECT_MAX_BYTES=50;var s=2147483647;function a(pe){if(pe>s)throw new RangeError('The value "'+pe+'" is invalid for option "size"');var fe=new Uint8Array(pe);return Object.setPrototypeOf(fe,o.prototype),fe}function o(pe,fe,be){if("number"==typeof pe){if("string"==typeof fe)throw new TypeError('The "string" argument must be of type string. Received type number');return d(pe)}return l(pe,fe,be)}function l(pe,fe,be){if("string"==typeof pe)return function(De,Ue){if("string"==typeof Ue&&""!==Ue||(Ue="utf8"),!o.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue);var Ge=0|_(De,Ue),ye=a(Ge),Ie=ye.write(De,Ue);return Ie!==Ge&&(ye=ye.slice(0,Ie)),ye}(pe,fe);if(ArrayBuffer.isView(pe))return function(De){if(ve(De,Uint8Array)){var Ue=new Uint8Array(De);return h(Ue.buffer,Ue.byteOffset,Ue.byteLength)}return m(De)}(pe);if(null==pe)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+M(pe));if(ve(pe,ArrayBuffer)||pe&&ve(pe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(pe,SharedArrayBuffer)||pe&&ve(pe.buffer,SharedArrayBuffer)))return h(pe,fe,be);if("number"==typeof pe)throw new TypeError('The "value" argument must not be of type number. Received type number');var Le=pe.valueOf&&pe.valueOf();if(null!=Le&&Le!==pe)return o.from(Le,fe,be);var Oe=function(De){if(o.isBuffer(De)){var Ue=0|T(De.length),Ge=a(Ue);return 0===Ge.length||De.copy(Ge,0,0,Ue),Ge}return void 0!==De.length?"number"!=typeof De.length||xe(De.length)?a(0):m(De):"Buffer"===De.type&&Array.isArray(De.data)?m(De.data):void 0}(pe);if(Oe)return Oe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof pe[Symbol.toPrimitive])return o.from(pe[Symbol.toPrimitive]("string"),fe,be);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+M(pe))}function u(pe){if("number"!=typeof pe)throw new TypeError('"size" argument must be of type number');if(pe<0)throw new RangeError('The value "'+pe+'" is invalid for option "size"')}function d(pe){return u(pe),a(pe<0?0:0|T(pe))}function m(pe){for(var fe=pe.length<0?0:0|T(pe.length),be=a(fe),Le=0;Le<fe;Le+=1)be[Le]=255&pe[Le];return be}function h(pe,fe,be){if(fe<0||pe.byteLength<fe)throw new RangeError('"offset" is outside of buffer bounds');if(pe.byteLength<fe+(be||0))throw new RangeError('"length" is outside of buffer bounds');var Le;return Le=void 0===fe&&void 0===be?new Uint8Array(pe):void 0===be?new Uint8Array(pe,fe):new Uint8Array(pe,fe,be),Object.setPrototypeOf(Le,o.prototype),Le}function T(pe){if(pe>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|pe}function _(pe,fe){if(o.isBuffer(pe))return pe.length;if(ArrayBuffer.isView(pe)||ve(pe,ArrayBuffer))return pe.byteLength;if("string"!=typeof pe)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+M(pe));var be=pe.length,Le=arguments.length>2&&!0===arguments[2];if(!Le&&0===be)return 0;for(var Oe=!1;;)switch(fe){case"ascii":case"latin1":case"binary":return be;case"utf8":case"utf-8":return we(pe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*be;case"hex":return be>>>1;case"base64":return Ae(pe).length;default:if(Oe)return Le?-1:we(pe).length;fe=(""+fe).toLowerCase(),Oe=!0}}function g(pe,fe,be){var Le=!1;if((void 0===fe||fe<0)&&(fe=0),fe>this.length||((void 0===be||be>this.length)&&(be=this.length),be<=0)||(be>>>=0)<=(fe>>>=0))return"";for(pe||(pe="utf8");;)switch(pe){case"hex":return F(this,fe,be);case"utf8":case"utf-8":return R(this,fe,be);case"ascii":return j(this,fe,be);case"latin1":case"binary":return X(this,fe,be);case"base64":return P(this,fe,be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,fe,be);default:if(Le)throw new TypeError("Unknown encoding: "+pe);pe=(pe+"").toLowerCase(),Le=!0}}function w(pe,fe,be){var Le=pe[fe];pe[fe]=pe[be],pe[be]=Le}function x(pe,fe,be,Le,Oe){if(0===pe.length)return-1;if("string"==typeof be?(Le=be,be=0):be>2147483647?be=2147483647:be<-2147483648&&(be=-2147483648),xe(be=+be)&&(be=Oe?0:pe.length-1),be<0&&(be=pe.length+be),be>=pe.length){if(Oe)return-1;be=pe.length-1}else if(be<0){if(!Oe)return-1;be=0}if("string"==typeof fe&&(fe=o.from(fe,Le)),o.isBuffer(fe))return 0===fe.length?-1:b(pe,fe,be,Le,Oe);if("number"==typeof fe)return fe&=255,"function"==typeof Uint8Array.prototype.indexOf?Oe?Uint8Array.prototype.indexOf.call(pe,fe,be):Uint8Array.prototype.lastIndexOf.call(pe,fe,be):b(pe,[fe],be,Le,Oe);throw new TypeError("val must be string, number or Buffer")}function b(pe,fe,be,Le,Oe){var De,Ue=1,Ge=pe.length,ye=fe.length;if(void 0!==Le&&("ucs2"===(Le=String(Le).toLowerCase())||"ucs-2"===Le||"utf16le"===Le||"utf-16le"===Le)){if(pe.length<2||fe.length<2)return-1;Ue=2,Ge/=2,ye/=2,be/=2}function Ie(He,Je){return 1===Ue?He[Je]:He.readUInt16BE(Je*Ue)}if(Oe){var Ee=-1;for(De=be;De<Ge;De++)if(Ie(pe,De)===Ie(fe,-1===Ee?0:De-Ee)){if(-1===Ee&&(Ee=De),De-Ee+1===ye)return Ee*Ue}else-1!==Ee&&(De-=De-Ee),Ee=-1}else for(be+ye>Ge&&(be=Ge-ye),De=be;De>=0;De--){for(var Be=!0,We=0;We<ye;We++)if(Ie(pe,De+We)!==Ie(fe,We)){Be=!1;break}if(Be)return De}return-1}function A(pe,fe,be,Le){be=Number(be)||0;var Oe=pe.length-be;Le?(Le=Number(Le))>Oe&&(Le=Oe):Le=Oe;var De,Ue=fe.length;for(Le>Ue/2&&(Le=Ue/2),De=0;De<Le;++De){var Ge=parseInt(fe.substr(2*De,2),16);if(xe(Ge))return De;pe[be+De]=Ge}return De}function p(pe,fe,be,Le){return Te(we(fe,pe.length-be),pe,be,Le)}function O(pe,fe,be,Le){return Te(function(Oe){for(var De=[],Ue=0;Ue<Oe.length;++Ue)De.push(255&Oe.charCodeAt(Ue));return De}(fe),pe,be,Le)}function k(pe,fe,be,Le){return Te(Ae(fe),pe,be,Le)}function I(pe,fe,be,Le){return Te(function(Oe,De){for(var Ue,Ge,Ie=[],Ee=0;Ee<Oe.length&&!((De-=2)<0);++Ee)Ge=(Ue=Oe.charCodeAt(Ee))>>8,Ie.push(Ue%256),Ie.push(Ge);return Ie}(fe,pe.length-be),pe,be,Le)}function P(pe,fe,be){return v.fromByteArray(0===fe&&be===pe.length?pe:pe.slice(fe,be))}function R(pe,fe,be){be=Math.min(pe.length,be);for(var Le=[],Oe=fe;Oe<be;){var De=pe[Oe],Ue=null,Ge=De>239?4:De>223?3:De>191?2:1;if(Oe+Ge<=be){var ye=void 0,Ie=void 0,Ee=void 0,Be=void 0;switch(Ge){case 1:De<128&&(Ue=De);break;case 2:128==(192&(ye=pe[Oe+1]))&&(Be=(31&De)<<6|63&ye)>127&&(Ue=Be);break;case 3:Ie=pe[Oe+2],128==(192&(ye=pe[Oe+1]))&&128==(192&Ie)&&(Be=(15&De)<<12|(63&ye)<<6|63&Ie)>2047&&(Be<55296||Be>57343)&&(Ue=Be);break;case 4:Ie=pe[Oe+2],Ee=pe[Oe+3],128==(192&(ye=pe[Oe+1]))&&128==(192&Ie)&&128==(192&Ee)&&(Be=(15&De)<<18|(63&ye)<<12|(63&Ie)<<6|63&Ee)>65535&&Be<1114112&&(Ue=Be)}}null===Ue?(Ue=65533,Ge=1):Ue>65535&&(Le.push((Ue-=65536)>>>10&1023|55296),Ue=56320|1023&Ue),Le.push(Ue),Oe+=Ge}return function(We){var He=We.length;if(He<=N)return String.fromCharCode.apply(String,We);for(var Je="",et=0;et<He;)Je+=String.fromCharCode.apply(String,We.slice(et,et+=N));return Je}(Le)}B.kMaxLength=s,(o.TYPED_ARRAY_SUPPORT=function(){try{var pe=new Uint8Array(1),fe={foo:function(){return 42}};return Object.setPrototypeOf(fe,Uint8Array.prototype),Object.setPrototypeOf(pe,fe),42===pe.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(pe,fe,be){return l(pe,fe,be)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(pe,fe,be){return Oe=fe,De=be,u(Le=pe),Le<=0?a(Le):void 0!==Oe?"string"==typeof De?a(Le).fill(Oe,De):a(Le).fill(Oe):a(Le);var Le,Oe,De},o.allocUnsafe=function(pe){return d(pe)},o.allocUnsafeSlow=function(pe){return d(pe)},o.isBuffer=function(pe){return null!=pe&&!0===pe._isBuffer&&pe!==o.prototype},o.compare=function(pe,fe){if(ve(pe,Uint8Array)&&(pe=o.from(pe,pe.offset,pe.byteLength)),ve(fe,Uint8Array)&&(fe=o.from(fe,fe.offset,fe.byteLength)),!o.isBuffer(pe)||!o.isBuffer(fe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(pe===fe)return 0;for(var be=pe.length,Le=fe.length,Oe=0,De=Math.min(be,Le);Oe<De;++Oe)if(pe[Oe]!==fe[Oe]){be=pe[Oe],Le=fe[Oe];break}return be<Le?-1:Le<be?1:0},o.isEncoding=function(pe){switch(String(pe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(pe,fe){if(!Array.isArray(pe))throw new TypeError('"list" argument must be an Array of Buffers');if(0===pe.length)return o.alloc(0);var be;if(void 0===fe)for(fe=0,be=0;be<pe.length;++be)fe+=pe[be].length;var Le=o.allocUnsafe(fe),Oe=0;for(be=0;be<pe.length;++be){var De=pe[be];if(ve(De,Uint8Array))Oe+De.length>Le.length?(o.isBuffer(De)||(De=o.from(De)),De.copy(Le,Oe)):Uint8Array.prototype.set.call(Le,De,Oe);else{if(!o.isBuffer(De))throw new TypeError('"list" argument must be an Array of Buffers');De.copy(Le,Oe)}Oe+=De.length}return Le},o.byteLength=_,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var pe=this.length;if(pe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var fe=0;fe<pe;fe+=2)w(this,fe,fe+1);return this},o.prototype.swap32=function(){var pe=this.length;if(pe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var fe=0;fe<pe;fe+=4)w(this,fe,fe+3),w(this,fe+1,fe+2);return this},o.prototype.swap64=function(){var pe=this.length;if(pe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var fe=0;fe<pe;fe+=8)w(this,fe,fe+7),w(this,fe+1,fe+6),w(this,fe+2,fe+5),w(this,fe+3,fe+4);return this},o.prototype.toString=function(){var pe=this.length;return 0===pe?"":0===arguments.length?R(this,0,pe):g.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(pe){if(!o.isBuffer(pe))throw new TypeError("Argument must be a Buffer");return this===pe||0===o.compare(this,pe)},o.prototype.inspect=function(){var pe="",fe=B.INSPECT_MAX_BYTES;return pe=this.toString("hex",0,fe).replace(/(.{2})/g,"$1 ").trim(),this.length>fe&&(pe+=" ... "),"<Buffer "+pe+">"},i&&(o.prototype[i]=o.prototype.inspect),o.prototype.compare=function(pe,fe,be,Le,Oe){if(ve(pe,Uint8Array)&&(pe=o.from(pe,pe.offset,pe.byteLength)),!o.isBuffer(pe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+M(pe));if(void 0===fe&&(fe=0),void 0===be&&(be=pe?pe.length:0),void 0===Le&&(Le=0),void 0===Oe&&(Oe=this.length),fe<0||be>pe.length||Le<0||Oe>this.length)throw new RangeError("out of range index");if(Le>=Oe&&fe>=be)return 0;if(Le>=Oe)return-1;if(fe>=be)return 1;if(this===pe)return 0;for(var De=(Oe>>>=0)-(Le>>>=0),Ue=(be>>>=0)-(fe>>>=0),Ge=Math.min(De,Ue),ye=this.slice(Le,Oe),Ie=pe.slice(fe,be),Ee=0;Ee<Ge;++Ee)if(ye[Ee]!==Ie[Ee]){De=ye[Ee],Ue=Ie[Ee];break}return De<Ue?-1:Ue<De?1:0},o.prototype.includes=function(pe,fe,be){return-1!==this.indexOf(pe,fe,be)},o.prototype.indexOf=function(pe,fe,be){return x(this,pe,fe,be,!0)},o.prototype.lastIndexOf=function(pe,fe,be){return x(this,pe,fe,be,!1)},o.prototype.write=function(pe,fe,be,Le){if(void 0===fe)Le="utf8",be=this.length,fe=0;else if(void 0===be&&"string"==typeof fe)Le=fe,be=this.length,fe=0;else{if(!isFinite(fe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");fe>>>=0,isFinite(be)?(be>>>=0,void 0===Le&&(Le="utf8")):(Le=be,be=void 0)}var Oe=this.length-fe;if((void 0===be||be>Oe)&&(be=Oe),pe.length>0&&(be<0||fe<0)||fe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Le||(Le="utf8");for(var De=!1;;)switch(Le){case"hex":return A(this,pe,fe,be);case"utf8":case"utf-8":return p(this,pe,fe,be);case"ascii":case"latin1":case"binary":return O(this,pe,fe,be);case"base64":return k(this,pe,fe,be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,pe,fe,be);default:if(De)throw new TypeError("Unknown encoding: "+Le);Le=(""+Le).toLowerCase(),De=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function j(pe,fe,be){var Le="";be=Math.min(pe.length,be);for(var Oe=fe;Oe<be;++Oe)Le+=String.fromCharCode(127&pe[Oe]);return Le}function X(pe,fe,be){var Le="";be=Math.min(pe.length,be);for(var Oe=fe;Oe<be;++Oe)Le+=String.fromCharCode(pe[Oe]);return Le}function F(pe,fe,be){var Le=pe.length;(!fe||fe<0)&&(fe=0),(!be||be<0||be>Le)&&(be=Le);for(var Oe="",De=fe;De<be;++De)Oe+=Fe[pe[De]];return Oe}function Z(pe,fe,be){for(var Le=pe.slice(fe,be),Oe="",De=0;De<Le.length-1;De+=2)Oe+=String.fromCharCode(Le[De]+256*Le[De+1]);return Oe}function W(pe,fe,be){if(pe%1!=0||pe<0)throw new RangeError("offset is not uint");if(pe+fe>be)throw new RangeError("Trying to access beyond buffer length")}function H(pe,fe,be,Le,Oe,De){if(!o.isBuffer(pe))throw new TypeError('"buffer" argument must be a Buffer instance');if(fe>Oe||fe<De)throw new RangeError('"value" argument is out of bounds');if(be+Le>pe.length)throw new RangeError("Index out of range")}function G(pe,fe,be,Le,Oe){le(fe,Le,Oe,pe,be,7);var De=Number(fe&BigInt(4294967295));pe[be++]=De,pe[be++]=De>>=8,pe[be++]=De>>=8,pe[be++]=De>>=8;var Ue=Number(fe>>BigInt(32)&BigInt(4294967295));return pe[be++]=Ue,pe[be++]=Ue>>=8,pe[be++]=Ue>>=8,pe[be++]=Ue>>=8,be}function Y(pe,fe,be,Le,Oe){le(fe,Le,Oe,pe,be,7);var De=Number(fe&BigInt(4294967295));pe[be+7]=De,pe[be+6]=De>>=8,pe[be+5]=De>>=8,pe[be+4]=De>>=8;var Ue=Number(fe>>BigInt(32)&BigInt(4294967295));return pe[be+3]=Ue,pe[be+2]=Ue>>=8,pe[be+1]=Ue>>=8,pe[be]=Ue>>=8,be+8}function se(pe,fe,be,Le,Oe,De){if(be+Le>pe.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("Index out of range")}function te(pe,fe,be,Le,Oe){return fe=+fe,be>>>=0,Oe||se(pe,0,be,4),c.write(pe,fe,be,Le,23,4),be+4}function re(pe,fe,be,Le,Oe){return fe=+fe,be>>>=0,Oe||se(pe,0,be,8),c.write(pe,fe,be,Le,52,8),be+8}o.prototype.slice=function(pe,fe){var be=this.length;(pe=~~pe)<0?(pe+=be)<0&&(pe=0):pe>be&&(pe=be),(fe=void 0===fe?be:~~fe)<0?(fe+=be)<0&&(fe=0):fe>be&&(fe=be),fe<pe&&(fe=pe);var Le=this.subarray(pe,fe);return Object.setPrototypeOf(Le,o.prototype),Le},o.prototype.readUintLE=o.prototype.readUIntLE=function(pe,fe,be){pe>>>=0,fe>>>=0,be||W(pe,fe,this.length);for(var Le=this[pe],Oe=1,De=0;++De<fe&&(Oe*=256);)Le+=this[pe+De]*Oe;return Le},o.prototype.readUintBE=o.prototype.readUIntBE=function(pe,fe,be){pe>>>=0,fe>>>=0,be||W(pe,fe,this.length);for(var Le=this[pe+--fe],Oe=1;fe>0&&(Oe*=256);)Le+=this[pe+--fe]*Oe;return Le},o.prototype.readUint8=o.prototype.readUInt8=function(pe,fe){return pe>>>=0,fe||W(pe,1,this.length),this[pe]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(pe,fe){return pe>>>=0,fe||W(pe,2,this.length),this[pe]|this[pe+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(pe,fe){return pe>>>=0,fe||W(pe,2,this.length),this[pe]<<8|this[pe+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(pe,fe){return pe>>>=0,fe||W(pe,4,this.length),(this[pe]|this[pe+1]<<8|this[pe+2]<<16)+16777216*this[pe+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(pe,fe){return pe>>>=0,fe||W(pe,4,this.length),16777216*this[pe]+(this[pe+1]<<16|this[pe+2]<<8|this[pe+3])},o.prototype.readBigUInt64LE=Se(function(pe){ue(pe>>>=0,"offset");var fe=this[pe],be=this[pe+7];void 0!==fe&&void 0!==be||de(pe,this.length-8);var Le=fe+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,24),Oe=this[++pe]+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+be*Math.pow(2,24);return BigInt(Le)+(BigInt(Oe)<<BigInt(32))}),o.prototype.readBigUInt64BE=Se(function(pe){ue(pe>>>=0,"offset");var fe=this[pe],be=this[pe+7];void 0!==fe&&void 0!==be||de(pe,this.length-8);var Le=fe*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+this[++pe],Oe=this[++pe]*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+be;return(BigInt(Le)<<BigInt(32))+BigInt(Oe)}),o.prototype.readIntLE=function(pe,fe,be){pe>>>=0,fe>>>=0,be||W(pe,fe,this.length);for(var Le=this[pe],Oe=1,De=0;++De<fe&&(Oe*=256);)Le+=this[pe+De]*Oe;return Le>=(Oe*=128)&&(Le-=Math.pow(2,8*fe)),Le},o.prototype.readIntBE=function(pe,fe,be){pe>>>=0,fe>>>=0,be||W(pe,fe,this.length);for(var Le=fe,Oe=1,De=this[pe+--Le];Le>0&&(Oe*=256);)De+=this[pe+--Le]*Oe;return De>=(Oe*=128)&&(De-=Math.pow(2,8*fe)),De},o.prototype.readInt8=function(pe,fe){return pe>>>=0,fe||W(pe,1,this.length),128&this[pe]?-1*(255-this[pe]+1):this[pe]},o.prototype.readInt16LE=function(pe,fe){pe>>>=0,fe||W(pe,2,this.length);var be=this[pe]|this[pe+1]<<8;return 32768&be?4294901760|be:be},o.prototype.readInt16BE=function(pe,fe){pe>>>=0,fe||W(pe,2,this.length);var be=this[pe+1]|this[pe]<<8;return 32768&be?4294901760|be:be},o.prototype.readInt32LE=function(pe,fe){return pe>>>=0,fe||W(pe,4,this.length),this[pe]|this[pe+1]<<8|this[pe+2]<<16|this[pe+3]<<24},o.prototype.readInt32BE=function(pe,fe){return pe>>>=0,fe||W(pe,4,this.length),this[pe]<<24|this[pe+1]<<16|this[pe+2]<<8|this[pe+3]},o.prototype.readBigInt64LE=Se(function(pe){ue(pe>>>=0,"offset");var fe=this[pe],be=this[pe+7];void 0!==fe&&void 0!==be||de(pe,this.length-8);var Le=this[pe+4]+this[pe+5]*Math.pow(2,8)+this[pe+6]*Math.pow(2,16)+(be<<24);return(BigInt(Le)<<BigInt(32))+BigInt(fe+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,24))}),o.prototype.readBigInt64BE=Se(function(pe){ue(pe>>>=0,"offset");var fe=this[pe],be=this[pe+7];void 0!==fe&&void 0!==be||de(pe,this.length-8);var Le=(fe<<24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+this[++pe];return(BigInt(Le)<<BigInt(32))+BigInt(this[++pe]*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+be)}),o.prototype.readFloatLE=function(pe,fe){return pe>>>=0,fe||W(pe,4,this.length),c.read(this,pe,!0,23,4)},o.prototype.readFloatBE=function(pe,fe){return pe>>>=0,fe||W(pe,4,this.length),c.read(this,pe,!1,23,4)},o.prototype.readDoubleLE=function(pe,fe){return pe>>>=0,fe||W(pe,8,this.length),c.read(this,pe,!0,52,8)},o.prototype.readDoubleBE=function(pe,fe){return pe>>>=0,fe||W(pe,8,this.length),c.read(this,pe,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(pe,fe,be,Le){pe=+pe,fe>>>=0,be>>>=0,Le||H(this,pe,fe,be,Math.pow(2,8*be)-1,0);var Oe=1,De=0;for(this[fe]=255&pe;++De<be&&(Oe*=256);)this[fe+De]=pe/Oe&255;return fe+be},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(pe,fe,be,Le){pe=+pe,fe>>>=0,be>>>=0,Le||H(this,pe,fe,be,Math.pow(2,8*be)-1,0);var Oe=be-1,De=1;for(this[fe+Oe]=255&pe;--Oe>=0&&(De*=256);)this[fe+Oe]=pe/De&255;return fe+be},o.prototype.writeUint8=o.prototype.writeUInt8=function(pe,fe,be){return pe=+pe,fe>>>=0,be||H(this,pe,fe,1,255,0),this[fe]=255&pe,fe+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(pe,fe,be){return pe=+pe,fe>>>=0,be||H(this,pe,fe,2,65535,0),this[fe]=255&pe,this[fe+1]=pe>>>8,fe+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(pe,fe,be){return pe=+pe,fe>>>=0,be||H(this,pe,fe,2,65535,0),this[fe]=pe>>>8,this[fe+1]=255&pe,fe+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(pe,fe,be){return pe=+pe,fe>>>=0,be||H(this,pe,fe,4,4294967295,0),this[fe+3]=pe>>>24,this[fe+2]=pe>>>16,this[fe+1]=pe>>>8,this[fe]=255&pe,fe+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(pe,fe,be){return pe=+pe,fe>>>=0,be||H(this,pe,fe,4,4294967295,0),this[fe]=pe>>>24,this[fe+1]=pe>>>16,this[fe+2]=pe>>>8,this[fe+3]=255&pe,fe+4},o.prototype.writeBigUInt64LE=Se(function(pe){return G(this,pe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Se(function(pe){return Y(this,pe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(pe,fe,be,Le){if(pe=+pe,fe>>>=0,!Le){var Oe=Math.pow(2,8*be-1);H(this,pe,fe,be,Oe-1,-Oe)}var De=0,Ue=1,Ge=0;for(this[fe]=255&pe;++De<be&&(Ue*=256);)pe<0&&0===Ge&&0!==this[fe+De-1]&&(Ge=1),this[fe+De]=(pe/Ue>>0)-Ge&255;return fe+be},o.prototype.writeIntBE=function(pe,fe,be,Le){if(pe=+pe,fe>>>=0,!Le){var Oe=Math.pow(2,8*be-1);H(this,pe,fe,be,Oe-1,-Oe)}var De=be-1,Ue=1,Ge=0;for(this[fe+De]=255&pe;--De>=0&&(Ue*=256);)pe<0&&0===Ge&&0!==this[fe+De+1]&&(Ge=1),this[fe+De]=(pe/Ue>>0)-Ge&255;return fe+be},o.prototype.writeInt8=function(pe,fe,be){return pe=+pe,fe>>>=0,be||H(this,pe,fe,1,127,-128),pe<0&&(pe=255+pe+1),this[fe]=255&pe,fe+1},o.prototype.writeInt16LE=function(pe,fe,be){return pe=+pe,fe>>>=0,be||H(this,pe,fe,2,32767,-32768),this[fe]=255&pe,this[fe+1]=pe>>>8,fe+2},o.prototype.writeInt16BE=function(pe,fe,be){return pe=+pe,fe>>>=0,be||H(this,pe,fe,2,32767,-32768),this[fe]=pe>>>8,this[fe+1]=255&pe,fe+2},o.prototype.writeInt32LE=function(pe,fe,be){return pe=+pe,fe>>>=0,be||H(this,pe,fe,4,2147483647,-2147483648),this[fe]=255&pe,this[fe+1]=pe>>>8,this[fe+2]=pe>>>16,this[fe+3]=pe>>>24,fe+4},o.prototype.writeInt32BE=function(pe,fe,be){return pe=+pe,fe>>>=0,be||H(this,pe,fe,4,2147483647,-2147483648),pe<0&&(pe=4294967295+pe+1),this[fe]=pe>>>24,this[fe+1]=pe>>>16,this[fe+2]=pe>>>8,this[fe+3]=255&pe,fe+4},o.prototype.writeBigInt64LE=Se(function(pe){return G(this,pe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Se(function(pe){return Y(this,pe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(pe,fe,be){return te(this,pe,fe,!0,be)},o.prototype.writeFloatBE=function(pe,fe,be){return te(this,pe,fe,!1,be)},o.prototype.writeDoubleLE=function(pe,fe,be){return re(this,pe,fe,!0,be)},o.prototype.writeDoubleBE=function(pe,fe,be){return re(this,pe,fe,!1,be)},o.prototype.copy=function(pe,fe,be,Le){if(!o.isBuffer(pe))throw new TypeError("argument should be a Buffer");if(be||(be=0),Le||0===Le||(Le=this.length),fe>=pe.length&&(fe=pe.length),fe||(fe=0),Le>0&&Le<be&&(Le=be),Le===be||0===pe.length||0===this.length)return 0;if(fe<0)throw new RangeError("targetStart out of bounds");if(be<0||be>=this.length)throw new RangeError("Index out of range");if(Le<0)throw new RangeError("sourceEnd out of bounds");Le>this.length&&(Le=this.length),pe.length-fe<Le-be&&(Le=pe.length-fe+be);var Oe=Le-be;return this===pe&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(fe,be,Le):Uint8Array.prototype.set.call(pe,this.subarray(be,Le),fe),Oe},o.prototype.fill=function(pe,fe,be,Le){if("string"==typeof pe){if("string"==typeof fe?(Le=fe,fe=0,be=this.length):"string"==typeof be&&(Le=be,be=this.length),void 0!==Le&&"string"!=typeof Le)throw new TypeError("encoding must be a string");if("string"==typeof Le&&!o.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le);if(1===pe.length){var Oe=pe.charCodeAt(0);("utf8"===Le&&Oe<128||"latin1"===Le)&&(pe=Oe)}}else"number"==typeof pe?pe&=255:"boolean"==typeof pe&&(pe=Number(pe));if(fe<0||this.length<fe||this.length<be)throw new RangeError("Out of range index");if(be<=fe)return this;var De;if(fe>>>=0,be=void 0===be?this.length:be>>>0,pe||(pe=0),"number"==typeof pe)for(De=fe;De<be;++De)this[De]=pe;else{var Ue=o.isBuffer(pe)?pe:o.from(pe,Le),Ge=Ue.length;if(0===Ge)throw new TypeError('The value "'+pe+'" is invalid for argument "value"');for(De=0;De<be-fe;++De)this[De+fe]=Ue[De%Ge]}return this};var Q={};function ee(pe,fe,be){Q[pe]=function(Le){!function(Ee,Be){if("function"!=typeof Be&&null!==Be)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(Be&&Be.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),Object.defineProperty(Ee,"prototype",{writable:!1}),Be&&E(Ee,Be)}(Ie,Le);var Oe,De,Ue,Ge,ye=(Ue=Ie,Ge=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Ee,Be=S(Ue);if(Ge){var We=S(this).constructor;Ee=Reflect.construct(Be,arguments,We)}else Ee=Be.apply(this,arguments);return function(He,Je){if(Je&&("object"===M(Je)||"function"==typeof Je))return Je;if(void 0!==Je)throw new TypeError("Derived constructors may only return object or undefined");return f(He)}(this,Ee)});function Ie(){var Ee;return function(Be,We){if(!(Be instanceof We))throw new TypeError("Cannot call a class as a function")}(this,Ie),Ee=ye.call(this),Object.defineProperty(f(Ee),"message",{value:fe.apply(f(Ee),arguments),writable:!0,configurable:!0}),Ee.name="".concat(Ee.name," [").concat(pe,"]"),delete Ee.name,Ee}return Oe=Ie,(De=[{key:"code",get:function(){return pe},set:function(Ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ee,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(pe,"]: ").concat(this.message)}}])&&function D(pe,fe){for(var be=0;be<fe.length;be++){var Le=fe[be];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(pe,(Oe=function(De,Ue){if("object"!==M(De)||null===De)return De;var Ge=De[Symbol.toPrimitive];if(void 0!==Ge){var ye=Ge.call(De,"string");if("object"!==M(ye))return ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}(Le.key),"symbol"===M(Oe)?Oe:String(Oe)),Le)}var Oe}(Oe.prototype,De),Object.defineProperty(Oe,"prototype",{writable:!1}),Ie}(be)}function oe(pe){for(var fe="",be=pe.length,Le="-"===pe[0]?1:0;be>=Le+4;be-=3)fe="_".concat(pe.slice(be-3,be)).concat(fe);return"".concat(pe.slice(0,be)).concat(fe)}function le(pe,fe,be,Le,Oe,De){if(pe>be||pe<fe){var Ue,Ge="bigint"==typeof fe?"n":"";throw Ue=De>3?0===fe||fe===BigInt(0)?">= 0".concat(Ge," and < 2").concat(Ge," ** ").concat(8*(De+1)).concat(Ge):">= -(2".concat(Ge," ** ").concat(8*(De+1)-1).concat(Ge,") and < 2 ** ")+"".concat(8*(De+1)-1).concat(Ge):">= ".concat(fe).concat(Ge," and <= ").concat(be).concat(Ge),new Q.ERR_OUT_OF_RANGE("value",Ue,pe)}var ye,Ie,Ee;ye=Le,Ee=De,ue(Ie=Oe,"offset"),void 0!==ye[Ie]&&void 0!==ye[Ie+Ee]||de(Ie,ye.length-(Ee+1))}function ue(pe,fe){if("number"!=typeof pe)throw new Q.ERR_INVALID_ARG_TYPE(fe,"number",pe)}function de(pe,fe,be){throw Math.floor(pe)!==pe?(ue(pe,be),new Q.ERR_OUT_OF_RANGE(be||"offset","an integer",pe)):fe<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE(be||"offset",">= ".concat(be?1:0," and <= ").concat(fe),pe)}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(pe){return pe?"".concat(pe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(pe,fe){return'The "'.concat(pe,'" argument must be of type number. Received type ').concat(M(fe))},TypeError),ee("ERR_OUT_OF_RANGE",function(pe,fe,be){var Le='The value of "'.concat(pe,'" is out of range.'),Oe=be;return Number.isInteger(be)&&Math.abs(be)>Math.pow(2,32)?Oe=oe(String(be)):"bigint"==typeof be&&(Oe=String(be),(be>Math.pow(BigInt(2),BigInt(32))||be<-Math.pow(BigInt(2),BigInt(32)))&&(Oe=oe(Oe)),Oe+="n"),Le+" It must be ".concat(fe,". Received ").concat(Oe)},RangeError);var he=/[^+/0-9A-Za-z-_]/g;function we(pe,fe){var be;fe=fe||1/0;for(var Le=pe.length,Oe=null,De=[],Ue=0;Ue<Le;++Ue){if((be=pe.charCodeAt(Ue))>55295&&be<57344){if(!Oe){if(be>56319){(fe-=3)>-1&&De.push(239,191,189);continue}if(Ue+1===Le){(fe-=3)>-1&&De.push(239,191,189);continue}Oe=be;continue}if(be<56320){(fe-=3)>-1&&De.push(239,191,189),Oe=be;continue}be=65536+(Oe-55296<<10|be-56320)}else Oe&&(fe-=3)>-1&&De.push(239,191,189);if(Oe=null,be<128){if((fe-=1)<0)break;De.push(be)}else if(be<2048){if((fe-=2)<0)break;De.push(be>>6|192,63&be|128)}else if(be<65536){if((fe-=3)<0)break;De.push(be>>12|224,be>>6&63|128,63&be|128)}else{if(!(be<1114112))throw new Error("Invalid code point");if((fe-=4)<0)break;De.push(be>>18|240,be>>12&63|128,be>>6&63|128,63&be|128)}}return De}function Ae(pe){return v.toByteArray(function(fe){if((fe=(fe=fe.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;fe.length%4!=0;)fe+="=";return fe}(pe))}function Te(pe,fe,be,Le){var Oe;for(Oe=0;Oe<Le&&!(Oe+be>=fe.length||Oe>=pe.length);++Oe)fe[Oe+be]=pe[Oe];return Oe}function ve(pe,fe){return pe instanceof fe||null!=pe&&null!=pe.constructor&&null!=pe.constructor.name&&pe.constructor.name===fe.name}function xe(pe){return pe!=pe}var Fe=function(){for(var pe="0123456789abcdef",fe=new Array(256),be=0;be<16;++be)for(var Le=16*be,Oe=0;Oe<16;++Oe)fe[Le+Oe]=pe[be]+pe[Oe];return fe}();function Se(pe){return typeof BigInt>"u"?ke:pe}function ke(){throw new Error("BigInt not supported")}},35791:function(ae){"use strict";ae.exports=E,ae.exports.isMobile=E,ae.exports.default=E;var B=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,D=/android|ipad|playbook|silk/i;function E(f){f||(f={});var S=f.ua;if(S||typeof navigator>"u"||(S=navigator.userAgent),S&&S.headers&&"string"==typeof S.headers["user-agent"]&&(S=S.headers["user-agent"]),"string"!=typeof S)return!1;var M=B.test(S)&&!r.test(S)||!!f.tablet&&D.test(S);return!M&&f.tablet&&f.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==S.indexOf("Macintosh")&&-1!==S.indexOf("Safari")&&(M=!0),M}},86781:function(ae,B,r){"use strict";r.r(B),r.d(B,{sankeyCenter:function(){return a},sankeyCircular:function(){return P},sankeyJustify:function(){return s},sankeyLeft:function(){return c},sankeyRight:function(){return i}});var D=r(33064),E=r(15140),f=r(45879),S=r(2502),M=r.n(S);function v(Te){return Te.target.depth}function c(Te){return Te.depth}function i(Te,ve){return ve-1-Te.height}function s(Te,ve){return Te.sourceLinks.length?Te.depth:ve-1}function a(Te){return Te.targetLinks.length?Te.depth:Te.sourceLinks.length?(0,D.VV)(Te.sourceLinks,v)-1:0}function o(Te){return function(){return Te}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Te){return typeof Te}:function(Te){return Te&&"function"==typeof Symbol&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te};function u(Te,ve){return m(Te.source,ve.source)||Te.index-ve.index}function d(Te,ve){return m(Te.target,ve.target)||Te.index-ve.index}function m(Te,ve){return Te.partOfCycle===ve.partOfCycle?Te.y0-ve.y0:"top"===Te.circularLinkType||"bottom"===ve.circularLinkType?-1:1}function h(Te){return Te.value}function T(Te){return(Te.y0+Te.y1)/2}function _(Te){return T(Te.source)}function g(Te){return T(Te.target)}function w(Te){return Te.index}function x(Te){return Te.nodes}function b(Te){return Te.links}function A(Te,ve){var xe=Te.get(ve);if(!xe)throw new Error("missing: "+ve);return xe}function p(Te,ve){return ve(Te)}var O=25,k=10,I=.3;function P(){var Te,ve,xe=0,Fe=0,Se=1,ke=1,pe=24,fe=w,be=s,Le=x,Oe=b,De=32,Ue=2,Ge=null;function ye(){var Ee={nodes:Le.apply(null,arguments),links:Oe.apply(null,arguments)};(function(We){We.nodes.forEach(function(Je,et){Je.index=et,Je.sourceLinks=[],Je.targetLinks=[]});var He=(0,E.UI)(We.nodes,fe);We.links.forEach(function(Je,et){Je.index=et;var at=Je.source,mt=Je.target;"object"!==(void 0===at?"undefined":l(at))&&(at=Je.source=A(He,at)),"object"!==(void 0===mt?"undefined":l(mt))&&(mt=Je.target=A(He,mt)),at.sourceLinks.push(Je),mt.targetLinks.push(Je)})})(Ee),function(We,He,Je){var et=0;if(null===Je){for(var at=[],mt=0;mt<We.links.length;mt++){var ct=We.links[mt],St=ct.source.index,Dt=ct.target.index;at[St]||(at[St]=[]),at[Dt]||(at[Dt]=[]),-1===at[St].indexOf(Dt)&&at[St].push(Dt)}var Et=M()(at);Et.sort(function(Pt,Ft){return Pt.length-Ft.length});var ht={};for(mt=0;mt<Et.length;mt++){var pt=Et[mt].slice(-2);ht[pt[0]]||(ht[pt[0]]={}),ht[pt[0]][pt[1]]=!0}We.links.forEach(function(Pt){var Ft=Pt.target.index,Ht=Pt.source.index;Ft===Ht||ht[Ht]&&ht[Ht][Ft]?(Pt.circular=!0,Pt.circularLinkID=et,et+=1):Pt.circular=!1})}else We.links.forEach(function(Pt){Pt.source[Je]<Pt.target[Je]?Pt.circular=!1:(Pt.circular=!0,Pt.circularLinkID=et,et+=1)})}(Ee,0,Ge),Ee.nodes.forEach(function(He){He.partOfCycle=!1,He.value=Math.max((0,D.Sm)(He.sourceLinks,h),(0,D.Sm)(He.targetLinks,h)),He.sourceLinks.forEach(function(Je){Je.circular&&(He.partOfCycle=!0,He.circularLinkType=Je.circularLinkType)}),He.targetLinks.forEach(function(Je){Je.circular&&(He.partOfCycle=!0,He.circularLinkType=Je.circularLinkType)})}),function(We){var He,Je,et;for(He=We.nodes,Je=[],et=0;He.length;++et,He=Je,Je=[])He.forEach(function(at){at.depth=et,at.sourceLinks.forEach(function(mt){Je.indexOf(mt.target)<0&&!mt.circular&&Je.push(mt.target)})});for(He=We.nodes,Je=[],et=0;He.length;++et,He=Je,Je=[])He.forEach(function(at){at.height=et,at.targetLinks.forEach(function(mt){Je.indexOf(mt.source)<0&&!mt.circular&&Je.push(mt.source)})});We.nodes.forEach(function(at){at.column=Math.floor(be.call(null,at,et))})}(Ee),R(Ee,fe),function(We,He,Je){var et=(0,E.b1)().key(function(Dt){return Dt.column}).sortKeys(D.j2).entries(We.nodes).map(function(Dt){return Dt.values});(function(Dt){if(ve){var Et=1/0;et.forEach(function(Ft){var Ht=ke*ve/(Ft.length+1);Et=Ht<Et?Ht:Et}),Te=Et}var ht=(0,D.VV)(et,function(Ft){return(ke-Fe-(Ft.length-1)*Te)/(0,D.Sm)(Ft,h)});ht*=I,We.links.forEach(function(Ft){Ft.width=Ft.value*ht});var Ft,Ht,Lt,tt,rt,Ke,pt=(Ht=0,Lt=0,tt=0,rt=0,Ke=(0,D.Fp)((Ft=We).nodes,function(it){return it.column}),Ft.links.forEach(function(it){it.circular&&("top"==it.circularLinkType?Ht+=it.width:Lt+=it.width,0==it.target.column&&(rt+=it.width),it.source.column==Ke&&(tt+=it.width))}),{top:Ht=Ht>0?Ht+O+k:Ht,bottom:Lt=Lt>0?Lt+O+k:Lt,left:rt=rt>0?rt+O+k:rt,right:tt=tt>0?tt+O+k:tt}),Pt=function(Ft,Ht){var Lt=(0,D.Fp)(Ft.nodes,function(gt){return gt.column}),tt=Se-xe,rt=ke-Fe,Ke=tt/(tt+Ht.right+Ht.left),it=rt/(rt+Ht.top+Ht.bottom);return xe=xe*Ke+Ht.left,Se=0==Ht.right?Se:Se*Ke,Fe=Fe*it+Ht.top,ke*=it,Ft.nodes.forEach(function(gt){gt.x0=xe+gt.column*((Se-xe-pe)/Lt),gt.x1=gt.x0+pe}),it}(We,pt);ht*=Pt,We.links.forEach(function(Ft){Ft.width=Ft.value*ht}),et.forEach(function(Ft){var Ht=Ft.length;Ft.forEach(function(Lt,tt){Lt.depth==et.length-1&&1==Ht||0==Lt.depth&&1==Ht?(Lt.y0=ke/2-Lt.value*ht,Lt.y1=Lt.y0+Lt.value*ht):Lt.partOfCycle?0==j(Lt,Dt)?(Lt.y0=ke/2+tt,Lt.y1=Lt.y0+Lt.value*ht):"top"==Lt.circularLinkType?(Lt.y0=Fe+tt,Lt.y1=Lt.y0+Lt.value*ht):(Lt.y0=ke-Lt.value*ht-tt,Lt.y1=Lt.y0+Lt.value*ht):0==pt.top||0==pt.bottom?(Lt.y0=(ke-Fe)/Ht*tt,Lt.y1=Lt.y0+Lt.value*ht):(Lt.y0=(ke-Fe)/2-Ht/2+tt,Lt.y1=Lt.y0+Lt.value*ht)})})})(Je),St();for(var at=1,mt=He;mt>0;--mt)ct(at*=.99,Je),St();function ct(Dt,Et){var ht=et.length;et.forEach(function(pt){var Pt=pt.length,Ft=pt[0].depth;pt.forEach(function(Ht){var Lt;if((Ht.sourceLinks.length||Ht.targetLinks.length)&&!(Ht.partOfCycle&&j(Ht,Et)>0))if(0==Ft&&1==Pt)Ht.y0=ke/2-(Lt=Ht.y1-Ht.y0)/2,Ht.y1=ke/2+Lt/2;else if(Ft==ht-1&&1==Pt)Ht.y0=ke/2-(Lt=Ht.y1-Ht.y0)/2,Ht.y1=ke/2+Lt/2;else{var tt=(0,D.J6)(Ht.sourceLinks,g),rt=(0,D.J6)(Ht.targetLinks,_),Ke=((tt&&rt?(tt+rt)/2:tt||rt)-T(Ht))*Dt;Ht.y0+=Ke,Ht.y1+=Ke}})})}function St(){et.forEach(function(Dt){var Et,ht,pt,Pt=Fe,Ft=Dt.length;for(Dt.sort(m),pt=0;pt<Ft;++pt)(ht=Pt-(Et=Dt[pt]).y0)>0&&(Et.y0+=ht,Et.y1+=ht),Pt=Et.y1+Te;if((ht=Pt-Te-ke)>0)for(Pt=Et.y0-=ht,Et.y1-=ht,pt=Ft-2;pt>=0;--pt)(ht=(Et=Dt[pt]).y1+Te-Pt)>0&&(Et.y0-=ht,Et.y1-=ht),Pt=Et.y0})}}(Ee,De,fe),Ie(Ee);for(var Be=0;Be<4;Be++)ue(Ee,ke,fe),de(Ee,0,fe),oe(Ee,Fe,ke,fe),ue(Ee,ke,fe),de(Ee,0,fe);return function(We,He,Je){var et=We.nodes,at=We.links,mt=!1,ct=!1;if(at.forEach(function(Et){"top"==Et.circularLinkType?mt=!0:"bottom"==Et.circularLinkType&&(ct=!0)}),0==mt||0==ct){var St=(0,D.VV)(et,function(Et){return Et.y0}),Dt=(Je-He)/((0,D.Fp)(et,function(Et){return Et.y1})-St);et.forEach(function(Et){var ht=(Et.y1-Et.y0)*Dt;Et.y0=(Et.y0-St)*Dt,Et.y1=Et.y0+ht}),at.forEach(function(Et){Et.y0=(Et.y0-St)*Dt,Et.y1=(Et.y1-St)*Dt,Et.width=Et.width*Dt})}}(Ee,Fe,ke),Z(Ee,Ue,ke,fe),Ee}function Ie(Ee){Ee.nodes.forEach(function(Be){Be.sourceLinks.sort(d),Be.targetLinks.sort(u)}),Ee.nodes.forEach(function(Be){var We=Be.y0,He=We,Je=Be.y1,et=Je;Be.sourceLinks.forEach(function(at){at.circular?(at.y0=Je-at.width/2,Je-=at.width):(at.y0=We+at.width/2,We+=at.width)}),Be.targetLinks.forEach(function(at){at.circular?(at.y1=et-at.width/2,et-=at.width):(at.y1=He+at.width/2,He+=at.width)})})}return ye.nodeId=function(Ee){return arguments.length?(fe="function"==typeof Ee?Ee:o(Ee),ye):fe},ye.nodeAlign=function(Ee){return arguments.length?(be="function"==typeof Ee?Ee:o(Ee),ye):be},ye.nodeWidth=function(Ee){return arguments.length?(pe=+Ee,ye):pe},ye.nodePadding=function(Ee){return arguments.length?(Te=+Ee,ye):Te},ye.nodes=function(Ee){return arguments.length?(Le="function"==typeof Ee?Ee:o(Ee),ye):Le},ye.links=function(Ee){return arguments.length?(Oe="function"==typeof Ee?Ee:o(Ee),ye):Oe},ye.size=function(Ee){return arguments.length?(xe=Fe=0,Se=+Ee[0],ke=+Ee[1],ye):[Se-xe,ke-Fe]},ye.extent=function(Ee){return arguments.length?(xe=+Ee[0][0],Se=+Ee[1][0],Fe=+Ee[0][1],ke=+Ee[1][1],ye):[[xe,Fe],[Se,ke]]},ye.iterations=function(Ee){return arguments.length?(De=+Ee,ye):De},ye.circularLinkGap=function(Ee){return arguments.length?(Ue=+Ee,ye):Ue},ye.nodePaddingRatio=function(Ee){return arguments.length?(ve=+Ee,ye):ve},ye.sortNodes=function(Ee){return arguments.length?(Ge=Ee,ye):Ge},ye.update=function(Ee){return R(Ee,fe),Ie(Ee),Ee.links.forEach(function(Be){Be.circular&&(Be.circularLinkType=Be.y0+Be.y1<ke?"top":"bottom",Be.source.circularLinkType=Be.circularLinkType,Be.target.circularLinkType=Be.circularLinkType)}),ue(Ee,ke,fe,!1),de(Ee,0,fe),Z(Ee,Ue,ke,fe),Ee},ye}function R(Te,ve){var xe=0,Fe=0;Te.links.forEach(function(Se){Se.circular&&(Se.circularLinkType=Se.source.circularLinkType||Se.target.circularLinkType?Se.source.circularLinkType?Se.source.circularLinkType:Se.target.circularLinkType:xe<Fe?"top":"bottom","top"==Se.circularLinkType?xe+=1:Fe+=1,Te.nodes.forEach(function(ke){p(ke,ve)!=p(Se.source,ve)&&p(ke,ve)!=p(Se.target,ve)||(ke.circularLinkType=Se.circularLinkType)}))}),Te.links.forEach(function(Se){Se.circular&&(Se.source.circularLinkType==Se.target.circularLinkType&&(Se.circularLinkType=Se.source.circularLinkType),Ae(Se,ve)&&(Se.circularLinkType=Se.source.circularLinkType))})}function N(Te){var ve=Math.abs(Te.y1-Te.y0),xe=Math.abs(Te.target.x0-Te.source.x1);return Math.atan(xe/ve)}function j(Te,ve){var xe=0;Te.sourceLinks.forEach(function(Se){xe=Se.circular&&!Ae(Se,ve)?xe+1:xe});var Fe=0;return Te.targetLinks.forEach(function(Se){Fe=Se.circular&&!Ae(Se,ve)?Fe+1:Fe}),xe+Fe}function X(Te){var xe=0;Te.source.sourceLinks.forEach(function(ke){xe=ke.circular?xe+1:xe});var Se=0;return Te.target.targetLinks.forEach(function(ke){Se=ke.circular?Se+1:Se}),!(xe>1||Se>1)}function F(Te,ve,xe){return Te.sort(W),Te.forEach(function(Fe,Se){var ke,pe,fe=0;if(Ae(Fe,xe)&&X(Fe))Fe.circularPathData.verticalBuffer=fe+Fe.width/2;else{for(var be=0;be<Se;be++)if(!((ke=Te[Se]).source.column<(pe=Te[be]).target.column||ke.target.column>pe.source.column)){var Le=Te[be].circularPathData.verticalBuffer+Te[be].width/2+ve;fe=Le>fe?Le:fe}Fe.circularPathData.verticalBuffer=fe+Fe.width/2}}),Te}function Z(Te,ve,xe,Fe){var Se=(0,D.VV)(Te.links,function(ke){return ke.source.y0});Te.links.forEach(function(ke){ke.circular&&(ke.circularPathData={})}),F(Te.links.filter(function(ke){return"top"==ke.circularLinkType}),ve,Fe),F(Te.links.filter(function(ke){return"bottom"==ke.circularLinkType}),ve,Fe),Te.links.forEach(function(ke){if(ke.circular){if(ke.circularPathData.arcRadius=ke.width+k,ke.circularPathData.leftNodeBuffer=5,ke.circularPathData.rightNodeBuffer=5,ke.circularPathData.sourceWidth=ke.source.x1-ke.source.x0,ke.circularPathData.sourceX=ke.source.x0+ke.circularPathData.sourceWidth,ke.circularPathData.targetX=ke.target.x0,ke.circularPathData.sourceY=ke.y0,ke.circularPathData.targetY=ke.y1,Ae(ke,Fe)&&X(ke))ke.circularPathData.leftSmallArcRadius=k+ke.width/2,ke.circularPathData.leftLargeArcRadius=k+ke.width/2,ke.circularPathData.rightSmallArcRadius=k+ke.width/2,ke.circularPathData.rightLargeArcRadius=k+ke.width/2,"bottom"==ke.circularLinkType?(ke.circularPathData.verticalFullExtent=ke.source.y1+O+ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.rightLargeArcRadius):(ke.circularPathData.verticalFullExtent=ke.source.y0-O-ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.rightLargeArcRadius);else{var pe=ke.source.column,fe=ke.circularLinkType,be=Te.links.filter(function(De){return De.source.column==pe&&De.circularLinkType==fe});be.sort("bottom"==ke.circularLinkType?G:H);var Le=0;be.forEach(function(De,Ue){De.circularLinkID==ke.circularLinkID&&(ke.circularPathData.leftSmallArcRadius=k+ke.width/2+Le,ke.circularPathData.leftLargeArcRadius=k+ke.width/2+Ue*ve+Le),Le+=De.width}),pe=ke.target.column,(be=Te.links.filter(function(De){return De.target.column==pe&&De.circularLinkType==fe})).sort("bottom"==ke.circularLinkType?se:Y),Le=0,be.forEach(function(De,Ue){De.circularLinkID==ke.circularLinkID&&(ke.circularPathData.rightSmallArcRadius=k+ke.width/2+Le,ke.circularPathData.rightLargeArcRadius=k+ke.width/2+Ue*ve+Le),Le+=De.width}),"bottom"==ke.circularLinkType?(ke.circularPathData.verticalFullExtent=Math.max(xe,ke.source.y1,ke.target.y1)+O+ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.rightLargeArcRadius):(ke.circularPathData.verticalFullExtent=Se-O-ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.rightLargeArcRadius)}ke.circularPathData.leftInnerExtent=ke.circularPathData.sourceX+ke.circularPathData.leftNodeBuffer,ke.circularPathData.rightInnerExtent=ke.circularPathData.targetX-ke.circularPathData.rightNodeBuffer,ke.circularPathData.leftFullExtent=ke.circularPathData.sourceX+ke.circularPathData.leftLargeArcRadius+ke.circularPathData.leftNodeBuffer,ke.circularPathData.rightFullExtent=ke.circularPathData.targetX-ke.circularPathData.rightLargeArcRadius-ke.circularPathData.rightNodeBuffer}if(ke.circular)ke.path="top"==(De=ke).circularLinkType?"M"+De.circularPathData.sourceX+" "+De.circularPathData.sourceY+" L"+De.circularPathData.leftInnerExtent+" "+De.circularPathData.sourceY+" A"+De.circularPathData.leftLargeArcRadius+" "+De.circularPathData.leftSmallArcRadius+" 0 0 0 "+De.circularPathData.leftFullExtent+" "+(De.circularPathData.sourceY-De.circularPathData.leftSmallArcRadius)+" L"+De.circularPathData.leftFullExtent+" "+De.circularPathData.verticalLeftInnerExtent+" A"+De.circularPathData.leftLargeArcRadius+" "+De.circularPathData.leftLargeArcRadius+" 0 0 0 "+De.circularPathData.leftInnerExtent+" "+De.circularPathData.verticalFullExtent+" L"+De.circularPathData.rightInnerExtent+" "+De.circularPathData.verticalFullExtent+" A"+De.circularPathData.rightLargeArcRadius+" "+De.circularPathData.rightLargeArcRadius+" 0 0 0 "+De.circularPathData.rightFullExtent+" "+De.circularPathData.verticalRightInnerExtent+" L"+De.circularPathData.rightFullExtent+" "+(De.circularPathData.targetY-De.circularPathData.rightSmallArcRadius)+" A"+De.circularPathData.rightLargeArcRadius+" "+De.circularPathData.rightSmallArcRadius+" 0 0 0 "+De.circularPathData.rightInnerExtent+" "+De.circularPathData.targetY+" L"+De.circularPathData.targetX+" "+De.circularPathData.targetY:"M"+De.circularPathData.sourceX+" "+De.circularPathData.sourceY+" L"+De.circularPathData.leftInnerExtent+" "+De.circularPathData.sourceY+" A"+De.circularPathData.leftLargeArcRadius+" "+De.circularPathData.leftSmallArcRadius+" 0 0 1 "+De.circularPathData.leftFullExtent+" "+(De.circularPathData.sourceY+De.circularPathData.leftSmallArcRadius)+" L"+De.circularPathData.leftFullExtent+" "+De.circularPathData.verticalLeftInnerExtent+" A"+De.circularPathData.leftLargeArcRadius+" "+De.circularPathData.leftLargeArcRadius+" 0 0 1 "+De.circularPathData.leftInnerExtent+" "+De.circularPathData.verticalFullExtent+" L"+De.circularPathData.rightInnerExtent+" "+De.circularPathData.verticalFullExtent+" A"+De.circularPathData.rightLargeArcRadius+" "+De.circularPathData.rightLargeArcRadius+" 0 0 1 "+De.circularPathData.rightFullExtent+" "+De.circularPathData.verticalRightInnerExtent+" L"+De.circularPathData.rightFullExtent+" "+(De.circularPathData.targetY+De.circularPathData.rightSmallArcRadius)+" A"+De.circularPathData.rightLargeArcRadius+" "+De.circularPathData.rightSmallArcRadius+" 0 0 1 "+De.circularPathData.rightInnerExtent+" "+De.circularPathData.targetY+" L"+De.circularPathData.targetX+" "+De.circularPathData.targetY;else{var Oe=(0,f.h5)().source(function(De){return[De.source.x0+(De.source.x1-De.source.x0),De.y0]}).target(function(De){return[De.target.x0,De.y1]});ke.path=Oe(ke)}var De})}function W(Te,ve){return te(Te)==te(ve)?"bottom"==Te.circularLinkType?G(Te,ve):H(Te,ve):te(ve)-te(Te)}function H(Te,ve){return Te.y0-ve.y0}function G(Te,ve){return ve.y0-Te.y0}function Y(Te,ve){return Te.y1-ve.y1}function se(Te,ve){return ve.y1-Te.y1}function te(Te){return Te.target.column-Te.source.column}function re(Te){return Te.target.x0-Te.source.x1}function Q(Te,ve){var xe=N(Te),Fe=re(ve)/Math.tan(xe);return"up"==we(Te)?Te.y1+Fe:Te.y1-Fe}function ee(Te,ve){var xe=N(Te),Fe=re(ve)/Math.tan(xe);return"up"==we(Te)?Te.y1-Fe:Te.y1+Fe}function oe(Te,ve,xe,Fe){Te.links.forEach(function(Se){if(!Se.circular&&Se.target.column-Se.source.column>1){var ke=Se.source.column+1,pe=Se.target.column-1,fe=1,be=pe-ke+1;for(fe=1;ke<=pe;ke++,fe++)Te.nodes.forEach(function(Le){if(Le.column==ke){var Oe,De=fe/(be+1),Ue=Math.pow(1-De,3),Ge=3*De*Math.pow(1-De,2),ye=3*Math.pow(De,2)*(1-De),Ie=Math.pow(De,3),Ee=Ue*Se.y0+Ge*Se.y0+ye*Se.y1+Ie*Se.y1,Be=Ee-Se.width/2,We=Ee+Se.width/2;Be>Le.y0&&Be<Le.y1?(Oe=Le.y1-Be+10,Le=le(Le,Oe="bottom"==Le.circularLinkType?Oe:-Oe,ve,xe),Te.nodes.forEach(function(He){var Je,et;p(He,Fe)!=p(Le,Fe)&&He.column==Le.column&&((Je=Le).y0>(et=He).y0&&Je.y0<et.y1||Je.y1>et.y0&&Je.y1<et.y1||Je.y0<et.y0&&Je.y1>et.y1)&&le(He,Oe,ve,xe)})):(We>Le.y0&&We<Le.y1||Be<Le.y0&&We>Le.y1)&&(Le=le(Le,Oe=We-Le.y0+10,ve,xe),Te.nodes.forEach(function(He){p(He,Fe)!=p(Le,Fe)&&He.column==Le.column&&He.y0<Le.y1&&He.y1>Le.y1&&le(He,Oe,ve,xe)}))}})}})}function le(Te,ve,xe,Fe){return Te.y0+ve>=xe&&Te.y1+ve<=Fe&&(Te.y0=Te.y0+ve,Te.y1=Te.y1+ve,Te.targetLinks.forEach(function(Se){Se.y1=Se.y1+ve}),Te.sourceLinks.forEach(function(Se){Se.y0=Se.y0+ve})),Te}function ue(Te,ve,xe,Fe){Te.nodes.forEach(function(Se){Fe&&Se.y+(Se.y1-Se.y0)>ve&&(Se.y=Se.y-(Se.y+(Se.y1-Se.y0)-ve));var ke=Te.links.filter(function(be){return p(be.source,xe)==p(Se,xe)}),pe=ke.length;pe>1&&ke.sort(function(be,Le){if(!be.circular&&!Le.circular){if(be.target.column==Le.target.column||!he(be,Le))return be.y1-Le.y1;if(be.target.column>Le.target.column){var Oe=ee(Le,be);return be.y1-Oe}if(Le.target.column>be.target.column)return ee(be,Le)-Le.y1}return be.circular&&!Le.circular?"top"==be.circularLinkType?-1:1:Le.circular&&!be.circular?"top"==Le.circularLinkType?1:-1:be.circular&&Le.circular?be.circularLinkType===Le.circularLinkType&&"top"==be.circularLinkType?be.target.column===Le.target.column?be.target.y1-Le.target.y1:Le.target.column-be.target.column:be.circularLinkType===Le.circularLinkType&&"bottom"==be.circularLinkType?be.target.column===Le.target.column?Le.target.y1-be.target.y1:be.target.column-Le.target.column:"top"==be.circularLinkType?-1:1:void 0});var fe=Se.y0;ke.forEach(function(be){be.y0=fe+be.width/2,fe+=be.width}),ke.forEach(function(be,Le){if("bottom"==be.circularLinkType){for(var Oe=Le+1,De=0;Oe<pe;Oe++)De+=ke[Oe].width;be.y0=Se.y1-De-be.width/2}})})}function de(Te,ve,xe){Te.nodes.forEach(function(Fe){var Se=Te.links.filter(function(fe){return p(fe.target,xe)==p(Fe,xe)}),ke=Se.length;ke>1&&Se.sort(function(fe,be){if(!fe.circular&&!be.circular){if(fe.source.column==be.source.column||!he(fe,be))return fe.y0-be.y0;if(be.source.column<fe.source.column){var Le=Q(be,fe);return fe.y0-Le}if(fe.source.column<be.source.column)return Q(fe,be)-be.y0}return fe.circular&&!be.circular?"top"==fe.circularLinkType?-1:1:be.circular&&!fe.circular?"top"==be.circularLinkType?1:-1:fe.circular&&be.circular?fe.circularLinkType===be.circularLinkType&&"top"==fe.circularLinkType?fe.source.column===be.source.column?fe.source.y1-be.source.y1:fe.source.column-be.source.column:fe.circularLinkType===be.circularLinkType&&"bottom"==fe.circularLinkType?fe.source.column===be.source.column?fe.source.y1-be.source.y1:be.source.column-fe.source.column:"top"==fe.circularLinkType?-1:1:void 0});var pe=Fe.y0;Se.forEach(function(fe){fe.y1=pe+fe.width/2,pe+=fe.width}),Se.forEach(function(fe,be){if("bottom"==fe.circularLinkType){for(var Le=be+1,Oe=0;Le<ke;Le++)Oe+=Se[Le].width;fe.y1=Fe.y1-Oe-fe.width/2}})})}function he(Te,ve){return we(Te)==we(ve)}function we(Te){return Te.y0-Te.y1>0?"up":"down"}function Ae(Te,ve){return p(Te.source,ve)==p(Te.target,ve)}},30838:function(ae,B,r){"use strict";r.r(B),r.d(B,{sankey:function(){return w},sankeyCenter:function(){return c},sankeyJustify:function(){return v},sankeyLeft:function(){return S},sankeyLinkHorizontal:function(){return p},sankeyRight:function(){return M}});var D=r(33064),E=r(15140);function f(O){return O.target.depth}function S(O){return O.depth}function M(O,k){return k-1-O.height}function v(O,k){return O.sourceLinks.length?O.depth:k-1}function c(O){return O.targetLinks.length?O.depth:O.sourceLinks.length?(0,D.VV)(O.sourceLinks,f)-1:0}function i(O){return function(){return O}}function s(O,k){return o(O.source,k.source)||O.index-k.index}function a(O,k){return o(O.target,k.target)||O.index-k.index}function o(O,k){return O.y0-k.y0}function l(O){return O.value}function u(O){return(O.y0+O.y1)/2}function d(O){return u(O.source)*O.value}function m(O){return u(O.target)*O.value}function h(O){return O.index}function T(O){return O.nodes}function _(O){return O.links}function g(O,k){var I=O.get(k);if(!I)throw new Error("missing: "+k);return I}function w(){var O=0,k=0,I=1,P=1,R=24,N=8,j=h,X=v,F=T,Z=_,W=32;function H(){var Y={nodes:F.apply(null,arguments),links:Z.apply(null,arguments)};return function(se){se.nodes.forEach(function(re,Q){re.index=Q,re.sourceLinks=[],re.targetLinks=[]});var te=(0,E.UI)(se.nodes,j);se.links.forEach(function(re,Q){re.index=Q;var ee=re.source,oe=re.target;"object"!=typeof ee&&(ee=re.source=g(te,ee)),"object"!=typeof oe&&(oe=re.target=g(te,oe)),ee.sourceLinks.push(re),oe.targetLinks.push(re)})}(Y),Y.nodes.forEach(function(te){te.value=Math.max((0,D.Sm)(te.sourceLinks,l),(0,D.Sm)(te.targetLinks,l))}),function(se){var te,re,Q;for(te=se.nodes,re=[],Q=0;te.length;++Q,te=re,re=[])te.forEach(function(oe){oe.depth=Q,oe.sourceLinks.forEach(function(le){re.indexOf(le.target)<0&&re.push(le.target)})});for(te=se.nodes,re=[],Q=0;te.length;++Q,te=re,re=[])te.forEach(function(oe){oe.height=Q,oe.targetLinks.forEach(function(le){re.indexOf(le.source)<0&&re.push(le.source)})});var ee=(I-O-R)/(Q-1);se.nodes.forEach(function(oe){oe.x1=(oe.x0=O+Math.max(0,Math.min(Q-1,Math.floor(X.call(null,oe,Q))))*ee)+R})}(Y),function(se){var te=(0,E.b1)().key(function(ue){return ue.x0}).sortKeys(D.j2).entries(se.nodes).map(function(ue){return ue.values});(function(){var ue=(0,D.Fp)(te,function(we){return we.length}),de=.6666666666666666*(P-k)/(ue-1);N>de&&(N=de);var he=(0,D.VV)(te,function(we){return(P-k-(we.length-1)*N)/(0,D.Sm)(we,l)});te.forEach(function(we){we.forEach(function(Ae,Te){Ae.y1=(Ae.y0=Te)+Ae.value*he})}),se.links.forEach(function(we){we.width=we.value*he})})(),le();for(var re=1,Q=W;Q>0;--Q)oe(re*=.99),le(),ee(re),le();function ee(ue){te.forEach(function(de){de.forEach(function(he){if(he.targetLinks.length){var we=((0,D.Sm)(he.targetLinks,d)/(0,D.Sm)(he.targetLinks,l)-u(he))*ue;he.y0+=we,he.y1+=we}})})}function oe(ue){te.slice().reverse().forEach(function(de){de.forEach(function(he){if(he.sourceLinks.length){var we=((0,D.Sm)(he.sourceLinks,m)/(0,D.Sm)(he.sourceLinks,l)-u(he))*ue;he.y0+=we,he.y1+=we}})})}function le(){te.forEach(function(ue){var de,he,we,Ae=k,Te=ue.length;for(ue.sort(o),we=0;we<Te;++we)(he=Ae-(de=ue[we]).y0)>0&&(de.y0+=he,de.y1+=he),Ae=de.y1+N;if((he=Ae-N-P)>0)for(Ae=de.y0-=he,de.y1-=he,we=Te-2;we>=0;--we)(he=(de=ue[we]).y1+N-Ae)>0&&(de.y0-=he,de.y1-=he),Ae=de.y0})}}(Y),G(Y),Y}function G(Y){Y.nodes.forEach(function(se){se.sourceLinks.sort(a),se.targetLinks.sort(s)}),Y.nodes.forEach(function(se){var te=se.y0,re=te;se.sourceLinks.forEach(function(Q){Q.y0=te+Q.width/2,te+=Q.width}),se.targetLinks.forEach(function(Q){Q.y1=re+Q.width/2,re+=Q.width})})}return H.update=function(Y){return G(Y),Y},H.nodeId=function(Y){return arguments.length?(j="function"==typeof Y?Y:i(Y),H):j},H.nodeAlign=function(Y){return arguments.length?(X="function"==typeof Y?Y:i(Y),H):X},H.nodeWidth=function(Y){return arguments.length?(R=+Y,H):R},H.nodePadding=function(Y){return arguments.length?(N=+Y,H):N},H.nodes=function(Y){return arguments.length?(F="function"==typeof Y?Y:i(Y),H):F},H.links=function(Y){return arguments.length?(Z="function"==typeof Y?Y:i(Y),H):Z},H.size=function(Y){return arguments.length?(O=k=0,I=+Y[0],P=+Y[1],H):[I-O,P-k]},H.extent=function(Y){return arguments.length?(O=+Y[0][0],I=+Y[1][0],k=+Y[0][1],P=+Y[1][1],H):[[O,k],[I,P]]},H.iterations=function(Y){return arguments.length?(W=+Y,H):W},H}var x=r(45879);function b(O){return[O.source.x1,O.y0]}function A(O){return[O.target.x0,O.y1]}function p(){return(0,x.h5)().source(b).target(A)}},39898:function(ae,B,r){var D,E;(function(){var f={version:"3.8.0"},S=[].slice,M=function(V){return S.call(V)},v=self.document;function c(V){return V&&(V.ownerDocument||V.document||V).documentElement}function i(V){return V&&(V.ownerDocument&&V.ownerDocument.defaultView||V.document&&V||V.defaultView)}if(v)try{M(v.documentElement.childNodes)}catch{M=function(ie){for(var ce=ie.length,Me=new Array(ce);ce--;)Me[ce]=ie[ce];return Me}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var s=this.Element.prototype,a=s.setAttribute,o=s.setAttributeNS,l=this.CSSStyleDeclaration.prototype,u=l.setProperty;s.setAttribute=function(ie,ce){a.call(this,ie,ce+"")},s.setAttributeNS=function(ie,ce,Me){o.call(this,ie,ce,Me+"")},l.setProperty=function(ie,ce,Me){u.call(this,ie,ce+"",Me)}}function d(V,ie){return V<ie?-1:V>ie?1:V>=ie?0:NaN}function m(V){return null===V?NaN:+V}function h(V){return!isNaN(V)}function T(V){return{left:function(ie,ce,Me,Ce){for(arguments.length<3&&(Me=0),arguments.length<4&&(Ce=ie.length);Me<Ce;){var Ne=Me+Ce>>>1;V(ie[Ne],ce)<0?Me=Ne+1:Ce=Ne}return Me},right:function(ie,ce,Me,Ce){for(arguments.length<3&&(Me=0),arguments.length<4&&(Ce=ie.length);Me<Ce;){var Ne=Me+Ce>>>1;V(ie[Ne],ce)>0?Ce=Ne:Me=Ne+1}return Me}}}f.ascending=d,f.descending=function(V,ie){return ie<V?-1:ie>V?1:ie>=V?0:NaN},f.min=function(V,ie){var ce,Me,Ce=-1,Ne=V.length;if(1===arguments.length){for(;++Ce<Ne;)if(null!=(Me=V[Ce])&&Me>=Me){ce=Me;break}for(;++Ce<Ne;)null!=(Me=V[Ce])&&ce>Me&&(ce=Me)}else{for(;++Ce<Ne;)if(null!=(Me=ie.call(V,V[Ce],Ce))&&Me>=Me){ce=Me;break}for(;++Ce<Ne;)null!=(Me=ie.call(V,V[Ce],Ce))&&ce>Me&&(ce=Me)}return ce},f.max=function(V,ie){var ce,Me,Ce=-1,Ne=V.length;if(1===arguments.length){for(;++Ce<Ne;)if(null!=(Me=V[Ce])&&Me>=Me){ce=Me;break}for(;++Ce<Ne;)null!=(Me=V[Ce])&&Me>ce&&(ce=Me)}else{for(;++Ce<Ne;)if(null!=(Me=ie.call(V,V[Ce],Ce))&&Me>=Me){ce=Me;break}for(;++Ce<Ne;)null!=(Me=ie.call(V,V[Ce],Ce))&&Me>ce&&(ce=Me)}return ce},f.extent=function(V,ie){var ce,Me,Ce,Ne=-1,$e=V.length;if(1===arguments.length){for(;++Ne<$e;)if(null!=(Me=V[Ne])&&Me>=Me){ce=Ce=Me;break}for(;++Ne<$e;)null!=(Me=V[Ne])&&(ce>Me&&(ce=Me),Ce<Me&&(Ce=Me))}else{for(;++Ne<$e;)if(null!=(Me=ie.call(V,V[Ne],Ne))&&Me>=Me){ce=Ce=Me;break}for(;++Ne<$e;)null!=(Me=ie.call(V,V[Ne],Ne))&&(ce>Me&&(ce=Me),Ce<Me&&(Ce=Me))}return[ce,Ce]},f.sum=function(V,ie){var ce,Me=0,Ce=V.length,Ne=-1;if(1===arguments.length)for(;++Ne<Ce;)h(ce=+V[Ne])&&(Me+=ce);else for(;++Ne<Ce;)h(ce=+ie.call(V,V[Ne],Ne))&&(Me+=ce);return Me},f.mean=function(V,ie){var ce,Me=0,Ce=V.length,Ne=-1,$e=Ce;if(1===arguments.length)for(;++Ne<Ce;)h(ce=m(V[Ne]))?Me+=ce:--$e;else for(;++Ne<Ce;)h(ce=m(ie.call(V,V[Ne],Ne)))?Me+=ce:--$e;if($e)return Me/$e},f.quantile=function(V,ie){var ce=(V.length-1)*ie+1,Me=Math.floor(ce),Ce=+V[Me-1],Ne=ce-Me;return Ne?Ce+Ne*(V[Me]-Ce):Ce},f.median=function(V,ie){var ce,Me=[],Ce=V.length,Ne=-1;if(1===arguments.length)for(;++Ne<Ce;)h(ce=m(V[Ne]))&&Me.push(ce);else for(;++Ne<Ce;)h(ce=m(ie.call(V,V[Ne],Ne)))&&Me.push(ce);if(Me.length)return f.quantile(Me.sort(d),.5)},f.variance=function(V,ie){var ce,Me,Ce=V.length,Ne=0,$e=0,Xe=-1,Qe=0;if(1===arguments.length)for(;++Xe<Ce;)h(ce=m(V[Xe]))&&($e+=(Me=ce-Ne)*(ce-(Ne+=Me/++Qe)));else for(;++Xe<Ce;)h(ce=m(ie.call(V,V[Xe],Xe)))&&($e+=(Me=ce-Ne)*(ce-(Ne+=Me/++Qe)));if(Qe>1)return $e/(Qe-1)},f.deviation=function(){var V=f.variance.apply(this,arguments);return V&&Math.sqrt(V)};var _=T(d);function g(V){return V.length}f.bisectLeft=_.left,f.bisect=f.bisectRight=_.right,f.bisector=function(V){return T(1===V.length?function(ie,ce){return d(V(ie),ce)}:V)},f.shuffle=function(V,ie,ce){(Ne=arguments.length)<3&&(ce=V.length,Ne<2&&(ie=0));for(var Me,Ce,Ne=ce-ie;Ne;)Ce=Math.random()*Ne--|0,Me=V[Ne+ie],V[Ne+ie]=V[Ce+ie],V[Ce+ie]=Me;return V},f.permute=function(V,ie){for(var ce=ie.length,Me=new Array(ce);ce--;)Me[ce]=V[ie[ce]];return Me},f.pairs=function(V){for(var ie=0,ce=V.length-1,Me=V[0],Ce=new Array(ce<0?0:ce);ie<ce;)Ce[ie]=[Me,Me=V[++ie]];return Ce},f.transpose=function(V){if(!(Ce=V.length))return[];for(var ie=-1,ce=f.min(V,g),Me=new Array(ce);++ie<ce;)for(var Ce,Ne=-1,$e=Me[ie]=new Array(Ce);++Ne<Ce;)$e[Ne]=V[Ne][ie];return Me},f.zip=function(){return f.transpose(arguments)},f.keys=function(V){var ie=[];for(var ce in V)ie.push(ce);return ie},f.values=function(V){var ie=[];for(var ce in V)ie.push(V[ce]);return ie},f.entries=function(V){var ie=[];for(var ce in V)ie.push({key:ce,value:V[ce]});return ie},f.merge=function(V){for(var ie,ce,Me,Ce=V.length,Ne=-1,$e=0;++Ne<Ce;)$e+=V[Ne].length;for(ce=new Array($e);--Ce>=0;)for(ie=(Me=V[Ce]).length;--ie>=0;)ce[--$e]=Me[ie];return ce};var w=Math.abs;function x(V,ie){for(var ce in ie)Object.defineProperty(V.prototype,ce,{value:ie[ce],enumerable:!1})}function b(){this._=Object.create(null)}f.range=function(V,ie,ce){if(arguments.length<3&&(ce=1,arguments.length<2&&(ie=V,V=0)),(ie-V)/ce==1/0)throw new Error("infinite range");var Me,Ce=[],Ne=function(Xe){for(var Qe=1;Xe*Qe%1;)Qe*=10;return Qe}(w(ce)),$e=-1;if(V*=Ne,ie*=Ne,(ce*=Ne)<0)for(;(Me=V+ce*++$e)>ie;)Ce.push(Me/Ne);else for(;(Me=V+ce*++$e)<ie;)Ce.push(Me/Ne);return Ce},f.map=function(V,ie){var ce=new b;if(V instanceof b)V.forEach(function(Xe,Qe){ce.set(Xe,Qe)});else if(Array.isArray(V)){var Me,Ce=-1,Ne=V.length;if(1===arguments.length)for(;++Ce<Ne;)ce.set(Ce,V[Ce]);else for(;++Ce<Ne;)ce.set(ie.call(V,Me=V[Ce],Ce),Me)}else for(var $e in V)ce.set($e,V[$e]);return ce};var A="__proto__",p="\0";function O(V){return(V+="")===A||V[0]===p?p+V:V}function k(V){return(V+="")[0]===p?V.slice(1):V}function I(V){return O(V)in this._}function P(V){return(V=O(V))in this._&&delete this._[V]}function R(){var V=[];for(var ie in this._)V.push(k(ie));return V}function N(){var V=0;for(var ie in this._)++V;return V}function j(){for(var V in this._)return!1;return!0}function X(){this._=Object.create(null)}function F(V){return V}function Z(V,ie,ce){return function(){var Me=ce.apply(ie,arguments);return Me===ie?V:Me}}function W(V,ie){if(ie in V)return ie;ie=ie.charAt(0).toUpperCase()+ie.slice(1);for(var ce=0,Me=H.length;ce<Me;++ce){var Ce=H[ce]+ie;if(Ce in V)return Ce}}x(b,{has:I,get:function(V){return this._[O(V)]},set:function(V,ie){return this._[O(V)]=ie},remove:P,keys:R,values:function(){var V=[];for(var ie in this._)V.push(this._[ie]);return V},entries:function(){var V=[];for(var ie in this._)V.push({key:k(ie),value:this._[ie]});return V},size:N,empty:j,forEach:function(V){for(var ie in this._)V.call(this,k(ie),this._[ie])}}),f.nest=function(){var V,ie,ce={},Me=[],Ce=[];function Ne(Xe,Qe,nt){if(nt>=Me.length)return ie?ie.call(ce,Qe):V?Qe.sort(V):Qe;for(var lt,xt,Mt,Bt,Vt=-1,jt=Qe.length,Xt=Me[nt++],Ut=new b;++Vt<jt;)(Bt=Ut.get(lt=Xt(xt=Qe[Vt])))?Bt.push(xt):Ut.set(lt,[xt]);return Xe?(xt=Xe(),Mt=function(gn,sn){xt.set(gn,Ne(Xe,sn,nt))}):(xt={},Mt=function(gn,sn){xt[gn]=Ne(Xe,sn,nt)}),Ut.forEach(Mt),xt}function $e(Xe,Qe){if(Qe>=Me.length)return Xe;var nt=[],lt=Ce[Qe++];return Xe.forEach(function(xt,Mt){nt.push({key:xt,values:$e(Mt,Qe)})}),lt?nt.sort(function(xt,Mt){return lt(xt.key,Mt.key)}):nt}return ce.map=function(Xe,Qe){return Ne(Qe,Xe,0)},ce.entries=function(Xe){return $e(Ne(f.map,Xe,0),0)},ce.key=function(Xe){return Me.push(Xe),ce},ce.sortKeys=function(Xe){return Ce[Me.length-1]=Xe,ce},ce.sortValues=function(Xe){return V=Xe,ce},ce.rollup=function(Xe){return ie=Xe,ce},ce},f.set=function(V){var ie=new X;if(V)for(var ce=0,Me=V.length;ce<Me;++ce)ie.add(V[ce]);return ie},x(X,{has:I,add:function(V){return this._[O(V+="")]=!0,V},remove:P,values:R,size:N,empty:j,forEach:function(V){for(var ie in this._)V.call(this,k(ie))}}),f.behavior={},f.rebind=function(V,ie){for(var ce,Me=1,Ce=arguments.length;++Me<Ce;)V[ce=arguments[Me]]=Z(V,ie,ie[ce]);return V};var H=["webkit","ms","moz","Moz","o","O"];function G(){}function Y(){}function se(V){var ie=[],ce=new b;function Me(){for(var Ce,Ne=ie,$e=-1,Xe=Ne.length;++$e<Xe;)(Ce=Ne[$e].on)&&Ce.apply(this,arguments);return V}return Me.on=function(Ce,Ne){var $e,Xe=ce.get(Ce);return arguments.length<2?Xe&&Xe.on:(Xe&&(Xe.on=null,ie=ie.slice(0,$e=ie.indexOf(Xe)).concat(ie.slice($e+1)),ce.remove(Ce)),Ne&&ie.push(ce.set(Ce,{on:Ne})),V)},Me}function te(){f.event.preventDefault()}function re(){for(var V,ie=f.event;V=ie.sourceEvent;)ie=V;return ie}function Q(V){for(var ie=new Y,ce=0,Me=arguments.length;++ce<Me;)ie[arguments[ce]]=se(ie);return ie.of=function(Ce,Ne){return function($e){try{var Xe=$e.sourceEvent=f.event;$e.target=V,f.event=$e,ie[$e.type].apply(Ce,Ne)}finally{f.event=Xe}}},ie}f.dispatch=function(){for(var V=new Y,ie=-1,ce=arguments.length;++ie<ce;)V[arguments[ie]]=se(V);return V},Y.prototype.on=function(V,ie){var ce=V.indexOf("."),Me="";if(ce>=0&&(Me=V.slice(ce+1),V=V.slice(0,ce)),V)return arguments.length<2?this[V].on(Me):this[V].on(Me,ie);if(2===arguments.length){if(null==ie)for(V in this)this.hasOwnProperty(V)&&this[V].on(Me,null);return this}},f.event=null,f.requote=function(V){return V.replace(ee,"\\$&")};var ee=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,oe={}.__proto__?function(V,ie){V.__proto__=ie}:function(V,ie){for(var ce in ie)V[ce]=ie[ce]};function le(V){return oe(V,we),V}var ue=function(V,ie){return ie.querySelector(V)},de=function(V,ie){return ie.querySelectorAll(V)},he=function(V,ie){var ce=V.matches||V[W(V,"matchesSelector")];return(he=function(Me,Ce){return ce.call(Me,Ce)})(V,ie)};"function"==typeof Sizzle&&(ue=function(V,ie){return Sizzle(V,ie)[0]||null},de=Sizzle,he=Sizzle.matchesSelector),f.selection=function(){return f.select(v.documentElement)};var we=f.selection.prototype=[];function Ae(V){return"function"==typeof V?V:function(){return ue(V,this)}}function Te(V){return"function"==typeof V?V:function(){return de(V,this)}}we.select=function(V){var ie,ce,Me,Ce,Ne=[];V=Ae(V);for(var $e=-1,Xe=this.length;++$e<Xe;){Ne.push(ie=[]),ie.parentNode=(Me=this[$e]).parentNode;for(var Qe=-1,nt=Me.length;++Qe<nt;)(Ce=Me[Qe])?(ie.push(ce=V.call(Ce,Ce.__data__,Qe,$e)),ce&&"__data__"in Ce&&(ce.__data__=Ce.__data__)):ie.push(null)}return le(Ne)},we.selectAll=function(V){var ie,ce,Me=[];V=Te(V);for(var Ce=-1,Ne=this.length;++Ce<Ne;)for(var $e=this[Ce],Xe=-1,Qe=$e.length;++Xe<Qe;)(ce=$e[Xe])&&(Me.push(ie=M(V.call(ce,ce.__data__,Xe,Ce))),ie.parentNode=ce);return le(Me)};var ve="http://www.w3.org/1999/xhtml",xe={svg:"http://www.w3.org/2000/svg",xhtml:ve,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fe(V,ie){return V=f.ns.qualify(V),null==ie?V.local?function(){this.removeAttributeNS(V.space,V.local)}:function(){this.removeAttribute(V)}:"function"==typeof ie?V.local?function(){var ce=ie.apply(this,arguments);null==ce?this.removeAttributeNS(V.space,V.local):this.setAttributeNS(V.space,V.local,ce)}:function(){var ce=ie.apply(this,arguments);null==ce?this.removeAttribute(V):this.setAttribute(V,ce)}:V.local?function(){this.setAttributeNS(V.space,V.local,ie)}:function(){this.setAttribute(V,ie)}}function Se(V){return V.trim().replace(/\s+/g," ")}function ke(V){return new RegExp("(?:^|\\s+)"+f.requote(V)+"(?:\\s+|$)","g")}function pe(V){return(V+"").trim().split(/^|\s+/)}function fe(V,ie){var ce=(V=pe(V).map(be)).length;return"function"==typeof ie?function(){for(var Me=-1,Ce=ie.apply(this,arguments);++Me<ce;)V[Me](this,Ce)}:function(){for(var Me=-1;++Me<ce;)V[Me](this,ie)}}function be(V){var ie=ke(V);return function(ce,Me){if(Ce=ce.classList)return Me?Ce.add(V):Ce.remove(V);var Ce=ce.getAttribute("class")||"";Me?(ie.lastIndex=0,ie.test(Ce)||ce.setAttribute("class",Se(Ce+" "+V))):ce.setAttribute("class",Se(Ce.replace(ie," ")))}}function Le(V,ie,ce){return null==ie?function(){this.style.removeProperty(V)}:"function"==typeof ie?function(){var Me=ie.apply(this,arguments);null==Me?this.style.removeProperty(V):this.style.setProperty(V,Me,ce)}:function(){this.style.setProperty(V,ie,ce)}}function Oe(V,ie){return null==ie?function(){delete this[V]}:"function"==typeof ie?function(){var ce=ie.apply(this,arguments);null==ce?delete this[V]:this[V]=ce}:function(){this[V]=ie}}function De(V){return"function"==typeof V?V:(V=f.ns.qualify(V)).local?function(){return this.ownerDocument.createElementNS(V.space,V.local)}:function(){var ie=this.ownerDocument,ce=this.namespaceURI;return ce===ve&&ie.documentElement.namespaceURI===ve?ie.createElement(V):ie.createElementNS(ce,V)}}function Ue(){var V=this.parentNode;V&&V.removeChild(this)}function Ge(V){return{__data__:V}}function ye(V){return function(){return he(this,V)}}function Ie(V){return arguments.length||(V=d),function(ie,ce){return ie&&ce?V(ie.__data__,ce.__data__):!ie-!ce}}function Ee(V,ie){for(var ce=0,Me=V.length;ce<Me;ce++)for(var Ce,Ne=V[ce],$e=0,Xe=Ne.length;$e<Xe;$e++)(Ce=Ne[$e])&&ie(Ce,$e,ce);return V}function Be(V){return oe(V,We),V}f.ns={prefix:xe,qualify:function(V){var ie=V.indexOf(":"),ce=V;return ie>=0&&"xmlns"!==(ce=V.slice(0,ie))&&(V=V.slice(ie+1)),xe.hasOwnProperty(ce)?{space:xe[ce],local:V}:V}},we.attr=function(V,ie){if(arguments.length<2){if("string"==typeof V){var ce=this.node();return(V=f.ns.qualify(V)).local?ce.getAttributeNS(V.space,V.local):ce.getAttribute(V)}for(ie in V)this.each(Fe(ie,V[ie]));return this}return this.each(Fe(V,ie))},we.classed=function(V,ie){if(arguments.length<2){if("string"==typeof V){var ce=this.node(),Me=(V=pe(V)).length,Ce=-1;if(ie=ce.classList){for(;++Ce<Me;)if(!ie.contains(V[Ce]))return!1}else for(ie=ce.getAttribute("class");++Ce<Me;)if(!ke(V[Ce]).test(ie))return!1;return!0}for(ie in V)this.each(fe(ie,V[ie]));return this}return this.each(fe(V,ie))},we.style=function(V,ie,ce){var Me=arguments.length;if(Me<3){if("string"!=typeof V){for(ce in Me<2&&(ie=""),V)this.each(Le(ce,V[ce],ie));return this}if(Me<2){var Ce=this.node();return i(Ce).getComputedStyle(Ce,null).getPropertyValue(V)}ce=""}return this.each(Le(V,ie,ce))},we.property=function(V,ie){if(arguments.length<2){if("string"==typeof V)return this.node()[V];for(ie in V)this.each(Oe(ie,V[ie]));return this}return this.each(Oe(V,ie))},we.text=function(V){return arguments.length?this.each("function"==typeof V?function(){var ie=V.apply(this,arguments);this.textContent=ie??""}:null==V?function(){this.textContent=""}:function(){this.textContent=V}):this.node().textContent},we.html=function(V){return arguments.length?this.each("function"==typeof V?function(){var ie=V.apply(this,arguments);this.innerHTML=ie??""}:null==V?function(){this.innerHTML=""}:function(){this.innerHTML=V}):this.node().innerHTML},we.append=function(V){return V=De(V),this.select(function(){return this.appendChild(V.apply(this,arguments))})},we.insert=function(V,ie){return V=De(V),ie=Ae(ie),this.select(function(){return this.insertBefore(V.apply(this,arguments),ie.apply(this,arguments)||null)})},we.remove=function(){return this.each(Ue)},we.data=function(V,ie){var ce,Me,Ce=-1,Ne=this.length;if(!arguments.length){for(V=new Array(Ne=(ce=this[0]).length);++Ce<Ne;)(Me=ce[Ce])&&(V[Ce]=Me.__data__);return V}function $e(lt,xt){var Mt,Bt,Vt,jt=lt.length,Xt=xt.length,Ut=Math.min(jt,Xt),gn=new Array(Xt),sn=new Array(Xt),rn=new Array(jt);if(ie){var En,On=new b,$n=new Array(jt);for(Mt=-1;++Mt<jt;)(Bt=lt[Mt])&&(On.has(En=ie.call(Bt,Bt.__data__,Mt))?rn[Mt]=Bt:On.set(En,Bt),$n[Mt]=En);for(Mt=-1;++Mt<Xt;)(Bt=On.get(En=ie.call(xt,Vt=xt[Mt],Mt)))?!0!==Bt&&(gn[Mt]=Bt,Bt.__data__=Vt):sn[Mt]=Ge(Vt),On.set(En,!0);for(Mt=-1;++Mt<jt;)Mt in $n&&!0!==On.get($n[Mt])&&(rn[Mt]=lt[Mt])}else{for(Mt=-1;++Mt<Ut;)Vt=xt[Mt],(Bt=lt[Mt])?(Bt.__data__=Vt,gn[Mt]=Bt):sn[Mt]=Ge(Vt);for(;Mt<Xt;++Mt)sn[Mt]=Ge(xt[Mt]);for(;Mt<jt;++Mt)rn[Mt]=lt[Mt]}sn.update=gn,sn.parentNode=gn.parentNode=rn.parentNode=lt.parentNode,Xe.push(sn),Qe.push(gn),nt.push(rn)}var Xe=Be([]),Qe=le([]),nt=le([]);if("function"==typeof V)for(;++Ce<Ne;)$e(ce=this[Ce],V.call(ce,ce.parentNode.__data__,Ce));else for(;++Ce<Ne;)$e(ce=this[Ce],V);return Qe.enter=function(){return Xe},Qe.exit=function(){return nt},Qe},we.datum=function(V){return arguments.length?this.property("__data__",V):this.property("__data__")},we.filter=function(V){var ie,ce,Me,Ce=[];"function"!=typeof V&&(V=ye(V));for(var Ne=0,$e=this.length;Ne<$e;Ne++){Ce.push(ie=[]),ie.parentNode=(ce=this[Ne]).parentNode;for(var Xe=0,Qe=ce.length;Xe<Qe;Xe++)(Me=ce[Xe])&&V.call(Me,Me.__data__,Xe,Ne)&&ie.push(Me)}return le(Ce)},we.order=function(){for(var V=-1,ie=this.length;++V<ie;)for(var ce,Me=this[V],Ce=Me.length-1,Ne=Me[Ce];--Ce>=0;)(ce=Me[Ce])&&(Ne&&Ne!==ce.nextSibling&&Ne.parentNode.insertBefore(ce,Ne),Ne=ce);return this},we.sort=function(V){V=Ie.apply(this,arguments);for(var ie=-1,ce=this.length;++ie<ce;)this[ie].sort(V);return this.order()},we.each=function(V){return Ee(this,function(ie,ce,Me){V.call(ie,ie.__data__,ce,Me)})},we.call=function(V){var ie=M(arguments);return V.apply(ie[0]=this,ie),this},we.empty=function(){return!this.node()},we.node=function(){for(var V=0,ie=this.length;V<ie;V++)for(var ce=this[V],Me=0,Ce=ce.length;Me<Ce;Me++){var Ne=ce[Me];if(Ne)return Ne}return null},we.size=function(){var V=0;return Ee(this,function(){++V}),V};var We=[];function He(V,ie,ce){var Me="__on"+V,Ce=V.indexOf("."),Ne=et;Ce>0&&(V=V.slice(0,Ce));var $e=Je.get(V);function Xe(){var Qe=this[Me];Qe&&(this.removeEventListener(V,Qe,Qe.$),delete this[Me])}return $e&&(V=$e,Ne=at),Ce?ie?function(){var Qe=Ne(ie,M(arguments));Xe.call(this),this.addEventListener(V,this[Me]=Qe,Qe.$=ce),Qe._=ie}:Xe:ie?G:function(){var Qe,nt=new RegExp("^__on([^.]+)"+f.requote(V)+"$");for(var lt in this)if(Qe=lt.match(nt)){var xt=this[lt];this.removeEventListener(Qe[1],xt,xt.$),delete this[lt]}}}f.selection.enter=Be,f.selection.enter.prototype=We,We.append=we.append,We.empty=we.empty,We.node=we.node,We.call=we.call,We.size=we.size,We.select=function(V){for(var ie,ce,Me,Ce,Ne,$e=[],Xe=-1,Qe=this.length;++Xe<Qe;){Me=(Ce=this[Xe]).update,$e.push(ie=[]),ie.parentNode=Ce.parentNode;for(var nt=-1,lt=Ce.length;++nt<lt;)(Ne=Ce[nt])?(ie.push(Me[nt]=ce=V.call(Ce.parentNode,Ne.__data__,nt,Xe)),ce.__data__=Ne.__data__):ie.push(null)}return le($e)},We.insert=function(V,ie){var ce,Me,Ce;return arguments.length<2&&(ce=this,ie=function(Ne,$e,Xe){var Qe,nt=ce[Xe].update,lt=nt.length;for(Xe!=Ce&&(Ce=Xe,Me=0),$e>=Me&&(Me=$e+1);!(Qe=nt[Me])&&++Me<lt;);return Qe}),we.insert.call(this,V,ie)},f.select=function(V){var ie;return"string"==typeof V?(ie=[ue(V,v)]).parentNode=v.documentElement:(ie=[V]).parentNode=c(V),le([ie])},f.selectAll=function(V){var ie;return"string"==typeof V?(ie=M(de(V,v))).parentNode=v.documentElement:(ie=M(V)).parentNode=null,le([ie])},we.on=function(V,ie,ce){var Me=arguments.length;if(Me<3){if("string"!=typeof V){for(ce in Me<2&&(ie=!1),V)this.each(He(ce,V[ce],ie));return this}if(Me<2)return(Me=this.node()["__on"+V])&&Me._;ce=!1}return this.each(He(V,ie,ce))};var Je=f.map({mouseenter:"mouseover",mouseleave:"mouseout"});function et(V,ie){return function(ce){var Me=f.event;f.event=ce,ie[0]=this.__data__;try{V.apply(this,ie)}finally{f.event=Me}}}function at(V,ie){var ce=et(V,ie);return function(Me){var Ne=Me.relatedTarget;Ne&&(Ne===this||8&Ne.compareDocumentPosition(this))||ce.call(this,Me)}}v&&Je.forEach(function(V){"on"+V in v&&Je.remove(V)});var mt,ct=0;function St(V){var ie=".dragsuppress-"+ ++ct,ce="click"+ie,Me=f.select(i(V)).on("touchmove"+ie,te).on("dragstart"+ie,te).on("selectstart"+ie,te);if(null==mt&&(mt=!("onselectstart"in V)&&W(V.style,"userSelect")),mt){var Ce=c(V).style,Ne=Ce[mt];Ce[mt]="none"}return function($e){if(Me.on(ie,null),mt&&(Ce[mt]=Ne),$e){var Xe=function(){Me.on(ce,null)};Me.on(ce,function(){te(),Xe()},!0),setTimeout(Xe,0)}}}f.mouse=function(V){return Et(V,re())};var Dt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Et(V,ie){ie.changedTouches&&(ie=ie.changedTouches[0]);var ce=V.ownerSVGElement||V;if(ce.createSVGPoint){var Me=ce.createSVGPoint();if(Dt<0){var Ce=i(V);if(Ce.scrollX||Ce.scrollY){var Ne=(ce=f.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Dt=!(Ne.f||Ne.e),ce.remove()}}return Dt?(Me.x=ie.pageX,Me.y=ie.pageY):(Me.x=ie.clientX,Me.y=ie.clientY),[(Me=Me.matrixTransform(V.getScreenCTM().inverse())).x,Me.y]}var $e=V.getBoundingClientRect();return[ie.clientX-$e.left-V.clientLeft,ie.clientY-$e.top-V.clientTop]}function ht(){return f.event.changedTouches[0].identifier}f.touch=function(V,ie,ce){if(arguments.length<3&&(ce=ie,ie=re().changedTouches),ie)for(var Me,Ce=0,Ne=ie.length;Ce<Ne;++Ce)if((Me=ie[Ce]).identifier===ce)return Et(V,Me)},f.behavior.drag=function(){var V=Q(Ce,"drag","dragstart","dragend"),ie=null,ce=Ne(G,f.mouse,i,"mousemove","mouseup"),Me=Ne(ht,f.touch,F,"touchmove","touchend");function Ce(){this.on("mousedown.drag",ce).on("touchstart.drag",Me)}function Ne($e,Xe,Qe,nt,lt){return function(){var xt,Bt=f.event.target.correspondingElement||f.event.target,Vt=this.parentNode,jt=V.of(this,arguments),Xt=0,Ut=$e(),gn=".drag"+(null==Ut?"":"-"+Ut),sn=f.select(Qe(Bt)).on(nt+gn,function(){var On,$n,tr=Xe(Vt,Ut);tr&&(Xt|=(On=tr[0]-En[0])|($n=tr[1]-En[1]),En=tr,jt({type:"drag",x:tr[0]+xt[0],y:tr[1]+xt[1],dx:On,dy:$n}))}).on(lt+gn,function(){Xe(Vt,Ut)&&(sn.on(nt+gn,null).on(lt+gn,null),rn(Xt),jt({type:"dragend"}))}),rn=St(Bt),En=Xe(Vt,Ut);xt=ie?[(xt=ie.apply(this,arguments)).x-En[0],xt.y-En[1]]:[0,0],jt({type:"dragstart"})}}return Ce.origin=function($e){return arguments.length?(ie=$e,Ce):ie},f.rebind(Ce,V,"on")},f.touches=function(V,ie){return arguments.length<2&&(ie=re().touches),ie?M(ie).map(function(ce){var Me=Et(V,ce);return Me.identifier=ce.identifier,Me}):[]};var pt=1e-6,Pt=pt*pt,Ft=Math.PI,Ht=2*Ft,Lt=Ht-pt,tt=Ft/2,rt=Ft/180,Ke=180/Ft;function it(V){return V>1?tt:V<-1?-tt:Math.asin(V)}function gt(V){return((V=Math.exp(V))+1/V)/2}var ft=Math.SQRT2;f.interpolateZoom=function(V,ie){var ce,Me,Ce=V[0],Ne=V[1],$e=V[2],nt=ie[2],lt=ie[0]-Ce,xt=ie[1]-Ne,Mt=lt*lt+xt*xt;if(Mt<Pt)Me=Math.log(nt/$e)/ft,ce=function(gn){return[Ce+gn*lt,Ne+gn*xt,$e*Math.exp(ft*gn*Me)]};else{var Bt=Math.sqrt(Mt),Vt=(nt*nt-$e*$e+4*Mt)/(2*$e*2*Bt),jt=(nt*nt-$e*$e-4*Mt)/(2*nt*2*Bt),Xt=Math.log(Math.sqrt(Vt*Vt+1)-Vt),Ut=Math.log(Math.sqrt(jt*jt+1)-jt);Me=(Ut-Xt)/ft,ce=function(gn){var sn,$n,rn=gn*Me,En=gt(Xt),On=$e/(2*Bt)*(En*(sn=ft*rn+Xt,((sn=Math.exp(2*sn))-1)/(sn+1))-($n=Xt,(($n=Math.exp($n))-1/$n)/2));return[Ce+On*lt,Ne+On*xt,$e*En/gt(ft*rn+Xt)]}}return ce.duration=1e3*Me,ce},f.behavior.zoom=function(){var V,ie,ce,Me,Ce,Ne,$e,Xe,Qe,nt={x:0,y:0,k:1},lt=[960,500],xt=dt,Mt=250,Bt=0,Vt="mousedown.zoom",jt="mousemove.zoom",Xt="mouseup.zoom",Ut="touchstart.zoom",gn=Q(sn,"zoomstart","zoom","zoomend");function sn(ir){ir.on(Vt,Ar).on(qe+".zoom",$r).on("dblclick.zoom",hi).on(Ut,Fr)}function rn(ir){return[(ir[0]-nt.x)/nt.k,(ir[1]-nt.y)/nt.k]}function En(ir){nt.k=Math.max(xt[0],Math.min(xt[1],ir))}function On(ir,Tr){var zr;nt.x+=ir[0]-(Tr=[(zr=Tr)[0]*nt.k+nt.x,zr[1]*nt.k+nt.y])[0],nt.y+=ir[1]-Tr[1]}function $n(ir,Tr,zr,Kr){ir.__chart__={x:nt.x,y:nt.y,k:nt.k},En(Math.pow(2,Kr)),On(ie=Tr,zr),ir=f.select(ir),Mt>0&&(ir=ir.transition().duration(Mt)),ir.call(sn.event)}function tr(){$e&&$e.domain(Ne.range().map(function(ir){return(ir-nt.x)/nt.k}).map(Ne.invert)),Qe&&Qe.domain(Xe.range().map(function(ir){return(ir-nt.y)/nt.k}).map(Xe.invert))}function ur(ir){Bt++||ir({type:"zoomstart"})}function yr(ir){tr(),ir({type:"zoom",scale:nt.k,translate:[nt.x,nt.y]})}function Cr(ir){--Bt||(ir({type:"zoomend"}),ie=null)}function Ar(){var ir=this,Tr=gn.of(ir,arguments),zr=0,Kr=f.select(i(ir)).on(jt,function(){zr=1,On(f.mouse(ir),ai),yr(Tr)}).on(Xt,function(){Kr.on(jt,null).on(Xt,null),vi(zr),Cr(Tr)}),ai=rn(f.mouse(ir)),vi=St(ir);ba.call(ir),ur(Tr)}function Fr(){var ir,Tr=this,zr=gn.of(Tr,arguments),Kr={},ai=0,vi=".zoom-"+f.event.changedTouches[0].identifier,Bi="touchmove"+vi,ao="touchend"+vi,_o=[],Po=f.select(Tr),to=St(Tr);function Ho(){var Hi=f.touches(Tr);return ir=nt.k,Hi.forEach(function(Pi){Pi.identifier in Kr&&(Kr[Pi.identifier]=rn(Pi))}),Hi}function Ta(){var Hi=f.event.target;f.select(Hi).on(Bi,la).on(ao,Xo),_o.push(Hi);for(var Pi=f.event.changedTouches,so=0,mo=Pi.length;so<mo;++so)Kr[Pi[so].identifier]=null;var Do=Ho(),Ma=Date.now();if(1===Do.length){if(Ma-Ce<500){var jo=Do[0];$n(Tr,jo,Kr[jo.identifier],Math.floor(Math.log(nt.k)/Math.LN2)+1),te()}Ce=Ma}else if(Do.length>1){var Gi=Do[1],Hl=(jo=Do[0])[0]-Gi[0],Na=jo[1]-Gi[1];ai=Hl*Hl+Na*Na}}function la(){var Hi,Pi,so,mo,Do=f.touches(Tr);ba.call(Tr);for(var Ma=0,jo=Do.length;Ma<jo;++Ma,mo=null)if(mo=Kr[(so=Do[Ma]).identifier]){if(Pi)break;Hi=so,Pi=mo}if(mo){var Gi=(Gi=so[0]-Hi[0])*Gi+(Gi=so[1]-Hi[1])*Gi,Hl=ai&&Math.sqrt(Gi/ai);Hi=[(Hi[0]+so[0])/2,(Hi[1]+so[1])/2],Pi=[(Pi[0]+mo[0])/2,(Pi[1]+mo[1])/2],En(Hl*ir)}Ce=null,On(Hi,Pi),yr(zr)}function Xo(){if(f.event.touches.length){for(var Hi=f.event.changedTouches,Pi=0,so=Hi.length;Pi<so;++Pi)delete Kr[Hi[Pi].identifier];for(var mo in Kr)return void Ho()}f.selectAll(_o).on(vi,null),Po.on(Vt,Ar).on(Ut,Fr),to(),Cr(zr)}Ta(),ur(zr),Po.on(Vt,null).on(Ut,Ta)}function $r(){var ir=gn.of(this,arguments);Me?clearTimeout(Me):(ba.call(this),V=rn(ie=ce||f.mouse(this)),ur(ir)),Me=setTimeout(function(){Me=null,Cr(ir)},50),te(),En(Math.pow(2,.002*Ve())*nt.k),On(ie,V),yr(ir)}function hi(){var ir=f.mouse(this),Tr=Math.log(nt.k)/Math.LN2;$n(this,ir,rn(ir),f.event.shiftKey?Math.ceil(Tr)-1:Math.floor(Tr)+1)}return qe||(qe="onwheel"in v?(Ve=function(){return-f.event.deltaY*(f.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(Ve=function(){return f.event.wheelDelta},"mousewheel"):(Ve=function(){return-f.event.detail},"MozMousePixelScroll")),sn.event=function(ir){ir.each(function(){var Tr=gn.of(this,arguments),zr=nt;lu?f.select(this).transition().each("start.zoom",function(){nt=this.__chart__||{x:0,y:0,k:1},ur(Tr)}).tween("zoom:zoom",function(){var Kr=lt[0],vi=ie?ie[0]:Kr/2,Bi=ie?ie[1]:lt[1]/2,ao=f.interpolateZoom([(vi-nt.x)/nt.k,(Bi-nt.y)/nt.k,Kr/nt.k],[(vi-zr.x)/zr.k,(Bi-zr.y)/zr.k,Kr/zr.k]);return function(_o){var Po=ao(_o),to=Kr/Po[2];this.__chart__=nt={x:vi-Po[0]*to,y:Bi-Po[1]*to,k:to},yr(Tr)}}).each("interrupt.zoom",function(){Cr(Tr)}).each("end.zoom",function(){Cr(Tr)}):(this.__chart__=nt,ur(Tr),yr(Tr),Cr(Tr))})},sn.translate=function(ir){return arguments.length?(nt={x:+ir[0],y:+ir[1],k:nt.k},tr(),sn):[nt.x,nt.y]},sn.scale=function(ir){return arguments.length?(nt={x:nt.x,y:nt.y,k:null},En(+ir),tr(),sn):nt.k},sn.scaleExtent=function(ir){return arguments.length?(xt=null==ir?dt:[+ir[0],+ir[1]],sn):xt},sn.center=function(ir){return arguments.length?(ce=ir&&[+ir[0],+ir[1]],sn):ce},sn.size=function(ir){return arguments.length?(lt=ir&&[+ir[0],+ir[1]],sn):lt},sn.duration=function(ir){return arguments.length?(Mt=+ir,sn):Mt},sn.x=function(ir){return arguments.length?($e=ir,Ne=ir.copy(),nt={x:0,y:0,k:1},sn):$e},sn.y=function(ir){return arguments.length?(Qe=ir,Xe=ir.copy(),nt={x:0,y:0,k:1},sn):Qe},f.rebind(sn,gn,"on")};var Ve,qe,dt=[0,1/0];function ut(){}function At(V,ie,ce){return this instanceof At?(this.h=+V,this.s=+ie,void(this.l=+ce)):arguments.length<2?V instanceof At?new At(V.h,V.s,V.l):wn(""+V,Cn,At):new At(V,ie,ce)}f.color=ut,ut.prototype.toString=function(){return this.rgb()+""},f.hsl=At;var wt=At.prototype=new ut;function kt(V,ie,ce){var Me,Ce;function Ne($e){return Math.round(255*((Xe=$e)>360?Xe-=360:Xe<0&&(Xe+=360),Xe<60?Me+(Ce-Me)*Xe/60:Xe<180?Ce:Xe<240?Me+(Ce-Me)*(240-Xe)/60:Me));var Xe}return V=isNaN(V)?0:(V%=360)<0?V+360:V,ie=isNaN(ie)||ie<0?0:ie>1?1:ie,Me=2*(ce=ce<0?0:ce>1?1:ce)-(Ce=ce<=.5?ce*(1+ie):ce+ie-ce*ie),new Hn(Ne(V+120),Ne(V),Ne(V-120))}function _t(V,ie,ce){return this instanceof _t?(this.h=+V,this.c=+ie,void(this.l=+ce)):arguments.length<2?V instanceof _t?new _t(V.h,V.c,V.l):(Me=V instanceof Tt?V.l:(V=Ln((V=f.rgb(V)).r,V.g,V.b)).l,Ce=V.a,Ne=V.b,Me>0?new _t(Math.atan2(Ne,Ce)*Ke,Math.sqrt(Ce*Ce+Ne*Ne),Me):new _t(NaN,NaN,Me)):new _t(V,ie,ce);var Me,Ce,Ne}wt.brighter=function(V){return V=Math.pow(.7,arguments.length?V:1),new At(this.h,this.s,this.l/V)},wt.darker=function(V){return V=Math.pow(.7,arguments.length?V:1),new At(this.h,this.s,V*this.l)},wt.rgb=function(){return kt(this.h,this.s,this.l)},f.hcl=_t;var Rt=_t.prototype=new ut;function bt(V,ie,ce){return isNaN(V)&&(V=0),isNaN(ie)&&(ie=0),new Tt(ce,Math.cos(V*=rt)*ie,Math.sin(V)*ie)}function Tt(V,ie,ce){return this instanceof Tt?(this.l=+V,this.a=+ie,void(this.b=+ce)):arguments.length<2?V instanceof Tt?new Tt(V.l,V.a,V.b):V instanceof _t?bt(V.h,V.c,V.l):Ln((V=Hn(V)).r,V.g,V.b):new Tt(V,ie,ce)}Rt.brighter=function(V){return new _t(this.h,this.c,Math.min(100,this.l+Ot*(arguments.length?V:1)))},Rt.darker=function(V){return new _t(this.h,this.c,Math.max(0,this.l-Ot*(arguments.length?V:1)))},Rt.rgb=function(){return bt(this.h,this.c,this.l).rgb()},f.lab=Tt;var Ot=18,Wt=.95047,qt=1,Jt=1.08883,pn=Tt.prototype=new ut;function en(V,ie,ce){var Me=(V+16)/116,Ce=Me+ie/500,Ne=Me-ce/200;return new Hn(In(3.2404542*(Ce=nn(Ce)*Wt)-1.5371385*(Me=nn(Me)*qt)-.4985314*(Ne=nn(Ne)*Jt)),In(-.969266*Ce+1.8760108*Me+.041556*Ne),In(.0556434*Ce-.2040259*Me+1.0572252*Ne))}function nn(V){return V>.206893034?V*V*V:(V-.13793103448275862)/7.787037}function dn(V){return V>.008856?Math.pow(V,.3333333333333333):7.787037*V+.13793103448275862}function In(V){return Math.round(255*(V<=.00304?12.92*V:1.055*Math.pow(V,.4166666666666667)-.055))}function Hn(V,ie,ce){return this instanceof Hn?(this.r=~~V,this.g=~~ie,void(this.b=~~ce)):arguments.length<2?V instanceof Hn?new Hn(V.r,V.g,V.b):wn(""+V,Hn,kt):new Hn(V,ie,ce)}function An(V){return new Hn(V>>16,V>>8&255,255&V)}function on(V){return An(V)+""}pn.brighter=function(V){return new Tt(Math.min(100,this.l+Ot*(arguments.length?V:1)),this.a,this.b)},pn.darker=function(V){return new Tt(Math.max(0,this.l-Ot*(arguments.length?V:1)),this.a,this.b)},pn.rgb=function(){return en(this.l,this.a,this.b)},f.rgb=Hn;var yn=Hn.prototype=new ut;function ln(V){return V<16?"0"+Math.max(0,V).toString(16):Math.min(255,V).toString(16)}function wn(V,ie,ce){var Me,Ce,Ne,$e=0,Xe=0,Qe=0;if(Me=/([a-z]+)\((.*)\)/.exec(V=V.toLowerCase()))switch(Ce=Me[2].split(","),Me[1]){case"hsl":return ce(parseFloat(Ce[0]),parseFloat(Ce[1])/100,parseFloat(Ce[2])/100);case"rgb":return ie(qn(Ce[0]),qn(Ce[1]),qn(Ce[2]))}return(Ne=kn.get(V))?ie(Ne.r,Ne.g,Ne.b):(null==V||"#"!==V.charAt(0)||isNaN(Ne=parseInt(V.slice(1),16))||(4===V.length?($e=(3840&Ne)>>4,$e|=$e>>4,Xe=240&Ne,Xe|=Xe>>4,Qe=15&Ne,Qe|=Qe<<4):7===V.length&&($e=(16711680&Ne)>>16,Xe=(65280&Ne)>>8,Qe=255&Ne)),ie($e,Xe,Qe))}function Cn(V,ie,ce){var Me,Ce,Ne=Math.min(V/=255,ie/=255,ce/=255),$e=Math.max(V,ie,ce),Xe=$e-Ne,Qe=($e+Ne)/2;return Xe?(Ce=Qe<.5?Xe/($e+Ne):Xe/(2-$e-Ne),Me=V==$e?(ie-ce)/Xe+(ie<ce?6:0):ie==$e?(ce-V)/Xe+2:(V-ie)/Xe+4,Me*=60):(Me=NaN,Ce=Qe>0&&Qe<1?0:Me),new At(Me,Ce,Qe)}function Ln(V,ie,ce){var Me=dn((.4124564*(V=Sn(V))+.3575761*(ie=Sn(ie))+.1804375*(ce=Sn(ce)))/Wt),Ce=dn((.2126729*V+.7151522*ie+.072175*ce)/qt);return Tt(116*Ce-16,500*(Me-Ce),200*(Ce-dn((.0193339*V+.119192*ie+.9503041*ce)/Jt)))}function Sn(V){return(V/=255)<=.04045?V/12.92:Math.pow((V+.055)/1.055,2.4)}function qn(V){var ie=parseFloat(V);return"%"===V.charAt(V.length-1)?Math.round(2.55*ie):ie}yn.brighter=function(V){V=Math.pow(.7,arguments.length?V:1);var ie=this.r,ce=this.g,Me=this.b;return ie||ce||Me?(ie&&ie<30&&(ie=30),ce&&ce<30&&(ce=30),Me&&Me<30&&(Me=30),new Hn(Math.min(255,ie/V),Math.min(255,ce/V),Math.min(255,Me/V))):new Hn(30,30,30)},yn.darker=function(V){return new Hn((V=Math.pow(.7,arguments.length?V:1))*this.r,V*this.g,V*this.b)},yn.hsl=function(){return Cn(this.r,this.g,this.b)},yn.toString=function(){return"#"+ln(this.r)+ln(this.g)+ln(this.b)};var kn=f.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Zn(V){return"function"==typeof V?V:function(){return V}}function fr(V){return function(ie,ce,Me){return 2===arguments.length&&"function"==typeof ce&&(Me=ce,ce=null),er(ie,ce,V,Me)}}function er(V,ie,ce,Me){var lt,Ce={},Ne=f.dispatch("beforesend","progress","load","error"),$e={},Xe=new XMLHttpRequest,Qe=null;function nt(){var lt,Mt,Bt,xt=Xe.status;if(!xt&&((Bt=(Mt=Xe).responseType)&&"text"!==Bt?Mt.response:Mt.responseText)||xt>=200&&xt<300||304===xt){try{lt=ce.call(Ce,Xe)}catch(Mt){return void Ne.error.call(Ce,Mt)}Ne.load.call(Ce,lt)}else Ne.error.call(Ce,Xe)}return self.XDomainRequest&&!("withCredentials"in Xe)&&/^(http(s)?:)?\/\//.test(V)&&(Xe=new XDomainRequest),"onload"in Xe?Xe.onload=Xe.onerror=nt:Xe.onreadystatechange=function(){Xe.readyState>3&&nt()},Xe.onprogress=function(lt){var xt=f.event;f.event=lt;try{Ne.progress.call(Ce,Xe)}finally{f.event=xt}},Ce.header=function(lt,xt){return lt=(lt+"").toLowerCase(),arguments.length<2?$e[lt]:(null==xt?delete $e[lt]:$e[lt]=xt+"",Ce)},Ce.mimeType=function(lt){return arguments.length?(ie=null==lt?null:lt+"",Ce):ie},Ce.responseType=function(lt){return arguments.length?(Qe=lt,Ce):Qe},Ce.response=function(lt){return ce=lt,Ce},["get","post"].forEach(function(lt){Ce[lt]=function(){return Ce.send.apply(Ce,[lt].concat(M(arguments)))}}),Ce.send=function(lt,xt,Mt){if(2===arguments.length&&"function"==typeof xt&&(Mt=xt,xt=null),Xe.open(lt,V,!0),null==ie||"accept"in $e||($e.accept=ie+",*/*"),Xe.setRequestHeader)for(var Bt in $e)Xe.setRequestHeader(Bt,$e[Bt]);return null!=ie&&Xe.overrideMimeType&&Xe.overrideMimeType(ie),null!=Qe&&(Xe.responseType=Qe),null!=Mt&&Ce.on("error",Mt).on("load",function(Vt){Mt(null,Vt)}),Ne.beforesend.call(Ce,Xe),Xe.send(xt??null),Ce},Ce.abort=function(){return Xe.abort(),Ce},f.rebind(Ce,Ne,"on"),null==Me?Ce:Ce.get(1===(lt=Me).length?function(xt,Mt){lt(null==xt?Mt:null)}:lt)}kn.forEach(function(V,ie){kn.set(V,An(ie))}),f.functor=Zn,f.xhr=fr(F),f.dsv=function(V,ie){var ce=new RegExp('["'+V+"\n]"),Me=V.charCodeAt(0);function Ce(nt,lt,xt){arguments.length<3&&(xt=lt,lt=null);var Mt=er(nt,ie,null==lt?Ne:$e(lt),xt);return Mt.row=function(Bt){return arguments.length?Mt.response(null==(lt=Bt)?Ne:$e(Bt)):lt},Mt}function Ne(nt){return Ce.parse(nt.responseText)}function $e(nt){return function(lt){return Ce.parse(lt.responseText,nt)}}function Xe(nt){return nt.map(Qe).join(V)}function Qe(nt){return ce.test(nt)?'"'+nt.replace(/\"/g,'""')+'"':nt}return Ce.parse=function(nt,lt){var xt;return Ce.parseRows(nt,function(Mt,Bt){if(xt)return xt(Mt,Bt-1);var Vt=function(jt){for(var Xt={},Ut=Mt.length,gn=0;gn<Ut;++gn)Xt[Mt[gn]]=jt[gn];return Xt};xt=lt?function(jt,Xt){return lt(Vt(jt),Xt)}:Vt})},Ce.parseRows=function(nt,lt){var xt,Mt,Bt={},Vt={},jt=[],Xt=nt.length,Ut=0,gn=0;function sn(){if(Ut>=Xt)return Vt;if(Mt)return Mt=!1,Bt;var En=Ut;if(34===nt.charCodeAt(En)){for(var On=En;On++<Xt;)if(34===nt.charCodeAt(On)){if(34!==nt.charCodeAt(On+1))break;++On}return Ut=On+2,13===($n=nt.charCodeAt(On+1))?(Mt=!0,10===nt.charCodeAt(On+2)&&++Ut):10===$n&&(Mt=!0),nt.slice(En+1,On).replace(/""/g,'"')}for(;Ut<Xt;){var $n,tr=1;if(10===($n=nt.charCodeAt(Ut++)))Mt=!0;else if(13===$n)Mt=!0,10===nt.charCodeAt(Ut)&&(++Ut,++tr);else if($n!==Me)continue;return nt.slice(En,Ut-tr)}return nt.slice(En)}for(;(xt=sn())!==Vt;){for(var rn=[];xt!==Bt&&xt!==Vt;)rn.push(xt),xt=sn();lt&&null==(rn=lt(rn,gn++))||jt.push(rn)}return jt},Ce.format=function(nt){if(Array.isArray(nt[0]))return Ce.formatRows(nt);var lt=new X,xt=[];return nt.forEach(function(Mt){for(var Bt in Mt)lt.has(Bt)||xt.push(lt.add(Bt))}),[xt.map(Qe).join(V)].concat(nt.map(function(Mt){return xt.map(function(Bt){return Qe(Mt[Bt])}).join(V)})).join("\n")},Ce.formatRows=function(nt){return nt.map(Xe).join("\n")},Ce},f.csv=f.dsv(",","text/csv"),f.tsv=f.dsv("\t","text/tab-separated-values");var nr,mr,dr,Ir,Yt=this[W(this,"requestAnimationFrame")]||function(V){setTimeout(V,17)};function $t(V,ie,ce){var Me=arguments.length;Me<2&&(ie=0),Me<3&&(ce=Date.now());var Ce={c:V,t:ce+ie,n:null};return mr?mr.n=Ce:nr=Ce,mr=Ce,dr||(Ir=clearTimeout(Ir),dr=1,Yt(xn)),Ce}function xn(){var V=vn(),ie=Dn()-V;ie>24?(isFinite(ie)&&(clearTimeout(Ir),Ir=setTimeout(xn,ie)),dr=0):(dr=1,Yt(xn))}function vn(){for(var V=Date.now(),ie=nr;ie;)V>=ie.t&&ie.c(V-ie.t)&&(ie.c=null),ie=ie.n;return V}function Dn(){for(var V,ie=nr,ce=1/0;ie;)ie.c?(ie.t<ce&&(ce=ie.t),ie=(V=ie).n):ie=V?V.n=ie.n:nr=ie.n;return mr=V,ce}function or(V){return V[0]}function Yn(V){return V[1]}function Qn(V){for(var ie,ce,Me,Ce=V.length,Ne=[0,1],$e=2,Xe=2;Xe<Ce;Xe++){for(;$e>1&&((ce=V[Ne[$e-1]])[0]-(ie=V[Ne[$e-2]])[0])*((Me=V[Xe])[1]-ie[1])-(ce[1]-ie[1])*(Me[0]-ie[0])<=0;)--$e;Ne[$e++]=Xe}return Ne.slice(0,$e)}function gr(V,ie){return V[0]-ie[0]||V[1]-ie[1]}f.timer=function(){$t.apply(this,arguments)},f.timer.flush=function(){vn(),Dn()},f.round=function(V,ie){return ie?Math.round(V*(ie=Math.pow(10,ie)))/ie:Math.round(V)},f.geom={},f.geom.hull=function(V){var ie=or,ce=Yn;if(arguments.length)return Me(V);function Me(Ce){if(Ce.length<3)return[];var Ne,$e=Zn(ie),Xe=Zn(ce),Qe=Ce.length,nt=[],lt=[];for(Ne=0;Ne<Qe;Ne++)nt.push([+$e.call(this,Ce[Ne],Ne),+Xe.call(this,Ce[Ne],Ne),Ne]);for(nt.sort(gr),Ne=0;Ne<Qe;Ne++)lt.push([nt[Ne][0],-nt[Ne][1]]);var xt=Qn(nt),Mt=Qn(lt),Bt=Mt[0]===xt[0],Vt=Mt[Mt.length-1]===xt[xt.length-1],jt=[];for(Ne=xt.length-1;Ne>=0;--Ne)jt.push(Ce[nt[xt[Ne]][2]]);for(Ne=+Bt;Ne<Mt.length-Vt;++Ne)jt.push(Ce[nt[Mt[Ne]][2]]);return jt}return Me.x=function(Ce){return arguments.length?(ie=Ce,Me):ie},Me.y=function(Ce){return arguments.length?(ce=Ce,Me):ce},Me},f.geom.polygon=function(V){return oe(V,tn),V};var tn=f.geom.polygon.prototype=[];function Fn(V,ie,ce){return(ce[0]-ie[0])*(V[1]-ie[1])<(ce[1]-ie[1])*(V[0]-ie[0])}function Nt(V,ie,ce,Me){var Ce=V[0],Ne=ce[0],$e=ie[0]-Ce,Xe=Me[0]-Ne,Qe=V[1],nt=ce[1],lt=ie[1]-Qe,xt=Me[1]-nt,Mt=(Xe*(Qe-nt)-xt*(Ce-Ne))/(xt*$e-Xe*lt);return[Ce+Mt*$e,Qe+Mt*lt]}function an(V){var ie=V[0],ce=V[V.length-1];return!(ie[0]-ce[0]||ie[1]-ce[1])}tn.area=function(){for(var V,ie=-1,ce=this.length,Me=this[ce-1],Ce=0;++ie<ce;)Ce+=(V=Me)[1]*(Me=this[ie])[0]-V[0]*Me[1];return.5*Ce},tn.centroid=function(V){var ie,ce,Me=-1,Ce=this.length,Ne=0,$e=0,Xe=this[Ce-1];for(arguments.length||(V=-1/(6*this.area()));++Me<Ce;)Ne+=((ie=Xe)[0]+(Xe=this[Me])[0])*(ce=ie[0]*Xe[1]-Xe[0]*ie[1]),$e+=(ie[1]+Xe[1])*ce;return[Ne*V,$e*V]},tn.clip=function(V){for(var ie,ce,Me,Ce,Ne,$e,Xe=an(V),Qe=-1,nt=this.length-an(this),lt=this[nt-1];++Qe<nt;){for(ie=V.slice(),V.length=0,Ce=this[Qe],Ne=ie[(Me=ie.length-Xe)-1],ce=-1;++ce<Me;)Fn($e=ie[ce],lt,Ce)?(Fn(Ne,lt,Ce)||V.push(Nt(Ne,$e,lt,Ce)),V.push($e)):Fn(Ne,lt,Ce)&&V.push(Nt(Ne,$e,lt,Ce)),Ne=$e;Xe&&V.push(V[0]),lt=Ce}return V};var cn,Pn,Nn,Gn,Tn,un=[],fn=[];function bn(){Eo(this),this.edge=this.site=this.circle=null}function Mn(V){var ie=un.pop()||new bn;return ie.site=V,ie}function Un(V){Pr(V),Nn.remove(V),un.push(V),Eo(V)}function Vn(V){var ie=V.circle,ce=ie.x,Me=ie.cy,Ce={x:ce,y:Me},Ne=V.P,$e=V.N,Xe=[V];Un(V);for(var Qe=Ne;Qe.circle&&w(ce-Qe.circle.x)<pt&&w(Me-Qe.circle.cy)<pt;)Ne=Qe.P,Xe.unshift(Qe),Un(Qe),Qe=Ne;Xe.unshift(Qe),Pr(Qe);for(var nt=$e;nt.circle&&w(ce-nt.circle.x)<pt&&w(Me-nt.circle.cy)<pt;)$e=nt.N,Xe.push(nt),Un(nt),nt=$e;Xe.push(nt),Pr(nt);var lt,xt=Xe.length;for(lt=1;lt<xt;++lt)Ur((nt=Xe[lt]).edge,(Qe=Xe[lt-1]).site,nt.site,Ce);(nt=Xe[xt-1]).edge=pr((Qe=Xe[0]).site,nt.site,null,Ce),wr(Qe),wr(nt)}function sr(V){for(var ie,ce,Me,Ce,Ne=V.x,$e=V.y,Xe=Nn._;Xe;)if((Me=rr(Xe,$e)-Ne)>pt)Xe=Xe.L;else{if(!((Ce=Ne-_r(Xe,$e))>pt)){Me>-pt?(ie=Xe.P,ce=Xe):Ce>-pt?(ie=Xe,ce=Xe.N):ie=ce=Xe;break}if(!Xe.R){ie=Xe;break}Xe=Xe.R}var Qe=Mn(V);if(Nn.insert(ie,Qe),ie||ce){if(ie===ce)return Pr(ie),ce=Mn(ie.site),Nn.insert(Qe,ce),Qe.edge=ce.edge=pr(ie.site,Qe.site),wr(ie),void wr(ce);if(ce){Pr(ie),Pr(ce);var nt=ie.site,lt=nt.x,xt=nt.y,Mt=V.x-lt,Bt=V.y-xt,Vt=ce.site,jt=Vt.x-lt,Xt=Vt.y-xt,Ut=2*(Mt*Xt-Bt*jt),gn=Mt*Mt+Bt*Bt,sn=jt*jt+Xt*Xt,rn={x:(Xt*gn-Bt*sn)/Ut+lt,y:(Mt*sn-jt*gn)/Ut+xt};Ur(ce.edge,nt,Vt,rn),Qe.edge=pr(nt,V,null,rn),ce.edge=pr(V,Vt,null,rn),wr(ie),wr(ce)}else Qe.edge=pr(ie.site,Qe.site)}}function rr(V,ie){var ce=V.site,Me=ce.x,Ce=ce.y,Ne=Ce-ie;if(!Ne)return Me;var $e=V.P;if(!$e)return-1/0;var Xe=(ce=$e.site).x,Qe=ce.y,nt=Qe-ie;if(!nt)return Xe;var lt=Xe-Me,xt=1/Ne-1/nt,Mt=lt/nt;return xt?(-Mt+Math.sqrt(Mt*Mt-2*xt*(lt*lt/(-2*nt)-Qe+nt/2+Ce-Ne/2)))/xt+Me:(Me+Xe)/2}function _r(V,ie){var ce=V.N;if(ce)return rr(ce,ie);var Me=V.site;return Me.y===ie?Me.x:1/0}function Rn(V){this.site=V,this.edges=[]}function Mr(V,ie){return ie.angle-V.angle}function lr(){Eo(this),this.x=this.y=this.arc=this.site=this.cy=null}function wr(V){var ie=V.P,ce=V.N;if(ie&&ce){var Me=ie.site,Ce=V.site,Ne=ce.site;if(Me!==Ne){var $e=Ce.x,Xe=Ce.y,Qe=Me.x-$e,nt=Me.y-Xe,lt=Ne.x-$e,xt=2*(Qe*(Xt=Ne.y-Xe)-nt*lt);if(!(xt>=-Pt)){var Mt=Qe*Qe+nt*nt,Bt=lt*lt+Xt*Xt,Vt=(Xt*Mt-nt*Bt)/xt,jt=(Qe*Bt-lt*Mt)/xt,Xt=jt+Xe,Ut=fn.pop()||new lr;Ut.arc=V,Ut.site=Ce,Ut.x=Vt+$e,Ut.y=Xt+Math.sqrt(Vt*Vt+jt*jt),Ut.cy=Xt,V.circle=Ut;for(var gn=null,sn=Tn._;sn;)if(Ut.y<sn.y||Ut.y===sn.y&&Ut.x<=sn.x){if(!sn.L){gn=sn.P;break}sn=sn.L}else{if(!sn.R){gn=sn;break}sn=sn.R}Tn.insert(gn,Ut),gn||(Gn=Ut)}}}}function Pr(V){var ie=V.circle;ie&&(ie.P||(Gn=ie.N),Tn.remove(ie),fn.push(ie),Eo(ie),V.circle=null)}function Lr(V,ie){var ce=V.b;if(ce)return!0;var Me,Ce,Ne=V.a,$e=ie[0][0],Xe=ie[1][0],Qe=ie[0][1],nt=ie[1][1],lt=V.l,xt=V.r,Mt=lt.x,Bt=lt.y,Vt=xt.x,jt=xt.y,Xt=(Mt+Vt)/2;if(jt===Bt){if(Xt<$e||Xt>=Xe)return;if(Mt>Vt){if(Ne){if(Ne.y>=nt)return}else Ne={x:Xt,y:Qe};ce={x:Xt,y:nt}}else{if(Ne){if(Ne.y<Qe)return}else Ne={x:Xt,y:nt};ce={x:Xt,y:Qe}}}else if(Ce=(Bt+jt)/2-(Me=(Mt-Vt)/(jt-Bt))*Xt,Me<-1||Me>1)if(Mt>Vt){if(Ne){if(Ne.y>=nt)return}else Ne={x:(Qe-Ce)/Me,y:Qe};ce={x:(nt-Ce)/Me,y:nt}}else{if(Ne){if(Ne.y<Qe)return}else Ne={x:(nt-Ce)/Me,y:nt};ce={x:(Qe-Ce)/Me,y:Qe}}else if(Bt<jt){if(Ne){if(Ne.x>=Xe)return}else Ne={x:$e,y:Me*$e+Ce};ce={x:Xe,y:Me*Xe+Ce}}else{if(Ne){if(Ne.x<$e)return}else Ne={x:Xe,y:Me*Xe+Ce};ce={x:$e,y:Me*$e+Ce}}return V.a=Ne,V.b=ce,!0}function ii(V,ie){this.l=V,this.r=ie,this.a=this.b=null}function pr(V,ie,ce,Me){var Ce=new ii(V,ie);return cn.push(Ce),ce&&Ur(Ce,V,ie,ce),Me&&Ur(Ce,ie,V,Me),Pn[V.i].edges.push(new ui(Ce,V,ie)),Pn[ie.i].edges.push(new ui(Ce,ie,V)),Ce}function Ur(V,ie,ce,Me){V.a||V.b?V.l===ce?V.b=Me:V.a=Me:(V.a=Me,V.l=ie,V.r=ce)}function ui(V,ie,ce){var Me=V.a,Ce=V.b;this.edge=V,this.site=ie,this.angle=ce?Math.atan2(ce.y-ie.y,ce.x-ie.x):V.l===ie?Math.atan2(Ce.x-Me.x,Me.y-Ce.y):Math.atan2(Me.x-Ce.x,Ce.y-Me.y)}function Yi(){this._=null}function Eo(V){V.U=V.C=V.L=V.R=V.P=V.N=null}function Qr(V,ie){var ce=ie,Me=ie.R,Ce=ce.U;Ce?Ce.L===ce?Ce.L=Me:Ce.R=Me:V._=Me,Me.U=Ce,ce.U=Me,ce.R=Me.L,ce.R&&(ce.R.U=ce),Me.L=ce}function wo(V,ie){var ce=ie,Me=ie.L,Ce=ce.U;Ce?Ce.L===ce?Ce.L=Me:Ce.R=Me:V._=Me,Me.U=Ce,ce.U=Me,ce.L=Me.R,ce.L&&(ce.L.U=ce),Me.R=ce}function co(V){for(;V.L;)V=V.L;return V}function Zi(V,ie){var ce,Me,Ce,Ne=V.sort(Vs).pop();for(cn=[],Pn=new Array(V.length),Nn=new Yi,Tn=new Yi;;)if(Ce=Gn,Ne&&(!Ce||Ne.y<Ce.y||Ne.y===Ce.y&&Ne.x<Ce.x))Ne.x===ce&&Ne.y===Me||(Pn[Ne.i]=new Rn(Ne),sr(Ne),ce=Ne.x,Me=Ne.y),Ne=V.pop();else{if(!Ce)break;Vn(Ce.arc)}ie&&(function(Xe){for(var Qe,nt,lt,xt,Mt,Bt=cn,Vt=(nt=Xe[0][0],lt=Xe[0][1],xt=Xe[1][0],Mt=Xe[1][1],function(Xt){var Ut,gn=Xt.a,sn=Xt.b,rn=gn.x,En=gn.y,On=0,$n=1,tr=sn.x-rn,ur=sn.y-En;if(Ut=nt-rn,tr||!(Ut>0)){if(Ut/=tr,tr<0){if(Ut<On)return;Ut<$n&&($n=Ut)}else if(tr>0){if(Ut>$n)return;Ut>On&&(On=Ut)}if(Ut=xt-rn,tr||!(Ut<0)){if(Ut/=tr,tr<0){if(Ut>$n)return;Ut>On&&(On=Ut)}else if(tr>0){if(Ut<On)return;Ut<$n&&($n=Ut)}if(Ut=lt-En,ur||!(Ut>0)){if(Ut/=ur,ur<0){if(Ut<On)return;Ut<$n&&($n=Ut)}else if(ur>0){if(Ut>$n)return;Ut>On&&(On=Ut)}if(Ut=Mt-En,ur||!(Ut<0)){if(Ut/=ur,ur<0){if(Ut>$n)return;Ut>On&&(On=Ut)}else if(ur>0){if(Ut<On)return;Ut<$n&&($n=Ut)}return On>0&&(Xt.a={x:rn+On*tr,y:En+On*ur}),$n<1&&(Xt.b={x:rn+$n*tr,y:En+$n*ur}),Xt}}}}}),jt=Bt.length;jt--;)(!Lr(Qe=Bt[jt],Xe)||!Vt(Qe)||w(Qe.a.x-Qe.b.x)<pt&&w(Qe.a.y-Qe.b.y)<pt)&&(Qe.a=Qe.b=null,Bt.splice(jt,1))}(ie),function(Xe){for(var Qe,nt,lt,xt,Mt,Bt,Vt,jt,Xt,Ut,gn=Xe[0][0],sn=Xe[1][0],rn=Xe[0][1],En=Xe[1][1],On=Pn,$n=On.length;$n--;)if((Mt=On[$n])&&Mt.prepare())for(jt=(Vt=Mt.edges).length,Bt=0;Bt<jt;)lt=(Ut=Vt[Bt].end()).x,xt=Ut.y,Qe=(Xt=Vt[++Bt%jt].start()).x,nt=Xt.y,(w(lt-Qe)>pt||w(xt-nt)>pt)&&(Vt.splice(Bt,0,new ui((tr=Mt.site,ur=Ut,yr=w(lt-gn)<pt&&En-xt>pt?{x:gn,y:w(Qe-gn)<pt?nt:En}:w(xt-En)<pt&&sn-lt>pt?{x:w(nt-En)<pt?Qe:sn,y:En}:w(lt-sn)<pt&&xt-rn>pt?{x:sn,y:w(Qe-sn)<pt?nt:rn}:w(xt-rn)<pt&&lt-gn>pt?{x:w(nt-rn)<pt?Qe:gn,y:rn}:null,Cr=void 0,(Cr=new ii(tr,null)).a=ur,Cr.b=yr,cn.push(Cr),Cr),Mt.site,null)),++jt);var tr,ur,yr,Cr}(ie));var $e={cells:Pn,edges:cn};return Nn=Tn=cn=Pn=null,$e}function Vs(V,ie){return ie.y-V.y||ie.x-V.x}Rn.prototype.prepare=function(){for(var V,ie=this.edges,ce=ie.length;ce--;)(V=ie[ce].edge).b&&V.a||ie.splice(ce,1);return ie.sort(Mr),ie.length},ui.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Yi.prototype={insert:function(V,ie){var ce,Me,Ce;if(V){if(ie.P=V,ie.N=V.N,V.N&&(V.N.P=ie),V.N=ie,V.R){for(V=V.R;V.L;)V=V.L;V.L=ie}else V.R=ie;ce=V}else this._?(V=co(this._),ie.P=null,ie.N=V,V.P=V.L=ie,ce=V):(ie.P=ie.N=null,this._=ie,ce=null);for(ie.L=ie.R=null,ie.U=ce,ie.C=!0,V=ie;ce&&ce.C;)ce===(Me=ce.U).L?(Ce=Me.R)&&Ce.C?(ce.C=Ce.C=!1,Me.C=!0,V=Me):(V===ce.R&&(Qr(this,ce),ce=(V=ce).U),ce.C=!1,Me.C=!0,wo(this,Me)):(Ce=Me.L)&&Ce.C?(ce.C=Ce.C=!1,Me.C=!0,V=Me):(V===ce.L&&(wo(this,ce),ce=(V=ce).U),ce.C=!1,Me.C=!0,Qr(this,Me)),ce=V.U;this._.C=!1},remove:function(V){V.N&&(V.N.P=V.P),V.P&&(V.P.N=V.N),V.N=V.P=null;var ie,ce,Me,Ce=V.U,Ne=V.L,$e=V.R;if(ce=Ne?$e?co($e):Ne:$e,Ce?Ce.L===V?Ce.L=ce:Ce.R=ce:this._=ce,Ne&&$e?(Me=ce.C,ce.C=V.C,ce.L=Ne,Ne.U=ce,ce!==$e?(Ce=ce.U,ce.U=V.U,Ce.L=V=ce.R,ce.R=$e,$e.U=ce):(ce.U=Ce,Ce=ce,V=ce.R)):(Me=V.C,V=ce),V&&(V.U=Ce),!Me)if(V&&V.C)V.C=!1;else{do{if(V===this._)break;if(V===Ce.L){if((ie=Ce.R).C&&(ie.C=!1,Ce.C=!0,Qr(this,Ce),ie=Ce.R),ie.L&&ie.L.C||ie.R&&ie.R.C){ie.R&&ie.R.C||(ie.L.C=!1,ie.C=!0,wo(this,ie),ie=Ce.R),ie.C=Ce.C,Ce.C=ie.R.C=!1,Qr(this,Ce),V=this._;break}}else if((ie=Ce.L).C&&(ie.C=!1,Ce.C=!0,wo(this,Ce),ie=Ce.L),ie.L&&ie.L.C||ie.R&&ie.R.C){ie.L&&ie.L.C||(ie.R.C=!1,ie.C=!0,Qr(this,ie),ie=Ce.L),ie.C=Ce.C,Ce.C=ie.L.C=!1,wo(this,Ce),V=this._;break}ie.C=!0,V=Ce,Ce=Ce.U}while(!V.C);V&&(V.C=!1)}}},f.geom.voronoi=function(V){var ie=or,ce=Yn,Me=ie,Ce=ce,Ne=vs;if(V)return $e(V);function $e(Qe){var nt=new Array(Qe.length),lt=Ne[0][0],xt=Ne[0][1],Mt=Ne[1][0],Bt=Ne[1][1];return Zi(Xe(Qe),Ne).cells.forEach(function(Vt,jt){var Xt=Vt.edges,Ut=Vt.site;(nt[jt]=Xt.length?Xt.map(function(gn){var sn=gn.start();return[sn.x,sn.y]}):Ut.x>=lt&&Ut.x<=Mt&&Ut.y>=xt&&Ut.y<=Bt?[[lt,Bt],[Mt,Bt],[Mt,xt],[lt,xt]]:[]).point=Qe[jt]}),nt}function Xe(Qe){return Qe.map(function(nt,lt){return{x:Math.round(Me(nt,lt)/pt)*pt,y:Math.round(Ce(nt,lt)/pt)*pt,i:lt}})}return $e.links=function(Qe){return Zi(Xe(Qe)).edges.filter(function(nt){return nt.l&&nt.r}).map(function(nt){return{source:Qe[nt.l.i],target:Qe[nt.r.i]}})},$e.triangles=function(Qe){var nt=[];return Zi(Xe(Qe)).cells.forEach(function(lt,xt){for(var Mt,Bt,Vt,jt,Xt=lt.site,Ut=lt.edges.sort(Mr),gn=-1,sn=Ut.length,rn=Ut[sn-1].edge,En=rn.l===Xt?rn.r:rn.l;++gn<sn;)Mt=En,En=(rn=Ut[gn].edge).l===Xt?rn.r:rn.l,xt<Mt.i&&xt<En.i&&((Bt=Xt).x-(jt=En).x)*((Vt=Mt).y-Bt.y)-(Bt.x-Vt.x)*(jt.y-Bt.y)<0&&nt.push([Qe[xt],Qe[Mt.i],Qe[En.i]])}),nt},$e.x=function(Qe){return arguments.length?(Me=Zn(ie=Qe),$e):ie},$e.y=function(Qe){return arguments.length?(Ce=Zn(ce=Qe),$e):ce},$e.clipExtent=function(Qe){return arguments.length?(Ne=Qe??vs,$e):Ne===vs?null:Ne},$e.size=function(Qe){return arguments.length?$e.clipExtent(Qe&&[[0,0],Qe]):Ne===vs?null:Ne&&Ne[1]},$e};var vs=[[-1e6,-1e6],[1e6,1e6]];function Xi(V){return V.x}function uf(V){return V.y}function Bu(V,ie,ce,Me,Ce,Ne){if(!V(ie,ce,Me,Ce,Ne)){var $e=.5*(ce+Ce),Xe=.5*(Me+Ne),Qe=ie.nodes;Qe[0]&&Bu(V,Qe[0],ce,Me,$e,Xe),Qe[1]&&Bu(V,Qe[1],$e,Me,Ce,Xe),Qe[2]&&Bu(V,Qe[2],ce,Xe,$e,Ne),Qe[3]&&Bu(V,Qe[3],$e,Xe,Ce,Ne)}}function gc(V,ie){V=f.rgb(V),ie=f.rgb(ie);var ce=V.r,Me=V.g,Ce=V.b,Ne=ie.r-ce,$e=ie.g-Me,Xe=ie.b-Ce;return function(Qe){return"#"+ln(Math.round(ce+Ne*Qe))+ln(Math.round(Me+$e*Qe))+ln(Math.round(Ce+Xe*Qe))}}function mu(V,ie){var ce,Me={},Ce={};for(ce in V)ce in ie?Me[ce]=hl(V[ce],ie[ce]):Ce[ce]=V[ce];for(ce in ie)ce in V||(Ce[ce]=ie[ce]);return function(Ne){for(ce in Me)Ce[ce]=Me[ce](Ne);return Ce}}function Es(V,ie){return V=+V,ie=+ie,function(ce){return V*(1-ce)+ie*ce}}function Qu(V,ie){var ce,Me,Ce,Ne=vu.lastIndex=yu.lastIndex=0,$e=-1,Xe=[],Qe=[];for(V+="",ie+="";(ce=vu.exec(V))&&(Me=yu.exec(ie));)(Ce=Me.index)>Ne&&(Ce=ie.slice(Ne,Ce),Xe[$e]?Xe[$e]+=Ce:Xe[++$e]=Ce),(ce=ce[0])===(Me=Me[0])?Xe[$e]?Xe[$e]+=Me:Xe[++$e]=Me:(Xe[++$e]=null,Qe.push({i:$e,x:Es(ce,Me)})),Ne=yu.lastIndex;return Ne<ie.length&&(Ce=ie.slice(Ne),Xe[$e]?Xe[$e]+=Ce:Xe[++$e]=Ce),Xe.length<2?Qe[0]?(ie=Qe[0].x,function(nt){return ie(nt)+""}):function(){return ie}:(ie=Qe.length,function(nt){for(var lt,xt=0;xt<ie;++xt)Xe[(lt=Qe[xt]).i]=lt.x(nt);return Xe.join("")})}f.geom.delaunay=function(V){return f.geom.voronoi().triangles(V)},f.geom.quadtree=function(V,ie,ce,Me,Ce){var Ne,$e=or,Xe=Yn;if(Ne=arguments.length)return $e=Xi,Xe=uf,3===Ne&&(Ce=ce,Me=ie,ce=ie=0),Qe(V);function Qe(nt){var lt,xt,Mt,Bt,Vt,jt,Xt,Ut,gn,sn=Zn($e),rn=Zn(Xe);if(null!=ie)jt=ie,Xt=ce,Ut=Me,gn=Ce;else if(Ut=gn=-(jt=Xt=1/0),xt=[],Mt=[],Vt=nt.length,Ne)for(Bt=0;Bt<Vt;++Bt)(lt=nt[Bt]).x<jt&&(jt=lt.x),lt.y<Xt&&(Xt=lt.y),lt.x>Ut&&(Ut=lt.x),lt.y>gn&&(gn=lt.y),xt.push(lt.x),Mt.push(lt.y);else for(Bt=0;Bt<Vt;++Bt){var En=+sn(lt=nt[Bt],Bt),On=+rn(lt,Bt);En<jt&&(jt=En),On<Xt&&(Xt=On),En>Ut&&(Ut=En),On>gn&&(gn=On),xt.push(En),Mt.push(On)}var $n=Ut-jt,tr=gn-Xt;function ur(Ar,Fr,$r,hi,ir,Tr,zr,Kr){if(!isNaN($r)&&!isNaN(hi))if(Ar.leaf){var ai=Ar.x,vi=Ar.y;if(null!=ai)if(w(ai-$r)+w(vi-hi)<.01)yr(Ar,Fr,$r,hi,ir,Tr,zr,Kr);else{var Bi=Ar.point;Ar.x=Ar.y=Ar.point=null,yr(Ar,Bi,ai,vi,ir,Tr,zr,Kr),yr(Ar,Fr,$r,hi,ir,Tr,zr,Kr)}else Ar.x=$r,Ar.y=hi,Ar.point=Fr}else yr(Ar,Fr,$r,hi,ir,Tr,zr,Kr)}function yr(Ar,Fr,$r,hi,ir,Tr,zr,Kr){var ai=.5*(ir+zr),vi=.5*(Tr+Kr),Bi=$r>=ai,ao=hi>=vi,_o=ao<<1|Bi;Ar.leaf=!1,Bi?ir=ai:zr=ai,ao?Tr=vi:Kr=vi,ur(Ar=Ar.nodes[_o]||(Ar.nodes[_o]={leaf:!0,nodes:[],point:null,x:null,y:null}),Fr,$r,hi,ir,Tr,zr,Kr)}$n>tr?gn=Xt+$n:Ut=jt+tr;var Cr={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Ar){ur(Cr,Ar,+sn(Ar,++Bt),+rn(Ar,Bt),jt,Xt,Ut,gn)},visit:function(Ar){Bu(Ar,Cr,jt,Xt,Ut,gn)},find:function(Ar){return $r=Ar[0],hi=Ar[1],vi=1/0,function Bi(ao,_o,Po,to,Ho){if(!(_o>zr||Po>Kr||to<ir||Ho<Tr)){if(Ta=ao.point){var Ta,la=$r-ao.x,Xo=hi-ao.y,Hi=la*la+Xo*Xo;if(Hi<vi){var Pi=Math.sqrt(vi=Hi);ir=$r-Pi,Tr=hi-Pi,zr=$r+Pi,Kr=hi+Pi,ai=Ta}}for(var so=ao.nodes,mo=.5*(_o+to),Do=.5*(Po+Ho),Ma=(hi>=Do)<<1|$r>=mo,jo=Ma+4;Ma<jo;++Ma)if(ao=so[3&Ma])switch(3&Ma){case 0:Bi(ao,_o,Po,mo,Do);break;case 1:Bi(ao,mo,Po,to,Do);break;case 2:Bi(ao,_o,Do,mo,Ho);break;case 3:Bi(ao,mo,Do,to,Ho)}}}(Cr,ir=jt,Tr=Xt,zr=Ut,Kr=gn),ai;var $r,hi,ir,Tr,zr,Kr,ai,vi}};if(Bt=-1,null==ie){for(;++Bt<Vt;)ur(Cr,nt[Bt],xt[Bt],Mt[Bt],jt,Xt,Ut,gn);--Bt}else nt.forEach(Cr.add);return xt=Mt=nt=lt=null,Cr}return Qe.x=function(nt){return arguments.length?($e=nt,Qe):$e},Qe.y=function(nt){return arguments.length?(Xe=nt,Qe):Xe},Qe.extent=function(nt){return arguments.length?(null==nt?ie=ce=Me=Ce=null:(ie=+nt[0][0],ce=+nt[0][1],Me=+nt[1][0],Ce=+nt[1][1]),Qe):null==ie?null:[[ie,ce],[Me,Ce]]},Qe.size=function(nt){return arguments.length?(null==nt?ie=ce=Me=Ce=null:(ie=ce=0,Me=+nt[0],Ce=+nt[1]),Qe):null==ie?null:[Me-ie,Ce-ce]},Qe},f.interpolateRgb=gc,f.interpolateObject=mu,f.interpolateNumber=Es,f.interpolateString=Qu;var vu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yu=new RegExp(vu.source,"g");function hl(V,ie){for(var ce,Me=f.interpolators.length;--Me>=0&&!(ce=f.interpolators[Me](V,ie)););return ce}function qo(V,ie){var ce,Me=[],Ce=[],Ne=V.length,$e=ie.length,Xe=Math.min(V.length,ie.length);for(ce=0;ce<Xe;++ce)Me.push(hl(V[ce],ie[ce]));for(;ce<Ne;++ce)Ce[ce]=V[ce];for(;ce<$e;++ce)Ce[ce]=ie[ce];return function(Qe){for(ce=0;ce<Xe;++ce)Ce[ce]=Me[ce](Qe);return Ce}}f.interpolate=hl,f.interpolators=[function(V,ie){var ce=typeof ie;return("string"===ce?kn.has(ie.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(ie)?gc:Qu:ie instanceof ut?gc:Array.isArray(ie)?qo:"object"===ce&&isNaN(ie)?mu:Es)(V,ie)}],f.interpolateArray=qo;var Ll=function(){return F},Fi=f.map({linear:Ll,poly:function(V){return function(ie){return Math.pow(ie,V)}},quad:function(){return mi},cubic:function(){return Hs},sin:function(){return ys},exp:function(){return mc},circle:function(){return cf},elastic:function(V,ie){var ce;return arguments.length<2&&(ie=.45),arguments.length?ce=ie/Ht*Math.asin(1/V):(V=1,ce=ie/4),function(Me){return 1+V*Math.pow(2,-10*Me)*Math.sin((Me-ce)*Ht/ie)}},back:function(V){return V||(V=1.70158),function(ie){return ie*ie*((V+1)*ie-V)}},bounce:function(){return Ql}}),pl=f.map({in:F,out:Nr,"in-out":ml,"out-in":function(V){return ml(Nr(V))}});function Nr(V){return function(ie){return 1-V(1-ie)}}function ml(V){return function(ie){return.5*(ie<.5?V(2*ie):2-V(2-2*ie))}}function mi(V){return V*V}function Hs(V){return V*V*V}function Gs(V){if(V<=0)return 0;if(V>=1)return 1;var ie=V*V,ce=ie*V;return 4*(V<.5?ce:3*(V-ie)+ce-.75)}function ys(V){return 1-Math.cos(V*tt)}function mc(V){return Math.pow(2,10*(V-1))}function cf(V){return 1-Math.sqrt(1-V*V)}function Ql(V){return V<.36363636363636365?7.5625*V*V:V<.7272727272727273?7.5625*(V-=.5454545454545454)*V+.75:V<.9090909090909091?7.5625*(V-=.8181818181818182)*V+.9375:7.5625*(V-=.9545454545454546)*V+.984375}function vl(V,ie){return ie-=V,function(ce){return Math.round(V+ie*ce)}}function Cs(V){var ie,ce,Me,Ce=[V.a,V.b],Ne=[V.c,V.d],$e=qs(Ce),Xe=Ws(Ce,Ne),Qe=qs(((ie=Ne)[0]+=(Me=-Xe)*(ce=Ce)[0],ie[1]+=Me*ce[1],ie))||0;Ce[0]*Ne[1]<Ne[0]*Ce[1]&&(Ce[0]*=-1,Ce[1]*=-1,$e*=-1,Xe*=-1),this.rotate=($e?Math.atan2(Ce[1],Ce[0]):Math.atan2(-Ne[0],Ne[1]))*Ke,this.translate=[V.e,V.f],this.scale=[$e,Qe],this.skew=Qe?Math.atan2(Xe,Qe)*Ke:0}function Ws(V,ie){return V[0]*ie[0]+V[1]*ie[1]}function qs(V){var ie=Math.sqrt(Ws(V,V));return ie&&(V[0]/=ie,V[1]/=ie),ie}f.ease=function(V){var ie,ce=V.indexOf("-"),Me=ce>=0?V.slice(0,ce):V,Ce=ce>=0?V.slice(ce+1):"in";return Me=Fi.get(Me)||Ll,Ce=pl.get(Ce)||F,ie=Ce(Me.apply(null,S.call(arguments,1))),function(Ne){return Ne<=0?0:Ne>=1?1:ie(Ne)}},f.interpolateHcl=function(V,ie){V=f.hcl(V),ie=f.hcl(ie);var ce=V.h,Me=V.c,Ce=V.l,Ne=ie.h-ce,$e=ie.c-Me,Xe=ie.l-Ce;return isNaN($e)&&($e=0,Me=isNaN(Me)?ie.c:Me),isNaN(Ne)?(Ne=0,ce=isNaN(ce)?ie.h:ce):Ne>180?Ne-=360:Ne<-180&&(Ne+=360),function(Qe){return bt(ce+Ne*Qe,Me+$e*Qe,Ce+Xe*Qe)+""}},f.interpolateHsl=function(V,ie){V=f.hsl(V),ie=f.hsl(ie);var ce=V.h,Me=V.s,Ce=V.l,Ne=ie.h-ce,$e=ie.s-Me,Xe=ie.l-Ce;return isNaN($e)&&($e=0,Me=isNaN(Me)?ie.s:Me),isNaN(Ne)?(Ne=0,ce=isNaN(ce)?ie.h:ce):Ne>180?Ne-=360:Ne<-180&&(Ne+=360),function(Qe){return kt(ce+Ne*Qe,Me+$e*Qe,Ce+Xe*Qe)+""}},f.interpolateLab=function(V,ie){V=f.lab(V),ie=f.lab(ie);var ce=V.l,Me=V.a,Ce=V.b,Ne=ie.l-ce,$e=ie.a-Me,Xe=ie.b-Ce;return function(Qe){return en(ce+Ne*Qe,Me+$e*Qe,Ce+Xe*Qe)+""}},f.interpolateRound=vl,f.transform=function(V){var ie=v.createElementNS(f.ns.prefix.svg,"g");return(f.transform=function(ce){if(null!=ce){ie.setAttribute("transform",ce);var Me=ie.transform.baseVal.consolidate()}return new Cs(Me?Me.matrix:Ji)})(V)},Cs.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Ji={a:1,b:0,c:0,d:1,e:0,f:0};function Nl(V){return V.length?V.pop()+",":""}function yl(V,ie){var Ce,Ne,$e,ce=[],Me=[];return V=f.transform(V),ie=f.transform(ie),function(Ce,Ne,$e,Xe){if(Ce[0]!==Ne[0]||Ce[1]!==Ne[1]){var Qe=$e.push("translate(",null,",",null,")");Xe.push({i:Qe-4,x:Es(Ce[0],Ne[0])},{i:Qe-2,x:Es(Ce[1],Ne[1])})}else(Ne[0]||Ne[1])&&$e.push("translate("+Ne+")")}(V.translate,ie.translate,ce,Me),$e=ce,(Ce=V.rotate)!==(Ne=ie.rotate)?(Ce-Ne>180?Ne+=360:Ne-Ce>180&&(Ce+=360),Me.push({i:$e.push(Nl($e)+"rotate(",null,")")-2,x:Es(Ce,Ne)})):Ne&&$e.push(Nl($e)+"rotate("+Ne+")"),function(Ce,Ne,$e,Xe){Ce!==Ne?Xe.push({i:$e.push(Nl($e)+"skewX(",null,")")-2,x:Es(Ce,Ne)}):Ne&&$e.push(Nl($e)+"skewX("+Ne+")")}(V.skew,ie.skew,ce,Me),function(Ce,Ne,$e,Xe){if(Ce[0]!==Ne[0]||Ce[1]!==Ne[1]){var Qe=$e.push(Nl($e)+"scale(",null,",",null,")");Xe.push({i:Qe-4,x:Es(Ce[0],Ne[0])},{i:Qe-2,x:Es(Ce[1],Ne[1])})}else 1===Ne[0]&&1===Ne[1]||$e.push(Nl($e)+"scale("+Ne+")")}(V.scale,ie.scale,ce,Me),V=ie=null,function(Ce){for(var Ne,$e=-1,Xe=Me.length;++$e<Xe;)ce[(Ne=Me[$e]).i]=Ne.x(Ce);return ce.join("")}}function Fl(V,ie){return ie=(ie-=V=+V)||1/ie,function(ce){return(ce-V)/ie}}function _u(V,ie){return ie=(ie-=V=+V)||1/ie,function(ce){return Math.max(0,Math.min(1,(ce-V)/ie))}}function Ds(V){for(var ie=V.source,ce=V.target,Me=function($e,Xe){if($e===Xe)return $e;for(var Qe=xu($e),nt=xu(Xe),lt=Qe.pop(),xt=nt.pop(),Mt=null;lt===xt;)Mt=lt,lt=Qe.pop(),xt=nt.pop();return Mt}(ie,ce),Ce=[ie];ie!==Me;)Ce.push(ie=ie.parent);for(var Ne=Ce.length;ce!==Me;)Ce.splice(Ne,0,ce),ce=ce.parent;return Ce}function xu(V){for(var ie=[],ce=V.parent;null!=ce;)ie.push(V),V=ce,ce=ce.parent;return ie.push(V),ie}function Ic(V){V.fixed|=2}function ji(V){V.fixed&=-7}function bu(V){V.fixed|=4,V.px=V.x,V.py=V.y}function _l(V){V.fixed&=-5}function zl(V,ie,ce){var Me=0,Ce=0;if(V.charge=0,!V.leaf)for(var Ne,$e=V.nodes,Xe=$e.length,Qe=-1;++Qe<Xe;)null!=(Ne=$e[Qe])&&(zl(Ne,ie,ce),V.charge+=Ne.charge,Me+=Ne.charge*Ne.cx,Ce+=Ne.charge*Ne.cy);if(V.point){V.leaf||(V.point.x+=Math.random()-.5,V.point.y+=Math.random()-.5);var nt=ie*ce[V.point.index];V.charge+=V.pointCharge=nt,Me+=nt*V.point.x,Ce+=nt*V.point.y}V.cx=Me/V.charge,V.cy=Ce/V.charge}f.interpolateTransform=yl,f.layout={},f.layout.bundle=function(){return function(V){for(var ie=[],ce=-1,Me=V.length;++ce<Me;)ie.push(Ds(V[ce]));return ie}},f.layout.chord=function(){var V,ie,ce,Me,Ce,Ne,$e,Xe={},Qe=0;function nt(){var xt,Mt,Bt,Vt,jt,Xt={},Ut=[],gn=f.range(Me),sn=[];for(V=[],ie=[],xt=0,Vt=-1;++Vt<Me;){for(Mt=0,jt=-1;++jt<Me;)Mt+=ce[Vt][jt];Ut.push(Mt),sn.push(f.range(Me)),xt+=Mt}for(Ce&&gn.sort(function(Cr,Ar){return Ce(Ut[Cr],Ut[Ar])}),Ne&&sn.forEach(function(Cr,Ar){Cr.sort(function(Fr,$r){return Ne(ce[Ar][Fr],ce[Ar][$r])})}),xt=(Ht-Qe*Me)/xt,Mt=0,Vt=-1;++Vt<Me;){for(Bt=Mt,jt=-1;++jt<Me;){var rn=gn[Vt],En=sn[rn][jt],On=ce[rn][En],$n=Mt,tr=Mt+=On*xt;Xt[rn+"-"+En]={index:rn,subindex:En,startAngle:$n,endAngle:tr,value:On}}ie[rn]={index:rn,startAngle:Bt,endAngle:Mt,value:Ut[rn]},Mt+=Qe}for(Vt=-1;++Vt<Me;)for(jt=Vt-1;++jt<Me;){var ur=Xt[Vt+"-"+jt],yr=Xt[jt+"-"+Vt];(ur.value||yr.value)&&V.push(ur.value<yr.value?{source:yr,target:ur}:{source:ur,target:yr})}$e&&lt()}function lt(){V.sort(function(xt,Mt){return $e((xt.source.value+xt.target.value)/2,(Mt.source.value+Mt.target.value)/2)})}return Xe.matrix=function(xt){return arguments.length?(Me=(ce=xt)&&ce.length,V=ie=null,Xe):ce},Xe.padding=function(xt){return arguments.length?(Qe=xt,V=ie=null,Xe):Qe},Xe.sortGroups=function(xt){return arguments.length?(Ce=xt,V=ie=null,Xe):Ce},Xe.sortSubgroups=function(xt){return arguments.length?(Ne=xt,V=null,Xe):Ne},Xe.sortChords=function(xt){return arguments.length?($e=xt,V&&lt(),Xe):$e},Xe.chords=function(){return V||nt(),V},Xe.groups=function(){return ie||nt(),ie},Xe},f.layout.force=function(){var V,ie,ce,Me,Ce,Ne,$e={},Xe=f.dispatch("start","tick","end"),Qe=[1,1],nt=.9,lt=ro,xt=eu,Mt=-30,Bt=io,Vt=.1,jt=.64,Xt=[],Ut=[];function gn(rn){return function(En,On,$n,tr){if(En.point!==rn){var ur=En.cx-rn.x,yr=En.cy-rn.y,Cr=tr-On,Ar=ur*ur+yr*yr;if(Cr*Cr/jt<Ar){if(Ar<Bt){var Fr=En.charge/Ar;rn.px-=ur*Fr,rn.py-=yr*Fr}return!0}En.point&&Ar&&Ar<Bt&&(rn.px-=ur*(Fr=En.pointCharge/Ar),rn.py-=yr*Fr)}return!En.charge}}function sn(rn){rn.px=f.event.x,rn.py=f.event.y,$e.resume()}return $e.tick=function(){if((ce*=.99)<.005)return V=null,Xe.end({type:"end",alpha:ce=0}),!0;var rn,En,On,$n,tr,ur,yr,Cr,Ar,Fr=Xt.length,$r=Ut.length;for(En=0;En<$r;++En)$n=(On=Ut[En]).source,(ur=(Cr=(tr=On.target).x-$n.x)*Cr+(Ar=tr.y-$n.y)*Ar)&&(Cr*=ur=ce*Ce[En]*((ur=Math.sqrt(ur))-Me[En])/ur,Ar*=ur,tr.x-=Cr*(yr=$n.weight+tr.weight?$n.weight/($n.weight+tr.weight):.5),tr.y-=Ar*yr,$n.x+=Cr*(yr=1-yr),$n.y+=Ar*yr);if((yr=ce*Vt)&&(Cr=Qe[0]/2,Ar=Qe[1]/2,En=-1,yr))for(;++En<Fr;)(On=Xt[En]).x+=(Cr-On.x)*yr,On.y+=(Ar-On.y)*yr;if(Mt)for(zl(rn=f.geom.quadtree(Xt),ce,Ne),En=-1;++En<Fr;)(On=Xt[En]).fixed||rn.visit(gn(On));for(En=-1;++En<Fr;)(On=Xt[En]).fixed?(On.x=On.px,On.y=On.py):(On.x-=(On.px-(On.px=On.x))*nt,On.y-=(On.py-(On.py=On.y))*nt);Xe.tick({type:"tick",alpha:ce})},$e.nodes=function(rn){return arguments.length?(Xt=rn,$e):Xt},$e.links=function(rn){return arguments.length?(Ut=rn,$e):Ut},$e.size=function(rn){return arguments.length?(Qe=rn,$e):Qe},$e.linkDistance=function(rn){return arguments.length?(lt="function"==typeof rn?rn:+rn,$e):lt},$e.distance=$e.linkDistance,$e.linkStrength=function(rn){return arguments.length?(xt="function"==typeof rn?rn:+rn,$e):xt},$e.friction=function(rn){return arguments.length?(nt=+rn,$e):nt},$e.charge=function(rn){return arguments.length?(Mt="function"==typeof rn?rn:+rn,$e):Mt},$e.chargeDistance=function(rn){return arguments.length?(Bt=rn*rn,$e):Math.sqrt(Bt)},$e.gravity=function(rn){return arguments.length?(Vt=+rn,$e):Vt},$e.theta=function(rn){return arguments.length?(jt=rn*rn,$e):Math.sqrt(jt)},$e.alpha=function(rn){return arguments.length?(rn=+rn,ce?rn>0?ce=rn:(V.c=null,V.t=NaN,V=null,Xe.end({type:"end",alpha:ce=0})):rn>0&&(Xe.start({type:"start",alpha:ce=rn}),V=$t($e.tick)),$e):ce},$e.start=function(){var rn,En,On,$n=Xt.length,tr=Ut.length,ur=Qe[0],yr=Qe[1];for(rn=0;rn<$n;++rn)(On=Xt[rn]).index=rn,On.weight=0;for(rn=0;rn<tr;++rn)"number"==typeof(On=Ut[rn]).source&&(On.source=Xt[On.source]),"number"==typeof On.target&&(On.target=Xt[On.target]),++On.source.weight,++On.target.weight;for(rn=0;rn<$n;++rn)On=Xt[rn],isNaN(On.x)&&(On.x=Cr("x",ur)),isNaN(On.y)&&(On.y=Cr("y",yr)),isNaN(On.px)&&(On.px=On.x),isNaN(On.py)&&(On.py=On.y);if(Me=[],"function"==typeof lt)for(rn=0;rn<tr;++rn)Me[rn]=+lt.call(this,Ut[rn],rn);else for(rn=0;rn<tr;++rn)Me[rn]=lt;if(Ce=[],"function"==typeof xt)for(rn=0;rn<tr;++rn)Ce[rn]=+xt.call(this,Ut[rn],rn);else for(rn=0;rn<tr;++rn)Ce[rn]=xt;if(Ne=[],"function"==typeof Mt)for(rn=0;rn<$n;++rn)Ne[rn]=+Mt.call(this,Xt[rn],rn);else for(rn=0;rn<$n;++rn)Ne[rn]=Mt;function Cr(Ar,Fr){if(!En){for(En=new Array($n),Tr=0;Tr<$n;++Tr)En[Tr]=[];for(Tr=0;Tr<tr;++Tr){var $r=Ut[Tr];En[$r.source.index].push($r.target),En[$r.target.index].push($r.source)}}for(var hi,ir=En[rn],Tr=-1,zr=ir.length;++Tr<zr;)if(!isNaN(hi=ir[Tr][Ar]))return hi;return Math.random()*Fr}return $e.resume()},$e.resume=function(){return $e.alpha(.1)},$e.stop=function(){return $e.alpha(0)},$e.drag=function(){if(ie||(ie=f.behavior.drag().origin(F).on("dragstart.force",Ic).on("drag.force",sn).on("dragend.force",ji)),!arguments.length)return ie;this.on("mouseover.force",bu).on("mouseout.force",_l).call(ie)},f.rebind($e,Xe,"on")};var ro=20,eu=1,io=1/0;function Br(V,ie){return f.rebind(V,ie,"sort","children","value"),V.nodes=V,V.links=ss,V}function ma(V,ie){for(var ce=[V];null!=(V=ce.pop());)if(ie(V),(Ce=V.children)&&(Me=Ce.length))for(var Me,Ce;--Me>=0;)ce.push(Ce[Me])}function Oi(V,ie){for(var ce=[V],Me=[];null!=(V=ce.pop());)if(Me.push(V),(Ne=V.children)&&(Ce=Ne.length))for(var Ce,Ne,$e=-1;++$e<Ce;)ce.push(Ne[$e]);for(;null!=(V=Me.pop());)ie(V)}function $o(V){return V.children}function as(V){return V.value}function Bl(V,ie){return ie.value-V.value}function ss(V){return f.merge(V.map(function(ie){return(ie.children||[]).map(function(ce){return{source:ie,target:ce}})}))}f.layout.hierarchy=function(){var V=Bl,ie=$o,ce=as;function Me(Ce){var Ne,$e=[Ce],Xe=[];for(Ce.depth=0;null!=(Ne=$e.pop());)if(Xe.push(Ne),(nt=ie.call(Me,Ne,Ne.depth))&&(Qe=nt.length)){for(var Qe,nt,lt;--Qe>=0;)$e.push(lt=nt[Qe]),lt.parent=Ne,lt.depth=Ne.depth+1;ce&&(Ne.value=0),Ne.children=nt}else ce&&(Ne.value=+ce.call(Me,Ne,Ne.depth)||0),delete Ne.children;return Oi(Ce,function(xt){var Mt,Bt;V&&(Mt=xt.children)&&Mt.sort(V),ce&&(Bt=xt.parent)&&(Bt.value+=xt.value)}),Xe}return Me.sort=function(Ce){return arguments.length?(V=Ce,Me):V},Me.children=function(Ce){return arguments.length?(ie=Ce,Me):ie},Me.value=function(Ce){return arguments.length?(ce=Ce,Me):ce},Me.revalue=function(Ce){return ce&&(ma(Ce,function(Ne){Ne.children&&(Ne.value=0)}),Oi(Ce,function(Ne){var $e;Ne.children||(Ne.value=+ce.call(Me,Ne,Ne.depth)||0),($e=Ne.parent)&&($e.value+=Ne.value)})),Ce},Me},f.layout.partition=function(){var V=f.layout.hierarchy(),ie=[1,1];function ce(Ne,$e,Xe,Qe){var nt=Ne.children;if(Ne.x=$e,Ne.y=Ne.depth*Qe,Ne.dx=Xe,Ne.dy=Qe,nt&&(lt=nt.length)){var lt,xt,Mt,Bt=-1;for(Xe=Ne.value?Xe/Ne.value:0;++Bt<lt;)ce(xt=nt[Bt],$e,Mt=xt.value*Xe,Qe),$e+=Mt}}function Me(Ne){var $e=Ne.children,Xe=0;if($e&&(Qe=$e.length))for(var Qe,nt=-1;++nt<Qe;)Xe=Math.max(Xe,Me($e[nt]));return 1+Xe}function Ce(Ne,$e){var Xe=V.call(this,Ne,$e);return ce(Xe[0],0,ie[0],ie[1]/Me(Xe[0])),Xe}return Ce.size=function(Ne){return arguments.length?(ie=Ne,Ce):ie},Br(Ce,V)},f.layout.pie=function(){var V=Number,ie=Pc,ce=0,Me=Ht,Ce=0;function Ne($e){var Xe,Qe=$e.length,nt=$e.map(function(gn,sn){return+V.call(Ne,gn,sn)}),lt=+("function"==typeof ce?ce.apply(this,arguments):ce),xt=("function"==typeof Me?Me.apply(this,arguments):Me)-lt,Mt=Math.min(Math.abs(xt)/Qe,+("function"==typeof Ce?Ce.apply(this,arguments):Ce)),Bt=Mt*(xt<0?-1:1),Vt=f.sum(nt),jt=Vt?(xt-Qe*Bt)/Vt:0,Xt=f.range(Qe),Ut=[];return null!=ie&&Xt.sort(ie===Pc?function(gn,sn){return nt[sn]-nt[gn]}:function(gn,sn){return ie($e[gn],$e[sn])}),Xt.forEach(function(gn){Ut[gn]={data:$e[gn],value:Xe=nt[gn],startAngle:lt,endAngle:lt+=Xe*jt+Bt,padAngle:Mt}}),Ut}return Ne.value=function($e){return arguments.length?(V=$e,Ne):V},Ne.sort=function($e){return arguments.length?(ie=$e,Ne):ie},Ne.startAngle=function($e){return arguments.length?(ce=$e,Ne):ce},Ne.endAngle=function($e){return arguments.length?(Me=$e,Ne):Me},Ne.padAngle=function($e){return arguments.length?(Ce=$e,Ne):Ce},Ne};var Pc={};function ju(V){return V.x}function jl(V){return V.y}function _s(V,ie,ce){V.y0=ie,V.y=ce}f.layout.stack=function(){var V=F,ie=yo,ce=da,Me=_s,Ce=ju,Ne=jl;function $e(Xe,Qe){if(!(Mt=Xe.length))return Xe;var nt=Xe.map(function(gn,sn){return V.call($e,gn,sn)}),lt=nt.map(function(gn){return gn.map(function(sn,rn){return[Ce.call($e,sn,rn),Ne.call($e,sn,rn)]})}),xt=ie.call($e,lt,Qe);nt=f.permute(nt,xt),lt=f.permute(lt,xt);var Mt,Bt,Vt,jt,Xt=ce.call($e,lt,Qe),Ut=nt[0].length;for(Vt=0;Vt<Ut;++Vt)for(Me.call($e,nt[0][Vt],jt=Xt[Vt],lt[0][Vt][1]),Bt=1;Bt<Mt;++Bt)Me.call($e,nt[Bt][Vt],jt+=lt[Bt-1][Vt][1],lt[Bt][Vt][1]);return Xe}return $e.values=function(Xe){return arguments.length?(V=Xe,$e):V},$e.order=function(Xe){return arguments.length?(ie="function"==typeof Xe?Xe:ti.get(Xe)||yo,$e):ie},$e.offset=function(Xe){return arguments.length?(ce="function"==typeof Xe?Xe:wi.get(Xe)||da,$e):ce},$e.x=function(Xe){return arguments.length?(Ce=Xe,$e):Ce},$e.y=function(Xe){return arguments.length?(Ne=Xe,$e):Ne},$e.out=function(Xe){return arguments.length?(Me=Xe,$e):Me},$e};var ti=f.map({"inside-out":function(V){var ie,ce,Me=V.length,Ce=V.map(xl),Ne=V.map(Io),$e=f.range(Me).sort(function(xt,Mt){return Ce[xt]-Ce[Mt]}),Xe=0,Qe=0,nt=[],lt=[];for(ie=0;ie<Me;++ie)ce=$e[ie],Xe<Qe?(Xe+=Ne[ce],nt.push(ce)):(Qe+=Ne[ce],lt.push(ce));return lt.reverse().concat(nt)},reverse:function(V){return f.range(V.length).reverse()},default:yo}),wi=f.map({silhouette:function(V){var ie,ce,Me,Ce=V.length,Ne=V[0].length,$e=[],Xe=0,Qe=[];for(ce=0;ce<Ne;++ce){for(ie=0,Me=0;ie<Ce;ie++)Me+=V[ie][ce][1];Me>Xe&&(Xe=Me),$e.push(Me)}for(ce=0;ce<Ne;++ce)Qe[ce]=(Xe-$e[ce])/2;return Qe},wiggle:function(V){var ie,ce,Me,Ce,Ne,$e,Xe,Qe,nt,lt=V.length,xt=V[0],Mt=xt.length,Bt=[];for(Bt[0]=Qe=nt=0,ce=1;ce<Mt;++ce){for(ie=0,Ce=0;ie<lt;++ie)Ce+=V[ie][ce][1];for(ie=0,Ne=0,Xe=xt[ce][0]-xt[ce-1][0];ie<lt;++ie){for(Me=0,$e=(V[ie][ce][1]-V[ie][ce-1][1])/(2*Xe);Me<ie;++Me)$e+=(V[Me][ce][1]-V[Me][ce-1][1])/Xe;Ne+=$e*V[ie][ce][1]}Bt[ce]=Qe-=Ce?Ne/Ce*Xe:0,Qe<nt&&(nt=Qe)}for(ce=0;ce<Mt;++ce)Bt[ce]-=nt;return Bt},expand:function(V){var ie,ce,Me,Ce=V.length,Ne=V[0].length,$e=1/Ce,Xe=[];for(ce=0;ce<Ne;++ce){for(ie=0,Me=0;ie<Ce;ie++)Me+=V[ie][ce][1];if(Me)for(ie=0;ie<Ce;ie++)V[ie][ce][1]/=Me;else for(ie=0;ie<Ce;ie++)V[ie][ce][1]=$e}for(ce=0;ce<Ne;++ce)Xe[ce]=0;return Xe},zero:da});function yo(V){return f.range(V.length)}function da(V){for(var ie=-1,ce=V[0].length,Me=[];++ie<ce;)Me[ie]=0;return Me}function xl(V){for(var ie,ce=1,Me=0,Ce=V[0][1],Ne=V.length;ce<Ne;++ce)(ie=V[ce][1])>Ce&&(Me=ce,Ce=ie);return Me}function Io(V){return V.reduce(wu,0)}function wu(V,ie){return V+ie[1]}function Zo(V,ie){return Tu(V,Math.ceil(Math.log(ie.length)/Math.LN2+1))}function Tu(V,ie){for(var ce=-1,Me=+V[0],Ce=(V[1]-Me)/ie,Ne=[];++ce<=ie;)Ne[ce]=Ce*ce+Me;return Ne}function $s(V){return[f.min(V),f.max(V)]}function Si(V,ie){return V.value-ie.value}function Ul(V,ie){var ce=V._pack_next;V._pack_next=ie,ie._pack_prev=V,ie._pack_next=ce,ce._pack_prev=ie}function Mu(V,ie){V._pack_next=ie,ie._pack_prev=V}function Au(V,ie){var ce=ie.x-V.x,Me=ie.y-V.y,Ce=V.r+ie.r;return.999*Ce*Ce>ce*ce+Me*Me}function Os(V){if((ie=V.children)&&(Qe=ie.length)){var ie,ce,Me,Ce,Ne,$e,Xe,Qe,nt=1/0,lt=-1/0,xt=1/0,Mt=-1/0;if(ie.forEach(na),(ce=ie[0]).x=-ce.r,ce.y=0,sn(ce),Qe>1&&((Me=ie[1]).x=Me.r,Me.y=0,sn(Me),Qe>2))for(Pa(ce,Me,Ce=ie[2]),sn(Ce),Ul(ce,Ce),ce._pack_prev=Ce,Ul(Ce,Me),Me=ce._pack_next,Ne=3;Ne<Qe;Ne++){Pa(ce,Me,Ce=ie[Ne]);var Bt=0,Vt=1,jt=1;for($e=Me._pack_next;$e!==Me;$e=$e._pack_next,Vt++)if(Au($e,Ce)){Bt=1;break}if(1==Bt)for(Xe=ce._pack_prev;Xe!==$e._pack_prev&&!Au(Xe,Ce);Xe=Xe._pack_prev,jt++);Bt?(Vt<jt||Vt==jt&&Me.r<ce.r?Mu(ce,Me=$e):Mu(ce=Xe,Me),Ne--):(Ul(ce,Ce),Me=Ce,sn(Ce))}var Xt=(nt+lt)/2,Ut=(xt+Mt)/2,gn=0;for(Ne=0;Ne<Qe;Ne++)(Ce=ie[Ne]).x-=Xt,Ce.y-=Ut,gn=Math.max(gn,Ce.r+Math.sqrt(Ce.x*Ce.x+Ce.y*Ce.y));V.r=gn,ie.forEach(bl)}function sn(rn){nt=Math.min(rn.x-rn.r,nt),lt=Math.max(rn.x+rn.r,lt),xt=Math.min(rn.y-rn.r,xt),Mt=Math.max(rn.y+rn.r,Mt)}}function na(V){V._pack_next=V._pack_prev=V}function bl(V){delete V._pack_next,delete V._pack_prev}function Vi(V,ie,ce,Me){var Ce=V.children;if(V.x=ie+=Me*V.x,V.y=ce+=Me*V.y,V.r*=Me,Ce)for(var Ne=-1,$e=Ce.length;++Ne<$e;)Vi(Ce[Ne],ie,ce,Me)}function Pa(V,ie,ce){var Me=V.r+ce.r,Ce=ie.x-V.x,Ne=ie.y-V.y;if(Me&&(Ce||Ne)){var $e=ie.r+ce.r,Xe=Ce*Ce+Ne*Ne,Qe=.5+((Me*=Me)-($e*=$e))/(2*Xe),nt=Math.sqrt(Math.max(0,2*$e*(Me+Xe)-(Me-=Xe)*Me-$e*$e))/(2*Xe);ce.x=V.x+Qe*Ce+nt*Ne,ce.y=V.y+Qe*Ne-nt*Ce}else ce.x=V.x+Me,ce.y=V.y}function xs(V,ie){return V.parent==ie.parent?1:2}function ra(V){var ie=V.children;return ie.length?ie[0]:V.t}function di(V){var ie,ce=V.children;return(ie=ce.length)?ce[ie-1]:V.t}function Qi(V,ie,ce){var Me=ce/(ie.i-V.i);ie.c-=Me,ie.s+=ce,V.c+=Me,ie.z+=ce,ie.m+=ce}function wl(V,ie,ce){return V.a.parent===ie.parent?V.a:ce}function Tl(V){var ie=V.children;return ie&&ie.length?Tl(ie[0]):V}function Uu(V){var ie,ce=V.children;return ce&&(ie=ce.length)?Uu(ce[ie-1]):V}function tu(V){return{x:V.x,y:V.y,dx:V.dx,dy:V.dy}}function bs(V,ie){var ce=V.x+ie[3],Me=V.y+ie[0],Ce=V.dx-ie[1]-ie[3],Ne=V.dy-ie[0]-ie[2];return Ce<0&&(ce+=Ce/2,Ce=0),Ne<0&&(Me+=Ne/2,Ne=0),{x:ce,y:Me,dx:Ce,dy:Ne}}function ha(V){var ie=V[0],ce=V[V.length-1];return ie<ce?[ie,ce]:[ce,ie]}function nu(V){return V.rangeExtent?V.rangeExtent():ha(V.range())}function pa(V,ie,ce,Me){var Ce=ce(V[0],V[1]),Ne=Me(ie[0],ie[1]);return function($e){return Ne(Ce($e))}}function va(V,ie){var ce,Me=0,Ce=V.length-1,Ne=V[Me],$e=V[Ce];return $e<Ne&&(ce=Me,Me=Ce,Ce=ce,ce=Ne,Ne=$e,$e=ce),V[Me]=ie.floor(Ne),V[Ce]=ie.ceil($e),V}function Co(V){return V?{floor:function(ie){return Math.floor(ie/V)*V},ceil:function(ie){return Math.ceil(ie/V)*V}}:Zs}f.layout.histogram=function(){var V=!0,ie=Number,ce=$s,Me=Zo;function Ce(Ne,$e){for(var Xe,Qe,nt=[],lt=Ne.map(ie,this),xt=ce.call(this,lt,$e),Mt=Me.call(this,xt,lt,$e),Bt=($e=-1,lt.length),Vt=Mt.length-1,jt=V?1:1/Bt;++$e<Vt;)(Xe=nt[$e]=[]).dx=Mt[$e+1]-(Xe.x=Mt[$e]),Xe.y=0;if(Vt>0)for($e=-1;++$e<Bt;)(Qe=lt[$e])>=xt[0]&&Qe<=xt[1]&&((Xe=nt[f.bisect(Mt,Qe,1,Vt)-1]).y+=jt,Xe.push(Ne[$e]));return nt}return Ce.value=function(Ne){return arguments.length?(ie=Ne,Ce):ie},Ce.range=function(Ne){return arguments.length?(ce=Zn(Ne),Ce):ce},Ce.bins=function(Ne){return arguments.length?(Me="number"==typeof Ne?function($e){return Tu($e,Ne)}:Zn(Ne),Ce):Me},Ce.frequency=function(Ne){return arguments.length?(V=!!Ne,Ce):V},Ce},f.layout.pack=function(){var V,ie=f.layout.hierarchy().sort(Si),ce=0,Me=[1,1];function Ce(Ne,$e){var Xe=ie.call(this,Ne,$e),Qe=Xe[0],nt=Me[0],lt=Me[1],xt=null==V?Math.sqrt:"function"==typeof V?V:function(){return V};if(Qe.x=Qe.y=0,Oi(Qe,function(Bt){Bt.r=+xt(Bt.value)}),Oi(Qe,Os),ce){var Mt=ce*(V?1:Math.max(2*Qe.r/nt,2*Qe.r/lt))/2;Oi(Qe,function(Bt){Bt.r+=Mt}),Oi(Qe,Os),Oi(Qe,function(Bt){Bt.r-=Mt})}return Vi(Qe,nt/2,lt/2,V?1:1/Math.max(2*Qe.r/nt,2*Qe.r/lt)),Xe}return Ce.size=function(Ne){return arguments.length?(Me=Ne,Ce):Me},Ce.radius=function(Ne){return arguments.length?(V=null==Ne||"function"==typeof Ne?Ne:+Ne,Ce):V},Ce.padding=function(Ne){return arguments.length?(ce=+Ne,Ce):ce},Br(Ce,ie)},f.layout.tree=function(){var V=f.layout.hierarchy().sort(null).value(null),ie=xs,ce=[1,1],Me=null;function Ce(Qe,nt){var lt=V.call(this,Qe,nt),xt=lt[0],Mt=function(sn){for(var rn,En={A:null,children:[sn]},On=[En];null!=(rn=On.pop());)for(var $n,tr=rn.children,ur=0,yr=tr.length;ur<yr;++ur)On.push((tr[ur]=$n={_:tr[ur],parent:rn,children:($n=tr[ur].children)&&$n.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:ur}).a=$n);return En.children[0]}(xt);if(Oi(Mt,Ne),Mt.parent.m=-Mt.z,ma(Mt,$e),Me)ma(xt,Xe);else{var Bt=xt,Vt=xt,jt=xt;ma(xt,function(sn){sn.x<Bt.x&&(Bt=sn),sn.x>Vt.x&&(Vt=sn),sn.depth>jt.depth&&(jt=sn)});var Xt=ie(Bt,Vt)/2-Bt.x,Ut=ce[0]/(Vt.x+ie(Vt,Bt)/2+Xt),gn=ce[1]/(jt.depth||1);ma(xt,function(sn){sn.x=(sn.x+Xt)*Ut,sn.y=sn.depth*gn})}return lt}function Ne(Qe){var nt=Qe.children,lt=Qe.parent.children,xt=Qe.i?lt[Qe.i-1]:null;if(nt.length){!function(Bt){for(var Vt,jt=0,Xt=0,Ut=Bt.children,gn=Ut.length;--gn>=0;)(Vt=Ut[gn]).z+=jt,Vt.m+=jt,jt+=Vt.s+(Xt+=Vt.c)}(Qe);var Mt=(nt[0].z+nt[nt.length-1].z)/2;xt?(Qe.z=xt.z+ie(Qe._,xt._),Qe.m=Qe.z-Mt):Qe.z=Mt}else xt&&(Qe.z=xt.z+ie(Qe._,xt._));Qe.parent.A=function(Bt,Vt,jt){if(Vt){for(var Xt,Ut=Bt,gn=Bt,sn=Vt,rn=Ut.parent.children[0],En=Ut.m,On=gn.m,$n=sn.m,tr=rn.m;sn=di(sn),Ut=ra(Ut),sn&&Ut;)rn=ra(rn),(gn=di(gn)).a=Bt,(Xt=sn.z+$n-Ut.z-En+ie(sn._,Ut._))>0&&(Qi(wl(sn,Bt,jt),Bt,Xt),En+=Xt,On+=Xt),$n+=sn.m,En+=Ut.m,tr+=rn.m,On+=gn.m;sn&&!di(gn)&&(gn.t=sn,gn.m+=$n-On),Ut&&!ra(rn)&&(rn.t=Ut,rn.m+=En-tr,jt=Bt)}return jt}(Qe,xt,Qe.parent.A||lt[0])}function $e(Qe){Qe._.x=Qe.z+Qe.parent.m,Qe.m+=Qe.parent.m}function Xe(Qe){Qe.x*=ce[0],Qe.y=Qe.depth*ce[1]}return Ce.separation=function(Qe){return arguments.length?(ie=Qe,Ce):ie},Ce.size=function(Qe){return arguments.length?(Me=null==(ce=Qe)?Xe:null,Ce):Me?null:ce},Ce.nodeSize=function(Qe){return arguments.length?(Me=null==(ce=Qe)?null:Xe,Ce):Me?ce:null},Br(Ce,V)},f.layout.cluster=function(){var V=f.layout.hierarchy().sort(null).value(null),ie=xs,ce=[1,1],Me=!1;function Ce(Ne,$e){var Xe,Qe=V.call(this,Ne,$e),nt=Qe[0],lt=0;Oi(nt,function(jt){var Ut,Xt=jt.children;Xt&&Xt.length?(jt.x=(Ut=Xt).reduce(function(gn,sn){return gn+sn.x},0)/Ut.length,jt.y=function(Ut){return 1+f.max(Ut,function(gn){return gn.y})}(Xt)):(jt.x=Xe?lt+=ie(jt,Xe):0,jt.y=0,Xe=jt)});var xt=Tl(nt),Mt=Uu(nt),Bt=xt.x-ie(xt,Mt)/2,Vt=Mt.x+ie(Mt,xt)/2;return Oi(nt,Me?function(jt){jt.x=(jt.x-nt.x)*ce[0],jt.y=(nt.y-jt.y)*ce[1]}:function(jt){jt.x=(jt.x-Bt)/(Vt-Bt)*ce[0],jt.y=(1-(nt.y?jt.y/nt.y:1))*ce[1]}),Qe}return Ce.separation=function(Ne){return arguments.length?(ie=Ne,Ce):ie},Ce.size=function(Ne){return arguments.length?(Me=null==(ce=Ne),Ce):Me?null:ce},Ce.nodeSize=function(Ne){return arguments.length?(Me=null!=(ce=Ne),Ce):Me?ce:null},Br(Ce,V)},f.layout.treemap=function(){var V,ie=f.layout.hierarchy(),ce=Math.round,Me=[1,1],Ce=null,Ne=tu,$e=!1,Xe="squarify",Qe=.5*(1+Math.sqrt(5));function nt(jt,Xt){for(var Ut,gn,sn=-1,rn=jt.length;++sn<rn;)gn=(Ut=jt[sn]).value*(Xt<0?0:Xt),Ut.area=isNaN(gn)||gn<=0?0:gn}function lt(jt){var Xt=jt.children;if(Xt&&Xt.length){var Ut,gn,sn,rn=Ne(jt),En=[],On=Xt.slice(),$n=1/0,tr="slice"===Xe?rn.dx:"dice"===Xe?rn.dy:"slice-dice"===Xe?1&jt.depth?rn.dy:rn.dx:Math.min(rn.dx,rn.dy);for(nt(On,rn.dx*rn.dy/jt.value),En.area=0;(sn=On.length)>0;)En.push(Ut=On[sn-1]),En.area+=Ut.area,"squarify"!==Xe||(gn=Mt(En,tr))<=$n?(On.pop(),$n=gn):(En.area-=En.pop().area,Bt(En,tr,rn,!1),tr=Math.min(rn.dx,rn.dy),En.length=En.area=0,$n=1/0);En.length&&(Bt(En,tr,rn,!0),En.length=En.area=0),Xt.forEach(lt)}}function xt(jt){var Xt=jt.children;if(Xt&&Xt.length){var Ut,gn=Ne(jt),sn=Xt.slice(),rn=[];for(nt(sn,gn.dx*gn.dy/jt.value),rn.area=0;Ut=sn.pop();)rn.push(Ut),rn.area+=Ut.area,null!=Ut.z&&(Bt(rn,Ut.z?gn.dx:gn.dy,gn,!sn.length),rn.length=rn.area=0);Xt.forEach(xt)}}function Mt(jt,Xt){for(var Ut,gn=jt.area,sn=0,rn=1/0,En=-1,On=jt.length;++En<On;)(Ut=jt[En].area)&&(Ut<rn&&(rn=Ut),Ut>sn&&(sn=Ut));return Xt*=Xt,(gn*=gn)?Math.max(Xt*sn*Qe/gn,gn/(Xt*rn*Qe)):1/0}function Bt(jt,Xt,Ut,gn){var sn,rn=-1,En=jt.length,On=Ut.x,$n=Ut.y,tr=Xt?ce(jt.area/Xt):0;if(Xt==Ut.dx){for((gn||tr>Ut.dy)&&(tr=Ut.dy);++rn<En;)(sn=jt[rn]).x=On,sn.y=$n,sn.dy=tr,On+=sn.dx=Math.min(Ut.x+Ut.dx-On,tr?ce(sn.area/tr):0);sn.z=!0,sn.dx+=Ut.x+Ut.dx-On,Ut.y+=tr,Ut.dy-=tr}else{for((gn||tr>Ut.dx)&&(tr=Ut.dx);++rn<En;)(sn=jt[rn]).x=On,sn.y=$n,sn.dx=tr,$n+=sn.dy=Math.min(Ut.y+Ut.dy-$n,tr?ce(sn.area/tr):0);sn.z=!1,sn.dy+=Ut.y+Ut.dy-$n,Ut.x+=tr,Ut.dx-=tr}}function Vt(jt){var Xt=V||ie(jt),Ut=Xt[0];return Ut.x=Ut.y=0,Ut.value?(Ut.dx=Me[0],Ut.dy=Me[1]):Ut.dx=Ut.dy=0,V&&ie.revalue(Ut),nt([Ut],Ut.dx*Ut.dy/Ut.value),(V?xt:lt)(Ut),$e&&(V=Xt),Xt}return Vt.size=function(jt){return arguments.length?(Me=jt,Vt):Me},Vt.padding=function(jt){if(!arguments.length)return Ce;var Ut;return Ne=null==(Ce=jt)?tu:"function"==(Ut=typeof jt)?function(gn){var sn=jt.call(Vt,gn,gn.depth);return null==sn?tu(gn):bs(gn,"number"==typeof sn?[sn,sn,sn,sn]:sn)}:("number"===Ut&&(jt=[jt,jt,jt,jt]),function Xt(gn){return bs(gn,jt)}),Vt},Vt.round=function(jt){return arguments.length?(ce=jt?Math.round:Number,Vt):ce!=Number},Vt.sticky=function(jt){return arguments.length?($e=jt,V=null,Vt):$e},Vt.ratio=function(jt){return arguments.length?(Qe=jt,Vt):Qe},Vt.mode=function(jt){return arguments.length?(Xe=jt+"",Vt):Xe},Br(Vt,ie)},f.random={normal:function(V,ie){var ce=arguments.length;return ce<2&&(ie=1),ce<1&&(V=0),function(){var Me,Ce,Ne;do{Ne=(Me=2*Math.random()-1)*Me+(Ce=2*Math.random()-1)*Ce}while(!Ne||Ne>1);return V+ie*Me*Math.sqrt(-2*Math.log(Ne)/Ne)}},logNormal:function(){var V=f.random.normal.apply(f,arguments);return function(){return Math.exp(V())}},bates:function(V){var ie=f.random.irwinHall(V);return function(){return ie()/V}},irwinHall:function(V){return function(){for(var ie=0,ce=0;ce<V;ce++)ie+=Math.random();return ie}}},f.scale={};var Zs={floor:F,ceil:F};function Ml(V,ie,ce,Me){var Ce=[],Ne=[],$e=0,Xe=Math.min(V.length,ie.length)-1;for(V[Xe]<V[0]&&(V=V.slice().reverse(),ie=ie.slice().reverse());++$e<=Xe;)Ce.push(ce(V[$e-1],V[$e])),Ne.push(Me(ie[$e-1],ie[$e]));return function(Qe){var nt=f.bisect(V,Qe,1,Xe)-1;return Ne[nt](Ce[nt](Qe))}}function fo(V,ie,ce,Me){var Ce,Ne;function $e(){var Qe=Math.min(V.length,ie.length)>2?Ml:pa,nt=Me?_u:Fl;return Ce=Qe(V,ie,nt,ce),Ne=Qe(ie,V,nt,hl),Xe}function Xe(Qe){return Ce(Qe)}return Xe.invert=function(Qe){return Ne(Qe)},Xe.domain=function(Qe){return arguments.length?(V=Qe.map(Number),$e()):V},Xe.range=function(Qe){return arguments.length?(ie=Qe,$e()):ie},Xe.rangeRound=function(Qe){return Xe.range(Qe).interpolate(vl)},Xe.clamp=function(Qe){return arguments.length?(Me=Qe,$e()):Me},Xe.interpolate=function(Qe){return arguments.length?(ce=Qe,$e()):ce},Xe.ticks=function(Qe){return ja(V,Qe)},Xe.tickFormat=function(Qe,nt){return d3_scale_linearTickFormat(V,Qe,nt)},Xe.nice=function(Qe){return La(V,Qe),$e()},Xe.copy=function(){return fo(V,ie,ce,Me)},$e()}function Ra(V,ie){return f.rebind(V,ie,"range","rangeRound","interpolate","clamp")}function La(V,ie){return va(V,Co(ia(V,ie)[2])),va(V,Co(ia(V,ie)[2])),V}function ia(V,ie){null==ie&&(ie=10);var ce=ha(V),Me=ce[1]-ce[0],Ce=Math.pow(10,Math.floor(Math.log(Me/ie)/Math.LN10)),Ne=ie/Me*Ce;return Ne<=.15?Ce*=10:Ne<=.35?Ce*=5:Ne<=.75&&(Ce*=2),ce[0]=Math.ceil(ce[0]/Ce)*Ce,ce[1]=Math.floor(ce[1]/Ce)*Ce+.5*Ce,ce[2]=Ce,ce}function ja(V,ie){return f.range.apply(f,ia(V,ie))}function ku(V,ie,ce,Me){function Ce(Xe){return(ce?Math.log(Xe<0?0:Xe):-Math.log(Xe>0?0:-Xe))/Math.log(ie)}function Ne(Xe){return ce?Math.pow(ie,Xe):-Math.pow(ie,-Xe)}function $e(Xe){return V(Ce(Xe))}return $e.invert=function(Xe){return Ne(V.invert(Xe))},$e.domain=function(Xe){return arguments.length?(ce=Xe[0]>=0,V.domain((Me=Xe.map(Number)).map(Ce)),$e):Me},$e.base=function(Xe){return arguments.length?(ie=+Xe,V.domain(Me.map(Ce)),$e):ie},$e.nice=function(){var Xe=va(Me.map(Ce),ce?Math:Al);return V.domain(Xe),Me=Xe.map(Ne),$e},$e.ticks=function(){var Xe=ha(Me),Qe=[],nt=Xe[0],lt=Xe[1],xt=Math.floor(Ce(nt)),Mt=Math.ceil(Ce(lt)),Bt=ie%1?2:ie;if(isFinite(Mt-xt)){if(ce){for(;xt<Mt;xt++)for(var Vt=1;Vt<Bt;Vt++)Qe.push(Ne(xt)*Vt);Qe.push(Ne(xt))}else for(Qe.push(Ne(xt));xt++<Mt;)for(Vt=Bt-1;Vt>0;Vt--)Qe.push(Ne(xt)*Vt);for(xt=0;Qe[xt]<nt;xt++);for(Mt=Qe.length;Qe[Mt-1]>lt;Mt--);Qe=Qe.slice(xt,Mt)}return Qe},$e.copy=function(){return ku(V.copy(),ie,ce,Me)},Ra($e,V)}f.scale.linear=function(){return fo([0,1],[0,1],hl,!1)},f.scale.log=function(){return ku(f.scale.linear().domain([0,1]),10,!0,[1,10])};var Al={floor:function(V){return-Math.ceil(-V)},ceil:function(V){return-Math.floor(-V)}};function ya(V,ie,ce){var Me=Is(ie),Ce=Is(1/ie);function Ne($e){return V(Me($e))}return Ne.invert=function($e){return Ce(V.invert($e))},Ne.domain=function($e){return arguments.length?(V.domain((ce=$e.map(Number)).map(Me)),Ne):ce},Ne.ticks=function($e){return ja(ce,$e)},Ne.tickFormat=function($e,Xe){return d3_scale_linearTickFormat(ce,$e,Xe)},Ne.nice=function($e){return Ne.domain(La(ce,$e))},Ne.exponent=function($e){return arguments.length?(Me=Is(ie=$e),Ce=Is(1/ie),V.domain(ce.map(Me)),Ne):ie},Ne.copy=function(){return ya(V.copy(),ie,ce)},Ra(Ne,V)}function Is(V){return function(ie){return ie<0?-Math.pow(-ie,V):Math.pow(ie,V)}}function Ys(V,ie){var ce,Me,Ce;function Ne(Xe){return Me[((ce.get(Xe)||("range"===ie.t?ce.set(Xe,V.push(Xe)):NaN))-1)%Me.length]}function $e(Xe,Qe){return f.range(V.length).map(function(nt){return Xe+Qe*nt})}return Ne.domain=function(Xe){if(!arguments.length)return V;V=[],ce=new b;for(var Qe,nt=-1,lt=Xe.length;++nt<lt;)ce.has(Qe=Xe[nt])||ce.set(Qe,V.push(Qe));return Ne[ie.t].apply(Ne,ie.a)},Ne.range=function(Xe){return arguments.length?(Me=Xe,Ce=0,ie={t:"range",a:arguments},Ne):Me},Ne.rangePoints=function(Xe,Qe){arguments.length<2&&(Qe=0);var nt=Xe[0],lt=Xe[1],xt=V.length<2?(nt=(nt+lt)/2,0):(lt-nt)/(V.length-1+Qe);return Me=$e(nt+xt*Qe/2,xt),Ce=0,ie={t:"rangePoints",a:arguments},Ne},Ne.rangeRoundPoints=function(Xe,Qe){arguments.length<2&&(Qe=0);var nt=Xe[0],lt=Xe[1],xt=V.length<2?(nt=lt=Math.round((nt+lt)/2),0):(lt-nt)/(V.length-1+Qe)|0;return Me=$e(nt+Math.round(xt*Qe/2+(lt-nt-(V.length-1+Qe)*xt)/2),xt),Ce=0,ie={t:"rangeRoundPoints",a:arguments},Ne},Ne.rangeBands=function(Xe,Qe,nt){arguments.length<2&&(Qe=0),arguments.length<3&&(nt=Qe);var lt=Xe[1]<Xe[0],xt=Xe[lt-0],Mt=(Xe[1-lt]-xt)/(V.length-Qe+2*nt);return Me=$e(xt+Mt*nt,Mt),lt&&Me.reverse(),Ce=Mt*(1-Qe),ie={t:"rangeBands",a:arguments},Ne},Ne.rangeRoundBands=function(Xe,Qe,nt){arguments.length<2&&(Qe=0),arguments.length<3&&(nt=Qe);var lt=Xe[1]<Xe[0],xt=Xe[lt-0],Mt=Xe[1-lt],Bt=Math.floor((Mt-xt)/(V.length-Qe+2*nt));return Me=$e(xt+Math.round((Mt-xt-(V.length-Qe)*Bt)/2),Bt),lt&&Me.reverse(),Ce=Math.round(Bt*(1-Qe)),ie={t:"rangeRoundBands",a:arguments},Ne},Ne.rangeBand=function(){return Ce},Ne.rangeExtent=function(){return ha(ie.a[0])},Ne.copy=function(){return Ys(V,ie)},Ne.domain(V)}f.scale.pow=function(){return ya(f.scale.linear(),1,[0,1])},f.scale.sqrt=function(){return f.scale.pow().exponent(.5)},f.scale.ordinal=function(){return Ys([],{t:"range",a:[[]]})},f.scale.category10=function(){return f.scale.ordinal().range(Rc)},f.scale.category20=function(){return f.scale.ordinal().range(Xs)},f.scale.category20b=function(){return f.scale.ordinal().range(_a)},f.scale.category20c=function(){return f.scale.ordinal().range(ni)};var Rc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(on),Xs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(on),_a=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(on),ni=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(on);function Ua(V,ie){var ce;function Me(){var Ne=0,$e=ie.length;for(ce=[];++Ne<$e;)ce[Ne-1]=f.quantile(V,Ne/$e);return Ce}function Ce(Ne){if(!isNaN(Ne=+Ne))return ie[f.bisect(ce,Ne)]}return Ce.domain=function(Ne){return arguments.length?(V=Ne.map(m).filter(h).sort(d),Me()):V},Ce.range=function(Ne){return arguments.length?(ie=Ne,Me()):ie},Ce.quantiles=function(){return ce},Ce.invertExtent=function(Ne){return(Ne=ie.indexOf(Ne))<0?[NaN,NaN]:[Ne>0?ce[Ne-1]:V[0],Ne<ce.length?ce[Ne]:V[V.length-1]]},Ce.copy=function(){return Ua(V,ie)},Me()}function vc(V,ie,ce){var Me,Ce;function Ne(Xe){return ce[Math.max(0,Math.min(Ce,Math.floor(Me*(Xe-V))))]}function $e(){return Me=ce.length/(ie-V),Ce=ce.length-1,Ne}return Ne.domain=function(Xe){return arguments.length?(V=+Xe[0],ie=+Xe[Xe.length-1],$e()):[V,ie]},Ne.range=function(Xe){return arguments.length?(ce=Xe,$e()):ce},Ne.invertExtent=function(Xe){return[Xe=(Xe=ce.indexOf(Xe))<0?NaN:Xe/Me+V,Xe+1/Me]},Ne.copy=function(){return vc(V,ie,ce)},$e()}function Lc(V,ie){function ce(Me){if(Me<=Me)return ie[f.bisect(V,Me)]}return ce.domain=function(Me){return arguments.length?(V=Me,ce):V},ce.range=function(Me){return arguments.length?(ie=Me,ce):ie},ce.invertExtent=function(Me){return Me=ie.indexOf(Me),[V[Me-1],V[Me]]},ce.copy=function(){return Lc(V,ie)},ce}function ru(V){function ie(ce){return+ce}return ie.invert=ie,ie.domain=ie.range=function(ce){return arguments.length?(V=ce.map(ie),ie):V},ie.ticks=function(ce){return ja(V,ce)},ie.tickFormat=function(ce,Me){return d3_scale_linearTickFormat(V,ce,Me)},ie.copy=function(){return ru(V)},ie}function iu(){return 0}f.scale.quantile=function(){return Ua([],[])},f.scale.quantize=function(){return vc(0,1,[0,1])},f.scale.threshold=function(){return Lc([.5],[0,1])},f.scale.identity=function(){return ru([0,1])},f.svg={},f.svg.arc=function(){var V=Yr,ie=kl,ce=iu,Me=ou,Ce=Ps,Ne=ec,$e=Li;function Xe(){var nt=Math.max(0,+V.apply(this,arguments)),lt=Math.max(0,+ie.apply(this,arguments)),xt=Ce.apply(this,arguments)-tt,Mt=Ne.apply(this,arguments)-tt,Bt=Math.abs(Mt-xt),Vt=xt>Mt?0:1;if(lt<nt&&(jt=lt,lt=nt,nt=jt),Bt>=Lt)return Qe(lt,Vt)+(nt?Qe(nt,1-Vt):"")+"Z";var jt,Xt,Ut,gn,sn,rn,En,On,$n,tr,ur,yr,Cr=0,Ar=0,Fr=[];if((gn=(+$e.apply(this,arguments)||0)/2)&&(Ut=Me===ou?Math.sqrt(nt*nt+lt*lt):+Me.apply(this,arguments),Vt||(Ar*=-1),lt&&(Ar=it(Ut/lt*Math.sin(gn))),nt&&(Cr=it(Ut/nt*Math.sin(gn)))),lt){sn=lt*Math.cos(xt+Ar),rn=lt*Math.sin(xt+Ar),En=lt*Math.cos(Mt-Ar),On=lt*Math.sin(Mt-Ar);var $r=Math.abs(Mt-xt-2*Ar)<=Ft?0:1;if(Ar&&Rs(sn,rn,En,On)===Vt^$r){var hi=(xt+Mt)/2;sn=lt*Math.cos(hi),rn=lt*Math.sin(hi),En=On=null}}else sn=rn=0;if(nt){$n=nt*Math.cos(Mt-Cr),tr=nt*Math.sin(Mt-Cr),ur=nt*Math.cos(xt+Cr),yr=nt*Math.sin(xt+Cr);var ir=Math.abs(xt-Mt+2*Cr)<=Ft?0:1;if(Cr&&Rs($n,tr,ur,yr)===1-Vt^ir){var Tr=(xt+Mt)/2;$n=nt*Math.cos(Tr),tr=nt*Math.sin(Tr),ur=yr=null}}else $n=tr=0;if(Bt>pt&&(jt=Math.min(Math.abs(lt-nt)/2,+ce.apply(this,arguments)))>.001){Xt=nt<lt^Vt?0:1;var zr=jt,Kr=jt;if(Bt<Ft){var ai=null==ur?[$n,tr]:null==En?[sn,rn]:Nt([sn,rn],[ur,yr],[En,On],[$n,tr]),vi=sn-ai[0],Bi=rn-ai[1],ao=En-ai[0],_o=On-ai[1],Po=1/Math.sin(Math.acos((vi*ao+Bi*_o)/(Math.sqrt(vi*vi+Bi*Bi)*Math.sqrt(ao*ao+_o*_o)))/2),to=Math.sqrt(ai[0]*ai[0]+ai[1]*ai[1]);Kr=Math.min(jt,(nt-to)/(Po-1)),zr=Math.min(jt,(lt-to)/(Po+1))}if(null!=En){var Ho=Ls(null==ur?[$n,tr]:[ur,yr],[sn,rn],lt,zr,Vt),Ta=Ls([En,On],[$n,tr],lt,zr,Vt);jt===zr?Fr.push("M",Ho[0],"A",zr,",",zr," 0 0,",Xt," ",Ho[1],"A",lt,",",lt," 0 ",1-Vt^Rs(Ho[1][0],Ho[1][1],Ta[1][0],Ta[1][1]),",",Vt," ",Ta[1],"A",zr,",",zr," 0 0,",Xt," ",Ta[0]):Fr.push("M",Ho[0],"A",zr,",",zr," 0 1,",Xt," ",Ta[0])}else Fr.push("M",sn,",",rn);if(null!=ur){var la=Ls([sn,rn],[ur,yr],nt,-Kr,Vt),Xo=Ls([$n,tr],null==En?[sn,rn]:[En,On],nt,-Kr,Vt);jt===Kr?Fr.push("L",Xo[0],"A",Kr,",",Kr," 0 0,",Xt," ",Xo[1],"A",nt,",",nt," 0 ",Vt^Rs(Xo[1][0],Xo[1][1],la[1][0],la[1][1]),",",1-Vt," ",la[1],"A",Kr,",",Kr," 0 0,",Xt," ",la[0]):Fr.push("L",Xo[0],"A",Kr,",",Kr," 0 0,",Xt," ",la[0])}else Fr.push("L",$n,",",tr)}else Fr.push("M",sn,",",rn),null!=En&&Fr.push("A",lt,",",lt," 0 ",$r,",",Vt," ",En,",",On),Fr.push("L",$n,",",tr),null!=ur&&Fr.push("A",nt,",",nt," 0 ",ir,",",1-Vt," ",ur,",",yr);return Fr.push("Z"),Fr.join("")}function Qe(nt,lt){return"M0,"+nt+"A"+nt+","+nt+" 0 1,"+lt+" 0,"+-nt+"A"+nt+","+nt+" 0 1,"+lt+" 0,"+nt}return Xe.innerRadius=function(nt){return arguments.length?(V=Zn(nt),Xe):V},Xe.outerRadius=function(nt){return arguments.length?(ie=Zn(nt),Xe):ie},Xe.cornerRadius=function(nt){return arguments.length?(ce=Zn(nt),Xe):ce},Xe.padRadius=function(nt){return arguments.length?(Me=nt==ou?ou:Zn(nt),Xe):Me},Xe.startAngle=function(nt){return arguments.length?(Ce=Zn(nt),Xe):Ce},Xe.endAngle=function(nt){return arguments.length?(Ne=Zn(nt),Xe):Ne},Xe.padAngle=function(nt){return arguments.length?($e=Zn(nt),Xe):$e},Xe.centroid=function(){var nt=(+V.apply(this,arguments)+ +ie.apply(this,arguments))/2,lt=(+Ce.apply(this,arguments)+ +Ne.apply(this,arguments))/2-tt;return[Math.cos(lt)*nt,Math.sin(lt)*nt]},Xe};var ou="auto";function Yr(V){return V.innerRadius}function kl(V){return V.outerRadius}function Ps(V){return V.startAngle}function ec(V){return V.endAngle}function Li(V){return V&&V.padAngle}function Rs(V,ie,ce,Me){return(V-ce)*ie-(ie-Me)*V>0?0:1}function Ls(V,ie,ce,Me,Ce){var Ne=V[0]-ie[0],$e=V[1]-ie[1],Xe=(Ce?Me:-Me)/Math.sqrt(Ne*Ne+$e*$e),Qe=Xe*$e,nt=-Xe*Ne,lt=V[0]+Qe,xt=V[1]+nt,Mt=ie[0]+Qe,Bt=ie[1]+nt,Vt=(lt+Mt)/2,jt=(xt+Bt)/2,Xt=Mt-lt,Ut=Bt-xt,gn=Xt*Xt+Ut*Ut,sn=ce-Me,rn=lt*Bt-Mt*xt,En=(Ut<0?-1:1)*Math.sqrt(Math.max(0,sn*sn*gn-rn*rn)),On=(rn*Ut-Xt*En)/gn,$n=(-rn*Xt-Ut*En)/gn,tr=(rn*Ut+Xt*En)/gn,ur=(-rn*Xt+Ut*En)/gn,yr=On-Vt,Cr=$n-jt,Ar=tr-Vt,Fr=ur-jt;return yr*yr+Cr*Cr>Ar*Ar+Fr*Fr&&(On=tr,$n=ur),[[On-Qe,$n-nt],[On*ce/sn,$n*ce/sn]]}function ws(){return!0}function Ks(V){var ie=or,ce=Yn,Me=ws,Ce=oa,Ne=Ce.key,$e=.7;function Xe(Qe){var nt,lt=[],xt=[],Mt=-1,Bt=Qe.length,Vt=Zn(ie),jt=Zn(ce);function Xt(){lt.push("M",Ce(V(xt),$e))}for(;++Mt<Bt;)Me.call(this,nt=Qe[Mt],Mt)?xt.push([+Vt.call(this,nt,Mt),+jt.call(this,nt,Mt)]):xt.length&&(Xt(),xt=[]);return xt.length&&Xt(),lt.length?lt.join(""):null}return Xe.x=function(Qe){return arguments.length?(ie=Qe,Xe):ie},Xe.y=function(Qe){return arguments.length?(ce=Qe,Xe):ce},Xe.defined=function(Qe){return arguments.length?(Me=Qe,Xe):Me},Xe.interpolate=function(Qe){return arguments.length?(Ne="function"==typeof Qe?Ce=Qe:(Ce=Sl.get(Qe)||oa).key,Xe):Ne},Xe.tension=function(Qe){return arguments.length?($e=Qe,Xe):$e},Xe}f.svg.line=function(){return Ks(F)};var Sl=f.map({linear:oa,"linear-closed":Vl,step:function(V){for(var ie=0,ce=V.length,Me=V[0],Ce=[Me[0],",",Me[1]];++ie<ce;)Ce.push("H",(Me[0]+(Me=V[ie])[0])/2,"V",Me[1]);return ce>1&&Ce.push("H",Me[0]),Ce.join("")},"step-before":Vu,"step-after":ho,basis:po,"basis-open":function(V){if(V.length<4)return oa(V);for(var ie,ce=[],Me=-1,Ce=V.length,Ne=[0],$e=[0];++Me<3;)Ne.push((ie=V[Me])[0]),$e.push(ie[1]);for(ce.push(aa(Uo,Ne)+","+aa(Uo,$e)),--Me;++Me<Ce;)ie=V[Me],Ne.shift(),Ne.push(ie[0]),$e.shift(),$e.push(ie[1]),eo(ce,Ne,$e);return ce.join("")},"basis-closed":function(V){for(var ie,ce,Me=-1,Ce=V.length,Ne=Ce+4,$e=[],Xe=[];++Me<4;)$e.push((ce=V[Me%Ce])[0]),Xe.push(ce[1]);for(ie=[aa(Uo,$e),",",aa(Uo,Xe)],--Me;++Me<Ne;)ce=V[Me%Ce],$e.shift(),$e.push(ce[0]),Xe.shift(),Xe.push(ce[1]),eo(ie,$e,Xe);return ie.join("")},bundle:function(V,ie){var ce=V.length-1;if(ce)for(var Me,Ce,Ne=V[0][0],$e=V[0][1],Xe=V[ce][0]-Ne,Qe=V[ce][1]-$e,nt=-1;++nt<=ce;)(Me=V[nt])[0]=ie*Me[0]+(1-ie)*(Ne+(Ce=nt/ce)*Xe),Me[1]=ie*Me[1]+(1-ie)*($e+Ce*Qe);return po(V)},cardinal:function(V,ie){return V.length<3?oa(V):V[0]+oo(V,Hu(V,ie))},"cardinal-open":function(V,ie){return V.length<4?oa(V):V[1]+oo(V.slice(1,-1),Hu(V,ie))},"cardinal-closed":function(V,ie){return V.length<3?Vl(V):V[0]+oo((V.push(V[0]),V),Hu([V[V.length-2]].concat(V,[V[1]]),ie))},monotone:function(V){return V.length<3?oa(V):V[0]+oo(V,function(ie){for(var ce,Me,Ce,Ne,$e=[],Xe=function(lt){for(var xt=0,Mt=lt.length-1,Bt=[],Vt=lt[0],jt=lt[1],Xt=Bt[0]=xa(Vt,jt);++xt<Mt;)Bt[xt]=(Xt+(Xt=xa(Vt=jt,jt=lt[xt+1])))/2;return Bt[xt]=Xt,Bt}(ie),Qe=-1,nt=ie.length-1;++Qe<nt;)ce=xa(ie[Qe],ie[Qe+1]),w(ce)<pt?Xe[Qe]=Xe[Qe+1]=0:(Ne=(Me=Xe[Qe]/ce)*Me+(Ce=Xe[Qe+1]/ce)*Ce)>9&&(Ne=3*ce/Math.sqrt(Ne),Xe[Qe]=Ne*Me,Xe[Qe+1]=Ne*Ce);for(Qe=-1;++Qe<=nt;)Ne=(ie[Math.min(nt,Qe+1)][0]-ie[Math.max(0,Qe-1)][0])/(6*(1+Xe[Qe]*Xe[Qe])),$e.push([Ne||0,Xe[Qe]*Ne||0]);return $e}(V))}});function oa(V){return V.length>1?V.join("L"):V+"Z"}function Vl(V){return V.join("L")+"Z"}function Vu(V){for(var ie=0,ce=V.length,Me=V[0],Ce=[Me[0],",",Me[1]];++ie<ce;)Ce.push("V",(Me=V[ie])[1],"H",Me[0]);return Ce.join("")}function ho(V){for(var ie=0,ce=V.length,Me=V[0],Ce=[Me[0],",",Me[1]];++ie<ce;)Ce.push("H",(Me=V[ie])[0],"V",Me[1]);return Ce.join("")}function oo(V,ie){if(ie.length<1||V.length!=ie.length&&V.length!=ie.length+2)return oa(V);var ce=V.length!=ie.length,Me="",Ce=V[0],Ne=V[1],$e=ie[0],Xe=$e,Qe=1;if(ce&&(Me+="Q"+(Ne[0]-2*$e[0]/3)+","+(Ne[1]-2*$e[1]/3)+","+Ne[0]+","+Ne[1],Ce=V[1],Qe=2),ie.length>1){Ne=V[Qe],Qe++,Me+="C"+(Ce[0]+$e[0])+","+(Ce[1]+$e[1])+","+(Ne[0]-(Xe=ie[1])[0])+","+(Ne[1]-Xe[1])+","+Ne[0]+","+Ne[1];for(var nt=2;nt<ie.length;nt++,Qe++)Me+="S"+((Ne=V[Qe])[0]-(Xe=ie[nt])[0])+","+(Ne[1]-Xe[1])+","+Ne[0]+","+Ne[1]}if(ce){var lt=V[Qe];Me+="Q"+(Ne[0]+2*Xe[0]/3)+","+(Ne[1]+2*Xe[1]/3)+","+lt[0]+","+lt[1]}return Me}function Hu(V,ie){for(var ce,Me=[],Ce=(1-ie)/2,Ne=V[0],$e=V[1],Xe=1,Qe=V.length;++Xe<Qe;)ce=Ne,Ne=$e,Me.push([Ce*(($e=V[Xe])[0]-ce[0]),Ce*($e[1]-ce[1])]);return Me}function po(V){if(V.length<3)return oa(V);var ie=1,ce=V.length,Me=V[0],Ce=Me[0],Ne=Me[1],$e=[Ce,Ce,Ce,(Me=V[1])[0]],Xe=[Ne,Ne,Ne,Me[1]],Qe=[Ce,",",Ne,"L",aa(Uo,$e),",",aa(Uo,Xe)];for(V.push(V[ce-1]);++ie<=ce;)Me=V[ie],$e.shift(),$e.push(Me[0]),Xe.shift(),Xe.push(Me[1]),eo(Qe,$e,Xe);return V.pop(),Qe.push("L",Me),Qe.join("")}function aa(V,ie){return V[0]*ie[0]+V[1]*ie[1]+V[2]*ie[2]+V[3]*ie[3]}Sl.forEach(function(V,ie){ie.key=V,ie.closed=/-closed$/.test(V)});var Ts=[0,2/3,1/3,0],Ja=[0,1/3,2/3,0],Uo=[0,1/6,2/3,1/6];function eo(V,ie,ce){V.push("C",aa(Ts,ie),",",aa(Ts,ce),",",aa(Ja,ie),",",aa(Ja,ce),",",aa(Uo,ie),",",aa(Uo,ce))}function xa(V,ie){return(ie[1]-V[1])/(ie[0]-V[0])}function Vo(V){for(var ie,ce,Me,Ce=-1,Ne=V.length;++Ce<Ne;)ce=(ie=V[Ce])[0],Me=ie[1]-tt,ie[0]=ce*Math.cos(Me),ie[1]=ce*Math.sin(Me);return V}function Js(V){var ie=or,ce=or,Me=0,Ce=Yn,Ne=ws,$e=oa,Xe=$e.key,Qe=$e,nt="L",lt=.7;function xt(Mt){var Bt,Vt,jt,Xt=[],Ut=[],gn=[],sn=-1,rn=Mt.length,En=Zn(ie),On=Zn(Me),$n=ie===ce?function(){return Vt}:Zn(ce),tr=Me===Ce?function(){return jt}:Zn(Ce);function ur(){Xt.push("M",$e(V(gn),lt),nt,Qe(V(Ut.reverse()),lt),"Z")}for(;++sn<rn;)Ne.call(this,Bt=Mt[sn],sn)?(Ut.push([Vt=+En.call(this,Bt,sn),jt=+On.call(this,Bt,sn)]),gn.push([+$n.call(this,Bt,sn),+tr.call(this,Bt,sn)])):Ut.length&&(ur(),Ut=[],gn=[]);return Ut.length&&ur(),Xt.length?Xt.join(""):null}return xt.x=function(Mt){return arguments.length?(ie=ce=Mt,xt):ce},xt.x0=function(Mt){return arguments.length?(ie=Mt,xt):ie},xt.x1=function(Mt){return arguments.length?(ce=Mt,xt):ce},xt.y=function(Mt){return arguments.length?(Me=Ce=Mt,xt):Ce},xt.y0=function(Mt){return arguments.length?(Me=Mt,xt):Me},xt.y1=function(Mt){return arguments.length?(Ce=Mt,xt):Ce},xt.defined=function(Mt){return arguments.length?(Ne=Mt,xt):Ne},xt.interpolate=function(Mt){return arguments.length?(Xe="function"==typeof Mt?$e=Mt:($e=Sl.get(Mt)||oa).key,Qe=$e.reverse||$e,nt=$e.closed?"M":"L",xt):Xe},xt.tension=function(Mt){return arguments.length?(lt=Mt,xt):lt},xt}function Su(V){return V.source}function au(V){return V.target}function ls(V){return V.radius}function Yo(V){return[V.x,V.y]}function sa(){return 64}function Sr(){return"circle"}function si(V){var ie=Math.sqrt(V/Ft);return"M0,"+ie+"A"+ie+","+ie+" 0 1,1 0,"+-ie+"A"+ie+","+ie+" 0 1,1 0,"+ie+"Z"}f.svg.line.radial=function(){var V=Ks(Vo);return V.radius=V.x,delete V.x,V.angle=V.y,delete V.y,V},Vu.reverse=ho,ho.reverse=Vu,f.svg.area=function(){return Js(F)},f.svg.area.radial=function(){var V=Js(Vo);return V.radius=V.x,delete V.x,V.innerRadius=V.x0,delete V.x0,V.outerRadius=V.x1,delete V.x1,V.angle=V.y,delete V.y,V.startAngle=V.y0,delete V.y0,V.endAngle=V.y1,delete V.y1,V},f.svg.chord=function(){var V=Su,ie=au,ce=ls,Me=Ps,Ce=ec;function Ne(nt,lt){var xt,Mt,Bt=$e(this,V,nt,lt),Vt=$e(this,ie,nt,lt);return"M"+Bt.p0+Xe(Bt.r,Bt.p1,Bt.a1-Bt.a0)+((xt=Bt).a0==(Mt=Vt).a0&&xt.a1==Mt.a1?Qe(0,0,0,Bt.p0):Qe(0,0,0,Vt.p0)+Xe(Vt.r,Vt.p1,Vt.a1-Vt.a0)+Qe(0,0,0,Bt.p0))+"Z"}function $e(nt,lt,xt,Mt){var Bt=lt.call(nt,xt,Mt),Vt=ce.call(nt,Bt,Mt),jt=Me.call(nt,Bt,Mt)-tt,Xt=Ce.call(nt,Bt,Mt)-tt;return{r:Vt,a0:jt,a1:Xt,p0:[Vt*Math.cos(jt),Vt*Math.sin(jt)],p1:[Vt*Math.cos(Xt),Vt*Math.sin(Xt)]}}function Xe(nt,lt,xt){return"A"+nt+","+nt+" 0 "+ +(xt>Ft)+",1 "+lt}function Qe(nt,lt,xt,Mt){return"Q 0,0 "+Mt}return Ne.radius=function(nt){return arguments.length?(ce=Zn(nt),Ne):ce},Ne.source=function(nt){return arguments.length?(V=Zn(nt),Ne):V},Ne.target=function(nt){return arguments.length?(ie=Zn(nt),Ne):ie},Ne.startAngle=function(nt){return arguments.length?(Me=Zn(nt),Ne):Me},Ne.endAngle=function(nt){return arguments.length?(Ce=Zn(nt),Ne):Ce},Ne},f.svg.diagonal=function(){var V=Su,ie=au,ce=Yo;function Me(Ce,Ne){var $e=V.call(this,Ce,Ne),Xe=ie.call(this,Ce,Ne),Qe=($e.y+Xe.y)/2,nt=[$e,{x:$e.x,y:Qe},{x:Xe.x,y:Qe},Xe];return"M"+(nt=nt.map(ce))[0]+"C"+nt[1]+" "+nt[2]+" "+nt[3]}return Me.source=function(Ce){return arguments.length?(V=Zn(Ce),Me):V},Me.target=function(Ce){return arguments.length?(ie=Zn(Ce),Me):ie},Me.projection=function(Ce){return arguments.length?(ce=Ce,Me):ce},Me},f.svg.diagonal.radial=function(){var V=f.svg.diagonal(),ie=Yo,ce=V.projection;return V.projection=function(Me){return arguments.length?ce((Ce=ie=Me,function(){var Ne=Ce.apply(this,arguments),$e=Ne[0],Xe=Ne[1]-tt;return[$e*Math.cos(Xe),$e*Math.sin(Xe)]})):ie;var Ce},V},f.svg.symbol=function(){var V=Sr,ie=sa;function ce(Me,Ce){return(tc.get(V.call(this,Me,Ce))||si)(ie.call(this,Me,Ce))}return ce.type=function(Me){return arguments.length?(V=Zn(Me),ce):V},ce.size=function(Me){return arguments.length?(ie=Zn(Me),ce):ie},ce};var tc=f.map({circle:si,cross:function(V){var ie=Math.sqrt(V/5)/2;return"M"+-3*ie+","+-ie+"H"+-ie+"V"+-3*ie+"H"+ie+"V"+-ie+"H"+3*ie+"V"+ie+"H"+ie+"V"+3*ie+"H"+-ie+"V"+ie+"H"+-3*ie+"Z"},diamond:function(V){var ie=Math.sqrt(V/(2*su)),ce=ie*su;return"M0,"+-ie+"L"+ce+",0 0,"+ie+" "+-ce+",0Z"},square:function(V){var ie=Math.sqrt(V)/2;return"M"+-ie+","+-ie+"L"+ie+","+-ie+" "+ie+","+ie+" "+-ie+","+ie+"Z"},"triangle-down":function(V){var ie=Math.sqrt(V/Va),ce=ie*Va/2;return"M0,"+ce+"L"+ie+","+-ce+" "+-ie+","+-ce+"Z"},"triangle-up":function(V){var ie=Math.sqrt(V/Va),ce=ie*Va/2;return"M0,"+-ce+"L"+ie+","+ce+" "+-ie+","+ce+"Z"}});f.svg.symbolTypes=tc.keys();var Va=Math.sqrt(3),su=Math.tan(30*rt);we.transition=function(V){for(var ie,ce,Me=lu||++_i,Ce=uu(V),Ne=[],$e=kr||{time:Date.now(),ease:Gs,delay:0,duration:250},Xe=-1,Qe=this.length;++Xe<Qe;){Ne.push(ie=[]);for(var nt=this[Xe],lt=-1,xt=nt.length;++lt<xt;)(ce=nt[lt])&&El(ce,lt,Ce,Me,$e),ie.push(ce)}return wa(Ne,Ce,Me)},we.interrupt=function(V){return this.each(null==V?ba:Eu(uu(V)))};var ba=Eu(uu());function Eu(V){return function(){var ie,ce,Me;(ie=this[V])&&(Me=ie[ce=ie.active])&&(Me.timer.c=null,Me.timer.t=NaN,--ie.count?delete ie[ce]:delete this[V],ie.active+=.5,Me.event&&Me.event.interrupt.call(this,this.__data__,Me.index))}}function wa(V,ie,ce){return oe(V,Wr),V.namespace=ie,V.id=ce,V}var lu,kr,Wr=[],_i=0;function Ci(V,ie,ce,Me){var Ce=V.id,Ne=V.namespace;return Ee(V,"function"==typeof ce?function($e,Xe,Qe){$e[Ne][Ce].tween.set(ie,Me(ce.call($e,$e.__data__,Xe,Qe)))}:(ce=Me(ce),function($e){$e[Ne][Ce].tween.set(ie,ce)}))}function go(V){return null==V&&(V=""),function(){this.textContent=V}}function uu(V){return null==V?"__transition__":"__transition_"+V+"__"}function El(V,ie,ce,Me,Ce){var Ne,$e,Xe,Qe,nt,lt=V[ce]||(V[ce]={active:0,count:0}),xt=lt[Me];function Mt(Vt){var jt=lt.active,Xt=lt[jt];for(var Ut in Xt&&(Xt.timer.c=null,Xt.timer.t=NaN,--lt.count,delete lt[jt],Xt.event&&Xt.event.interrupt.call(V,V.__data__,Xt.index)),lt)if(+Ut<Me){var gn=lt[Ut];gn.timer.c=null,gn.timer.t=NaN,--lt.count,delete lt[Ut]}$e.c=Bt,$t(function(){return $e.c&&Bt(Vt||1)&&($e.c=null,$e.t=NaN),1},0,Ne),lt.active=Me,xt.event&&xt.event.start.call(V,V.__data__,ie),nt=[],xt.tween.forEach(function(sn,rn){(rn=rn.call(V,V.__data__,ie))&&nt.push(rn)}),Qe=xt.ease,Xe=xt.duration}function Bt(Vt){for(var jt=Vt/Xe,Xt=Qe(jt),Ut=nt.length;Ut>0;)nt[--Ut].call(V,Xt);if(jt>=1)return xt.event&&xt.event.end.call(V,V.__data__,ie),--lt.count?delete lt[Me]:delete V[ce],1}xt||($e=$t(function(Vt){var jt=xt.delay;if($e.t=jt+Ne,jt<=Vt)return Mt(Vt-jt);$e.c=Mt},0,Ne=Ce.time),xt=lt[Me]={tween:new b,time:Ne,timer:$e,delay:Ce.delay,duration:Ce.duration,ease:Ce.ease,index:ie},Ce=null,++lt.count)}Wr.call=we.call,Wr.empty=we.empty,Wr.node=we.node,Wr.size=we.size,f.transition=function(V,ie){return V&&V.transition?lu?V.transition(ie):V:f.selection().transition(V)},f.transition.prototype=Wr,Wr.select=function(V){var ie,ce,Me,Ce=this.id,Ne=this.namespace,$e=[];V=Ae(V);for(var Xe=-1,Qe=this.length;++Xe<Qe;){$e.push(ie=[]);for(var nt=this[Xe],lt=-1,xt=nt.length;++lt<xt;)(Me=nt[lt])&&(ce=V.call(Me,Me.__data__,lt,Xe))?("__data__"in Me&&(ce.__data__=Me.__data__),El(ce,lt,Ne,Ce,Me[Ne][Ce]),ie.push(ce)):ie.push(null)}return wa($e,Ne,Ce)},Wr.selectAll=function(V){var ie,ce,Me,Ce,Ne,$e=this.id,Xe=this.namespace,Qe=[];V=Te(V);for(var nt=-1,lt=this.length;++nt<lt;)for(var xt=this[nt],Mt=-1,Bt=xt.length;++Mt<Bt;)if(Me=xt[Mt]){Ne=Me[Xe][$e],ce=V.call(Me,Me.__data__,Mt,nt),Qe.push(ie=[]);for(var Vt=-1,jt=ce.length;++Vt<jt;)(Ce=ce[Vt])&&El(Ce,Vt,Xe,$e,Ne),ie.push(Ce)}return wa(Qe,Xe,$e)},Wr.filter=function(V){var ie,ce,Me=[];"function"!=typeof V&&(V=ye(V));for(var Ce=0,Ne=this.length;Ce<Ne;Ce++){Me.push(ie=[]);for(var $e,Xe=0,Qe=($e=this[Ce]).length;Xe<Qe;Xe++)(ce=$e[Xe])&&V.call(ce,ce.__data__,Xe,Ce)&&ie.push(ce)}return wa(Me,this.namespace,this.id)},Wr.tween=function(V,ie){var ce=this.id,Me=this.namespace;return arguments.length<2?this.node()[Me][ce].tween.get(V):Ee(this,null==ie?function(Ce){Ce[Me][ce].tween.remove(V)}:function(Ce){Ce[Me][ce].tween.set(V,ie)})},Wr.attr=function(V,ie){if(arguments.length<2){for(ie in V)this.attr(ie,V[ie]);return this}var ce="transform"==V?yl:hl,Me=f.ns.qualify(V);function Ce(){this.removeAttribute(Me)}function Ne(){this.removeAttributeNS(Me.space,Me.local)}return Ci(this,"attr."+V,ie,Me.local?function($e){return null==$e?Ne:($e+="",function(){var Xe,Qe=this.getAttributeNS(Me.space,Me.local);return Qe!==$e&&(Xe=ce(Qe,$e),function(nt){this.setAttributeNS(Me.space,Me.local,Xe(nt))})})}:function($e){return null==$e?Ce:($e+="",function(){var Xe,Qe=this.getAttribute(Me);return Qe!==$e&&(Xe=ce(Qe,$e),function(nt){this.setAttribute(Me,Xe(nt))})})})},Wr.attrTween=function(V,ie){var ce=f.ns.qualify(V);return this.tween("attr."+V,ce.local?function(Me,Ce){var Ne=ie.call(this,Me,Ce,this.getAttributeNS(ce.space,ce.local));return Ne&&function($e){this.setAttributeNS(ce.space,ce.local,Ne($e))}}:function(Me,Ce){var Ne=ie.call(this,Me,Ce,this.getAttribute(ce));return Ne&&function($e){this.setAttribute(ce,Ne($e))}})},Wr.style=function(V,ie,ce){var Me=arguments.length;if(Me<3){if("string"!=typeof V){for(ce in Me<2&&(ie=""),V)this.style(ce,V[ce],ie);return this}ce=""}function Ce(){this.style.removeProperty(V)}return Ci(this,"style."+V,ie,function(Ne){return null==Ne?Ce:(Ne+="",function(){var $e,Xe=i(this).getComputedStyle(this,null).getPropertyValue(V);return Xe!==Ne&&($e=hl(Xe,Ne),function(Qe){this.style.setProperty(V,$e(Qe),ce)})})})},Wr.styleTween=function(V,ie,ce){return arguments.length<3&&(ce=""),this.tween("style."+V,function(Me,Ce){var Ne=ie.call(this,Me,Ce,i(this).getComputedStyle(this,null).getPropertyValue(V));return Ne&&function($e){this.style.setProperty(V,Ne($e),ce)}})},Wr.text=function(V){return Ci(this,"text",V,go)},Wr.remove=function(){var V=this.namespace;return this.each("end.transition",function(){var ie;this[V].count<2&&(ie=this.parentNode)&&ie.removeChild(this)})},Wr.ease=function(V){var ie=this.id,ce=this.namespace;return arguments.length<1?this.node()[ce][ie].ease:("function"!=typeof V&&(V=f.ease.apply(f,arguments)),Ee(this,function(Me){Me[ce][ie].ease=V}))},Wr.delay=function(V){var ie=this.id,ce=this.namespace;return arguments.length<1?this.node()[ce][ie].delay:Ee(this,"function"==typeof V?function(Me,Ce,Ne){Me[ce][ie].delay=+V.call(Me,Me.__data__,Ce,Ne)}:(V=+V,function(Me){Me[ce][ie].delay=V}))},Wr.duration=function(V){var ie=this.id,ce=this.namespace;return arguments.length<1?this.node()[ce][ie].duration:Ee(this,"function"==typeof V?function(Me,Ce,Ne){Me[ce][ie].duration=Math.max(1,V.call(Me,Me.__data__,Ce,Ne))}:(V=Math.max(1,V),function(Me){Me[ce][ie].duration=V}))},Wr.each=function(V,ie){var ce=this.id,Me=this.namespace;if(arguments.length<2){var Ce=kr,Ne=lu;try{lu=ce,Ee(this,function($e,Xe,Qe){kr=$e[Me][ce],V.call($e,$e.__data__,Xe,Qe)})}finally{kr=Ce,lu=Ne}}else Ee(this,function($e){var Xe=$e[Me][ce];(Xe.event||(Xe.event=f.dispatch("start","end","interrupt"))).on(V,ie)});return this},Wr.transition=function(){for(var V,ie,ce,Me=this.id,Ce=++_i,Ne=this.namespace,$e=[],Xe=0,Qe=this.length;Xe<Qe;Xe++){$e.push(V=[]);for(var nt,lt=0,xt=(nt=this[Xe]).length;lt<xt;lt++)(ie=nt[lt])&&El(ie,lt,Ne,Ce,{time:(ce=ie[Ne][Me]).time,ease:ce.ease,delay:ce.delay+ce.duration,duration:ce.duration}),V.push(ie)}return wa($e,Ne,Ce)},f.svg.axis=function(){var V,ie=f.scale.linear(),ce=Ha,Me=6,Ce=6,Ne=3,$e=[10],Xe=null;function Qe(nt){nt.each(function(){var lt,xt=f.select(this),Mt=this.__chart__||ie,Bt=this.__chart__=ie.copy(),Vt=Xe??(Bt.ticks?Bt.ticks.apply(Bt,$e):Bt.domain()),jt=V??(Bt.tickFormat?Bt.tickFormat.apply(Bt,$e):F),Xt=xt.selectAll(".tick").data(Vt,Bt),Ut=Xt.enter().insert("g",".domain").attr("class","tick").style("opacity",pt),gn=f.transition(Xt.exit()).style("opacity",pt).remove(),sn=f.transition(Xt.order()).style("opacity",1),rn=Math.max(Me,0)+Ne,En=nu(Bt),On=xt.selectAll(".domain").data([0]),$n=(On.enter().append("path").attr("class","domain"),f.transition(On));Ut.append("line"),Ut.append("text");var tr,ur,yr,Cr,Ar=Ut.select("line"),Fr=sn.select("line"),$r=Xt.select("text").text(jt),hi=Ut.select("text"),ir=sn.select("text"),Tr="top"===ce||"left"===ce?-1:1;if("bottom"===ce||"top"===ce?(lt=U,tr="x",yr="y",ur="x2",Cr="y2",$r.attr("dy",Tr<0?"0em":".71em").style("text-anchor","middle"),$n.attr("d","M"+En[0]+","+Tr*Ce+"V0H"+En[1]+"V"+Tr*Ce)):(lt=$,tr="y",yr="x",ur="y2",Cr="x2",$r.attr("dy",".32em").style("text-anchor",Tr<0?"end":"start"),$n.attr("d","M"+Tr*Ce+","+En[0]+"H0V"+En[1]+"H"+Tr*Ce)),Ar.attr(Cr,Tr*Me),hi.attr(yr,Tr*rn),Fr.attr(ur,0).attr(Cr,Tr*Me),ir.attr(tr,0).attr(yr,Tr*rn),Bt.rangeBand){var zr=Bt,Kr=zr.rangeBand()/2;Mt=Bt=function(ai){return zr(ai)+Kr}}else Mt.rangeBand?Mt=Bt:gn.call(lt,Bt,Mt);Ut.call(lt,Mt,Bt),sn.call(lt,Bt,Bt)})}return Qe.scale=function(nt){return arguments.length?(ie=nt,Qe):ie},Qe.orient=function(nt){return arguments.length?(ce=nt in Qs?nt+"":Ha,Qe):ce},Qe.ticks=function(){return arguments.length?($e=M(arguments),Qe):$e},Qe.tickValues=function(nt){return arguments.length?(Xe=nt,Qe):Xe},Qe.tickFormat=function(nt){return arguments.length?(V=nt,Qe):V},Qe.tickSize=function(nt){var lt=arguments.length;return lt?(Me=+nt,Ce=+arguments[lt-1],Qe):Me},Qe.innerTickSize=function(nt){return arguments.length?(Me=+nt,Qe):Me},Qe.outerTickSize=function(nt){return arguments.length?(Ce=+nt,Qe):Ce},Qe.tickPadding=function(nt){return arguments.length?(Ne=+nt,Qe):Ne},Qe.tickSubdivide=function(){return arguments.length&&Qe},Qe};var Ha="bottom",Qs={top:1,right:1,bottom:1,left:1};function U(V,ie,ce){V.attr("transform",function(Me){var Ce=ie(Me);return"translate("+(isFinite(Ce)?Ce:ce(Me))+",0)"})}function $(V,ie,ce){V.attr("transform",function(Me){var Ce=ie(Me);return"translate(0,"+(isFinite(Ce)?Ce:ce(Me))+")"})}f.svg.brush=function(){var V,ie,ce=Q(lt,"brushstart","brush","brushend"),Me=null,Ce=null,Ne=[0,0],$e=[0,0],Xe=!0,Qe=!0,nt=ne[0];function lt(jt){jt.each(function(){var Xt=f.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Vt).on("touchstart.brush",Vt),Ut=Xt.selectAll(".background").data([0]);Ut.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Xt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var gn=Xt.selectAll(".resize").data(nt,F);gn.exit().remove(),gn.enter().append("g").attr("class",function(On){return"resize "+On}).style("cursor",function(On){return q[On]}).append("rect").attr("x",function(On){return/[ew]$/.test(On)?-3:null}).attr("y",function(On){return/^[ns]/.test(On)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),gn.style("display",lt.empty()?"none":null);var sn,rn=f.transition(Xt),En=f.transition(Ut);Me&&(sn=nu(Me),En.attr("x",sn[0]).attr("width",sn[1]-sn[0]),Mt(rn)),Ce&&(sn=nu(Ce),En.attr("y",sn[0]).attr("height",sn[1]-sn[0]),Bt(rn)),xt(rn)})}function xt(jt){jt.selectAll(".resize").attr("transform",function(Xt){return"translate("+Ne[+/e$/.test(Xt)]+","+$e[+/^s/.test(Xt)]+")"})}function Mt(jt){jt.select(".extent").attr("x",Ne[0]),jt.selectAll(".extent,.n>rect,.s>rect").attr("width",Ne[1]-Ne[0])}function Bt(jt){jt.select(".extent").attr("y",$e[0]),jt.selectAll(".extent,.e>rect,.w>rect").attr("height",$e[1]-$e[0])}function Vt(){var jt,Xt,Ut=this,gn=f.select(f.event.target),sn=ce.of(Ut,arguments),rn=f.select(Ut),En=gn.datum(),On=!/^(n|s)$/.test(En)&&Me,$n=!/^(e|w)$/.test(En)&&Ce,tr=gn.classed("extent"),ur=St(Ut),yr=f.mouse(Ut),Cr=f.select(i(Ut)).on("keydown.brush",function(){32==f.event.keyCode&&(tr||(jt=null,yr[0]-=Ne[1],yr[1]-=$e[1],tr=2),te())}).on("keyup.brush",function(){32==f.event.keyCode&&2==tr&&(yr[0]+=Ne[1],yr[1]+=$e[1],tr=0,te())});if(f.event.changedTouches?Cr.on("touchmove.brush",$r).on("touchend.brush",ir):Cr.on("mousemove.brush",$r).on("mouseup.brush",ir),rn.interrupt().selectAll("*").interrupt(),tr)yr[0]=Ne[0]-yr[0],yr[1]=$e[0]-yr[1];else if(En){var Ar=+/w$/.test(En),Fr=+/^n/.test(En);Xt=[Ne[1-Ar]-yr[0],$e[1-Fr]-yr[1]],yr[0]=Ne[Ar],yr[1]=$e[Fr]}else f.event.altKey&&(jt=yr.slice());function $r(){var Tr=f.mouse(Ut),zr=!1;Xt&&(Tr[0]+=Xt[0],Tr[1]+=Xt[1]),tr||(f.event.altKey?(jt||(jt=[(Ne[0]+Ne[1])/2,($e[0]+$e[1])/2]),yr[0]=Ne[+(Tr[0]<jt[0])],yr[1]=$e[+(Tr[1]<jt[1])]):jt=null),On&&hi(Tr,Me,0)&&(Mt(rn),zr=!0),$n&&hi(Tr,Ce,1)&&(Bt(rn),zr=!0),zr&&(xt(rn),sn({type:"brush",mode:tr?"move":"resize"}))}function hi(Tr,zr,Kr){var ai,vi,Bi=nu(zr),ao=Bi[0],_o=Bi[1],Po=yr[Kr],to=Kr?$e:Ne,Ho=to[1]-to[0];if(tr&&(ao-=Po,_o-=Ho+Po),ai=(Kr?Qe:Xe)?Math.max(ao,Math.min(_o,Tr[Kr])):Tr[Kr],tr?vi=(ai+=Po)+Ho:(jt&&(Po=Math.max(ao,Math.min(_o,2*jt[Kr]-ai))),Po<ai?(vi=ai,ai=Po):vi=Po),to[0]!=ai||to[1]!=vi)return Kr?ie=null:V=null,to[0]=ai,to[1]=vi,!0}function ir(){$r(),rn.style("pointer-events","all").selectAll(".resize").style("display",lt.empty()?"none":null),f.select("body").style("cursor",null),Cr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ur(),sn({type:"brushend"})}rn.style("pointer-events","none").selectAll(".resize").style("display",null),f.select("body").style("cursor",gn.style("cursor")),sn({type:"brushstart"}),$r()}return lt.event=function(jt){jt.each(function(){var Xt=ce.of(this,arguments),Ut={x:Ne,y:$e,i:V,j:ie},gn=this.__chart__||Ut;this.__chart__=Ut,lu?f.select(this).transition().each("start.brush",function(){V=gn.i,ie=gn.j,Ne=gn.x,$e=gn.y,Xt({type:"brushstart"})}).tween("brush:brush",function(){var sn=qo(Ne,Ut.x),rn=qo($e,Ut.y);return V=ie=null,function(En){Ne=Ut.x=sn(En),$e=Ut.y=rn(En),Xt({type:"brush",mode:"resize"})}}).each("end.brush",function(){V=Ut.i,ie=Ut.j,Xt({type:"brush",mode:"resize"}),Xt({type:"brushend"})}):(Xt({type:"brushstart"}),Xt({type:"brush",mode:"resize"}),Xt({type:"brushend"}))})},lt.x=function(jt){return arguments.length?(nt=ne[!(Me=jt)<<1|!Ce],lt):Me},lt.y=function(jt){return arguments.length?(nt=ne[!Me<<1|!(Ce=jt)],lt):Ce},lt.clamp=function(jt){return arguments.length?(Me&&Ce?(Xe=!!jt[0],Qe=!!jt[1]):Me?Xe=!!jt:Ce&&(Qe=!!jt),lt):Me&&Ce?[Xe,Qe]:Me?Xe:Ce?Qe:null},lt.extent=function(jt){var Xt,Ut,gn,sn,rn;return arguments.length?(Me&&(Xt=jt[0],Ut=jt[1],Ce&&(Xt=Xt[0],Ut=Ut[0]),V=[Xt,Ut],Me.invert&&(Xt=Me(Xt),Ut=Me(Ut)),Ut<Xt&&(rn=Xt,Xt=Ut,Ut=rn),Xt==Ne[0]&&Ut==Ne[1]||(Ne=[Xt,Ut])),Ce&&(gn=jt[0],sn=jt[1],Me&&(gn=gn[1],sn=sn[1]),ie=[gn,sn],Ce.invert&&(gn=Ce(gn),sn=Ce(sn)),sn<gn&&(rn=gn,gn=sn,sn=rn),gn==$e[0]&&sn==$e[1]||($e=[gn,sn])),lt):(Me&&(V?(Xt=V[0],Ut=V[1]):(Xt=Ne[0],Ut=Ne[1],Me.invert&&(Xt=Me.invert(Xt),Ut=Me.invert(Ut)),Ut<Xt&&(rn=Xt,Xt=Ut,Ut=rn))),Ce&&(ie?(gn=ie[0],sn=ie[1]):(gn=$e[0],sn=$e[1],Ce.invert&&(gn=Ce.invert(gn),sn=Ce.invert(sn)),sn<gn&&(rn=gn,gn=sn,sn=rn))),Me&&Ce?[[Xt,gn],[Ut,sn]]:Me?[Xt,Ut]:Ce&&[gn,sn])},lt.clear=function(){return lt.empty()||(Ne=[0,0],$e=[0,0],V=ie=null),lt},lt.empty=function(){return!!Me&&Ne[0]==Ne[1]||!!Ce&&$e[0]==$e[1]},f.rebind(lt,ce,"on")};var q={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ne=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function _e(V){return JSON.parse(V.responseText)}function Pe(V){var ie=v.createRange();return ie.selectNode(v.body),ie.createContextualFragment(V.responseText)}f.text=fr(function(V){return V.responseText}),f.json=function(V,ie){return er(V,"application/json",_e,ie)},f.html=function(V,ie){return er(V,"text/html",Pe,ie)},f.xml=fr(function(V){return V.responseXML}),void 0===(E="function"==typeof(D=f)?D.call(B,r,B,ae):D)||(ae.exports=E)}).apply(self)},88294:function(ae,B,r){"use strict";ae.exports=r(62849)},62849:function(ae,B,r){"use strict";var D=r(91358),E=r(53435),f=r(18863),S=r(21527),M=r(71299),v=r(46775),c=r(30120),i=r(64941),s=r(90660),a=r(27084);function o(l,u){for(var d=u[0],m=u[1],h=1/(u[2]-d),T=1/(u[3]-m),_=new Array(l.length),g=0,w=l.length/2;g<w;g++)_[2*g]=E((l[2*g]-d)*h,0,1),_[2*g+1]=E((l[2*g+1]-m)*T,0,1);return _}ae.exports=function(l,u){u||(u={}),l=c(l,"float64"),u=M(u,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var d=v(u.maxDepth,255),m=v(u.bounds,S(l,2));m[0]===m[2]&&m[2]++,m[1]===m[3]&&m[3]++;var h,T=o(l,m),_=l.length>>>1;u.dtype||(u.dtype="array"),"string"==typeof u.dtype?h=new(s(u.dtype))(_):u.dtype&&(h=u.dtype,Array.isArray(h)&&(h.length=_));for(var g=0;g<_;++g)h[g]=g;var w=[],x=[],b=[],A=[];!function j(X,F,Z,W,H,G){if(!W.length)return null;var Y=w[H]||(w[H]=[]),se=b[H]||(b[H]=[]),te=x[H]||(x[H]=[]),re=Y.length;if(++H>d||G>1073741824){for(var Q=0;Q<W.length;Q++)Y.push(W[Q]),se.push(G),te.push(null,null,null,null);return re}if(Y.push(W[0]),se.push(G),W.length<=1)return te.push(null,null,null,null),re;for(var ee=.5*Z,oe=X+ee,le=F+ee,ue=[],de=[],he=[],we=[],Ae=1,Te=W.length;Ae<Te;Ae++){var ve=W[Ae],Fe=T[2*ve+1];T[2*ve]<oe?Fe<le?ue.push(ve):de.push(ve):Fe<le?he.push(ve):we.push(ve)}return te.push(j(X,F,ee,ue,H,G<<=2),j(X,le,ee,de,H,G+1),j(oe,F,ee,he,H,G+2),j(oe,le,ee,we,H,G+3)),re}(0,0,1,h,0,1);for(var p=0,O=0;O<w.length;O++){var k=w[O];if(h.set)h.set(k,p);else for(var I=0,P=k.length;I<P;I++)h[I+p]=k[I];var R=p+w[O].length;A[O]=[p,R],p=R}return h.range=function(){for(var j,X=[],F=arguments.length;F--;)X[F]=arguments[F];if(i(X[X.length-1])){var Z=X.pop();X.length||null==Z.x&&null==Z.l&&null==Z.left||(X=[Z],j={}),j=M(Z,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else j={};X.length||(X=m);var W,H=f.apply(void 0,X),G=[Math.min(H.x,H.x+H.width),Math.min(H.y,H.y+H.height),Math.max(H.x,H.x+H.width),Math.max(H.y,H.y+H.height)],Y=G[0],se=G[1],te=G[2],re=G[3],Q=o([Y,se,te,re],m),ee=Q[0],oe=Q[1],le=Q[2],ue=Q[3],de=v(j.level,w.length);if(null!=j.d&&("number"==typeof j.d?W=[j.d,j.d]:j.d.length&&(W=j.d),de=Math.min(Math.max(Math.ceil(-a(Math.abs(W[0])/(m[2]-m[0]))),Math.ceil(-a(Math.abs(W[1])/(m[3]-m[1])))),de)),de=Math.min(de,w.length),j.lod)return function(we,Ae,Te,ve,xe){for(var Fe=[],Se=0;Se<xe;Se++){var ke=b[Se],pe=A[Se][0],fe=N(we,Ae,Se),be=N(Te,ve,Se),Le=D.ge(ke,fe),Oe=D.gt(ke,be,Le,ke.length-1);Fe[Se]=[Le+pe,Oe+pe]}return Fe}(ee,oe,le,ue,de);var he=[];return function we(Ae,Te,ve,xe,Fe,Se){if(null!==Fe&&null!==Se&&!(ee>Ae+ve||oe>Te+ve||le<Ae||ue<Te||xe>=de||Fe===Se)){var ke=w[xe];void 0===Se&&(Se=ke.length);for(var pe=Fe;pe<Se;pe++){var fe=ke[pe],be=l[2*fe],Le=l[2*fe+1];be>=Y&&be<=te&&Le>=se&&Le<=re&&he.push(fe)}var Oe=x[xe],De=Oe[4*Fe+0],Ue=Oe[4*Fe+1],Ge=Oe[4*Fe+2],ye=Oe[4*Fe+3],Ie=function(We,He){for(var Je=null,et=0;null===Je;)if(Je=We[4*He+et],++et>We.length)return null;return Je}(Oe,Fe+1),Ee=.5*ve,Be=xe+1;we(Ae,Te,Ee,Be,De,Ue||Ge||ye||Ie),we(Ae,Te+Ee,Ee,Be,Ue,Ge||ye||Ie),we(Ae+Ee,Te,Ee,Be,Ge,ye||Ie),we(Ae+Ee,Te+Ee,Ee,Be,ye,Ie)}}(0,0,1,0,0,1),he},h;function N(j,X,F){for(var Z=1,W=.5,H=.5,G=.5,Y=0;Y<F;Y++)Z<<=2,Z+=j<W?X<H?0:1:X<H?2:3,G*=.5,W+=j<W?-G:G,H+=X<H?-G:G;return Z}}},30774:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(60302),E=6378137;function f(v){var c=0;if(v&&v.length>0){c+=Math.abs(S(v[0]));for(var i=1;i<v.length;i++)c-=Math.abs(S(v[i]))}return c}function S(v){var c,i,s,a,o,l,u=0,d=v.length;if(d>2){for(l=0;l<d;l++)l===d-2?(s=d-2,a=d-1,o=0):l===d-1?(s=d-1,a=0,o=1):(s=l,a=l+1,o=l+2),c=v[s],i=v[a],u+=(M(v[o][0])-M(c[0]))*Math.sin(M(i[1]));u=u*E*E/2}return u}function M(v){return v*Math.PI/180}B.default=function(v){return D.geomReduce(v,function(c,i){return c+function(s){var a,o=0;switch(s.type){case"Polygon":return f(s.coordinates);case"MultiPolygon":for(a=0;a<s.coordinates.length;a++)o+=f(s.coordinates[a]);return o;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(i)},0)}},23132:function(ae,B){"use strict";function r(l,u,d){void 0===d&&(d={});var m={type:"Feature"};return(0===d.id||d.id)&&(m.id=d.id),d.bbox&&(m.bbox=d.bbox),m.properties=u||{},m.geometry=l,m}function D(l,u,d){if(void 0===d&&(d={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!o(l[0])||!o(l[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:l},u,d)}function E(l,u,d){void 0===d&&(d={});for(var m=0,h=l;m<h.length;m++){var T=h[m];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _=0;_<T[T.length-1].length;_++)if(T[T.length-1][_]!==T[0][_])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:l},u,d)}function f(l,u,d){if(void 0===d&&(d={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:l},u,d)}function S(l,u){void 0===u&&(u={});var d={type:"FeatureCollection"};return u.id&&(d.id=u.id),u.bbox&&(d.bbox=u.bbox),d.features=l,d}function M(l,u,d){return void 0===d&&(d={}),r({type:"MultiLineString",coordinates:l},u,d)}function v(l,u,d){return void 0===d&&(d={}),r({type:"MultiPoint",coordinates:l},u,d)}function c(l,u,d){return void 0===d&&(d={}),r({type:"MultiPolygon",coordinates:l},u,d)}function i(l,u){void 0===u&&(u="kilometers");var d=B.factors[u];if(!d)throw new Error(u+" units is invalid");return l*d}function s(l,u){void 0===u&&(u="kilometers");var d=B.factors[u];if(!d)throw new Error(u+" units is invalid");return l/d}function a(l){return l%(2*Math.PI)*180/Math.PI}function o(l){return!isNaN(l)&&null!==l&&!Array.isArray(l)}Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=6371008.8,B.factors={centimeters:100*B.earthRadius,centimetres:100*B.earthRadius,degrees:B.earthRadius/111325,feet:3.28084*B.earthRadius,inches:39.37*B.earthRadius,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:1e3*B.earthRadius,millimetres:1e3*B.earthRadius,nauticalmiles:B.earthRadius/1852,radians:1,yards:1.0936*B.earthRadius},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:1.0936133},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},B.feature=r,B.geometry=function(l,u,d){switch(void 0===d&&(d={}),l){case"Point":return D(u).geometry;case"LineString":return f(u).geometry;case"Polygon":return E(u).geometry;case"MultiPoint":return v(u).geometry;case"MultiLineString":return M(u).geometry;case"MultiPolygon":return c(u).geometry;default:throw new Error(l+" is invalid")}},B.point=D,B.points=function(l,u,d){return void 0===d&&(d={}),S(l.map(function(m){return D(m,u)}),d)},B.polygon=E,B.polygons=function(l,u,d){return void 0===d&&(d={}),S(l.map(function(m){return E(m,u)}),d)},B.lineString=f,B.lineStrings=function(l,u,d){return void 0===d&&(d={}),S(l.map(function(m){return f(m,u)}),d)},B.featureCollection=S,B.multiLineString=M,B.multiPoint=v,B.multiPolygon=c,B.geometryCollection=function(l,u,d){return void 0===d&&(d={}),r({type:"GeometryCollection",geometries:l},u,d)},B.round=function(l,u){if(void 0===u&&(u=0),u&&!(u>=0))throw new Error("precision must be a positive number");var d=Math.pow(10,u||0);return Math.round(l*d)/d},B.radiansToLength=i,B.lengthToRadians=s,B.lengthToDegrees=function(l,u){return a(s(l,u))},B.bearingToAzimuth=function(l){var u=l%360;return u<0&&(u+=360),u},B.radiansToDegrees=a,B.degreesToRadians=function(l){return l%360*Math.PI/180},B.convertLength=function(l,u,d){if(void 0===u&&(u="kilometers"),void 0===d&&(d="kilometers"),!(l>=0))throw new Error("length must be a positive number");return i(s(l,u),d)},B.convertArea=function(l,u,d){if(void 0===u&&(u="meters"),void 0===d&&(d="kilometers"),!(l>=0))throw new Error("area must be a positive number");var m=B.areaFactors[u];if(!m)throw new Error("invalid original units");var h=B.areaFactors[d];if(!h)throw new Error("invalid final units");return l/m*h},B.isNumber=o,B.isObject=function(l){return!!l&&l.constructor===Object},B.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(4!==l.length&&6!==l.length)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(u){if(!o(u))throw new Error("bbox must only contain numbers")})},B.validateId=function(l){if(!l)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof l))throw new Error("id must be a number or a string")}},60302:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(23132);function E(s,a,o){if(null!==s)for(var l,u,d,m,h,T,_,g,w=0,x=0,b=s.type,A="FeatureCollection"===b,p="Feature"===b,O=A?s.features.length:1,k=0;k<O;k++){h=(g=!!(_=A?s.features[k].geometry:p?s.geometry:s)&&"GeometryCollection"===_.type)?_.geometries.length:1;for(var I=0;I<h;I++){var P=0,R=0;if(null!==(m=g?_.geometries[I]:_)){T=m.coordinates;var N=m.type;switch(w=!o||"Polygon"!==N&&"MultiPolygon"!==N?0:1,N){case null:break;case"Point":if(!1===a(T,x,k,P,R))return!1;x++,P++;break;case"LineString":case"MultiPoint":for(l=0;l<T.length;l++){if(!1===a(T[l],x,k,P,R))return!1;x++,"MultiPoint"===N&&P++}"LineString"===N&&P++;break;case"Polygon":case"MultiLineString":for(l=0;l<T.length;l++){for(u=0;u<T[l].length-w;u++){if(!1===a(T[l][u],x,k,P,R))return!1;x++}"MultiLineString"===N&&P++,"Polygon"===N&&R++}"Polygon"===N&&P++;break;case"MultiPolygon":for(l=0;l<T.length;l++){for(R=0,u=0;u<T[l].length;u++){for(d=0;d<T[l][u].length-w;d++){if(!1===a(T[l][u][d],x,k,P,R))return!1;x++}R++}P++}break;case"GeometryCollection":for(l=0;l<m.geometries.length;l++)if(!1===E(m.geometries[l],a,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f(s,a){var o;switch(s.type){case"FeatureCollection":for(o=0;o<s.features.length&&!1!==a(s.features[o].properties,o);o++);break;case"Feature":a(s.properties,0)}}function S(s,a){if("Feature"===s.type)a(s,0);else if("FeatureCollection"===s.type)for(var o=0;o<s.features.length&&!1!==a(s.features[o],o);o++);}function M(s,a){var o,l,u,d,m,h,T,_,g,w,x=0,b="FeatureCollection"===s.type,A="Feature"===s.type,p=b?s.features.length:1;for(o=0;o<p;o++){for(_=b?s.features[o].properties:A?s.properties:{},g=b?s.features[o].bbox:A?s.bbox:void 0,w=b?s.features[o].id:A?s.id:void 0,m=(T=!!(h=b?s.features[o].geometry:A?s.geometry:s)&&"GeometryCollection"===h.type)?h.geometries.length:1,u=0;u<m;u++)if(null!==(d=T?h.geometries[u]:h))switch(d.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===a(d,x,_,g,w))return!1;break;case"GeometryCollection":for(l=0;l<d.geometries.length;l++)if(!1===a(d.geometries[l],x,_,g,w))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===a(null,x,_,g,w))return!1;x++}}function v(s,a){M(s,function(o,l,u,d,m){var h,T=null===o?null:o.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==a(D.feature(o,u,{bbox:d,id:m}),l,0)&&void 0}switch(T){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon"}for(var _=0;_<o.coordinates.length;_++)if(!1===a(D.feature({type:h,coordinates:o.coordinates[_]},u),l,_))return!1})}function c(s,a){v(s,function(o,l,u){var d=0;if(o.geometry){var m=o.geometry.type;if("Point"!==m&&"MultiPoint"!==m){var h,T=0,_=0,g=0;return!1!==E(o,function(w,x,b,A,p){if(void 0===h||l>T||A>_||p>g)return h=w,T=l,_=A,g=p,void(d=0);var O=D.lineString([h,w],o.properties);if(!1===a(O,l,u,p,d))return!1;d++,h=w})&&void 0}}})}function i(s,a){if(!s)throw new Error("geojson is required");v(s,function(o,l,u){if(null!==o.geometry){var m=o.geometry.coordinates;switch(o.geometry.type){case"LineString":if(!1===a(o,l,u,0,0))return!1;break;case"Polygon":for(var h=0;h<m.length;h++)if(!1===a(D.lineString(m[h],o.properties),l,u,h))return!1}}})}B.coordEach=E,B.coordReduce=function(s,a,o,l){var u=o;return E(s,function(d,m,h,T,_){u=0===m&&void 0===o?d:a(u,d,m,h,T,_)},l),u},B.propEach=f,B.propReduce=function(s,a,o){var l=o;return f(s,function(u,d){l=0===d&&void 0===o?u:a(l,u,d)}),l},B.featureEach=S,B.featureReduce=function(s,a,o){var l=o;return S(s,function(u,d){l=0===d&&void 0===o?u:a(l,u,d)}),l},B.coordAll=function(s){var a=[];return E(s,function(o){a.push(o)}),a},B.geomEach=M,B.geomReduce=function(s,a,o){var l=o;return M(s,function(u,d,m,h,T){l=0===d&&void 0===o?u:a(l,u,d,m,h,T)}),l},B.flattenEach=v,B.flattenReduce=function(s,a,o){var l=o;return v(s,function(u,d,m){l=0===d&&0===m&&void 0===o?u:a(l,u,d,m)}),l},B.segmentEach=c,B.segmentReduce=function(s,a,o){var l=o,u=!1;return c(s,function(d,m,h,T,_){l=!1===u&&void 0===o?d:a(l,d,m,h,T,_),u=!0}),l},B.lineEach=i,B.lineReduce=function(s,a,o){var l=o;return i(s,function(u,d,m,h){l=0===d&&void 0===o?u:a(l,u,d,m,h)}),l},B.findSegment=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,u=a.multiFeatureIndex||0,d=a.geometryIndex||0,m=a.segmentIndex||0,h=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),h=h||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":h=h||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=T.length+m-1),D.lineString([T[m],T[m+1]],h,a);case"Polygon":return d<0&&(d=T.length+d),m<0&&(m=T[d].length+m-1),D.lineString([T[d][m],T[d][m+1]],h,a);case"MultiLineString":return u<0&&(u=T.length+u),m<0&&(m=T[u].length+m-1),D.lineString([T[u][m],T[u][m+1]],h,a);case"MultiPolygon":return u<0&&(u=T.length+u),d<0&&(d=T[u].length+d),m<0&&(m=T[u][d].length-m-1),D.lineString([T[u][d][m],T[u][d][m+1]],h,a)}throw new Error("geojson is invalid")},B.findPoint=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,u=a.multiFeatureIndex||0,d=a.geometryIndex||0,m=a.coordIndex||0,h=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),h=h||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":h=h||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":return D.point(T,h,a);case"MultiPoint":return u<0&&(u=T.length+u),D.point(T[u],h,a);case"LineString":return m<0&&(m=T.length+m),D.point(T[m],h,a);case"Polygon":return d<0&&(d=T.length+d),m<0&&(m=T[d].length+m),D.point(T[d][m],h,a);case"MultiLineString":return u<0&&(u=T.length+u),m<0&&(m=T[u].length+m),D.point(T[u][m],h,a);case"MultiPolygon":return u<0&&(u=T.length+u),d<0&&(d=T[u].length+d),m<0&&(m=T[u][d].length-m),D.point(T[u][d][m],h,a)}throw new Error("geojson is invalid")}},85268:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(27138);function E(f){var S=[1/0,1/0,-1/0,-1/0];return D.coordEach(f,function(M){S[0]>M[0]&&(S[0]=M[0]),S[1]>M[1]&&(S[1]=M[1]),S[2]<M[0]&&(S[2]=M[0]),S[3]<M[1]&&(S[3]=M[1])}),S}E.default=E,B.default=E},94228:function(ae,B){"use strict";function r(l,u,d){void 0===d&&(d={});var m={type:"Feature"};return(0===d.id||d.id)&&(m.id=d.id),d.bbox&&(m.bbox=d.bbox),m.properties=u||{},m.geometry=l,m}function D(l,u,d){if(void 0===d&&(d={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!o(l[0])||!o(l[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:l},u,d)}function E(l,u,d){void 0===d&&(d={});for(var m=0,h=l;m<h.length;m++){var T=h[m];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _=0;_<T[T.length-1].length;_++)if(T[T.length-1][_]!==T[0][_])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:l},u,d)}function f(l,u,d){if(void 0===d&&(d={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:l},u,d)}function S(l,u){void 0===u&&(u={});var d={type:"FeatureCollection"};return u.id&&(d.id=u.id),u.bbox&&(d.bbox=u.bbox),d.features=l,d}function M(l,u,d){return void 0===d&&(d={}),r({type:"MultiLineString",coordinates:l},u,d)}function v(l,u,d){return void 0===d&&(d={}),r({type:"MultiPoint",coordinates:l},u,d)}function c(l,u,d){return void 0===d&&(d={}),r({type:"MultiPolygon",coordinates:l},u,d)}function i(l,u){void 0===u&&(u="kilometers");var d=B.factors[u];if(!d)throw new Error(u+" units is invalid");return l*d}function s(l,u){void 0===u&&(u="kilometers");var d=B.factors[u];if(!d)throw new Error(u+" units is invalid");return l/d}function a(l){return l%(2*Math.PI)*180/Math.PI}function o(l){return!isNaN(l)&&null!==l&&!Array.isArray(l)}Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=6371008.8,B.factors={centimeters:100*B.earthRadius,centimetres:100*B.earthRadius,degrees:B.earthRadius/111325,feet:3.28084*B.earthRadius,inches:39.37*B.earthRadius,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:1e3*B.earthRadius,millimetres:1e3*B.earthRadius,nauticalmiles:B.earthRadius/1852,radians:1,yards:1.0936*B.earthRadius},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:1.0936133},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},B.feature=r,B.geometry=function(l,u,d){switch(void 0===d&&(d={}),l){case"Point":return D(u).geometry;case"LineString":return f(u).geometry;case"Polygon":return E(u).geometry;case"MultiPoint":return v(u).geometry;case"MultiLineString":return M(u).geometry;case"MultiPolygon":return c(u).geometry;default:throw new Error(l+" is invalid")}},B.point=D,B.points=function(l,u,d){return void 0===d&&(d={}),S(l.map(function(m){return D(m,u)}),d)},B.polygon=E,B.polygons=function(l,u,d){return void 0===d&&(d={}),S(l.map(function(m){return E(m,u)}),d)},B.lineString=f,B.lineStrings=function(l,u,d){return void 0===d&&(d={}),S(l.map(function(m){return f(m,u)}),d)},B.featureCollection=S,B.multiLineString=M,B.multiPoint=v,B.multiPolygon=c,B.geometryCollection=function(l,u,d){return void 0===d&&(d={}),r({type:"GeometryCollection",geometries:l},u,d)},B.round=function(l,u){if(void 0===u&&(u=0),u&&!(u>=0))throw new Error("precision must be a positive number");var d=Math.pow(10,u||0);return Math.round(l*d)/d},B.radiansToLength=i,B.lengthToRadians=s,B.lengthToDegrees=function(l,u){return a(s(l,u))},B.bearingToAzimuth=function(l){var u=l%360;return u<0&&(u+=360),u},B.radiansToDegrees=a,B.degreesToRadians=function(l){return l%360*Math.PI/180},B.convertLength=function(l,u,d){if(void 0===u&&(u="kilometers"),void 0===d&&(d="kilometers"),!(l>=0))throw new Error("length must be a positive number");return i(s(l,u),d)},B.convertArea=function(l,u,d){if(void 0===u&&(u="meters"),void 0===d&&(d="kilometers"),!(l>=0))throw new Error("area must be a positive number");var m=B.areaFactors[u];if(!m)throw new Error("invalid original units");var h=B.areaFactors[d];if(!h)throw new Error("invalid final units");return l/m*h},B.isNumber=o,B.isObject=function(l){return!!l&&l.constructor===Object},B.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(4!==l.length&&6!==l.length)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(u){if(!o(u))throw new Error("bbox must only contain numbers")})},B.validateId=function(l){if(!l)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof l))throw new Error("id must be a number or a string")}},27138:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(94228);function E(s,a,o){if(null!==s)for(var l,u,d,m,h,T,_,g,w=0,x=0,b=s.type,A="FeatureCollection"===b,p="Feature"===b,O=A?s.features.length:1,k=0;k<O;k++){h=(g=!!(_=A?s.features[k].geometry:p?s.geometry:s)&&"GeometryCollection"===_.type)?_.geometries.length:1;for(var I=0;I<h;I++){var P=0,R=0;if(null!==(m=g?_.geometries[I]:_)){T=m.coordinates;var N=m.type;switch(w=!o||"Polygon"!==N&&"MultiPolygon"!==N?0:1,N){case null:break;case"Point":if(!1===a(T,x,k,P,R))return!1;x++,P++;break;case"LineString":case"MultiPoint":for(l=0;l<T.length;l++){if(!1===a(T[l],x,k,P,R))return!1;x++,"MultiPoint"===N&&P++}"LineString"===N&&P++;break;case"Polygon":case"MultiLineString":for(l=0;l<T.length;l++){for(u=0;u<T[l].length-w;u++){if(!1===a(T[l][u],x,k,P,R))return!1;x++}"MultiLineString"===N&&P++,"Polygon"===N&&R++}"Polygon"===N&&P++;break;case"MultiPolygon":for(l=0;l<T.length;l++){for(R=0,u=0;u<T[l].length;u++){for(d=0;d<T[l][u].length-w;d++){if(!1===a(T[l][u][d],x,k,P,R))return!1;x++}R++}P++}break;case"GeometryCollection":for(l=0;l<m.geometries.length;l++)if(!1===E(m.geometries[l],a,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f(s,a){var o;switch(s.type){case"FeatureCollection":for(o=0;o<s.features.length&&!1!==a(s.features[o].properties,o);o++);break;case"Feature":a(s.properties,0)}}function S(s,a){if("Feature"===s.type)a(s,0);else if("FeatureCollection"===s.type)for(var o=0;o<s.features.length&&!1!==a(s.features[o],o);o++);}function M(s,a){var o,l,u,d,m,h,T,_,g,w,x=0,b="FeatureCollection"===s.type,A="Feature"===s.type,p=b?s.features.length:1;for(o=0;o<p;o++){for(_=b?s.features[o].properties:A?s.properties:{},g=b?s.features[o].bbox:A?s.bbox:void 0,w=b?s.features[o].id:A?s.id:void 0,m=(T=!!(h=b?s.features[o].geometry:A?s.geometry:s)&&"GeometryCollection"===h.type)?h.geometries.length:1,u=0;u<m;u++)if(null!==(d=T?h.geometries[u]:h))switch(d.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===a(d,x,_,g,w))return!1;break;case"GeometryCollection":for(l=0;l<d.geometries.length;l++)if(!1===a(d.geometries[l],x,_,g,w))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===a(null,x,_,g,w))return!1;x++}}function v(s,a){M(s,function(o,l,u,d,m){var h,T=null===o?null:o.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==a(D.feature(o,u,{bbox:d,id:m}),l,0)&&void 0}switch(T){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon"}for(var _=0;_<o.coordinates.length;_++)if(!1===a(D.feature({type:h,coordinates:o.coordinates[_]},u),l,_))return!1})}function c(s,a){v(s,function(o,l,u){var d=0;if(o.geometry){var m=o.geometry.type;if("Point"!==m&&"MultiPoint"!==m){var h,T=0,_=0,g=0;return!1!==E(o,function(w,x,b,A,p){if(void 0===h||l>T||A>_||p>g)return h=w,T=l,_=A,g=p,void(d=0);var O=D.lineString([h,w],o.properties);if(!1===a(O,l,u,p,d))return!1;d++,h=w})&&void 0}}})}function i(s,a){if(!s)throw new Error("geojson is required");v(s,function(o,l,u){if(null!==o.geometry){var m=o.geometry.coordinates;switch(o.geometry.type){case"LineString":if(!1===a(o,l,u,0,0))return!1;break;case"Polygon":for(var h=0;h<m.length;h++)if(!1===a(D.lineString(m[h],o.properties),l,u,h))return!1}}})}B.coordEach=E,B.coordReduce=function(s,a,o,l){var u=o;return E(s,function(d,m,h,T,_){u=0===m&&void 0===o?d:a(u,d,m,h,T,_)},l),u},B.propEach=f,B.propReduce=function(s,a,o){var l=o;return f(s,function(u,d){l=0===d&&void 0===o?u:a(l,u,d)}),l},B.featureEach=S,B.featureReduce=function(s,a,o){var l=o;return S(s,function(u,d){l=0===d&&void 0===o?u:a(l,u,d)}),l},B.coordAll=function(s){var a=[];return E(s,function(o){a.push(o)}),a},B.geomEach=M,B.geomReduce=function(s,a,o){var l=o;return M(s,function(u,d,m,h,T){l=0===d&&void 0===o?u:a(l,u,d,m,h,T)}),l},B.flattenEach=v,B.flattenReduce=function(s,a,o){var l=o;return v(s,function(u,d,m){l=0===d&&0===m&&void 0===o?u:a(l,u,d,m)}),l},B.segmentEach=c,B.segmentReduce=function(s,a,o){var l=o,u=!1;return c(s,function(d,m,h,T,_){l=!1===u&&void 0===o?d:a(l,d,m,h,T,_),u=!0}),l},B.lineEach=i,B.lineReduce=function(s,a,o){var l=o;return i(s,function(u,d,m,h){l=0===d&&void 0===o?u:a(l,u,d,m,h)}),l},B.findSegment=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,u=a.multiFeatureIndex||0,d=a.geometryIndex||0,m=a.segmentIndex||0,h=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),h=h||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":h=h||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=T.length+m-1),D.lineString([T[m],T[m+1]],h,a);case"Polygon":return d<0&&(d=T.length+d),m<0&&(m=T[d].length+m-1),D.lineString([T[d][m],T[d][m+1]],h,a);case"MultiLineString":return u<0&&(u=T.length+u),m<0&&(m=T[u].length+m-1),D.lineString([T[u][m],T[u][m+1]],h,a);case"MultiPolygon":return u<0&&(u=T.length+u),d<0&&(d=T[u].length+d),m<0&&(m=T[u][d].length-m-1),D.lineString([T[u][d][m],T[u][d][m+1]],h,a)}throw new Error("geojson is invalid")},B.findPoint=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,u=a.multiFeatureIndex||0,d=a.geometryIndex||0,m=a.coordIndex||0,h=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),h=h||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":h=h||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":return D.point(T,h,a);case"MultiPoint":return u<0&&(u=T.length+u),D.point(T[u],h,a);case"LineString":return m<0&&(m=T.length+m),D.point(T[m],h,a);case"Polygon":return d<0&&(d=T.length+d),m<0&&(m=T[d].length+m),D.point(T[d][m],h,a);case"MultiLineString":return u<0&&(u=T.length+u),m<0&&(m=T[u].length+m),D.point(T[u][m],h,a);case"MultiPolygon":return u<0&&(u=T.length+u),d<0&&(d=T[u].length+d),m<0&&(m=T[u][d].length-m),D.point(T[u][d][m],h,a)}throw new Error("geojson is invalid")}},29261:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(88553),E=r(64182);B.default=function(f,S){void 0===S&&(S={});var M=0,v=0,c=0;return D.coordEach(f,function(i){M+=i[0],v+=i[1],c++}),E.point([M/c,v/c],S.properties)}},64182:function(ae,B){"use strict";function r(l,u,d){void 0===d&&(d={});var m={type:"Feature"};return(0===d.id||d.id)&&(m.id=d.id),d.bbox&&(m.bbox=d.bbox),m.properties=u||{},m.geometry=l,m}function D(l,u,d){return void 0===d&&(d={}),r({type:"Point",coordinates:l},u,d)}function E(l,u,d){void 0===d&&(d={});for(var m=0,h=l;m<h.length;m++){var T=h[m];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _=0;_<T[T.length-1].length;_++)if(T[T.length-1][_]!==T[0][_])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:l},u,d)}function f(l,u,d){if(void 0===d&&(d={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:l},u,d)}function S(l,u){void 0===u&&(u={});var d={type:"FeatureCollection"};return u.id&&(d.id=u.id),u.bbox&&(d.bbox=u.bbox),d.features=l,d}function M(l,u,d){return void 0===d&&(d={}),r({type:"MultiLineString",coordinates:l},u,d)}function v(l,u,d){return void 0===d&&(d={}),r({type:"MultiPoint",coordinates:l},u,d)}function c(l,u,d){return void 0===d&&(d={}),r({type:"MultiPolygon",coordinates:l},u,d)}function i(l,u){void 0===u&&(u="kilometers");var d=B.factors[u];if(!d)throw new Error(u+" units is invalid");return l*d}function s(l,u){void 0===u&&(u="kilometers");var d=B.factors[u];if(!d)throw new Error(u+" units is invalid");return l/d}function a(l){return l%(2*Math.PI)*180/Math.PI}function o(l){return!isNaN(l)&&null!==l&&!Array.isArray(l)&&!/^\s*$/.test(l)}Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=6371008.8,B.factors={centimeters:100*B.earthRadius,centimetres:100*B.earthRadius,degrees:B.earthRadius/111325,feet:3.28084*B.earthRadius,inches:39.37*B.earthRadius,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:1e3*B.earthRadius,millimetres:1e3*B.earthRadius,nauticalmiles:B.earthRadius/1852,radians:1,yards:B.earthRadius/1.0936},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:.91441111923921},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},B.feature=r,B.geometry=function(l,u,d){switch(void 0===d&&(d={}),l){case"Point":return D(u).geometry;case"LineString":return f(u).geometry;case"Polygon":return E(u).geometry;case"MultiPoint":return v(u).geometry;case"MultiLineString":return M(u).geometry;case"MultiPolygon":return c(u).geometry;default:throw new Error(l+" is invalid")}},B.point=D,B.points=function(l,u,d){return void 0===d&&(d={}),S(l.map(function(m){return D(m,u)}),d)},B.polygon=E,B.polygons=function(l,u,d){return void 0===d&&(d={}),S(l.map(function(m){return E(m,u)}),d)},B.lineString=f,B.lineStrings=function(l,u,d){return void 0===d&&(d={}),S(l.map(function(m){return f(m,u)}),d)},B.featureCollection=S,B.multiLineString=M,B.multiPoint=v,B.multiPolygon=c,B.geometryCollection=function(l,u,d){return void 0===d&&(d={}),r({type:"GeometryCollection",geometries:l},u,d)},B.round=function(l,u){if(void 0===u&&(u=0),u&&!(u>=0))throw new Error("precision must be a positive number");var d=Math.pow(10,u||0);return Math.round(l*d)/d},B.radiansToLength=i,B.lengthToRadians=s,B.lengthToDegrees=function(l,u){return a(s(l,u))},B.bearingToAzimuth=function(l){var u=l%360;return u<0&&(u+=360),u},B.radiansToDegrees=a,B.degreesToRadians=function(l){return l%360*Math.PI/180},B.convertLength=function(l,u,d){if(void 0===u&&(u="kilometers"),void 0===d&&(d="kilometers"),!(l>=0))throw new Error("length must be a positive number");return i(s(l,u),d)},B.convertArea=function(l,u,d){if(void 0===u&&(u="meters"),void 0===d&&(d="kilometers"),!(l>=0))throw new Error("area must be a positive number");var m=B.areaFactors[u];if(!m)throw new Error("invalid original units");var h=B.areaFactors[d];if(!h)throw new Error("invalid final units");return l/m*h},B.isNumber=o,B.isObject=function(l){return!!l&&l.constructor===Object},B.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(4!==l.length&&6!==l.length)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(u){if(!o(u))throw new Error("bbox must only contain numbers")})},B.validateId=function(l){if(!l)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof l))throw new Error("id must be a number or a string")},B.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},B.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},B.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},B.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},B.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},B.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},B.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},88553:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(64182);function E(s,a,o){if(null!==s)for(var l,u,d,m,h,T,_,g,w=0,x=0,b=s.type,A="FeatureCollection"===b,p="Feature"===b,O=A?s.features.length:1,k=0;k<O;k++){h=(g=!!(_=A?s.features[k].geometry:p?s.geometry:s)&&"GeometryCollection"===_.type)?_.geometries.length:1;for(var I=0;I<h;I++){var P=0,R=0;if(null!==(m=g?_.geometries[I]:_)){T=m.coordinates;var N=m.type;switch(w=!o||"Polygon"!==N&&"MultiPolygon"!==N?0:1,N){case null:break;case"Point":if(!1===a(T,x,k,P,R))return!1;x++,P++;break;case"LineString":case"MultiPoint":for(l=0;l<T.length;l++){if(!1===a(T[l],x,k,P,R))return!1;x++,"MultiPoint"===N&&P++}"LineString"===N&&P++;break;case"Polygon":case"MultiLineString":for(l=0;l<T.length;l++){for(u=0;u<T[l].length-w;u++){if(!1===a(T[l][u],x,k,P,R))return!1;x++}"MultiLineString"===N&&P++,"Polygon"===N&&R++}"Polygon"===N&&P++;break;case"MultiPolygon":for(l=0;l<T.length;l++){for(R=0,u=0;u<T[l].length;u++){for(d=0;d<T[l][u].length-w;d++){if(!1===a(T[l][u][d],x,k,P,R))return!1;x++}R++}P++}break;case"GeometryCollection":for(l=0;l<m.geometries.length;l++)if(!1===E(m.geometries[l],a,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f(s,a){var o;switch(s.type){case"FeatureCollection":for(o=0;o<s.features.length&&!1!==a(s.features[o].properties,o);o++);break;case"Feature":a(s.properties,0)}}function S(s,a){if("Feature"===s.type)a(s,0);else if("FeatureCollection"===s.type)for(var o=0;o<s.features.length&&!1!==a(s.features[o],o);o++);}function M(s,a){var o,l,u,d,m,h,T,_,g,w,x=0,b="FeatureCollection"===s.type,A="Feature"===s.type,p=b?s.features.length:1;for(o=0;o<p;o++){for(_=b?s.features[o].properties:A?s.properties:{},g=b?s.features[o].bbox:A?s.bbox:void 0,w=b?s.features[o].id:A?s.id:void 0,m=(T=!!(h=b?s.features[o].geometry:A?s.geometry:s)&&"GeometryCollection"===h.type)?h.geometries.length:1,u=0;u<m;u++)if(null!==(d=T?h.geometries[u]:h))switch(d.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===a(d,x,_,g,w))return!1;break;case"GeometryCollection":for(l=0;l<d.geometries.length;l++)if(!1===a(d.geometries[l],x,_,g,w))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===a(null,x,_,g,w))return!1;x++}}function v(s,a){M(s,function(o,l,u,d,m){var h,T=null===o?null:o.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==a(D.feature(o,u,{bbox:d,id:m}),l,0)&&void 0}switch(T){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon"}for(var _=0;_<o.coordinates.length;_++)if(!1===a(D.feature({type:h,coordinates:o.coordinates[_]},u),l,_))return!1})}function c(s,a){v(s,function(o,l,u){var d=0;if(o.geometry){var m=o.geometry.type;if("Point"!==m&&"MultiPoint"!==m){var h,T=0,_=0,g=0;return!1!==E(o,function(w,x,b,A,p){if(void 0===h||l>T||A>_||p>g)return h=w,T=l,_=A,g=p,void(d=0);var O=D.lineString([h,w],o.properties);if(!1===a(O,l,u,p,d))return!1;d++,h=w})&&void 0}}})}function i(s,a){if(!s)throw new Error("geojson is required");v(s,function(o,l,u){if(null!==o.geometry){var m=o.geometry.coordinates;switch(o.geometry.type){case"LineString":if(!1===a(o,l,u,0,0))return!1;break;case"Polygon":for(var h=0;h<m.length;h++)if(!1===a(D.lineString(m[h],o.properties),l,u,h))return!1}}})}B.coordEach=E,B.coordReduce=function(s,a,o,l){var u=o;return E(s,function(d,m,h,T,_){u=0===m&&void 0===o?d:a(u,d,m,h,T,_)},l),u},B.propEach=f,B.propReduce=function(s,a,o){var l=o;return f(s,function(u,d){l=0===d&&void 0===o?u:a(l,u,d)}),l},B.featureEach=S,B.featureReduce=function(s,a,o){var l=o;return S(s,function(u,d){l=0===d&&void 0===o?u:a(l,u,d)}),l},B.coordAll=function(s){var a=[];return E(s,function(o){a.push(o)}),a},B.geomEach=M,B.geomReduce=function(s,a,o){var l=o;return M(s,function(u,d,m,h,T){l=0===d&&void 0===o?u:a(l,u,d,m,h,T)}),l},B.flattenEach=v,B.flattenReduce=function(s,a,o){var l=o;return v(s,function(u,d,m){l=0===d&&0===m&&void 0===o?u:a(l,u,d,m)}),l},B.segmentEach=c,B.segmentReduce=function(s,a,o){var l=o,u=!1;return c(s,function(d,m,h,T,_){l=!1===u&&void 0===o?d:a(l,d,m,h,T,_),u=!0}),l},B.lineEach=i,B.lineReduce=function(s,a,o){var l=o;return i(s,function(u,d,m,h){l=0===d&&void 0===o?u:a(l,u,d,m,h)}),l},B.findSegment=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,u=a.multiFeatureIndex||0,d=a.geometryIndex||0,m=a.segmentIndex||0,h=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),h=h||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":h=h||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=T.length+m-1),D.lineString([T[m],T[m+1]],h,a);case"Polygon":return d<0&&(d=T.length+d),m<0&&(m=T[d].length+m-1),D.lineString([T[d][m],T[d][m+1]],h,a);case"MultiLineString":return u<0&&(u=T.length+u),m<0&&(m=T[u].length+m-1),D.lineString([T[u][m],T[u][m+1]],h,a);case"MultiPolygon":return u<0&&(u=T.length+u),d<0&&(d=T[u].length+d),m<0&&(m=T[u][d].length-m-1),D.lineString([T[u][d][m],T[u][d][m+1]],h,a)}throw new Error("geojson is invalid")},B.findPoint=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,u=a.multiFeatureIndex||0,d=a.geometryIndex||0,m=a.coordIndex||0,h=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),h=h||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":h=h||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":return D.point(T,h,a);case"MultiPoint":return u<0&&(u=T.length+u),D.point(T[u],h,a);case"LineString":return m<0&&(m=T.length+m),D.point(T[m],h,a);case"Polygon":return d<0&&(d=T.length+d),m<0&&(m=T[d].length+m),D.point(T[d][m],h,a);case"MultiLineString":return u<0&&(u=T.length+u),m<0&&(m=T[u].length+m),D.point(T[u][m],h,a);case"MultiPolygon":return u<0&&(u=T.length+u),d<0&&(d=T[u].length+d),m<0&&(m=T[u][d].length-m),D.point(T[u][d][m],h,a)}throw new Error("geojson is invalid")}},65185:function(ae){ae.exports=function(B){var r=0,D=0,E=0,f=0;return B.map(function(S){var M=(S=S.slice())[0],v=M.toUpperCase();if(M!=v)switch(S[0]=v,M){case"a":S[6]+=E,S[7]+=f;break;case"v":S[1]+=f;break;case"h":S[1]+=E;break;default:for(var c=1;c<S.length;)S[c++]+=E,S[c++]+=f}switch(v){case"Z":E=r,f=D;break;case"H":E=S[1];break;case"V":f=S[1];break;case"M":E=r=S[1],f=D=S[2];break;default:E=S[S.length-2],f=S[S.length-1]}return S})}},21527:function(ae){"use strict";ae.exports=function(B,r){if(!B||null==B.length)throw Error("Argument should be an array");r=null==r?1:Math.floor(r);for(var D=Array(2*r),E=0;E<r;E++){for(var f=-1/0,S=1/0,M=E,v=B.length;M<v;M+=r)B[M]>f&&(f=B[M]),B[M]<S&&(S=B[M]);D[E]=S,D[r+E]=f}return D}},6851:function(ae){"use strict";ae.exports=function(B,r,D){if("function"==typeof Array.prototype.findIndex)return B.findIndex(r,D);if("function"!=typeof r)throw new TypeError("predicate must be a function");var E=Object(B),f=E.length;if(0===f)return-1;for(var S=0;S<f;S++)if(r.call(D,E[S],S,E))return S;return-1}},54:function(ae,B,r){"use strict";var D=r(21527);ae.exports=function(E,f,S){if(!E||null==E.length)throw Error("Argument should be an array");null==f&&(f=1),null==S&&(S=D(E,f));for(var M=0;M<f;M++){var v=S[f+M],c=S[M],i=M,s=E.length;if(v===1/0&&c===-1/0)for(i=M;i<s;i+=f)E[i]=E[i]===v?1:E[i]===c?0:.5;else if(v===1/0)for(i=M;i<s;i+=f)E[i]=E[i]===v?1:0;else if(c===-1/0)for(i=M;i<s;i+=f)E[i]=E[i]===c?0:1;else{var a=v-c;for(i=M;i<s;i+=f)isNaN(E[i])||(E[i]=0===a?.5:(E[i]-c)/a)}}return E}},57471:function(ae){ae.exports=function(B,r){var D="number"==typeof B,E="number"==typeof r;D&&!E?(r=B,B=0):D||E||(B=0,r=0);var f=(r|=0)-(B|=0);if(f<0)throw new Error("array length must be positive");for(var S=new Array(f),M=0,v=B;M<f;M++,v++)S[M]=v;return S}},32791:function(ae,B,r){"use strict";var D=r(90386);function E(F){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"==typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(F)}var f,S,M=r(79616).codes,v=M.ERR_AMBIGUOUS_ARGUMENT,c=M.ERR_INVALID_ARG_TYPE,i=M.ERR_INVALID_ARG_VALUE,s=M.ERR_INVALID_RETURN_VALUE,a=M.ERR_MISSING_ARGS,o=r(73894),l=r(43827).inspect,u=r(43827).types,d=u.isPromise,m=u.isRegExp,h=Object.assign?Object.assign:r(73523).assign,T=Object.is?Object.is:r(64003);function _(){var F=r(74061);f=F.isDeepEqual,S=F.isDeepStrictEqual}var g=!1,w=ae.exports=p,x={};function b(F){throw F.message instanceof Error?F.message:new o(F)}function A(F,Z,W,H){if(!W){var G=!1;if(0===Z)G=!0,H="No value argument passed to `assert.ok()`";else if(H instanceof Error)throw H;var Y=new o({actual:W,expected:!0,message:H,operator:"==",stackStartFn:F});throw Y.generatedMessage=G,Y}}function p(){for(var F=arguments.length,Z=new Array(F),W=0;W<F;W++)Z[W]=arguments[W];A.apply(void 0,[p,Z.length].concat(Z))}w.fail=function F(Z,W,H,G,Y){var se,te=arguments.length;if(0===te?se="Failed":1===te?(H=Z,Z=void 0):(!1===g&&(g=!0,(D.emitWarning?D.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===te&&(G="!=")),H instanceof Error)throw H;var re={actual:Z,expected:W,operator:void 0===G?"fail":G,stackStartFn:Y||F};void 0!==H&&(re.message=H);var Q=new o(re);throw se&&(Q.message=se,Q.generatedMessage=!0),Q},w.AssertionError=o,w.ok=p,w.equal=function F(Z,W,H){if(arguments.length<2)throw new a("actual","expected");Z!=W&&b({actual:Z,expected:W,message:H,operator:"==",stackStartFn:F})},w.notEqual=function F(Z,W,H){if(arguments.length<2)throw new a("actual","expected");Z==W&&b({actual:Z,expected:W,message:H,operator:"!=",stackStartFn:F})},w.deepEqual=function F(Z,W,H){if(arguments.length<2)throw new a("actual","expected");void 0===f&&_(),f(Z,W)||b({actual:Z,expected:W,message:H,operator:"deepEqual",stackStartFn:F})},w.notDeepEqual=function F(Z,W,H){if(arguments.length<2)throw new a("actual","expected");void 0===f&&_(),f(Z,W)&&b({actual:Z,expected:W,message:H,operator:"notDeepEqual",stackStartFn:F})},w.deepStrictEqual=function F(Z,W,H){if(arguments.length<2)throw new a("actual","expected");void 0===f&&_(),S(Z,W)||b({actual:Z,expected:W,message:H,operator:"deepStrictEqual",stackStartFn:F})},w.notDeepStrictEqual=function F(Z,W,H){if(arguments.length<2)throw new a("actual","expected");void 0===f&&_(),S(Z,W)&&b({actual:Z,expected:W,message:H,operator:"notDeepStrictEqual",stackStartFn:F})},w.strictEqual=function F(Z,W,H){if(arguments.length<2)throw new a("actual","expected");T(Z,W)||b({actual:Z,expected:W,message:H,operator:"strictEqual",stackStartFn:F})},w.notStrictEqual=function F(Z,W,H){if(arguments.length<2)throw new a("actual","expected");T(Z,W)&&b({actual:Z,expected:W,message:H,operator:"notStrictEqual",stackStartFn:F})};var O=function F(Z,W,H){var G=this;(function(Y,se){if(!(Y instanceof se))throw new TypeError("Cannot call a class as a function")})(this,F),W.forEach(function(Y){Y in Z&&(G[Y]=void 0!==H&&"string"==typeof H[Y]&&m(Z[Y])&&Z[Y].test(H[Y])?H[Y]:Z[Y])})};function k(F,Z,W,H){if("function"!=typeof Z){if(m(Z))return Z.test(F);if(2===arguments.length)throw new c("expected",["Function","RegExp"],Z);if("object"!==E(F)||null===F){var G=new o({actual:F,expected:Z,message:W,operator:"deepStrictEqual",stackStartFn:H});throw G.operator=H.name,G}var Y=Object.keys(Z);if(Z instanceof Error)Y.push("name","message");else if(0===Y.length)throw new i("error",Z,"may not be an empty object");return void 0===f&&_(),Y.forEach(function(se){"string"==typeof F[se]&&m(Z[se])&&Z[se].test(F[se])||function(te,re,Q,ee,oe,le){if(!(Q in te)||!S(te[Q],re[Q])){if(!ee){var ue=new O(te,oe),de=new O(re,oe,te),he=new o({actual:ue,expected:de,operator:"deepStrictEqual",stackStartFn:le});throw he.actual=te,he.expected=re,he.operator=le.name,he}b({actual:te,expected:re,message:ee,operator:le.name,stackStartFn:le})}}(F,Z,se,W,Y,H)}),!0}return void 0!==Z.prototype&&F instanceof Z||!Error.isPrototypeOf(Z)&&!0===Z.call({},F)}function I(F){if("function"!=typeof F)throw new c("fn","Function",F);try{F()}catch(Z){return Z}return x}function P(F){return d(F)||null!==F&&"object"===E(F)&&"function"==typeof F.then&&"function"==typeof F.catch}function R(F){return Promise.resolve().then(function(){var Z;if("function"==typeof F){if(!P(Z=F()))throw new s("instance of Promise","promiseFn",Z)}else{if(!P(F))throw new c("promiseFn",["Function","Promise"],F);Z=F}return Promise.resolve().then(function(){return Z}).then(function(){return x}).catch(function(W){return W})})}function N(F,Z,W,H){if("string"==typeof W){if(4===arguments.length)throw new c("error",["Object","Error","Function","RegExp"],W);if("object"===E(Z)&&null!==Z){if(Z.message===W)throw new v("error/message",'The error message "'.concat(Z.message,'" is identical to the message.'))}else if(Z===W)throw new v("error/message",'The error "'.concat(Z,'" is identical to the message.'));H=W,W=void 0}else if(null!=W&&"object"!==E(W)&&"function"!=typeof W)throw new c("error",["Object","Error","Function","RegExp"],W);if(Z===x){var G="";W&&W.name&&(G+=" (".concat(W.name,")")),G+=H?": ".concat(H):".",b({actual:void 0,expected:W,operator:F.name,message:"Missing expected ".concat("rejects"===F.name?"rejection":"exception").concat(G),stackStartFn:F})}if(W&&!k(Z,W,H,F))throw Z}function j(F,Z,W,H){if(Z!==x){if("string"==typeof W&&(H=W,W=void 0),!W||k(Z,W)){var G=H?": ".concat(H):".";b({actual:Z,expected:W,operator:F.name,message:"Got unwanted ".concat("doesNotReject"===F.name?"rejection":"exception").concat(G,"\n")+'Actual message: "'.concat(Z&&Z.message,'"'),stackStartFn:F})}throw Z}}function X(){for(var F=arguments.length,Z=new Array(F),W=0;W<F;W++)Z[W]=arguments[W];A.apply(void 0,[X,Z.length].concat(Z))}w.throws=function F(Z){for(var W=arguments.length,H=new Array(W>1?W-1:0),G=1;G<W;G++)H[G-1]=arguments[G];N.apply(void 0,[F,I(Z)].concat(H))},w.rejects=function F(Z){for(var W=arguments.length,H=new Array(W>1?W-1:0),G=1;G<W;G++)H[G-1]=arguments[G];return R(Z).then(function(Y){return N.apply(void 0,[F,Y].concat(H))})},w.doesNotThrow=function F(Z){for(var W=arguments.length,H=new Array(W>1?W-1:0),G=1;G<W;G++)H[G-1]=arguments[G];j.apply(void 0,[F,I(Z)].concat(H))},w.doesNotReject=function F(Z){for(var W=arguments.length,H=new Array(W>1?W-1:0),G=1;G<W;G++)H[G-1]=arguments[G];return R(Z).then(function(Y){return j.apply(void 0,[F,Y].concat(H))})},w.ifError=function F(Z){if(null!=Z){var W="ifError got unwanted exception: ";"object"===E(Z)&&"string"==typeof Z.message?W+=0===Z.message.length&&Z.constructor?Z.constructor.name:Z.message:W+=l(Z);var H=new o({actual:Z,expected:null,operator:"ifError",message:W,stackStartFn:F}),G=Z.stack;if("string"==typeof G){var Y=G.split("\n");Y.shift();for(var se=H.stack.split("\n"),te=0;te<Y.length;te++){var re=se.indexOf(Y[te]);if(-1!==re){se=se.slice(0,re);break}}H.stack="".concat(se.join("\n"),"\n").concat(Y.join("\n"))}throw H}},w.strict=h(X,w,{equal:w.strictEqual,deepEqual:w.deepStrictEqual,notEqual:w.notStrictEqual,notDeepEqual:w.notDeepStrictEqual}),w.strict.strict=w.strict},73894:function(ae,B,r){"use strict";var D=r(90386);function E(b,A,p){return A in b?Object.defineProperty(b,A,{value:p,enumerable:!0,configurable:!0,writable:!0}):b[A]=p,b}function S(b,A){return!A||"object"!==a(A)&&"function"!=typeof A?M(b):A}function M(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function v(b){var A="function"==typeof Map?new Map:void 0;return v=function(p){if(null===p||-1===Function.toString.call(p).indexOf("[native code]"))return p;if("function"!=typeof p)throw new TypeError("Super expression must either be null or a function");if(void 0!==A){if(A.has(p))return A.get(p);A.set(p,k)}function k(){return c(p,arguments,s(this).constructor)}return k.prototype=Object.create(p.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),i(k,p)},v(b)}function c(b,A,p){return(c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(O,k,I){var P=[null];P.push.apply(P,k);var R=new(Function.bind.apply(O,P));return I&&i(R,I.prototype),R}).apply(null,arguments)}function i(b,A){return(i=Object.setPrototypeOf||function(p,O){return p.__proto__=O,p})(b,A)}function s(b){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(b)}function a(b){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(b)}var o=r(43827).inspect,l=r(79616).codes.ERR_INVALID_ARG_TYPE;function u(b,A,p){return(void 0===p||p>b.length)&&(p=b.length),b.substring(p-A.length,p)===A}var d="",m="",h="",T="",_={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function g(b){var A=Object.keys(b),p=Object.create(Object.getPrototypeOf(b));return A.forEach(function(O){p[O]=b[O]}),Object.defineProperty(p,"message",{value:b.message}),p}function w(b){return o(b,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var x=function(b){function A(k){var I;if(function(se,te){if(!(se instanceof te))throw new TypeError("Cannot call a class as a function")}(this,A),"object"!==a(k)||null===k)throw new l("options","Object",k);var P=k.message,R=k.operator,N=k.stackStartFn,j=k.actual,X=k.expected,F=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=P)I=S(this,s(A).call(this,String(P)));else if(D.stderr&&D.stderr.isTTY&&(D.stderr&&D.stderr.getColorDepth&&1!==D.stderr.getColorDepth()?(d="\x1b[34m",m="\x1b[32m",T="\x1b[39m",h="\x1b[31m"):(d="",m="",T="",h="")),"object"===a(j)&&null!==j&&"object"===a(X)&&null!==X&&"stack"in j&&j instanceof Error&&"stack"in X&&X instanceof Error&&(j=g(j),X=g(X)),"deepStrictEqual"===R||"strictEqual"===R)I=S(this,s(A).call(this,function(se,te,re){var Q="",ee="",oe=0,le="",ue=!1,de=w(se),he=de.split("\n"),we=w(te).split("\n"),Ae=0,Te="";if("strictEqual"===re&&"object"===a(se)&&"object"===a(te)&&null!==se&&null!==te&&(re="strictEqualObject"),1===he.length&&1===we.length&&he[0]!==we[0]){var ve=he[0].length+we[0].length;if(ve<=10){if(!("object"===a(se)&&null!==se||"object"===a(te)&&null!==te||0===se&&0===te))return"".concat(_[re],"\n\n")+"".concat(he[0]," !== ").concat(we[0],"\n")}else if("strictEqualObject"!==re&&ve<(D.stderr&&D.stderr.isTTY?D.stderr.columns:80)){for(;he[0][Ae]===we[0][Ae];)Ae++;Ae>2&&(Te="\n  ".concat(function(Ge,ye){if(ye=Math.floor(ye),0==Ge.length||0==ye)return"";var Ie=Ge.length*ye;for(ye=Math.floor(Math.log(ye)/Math.log(2));ye;)Ge+=Ge,ye--;return Ge+Ge.substring(0,Ie-Ge.length)}(" ",Ae),"^"),Ae=0)}}for(var xe=he[he.length-1],Fe=we[we.length-1];xe===Fe&&(Ae++<2?le="\n  ".concat(xe).concat(le):Q=xe,he.pop(),we.pop(),0!==he.length&&0!==we.length);)xe=he[he.length-1],Fe=we[we.length-1];var Se=Math.max(he.length,we.length);if(0===Se){var ke=de.split("\n");if(ke.length>30)for(ke[26]="".concat(d,"...").concat(T);ke.length>27;)ke.pop();return"".concat(_.notIdentical,"\n\n").concat(ke.join("\n"),"\n")}Ae>3&&(le="\n".concat(d,"...").concat(T).concat(le),ue=!0),""!==Q&&(le="\n  ".concat(Q).concat(le),Q="");var pe=0,fe=_[re]+"\n".concat(m,"+ actual").concat(T," ").concat(h,"- expected").concat(T),be=" ".concat(d,"...").concat(T," Lines skipped");for(Ae=0;Ae<Se;Ae++){var Le=Ae-oe;if(he.length<Ae+1)Le>1&&Ae>2&&(Le>4?(ee+="\n".concat(d,"...").concat(T),ue=!0):Le>3&&(ee+="\n  ".concat(we[Ae-2]),pe++),ee+="\n  ".concat(we[Ae-1]),pe++),oe=Ae,Q+="\n".concat(h,"-").concat(T," ").concat(we[Ae]),pe++;else if(we.length<Ae+1)Le>1&&Ae>2&&(Le>4?(ee+="\n".concat(d,"...").concat(T),ue=!0):Le>3&&(ee+="\n  ".concat(he[Ae-2]),pe++),ee+="\n  ".concat(he[Ae-1]),pe++),oe=Ae,ee+="\n".concat(m,"+").concat(T," ").concat(he[Ae]),pe++;else{var Oe=we[Ae],De=he[Ae],Ue=De!==Oe&&(!u(De,",")||De.slice(0,-1)!==Oe);Ue&&u(Oe,",")&&Oe.slice(0,-1)===De&&(Ue=!1,De+=","),Ue?(Le>1&&Ae>2&&(Le>4?(ee+="\n".concat(d,"...").concat(T),ue=!0):Le>3&&(ee+="\n  ".concat(he[Ae-2]),pe++),ee+="\n  ".concat(he[Ae-1]),pe++),oe=Ae,ee+="\n".concat(m,"+").concat(T," ").concat(De),Q+="\n".concat(h,"-").concat(T," ").concat(Oe),pe+=2):(ee+=Q,Q="",1!==Le&&0!==Ae||(ee+="\n  ".concat(De),pe++))}if(pe>20&&Ae<Se-2)return"".concat(fe).concat(be,"\n").concat(ee,"\n").concat(d,"...").concat(T).concat(Q,"\n")+"".concat(d,"...").concat(T)}return"".concat(fe).concat(ue?be:"","\n").concat(ee).concat(Q).concat(le).concat(Te)}(j,X,R)));else if("notDeepStrictEqual"===R||"notStrictEqual"===R){var Z=_[R],W=w(j).split("\n");if("notStrictEqual"===R&&"object"===a(j)&&null!==j&&(Z=_.notStrictEqualObject),W.length>30)for(W[26]="".concat(d,"...").concat(T);W.length>27;)W.pop();I=S(this,1===W.length?s(A).call(this,"".concat(Z," ").concat(W[0])):s(A).call(this,"".concat(Z,"\n\n").concat(W.join("\n"),"\n")))}else{var H=w(j),G="",Y=_[R];"notDeepEqual"===R||"notEqual"===R?(H="".concat(_[R],"\n\n").concat(H)).length>1024&&(H="".concat(H.slice(0,1021),"...")):(G="".concat(w(X)),H.length>512&&(H="".concat(H.slice(0,509),"...")),G.length>512&&(G="".concat(G.slice(0,509),"...")),"deepEqual"===R||"equal"===R?H="".concat(Y,"\n\n").concat(H,"\n\nshould equal\n\n"):G=" ".concat(R," ").concat(G)),I=S(this,s(A).call(this,"".concat(H).concat(G)))}return Error.stackTraceLimit=F,I.generatedMessage=!P,Object.defineProperty(M(I),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),I.code="ERR_ASSERTION",I.actual=j,I.expected=X,I.operator=R,Error.captureStackTrace&&Error.captureStackTrace(M(I),N),I.name="AssertionError",S(I)}var O;return function(k,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(I&&I.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),I&&i(k,I)}(A,b),O=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:o.custom,value:function(k,I){return o(this,function(P){for(var R=1;R<arguments.length;R++){var N=null!=arguments[R]?arguments[R]:{},j=Object.keys(N);"function"==typeof Object.getOwnPropertySymbols&&(j=j.concat(Object.getOwnPropertySymbols(N).filter(function(X){return Object.getOwnPropertyDescriptor(N,X).enumerable}))),j.forEach(function(X){E(P,X,N[X])})}return P}({},I,{customInspect:!1,depth:0}))}}],O&&function f(b,A){for(var p=0;p<A.length;p++){var O=A[p];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}(A.prototype,O),A}(v(Error));ae.exports=x},79616:function(ae,B,r){"use strict";function D(s){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function E(s){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(s)}function f(s,a){return(f=Object.setPrototypeOf||function(o,l){return o.__proto__=l,o})(s,a)}var S,M,v={};function c(s,a,o){o||(o=Error);var l=function(u){function d(m,h,T){var _,g,w,x;return function(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}(this,d),(_=function(g,w){return!w||"object"!==D(w)&&"function"!=typeof w?function(x){if(void 0===x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}(g):w}(this,E(d).call(this,(g=m,w=h,x=T,"string"==typeof a?a:a(g,w,x))))).code=s,_}return function(m,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),h&&f(m,h)}(d,u),d}(o);v[s]=l}function i(s,a){if(Array.isArray(s)){var o=s.length;return s=s.map(function(l){return String(l)}),o>2?"one of ".concat(a," ").concat(s.slice(0,o-1).join(", "),", or ")+s[o-1]:2===o?"one of ".concat(a," ").concat(s[0]," or ").concat(s[1]):"of ".concat(a," ").concat(s[0])}return"of ".concat(a," ").concat(String(s))}c("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),c("ERR_INVALID_ARG_TYPE",function(s,a,o){var l,d,m,h,_,w;if(void 0===S&&(S=r(32791)),S("string"==typeof s,"'name' must be a string"),"string"==typeof a&&("not ","not "===a.substr(0,4))?(l="must not be",a=a.replace(/^not /,"")):l="must be",_=s," argument",(void 0===w||w>_.length)&&(w=_.length)," argument"===_.substring(w-9,w))d="The ".concat(s," ").concat(l," ").concat(i(a,"type"));else{var T=("number"!=typeof h&&(h=0),h+1>(m=s).length||-1===m.indexOf(".",h)?"argument":"property");d='The "'.concat(s,'" ').concat(T," ").concat(l," ").concat(i(a,"type"))}return d+". Received type ".concat(D(o))},TypeError),c("ERR_INVALID_ARG_VALUE",function(s,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===M&&(M=r(43827));var l=M.inspect(a);return l.length>128&&(l="".concat(l.slice(0,128),"...")),"The argument '".concat(s,"' ").concat(o,". Received ").concat(l)},TypeError,RangeError),c("ERR_INVALID_RETURN_VALUE",function(s,a,o){var l;return l=o&&o.constructor&&o.constructor.name?"instance of ".concat(o.constructor.name):"type ".concat(D(o)),"Expected ".concat(s,' to be returned from the "').concat(a,'"')+" function but got ".concat(l,".")},TypeError),c("ERR_MISSING_ARGS",function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];void 0===S&&(S=r(32791)),S(a.length>0,"At least one arg needs to be specified");var l="The ",u=a.length;switch(a=a.map(function(d){return'"'.concat(d,'"')}),u){case 1:l+="".concat(a[0]," argument");break;case 2:l+="".concat(a[0]," and ").concat(a[1]," arguments");break;default:l+=a.slice(0,u-1).join(", "),l+=", and ".concat(a[u-1]," arguments")}return"".concat(l," must be specified")},TypeError),ae.exports.codes=v},74061:function(ae,B,r){"use strict";function D(oe,le){return function(ue){if(Array.isArray(ue))return ue}(oe)||function(ue,de){var he=[],we=!0,Ae=!1,Te=void 0;try{for(var ve,xe=ue[Symbol.iterator]();!(we=(ve=xe.next()).done)&&(he.push(ve.value),!de||he.length!==de);we=!0);}catch(Fe){Ae=!0,Te=Fe}finally{try{we||null==xe.return||xe.return()}finally{if(Ae)throw Te}}return he}(oe,le)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(oe){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(le){return typeof le}:function(le){return le&&"function"==typeof Symbol&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le})(oe)}var f=void 0!==/a/g.flags,S=function(oe){var le=[];return oe.forEach(function(ue){return le.push(ue)}),le},M=function(oe){var le=[];return oe.forEach(function(ue,de){return le.push([de,ue])}),le},v=Object.is?Object.is:r(64003),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},i=Number.isNaN?Number.isNaN:r(15567);function s(oe){return oe.call.bind(oe)}var a=s(Object.prototype.hasOwnProperty),o=s(Object.prototype.propertyIsEnumerable),l=s(Object.prototype.toString),u=r(43827).types,d=u.isAnyArrayBuffer,m=u.isArrayBufferView,h=u.isDate,T=u.isMap,_=u.isRegExp,g=u.isSet,w=u.isNativeError,x=u.isBoxedPrimitive,b=u.isNumberObject,A=u.isStringObject,p=u.isBooleanObject,O=u.isBigIntObject,k=u.isSymbolObject,I=u.isFloat32Array,P=u.isFloat64Array;function R(oe){if(0===oe.length||oe.length>10)return!0;for(var le=0;le<oe.length;le++){var ue=oe.charCodeAt(le);if(ue<48||ue>57)return!0}return 10===oe.length&&oe>=Math.pow(2,32)}function N(oe){return Object.keys(oe).filter(R).concat(c(oe).filter(Object.prototype.propertyIsEnumerable.bind(oe)))}function j(oe,le){if(oe===le)return 0;for(var ue=oe.length,de=le.length,he=0,we=Math.min(ue,de);he<we;++he)if(oe[he]!==le[he]){ue=oe[he],de=le[he];break}return ue<de?-1:de<ue?1:0}var X=0,F=1,Z=2,W=3;function H(oe,le,ue,de){if(oe===le)return 0!==oe||!ue||v(oe,le);if(ue){if("object"!==E(oe))return"number"==typeof oe&&i(oe)&&i(le);if("object"!==E(le)||null===oe||null===le||Object.getPrototypeOf(oe)!==Object.getPrototypeOf(le))return!1}else{if(null===oe||"object"!==E(oe))return(null===le||"object"!==E(le))&&oe==le;if(null===le||"object"!==E(le))return!1}var he,we,Ae,Te,pe,fe,ve=l(oe);if(ve!==l(le))return!1;if(Array.isArray(oe)){if(oe.length!==le.length)return!1;var xe=N(oe),Fe=N(le);return xe.length===Fe.length&&Y(oe,le,ue,de,F,xe)}if("[object Object]"===ve&&(!T(oe)&&T(le)||!g(oe)&&g(le)))return!1;if(h(oe)){if(!h(le)||Date.prototype.getTime.call(oe)!==Date.prototype.getTime.call(le))return!1}else if(_(oe)){if(!_(le)||(Ae=oe,Te=le,!(f?Ae.source===Te.source&&Ae.flags===Te.flags:RegExp.prototype.toString.call(Ae)===RegExp.prototype.toString.call(Te))))return!1}else if(w(oe)||oe instanceof Error){if(oe.message!==le.message||oe.name!==le.name)return!1}else{if(m(oe)){if(ue||!I(oe)&&!P(oe)){if((pe=oe).byteLength!==(fe=le).byteLength||0!==j(new Uint8Array(pe.buffer,pe.byteOffset,pe.byteLength),new Uint8Array(fe.buffer,fe.byteOffset,fe.byteLength)))return!1}else if(!function(pe,fe){if(pe.byteLength!==fe.byteLength)return!1;for(var be=0;be<pe.byteLength;be++)if(pe[be]!==fe[be])return!1;return!0}(oe,le))return!1;var Se=N(oe),ke=N(le);return Se.length===ke.length&&Y(oe,le,ue,de,X,Se)}if(g(oe))return!(!g(le)||oe.size!==le.size)&&Y(oe,le,ue,de,Z);if(T(oe))return!(!T(le)||oe.size!==le.size)&&Y(oe,le,ue,de,W);if(d(oe)){if((he=oe).byteLength!==(we=le).byteLength||0!==j(new Uint8Array(he),new Uint8Array(we)))return!1}else if(x(oe)&&!function(pe,fe){return b(pe)?b(fe)&&v(Number.prototype.valueOf.call(pe),Number.prototype.valueOf.call(fe)):A(pe)?A(fe)&&String.prototype.valueOf.call(pe)===String.prototype.valueOf.call(fe):p(pe)?p(fe)&&Boolean.prototype.valueOf.call(pe)===Boolean.prototype.valueOf.call(fe):O(pe)?O(fe)&&BigInt.prototype.valueOf.call(pe)===BigInt.prototype.valueOf.call(fe):k(fe)&&Symbol.prototype.valueOf.call(pe)===Symbol.prototype.valueOf.call(fe)}(oe,le))return!1}return Y(oe,le,ue,de,X)}function G(oe,le){return le.filter(function(ue){return o(oe,ue)})}function Y(oe,le,ue,de,he,we){if(5===arguments.length){we=Object.keys(oe);var Ae=Object.keys(le);if(we.length!==Ae.length)return!1}for(var Te=0;Te<we.length;Te++)if(!a(le,we[Te]))return!1;if(ue&&5===arguments.length){var ve=c(oe);if(0!==ve.length){var xe=0;for(Te=0;Te<ve.length;Te++){var Fe=ve[Te];if(o(oe,Fe)){if(!o(le,Fe))return!1;we.push(Fe),xe++}else if(o(le,Fe))return!1}var Se=c(le);if(ve.length!==Se.length&&G(le,Se).length!==xe)return!1}else{var ke=c(le);if(0!==ke.length&&0!==G(le,ke).length)return!1}}if(0===we.length&&(he===X||he===F&&0===oe.length||0===oe.size))return!0;if(void 0===de)de={val1:new Map,val2:new Map,position:0};else{var pe=de.val1.get(oe);if(void 0!==pe){var fe=de.val2.get(le);if(void 0!==fe)return pe===fe}de.position++}de.val1.set(oe,de.position),de.val2.set(le,de.position);var be=function(Le,Oe,De,Ue,Ge,ye){var Ie=0;if(ye===Z){if(!function(He,Je,et,at){for(var mt=null,ct=S(He),St=0;St<ct.length;St++){var Dt=ct[St];if("object"===E(Dt)&&null!==Dt)null===mt&&(mt=new Set),mt.add(Dt);else if(!Je.has(Dt)){if(et||!re(He,Je,Dt))return!1;null===mt&&(mt=new Set),mt.add(Dt)}}if(null!==mt){for(var Et=S(Je),ht=0;ht<Et.length;ht++){var pt=Et[ht];if("object"===E(pt)&&null!==pt){if(!se(mt,pt,et,at))return!1}else if(!et&&!He.has(pt)&&!se(mt,pt,et,at))return!1}return 0===mt.size}return!0}(Le,Oe,De,Ge))return!1}else if(ye===W){if(!function(He,Je,et,at){for(var mt=null,ct=M(He),St=0;St<ct.length;St++){var Dt=D(ct[St],2),Et=Dt[0],ht=Dt[1];if("object"===E(Et)&&null!==Et)null===mt&&(mt=new Set),mt.add(Et);else{var pt=Je.get(Et);if(void 0===pt&&!Je.has(Et)||!H(ht,pt,et,at)){if(et||!Q(He,Je,Et,ht,at))return!1;null===mt&&(mt=new Set),mt.add(Et)}}}if(null!==mt){for(var Pt=M(Je),Ft=0;Ft<Pt.length;Ft++){var Ht=D(Pt[Ft],2),Lt=(Et=Ht[0],Ht[1]);if("object"===E(Et)&&null!==Et){if(!ee(mt,He,Et,Lt,et,at))return!1}else if(!(et||He.has(Et)&&H(He.get(Et),Lt,!1,at)||ee(mt,He,Et,Lt,!1,at)))return!1}return 0===mt.size}return!0}(Le,Oe,De,Ge))return!1}else if(ye===F)for(;Ie<Le.length;Ie++){if(!a(Le,Ie)){if(a(Oe,Ie))return!1;for(var Ee=Object.keys(Le);Ie<Ee.length;Ie++){var Be=Ee[Ie];if(!a(Oe,Be)||!H(Le[Be],Oe[Be],De,Ge))return!1}return Ee.length===Object.keys(Oe).length}if(!a(Oe,Ie)||!H(Le[Ie],Oe[Ie],De,Ge))return!1}for(Ie=0;Ie<Ue.length;Ie++){var We=Ue[Ie];if(!H(Le[We],Oe[We],De,Ge))return!1}return!0}(oe,le,ue,we,de,he);return de.val1.delete(oe),de.val2.delete(le),be}function se(oe,le,ue,de){for(var he=S(oe),we=0;we<he.length;we++){var Ae=he[we];if(H(le,Ae,ue,de))return oe.delete(Ae),!0}return!1}function te(oe){switch(E(oe)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":oe=+oe;case"number":if(i(oe))return!1}return!0}function re(oe,le,ue){var de=te(ue);return de??(le.has(de)&&!oe.has(de))}function Q(oe,le,ue,de,he){var we=te(ue);if(null!=we)return we;var Ae=le.get(we);return!(void 0===Ae&&!le.has(we)||!H(de,Ae,!1,he))&&!oe.has(we)&&H(de,Ae,!1,he)}function ee(oe,le,ue,de,he,we){for(var Ae=S(oe),Te=0;Te<Ae.length;Te++){var ve=Ae[Te];if(H(ue,ve,he,we)&&H(de,le.get(ve),he,we))return oe.delete(ve),!0}return!1}ae.exports={isDeepEqual:function(oe,le){return H(oe,le,!1)},isDeepStrictEqual:function(oe,le){return H(oe,le,!0)}}},95341:function(ae,B){"use strict";B.byteLength=function(c){var i=M(c),a=i[1];return 3*(i[0]+a)/4-a},B.toByteArray=function(c){var i,s,_,a=M(c),o=a[0],l=a[1],u=new E(3*(o+(_=l))/4-_),d=0,m=l>0?o-4:o;for(s=0;s<m;s+=4)i=D[c.charCodeAt(s)]<<18|D[c.charCodeAt(s+1)]<<12|D[c.charCodeAt(s+2)]<<6|D[c.charCodeAt(s+3)],u[d++]=i>>16&255,u[d++]=i>>8&255,u[d++]=255&i;return 2===l&&(i=D[c.charCodeAt(s)]<<2|D[c.charCodeAt(s+1)]>>4,u[d++]=255&i),1===l&&(i=D[c.charCodeAt(s)]<<10|D[c.charCodeAt(s+1)]<<4|D[c.charCodeAt(s+2)]>>2,u[d++]=i>>8&255,u[d++]=255&i),u},B.fromByteArray=function(c){for(var i,s=c.length,a=s%3,o=[],l=16383,u=0,d=s-a;u<d;u+=l)o.push(v(c,u,u+l>d?d:u+l));return 1===a?o.push(r[(i=c[s-1])>>2]+r[i<<4&63]+"=="):2===a&&o.push(r[(i=(c[s-2]<<8)+c[s-1])>>10]+r[i>>4&63]+r[i<<2&63]+"="),o.join("")};for(var r=[],D=[],E=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0;S<64;++S)r[S]=f[S],D[f.charCodeAt(S)]=S;function M(c){var i=c.length;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=c.indexOf("=");return-1===s&&(s=i),[s,s===i?0:4-s%4]}function v(c,i,s){for(var o,l=[],u=i;u<s;u+=3)l.push(r[(o=(c[u]<<16&16711680)+(c[u+1]<<8&65280)+(255&c[u+2]))>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return l.join("")}D["-".charCodeAt(0)]=62,D["_".charCodeAt(0)]=63},91358:function(ae){"use strict";function B(M,v,c,i,s){for(var a=s+1;i<=s;){var o=i+s>>>1,l=M[o];(void 0!==c?c(l,v):l-v)>=0?(a=o,s=o-1):i=o+1}return a}function r(M,v,c,i,s){for(var a=s+1;i<=s;){var o=i+s>>>1,l=M[o];(void 0!==c?c(l,v):l-v)>0?(a=o,s=o-1):i=o+1}return a}function D(M,v,c,i,s){for(var a=i-1;i<=s;){var o=i+s>>>1,l=M[o];(void 0!==c?c(l,v):l-v)<0?(a=o,i=o+1):s=o-1}return a}function E(M,v,c,i,s){for(var a=i-1;i<=s;){var o=i+s>>>1,l=M[o];(void 0!==c?c(l,v):l-v)<=0?(a=o,i=o+1):s=o-1}return a}function f(M,v,c,i,s){for(;i<=s;){var a=i+s>>>1,o=M[a],l=void 0!==c?c(o,v):o-v;if(0===l)return a;l<=0?i=a+1:s=a-1}return-1}function S(M,v,c,i,s,a){return"function"==typeof c?a(M,v,c,void 0===i?0:0|i,void 0===s?M.length-1:0|s):a(M,v,void 0,void 0===c?0:0|c,void 0===i?M.length-1:0|i)}ae.exports={ge:function(M,v,c,i,s){return S(M,v,c,i,s,B)},gt:function(M,v,c,i,s){return S(M,v,c,i,s,r)},lt:function(M,v,c,i,s){return S(M,v,c,i,s,D)},le:function(M,v,c,i,s){return S(M,v,c,i,s,E)},eq:function(M,v,c,i,s){return S(M,v,c,i,s,f)}}},13547:function(ae,B){"use strict";function r(E){var f=32;return(E&=-E)&&f--,65535&E&&(f-=16),16711935&E&&(f-=8),252645135&E&&(f-=4),858993459&E&&(f-=2),1431655765&E&&(f-=1),f}B.INT_BITS=32,B.INT_MAX=2147483647,B.INT_MIN=-2147483648,B.sign=function(E){return(E>0)-(E<0)},B.abs=function(E){var f=E>>31;return(E^f)-f},B.min=function(E,f){return f^(E^f)&-(E<f)},B.max=function(E,f){return E^(E^f)&-(E<f)},B.isPow2=function(E){return!(E&E-1||!E)},B.log2=function(E){var f,S;return f=(E>65535)<<4,f|=S=((E>>>=f)>255)<<3,f|=S=((E>>>=S)>15)<<2,(f|=S=((E>>>=S)>3)<<1)|(E>>>=S)>>1},B.log10=function(E){return E>=1e9?9:E>=1e8?8:E>=1e7?7:E>=1e6?6:E>=1e5?5:E>=1e4?4:E>=1e3?3:E>=100?2:E>=10?1:0},B.popCount=function(E){return 16843009*((E=(858993459&(E-=E>>>1&1431655765))+(E>>>2&858993459))+(E>>>4)&252645135)>>>24},B.countTrailingZeros=r,B.nextPow2=function(E){return E+=0===E,--E,E|=E>>>1,E|=E>>>2,E|=E>>>4,1+((E|=E>>>8)|E>>>16)},B.prevPow2=function(E){return E|=E>>>1,E|=E>>>2,E|=E>>>4,E|=E>>>8,(E|=E>>>16)-(E>>>1)},B.parity=function(E){return E^=E>>>16,E^=E>>>8,E^=E>>>4,27030>>>(E&=15)&1};var D=new Array(256);(function(E){for(var f=0;f<256;++f){var S=f,M=f,v=7;for(S>>>=1;S;S>>>=1)M<<=1,M|=1&S,--v;E[f]=M<<v&255}})(D),B.reverse=function(E){return D[255&E]<<24|D[E>>>8&255]<<16|D[E>>>16&255]<<8|D[E>>>24&255]},B.interleave2=function(E,f){return(E=1431655765&((E=858993459&((E=252645135&((E=16711935&((E&=65535)|E<<8))|E<<4))|E<<2))|E<<1))|(f=1431655765&((f=858993459&((f=252645135&((f=16711935&((f&=65535)|f<<8))|f<<4))|f<<2))|f<<1))<<1},B.deinterleave2=function(E,f){return(E=65535&((E=16711935&((E=252645135&((E=858993459&((E=E>>>f&1431655765)|E>>>1))|E>>>2))|E>>>4))|E>>>16))<<16>>16},B.interleave3=function(E,f,S){return E=1227133513&((E=3272356035&((E=251719695&((E=4278190335&((E&=1023)|E<<16))|E<<8))|E<<4))|E<<2),(E|=(f=1227133513&((f=3272356035&((f=251719695&((f=4278190335&((f&=1023)|f<<16))|f<<8))|f<<4))|f<<2))<<1)|(S=1227133513&((S=3272356035&((S=251719695&((S=4278190335&((S&=1023)|S<<16))|S<<8))|S<<4))|S<<2))<<2},B.deinterleave3=function(E,f){return(E=1023&((E=4278190335&((E=251719695&((E=3272356035&((E=E>>>f&1227133513)|E>>>2))|E>>>4))|E>>>8))|E>>>16))<<22>>22},B.nextCombination=function(E){var f=E|E-1;return f+1|(~f&-~f)-1>>>r(E)+1}},44781:function(ae,B,r){"use strict";var D=r(53435);ae.exports=function(M,v){v||(v={});var c,i,s,a,o,l,d,h,T,_=null==v.cutoff?.25:v.cutoff,g=null==v.radius?8:v.radius,w=v.channel||0;if(ArrayBuffer.isView(M)||Array.isArray(M)){if(!v.width||!v.height)throw Error("For raw data width and height should be provided by options");c=v.width,i=v.height,a=M,l=v.stride?v.stride:Math.floor(M.length/c/i)}else window.HTMLCanvasElement&&M instanceof window.HTMLCanvasElement?(a=(d=M).getContext("2d").getImageData(0,0,c=d.width,i=d.height).data,l=4):window.CanvasRenderingContext2D&&M instanceof window.CanvasRenderingContext2D?(c=(d=M.canvas).width,a=M.getImageData(0,0,c,i=d.height).data,l=4):window.ImageData&&M instanceof window.ImageData&&(c=M.width,i=M.height,a=M.data,l=4);if(s=Math.max(c,i),window.Uint8ClampedArray&&a instanceof window.Uint8ClampedArray||window.Uint8Array&&a instanceof window.Uint8Array)for(o=a,a=Array(c*i),h=0,T=o.length;h<T;h++)a[h]=o[h*l+w]/255;else if(1!==l)throw Error("Raw data can have only 1 value per pixel");var x=Array(c*i),b=Array(c*i),A=Array(s),p=Array(s),O=Array(s+1),k=Array(s);for(h=0,T=c*i;h<T;h++){var I=a[h];x[h]=1===I?0:0===I?E:Math.pow(Math.max(0,.5-I),2),b[h]=1===I?E:0===I?0:Math.pow(Math.max(0,I-.5),2)}f(x,c,i,A,p,k,O),f(b,c,i,A,p,k,O);var P=window.Float32Array?new Float32Array(c*i):new Array(c*i);for(h=0,T=c*i;h<T;h++)P[h]=D(1-((x[h]-b[h])/g+_),0,1);return P};var E=1e20;function f(M,v,c,i,s,a,o){for(var l=0;l<v;l++){for(var u=0;u<c;u++)i[u]=M[u*v+l];for(S(i,s,a,o,c),u=0;u<c;u++)M[u*v+l]=s[u]}for(u=0;u<c;u++){for(l=0;l<v;l++)i[l]=M[u*v+l];for(S(i,s,a,o,v),l=0;l<v;l++)M[u*v+l]=Math.sqrt(s[l])}}function S(M,v,c,i,s){c[0]=0,i[0]=-E,i[1]=+E;for(var a=1,o=0;a<s;a++){for(var l=(M[a]+a*a-(M[c[o]]+c[o]*c[o]))/(2*a-2*c[o]);l<=i[o];)o--,l=(M[a]+a*a-(M[c[o]]+c[o]*c[o]))/(2*a-2*c[o]);c[++o]=a,i[o]=l,i[o+1]=+E}for(a=0,o=0;a<s;a++){for(;i[o+1]<a;)o++;v[a]=(a-c[o])*(a-c[o])+M[c[o]]}}},6614:function(ae,B,r){"use strict";var D=r(68318),E=r(68222),f=E(D("String.prototype.indexOf"));ae.exports=function(S,M){var v=D(S,!!M);return"function"==typeof v&&f(S,".prototype.")>-1?E(v):v}},68222:function(ae,B,r){"use strict";var D=r(77575),E=r(68318),f=E("%Function.prototype.apply%"),S=E("%Function.prototype.call%"),M=E("%Reflect.apply%",!0)||D.call(S,f),v=E("%Object.getOwnPropertyDescriptor%",!0),c=E("%Object.defineProperty%",!0),i=E("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}ae.exports=function(a){var o=M(D,S,arguments);return v&&c&&v(o,"length").configurable&&c(o,"length",{value:1+i(0,a.length-(arguments.length-1))}),o};var s=function(){return M(D,f,arguments)};c?c(ae.exports,"apply",{value:s}):ae.exports.apply=s},53435:function(ae){ae.exports=function(B,r,D){return r<D?B<r?r:B>D?D:B:B<D?D:B>r?r:B}},6475:function(ae,B,r){"use strict";var D=r(53435);function E(f,S){null==S&&(S=!0);var M=f[0],v=f[1],c=f[2],i=f[3];return null==i&&(i=S?1:255),S&&(M*=255,v*=255,c*=255,i*=255),16777216*(M=255&D(M,0,255))+((v=255&D(v,0,255))<<16)+((c=255&D(c,0,255))<<8)+(255&D(i,0,255))}ae.exports=E,ae.exports.to=E,ae.exports.from=function(f,S){var M=(f=+f)>>>24,v=(16711680&f)>>>16,c=(65280&f)>>>8,i=255&f;return!1===S?[M,v,c,i]:[M/255,v/255,c/255,i/255]}},76857:function(ae){"use strict";ae.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(ae,B,r){"use strict";var D=r(36652),E=r(53435),f=r(90660);ae.exports=function(S,M){"float"!==M&&M||(M="array"),"uint"===M&&(M="uint8"),"uint_clamped"===M&&(M="uint8_clamped");var i,v=new(f(M))(4),c="uint8"!==M&&"uint8_clamped"!==M;return S.length&&"string"!=typeof S||((S=D(S))[0]/=255,S[1]/=255,S[2]/=255),(i=S)instanceof Uint8Array||i instanceof Uint8ClampedArray||Array.isArray(i)&&(i[0]>1||0===i[0])&&(i[1]>1||0===i[1])&&(i[2]>1||0===i[2])&&(!i[3]||i[3]>1)?(v[0]=S[0],v[1]=S[1],v[2]=S[2],v[3]=null!=S[3]?S[3]:255,c&&(v[0]/=255,v[1]/=255,v[2]/=255,v[3]/=255),v):(c?(v[0]=S[0],v[1]=S[1],v[2]=S[2],v[3]=null!=S[3]?S[3]:1):(v[0]=E(Math.floor(255*S[0]),0,255),v[1]=E(Math.floor(255*S[1]),0,255),v[2]=E(Math.floor(255*S[2]),0,255),v[3]=null==S[3]?255:E(Math.floor(255*S[3]),0,255)),v)}},90736:function(ae,B,r){"use strict";var D=r(76857),E=r(10973),f=r(46775);ae.exports=function(M){var v,c,i=[],s=1;if("string"==typeof M)if(D[M])i=D[M].slice(),c="rgb";else if("transparent"===M)s=0,c="rgb",i=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(M)){var a=M.slice(1);s=1,(u=a.length)<=4?(i=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],4===u&&(s=parseInt(a[3]+a[3],16)/255)):(i=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],8===u&&(s=parseInt(a[6]+a[7],16)/255)),i[0]||(i[0]=0),i[1]||(i[1]=0),i[2]||(i[2]=0),c="rgb"}else if(v=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(M)){var o=v[1],l="rgb"===o;c=a=o.replace(/a$/,"");var u="cmyk"===a?4:"gray"===a?1:3;i=v[2].trim().split(/\s*,\s*/).map(function(m,h){if(/%$/.test(m))return h===u?parseFloat(m)/100:"rgb"===a?255*parseFloat(m)/100:parseFloat(m);if("h"===a[h]){if(/deg$/.test(m))return parseFloat(m);if(void 0!==S[m])return S[m]}return parseFloat(m)}),o===a&&i.push(1),s=l||void 0===i[u]?1:i[u],i=i.slice(0,u)}else M.length>10&&/[0-9](?:\s|\/)/.test(M)&&(i=M.match(/([0-9]+)/g).map(function(m){return parseFloat(m)}),c=M.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(M))if(E(M)){var d=f(M.r,M.red,M.R,null);null!==d?(c="rgb",i=[d,f(M.g,M.green,M.G),f(M.b,M.blue,M.B)]):(c="hsl",i=[f(M.h,M.hue,M.H),f(M.s,M.saturation,M.S),f(M.l,M.lightness,M.L,M.b,M.brightness)]),s=f(M.a,M.alpha,M.opacity,1),null!=M.opacity&&(s/=100)}else(Array.isArray(M)||r.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(M))&&(i=[M[0],M[1],M[2]],c="rgb",s=4===M.length?M[3]:1);else c="rgb",i=[M>>>16,(65280&M)>>>8,255&M];return{space:c,values:i,alpha:s}};var S={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},36652:function(ae,B,r){"use strict";var D=r(90736),E=r(80009),f=r(53435);ae.exports=function(S){var M,v=D(S);return v.space?((M=Array(3))[0]=f(v.values[0],0,255),M[1]=f(v.values[1],0,255),M[2]=f(v.values[2],0,255),"h"===v.space[0]&&(M=E.rgb(M)),M.push(f(v.alpha,0,1)),M):[]}},80009:function(ae,B,r){"use strict";var D=r(6866);ae.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(E){var f,S,M,v,c,i=E[0]/360,s=E[1]/100,a=E[2]/100;if(0===s)return[c=255*a,c,c];f=2*a-(S=a<.5?a*(1+s):a+s-a*s),v=[0,0,0];for(var o=0;o<3;o++)(M=i+.3333333333333333*-(o-1))<0?M++:M>1&&M--,v[o]=255*(c=6*M<1?f+6*(S-f)*M:2*M<1?S:3*M<2?f+(S-f)*(.6666666666666666-M)*6:f);return v}},D.hsl=function(E){var f,S,M=E[0]/255,v=E[1]/255,c=E[2]/255,i=Math.min(M,v,c),s=Math.max(M,v,c),a=s-i;return s===i?f=0:M===s?f=(v-c)/a:v===s?f=2+(c-M)/a:c===s&&(f=4+(M-v)/a),(f=Math.min(60*f,360))<0&&(f+=360),S=(i+s)/2,[f,100*(s===i?0:S<=.5?a/(s+i):a/(2-s-i)),100*S]}},6866:function(ae){"use strict";ae.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(ae){ae.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xe7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xe9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xe9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xe3)o.?tom(e|\xe9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(ae,B,r){"use strict";ae.exports={parse:r(41004),stringify:r(53313)}},63625:function(ae,B,r){"use strict";var D=r(40402);ae.exports={isSize:function(E){return/^[\d\.]/.test(E)||-1!==E.indexOf("/")||-1!==D.indexOf(E)}}},41004:function(ae,B,r){"use strict";var D=r(90448),E=r(38732),f=r(41901),S=r(15659),M=r(96209),v=r(83794),c=r(99011),i=r(63625).isSize;ae.exports=a;var s=a.cache={};function a(l){if("string"!=typeof l)throw new Error("Font argument must be a string.");if(s[l])return s[l];if(""===l)throw new Error("Cannot parse an empty string.");if(-1!==f.indexOf(l))return s[l]={system:l};for(var u,d={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},m=c(l,/\s+/);u=m.shift();){if(-1!==E.indexOf(u))return["style","variant","weight","stretch"].forEach(function(T){d[T]=u}),s[l]=d;if(-1===M.indexOf(u))if("normal"!==u&&"small-caps"!==u)if(-1===v.indexOf(u)){if(-1===S.indexOf(u)){if(i(u)){var h=c(u,"/");if(d.size=h[0],null!=h[1]?d.lineHeight=o(h[1]):"/"===m[0]&&(m.shift(),d.lineHeight=o(m.shift())),!m.length)throw new Error("Missing required font-family.");return d.family=c(m.join(" "),/\s*,\s*/).map(D),s[l]=d}throw new Error("Unknown or unsupported font token: "+u)}d.weight=u}else d.stretch=u;else d.variant=u;else d.style=u}throw new Error("Missing required font-size.")}function o(l){var u=parseFloat(l);return u.toString()===l?u:l}},53313:function(ae,B,r){"use strict";var D=r(71299),E=r(63625).isSize,f=l(r(38732)),S=l(r(41901)),M=l(r(15659)),v=l(r(96209)),c=l(r(83794)),i={normal:1,"small-caps":1},s={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},a="serif";function o(u,d){if(u&&!d[u]&&!f[u])throw Error("Unknown keyword `"+u+"`");return u}function l(u){for(var d={},m=0;m<u.length;m++)d[u[m]]=1;return d}ae.exports=function(u){if((u=D(u,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return u.system&&o(u.system,S),u.system;if(o(u.style,v),o(u.variant,i),o(u.weight,M),o(u.stretch,c),null==u.size&&(u.size="1rem"),"number"==typeof u.size&&(u.size+="px"),!E)throw Error("Bad size value `"+u.size+"`");u.family||(u.family=a),Array.isArray(u.family)&&(u.family.length||(u.family=[a]),u.family=u.family.map(function(m){return s[m]?m:'"'+m+'"'}).join(", "));var d=[];return d.push(u.style),u.variant!==u.style&&d.push(u.variant),u.weight!==u.variant&&u.weight!==u.style&&d.push(u.weight),u.stretch!==u.weight&&u.stretch!==u.variant&&u.stretch!==u.style&&d.push(u.stretch),d.push(u.size+(null==u.lineHeight||"normal"===u.lineHeight||u.lineHeight+""=="1"?"":"/"+u.lineHeight)),d.push(u.family),d.filter(Boolean).join(" ")}},55174:function(ae,B,r){"use strict";var D,E=r(24582),f=r(10424),S=r(82527),M=r(19012),v=r(21780),c=r(16906),i=Function.prototype.bind,s=Object.defineProperty,a=Object.prototype.hasOwnProperty;D=function(o,l,u){var d,m=f(l)&&S(l.value);return delete(d=M(l)).writable,delete d.value,d.get=function(){return!u.overwriteDefinition&&a.call(this,o)?m:(l.value=i.call(m,u.resolveContext?u.resolveContext(this):this),s(this,o,l),this[o])},d},ae.exports=function(o){var l=v(arguments[1]);return E(l.resolveContext)&&S(l.resolveContext),c(o,function(u,d){return D(d,u,l)})}},62072:function(ae,B,r){"use strict";var D=r(24582),E=r(84985),f=r(95879),S=r(21780),M=r(66741),v=ae.exports=function(c,i){var s,a,o,l,u;return arguments.length<2||"string"!=typeof c?(l=i,i=c,c=null):l=arguments[2],D(c)?(s=M.call(c,"c"),a=M.call(c,"e"),o=M.call(c,"w")):(s=o=!0,a=!1),u={value:i,configurable:s,enumerable:a,writable:o},l?f(S(l),u):u};v.gs=function(c,i,s){var a,o,l,u;return"string"!=typeof c?(l=s,s=i,i=c,c=null):l=arguments[3],D(i)?E(i)?D(s)?E(s)||(l=s,s=void 0):s=void 0:(l=i,i=s=void 0):i=void 0,D(c)?(a=M.call(c,"c"),o=M.call(c,"e")):(a=!0,o=!1),u={get:i,set:s,configurable:a,enumerable:o},l?f(S(l),u):u}},33064:function(ae,B,r){"use strict";function D(l,u){return l<u?-1:l>u?1:l>=u?0:NaN}var E,f;function M(l,u){var d,m,h=l.length,T=-1;if(null==u){for(;++T<h;)if(null!=(d=l[T])&&d>=d)for(m=d;++T<h;)null!=(d=l[T])&&d>m&&(m=d)}else for(;++T<h;)if(null!=(d=u(l[T],T,l))&&d>=d)for(m=d;++T<h;)null!=(d=u(l[T],T,l))&&d>m&&(m=d);return m}function v(l){return null===l?NaN:+l}function c(l,u){var d,m=l.length,h=m,T=-1,_=0;if(null==u)for(;++T<m;)isNaN(d=v(l[T]))?--h:_+=d;else for(;++T<m;)isNaN(d=v(u(l[T],T,l)))?--h:_+=d;if(h)return _/h}function i(l){for(var u,d,m,h=l.length,T=-1,_=0;++T<h;)_+=l[T].length;for(d=new Array(_);--h>=0;)for(u=(m=l[h]).length;--u>=0;)d[--_]=m[u];return d}function s(l,u){var d,m,h=l.length,T=-1;if(null==u){for(;++T<h;)if(null!=(d=l[T])&&d>=d)for(m=d;++T<h;)null!=(d=l[T])&&m>d&&(m=d)}else for(;++T<h;)if(null!=(d=u(l[T],T,l))&&d>=d)for(m=d;++T<h;)null!=(d=u(l[T],T,l))&&m>d&&(m=d);return m}function a(l,u,d){l=+l,u=+u,d=(h=arguments.length)<2?(u=l,l=0,1):h<3?1:+d;for(var m=-1,h=0|Math.max(0,Math.ceil((u-l)/d)),T=new Array(h);++m<h;)T[m]=l+m*d;return T}function o(l,u){var d,m=l.length,h=-1,T=0;if(null==u)for(;++h<m;)(d=+l[h])&&(T+=d);else for(;++h<m;)(d=+u(l[h],h,l))&&(T+=d);return T}r.d(B,{j2:function(){return D},Fp:function(){return M},J6:function(){return c},TS:function(){return i},VV:function(){return s},w6:function(){return a},Sm:function(){return o}}),1===(E=D).length&&(f=E,E=function(l,u){return D(f(l),u)}),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2)},15140:function(ae,B,r){"use strict";r.d(B,{UI:function(){return S},b1:function(){return M}});var D="$";function E(){}function f(l,u){var d=new E;if(l instanceof E)l.each(function(g,w){d.set(w,g)});else if(Array.isArray(l)){var m,h=-1,T=l.length;if(null==u)for(;++h<T;)d.set(h,l[h]);else for(;++h<T;)d.set(u(m=l[h],h,l),m)}else if(l)for(var _ in l)d.set(_,l[_]);return d}E.prototype=f.prototype={constructor:E,has:function(l){return D+l in this},get:function(l){return this[D+l]},set:function(l,u){return this[D+l]=u,this},remove:function(l){var u=D+l;return u in this&&delete this[u]},clear:function(){for(var l in this)l[0]===D&&delete this[l]},keys:function(){var l=[];for(var u in this)u[0]===D&&l.push(u.slice(1));return l},values:function(){var l=[];for(var u in this)u[0]===D&&l.push(this[u]);return l},entries:function(){var l=[];for(var u in this)u[0]===D&&l.push({key:u.slice(1),value:this[u]});return l},size:function(){var l=0;for(var u in this)u[0]===D&&++l;return l},empty:function(){for(var l in this)if(l[0]===D)return!1;return!0},each:function(l){for(var u in this)u[0]===D&&l(this[u],u.slice(1),this)}};var S=f;function M(){var l,u,d,m=[],h=[];function T(g,w,x,b){if(w>=m.length)return null!=l&&g.sort(l),null!=u?u(g):g;for(var A,p,O,k=-1,I=g.length,P=m[w++],R=S(),N=x();++k<I;)(O=R.get(A=P(p=g[k])+""))?O.push(p):R.set(A,[p]);return R.each(function(j,X){b(N,X,T(j,w,x,b))}),N}function _(g,w){if(++w>m.length)return g;var x,b=h[w-1];return null!=u&&w>=m.length?x=g.entries():(x=[],g.each(function(A,p){x.push({key:p,values:_(A,w)})})),null!=b?x.sort(function(A,p){return b(A.key,p.key)}):x}return d={object:function(g){return T(g,0,v,c)},map:function(g){return T(g,0,i,s)},entries:function(g){return _(T(g,0,i,s),0)},key:function(g){return m.push(g),d},sortKeys:function(g){return h[m.length-1]=g,d},sortValues:function(g){return l=g,d},rollup:function(g){return u=g,d}}}function v(){return{}}function c(l,u,d){l[u]=d}function i(){return S()}function s(l,u,d){l.set(u,d)}function a(){}var o=S.prototype;a.prototype=function(l,u){var d=new a;if(l instanceof a)l.each(function(T){d.add(T)});else if(l){var m=-1,h=l.length;if(null==u)for(;++m<h;)d.add(l[m]);else for(;++m<h;)d.add(u(l[m],m,l))}return d}.prototype={constructor:a,has:o.has,add:function(l){return this[D+(l+="")]=l,this},remove:o.remove,clear:o.clear,values:o.keys,size:o.size,empty:o.empty,each:o.each}},49887:function(ae,B,r){"use strict";function D(ve,xe){var Fe;function Se(){var ke,pe,fe=Fe.length,be=0,Le=0;for(ke=0;ke<fe;++ke)be+=(pe=Fe[ke]).x,Le+=pe.y;for(be=be/fe-ve,Le=Le/fe-xe,ke=0;ke<fe;++ke)(pe=Fe[ke]).x-=be,pe.y-=Le}return null==ve&&(ve=0),null==xe&&(xe=0),Se.initialize=function(ke){Fe=ke},Se.x=function(ke){return arguments.length?(ve=+ke,Se):ve},Se.y=function(ke){return arguments.length?(xe=+ke,Se):xe},Se}function E(ve){return function(){return ve}}function f(){return 1e-6*(Math.random()-.5)}function S(ve,xe,Fe,Se){if(isNaN(xe)||isNaN(Fe))return ve;var ke,pe,fe,be,Le,Oe,De,Ue,Ge,ye=ve._root,Ie={data:Se},Ee=ve._x0,Be=ve._y0,We=ve._x1,He=ve._y1;if(!ye)return ve._root=Ie,ve;for(;ye.length;)if((Oe=xe>=(pe=(Ee+We)/2))?Ee=pe:We=pe,(De=Fe>=(fe=(Be+He)/2))?Be=fe:He=fe,ke=ye,!(ye=ye[Ue=De<<1|Oe]))return ke[Ue]=Ie,ve;if(be=+ve._x.call(null,ye.data),Le=+ve._y.call(null,ye.data),xe===be&&Fe===Le)return Ie.next=ye,ke?ke[Ue]=Ie:ve._root=Ie,ve;do{ke=ke?ke[Ue]=new Array(4):ve._root=new Array(4),(Oe=xe>=(pe=(Ee+We)/2))?Ee=pe:We=pe,(De=Fe>=(fe=(Be+He)/2))?Be=fe:He=fe}while((Ue=De<<1|Oe)==(Ge=(Le>=fe)<<1|be>=pe));return ke[Ge]=ye,ke[Ue]=Ie,ve}function M(ve,xe,Fe,Se,ke){this.node=ve,this.x0=xe,this.y0=Fe,this.x1=Se,this.y1=ke}function v(ve){return ve[0]}function c(ve){return ve[1]}function i(ve,xe,Fe){var Se=new s(xe??v,Fe??c,NaN,NaN,NaN,NaN);return null==ve?Se:Se.addAll(ve)}function s(ve,xe,Fe,Se,ke,pe){this._x=ve,this._y=xe,this._x0=Fe,this._y0=Se,this._x1=ke,this._y1=pe,this._root=void 0}function a(ve){for(var xe={data:ve.data},Fe=xe;ve=ve.next;)Fe=Fe.next={data:ve.data};return xe}r.r(B),r.d(B,{forceCenter:function(){return D},forceCollide:function(){return d},forceLink:function(){return _},forceManyBody:function(){return he},forceRadial:function(){return we},forceSimulation:function(){return de},forceX:function(){return Ae},forceY:function(){return Te}});var o=i.prototype=s.prototype;function l(ve){return ve.x+ve.vx}function u(ve){return ve.y+ve.vy}function d(ve){var xe,Fe,Se=1,ke=1;function pe(){for(var Le,Oe,De,Ue,Ge,ye,Ie,Ee=xe.length,Be=0;Be<ke;++Be)for(Oe=i(xe,l,u).visitAfter(fe),Le=0;Le<Ee;++Le)Ie=(ye=Fe[(De=xe[Le]).index])*ye,Ue=De.x+De.vx,Ge=De.y+De.vy,Oe.visit(We);function We(He,Je,et,at,mt){var ct=He.data,St=He.r,Dt=ye+St;if(!ct)return Je>Ue+Dt||at<Ue-Dt||et>Ge+Dt||mt<Ge-Dt;if(ct.index>De.index){var Et=Ue-ct.x-ct.vx,ht=Ge-ct.y-ct.vy,pt=Et*Et+ht*ht;pt<Dt*Dt&&(0===Et&&(pt+=(Et=f())*Et),0===ht&&(pt+=(ht=f())*ht),pt=(Dt-(pt=Math.sqrt(pt)))/pt*Se,De.vx+=(Et*=pt)*(Dt=(St*=St)/(Ie+St)),De.vy+=(ht*=pt)*Dt,ct.vx-=Et*(Dt=1-Dt),ct.vy-=ht*Dt)}}}function fe(Le){if(Le.data)return Le.r=Fe[Le.data.index];for(var Oe=Le.r=0;Oe<4;++Oe)Le[Oe]&&Le[Oe].r>Le.r&&(Le.r=Le[Oe].r)}function be(){if(xe){var Le,Oe,De=xe.length;for(Fe=new Array(De),Le=0;Le<De;++Le)Fe[(Oe=xe[Le]).index]=+ve(Oe,Le,xe)}}return"function"!=typeof ve&&(ve=E(null==ve?1:+ve)),pe.initialize=function(Le){xe=Le,be()},pe.iterations=function(Le){return arguments.length?(ke=+Le,pe):ke},pe.strength=function(Le){return arguments.length?(Se=+Le,pe):Se},pe.radius=function(Le){return arguments.length?(ve="function"==typeof Le?Le:E(+Le),be(),pe):ve},pe}o.copy=function(){var ve,xe,Fe=new s(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Se=this._root;if(!Se)return Fe;if(!Se.length)return Fe._root=a(Se),Fe;for(ve=[{source:Se,target:Fe._root=new Array(4)}];Se=ve.pop();)for(var ke=0;ke<4;++ke)(xe=Se.source[ke])&&(xe.length?ve.push({source:xe,target:Se.target[ke]=new Array(4)}):Se.target[ke]=a(xe));return Fe},o.add=function(ve){var xe=+this._x.call(null,ve),Fe=+this._y.call(null,ve);return S(this.cover(xe,Fe),xe,Fe,ve)},o.addAll=function(ve){var xe,Fe,Se,ke,pe=ve.length,fe=new Array(pe),be=new Array(pe),Le=1/0,Oe=1/0,De=-1/0,Ue=-1/0;for(Fe=0;Fe<pe;++Fe)isNaN(Se=+this._x.call(null,xe=ve[Fe]))||isNaN(ke=+this._y.call(null,xe))||(fe[Fe]=Se,be[Fe]=ke,Se<Le&&(Le=Se),Se>De&&(De=Se),ke<Oe&&(Oe=ke),ke>Ue&&(Ue=ke));if(Le>De||Oe>Ue)return this;for(this.cover(Le,Oe).cover(De,Ue),Fe=0;Fe<pe;++Fe)S(this,fe[Fe],be[Fe],ve[Fe]);return this},o.cover=function(ve,xe){if(isNaN(ve=+ve)||isNaN(xe=+xe))return this;var Fe=this._x0,Se=this._y0,ke=this._x1,pe=this._y1;if(isNaN(Fe))ke=(Fe=Math.floor(ve))+1,pe=(Se=Math.floor(xe))+1;else{for(var fe,be,Le=ke-Fe,Oe=this._root;Fe>ve||ve>=ke||Se>xe||xe>=pe;)switch(be=(xe<Se)<<1|ve<Fe,(fe=new Array(4))[be]=Oe,Oe=fe,Le*=2,be){case 0:ke=Fe+Le,pe=Se+Le;break;case 1:Fe=ke-Le,pe=Se+Le;break;case 2:ke=Fe+Le,Se=pe-Le;break;case 3:Fe=ke-Le,Se=pe-Le}this._root&&this._root.length&&(this._root=Oe)}return this._x0=Fe,this._y0=Se,this._x1=ke,this._y1=pe,this},o.data=function(){var ve=[];return this.visit(function(xe){if(!xe.length)do{ve.push(xe.data)}while(xe=xe.next)}),ve},o.extent=function(ve){return arguments.length?this.cover(+ve[0][0],+ve[0][1]).cover(+ve[1][0],+ve[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},o.find=function(ve,xe,Fe){var Se,ke,pe,fe,be,Le,Oe,De=this._x0,Ue=this._y0,Ge=this._x1,ye=this._y1,Ie=[],Ee=this._root;for(Ee&&Ie.push(new M(Ee,De,Ue,Ge,ye)),null==Fe?Fe=1/0:(De=ve-Fe,Ue=xe-Fe,Ge=ve+Fe,ye=xe+Fe,Fe*=Fe);Le=Ie.pop();)if(!(!(Ee=Le.node)||(ke=Le.x0)>Ge||(pe=Le.y0)>ye||(fe=Le.x1)<De||(be=Le.y1)<Ue))if(Ee.length){var Be=(ke+fe)/2,We=(pe+be)/2;Ie.push(new M(Ee[3],Be,We,fe,be),new M(Ee[2],ke,We,Be,be),new M(Ee[1],Be,pe,fe,We),new M(Ee[0],ke,pe,Be,We)),(Oe=(xe>=We)<<1|ve>=Be)&&(Le=Ie[Ie.length-1],Ie[Ie.length-1]=Ie[Ie.length-1-Oe],Ie[Ie.length-1-Oe]=Le)}else{var He=ve-+this._x.call(null,Ee.data),Je=xe-+this._y.call(null,Ee.data),et=He*He+Je*Je;if(et<Fe){var at=Math.sqrt(Fe=et);De=ve-at,Ue=xe-at,Ge=ve+at,ye=xe+at,Se=Ee.data}}return Se},o.remove=function(ve){if(isNaN(pe=+this._x.call(null,ve))||isNaN(fe=+this._y.call(null,ve)))return this;var xe,Fe,Se,ke,pe,fe,be,Le,Oe,De,Ue,Ge,ye=this._root,Ie=this._x0,Ee=this._y0,Be=this._x1,We=this._y1;if(!ye)return this;if(ye.length)for(;;){if((Oe=pe>=(be=(Ie+Be)/2))?Ie=be:Be=be,(De=fe>=(Le=(Ee+We)/2))?Ee=Le:We=Le,xe=ye,!(ye=ye[Ue=De<<1|Oe]))return this;if(!ye.length)break;(xe[Ue+1&3]||xe[Ue+2&3]||xe[Ue+3&3])&&(Fe=xe,Ge=Ue)}for(;ye.data!==ve;)if(Se=ye,!(ye=ye.next))return this;return(ke=ye.next)&&delete ye.next,Se?(ke?Se.next=ke:delete Se.next,this):xe?(ke?xe[Ue]=ke:delete xe[Ue],(ye=xe[0]||xe[1]||xe[2]||xe[3])&&ye===(xe[3]||xe[2]||xe[1]||xe[0])&&!ye.length&&(Fe?Fe[Ge]=ye:this._root=ye),this):(this._root=ke,this)},o.removeAll=function(ve){for(var xe=0,Fe=ve.length;xe<Fe;++xe)this.remove(ve[xe]);return this},o.root=function(){return this._root},o.size=function(){var ve=0;return this.visit(function(xe){if(!xe.length)do{++ve}while(xe=xe.next)}),ve},o.visit=function(ve){var xe,Fe,Se,ke,pe,fe,be=[],Le=this._root;for(Le&&be.push(new M(Le,this._x0,this._y0,this._x1,this._y1));xe=be.pop();)if(!ve(Le=xe.node,Se=xe.x0,ke=xe.y0,pe=xe.x1,fe=xe.y1)&&Le.length){var Oe=(Se+pe)/2,De=(ke+fe)/2;(Fe=Le[3])&&be.push(new M(Fe,Oe,De,pe,fe)),(Fe=Le[2])&&be.push(new M(Fe,Se,De,Oe,fe)),(Fe=Le[1])&&be.push(new M(Fe,Oe,ke,pe,De)),(Fe=Le[0])&&be.push(new M(Fe,Se,ke,Oe,De))}return this},o.visitAfter=function(ve){var xe,Fe=[],Se=[];for(this._root&&Fe.push(new M(this._root,this._x0,this._y0,this._x1,this._y1));xe=Fe.pop();){var ke=xe.node;if(ke.length){var pe,fe=xe.x0,be=xe.y0,Le=xe.x1,Oe=xe.y1,De=(fe+Le)/2,Ue=(be+Oe)/2;(pe=ke[0])&&Fe.push(new M(pe,fe,be,De,Ue)),(pe=ke[1])&&Fe.push(new M(pe,De,be,Le,Ue)),(pe=ke[2])&&Fe.push(new M(pe,fe,Ue,De,Oe)),(pe=ke[3])&&Fe.push(new M(pe,De,Ue,Le,Oe))}Se.push(xe)}for(;xe=Se.pop();)ve(xe.node,xe.x0,xe.y0,xe.x1,xe.y1);return this},o.x=function(ve){return arguments.length?(this._x=ve,this):this._x},o.y=function(ve){return arguments.length?(this._y=ve,this):this._y};var m=r(15140);function h(ve){return ve.index}function T(ve,xe){var Fe=ve.get(xe);if(!Fe)throw new Error("missing: "+xe);return Fe}function _(ve){var xe,Fe,Se,ke,pe,fe=h,be=function(Ie){return 1/Math.min(ke[Ie.source.index],ke[Ie.target.index])},Le=E(30),Oe=1;function De(Ie){for(var Ee=0,Be=ve.length;Ee<Oe;++Ee)for(var We,He,Je,et,at,mt,ct,St=0;St<Be;++St)He=(We=ve[St]).source,et=(Je=We.target).x+Je.vx-He.x-He.vx||f(),at=Je.y+Je.vy-He.y-He.vy||f(),et*=mt=((mt=Math.sqrt(et*et+at*at))-Fe[St])/mt*Ie*xe[St],at*=mt,Je.vx-=et*(ct=pe[St]),Je.vy-=at*ct,He.vx+=et*(ct=1-ct),He.vy+=at*ct}function Ue(){if(Se){var Ie,Ee,Be=Se.length,We=ve.length,He=(0,m.UI)(Se,fe);for(Ie=0,ke=new Array(Be);Ie<We;++Ie)(Ee=ve[Ie]).index=Ie,"object"!=typeof Ee.source&&(Ee.source=T(He,Ee.source)),"object"!=typeof Ee.target&&(Ee.target=T(He,Ee.target)),ke[Ee.source.index]=(ke[Ee.source.index]||0)+1,ke[Ee.target.index]=(ke[Ee.target.index]||0)+1;for(Ie=0,pe=new Array(We);Ie<We;++Ie)pe[Ie]=ke[(Ee=ve[Ie]).source.index]/(ke[Ee.source.index]+ke[Ee.target.index]);xe=new Array(We),Ge(),Fe=new Array(We),ye()}}function Ge(){if(Se)for(var Ie=0,Ee=ve.length;Ie<Ee;++Ie)xe[Ie]=+be(ve[Ie],Ie,ve)}function ye(){if(Se)for(var Ie=0,Ee=ve.length;Ie<Ee;++Ie)Fe[Ie]=+Le(ve[Ie],Ie,ve)}return null==ve&&(ve=[]),De.initialize=function(Ie){Se=Ie,Ue()},De.links=function(Ie){return arguments.length?(ve=Ie,Ue(),De):ve},De.id=function(Ie){return arguments.length?(fe=Ie,De):fe},De.iterations=function(Ie){return arguments.length?(Oe=+Ie,De):Oe},De.strength=function(Ie){return arguments.length?(be="function"==typeof Ie?Ie:E(+Ie),Ge(),De):be},De.distance=function(Ie){return arguments.length?(Le="function"==typeof Ie?Ie:E(+Ie),ye(),De):Le},De}var g={value:function(){}};function w(){for(var ve,xe=0,Fe=arguments.length,Se={};xe<Fe;++xe){if(!(ve=arguments[xe]+"")||ve in Se||/[\s.]/.test(ve))throw new Error("illegal type: "+ve);Se[ve]=[]}return new x(Se)}function x(ve){this._=ve}function b(ve,xe){for(var Fe,Se=0,ke=ve.length;Se<ke;++Se)if((Fe=ve[Se]).name===xe)return Fe.value}function A(ve,xe,Fe){for(var Se=0,ke=ve.length;Se<ke;++Se)if(ve[Se].name===xe){ve[Se]=g,ve=ve.slice(0,Se).concat(ve.slice(Se+1));break}return null!=Fe&&ve.push({name:xe,value:Fe}),ve}x.prototype=w.prototype={constructor:x,on:function(ve,xe){var Fe,Se,ke=this._,pe=(Se=ke,(ve+"").trim().split(/^|\s+/).map(function(Le){var Oe="",De=Le.indexOf(".");if(De>=0&&(Oe=Le.slice(De+1),Le=Le.slice(0,De)),Le&&!Se.hasOwnProperty(Le))throw new Error("unknown type: "+Le);return{type:Le,name:Oe}})),fe=-1,be=pe.length;if(!(arguments.length<2)){if(null!=xe&&"function"!=typeof xe)throw new Error("invalid callback: "+xe);for(;++fe<be;)if(Fe=(ve=pe[fe]).type)ke[Fe]=A(ke[Fe],ve.name,xe);else if(null==xe)for(Fe in ke)ke[Fe]=A(ke[Fe],ve.name,null);return this}for(;++fe<be;)if((Fe=(ve=pe[fe]).type)&&(Fe=b(ke[Fe],ve.name)))return Fe},copy:function(){var ve={},xe=this._;for(var Fe in xe)ve[Fe]=xe[Fe].slice();return new x(ve)},call:function(ve,xe){if((Fe=arguments.length-2)>0)for(var Fe,Se,ke=new Array(Fe),pe=0;pe<Fe;++pe)ke[pe]=arguments[pe+2];if(!this._.hasOwnProperty(ve))throw new Error("unknown type: "+ve);for(pe=0,Fe=(Se=this._[ve]).length;pe<Fe;++pe)Se[pe].value.apply(xe,ke)},apply:function(ve,xe,Fe){if(!this._.hasOwnProperty(ve))throw new Error("unknown type: "+ve);for(var Se=this._[ve],ke=0,pe=Se.length;ke<pe;++ke)Se[ke].value.apply(xe,Fe)}};var p,O,k=w,I=0,P=0,R=0,N=1e3,j=0,X=0,F=0,Z="object"==typeof performance&&performance.now?performance:Date,W="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ve){setTimeout(ve,17)};function H(){return X||(W(G),X=Z.now()+F)}function G(){X=0}function Y(){this._call=this._time=this._next=null}function se(ve,xe,Fe){var Se=new Y;return Se.restart(ve,xe,Fe),Se}function te(){X=(j=Z.now())+F,I=P=0;try{!function(){H(),++I;for(var ve,xe=p;xe;)(ve=X-xe._time)>=0&&xe._call.call(null,ve),xe=xe._next;--I}()}finally{I=0,function(){for(var ve,xe,Fe=p,Se=1/0;Fe;)Fe._call?(Se>Fe._time&&(Se=Fe._time),ve=Fe,Fe=Fe._next):(xe=Fe._next,Fe._next=null,Fe=ve?ve._next=xe:p=xe);O=ve,Q(Se)}(),X=0}}function re(){var ve=Z.now(),xe=ve-j;xe>N&&(F-=xe,j=ve)}function Q(ve){I||(P&&(P=clearTimeout(P)),ve-X>24?(ve<1/0&&(P=setTimeout(te,ve-Z.now()-F)),R&&(R=clearInterval(R))):(R||(j=Z.now(),R=setInterval(re,N)),I=1,W(te)))}function ee(ve){return ve.x}function oe(ve){return ve.y}Y.prototype=se.prototype={constructor:Y,restart:function(ve,xe,Fe){if("function"!=typeof ve)throw new TypeError("callback is not a function");Fe=(null==Fe?H():+Fe)+(null==xe?0:+xe),this._next||O===this||(O?O._next=this:p=this,O=this),this._call=ve,this._time=Fe,Q()},stop:function(){this._call&&(this._call=null,this._time=1/0,Q())}};var le=10,ue=Math.PI*(3-Math.sqrt(5));function de(ve){var xe,Fe=1,Se=.001,ke=1-Math.pow(Se,1/300),pe=0,fe=.6,be=(0,m.UI)(),Le=se(De),Oe=k("tick","end");function De(){Ue(),Oe.call("tick",xe),Fe<Se&&(Le.stop(),Oe.call("end",xe))}function Ue(Ie){var Ee,Be,We=ve.length;void 0===Ie&&(Ie=1);for(var He=0;He<Ie;++He)for(Fe+=(pe-Fe)*ke,be.each(function(Je){Je(Fe)}),Ee=0;Ee<We;++Ee)null==(Be=ve[Ee]).fx?Be.x+=Be.vx*=fe:(Be.x=Be.fx,Be.vx=0),null==Be.fy?Be.y+=Be.vy*=fe:(Be.y=Be.fy,Be.vy=0);return xe}function Ge(){for(var Ie,Ee=0,Be=ve.length;Ee<Be;++Ee){if((Ie=ve[Ee]).index=Ee,null!=Ie.fx&&(Ie.x=Ie.fx),null!=Ie.fy&&(Ie.y=Ie.fy),isNaN(Ie.x)||isNaN(Ie.y)){var We=le*Math.sqrt(Ee),He=Ee*ue;Ie.x=We*Math.cos(He),Ie.y=We*Math.sin(He)}(isNaN(Ie.vx)||isNaN(Ie.vy))&&(Ie.vx=Ie.vy=0)}}function ye(Ie){return Ie.initialize&&Ie.initialize(ve),Ie}return null==ve&&(ve=[]),Ge(),xe={tick:Ue,restart:function(){return Le.restart(De),xe},stop:function(){return Le.stop(),xe},nodes:function(Ie){return arguments.length?(ve=Ie,Ge(),be.each(ye),xe):ve},alpha:function(Ie){return arguments.length?(Fe=+Ie,xe):Fe},alphaMin:function(Ie){return arguments.length?(Se=+Ie,xe):Se},alphaDecay:function(Ie){return arguments.length?(ke=+Ie,xe):+ke},alphaTarget:function(Ie){return arguments.length?(pe=+Ie,xe):pe},velocityDecay:function(Ie){return arguments.length?(fe=1-Ie,xe):1-fe},force:function(Ie,Ee){return arguments.length>1?(null==Ee?be.remove(Ie):be.set(Ie,ye(Ee)),xe):be.get(Ie)},find:function(Ie,Ee,Be){var We,He,Je,et,at,mt=0,ct=ve.length;for(null==Be?Be=1/0:Be*=Be,mt=0;mt<ct;++mt)(Je=(We=Ie-(et=ve[mt]).x)*We+(He=Ee-et.y)*He)<Be&&(at=et,Be=Je);return at},on:function(Ie,Ee){return arguments.length>1?(Oe.on(Ie,Ee),xe):Oe.on(Ie)}}}function he(){var ve,xe,Fe,Se,ke=E(-30),pe=1,fe=1/0,be=.81;function Le(Ge){var ye,Ie=ve.length,Ee=i(ve,ee,oe).visitAfter(De);for(Fe=Ge,ye=0;ye<Ie;++ye)xe=ve[ye],Ee.visit(Ue)}function Oe(){if(ve){var Ge,ye,Ie=ve.length;for(Se=new Array(Ie),Ge=0;Ge<Ie;++Ge)Se[(ye=ve[Ge]).index]=+ke(ye,Ge,ve)}}function De(Ge){var ye,Ie,Ee,Be,We,He=0,Je=0;if(Ge.length){for(Ee=Be=We=0;We<4;++We)(ye=Ge[We])&&(Ie=Math.abs(ye.value))&&(He+=ye.value,Je+=Ie,Ee+=Ie*ye.x,Be+=Ie*ye.y);Ge.x=Ee/Je,Ge.y=Be/Je}else{(ye=Ge).x=ye.data.x,ye.y=ye.data.y;do{He+=Se[ye.data.index]}while(ye=ye.next)}Ge.value=He}function Ue(Ge,ye,Ie,Ee){if(!Ge.value)return!0;var Be=Ge.x-xe.x,We=Ge.y-xe.y,He=Ee-ye,Je=Be*Be+We*We;if(He*He/be<Je)return Je<fe&&(0===Be&&(Je+=(Be=f())*Be),0===We&&(Je+=(We=f())*We),Je<pe&&(Je=Math.sqrt(pe*Je)),xe.vx+=Be*Ge.value*Fe/Je,xe.vy+=We*Ge.value*Fe/Je),!0;if(!(Ge.length||Je>=fe)){(Ge.data!==xe||Ge.next)&&(0===Be&&(Je+=(Be=f())*Be),0===We&&(Je+=(We=f())*We),Je<pe&&(Je=Math.sqrt(pe*Je)));do{Ge.data!==xe&&(xe.vx+=Be*(He=Se[Ge.data.index]*Fe/Je),xe.vy+=We*He)}while(Ge=Ge.next)}}return Le.initialize=function(Ge){ve=Ge,Oe()},Le.strength=function(Ge){return arguments.length?(ke="function"==typeof Ge?Ge:E(+Ge),Oe(),Le):ke},Le.distanceMin=function(Ge){return arguments.length?(pe=Ge*Ge,Le):Math.sqrt(pe)},Le.distanceMax=function(Ge){return arguments.length?(fe=Ge*Ge,Le):Math.sqrt(fe)},Le.theta=function(Ge){return arguments.length?(be=Ge*Ge,Le):Math.sqrt(be)},Le}function we(ve,xe,Fe){var Se,ke,pe,fe=E(.1);function be(Oe){for(var De=0,Ue=Se.length;De<Ue;++De){var Ge=Se[De],ye=Ge.x-xe||1e-6,Ie=Ge.y-Fe||1e-6,Ee=Math.sqrt(ye*ye+Ie*Ie),Be=(pe[De]-Ee)*ke[De]*Oe/Ee;Ge.vx+=ye*Be,Ge.vy+=Ie*Be}}function Le(){if(Se){var Oe,De=Se.length;for(ke=new Array(De),pe=new Array(De),Oe=0;Oe<De;++Oe)pe[Oe]=+ve(Se[Oe],Oe,Se),ke[Oe]=isNaN(pe[Oe])?0:+fe(Se[Oe],Oe,Se)}}return"function"!=typeof ve&&(ve=E(+ve)),null==xe&&(xe=0),null==Fe&&(Fe=0),be.initialize=function(Oe){Se=Oe,Le()},be.strength=function(Oe){return arguments.length?(fe="function"==typeof Oe?Oe:E(+Oe),Le(),be):fe},be.radius=function(Oe){return arguments.length?(ve="function"==typeof Oe?Oe:E(+Oe),Le(),be):ve},be.x=function(Oe){return arguments.length?(xe=+Oe,be):xe},be.y=function(Oe){return arguments.length?(Fe=+Oe,be):Fe},be}function Ae(ve){var xe,Fe,Se,ke=E(.1);function pe(be){for(var Le,Oe=0,De=xe.length;Oe<De;++Oe)(Le=xe[Oe]).vx+=(Se[Oe]-Le.x)*Fe[Oe]*be}function fe(){if(xe){var be,Le=xe.length;for(Fe=new Array(Le),Se=new Array(Le),be=0;be<Le;++be)Fe[be]=isNaN(Se[be]=+ve(xe[be],be,xe))?0:+ke(xe[be],be,xe)}}return"function"!=typeof ve&&(ve=E(null==ve?0:+ve)),pe.initialize=function(be){xe=be,fe()},pe.strength=function(be){return arguments.length?(ke="function"==typeof be?be:E(+be),fe(),pe):ke},pe.x=function(be){return arguments.length?(ve="function"==typeof be?be:E(+be),fe(),pe):ve},pe}function Te(ve){var xe,Fe,Se,ke=E(.1);function pe(be){for(var Le,Oe=0,De=xe.length;Oe<De;++Oe)(Le=xe[Oe]).vy+=(Se[Oe]-Le.y)*Fe[Oe]*be}function fe(){if(xe){var be,Le=xe.length;for(Fe=new Array(Le),Se=new Array(Le),be=0;be<Le;++be)Fe[be]=isNaN(Se[be]=+ve(xe[be],be,xe))?0:+ke(xe[be],be,xe)}}return"function"!=typeof ve&&(ve=E(null==ve?0:+ve)),pe.initialize=function(be){xe=be,fe()},pe.strength=function(be){return arguments.length?(ke="function"==typeof be?be:E(+be),fe(),pe):ke},pe.y=function(be){return arguments.length?(ve="function"==typeof be?be:E(+be),fe(),pe):ve},pe}},60721:function(ae,B,r){"use strict";function D(d,m){if((h=(d=m?d.toExponential(m-1):d.toExponential()).indexOf("e"))<0)return null;var h,T=d.slice(0,h);return[T.length>1?T[0]+T.slice(2):T,+d.slice(h+1)]}r.d(B,{WU:function(){return a},FF:function(){return u}});var E,f=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function S(d){if(!(m=f.exec(d)))throw new Error("invalid format: "+d);var m;return new M({fill:m[1],align:m[2],sign:m[3],symbol:m[4],zero:m[5],width:m[6],comma:m[7],precision:m[8]&&m[8].slice(1),trim:m[9],type:m[10]})}function M(d){this.fill=void 0===d.fill?" ":d.fill+"",this.align=void 0===d.align?">":d.align+"",this.sign=void 0===d.sign?"-":d.sign+"",this.symbol=void 0===d.symbol?"":d.symbol+"",this.zero=!!d.zero,this.width=void 0===d.width?void 0:+d.width,this.comma=!!d.comma,this.precision=void 0===d.precision?void 0:+d.precision,this.trim=!!d.trim,this.type=void 0===d.type?"":d.type+""}function v(d,m){var h=D(d,m);if(!h)return d+"";var T=h[0],_=h[1];return _<0?"0."+new Array(-_).join("0")+T:T.length>_+1?T.slice(0,_+1)+"."+T.slice(_+1):T+new Array(_-T.length+2).join("0")}S.prototype=M.prototype,M.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var c={"%":function(d,m){return(100*d).toFixed(m)},b:function(d){return Math.round(d).toString(2)},c:function(d){return d+""},d:function(d){return Math.abs(d=Math.round(d))>=1e21?d.toLocaleString("en").replace(/,/g,""):d.toString(10)},e:function(d,m){return d.toExponential(m)},f:function(d,m){return d.toFixed(m)},g:function(d,m){return d.toPrecision(m)},o:function(d){return Math.round(d).toString(8)},p:function(d,m){return v(100*d,m)},r:v,s:function(d,m){var h=D(d,m);if(!h)return d+"";var T=h[0],_=h[1],g=_-(E=3*Math.max(-8,Math.min(8,Math.floor(_/3))))+1,w=T.length;return g===w?T:g>w?T+new Array(g-w+1).join("0"):g>0?T.slice(0,g)+"."+T.slice(g):"0."+new Array(1-g).join("0")+D(d,Math.max(0,m+g-1))[0]},X:function(d){return Math.round(d).toString(16).toUpperCase()},x:function(d){return Math.round(d).toString(16)}};function i(d){return d}var s,a,o=Array.prototype.map,l=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function u(d){var m,h,k,T=void 0===d.grouping||void 0===d.thousands?i:(m=o.call(d.grouping,Number),h=d.thousands+"",function(k,I){for(var P=k.length,R=[],N=0,j=m[0],X=0;P>0&&j>0&&(X+j+1>I&&(j=Math.max(1,I-X)),R.push(k.substring(P-=j,P+j)),!((X+=j+1)>I));)j=m[N=(N+1)%m.length];return R.reverse().join(h)}),_=void 0===d.currency?"":d.currency[0]+"",g=void 0===d.currency?"":d.currency[1]+"",w=void 0===d.decimal?".":d.decimal+"",x=void 0===d.numerals?i:(k=o.call(d.numerals,String),function(I){return I.replace(/[0-9]/g,function(P){return k[+P]})}),b=void 0===d.percent?"%":d.percent+"",A=void 0===d.minus?"-":d.minus+"",p=void 0===d.nan?"NaN":d.nan+"";function O(k){var I=(k=S(k)).fill,P=k.align,R=k.sign,N=k.symbol,j=k.zero,X=k.width,F=k.comma,Z=k.precision,W=k.trim,H=k.type;"n"===H?(F=!0,H="g"):c[H]||(void 0===Z&&(Z=12),W=!0,H="g"),(j||"0"===I&&"="===P)&&(j=!0,I="0",P="=");var G="$"===N?_:"#"===N&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",Y="$"===N?g:/[%p]/.test(H)?b:"",se=c[H],te=/[defgprs%]/.test(H);function re(Q){var ee,oe,le,ue=G,de=Y;if("c"===H)de=se(Q)+de,Q="";else{var he=(Q=+Q)<0||1/Q<0;if(Q=isNaN(Q)?p:se(Math.abs(Q),Z),W&&(Q=function(Te){e:for(var ve,xe=Te.length,Fe=1,Se=-1;Fe<xe;++Fe)switch(Te[Fe]){case".":Se=ve=Fe;break;case"0":0===Se&&(Se=Fe),ve=Fe;break;default:if(!+Te[Fe])break e;Se>0&&(Se=0)}return Se>0?Te.slice(0,Se)+Te.slice(ve+1):Te}(Q)),he&&0==+Q&&"+"!==R&&(he=!1),ue=(he?"("===R?R:A:"-"===R||"("===R?"":R)+ue,de=("s"===H?l[8+E/3]:"")+de+(he&&"("===R?")":""),te)for(ee=-1,oe=Q.length;++ee<oe;)if(48>(le=Q.charCodeAt(ee))||le>57){de=(46===le?w+Q.slice(ee+1):Q.slice(ee))+de,Q=Q.slice(0,ee);break}}F&&!j&&(Q=T(Q,1/0));var we=ue.length+Q.length+de.length,Ae=we<X?new Array(X-we+1).join(I):"";switch(F&&j&&(Q=T(Ae+Q,Ae.length?X-de.length:1/0),Ae=""),P){case"<":Q=ue+Q+de+Ae;break;case"=":Q=ue+Ae+Q+de;break;case"^":Q=Ae.slice(0,we=Ae.length>>1)+ue+Q+de+Ae.slice(we);break;default:Q=Ae+ue+Q+de}return x(Q)}return Z=void 0===Z?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,Z)):Math.max(0,Math.min(20,Z)),re.toString=function(){return k+""},re}return{format:O,formatPrefix:function(k,I){var P,R=O(((k=S(k)).type="f",k)),N=3*Math.max(-8,Math.min(8,Math.floor((P=I,((P=D(Math.abs(P)))?P[1]:NaN)/3)))),j=Math.pow(10,-N),X=l[8+N/3];return function(F){return R(j*F)+X}}}}s=u({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),a=s.format},65704:function(ae,B,r){"use strict";r.r(B),r.d(B,{geoAiry:function(){return F},geoAiryRaw:function(){return X},geoAitoff:function(){return W},geoAitoffRaw:function(){return Z},geoArmadillo:function(){return G},geoArmadilloRaw:function(){return H},geoAugust:function(){return se},geoAugustRaw:function(){return Y},geoBaker:function(){return ee},geoBakerRaw:function(){return Q},geoBerghaus:function(){return ue},geoBerghausRaw:function(){return le},geoBertin1953:function(){return Fe},geoBertin1953Raw:function(){return xe},geoBoggs:function(){return De},geoBoggsRaw:function(){return Oe},geoBonne:function(){return Ee},geoBonneRaw:function(){return Ie},geoBottomley:function(){return We},geoBottomleyRaw:function(){return Be},geoBromley:function(){return Je},geoBromleyRaw:function(){return He},geoChamberlin:function(){return pt},geoChamberlinAfrica:function(){return ht},geoChamberlinRaw:function(){return Dt},geoCollignon:function(){return Ft},geoCollignonRaw:function(){return Pt},geoCraig:function(){return Lt},geoCraigRaw:function(){return Ht},geoCraster:function(){return Ke},geoCrasterRaw:function(){return rt},geoCylindricalEqualArea:function(){return gt},geoCylindricalEqualAreaRaw:function(){return it},geoCylindricalStereographic:function(){return Ve},geoCylindricalStereographicRaw:function(){return ft},geoEckert1:function(){return dt},geoEckert1Raw:function(){return qe},geoEckert2:function(){return At},geoEckert2Raw:function(){return ut},geoEckert3:function(){return kt},geoEckert3Raw:function(){return wt},geoEckert4:function(){return Rt},geoEckert4Raw:function(){return _t},geoEckert5:function(){return Tt},geoEckert5Raw:function(){return bt},geoEckert6:function(){return Wt},geoEckert6Raw:function(){return Ot},geoEisenlohr:function(){return pn},geoEisenlohrRaw:function(){return Jt},geoFahey:function(){return dn},geoFaheyRaw:function(){return nn},geoFoucaut:function(){return Hn},geoFoucautRaw:function(){return In},geoFoucautSinusoidal:function(){return on},geoFoucautSinusoidalRaw:function(){return An},geoGilbert:function(){return Ln},geoGingery:function(){return Zn},geoGingeryRaw:function(){return Sn},geoGinzburg4:function(){return nr},geoGinzburg4Raw:function(){return er},geoGinzburg5:function(){return dr},geoGinzburg5Raw:function(){return mr},geoGinzburg6:function(){return Yt},geoGinzburg6Raw:function(){return Ir},geoGinzburg8:function(){return xn},geoGinzburg8Raw:function(){return $t},geoGinzburg9:function(){return Dn},geoGinzburg9Raw:function(){return vn},geoGringorten:function(){return Qn},geoGringortenQuincuncial:function(){return Ys},geoGringortenRaw:function(){return Yn},geoGuyou:function(){return Nt},geoGuyouRaw:function(){return Fn},geoHammer:function(){return Ae},geoHammerRaw:function(){return he},geoHammerRetroazimuthal:function(){return Nn},geoHammerRetroazimuthalRaw:function(){return cn},geoHealpix:function(){return sr},geoHealpixRaw:function(){return bn},geoHill:function(){return _r},geoHillRaw:function(){return rr},geoHomolosine:function(){return Lr},geoHomolosineRaw:function(){return Pr},geoHufnagel:function(){return pr},geoHufnagelRaw:function(){return ii},geoHyperelliptical:function(){return Eo},geoHyperellipticalRaw:function(){return Yi},geoInterrupt:function(){return co},geoInterruptedBoggs:function(){return Vs},geoInterruptedHomolosine:function(){return Xi},geoInterruptedMollweide:function(){return Bu},geoInterruptedMollweideHemispheres:function(){return mu},geoInterruptedQuarticAuthalic:function(){return ju},geoInterruptedSinuMollweide:function(){return Qu},geoInterruptedSinusoidal:function(){return yu},geoKavrayskiy7:function(){return qo},geoKavrayskiy7Raw:function(){return hl},geoLagrange:function(){return Fi},geoLagrangeRaw:function(){return Ll},geoLarrivee:function(){return ml},geoLarriveeRaw:function(){return Nr},geoLaskowski:function(){return Hs},geoLaskowskiRaw:function(){return mi},geoLittrow:function(){return ys},geoLittrowRaw:function(){return Gs},geoLoximuthal:function(){return cf},geoLoximuthalRaw:function(){return mc},geoMiller:function(){return vl},geoMillerRaw:function(){return Ql},geoModifiedStereographic:function(){return ji},geoModifiedStereographicAlaska:function(){return Fl},geoModifiedStereographicGs48:function(){return _u},geoModifiedStereographicGs50:function(){return Ds},geoModifiedStereographicLee:function(){return Ic},geoModifiedStereographicMiller:function(){return xu},geoModifiedStereographicRaw:function(){return Cs},geoMollweide:function(){return fe},geoMollweideRaw:function(){return pe},geoMtFlatPolarParabolic:function(){return ro},geoMtFlatPolarParabolicRaw:function(){return zl},geoMtFlatPolarQuartic:function(){return io},geoMtFlatPolarQuarticRaw:function(){return eu},geoMtFlatPolarSinusoidal:function(){return ma},geoMtFlatPolarSinusoidalRaw:function(){return Br},geoNaturalEarth:function(){return Oi.Z},geoNaturalEarth2:function(){return as},geoNaturalEarth2Raw:function(){return $o},geoNaturalEarthRaw:function(){return Oi.K},geoNellHammer:function(){return ss},geoNellHammerRaw:function(){return Bl},geoNicolosi:function(){return _s},geoNicolosiRaw:function(){return jl},geoPatterson:function(){return Si},geoPattersonRaw:function(){return $s},geoPeirceQuincuncial:function(){return Rc},geoPierceQuincuncial:function(){return Rc},geoPolyconic:function(){return Mu},geoPolyconicRaw:function(){return Ul},geoPolyhedral:function(){return Pa},geoPolyhedralButterfly:function(){return Uu},geoPolyhedralCollignon:function(){return ha},geoPolyhedralWaterman:function(){return nu},geoProject:function(){return Ml},geoQuantize:function(){return Xs},geoQuincuncial:function(){return Is},geoRectangularPolyconic:function(){return ni},geoRectangularPolyconicRaw:function(){return _a},geoRobinson:function(){return Lc},geoRobinsonRaw:function(){return vc},geoSatellite:function(){return iu},geoSatelliteRaw:function(){return ru},geoSinuMollweide:function(){return wr},geoSinuMollweideRaw:function(){return lr},geoSinusoidal:function(){return ye},geoSinusoidalRaw:function(){return Ge},geoStitch:function(){return aa},geoTimes:function(){return Ja},geoTimesRaw:function(){return Ts},geoTwoPointAzimuthal:function(){return Vo},geoTwoPointAzimuthalRaw:function(){return eo},geoTwoPointAzimuthalUsa:function(){return xa},geoTwoPointEquidistant:function(){return au},geoTwoPointEquidistantRaw:function(){return Js},geoTwoPointEquidistantUsa:function(){return Su},geoVanDerGrinten:function(){return Yo},geoVanDerGrinten2:function(){return Sr},geoVanDerGrinten2Raw:function(){return sa},geoVanDerGrinten3:function(){return tc},geoVanDerGrinten3Raw:function(){return si},geoVanDerGrinten4:function(){return su},geoVanDerGrinten4Raw:function(){return Va},geoVanDerGrintenRaw:function(){return ls},geoWagner:function(){return Eu},geoWagner4:function(){return _i},geoWagner4Raw:function(){return Wr},geoWagner6:function(){return go},geoWagner6Raw:function(){return Ci},geoWagner7:function(){return wa},geoWagnerRaw:function(){return ba},geoWiechel:function(){return El},geoWiechelRaw:function(){return uu},geoWinkel3:function(){return Qs},geoWinkel3Raw:function(){return Ha}});var D=r(15002),E=Math.abs,f=Math.atan,S=Math.atan2,M=Math.cos,v=Math.exp,c=Math.floor,i=Math.log,s=Math.max,a=Math.min,o=Math.pow,l=Math.round,u=Math.sign||function(U){return U>0?1:U<0?-1:0},d=Math.sin,m=Math.tan,h=1e-6,T=1e-12,_=Math.PI,g=_/2,w=_/4,x=Math.SQRT1_2,b=R(2),A=R(_),p=2*_,O=180/_,k=_/180;function I(U){return U>1?g:U<-1?-g:Math.asin(U)}function P(U){return U>1?0:U<-1?_:Math.acos(U)}function R(U){return U>0?Math.sqrt(U):0}function N(U){return(v(U)-v(-U))/2}function j(U){return(v(U)+v(-U))/2}function X(U){var $=m(U/2),q=2*i(M(U/2))/($*$);function ne(_e,Pe){var V=M(_e),ie=M(Pe),ce=d(Pe),Me=ie*V,Ce=-((1-Me?i((1+Me)/2)/(1-Me):-.5)+q/(1+Me));return[Ce*ie*d(_e),Ce*ce]}return ne.invert=function(_e,Pe){var V,ie=R(_e*_e+Pe*Pe),ce=-U/2,Me=50;if(!ie)return[0,0];do{var Ce=ce/2,Ne=M(Ce),$e=d(Ce),Xe=$e/Ne,Qe=-i(E(Ne));ce-=V=(2/Xe*Qe-q*Xe-ie)/(-Qe/($e*$e)+1-q/(2*Ne*Ne))*(Ne<0?.7:1)}while(E(V)>h&&--Me>0);var nt=d(ce);return[S(_e*nt,ie*M(ce)),I(Pe*nt/ie)]},ne}function F(){var U=g,$=(0,D.r)(X),q=$(U);return q.radius=function(ne){return arguments.length?$(U=ne*k):U*O},q.scale(179.976).clipAngle(147)}function Z(U,$){var _e,q=M($),ne=(_e=P(q*M(U/=2)))?_e/Math.sin(_e):1;return[2*q*d(U)*ne,d($)*ne]}function W(){return(0,D.Z)(Z).scale(152.63)}function H(U){var $=d(U),q=M(U),ne=U>=0?1:-1,_e=m(ne*U),Pe=(1+$-q)/2;function V(ie,ce){var Me=M(ce),Ce=M(ie/=2);return[(1+Me)*d(ie),(ne*ce>-S(Ce,_e)-.001?0:10*-ne)+Pe+d(ce)*q-(1+Me)*$*Ce]}return V.invert=function(ie,ce){var Me=0,Ce=0,Ne=50;do{var $e=M(Me),Xe=d(Me),Qe=M(Ce),nt=d(Ce),lt=1+Qe,xt=lt*Xe-ie,Mt=Pe+nt*q-lt*$*$e-ce,Bt=lt*$e/2,Vt=-Xe*nt,jt=$*lt*Xe/2,Xt=q*Qe+$*$e*nt,Ut=Vt*jt-Xt*Bt,gn=(Mt*Vt-xt*Xt)/Ut/2,sn=(xt*jt-Mt*Bt)/Ut;E(sn)>2&&(sn/=2),Me-=gn,Ce-=sn}while((E(gn)>h||E(sn)>h)&&--Ne>0);return ne*Ce>-S(M(Me),_e)-.001?[2*Me,Ce]:null},V}function G(){var U=20*k,$=U>=0?1:-1,q=m($*U),ne=(0,D.r)(H),_e=ne(U),Pe=_e.stream;return _e.parallel=function(V){return arguments.length?(q=m(($=(U=V*k)>=0?1:-1)*U),ne(U)):U*O},_e.stream=function(V){var ie=_e.rotate(),ce=Pe(V),Me=(_e.rotate([0,0]),Pe(V)),Ce=_e.precision();return _e.rotate(ie),ce.sphere=function(){Me.polygonStart(),Me.lineStart();for(var Ne=-180*$;$*Ne<180;Ne+=90*$)Me.point(Ne,90*$);if(U)for(;$*(Ne-=3*$*Ce)>=-180;)Me.point(Ne,$*-S(M(Ne*k/2),q)*O);Me.lineEnd(),Me.polygonEnd()},ce},_e.scale(218.695).center([0,28.0974])}function Y(U,$){var q=m($/2),ne=R(1-q*q),_e=1+ne*M(U/=2),Pe=d(U)*ne/_e,V=q/_e,ie=Pe*Pe,ce=V*V;return[1.3333333333333333*Pe*(3+ie-3*ce),1.3333333333333333*V*(3+3*ie-ce)]}function se(){return(0,D.Z)(Y).scale(66.1603)}Z.invert=function(U,$){if(!(U*U+4*$*$>_*_+h)){var q=U,ne=$,_e=25;do{var Pe,V=d(q),ie=d(q/2),ce=M(q/2),Me=d(ne),Ce=M(ne),Ne=d(2*ne),$e=Me*Me,Xe=Ce*Ce,Qe=ie*ie,nt=1-Xe*ce*ce,lt=nt?P(Ce*ce)*R(Pe=1/nt):Pe=0,xt=2*lt*Ce*ie-U,Mt=lt*Me-$,Bt=Pe*(Xe*Qe+lt*Ce*ce*$e),Vt=Pe*(.5*V*Ne-2*lt*Me*ie),jt=.25*Pe*(Ne*ie-lt*Me*Xe*V),Xt=Pe*($e*ce+lt*Qe*Ce),Ut=Vt*jt-Xt*Bt;if(!Ut)break;var gn=(Mt*Vt-xt*Xt)/Ut,sn=(xt*jt-Mt*Bt)/Ut;q-=gn,ne-=sn}while((E(gn)>h||E(sn)>h)&&--_e>0);return[q,ne]}},Y.invert=function(U,$){if($*=.375,!(U*=.375)&&E($)>1)return null;var Me,q=1+U*U+$*$,ne=R((q-R(q*q-4*$*$))/2),_e=I(ne)/3,Pe=ne?(Me=E($/ne),i(Me+R(Me*Me-1))/3):function(Me){return i(Me+R(Me*Me+1))}(E(U))/3,V=M(_e),ie=j(Pe),ce=ie*ie-V*V;return[2*u(U)*S(N(Pe)*V,.25-ce),2*u($)*S(ie*d(_e),.25+ce)]};var te=R(8),re=i(1+b);function Q(U,$){var q=E($);return q<w?[U,i(m(w+$/2))]:[U*M(q)*(2*b-1/d(q)),u($)*(2*b*(q-w)-i(m(q/2)))]}function ee(){return(0,D.Z)(Q).scale(112.314)}Q.invert=function(U,$){if((ne=E($))<re)return[U,2*f(v($))-g];var q,ne,_e=w,Pe=25;do{var V=M(_e/2),ie=m(_e/2);_e-=q=(te*(_e-w)-i(ie)-ne)/(te-V*V/(2*ie))}while(E(q)>T&&--Pe>0);return[U/(M(_e)*(te-1/d(_e))),u($)*_e]};var oe=r(17889);function le(U){var $=2*_/U;function q(ne,_e){var Pe=(0,oe.N)(ne,_e);if(E(ne)>g){var V=S(Pe[1],Pe[0]),ie=R(Pe[0]*Pe[0]+Pe[1]*Pe[1]),ce=$*l((V-g)/$)+g,Me=S(d(V-=ce),2-M(V));V=ce+I(_/ie*d(Me))-Me,Pe[0]=ie*M(V),Pe[1]=ie*d(V)}return Pe}return q.invert=function(ne,_e){var Pe=R(ne*ne+_e*_e);if(Pe>g){var V=S(_e,ne),ie=$*l((V-g)/$)+g,ce=V>ie?-1:1,Me=Pe*M(ie-V),Ce=1/m(ce*P((Me-_)/R(_*(_-2*Me)+Pe*Pe)));V=ie+2*f((Ce+ce*R(Ce*Ce-3))/3),ne=Pe*M(V),_e=Pe*d(V)}return oe.N.invert(ne,_e)},q}function ue(){var U=5,$=(0,D.r)(le),q=$(U),ne=q.stream,_e=.01,Pe=-M(_e*k),V=d(_e*k);return q.lobes=function(ie){return arguments.length?$(U=+ie):U},q.stream=function(ie){var ce=q.rotate(),Me=ne(ie),Ce=(q.rotate([0,0]),ne(ie));return q.rotate(ce),Me.sphere=function(){Ce.polygonStart(),Ce.lineStart();for(var Ne=0,$e=360/U,Xe=2*_/U,Qe=90-180/U,nt=g;Ne<U;++Ne,Qe-=$e,nt-=Xe)Ce.point(S(V*M(nt),Pe)*O,I(V*d(nt))*O),Qe<-90?(Ce.point(-90,-180-Qe-_e),Ce.point(-90,-180-Qe+_e)):(Ce.point(90,Qe+_e),Ce.point(90,Qe-_e));Ce.lineEnd(),Ce.polygonEnd()},Me},q.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var de=r(12956);function he(U,$){if(arguments.length<2&&($=U),1===$)return de.l;if($===1/0)return we;function q(ne,_e){var Pe=(0,de.l)(ne/$,_e);return Pe[0]*=U,Pe}return q.invert=function(ne,_e){var Pe=de.l.invert(ne/U,_e);return Pe[0]*=$,Pe},q}function we(U,$){return[U*M($)/M($/=2),2*d($)]}function Ae(){var U=2,$=(0,D.r)(he),q=$(U);return q.coefficient=function(ne){return arguments.length?$(U=+ne):U},q.scale(169.529)}function Te(U,$,q){var ne,_e,Pe,V=100;q=void 0===q?0:+q,$=+$;do{(_e=U(q))===(Pe=U(q+h))&&(Pe=_e+h),q-=ne=-1*h*(_e-$)/(_e-Pe)}while(V-- >0&&E(ne)>h);return V<0?NaN:q}function ve(U,$,q){return void 0===$&&($=40),void 0===q&&(q=T),function(ne,_e,Pe,V){var ie,ce,Me;Pe=void 0===Pe?0:+Pe,V=void 0===V?0:+V;for(var Ce=0;Ce<$;Ce++){var Ne=U(Pe,V),$e=Ne[0]-ne,Xe=Ne[1]-_e;if(E($e)<q&&E(Xe)<q)break;var Qe=$e*$e+Xe*Xe;if(Qe>ie)Pe-=ce/=2,V-=Me/=2;else{ie=Qe;var nt=(Pe>0?-1:1)*q,lt=(V>0?-1:1)*q,xt=U(Pe+nt,V),Mt=U(Pe,V+lt),Bt=(xt[0]-Ne[0])/nt,Vt=(xt[1]-Ne[1])/nt,jt=(Mt[0]-Ne[0])/lt,Xt=(Mt[1]-Ne[1])/lt,Ut=Xt*Bt-Vt*jt,gn=(E(Ut)<.5?.5:1)/Ut;if(Pe+=ce=(Xe*jt-$e*Xt)*gn,V+=Me=($e*Vt-Xe*Bt)*gn,E(ce)<q&&E(Me)<q)break}}return[Pe,V]}}function xe(){var U=he(1.68,2);function $(q,ne){if(q+ne<-1.4){var _e=(q-ne+1.6)*(q+ne+1.4)/8;q+=_e,ne-=.8*_e*d(ne+_/2)}var Pe=U(q,ne),V=(1-M(q*ne))/12;return Pe[1]<0&&(Pe[0]*=1+V),Pe[1]>0&&(Pe[1]*=1+V/1.5*Pe[0]*Pe[0]),Pe}return $.invert=ve($),$}function Fe(){return(0,D.Z)(xe()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Se(U,$){var q,ne=U*d($),_e=30;do{$-=q=($+d($)-ne)/(1+M($))}while(E(q)>h&&--_e>0);return $/2}function ke(U,$,q){function ne(_e,Pe){return[U*_e*M(Pe=Se(q,Pe)),$*d(Pe)]}return ne.invert=function(_e,Pe){return Pe=I(Pe/$),[_e/(U*M(Pe)),I((2*Pe+d(2*Pe))/q)]},ne}we.invert=function(U,$){var q=2*I($/2);return[U*M(q/2)/M(q),q]};var pe=ke(b/g,b,_);function fe(){return(0,D.Z)(pe).scale(169.529)}var be=2.00276,Le=1.11072;function Oe(U,$){var q=Se(_,$);return[be*U/(1/M($)+Le/M(q)),($+b*d(q))/be]}function De(){return(0,D.Z)(Oe).scale(160.857)}function Ue(U){var $=0,q=(0,D.r)(U),ne=q($);return ne.parallel=function(_e){return arguments.length?q($=_e*k):$*O},ne}function Ge(U,$){return[U*M($),$]}function ye(){return(0,D.Z)(Ge).scale(152.63)}function Ie(U){if(!U)return Ge;var $=1/m(U);function q(ne,_e){var Pe=$+U-_e,V=Pe&&ne*M(_e)/Pe;return[Pe*d(V),$-Pe*M(V)]}return q.invert=function(ne,_e){var Pe=R(ne*ne+(_e=$-_e)*_e),V=$+U-Pe;return[Pe/M(V)*S(ne,_e),V]},q}function Ee(){return Ue(Ie).scale(123.082).center([0,26.1441]).parallel(45)}function Be(U){function $(q,ne){var _e=g-ne,Pe=_e&&q*U*d(_e)/_e;return[_e*d(Pe)/U,g-_e*M(Pe)]}return $.invert=function(q,ne){var _e=q*U,Pe=g-ne,V=R(_e*_e+Pe*Pe),ie=S(_e,Pe);return[(V?V/d(V):1)*ie/U,g-V]},$}function We(){var U=.5,$=(0,D.r)(Be),q=$(U);return q.fraction=function(ne){return arguments.length?$(U=+ne):U},q.scale(158.837)}Oe.invert=function(U,$){var q,ne,_e=be*$,Pe=$<0?-w:w,V=25;do{ne=_e-b*d(Pe),Pe-=q=(d(2*Pe)+2*Pe-_*d(ne))/(2*M(2*Pe)+2+_*M(ne)*b*M(Pe))}while(E(q)>h&&--V>0);return ne=_e-b*d(Pe),[U*(1/M(ne)+Le/M(Pe))/be,ne]},Ge.invert=function(U,$){return[U/M($),$]};var He=ke(1,4/_,_);function Je(){return(0,D.Z)(He).scale(152.63)}var et=r(66624),at=r(49386);function mt(U,$,q,ne,_e,Pe){var V,ie=M(Pe);if(E(U)>1||E(Pe)>1)V=P(q*_e+$*ne*ie);else{var ce=d(U/2),Me=d(Pe/2);V=2*I(R(ce*ce+$*ne*Me*Me))}return E(V)>h?[V,S(ne*d(Pe),$*_e-q*ne*ie)]:[0,0]}function ct(U,$,q){return P((U*U+$*$-q*q)/(2*U*$))}function St(U){return U-2*_*c((U+_)/(2*_))}function Dt(U,$,q){for(var ne,_e=[[U[0],U[1],d(U[1]),M(U[1])],[$[0],$[1],d($[1]),M($[1])],[q[0],q[1],d(q[1]),M(q[1])]],Pe=_e[2],V=0;V<3;++V,Pe=ne)Pe.v=mt((ne=_e[V])[1]-Pe[1],Pe[3],Pe[2],ne[3],ne[2],ne[0]-Pe[0]),Pe.point=[0,0];var ie=ct(_e[0].v[0],_e[2].v[0],_e[1].v[0]),ce=ct(_e[0].v[0],_e[1].v[0],_e[2].v[0]),Me=_-ie;_e[2].point[1]=0,_e[0].point[0]=-(_e[1].point[0]=_e[0].v[0]/2);var Ce=[_e[2].point[0]=_e[0].point[0]+_e[2].v[0]*M(ie),2*(_e[0].point[1]=_e[1].point[1]=_e[2].v[0]*d(ie))];return function(Ne,$e){var Xe,Qe=d($e),nt=M($e),lt=new Array(3);for(Xe=0;Xe<3;++Xe){var xt=_e[Xe];if(lt[Xe]=mt($e-xt[1],xt[3],xt[2],nt,Qe,Ne-xt[0]),!lt[Xe][0])return xt.point;lt[Xe][1]=St(lt[Xe][1]-xt.v[1])}var Mt=Ce.slice();for(Xe=0;Xe<3;++Xe){var Vt=ct(_e[Xe].v[0],lt[Xe][0],lt[2==Xe?0:Xe+1][0]);lt[Xe][1]<0&&(Vt=-Vt),Xe?1==Xe?(Mt[0]-=lt[Xe][0]*M(Vt=ce-Vt),Mt[1]-=lt[Xe][0]*d(Vt)):(Mt[0]+=lt[Xe][0]*M(Vt=Me-Vt),Mt[1]+=lt[Xe][0]*d(Vt)):(Mt[0]+=lt[Xe][0]*M(Vt),Mt[1]-=lt[Xe][0]*d(Vt))}return Mt[0]/=3,Mt[1]/=3,Mt}}function Et(U){return U[0]*=k,U[1]*=k,U}function ht(){return pt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function pt(U,$,q){var ne=(0,et.Z)({type:"MultiPoint",coordinates:[U,$,q]}),_e=[-ne[0],-ne[1]],Pe=(0,at.Z)(_e),V=Dt(Et(Pe(U)),Et(Pe($)),Et(Pe(q)));V.invert=ve(V);var ie=(0,D.Z)(V).rotate(_e),ce=ie.center;return delete ie.rotate,ie.center=function(Me){return arguments.length?ce(Pe(Me)):Pe.invert(ce())},ie.clipAngle(90)}function Pt(U,$){var q=R(1-d($));return[2/A*U*q,A*(1-q)]}function Ft(){return(0,D.Z)(Pt).scale(95.6464).center([0,30])}function Ht(U){var $=m(U);function q(ne,_e){return[ne,(ne?ne/d(ne):1)*(d(_e)*M(ne)-$*M(_e))]}return q.invert=$?function(ne,_e){ne&&(_e*=d(ne)/ne);var Pe=M(ne);return[ne,2*S(R(Pe*Pe+$*$-_e*_e)-Pe,$-_e)]}:function(ne,_e){return[ne,I(ne?_e*m(ne)/ne:_e)]},q}function Lt(){return Ue(Ht).scale(249.828).clipAngle(90)}Pt.invert=function(U,$){var q=(q=$/A-1)*q;return[q>0?U*R(_/q)/2:0,I(1-q)]};var tt=R(3);function rt(U,$){return[tt*U*(2*M(2*$/3)-1)/A,tt*A*d($/3)]}function Ke(){return(0,D.Z)(rt).scale(156.19)}function it(U){var $=M(U);function q(ne,_e){return[ne*$,d(_e)/$]}return q.invert=function(ne,_e){return[ne/$,I(_e*$)]},q}function gt(){return Ue(it).parallel(38.58).scale(195.044)}function ft(U){var $=M(U);function q(ne,_e){return[ne*$,(1+$)*m(_e/2)]}return q.invert=function(ne,_e){return[ne/$,2*f(_e/(1+$))]},q}function Ve(){return Ue(ft).scale(124.75)}function qe(U,$){var q=R(8/(3*_));return[q*U*(1-E($)/_),q*$]}function dt(){return(0,D.Z)(qe).scale(165.664)}function ut(U,$){var q=R(4-3*d(E($)));return[2/R(6*_)*U*q,u($)*R(2*_/3)*(2-q)]}function At(){return(0,D.Z)(ut).scale(165.664)}function wt(U,$){var q=R(_*(4+_));return[2/q*U*(1+R(1-4*$*$/(_*_))),4/q*$]}function kt(){return(0,D.Z)(wt).scale(180.739)}function _t(U,$){var q=(2+g)*d($);$/=2;for(var ne=0,_e=1/0;ne<10&&E(_e)>h;ne++){var Pe=M($);$-=_e=($+d($)*(Pe+2)-q)/(2*Pe*(1+Pe))}return[2/R(_*(4+_))*U*(1+M($)),2*R(_/(4+_))*d($)]}function Rt(){return(0,D.Z)(_t).scale(180.739)}function bt(U,$){return[U*(1+M($))/R(2+_),2*$/R(2+_)]}function Tt(){return(0,D.Z)(bt).scale(173.044)}function Ot(U,$){for(var q=(1+g)*d($),ne=0,_e=1/0;ne<10&&E(_e)>h;ne++)$-=_e=($+d($)-q)/(1+M($));return q=R(2+_),[U*(1+M($))/q,2*$/q]}function Wt(){return(0,D.Z)(Ot).scale(173.044)}rt.invert=function(U,$){var q=3*I($/(tt*A));return[A*U/(tt*(2*M(2*q/3)-1)),q]},qe.invert=function(U,$){var q=R(8/(3*_)),ne=$/q;return[U/(q*(1-E(ne)/_)),ne]},ut.invert=function(U,$){var q=2-E($)/R(2*_/3);return[U*R(6*_)/(2*q),u($)*I((4-q*q)/3)]},wt.invert=function(U,$){var q=R(_*(4+_))/2;return[U*q/(1+R(1-$*$*(4+_)/(4*_))),$*q/2]},_t.invert=function(U,$){var q=$*R((4+_)/_)/2,ne=I(q),_e=M(ne);return[U/(2/R(_*(4+_))*(1+_e)),I((ne+q*(_e+2))/(2+g))]},bt.invert=function(U,$){var q=R(2+_),ne=$*q/2;return[q*U/(1+M(ne)),ne]},Ot.invert=function(U,$){var q=1+g,ne=R(q/2);return[2*U*ne/(1+M($*=ne)),I(($+d($))/q)]};var qt=3+2*b;function Jt(U,$){var q=d(U/=2),ne=M(U),_e=R(M($)),Pe=M($/=2),V=d($)/(Pe+b*ne*_e),ie=R(2/(1+V*V)),ce=R((b*Pe+(ne+q)*_e)/(b*Pe+(ne-q)*_e));return[qt*(ie*(ce-1/ce)-2*i(ce)),qt*(ie*V*(ce+1/ce)-2*f(V))]}function pn(){return(0,D.Z)(Jt).scale(62.5271)}Jt.invert=function(U,$){if(!(q=Y.invert(U/1.2,1.065*$)))return null;var q,ne=q[0],_e=q[1],Pe=20;U/=qt,$/=qt;do{var V=ne/2,ie=_e/2,ce=d(V),Me=M(V),Ce=d(ie),Ne=M(ie),$e=M(_e),Xe=R($e),Qe=Ce/(Ne+b*Me*Xe),nt=Qe*Qe,lt=R(2/(1+nt)),xt=(b*Ne+(Me+ce)*Xe)/(b*Ne+(Me-ce)*Xe),Mt=R(xt),Bt=Mt-1/Mt,Vt=Mt+1/Mt,jt=lt*Bt-2*i(Mt)-U,Xt=lt*Qe*Vt-2*f(Qe)-$,Ut=Ce&&x*Xe*ce*nt/Ce,gn=(b*Me*Ne+Xe)/(2*(Ne+b*Me*Xe)*(Ne+b*Me*Xe)*Xe),sn=-.5*Qe*lt*lt*lt,rn=sn*Ut,En=sn*gn,On=(On=2*Ne+b*Xe*(Me-ce))*On*Mt,$n=(b*Me*Ne*Xe+$e)/On,tr=-b*ce*Ce/(Xe*On),ur=Bt*rn-2*$n/Mt+lt*($n+$n/xt),yr=Bt*En-2*tr/Mt+lt*(tr+tr/xt),Cr=Qe*Vt*rn-2*Ut/(1+nt)+lt*Vt*Ut+lt*Qe*($n-$n/xt),Ar=Qe*Vt*En-2*gn/(1+nt)+lt*Vt*gn+lt*Qe*(tr-tr/xt),Fr=yr*Cr-Ar*ur;if(!Fr)break;var $r=(Xt*yr-jt*Ar)/Fr,hi=(jt*Cr-Xt*ur)/Fr;ne-=$r,_e=s(-g,a(g,_e-hi))}while((E($r)>h||E(hi)>h)&&--Pe>0);return E(E(_e)-g)<h?[0,_e]:Pe&&[ne,_e]};var en=M(35*k);function nn(U,$){var q=m($/2);return[U*en*R(1-q*q),(1+en)*q]}function dn(){return(0,D.Z)(nn).scale(137.152)}function In(U,$){var q=$/2,ne=M(q);return[2*U/A*M($)*ne*ne,A*m(q)]}function Hn(){return(0,D.Z)(In).scale(135.264)}function An(U){var $=1-U,q=_e(_,0)[0]-_e(-_,0)[0],ne=R(2*(_e(0,g)[1]-_e(0,-g)[1])/q);function _e(ie,ce){var Me=M(ce),Ce=d(ce);return[Me/($+U*Me)*ie,$*ce+U*Ce]}function Pe(ie,ce){var Me=_e(ie,ce);return[Me[0]*ne,Me[1]/ne]}function V(ie){return Pe(0,ie)[1]}return Pe.invert=function(ie,ce){var Me=Te(V,ce);return[ie/ne*(U+$/M(Me)),Me]},Pe}function on(){var U=.5,$=(0,D.r)(An),q=$(U);return q.alpha=function(ne){return arguments.length?$(U=+ne):U},q.scale(168.725)}nn.invert=function(U,$){var q=$/(1+en);return[U&&U/(en*R(1-q*q)),2*f(q)]},In.invert=function(U,$){var q=f($/A),ne=M(q),_e=2*q;return[U*A/2/(M(_e)*ne*ne),_e]};var yn=r(57962),ln=r(97492);function wn(U){return[U[0]/2,I(m(U[1]/2*k))*O]}function Cn(U){return[2*U[0],2*f(d(U[1]*k))*O]}function Ln(U){null==U&&(U=yn.Z);var $=U(),q=(0,ln.Z)().scale(O).precision(0).clipAngle(null).translate([0,0]);function ne(Pe){return $(wn(Pe))}function _e(Pe){ne[Pe]=function(){return arguments.length?($[Pe].apply($,arguments),ne):$[Pe]()}}return $.invert&&(ne.invert=function(Pe){return Cn($.invert(Pe))}),ne.stream=function(Pe){var V=$.stream(Pe),ie=q.stream({point:function(ce,Me){V.point(ce/2,I(m(-Me/2*k))*O)},lineStart:function(){V.lineStart()},lineEnd:function(){V.lineEnd()},polygonStart:function(){V.polygonStart()},polygonEnd:function(){V.polygonEnd()}});return ie.sphere=V.sphere,ie},ne.rotate=function(Pe){return arguments.length?(q.rotate(Pe),ne):q.rotate()},ne.center=function(Pe){return arguments.length?($.center(wn(Pe)),ne):Cn($.center())},_e("angle"),_e("clipAngle"),_e("clipExtent"),_e("fitExtent"),_e("fitHeight"),_e("fitSize"),_e("fitWidth"),_e("scale"),_e("translate"),_e("precision"),ne.scale(249.5)}function Sn(U,$){var q=2*_/$,ne=U*U;function _e(Pe,V){var ie=(0,oe.N)(Pe,V),ce=ie[0],Me=ie[1],Ce=ce*ce+Me*Me;if(Ce>ne){var Ne=R(Ce),$e=S(Me,ce),Xe=q*l($e/q),Qe=$e-Xe,nt=U*M(Qe),lt=(U*d(Qe)-Qe*d(nt))/(g-nt),xt=qn(Qe,lt),Mt=(_-U)/kn(xt,nt,_);ce=Ne;var Bt,Vt=50;do{ce-=Bt=(U+kn(xt,nt,ce)*Mt-Ne)/(xt(ce)*Mt)}while(E(Bt)>h&&--Vt>0);Me=Qe*d(ce),ce<g&&(Me-=lt*(ce-g));var jt=d(Xe),Xt=M(Xe);ie[0]=ce*Xt-Me*jt,ie[1]=ce*jt+Me*Xt}return ie}return _e.invert=function(Pe,V){var ie=Pe*Pe+V*V;if(ie>ne){var ce=R(ie),Me=S(V,Pe),Ce=q*l(Me/q),Ne=Me-Ce;Pe=ce*M(Ne),V=ce*d(Ne);for(var $e=Pe-g,Xe=d(Pe),Qe=V/Xe,nt=Pe<g?1/0:0,lt=10;;){var xt=U*d(Qe),Mt=U*M(Qe),Bt=d(Mt),Vt=g-Mt,jt=(xt-Qe*Bt)/Vt,Xt=qn(Qe,jt);if(E(nt)<T||!--lt)break;Qe-=nt=(Qe*Xe-jt*$e-V)/(Xe-2*$e*(Vt*(Mt+Qe*xt*M(Mt)-Bt)-xt*(xt-Qe*Bt))/(Vt*Vt))}Pe=(ce=U+kn(Xt,Mt,Pe)*(_-U)/kn(Xt,Mt,_))*M(Me=Ce+Qe),V=ce*d(Me)}return oe.N.invert(Pe,V)},_e}function qn(U,$){return function(q){var ne=U*M(q);return q<g&&(ne-=$),R(1+ne*ne)}}function kn(U,$,q){for(var ne=(q-$)/50,_e=U($)+U(q),Pe=1,V=$;Pe<50;++Pe)_e+=2*U(V+=ne);return.5*_e*ne}function Zn(){var U=6,$=30*k,q=M($),ne=d($),_e=(0,D.r)(Sn),Pe=_e($,U),V=Pe.stream,ie=-M(.01*k),ce=d(.01*k);return Pe.radius=function(Me){return arguments.length?(q=M($=Me*k),ne=d($),_e($,U)):$*O},Pe.lobes=function(Me){return arguments.length?_e($,U=+Me):U},Pe.stream=function(Me){var Ce=Pe.rotate(),Ne=V(Me),$e=(Pe.rotate([0,0]),V(Me));return Pe.rotate(Ce),Ne.sphere=function(){$e.polygonStart(),$e.lineStart();for(var Xe=0,Qe=2*_/U,nt=0;Xe<U;++Xe,nt-=Qe)$e.point(S(ce*M(nt),ie)*O,I(ce*d(nt))*O),$e.point(S(ne*M(nt-Qe/2),q)*O,I(ne*d(nt-Qe/2))*O);$e.lineEnd(),$e.polygonEnd()},Ne},Pe.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function fr(U,$,q,ne,_e,Pe,V,ie){function ce(Me,Ce){if(!Ce)return[U*Me/_,0];var Ne=Ce*Ce,$e=U+Ne*($+Ne*(q+Ne*ne)),Xe=Ce*(_e-1+Ne*(Pe-ie+Ne*V)),Qe=($e*$e+Xe*Xe)/(2*Xe),nt=Me*I($e/Qe)/_;return[Qe*d(nt),Ce*(1+Ne*ie)+Qe*(1-M(nt))]}return arguments.length<8&&(ie=0),ce.invert=function(Me,Ce){var Ne,$e,Xe=_*Me/U,Qe=Ce,nt=50;do{var lt=Qe*Qe,xt=U+lt*($+lt*(q+lt*ne)),Mt=Qe*(_e-1+lt*(Pe-ie+lt*V)),Bt=xt*xt+Mt*Mt,Vt=2*Mt,jt=Bt/Vt,Xt=jt*jt,Ut=I(xt/jt)/_,gn=Xe*Ut,sn=xt*xt,rn=(2*$+lt*(4*q+6*lt*ne))*Qe,En=_e+lt*(3*Pe+5*lt*V),On=(2*(xt*rn+Mt*(En-1))*Vt-Bt*(2*(En-1)))/(Vt*Vt),$n=M(gn),tr=d(gn),ur=jt*$n,yr=jt*tr,Cr=Xe/_*(1/R(1-sn/Xt))*(rn*jt-xt*On)/Xt,Ar=yr-Me,Fr=Qe*(1+lt*ie)+jt-ur-Ce,$r=On*tr+ur*Cr,hi=ur*Ut,ir=1+On-(On*$n-yr*Cr),Tr=yr*Ut,zr=$r*Tr-ir*hi;if(!zr)break;Xe-=Ne=(Fr*$r-Ar*ir)/zr,Qe-=$e=(Ar*Tr-Fr*hi)/zr}while((E(Ne)>h||E($e)>h)&&--nt>0);return[Xe,Qe]},ce}var er=fr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function nr(){return(0,D.Z)(er).scale(149.995)}var mr=fr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function dr(){return(0,D.Z)(mr).scale(153.93)}var Ir=fr(5/6*_,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Yt(){return(0,D.Z)(Ir).scale(130.945)}function $t(U,$){var q=U*U,ne=$*$;return[U*(1-.162388*ne)*(.87-952426e-9*q*q),$*(1+ne/12)]}function xn(){return(0,D.Z)($t).scale(131.747)}$t.invert=function(U,$){var q,ne=U,_e=$,Pe=50;do{var V=_e*_e;_e-=q=(_e*(1+V/12)-$)/(1+V/4)}while(E(q)>h&&--Pe>0);Pe=50,U/=1-.162388*V;do{var ie=(ie=ne*ne)*ie;ne-=q=(ne*(.87-952426e-9*ie)-U)/(.87-.00476213*ie)}while(E(q)>h&&--Pe>0);return[ne,_e]};var vn=fr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Dn(){return(0,D.Z)(vn).scale(131.087)}function or(U){var $=U(g,0)[0]-U(-g,0)[0];function q(ne,_e){var Pe=ne>0?-.5:.5,V=U(ne+Pe*_,_e);return V[0]-=Pe*$,V}return U.invert&&(q.invert=function(ne,_e){var Pe=ne>0?-.5:.5,V=U.invert(ne+Pe*$,_e),ie=V[0]-Pe*_;return ie<-_?ie+=2*_:ie>_&&(ie-=2*_),V[0]=ie,V}),q}function Yn(U,$){var q=u(U),ne=u($),_e=M($),Pe=M(U)*_e,V=d(U)*_e,ie=d(ne*$);U=E(S(V,ie)),$=I(Pe),E(U-g)>h&&(U%=g);var ce=function(Me,Ce){if(Ce===g)return[0,0];var Ne,$e,Xe=d(Ce),Qe=Xe*Xe,nt=Qe*Qe,lt=1+nt,xt=1+3*nt,Mt=1-nt,Bt=I(1/R(lt)),Vt=Mt+Qe*lt*Bt,jt=(1-Xe)/Vt,Xt=R(jt),Ut=jt*lt,gn=R(Ut),sn=Xt*Mt;if(0===Me)return[0,-(sn+Qe*gn)];var rn,En=M(Ce),On=1/En,$n=2*Xe*En,tr=(-Vt*En-(-3*Qe+Bt*xt)*$n*(1-Xe))/(Vt*Vt),ur=-On*$n,yr=-On*(Qe*lt*tr+jt*xt*$n),Cr=-2*On*(Mt*(.5*tr/Xt)-2*Qe*Xt*$n),Ar=4*Me/_;if(Me>.222*_||Ce<_/4&&Me>.175*_){if(Ne=(sn+Qe*R(Ut*(1+nt)-sn*sn))/(1+nt),Me>_/4)return[Ne,Ne];var Fr=Ne,$r=.5*Ne;Ne=.5*($r+Fr),$e=50;do{var hi=Ne*(Cr+ur*R(Ut-Ne*Ne))+yr*I(Ne/gn)-Ar;if(!hi)break;hi<0?$r=Ne:Fr=Ne,Ne=.5*($r+Fr)}while(E(Fr-$r)>h&&--$e>0)}else{Ne=h,$e=25;do{var ir=Ne*Ne,Tr=R(Ut-ir),zr=Cr+ur*Tr,Kr=Ne*zr+yr*I(Ne/gn)-Ar;Ne-=rn=Tr?Kr/(zr+(yr-ur*ir)/Tr):0}while(E(rn)>h&&--$e>0)}return[Ne,-sn-Qe*R(Ut-Ne*Ne)]}(U>_/4?g-U:U,$);return U>_/4&&(ie=ce[0],ce[0]=-ce[1],ce[1]=-ie),ce[0]*=q,ce[1]*=-ne,ce}function Qn(){return(0,D.Z)(or(Yn)).scale(239.75)}function gr(U,$){var q,ne,_e,Pe,V,ie;if($<h)return[(Pe=d(U))-(q=$*(U-Pe*(ne=M(U)))/4)*ne,ne+q*Pe,1-$*Pe*Pe/2,U-q];if($>=1-h)return q=(1-$)/4,_e=1/(ne=j(U)),[(Pe=((ie=v(2*(ie=U)))-1)/(ie+1))+q*((V=ne*N(U))-U)/(ne*ne),_e-q*Pe*_e*(V-U),_e+q*Pe*_e*(V+U),2*f(v(U))-g+q*(V-U)/ne];var ce=[1,0,0,0,0,0,0,0,0],Me=[R($),0,0,0,0,0,0,0,0],Ce=0;for(ne=R(1-$),V=1;E(Me[Ce]/ce[Ce])>h&&Ce<8;)q=ce[Ce++],Me[Ce]=(q-ne)/2,ce[Ce]=(q+ne)/2,ne=R(q*ne),V*=2;_e=V*ce[Ce]*U;do{_e=(I(Pe=Me[Ce]*d(ne=_e)/ce[Ce])+_e)/2}while(--Ce);return[d(_e),Pe=M(_e),Pe/M(_e-ne),_e]}function tn(U,$){if(!$)return U;if(1===$)return i(m(U/2+w));for(var q=1,ne=R(1-$),_e=R($),Pe=0;E(_e)>h;Pe++){if(U%_){var V=f(ne*m(U)/q);V<0&&(V+=_),U+=V+~~(U/_)*_}else U+=U;_e=(q+ne)/2,ne=R(q*ne),_e=((q=_e)-ne)/2}return U/(o(2,Pe)*q)}function Fn(U,$){var Me,Ce,Ne,$e,Xe,q=(b-1)/(b+1),ne=R(1-q*q),_e=tn(g,ne*ne),Pe=i(m(_/4+E($)/2)),V=v(-1*Pe)/R(q),ie=(Me=V*M(-1*U),$e=(Ce=V*d(-1*U))+1,[.5*((Me>=0?g:-g)-S(Xe=1-(Ne=Me*Me)-Ce*Ce,2*Me)),-.25*i(Xe*Xe+4*Ne)+.5*i($e*$e+Ne)]),ce=function(Me,Ce,Ne){var $e=E(Me),Xe=N(E(Ce));if($e){var Qe=1/d($e),nt=1/(m($e)*m($e)),lt=-(nt+Ne*(Xe*Xe*Qe*Qe)-1+Ne),xt=(-lt+R(lt*lt-(Ne-1)*nt*4))/2;return[tn(f(1/R(xt)),Ne)*u(Me),tn(f(R((xt/nt-1)/Ne)),1-Ne)*u(Ce)]}return[0,tn(f(Xe),1-Ne)*u(Ce)]}(ie[0],ie[1],ne*ne);return[-ce[1],($>=0?1:-1)*(.5*_e-ce[0])]}function Nt(){return(0,D.Z)(or(Fn)).scale(151.496)}Yn.invert=function(U,$){E(U)>1&&(U=2*u(U)-U),E($)>1&&($=2*u($)-$);var q=u(U),ne=u($),_e=-q*U,Pe=-ne*$,V=Pe/_e<1,ie=function(Ne,$e){for(var Xe=0,Qe=1,nt=.5,lt=50;;){var xt=nt*nt,Mt=R(nt),Bt=I(1/R(1+xt)),Vt=1-xt+nt*(1+xt)*Bt,jt=(1-Mt)/Vt,Xt=R(jt),Ut=jt*(1+xt),gn=Xt*(1-xt),sn=R(Ut-Ne*Ne),rn=$e+gn+nt*sn;if(E(Qe-Xe)<T||0==--lt||0===rn)break;rn>0?Xe=nt:Qe=nt,nt=.5*(Xe+Qe)}if(!lt)return null;var En=I(Mt),On=M(En),$n=1/On,tr=2*Mt*On,ur=(-Vt*On-(-3*nt+Bt*(1+3*xt))*tr*(1-Mt))/(Vt*Vt);return[_/4*(Ne*(-2*$n*(.5*ur/Xt*(1-xt)-2*nt*Xt*tr)+-$n*tr*sn)+-$n*(nt*(1+xt)*ur+jt*(1+3*xt)*tr)*I(Ne/R(Ut))),En]}(V?Pe:_e,V?_e:Pe),ce=ie[0],Me=ie[1],Ce=M(Me);return V&&(ce=-g-ce),[q*(S(d(ce)*Ce,-d(Me))+_),ne*I(M(ce)*Ce)]},Fn.invert=function(U,$){var q,ne,_e,Pe,V,ie,$e,Xe,Qe,ce=(b-1)/(b+1),Me=R(1-ce*ce),Ce=(ne=-U,_e=Me*Me,(q=.5*tn(g,Me*Me)-$)?(Pe=gr(q,_e),ne?(ie=(V=gr(ne,1-_e))[1]*V[1]+_e*Pe[0]*Pe[0]*V[0]*V[0],[[Pe[0]*V[2]/ie,Pe[1]*Pe[2]*V[0]*V[1]/ie],[Pe[1]*V[1]/ie,-Pe[0]*Pe[2]*V[0]*V[2]/ie],[Pe[2]*V[1]*V[2]/ie,-_e*Pe[0]*Pe[1]*V[0]/ie]]):[[Pe[0],0],[Pe[1],0],[Pe[2],0]]):[[0,(V=gr(ne,1-_e))[0]/V[1]],[1/V[1],0],[V[2]/V[1],0]]),Ne=[(($e=Ce[0])[0]*(Xe=Ce[1])[0]+$e[1]*Xe[1])/(Qe=Xe[0]*Xe[0]+Xe[1]*Xe[1]),($e[1]*Xe[0]-$e[0]*Xe[1])/Qe];return[S(Ne[1],Ne[0])/-1,2*f(v(-.5*i(ce*Ne[0]*Ne[0]+ce*Ne[1]*Ne[1])))-g]};var an=r(7613);function cn(U){var $=d(U),q=M(U),ne=Pn(U);function _e(Pe,V){var ie=ne(Pe,V);Pe=ie[0];var ce=d(V=ie[1]),Me=M(V),Ce=M(Pe),Ne=P($*ce+q*Me*Ce),$e=d(Ne),Xe=E($e)>h?Ne/$e:1;return[Xe*q*d(Pe),(E(Pe)>g?Xe:-Xe)*($*Me-q*ce*Ce)]}return ne.invert=Pn(-U),_e.invert=function(Pe,V){var ie=R(Pe*Pe+V*V),ce=-d(ie),Me=M(ie),Ce=ie*Me,Ne=-V*ce,$e=ie*$,Xe=R(Ce*Ce+Ne*Ne-$e*$e),Qe=S(Ce*$e+Ne*Xe,Ne*$e-Ce*Xe),nt=(ie>g?-1:1)*S(Pe*ce,ie*M(Qe)*Me+V*d(Qe)*ce);return ne.invert(nt,Qe)},_e}function Pn(U){var $=d(U),q=M(U);return function(ne,_e){var Pe=M(_e),V=M(ne)*Pe,ie=d(ne)*Pe,ce=d(_e);return[S(ie,V*q-ce*$),I(ce*q+V*$)]}}function Nn(){var U=0,$=(0,D.r)(cn),q=$(U),ne=q.rotate,_e=q.stream,Pe=(0,an.Z)();return q.parallel=function(V){if(!arguments.length)return U*O;var ie=q.rotate();return $(U=V*k).rotate(ie)},q.rotate=function(V){return arguments.length?(ne.call(q,[V[0],V[1]-U*O]),Pe.center([-V[0],-V[1]]),q):((V=ne.call(q))[1]+=U*O,V)},q.stream=function(V){return(V=_e(V)).sphere=function(){V.polygonStart();var ie,ce=Pe.radius(89.99)().coordinates[0],Me=ce.length-1,Ce=-1;for(V.lineStart();++Ce<Me;)V.point((ie=ce[Ce])[0],ie[1]);for(V.lineEnd(),Me=(ce=Pe.radius(90.01)().coordinates[0]).length-1,V.lineStart();--Ce>=0;)V.point((ie=ce[Ce])[0],ie[1]);V.lineEnd(),V.polygonEnd()},V},q.scale(79.4187).parallel(45).clipAngle(179.999)}var Gn=r(33064),Tn=r(72736),un=I(1-1/3)*O,fn=it(0);function bn(U){var $=un*k,q=Pt(_,$)[0]-Pt(-_,$)[0],ne=fn(0,$)[1],_e=Pt(0,$)[1],Pe=A-_e,V=p/U,ie=4/p,ce=ne+Pe*Pe*4/p;function Me(Ce,Ne){var $e,Xe=E(Ne);if(Xe>$){var Qe=a(U-1,s(0,c((Ce+_)/V)));($e=Pt(Ce+=_*(U-1)/U-Qe*V,Xe))[0]=$e[0]*p/q-p*(U-1)/(2*U)+Qe*p/U,$e[1]=ne+4*($e[1]-_e)*Pe/p,Ne<0&&($e[1]=-$e[1])}else $e=fn(Ce,Ne);return $e[0]*=ie,$e[1]/=ce,$e}return Me.invert=function(Ce,Ne){Ce/=ie;var $e=E(Ne*=ce);if($e>ne){var Xe=a(U-1,s(0,c((Ce+_)/V))),Qe=Pt.invert(Ce=(Ce+_*(U-1)/U-Xe*V)*q/p,.25*($e-ne)*p/Pe+_e);return Qe[0]-=_*(U-1)/U-Xe*V,Ne<0&&(Qe[1]=-Qe[1]),Qe}return fn.invert(Ce,Ne)},Me}function Mn(U,$){return[U,1&$?90-h:un]}function Un(U,$){return[U,1&$?-90+h:-un]}function Vn(U){return[U[0]*(1-h),U[1]]}function sr(){var U=4,$=(0,D.r)(bn),q=$(U),ne=q.stream;return q.lobes=function(_e){return arguments.length?$(U=+_e):U},q.stream=function(_e){var Pe=q.rotate(),V=ne(_e),ie=(q.rotate([0,0]),ne(_e));return q.rotate(Pe),V.sphere=function(){var ce,Me;(0,Tn.Z)((Me=[].concat((0,Gn.w6)(-180,180+(ce=180/U)/2,ce).map(Mn),(0,Gn.w6)(180,-180-ce/2,-ce).map(Un)),{type:"Polygon",coordinates:[180===ce?Me.map(Vn):Me]}),ie)},V},q.scale(239.75)}function rr(U){var $,q=1+U,ne=I(d(1/q)),_e=2*R(_/($=_+4*ne*q)),Pe=.5*_e*(q+R(U*(2+U))),V=U*U,ie=q*q;function ce(Me,Ce){var Ne,$e,Xe=1-d(Ce);if(Xe&&Xe<2){var Qe,nt=g-Ce,lt=25;do{var xt=d(nt),Mt=M(nt),Bt=ne+S(xt,q-Mt),Vt=1+ie-2*q*Mt;nt-=Qe=(nt-V*ne-q*xt+Vt*Bt-.5*Xe*$)/(2*q*xt*Bt)}while(E(Qe)>T&&--lt>0);Ne=_e*R(Vt),$e=Me*Bt/_}else Ne=_e*(U+Xe),$e=Me*ne/_;return[Ne*d($e),Pe-Ne*M($e)]}return ce.invert=function(Me,Ce){var Ne=Me*Me+(Ce-=Pe)*Ce,$e=(1+ie-Ne/(_e*_e))/(2*q),Xe=P($e),Qe=d(Xe),nt=ne+S(Qe,q-$e);return[I(Me/R(Ne))*_/nt,I(1-2*(Xe-V*ne-q*Qe+(1+ie-2*q*$e)*nt)/$)]},ce}function _r(){var U=1,$=(0,D.r)(rr),q=$(U);return q.ratio=function(ne){return arguments.length?$(U=+ne):U},q.scale(167.774).center([0,18.67])}var Rn=.7109889596207567,Mr=.0528035274542;function lr(U,$){return $>-Rn?((U=pe(U,$))[1]+=Mr,U):Ge(U,$)}function wr(){return(0,D.Z)(lr).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Pr(U,$){return E($)>Rn?((U=pe(U,$))[1]-=$>0?Mr:-Mr,U):Ge(U,$)}function Lr(){return(0,D.Z)(Pr).scale(152.63)}function ii(U,$,q,ne){var _e=R(4*_/(2*q+(1+U-$/2)*d(2*q)+(U+$)/2*d(4*q)+$/2*d(6*q))),Pe=R(ne*d(q)*R((1+U*M(2*q)+$*M(4*q))/(1+U+$))),V=q*ce(1);function ie(Ne){return R(1+U*M(2*Ne)+$*M(4*Ne))}function ce(Ne){var $e=Ne*q;return(2*$e+(1+U-$/2)*d(2*$e)+(U+$)/2*d(4*$e)+$/2*d(6*$e))/q}function Me(Ne){return ie(Ne)*d(Ne)}var Ce=function(Ne,$e){var Xe=q*Te(ce,V*d($e)/q,$e/_);isNaN(Xe)&&(Xe=q*u($e));var Qe=_e*ie(Xe);return[Qe*Pe*Ne/_*M(Xe),Qe/Pe*d(Xe)]};return Ce.invert=function(Ne,$e){var Xe=Te(Me,$e*Pe/_e);return[Ne*_/(M(Xe)*_e*Pe*ie(Xe)),I(q*ce(Xe/q)/V)]},0===q&&(_e=R(ne/_),(Ce=function(Ne,$e){return[Ne*_e,d($e)/_e]}).invert=function(Ne,$e){return[Ne/_e,I($e*_e)]}),Ce}function pr(){var U=1,$=0,q=45*k,ne=2,_e=(0,D.r)(ii),Pe=_e(U,$,q,ne);return Pe.a=function(V){return arguments.length?_e(U=+V,$,q,ne):U},Pe.b=function(V){return arguments.length?_e(U,$=+V,q,ne):$},Pe.psiMax=function(V){return arguments.length?_e(U,$,q=+V*k,ne):q*O},Pe.ratio=function(V){return arguments.length?_e(U,$,q,ne=+V):ne},Pe.scale(180.739)}function Ur(U,$,q,ne,_e,Pe,V,ie,ce,Me,Ce){if(Ce.nanEncountered)return NaN;var Ne,$e,Xe,Qe,nt,lt,xt,Mt,Bt,Vt;if($e=U($+.25*(Ne=q-$)),Xe=U(q-.25*Ne),isNaN($e))Ce.nanEncountered=!0;else{if(!isNaN(Xe))return Vt=((lt=(Qe=Ne*(ne+4*$e+_e)/12)+(nt=Ne*(_e+4*Xe+Pe)/12))-V)/15,Me>ce?(Ce.maxDepthCount++,lt+Vt):Math.abs(Vt)<ie?lt+Vt:(Mt=Ur(U,$,xt=$+.5*Ne,ne,$e,_e,Qe,.5*ie,ce,Me+1,Ce),isNaN(Mt)?(Ce.nanEncountered=!0,NaN):(Bt=Ur(U,xt,q,_e,Xe,Pe,nt,.5*ie,ce,Me+1,Ce),isNaN(Bt)?(Ce.nanEncountered=!0,NaN):Mt+Bt));Ce.nanEncountered=!0}}function ui(U,$,q,ne,_e){void 0===ne&&(ne=1e-8),void 0===_e&&(_e=20);var Pe=U($),V=U(.5*($+q)),ie=U(q);return Ur(U,$,q,Pe,V,ie,(Pe+4*V+ie)*(q-$)/6,ne,_e,1,{maxDepthCount:0,nanEncountered:!1})}function Yi(U,$,q){function ne(Xe){return U+(1-U)*o(1-o(Xe,$),1/$)}function _e(Xe){return ui(ne,0,Xe,1e-4)}for(var Pe=1/_e(1),V=1e3,ie=1.00000001*Pe,ce=[],Me=0;Me<=V;Me++)ce.push(_e(Me/V)*ie);function Ce(Xe){var Qe=0,nt=V,lt=500;do{ce[lt]>Xe?nt=lt:Qe=lt,lt=Qe+nt>>1}while(lt>Qe);var xt=ce[lt+1]-ce[lt];return xt&&(xt=(Xe-ce[lt+1])/xt),(lt+1+xt)/V}var Ne=2*Ce(1)/_*Pe/q,$e=function(Xe,Qe){var nt=Ce(E(d(Qe))),lt=ne(nt)*Xe;return nt/=Ne,[lt,Qe>=0?nt:-nt]};return $e.invert=function(Xe,Qe){var nt;return E(Qe*=Ne)<1&&(nt=u(Qe)*I(_e(E(Qe))*Pe)),[Xe/ne(E(Qe)),nt]},$e}function Eo(){var U=0,$=2.5,q=1.183136,ne=(0,D.r)(Yi),_e=ne(U,$,q);return _e.alpha=function(Pe){return arguments.length?ne(U=+Pe,$,q):U},_e.k=function(Pe){return arguments.length?ne(U,$=+Pe,q):$},_e.gamma=function(Pe){return arguments.length?ne(U,$,q=+Pe):q},_e.scale(152.63)}function Qr(U,$){return E(U[0]-$[0])<h&&E(U[1]-$[1])<h}function wo(U,$){for(var q,ne,_e,Pe=-1,V=U.length,ie=U[0],ce=[];++Pe<V;){ne=((q=U[Pe])[0]-ie[0])/$,_e=(q[1]-ie[1])/$;for(var Me=0;Me<$;++Me)ce.push([ie[0]+Me*ne,ie[1]+Me*_e]);ie=q}return ce.push(q),ce}function co(U,$,q){var ne,_e;function Pe(ce,Me){for(var Ce=Me<0?-1:1,Ne=$[+(Me<0)],$e=0,Xe=Ne.length-1;$e<Xe&&ce>Ne[$e][2][0];++$e);var Qe=U(ce-Ne[$e][1][0],Me);return Qe[0]+=U(Ne[$e][1][0],Ce*Me>Ce*Ne[$e][0][1]?Ne[$e][0][1]:Me)[0],Qe}q?Pe.invert=q(Pe):U.invert&&(Pe.invert=function(ce,Me){for(var Ce=_e[+(Me<0)],Ne=$[+(Me<0)],$e=0,Xe=Ce.length;$e<Xe;++$e){var Qe=Ce[$e];if(Qe[0][0]<=ce&&ce<Qe[1][0]&&Qe[0][1]<=Me&&Me<Qe[1][1]){var nt=U.invert(ce-U(Ne[$e][1][0],0)[0],Me);return nt[0]+=Ne[$e][1][0],Qr(Pe(nt[0],nt[1]),[ce,Me])?nt:null}}});var V=(0,D.Z)(Pe),ie=V.stream;return V.stream=function(ce){var Me=V.rotate(),Ce=ie(ce),Ne=(V.rotate([0,0]),ie(ce));return V.rotate(Me),Ce.sphere=function(){(0,Tn.Z)(ne,Ne)},Ce},V.lobes=function(ce){return arguments.length?(ne=function(Me){var Ce,Ne,Xe,Qe,lt,xt=[],Mt=Me[0].length;for(lt=0;lt<Mt;++lt)Ne=(Ce=Me[0][lt])[0][0],xt.push(wo([[Ne+h,Ce[0][1]+h],[Ne+h,(Xe=Ce[1][1])-h],[(Qe=Ce[2][0])-h,Xe-h],[Qe-h,Ce[2][1]+h]],30));for(lt=Me[1].length-1;lt>=0;--lt)Ne=(Ce=Me[1][lt])[0][0],xt.push(wo([[(Qe=Ce[2][0])-h,Ce[2][1]-h],[Qe-h,(Xe=Ce[1][1])+h],[Ne+h,Xe+h],[Ne+h,Ce[0][1]-h]],30));return{type:"Polygon",coordinates:[(0,Gn.TS)(xt)]}}(ce),$=ce.map(function(Me){return Me.map(function(Ce){return[[Ce[0][0]*k,Ce[0][1]*k],[Ce[1][0]*k,Ce[1][1]*k],[Ce[2][0]*k,Ce[2][1]*k]]})}),_e=$.map(function(Me){return Me.map(function(Ce){var Ne,$e=U(Ce[0][0],Ce[0][1])[0],Xe=U(Ce[2][0],Ce[2][1])[0],Qe=U(Ce[1][0],Ce[0][1])[1],nt=U(Ce[1][0],Ce[1][1])[1];return Qe>nt&&(Ne=Qe,Qe=nt,nt=Ne),[[$e,Qe],[Xe,nt]]})}),V):$.map(function(Me){return Me.map(function(Ce){return[[Ce[0][0]*O,Ce[0][1]*O],[Ce[1][0]*O,Ce[1][1]*O],[Ce[2][0]*O,Ce[2][1]*O]]})})},null!=$&&V.lobes($),V}lr.invert=function(U,$){return $>-Rn?pe.invert(U,$-Mr):Ge.invert(U,$)},Pr.invert=function(U,$){return E($)>Rn?pe.invert(U,$+($>0?Mr:-Mr)):Ge.invert(U,$)};var Zi=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Vs(){return co(Oe,Zi).scale(160.857)}var vs=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Xi(){return co(Pr,vs).scale(152.63)}var uf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Bu(){return co(pe,uf).scale(169.529)}var gc=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function mu(){return co(pe,gc).scale(169.529).rotate([20,0])}var Es=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Qu(){return co(lr,Es,ve).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var vu=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function yu(){return co(Ge,vu).scale(152.63).rotate([-20,0])}function hl(U,$){return[3/p*U*R(_*_/3-$*$),$]}function qo(){return(0,D.Z)(hl).scale(158.837)}function Ll(U){function $(q,ne){if(E(E(ne)-g)<h)return[0,ne<0?-2:2];var _e=d(ne),Pe=o((1+_e)/(1-_e),U/2),V=.5*(Pe+1/Pe)+M(q*=U);return[2*d(q)/V,(Pe-1/Pe)/V]}return $.invert=function(q,ne){var _e=E(ne);if(E(_e-2)<h)return q?null:[0,u(ne)*g];if(_e>2)return null;var Pe=(q/=2)*q,V=(ne/=2)*ne,ie=2*ne/(1+Pe+V);return ie=o((1+ie)/(1-ie),1/U),[S(2*q,1-Pe-V)/U,I((ie-1)/(ie+1))]},$}function Fi(){var U=.5,$=(0,D.r)(Ll),q=$(U);return q.spacing=function(ne){return arguments.length?$(U=+ne):U},q.scale(124.75)}hl.invert=function(U,$){return[p/3*U/R(_*_/3-$*$),$]};var pl=_/b;function Nr(U,$){return[U*(1+R(M($)))/2,$/(M($/2)*M(U/6))]}function ml(){return(0,D.Z)(Nr).scale(97.2672)}function mi(U,$){var q=U*U,ne=$*$;return[U*(.975534+ne*(-.0143059*q-.119161+-.0547009*ne)),$*(1.00384+q*(.0802894+-.02855*ne+199025e-9*q)+ne*(.0998909+-.0491032*ne))]}function Hs(){return(0,D.Z)(mi).scale(139.98)}function Gs(U,$){return[d(U)/M($),m($)*M(U)]}function ys(){return(0,D.Z)(Gs).scale(144.049).clipAngle(89.999)}function mc(U){var $=M(U),q=m(w+U/2);function ne(_e,Pe){var V=Pe-U,ie=E(V)<h?_e*$:E(ie=w+Pe/2)<h||E(E(ie)-g)<h?0:_e*V/i(m(ie)/q);return[ie,V]}return ne.invert=function(_e,Pe){var V,ie=Pe+U;return[E(Pe)<h?_e/$:E(V=w+ie/2)<h||E(E(V)-g)<h?0:_e*i(m(V)/q)/Pe,ie]},ne}function cf(){return Ue(mc).parallel(40).scale(158.837)}function Ql(U,$){return[U,1.25*i(m(w+.4*$))]}function vl(){return(0,D.Z)(Ql).scale(108.318)}function Cs(U){var $=U.length-1;function q(ne,_e){for(var Pe,V=M(_e),ie=2/(1+V*M(ne)),ce=ie*V*d(ne),Me=ie*d(_e),Ce=$,Ne=U[Ce],$e=Ne[0],Xe=Ne[1];--Ce>=0;)$e=(Ne=U[Ce])[0]+ce*(Pe=$e)-Me*Xe,Xe=Ne[1]+ce*Xe+Me*Pe;return[$e=ce*(Pe=$e)-Me*Xe,Xe=ce*Xe+Me*Pe]}return q.invert=function(ne,_e){var Pe=20,V=ne,ie=_e;do{for(var ce,Me=$,Ce=U[Me],Ne=Ce[0],$e=Ce[1],Xe=0,Qe=0;--Me>=0;)Xe=Ne+V*(ce=Xe)-ie*Qe,Qe=$e+V*Qe+ie*ce,Ne=(Ce=U[Me])[0]+V*(ce=Ne)-ie*$e,$e=Ce[1]+V*$e+ie*ce;var nt,lt,xt=(Xe=Ne+V*(ce=Xe)-ie*Qe)*Xe+(Qe=$e+V*Qe+ie*ce)*Qe;V-=nt=((Ne=V*(ce=Ne)-ie*$e-ne)*Xe+($e=V*$e+ie*ce-_e)*Qe)/xt,ie-=lt=($e*Xe-Ne*Qe)/xt}while(E(nt)+E(lt)>h*h&&--Pe>0);if(Pe){var Mt=R(V*V+ie*ie),Bt=2*f(.5*Mt),Vt=d(Bt);return[S(V*Vt,Mt*M(Bt)),Mt?I(ie*Vt/Mt):0]}},q}Nr.invert=function(U,$){var q=E(U),ne=E($),_e=h,Pe=g;ne<pl?Pe*=ne/pl:_e+=6*P(pl/ne);for(var V=0;V<25;V++){var ie=d(Pe),ce=R(M(Pe)),Me=d(Pe/2),Ce=M(Pe/2),Ne=d(_e/6),$e=M(_e/6),Xe=.5*_e*(1+ce)-q,Qe=Pe/(Ce*$e)-ne,nt=ce?-.25*_e*ie/ce:0,lt=.5*(1+ce),xt=(1+.5*Pe*Me/Ce)/(Ce*$e),Mt=Pe/Ce*(Ne/6)/($e*$e),Bt=nt*Mt-xt*lt,Vt=(Xe*Mt-Qe*lt)/Bt,jt=(Qe*nt-Xe*xt)/Bt;if(Pe-=Vt,_e-=jt,E(Vt)<h&&E(jt)<h)break}return[U<0?-_e:_e,$<0?-Pe:Pe]},mi.invert=function(U,$){var q=u(U)*_,ne=$/2,_e=50;do{var Pe=q*q,V=ne*ne,ie=q*ne,ce=q*(.975534+V*(-.0143059*Pe-.119161+-.0547009*V))-U,Me=ne*(1.00384+Pe*(.0802894+-.02855*V+199025e-9*Pe)+V*(.0998909+-.0491032*V))-$,Ce=.975534-V*(.119161+3*Pe*.0143059+.0547009*V),Ne=-ie*(.238322+.2188036*V+.0286118*Pe),$e=ie*(.1605788+7961e-7*Pe+-.0571*V),Xe=1.00384+Pe*(.0802894+199025e-9*Pe)+V*(3*(.0998909-.02855*Pe)-.245516*V),Qe=Ne*$e-Xe*Ce,nt=(Me*Ne-ce*Xe)/Qe,lt=(ce*$e-Me*Ce)/Qe;q-=nt,ne-=lt}while((E(nt)>h||E(lt)>h)&&--_e>0);return _e&&[q,ne]},Gs.invert=function(U,$){var q=U*U,ne=$*$+1,_e=q+ne,Pe=U?x*R((_e-R(_e*_e-4*q))/q):1/R(ne);return[I(U*Pe),u($)*P(Pe)]},Ql.invert=function(U,$){return[U,2.5*f(v(.8*$))-.625*_]};var Ws=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],qs=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Ji=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Nl=[[.9245,0],[0,0],[.01943,0]],yl=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Fl(){return ji(Ws,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function _u(){return ji(qs,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Ds(){return ji(Ji,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function xu(){return ji(Nl,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Ic(){return ji(yl,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function ji(U,$){var q=(0,D.Z)(Cs(U)).rotate($).clipAngle(90),ne=(0,at.Z)($),_e=q.center;return delete q.rotate,q.center=function(Pe){return arguments.length?_e(ne(Pe)):ne.invert(_e())},q}var bu=R(6),_l=R(7);function zl(U,$){var q=I(7*d($)/(3*bu));return[bu*U*(2*M(2*q/3)-1)/_l,9*d(q/3)/_l]}function ro(){return(0,D.Z)(zl).scale(164.859)}function eu(U,$){for(var q,ne=(1+x)*d($),_e=$,Pe=0;Pe<25&&(_e-=q=(d(_e/2)+d(_e)-ne)/(.5*M(_e/2)+M(_e)),!(E(q)<h));Pe++);return[U*(1+2*M(_e)/M(_e/2))/(3*b),2*R(3)*d(_e/2)/R(2+b)]}function io(){return(0,D.Z)(eu).scale(188.209)}function Br(U,$){for(var q,ne=R(6/(4+_)),_e=(1+_/4)*d($),Pe=$/2,V=0;V<25&&(Pe-=q=(Pe/2+d(Pe)-_e)/(.5+M(Pe)),!(E(q)<h));V++);return[ne*(.5+M(Pe))*U/1.5,ne*Pe]}function ma(){return(0,D.Z)(Br).scale(166.518)}zl.invert=function(U,$){var q=3*I($*_l/9);return[U*_l/(bu*(2*M(2*q/3)-1)),I(3*d(q)*bu/7)]},eu.invert=function(U,$){var q=$*R(2+b)/(2*R(3)),ne=2*I(q);return[3*b*U/(1+2*M(ne)/M(ne/2)),I((q+d(ne))/(1+x))]},Br.invert=function(U,$){var q=R(6/(4+_)),ne=$/q;return E(E(ne)-g)<h&&(ne=ne<0?-g:g),[1.5*U/(q*(.5+M(ne))),I((ne/2+d(ne))/(1+_/4))]};var Oi=r(26867);function $o(U,$){var q=$*$,ne=q*q,_e=q*ne;return[U*(.84719-.13063*q+_e*_e*(.05494*q-.04515-.02326*ne+.00331*_e)),$*(1.01183+ne*ne*(.01926*q-.02625-.00396*ne))]}function as(){return(0,D.Z)($o).scale(175.295)}function Bl(U,$){return[U*(1+M($))/2,2*($-m($/2))]}function ss(){return(0,D.Z)(Bl).scale(152.63)}$o.invert=function(U,$){var q,ne,_e,Pe,V=$,ie=25;do{V-=q=(V*(1.01183+(_e=(ne=V*V)*ne)*_e*(.01926*ne-.02625-.00396*_e))-$)/(1.01183+_e*_e*(.21186*ne-.23625+-.05148*_e))}while(E(q)>T&&--ie>0);return[U/(.84719-.13063*(ne=V*V)+(Pe=ne*(_e=ne*ne))*Pe*(.05494*ne-.04515-.02326*_e+.00331*Pe)),V]},Bl.invert=function(U,$){for(var q=$/2,ne=0,_e=1/0;ne<10&&E(_e)>h;++ne){var Pe=M($/2);$-=_e=($-m($/2)-q)/(1-.5/(Pe*Pe))}return[2*U/(1+M($)),$]};var Pc=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function ju(){return co(he(1/0),Pc).rotate([20,0]).scale(152.63)}function jl(U,$){var q=d($),ne=M($),_e=u(U);if(0===U||E($)===g)return[0,$];if(0===$)return[U,0];if(E(U)===g)return[U*ne,g*q];var Pe=_/(2*U)-2*U/_,V=2*$/_,ie=(1-V*V)/(q-V),ce=Pe*Pe,Me=ie*ie,Ce=1+ce/Me,Ne=1+Me/ce,$e=(Pe*q/ie-Pe/2)/Ce,Xe=(Me*q/ce+ie/2)/Ne,Qe=Xe*Xe-(Me*q*q/ce+ie*q-1)/Ne;return[g*($e+R($e*$e+ne*ne/Ce)*_e),g*(Xe+R(Qe<0?0:Qe)*u(-$*Pe)*_e)]}function _s(){return(0,D.Z)(jl).scale(127.267)}jl.invert=function(U,$){var q=(U/=g)*U,ne=q+($/=g)*$,_e=_*_;return[U?(ne-1+R((1-ne)*(1-ne)+4*q))/(2*U)*g:0,Te(function(Pe){return ne*(_*d(Pe)-2*Pe)*_+4*Pe*Pe*($-d(Pe))+2*_*Pe-_e*$},0)]};var ti=1.0148,wi=.23185,yo=-.14499,da=.02406,xl=ti,Io=5*wi,wu=7*yo,Zo=9*da,Tu=1.790857183;function $s(U,$){var q=$*$;return[U,$*(ti+q*q*(wi+q*(yo+da*q)))]}function Si(){return(0,D.Z)($s).scale(139.319)}function Ul(U,$){if(E($)<h)return[U,0];var q=m($),ne=U*d($);return[d(ne)/q,$+(1-M(ne))/q]}function Mu(){return(0,D.Z)(Ul).scale(103.74)}$s.invert=function(U,$){$>Tu?$=Tu:$<-1.790857183&&($=-1.790857183);var q,ne=$;do{var _e=ne*ne;ne-=q=(ne*(ti+_e*_e*(wi+_e*(yo+da*_e)))-$)/(xl+_e*_e*(Io+_e*(wu+Zo*_e)))}while(E(q)>h);return[U,ne]},Ul.invert=function(U,$){if(E($)<h)return[U,0];var q,ne=U*U+$*$,_e=.5*$,Pe=10;do{var V=m(_e),ie=1/M(_e),ce=ne-2*$*_e+_e*_e;_e-=q=(V*ce+2*(_e-$))/(2+ce*ie*ie+2*(_e-$)*V)}while(E(q)>h&&--Pe>0);return V=m(_e),[(E($)<E(_e+1/V)?I(U*V):u($)*u(U)*(P(E(U*V))+g))/d(_e),_e]};var Au=r(77338),Os=r(83074);function na(U,$){return[U[0]*$[0]+U[1]*$[3],U[0]*$[1]+U[1]*$[4],U[0]*$[2]+U[1]*$[5]+U[2],U[3]*$[0]+U[4]*$[3],U[3]*$[1]+U[4]*$[4],U[3]*$[2]+U[4]*$[5]+U[5]]}function bl(U,$){return[U[0]-$[0],U[1]-$[1]]}function Vi(U){return R(U[0]*U[0]+U[1]*U[1])}function Pa(U,$,q){function ne(ie,ce){var Me,Ce=$(ie,ce),Ne=Ce.project([ie*O,ce*O]);return(Me=Ce.transform)?[Me[0]*Ne[0]+Me[1]*Ne[1]+Me[2],-(Me[3]*Ne[0]+Me[4]*Ne[1]+Me[5])]:(Ne[1]=-Ne[1],Ne)}function _e(ie,ce){var lt,xt,Me=ie.project.invert,Ce=ie.transform,Ne=ce;if(Ce&&(Ne=[(Ce=[(xt=1/((lt=Ce)[0]*lt[4]-lt[1]*lt[3]))*lt[4],-xt*lt[1],xt*(lt[1]*lt[5]-lt[2]*lt[4]),-xt*lt[3],xt*lt[0],xt*(lt[2]*lt[3]-lt[0]*lt[5])])[0]*Ne[0]+Ce[1]*Ne[1]+Ce[2],Ce[3]*Ne[0]+Ce[4]*Ne[1]+Ce[5]]),Me&&ie===function(lt){return $(lt[0]*k,lt[1]*k)}($e=Me(Ne)))return $e;for(var $e,Xe=ie.children,Qe=0,nt=Xe&&Xe.length;Qe<nt;++Qe)if($e=_e(Xe[Qe],ce))return $e}(function ie(ce,Me){if(ce.edges=function(jt){for(var Xt=jt.length,Ut=[],gn=jt[Xt-1],sn=0;sn<Xt;++sn)Ut.push([gn,gn=jt[sn]]);return Ut}(ce.face),Me.face){var Ce=ce.shared=function(jt,Xt){for(var Ut,gn,sn=jt.length,rn=null,En=0;En<sn;++En){Ut=jt[En];for(var On=Xt.length;--On>=0;)if(Ut[0]===(gn=Xt[On])[0]&&Ut[1]===gn[1]){if(rn)return[rn,Ut];rn=Ut}}}(ce.face,Me.face),Ne=(nt=Ce.map(Me.project),lt=Ce.map(ce.project),xt=bl(nt[1],nt[0]),Mt=bl(lt[1],lt[0]),Bt=S((jt=xt)[0]*(Xt=Mt)[1]-jt[1]*Xt[0],jt[0]*Xt[0]+jt[1]*Xt[1]),Vt=Vi(xt)/Vi(Mt),na([1,0,nt[0][0],0,1,nt[0][1]],na([Vt,0,0,0,Vt,0],na([M(Bt),d(Bt),0,-d(Bt),M(Bt),0],[1,0,-lt[0][0],0,1,-lt[0][1]]))));ce.transform=Me.transform?na(Me.transform,Ne):Ne;for(var $e=Me.edges,Xe=0,Qe=$e.length;Xe<Qe;++Xe)ra(Ce[0],$e[Xe][1])&&ra(Ce[1],$e[Xe][0])&&($e[Xe]=ce),ra(Ce[0],$e[Xe][0])&&ra(Ce[1],$e[Xe][1])&&($e[Xe]=ce);for(Xe=0,Qe=($e=ce.edges).length;Xe<Qe;++Xe)ra(Ce[0],$e[Xe][0])&&ra(Ce[1],$e[Xe][1])&&($e[Xe]=Me),ra(Ce[0],$e[Xe][1])&&ra(Ce[1],$e[Xe][0])&&($e[Xe]=Me)}else ce.transform=Me.transform;var jt,Xt,nt,lt,xt,Mt,Bt,Vt;return ce.children&&ce.children.forEach(function(jt){ie(jt,ce)}),ce})(U,{transform:null}),di(U)&&(ne.invert=function(ie,ce){var Me=_e(U,[ie,-ce]);return Me&&(Me[0]*=k,Me[1]*=k,Me)});var Pe=(0,D.Z)(ne),V=Pe.stream;return Pe.stream=function(ie){var ce=Pe.rotate(),Me=V(ie),Ce=(Pe.rotate([0,0]),V(ie));return Pe.rotate(ce),Me.sphere=function(){Ce.polygonStart(),Ce.lineStart(),xs(Ce,U),Ce.lineEnd(),Ce.polygonEnd()},Me},Pe.angle(null==q?-30:q*O)}function xs(U,$,q){var ne,_e,Pe=$.edges,V=Pe.length,ie={type:"MultiPoint",coordinates:$.face},ce=$.face.filter(function(nt){return 90!==E(nt[1])}),Me=(0,Au.Z)({type:"MultiPoint",coordinates:ce}),Ce=!1,Ne=-1,$e=Me[1][0]-Me[0][0],Xe=180===$e||360===$e?[(Me[0][0]+Me[1][0])/2,(Me[0][1]+Me[1][1])/2]:(0,et.Z)(ie);if(q)for(;++Ne<V&&Pe[Ne]!==q;);++Ne;for(var Qe=0;Qe<V;++Qe)_e=Pe[(Qe+Ne)%V],Array.isArray(_e)?(Ce||(U.point((ne=(0,Os.Z)(_e[0],Xe)(h))[0],ne[1]),Ce=!0),U.point((ne=(0,Os.Z)(_e[1],Xe)(h))[0],ne[1])):(Ce=!1,_e!==q&&xs(U,_e,$))}function ra(U,$){return U&&$&&U[0]===$[0]&&U[1]===$[1]}function di(U){return U.project.invert||U.children&&U.children.some(di)}var Qi=r(98936),wl=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Tl=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(U){return U.map(function($){return wl[$]})});function Uu(U){U=U||function(q){var ne=(0,et.Z)({type:"MultiPoint",coordinates:q});return(0,Qi.Z)().scale(1).translate([0,0]).rotate([-ne[0],-ne[1]])};var $=Tl.map(function(q){return{face:q,project:U(q)}});return[-1,0,0,1,0,1,4,5].forEach(function(q,ne){var _e=$[q];_e&&(_e.children||(_e.children=[])).push($[ne])}),Pa($[0],function(q,ne){return $[q<-_/2?ne<0?6:4:q<0?ne<0?2:0:q<_/2?ne<0?3:1:ne<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var tu=2/R(3);function bs(U,$){var q=Pt(U,$);return[q[0]*tu,q[1]]}function ha(U){U=U||function(q){var ne=(0,et.Z)({type:"MultiPoint",coordinates:q});return(0,D.Z)(bs).translate([0,0]).scale(1).rotate(ne[1]>0?[-ne[0],0]:[180-ne[0],180])};var $=Tl.map(function(q){return{face:q,project:U(q)}});return[-1,0,0,1,0,1,4,5].forEach(function(q,ne){var _e=$[q];_e&&(_e.children||(_e.children=[])).push($[ne])}),Pa($[0],function(q,ne){return $[q<-_/2?ne<0?6:4:q<0?ne<0?2:0:q<_/2?ne<0?3:1:ne<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function nu(U){U=U||function(Pe){var V=6===Pe.length?(0,et.Z)({type:"MultiPoint",coordinates:Pe}):Pe[0];return(0,Qi.Z)().scale(1).translate([0,0]).rotate([-V[0],-V[1]])};var $=Tl.map(function(Pe){for(var V,ie=Pe.map(Co),ce=ie.length,Me=ie[ce-1],Ce=[],Ne=0;Ne<ce;++Ne)Ce.push(va([.9486832980505138*Me[0]+.31622776601683794*(V=ie[Ne])[0],.9486832980505138*Me[1]+.31622776601683794*V[1],.9486832980505138*Me[2]+.31622776601683794*V[2]]),va([.9486832980505138*V[0]+.31622776601683794*Me[0],.9486832980505138*V[1]+.31622776601683794*Me[1],.9486832980505138*V[2]+.31622776601683794*Me[2]])),Me=V;return Ce}),q=[],ne=[-1,0,0,1,0,1,4,5];$.forEach(function(Pe,V){for(var ie,ce,Me=Tl[V],Ce=Me.length,Ne=q[V]=[],$e=0;$e<Ce;++$e)$.push([Me[$e],Pe[(2*$e+2)%(2*Ce)],Pe[(2*$e+1)%(2*Ce)]]),ne.push(V),Ne.push((ie=Co(Pe[(2*$e+2)%(2*Ce)]),ce=Co(Pe[(2*$e+1)%(2*Ce)]),[ie[1]*ce[2]-ie[2]*ce[1],ie[2]*ce[0]-ie[0]*ce[2],ie[0]*ce[1]-ie[1]*ce[0]]))});var _e=$.map(function(Pe){return{project:U(Pe),face:Pe}});return ne.forEach(function(Pe,V){var ie=_e[Pe];ie&&(ie.children||(ie.children=[])).push(_e[V])}),Pa(_e[0],function(Pe,V){var ie=M(V),ce=[ie*M(Pe),ie*d(Pe),d(V)],Me=Pe<-_/2?V<0?6:4:Pe<0?V<0?2:0:Pe<_/2?V<0?3:1:V<0?7:5,Ce=q[Me];return _e[pa(Ce[0],ce)<0?8+3*Me:pa(Ce[1],ce)<0?8+3*Me+1:pa(Ce[2],ce)<0?8+3*Me+2:Me]}).angle(-30).scale(110.625).center([0,45])}function pa(U,$){for(var q=0,ne=U.length,_e=0;q<ne;++q)_e+=U[q]*$[q];return _e}function va(U){return[S(U[1],U[0])*O,I(s(-1,a(1,U[2])))*O]}function Co(U){var $=U[0]*k,q=U[1]*k,ne=M(q);return[ne*M($),ne*d($),d(q)]}function Zs(){}function Ml(U,$){var q,ne=$.stream;if(!ne)throw new Error("invalid projection");switch(U&&U.type){case"Feature":q=Ra;break;case"FeatureCollection":q=fo;break;default:q=La}return q(U,ne)}function fo(U,$){return{type:"FeatureCollection",features:U.features.map(function(q){return Ra(q,$)})}}function Ra(U,$){return{type:"Feature",id:U.id,properties:U.properties,geometry:La(U.geometry,$)}}function La(U,$){if(!U)return null;if("GeometryCollection"===U.type)return _e=$,{type:"GeometryCollection",geometries:U.geometries.map(function(Pe){return La(Pe,_e)})};var _e,q;switch(U.type){case"Point":case"MultiPoint":q=ku;break;case"LineString":case"MultiLineString":q=Al;break;case"Polygon":case"MultiPolygon":case"Sphere":q=ya;break;default:return null}return(0,Tn.Z)(U,$(q)),q.result()}bs.invert=function(U,$){return Pt.invert(U/tu,$)};var ia=[],ja=[],ku={point:function(U,$){ia.push([U,$])},result:function(){var U=ia.length?ia.length<2?{type:"Point",coordinates:ia[0]}:{type:"MultiPoint",coordinates:ia}:null;return ia=[],U}},Al={lineStart:Zs,point:function(U,$){ia.push([U,$])},lineEnd:function(){ia.length&&(ja.push(ia),ia=[])},result:function(){var U=ja.length?ja.length<2?{type:"LineString",coordinates:ja[0]}:{type:"MultiLineString",coordinates:ja}:null;return ja=[],U}},ya={polygonStart:Zs,lineStart:Zs,point:function(U,$){ia.push([U,$])},lineEnd:function(){var U=ia.length;if(U){do{ia.push(ia[0].slice())}while(++U<4);ja.push(ia),ia=[]}},polygonEnd:Zs,result:function(){if(!ja.length)return null;var U=[],$=[];return ja.forEach(function(q){!function(ne){if((_e=ne.length)<4)return!1;for(var _e,Pe=0,V=ne[_e-1][1]*ne[0][0]-ne[_e-1][0]*ne[0][1];++Pe<_e;)V+=ne[Pe-1][1]*ne[Pe][0]-ne[Pe-1][0]*ne[Pe][1];return V<=0}(q)?$.push(q):U.push([q])}),$.forEach(function(q){var ne=q[0];U.some(function(_e){if(function(Pe,V){for(var ie=V[0],ce=V[1],Me=!1,Ce=0,Ne=Pe.length,$e=Ne-1;Ce<Ne;$e=Ce++){var Xe=Pe[Ce],Qe=Xe[0],nt=Xe[1],lt=Pe[$e],Mt=lt[1];nt>ce^Mt>ce&&ie<(lt[0]-Qe)*(ce-nt)/(Mt-nt)+Qe&&(Me=!Me)}return Me}(_e[0],ne))return _e.push(q),!0})||U.push([q])}),ja=[],U.length?U.length>1?{type:"MultiPolygon",coordinates:U}:{type:"Polygon",coordinates:U[0]}:null}};function Is(U){var $=U(g,0)[0]-U(-g,0)[0];function q(ne,_e){var Pe=E(ne)<g,V=U(Pe?ne:ne>0?ne-_:ne+_,_e),ie=(V[0]-V[1])*x,ce=(V[0]+V[1])*x;if(Pe)return[ie,ce];var Me=$*x,Ce=ie>0^ce>0?-1:1;return[Ce*ie-u(ce)*Me,Ce*ce-u(ie)*Me]}return U.invert&&(q.invert=function(ne,_e){var Pe=(ne+_e)*x,V=(_e-ne)*x,ie=E(Pe)<.5*$&&E(V)<.5*$;if(!ie){var ce=$*x,Me=Pe>0^V>0?-1:1,Ce=-Me*ne+(V>0?1:-1)*ce,Ne=-Me*_e+(Pe>0?1:-1)*ce;Pe=(-Ce-Ne)*x,V=(Ce-Ne)*x}var $e=U.invert(Pe,V);return ie||($e[0]+=Pe>0?_:-_),$e}),(0,D.Z)(q).rotate([-90,-90,45]).clipAngle(179.999)}function Ys(){return Is(Yn).scale(176.423)}function Rc(){return Is(Fn).scale(111.48)}function Xs(U,$){if(!(0<=($=+$)&&$<=20))throw new Error("invalid digits");function q(Me){var Ce=Me.length,Ne=2,$e=new Array(Ce);for($e[0]=+Me[0].toFixed($),$e[1]=+Me[1].toFixed($);Ne<Ce;)$e[Ne]=Me[Ne],++Ne;return $e}function ne(Me){return Me.map(q)}function _e(Me){for(var Ce=q(Me[0]),Ne=[Ce],$e=1;$e<Me.length;$e++){var Xe=q(Me[$e]);(Xe.length>2||Xe[0]!=Ce[0]||Xe[1]!=Ce[1])&&(Ne.push(Xe),Ce=Xe)}return 1===Ne.length&&Me.length>1&&Ne.push(q(Me[Me.length-1])),Ne}function Pe(Me){return Me.map(_e)}function V(Me){if(null==Me)return Me;var Ce;switch(Me.type){case"GeometryCollection":Ce={type:"GeometryCollection",geometries:Me.geometries.map(V)};break;case"Point":Ce={type:"Point",coordinates:q(Me.coordinates)};break;case"MultiPoint":Ce={type:Me.type,coordinates:ne(Me.coordinates)};break;case"LineString":Ce={type:Me.type,coordinates:_e(Me.coordinates)};break;case"MultiLineString":case"Polygon":Ce={type:Me.type,coordinates:Pe(Me.coordinates)};break;case"MultiPolygon":Ce={type:"MultiPolygon",coordinates:Me.coordinates.map(Pe)};break;default:return Me}return null!=Me.bbox&&(Ce.bbox=Me.bbox),Ce}function ie(Me){var Ce={type:"Feature",properties:Me.properties,geometry:V(Me.geometry)};return null!=Me.id&&(Ce.id=Me.id),null!=Me.bbox&&(Ce.bbox=Me.bbox),Ce}if(null!=U)switch(U.type){case"Feature":return ie(U);case"FeatureCollection":var ce={type:"FeatureCollection",features:U.features.map(ie)};return null!=U.bbox&&(ce.bbox=U.bbox),ce;default:return V(U)}return U}function _a(U){var $=d(U);function q(ne,_e){var Pe=$?m(ne*$/2)/$:ne/2;if(!_e)return[2*Pe,-U];var V=2*f(Pe*d(_e)),ie=1/m(_e);return[d(V)*ie,_e+(1-M(V))*ie-U]}return q.invert=function(ne,_e){if(E(_e+=U)<h)return[$?2*f($*ne/2)/$:ne,0];var Pe,V=ne*ne+_e*_e,ie=0,ce=10;do{var Me=m(ie),Ce=1/M(ie),Ne=V-2*_e*ie+ie*ie;ie-=Pe=(Me*Ne+2*(ie-_e))/(2+Ne*Ce*Ce+2*(ie-_e)*Me)}while(E(Pe)>h&&--ce>0);var $e=ne*(Me=m(ie)),Xe=m(E(_e)<E(ie+1/Me)?.5*I($e):.5*P($e)+_/4)/d(ie);return[$?2*f($*Xe)/$:2*Xe,ie]},q}function ni(){return Ue(_a).scale(131.215)}var Ua=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function vc(U,$){var q,ne=a(18,36*E($)/_),_e=c(ne),Pe=ne-_e,V=(q=Ua[_e])[0],ie=q[1],ce=(q=Ua[++_e])[0],Me=q[1],Ce=(q=Ua[a(19,++_e)])[0],Ne=q[1];return[U*(ce+Pe*(Ce-V)/2+Pe*Pe*(Ce-2*ce+V)/2),($>0?g:-g)*(Me+Pe*(Ne-ie)/2+Pe*Pe*(Ne-2*Me+ie)/2)]}function Lc(){return(0,D.Z)(vc).scale(152.63)}function ru(U,$){var q=function(V){function ie(ce,Me){var Ce=M(Me),Ne=(V-1)/(V-Ce*M(ce));return[Ne*Ce*d(ce),Ne*d(Me)]}return ie.invert=function(ce,Me){var Ce=ce*ce+Me*Me,Ne=R(Ce),$e=(V-R(1-Ce*(V+1)/(V-1)))/((V-1)/Ne+Ne/(V-1));return[S(ce*$e,Ne*R(1-$e*$e)),Ne?I(Me*$e/Ne):0]},ie}(U);if(!$)return q;var ne=M($),_e=d($);function Pe(V,ie){var ce=q(V,ie),Me=ce[1],Ce=Me*_e/(U-1)+ne;return[ce[0]*ne/Ce,Me/Ce]}return Pe.invert=function(V,ie){var ce=(U-1)/(U-1-ie*_e);return q.invert(ce*V,ce*ie*ne)},Pe}function iu(){var U=2,$=0,q=(0,D.r)(ru),ne=q(U,$);return ne.distance=function(_e){return arguments.length?q(U=+_e,$):U},ne.tilt=function(_e){return arguments.length?q(U,$=_e*k):$*O},ne.scale(432.147).clipAngle(P(1/U)*O-1e-6)}Ua.forEach(function(U){U[1]*=1.0144}),vc.invert=function(U,$){var q=$/g,ne=90*q,_e=a(18,E(ne/5)),Pe=s(0,c(_e));do{var V=Ua[Pe][1],ie=Ua[Pe+1][1],ce=Ua[a(19,Pe+2)][1],Me=ce-V,Ce=ce-2*ie+V,Ne=2*(E(q)-ie)/Me,$e=Ce/Me,Xe=Ne*(1-$e*Ne*(1-2*$e*Ne));if(Xe>=0||1===Pe){ne=($>=0?5:-5)*(Xe+_e);var Qe,nt=50;do{Xe=(_e=a(18,E(ne)/5))-(Pe=c(_e)),V=Ua[Pe][1],ie=Ua[Pe+1][1],ce=Ua[a(19,Pe+2)][1],ne-=(Qe=($>=0?g:-g)*(ie+Xe*(ce-V)/2+Xe*Xe*(ce-2*ie+V)/2)-$)*O}while(E(Qe)>T&&--nt>0);break}}while(--Pe>=0);var lt=Ua[Pe][0],xt=Ua[Pe+1][0],Mt=Ua[a(19,Pe+2)][0];return[U/(xt+Xe*(Mt-lt)/2+Xe*Xe*(Mt-2*xt+lt)/2),ne*k]};var ou=1e-4,Yr=1e4,kl=-180,Ps=kl+ou,ec=180,Li=ec-ou,Rs=-90,Ls=Rs+ou,ws=90,Ks=ws-ou;function Sl(U){return U.length>0}function oa(U){return U===Rs||U===ws?[0,U]:[kl,($=U,Math.floor($*Yr)/Yr)];var $}function Vl(U){var $=U[0],q=U[1],ne=!1;return $<=Ps?($=kl,ne=!0):$>=Li&&($=ec,ne=!0),q<=Ls?(q=Rs,ne=!0):q>=Ks&&(q=ws,ne=!0),ne?[$,q]:U}function Vu(U){return U.map(Vl)}function ho(U,$,q){for(var ne=0,_e=U.length;ne<_e;++ne){var Pe=U[ne].slice();q.push({index:-1,polygon:$,ring:Pe});for(var V=0,ie=Pe.length;V<ie;++V){var ce=Pe[V],Me=ce[0],Ce=ce[1];if(Me<=Ps||Me>=Li||Ce<=Ls||Ce>=Ks){Pe[V]=Vl(ce);for(var Ne=V+1;Ne<ie;++Ne){var $e=Pe[Ne],Xe=$e[0],Qe=$e[1];if(Xe>Ps&&Xe<Li&&Qe>Ls&&Qe<Ks)break}if(Ne===V+1)continue;if(V){var nt={index:-1,polygon:$,ring:Pe.slice(0,V+1)};nt.ring[nt.ring.length-1]=oa(Ce),q[q.length-1]=nt}else q.pop();if(Ne>=ie)break;q.push({index:-1,polygon:$,ring:Pe=Pe.slice(Ne-1)}),Pe[0]=oa(Pe[0][1]),V=-1,ie=Pe.length}}}}function oo(U){var $,q,ne,_e,Pe,V,ie=U.length,ce={},Me={};for($=0;$<ie;++$)(ne=(q=U[$]).ring[0])[0]!==(Pe=q.ring[q.ring.length-1])[0]||ne[1]!==Pe[1]?(q.index=$,ce[ne]=Me[Pe]=q):(q.polygon.push(q.ring),U[$]=null);for($=0;$<ie;++$)if(q=U[$]){if(_e=Me[ne=q.ring[0]],V=ce[Pe=q.ring[q.ring.length-1]],delete ce[ne],delete Me[Pe],ne[0]===Pe[0]&&ne[1]===Pe[1]){q.polygon.push(q.ring);continue}_e?(delete Me[ne],delete ce[_e.ring[0]],_e.ring.pop(),U[_e.index]=null,q={index:-1,polygon:_e.polygon,ring:_e.ring.concat(q.ring)},_e===V?q.polygon.push(q.ring):(q.index=ie++,U.push(ce[q.ring[0]]=Me[q.ring[q.ring.length-1]]=q))):V?(delete ce[Pe],delete Me[V.ring[V.ring.length-1]],q.ring.pop(),q={index:ie++,polygon:V.polygon,ring:q.ring.concat(V.ring)},U[V.index]=null,U.push(ce[q.ring[0]]=Me[q.ring[q.ring.length-1]]=q)):(q.ring.push(q.ring[0]),q.polygon.push(q.ring))}}function Hu(U){var $={type:"Feature",geometry:po(U.geometry)};return null!=U.id&&($.id=U.id),null!=U.bbox&&($.bbox=U.bbox),null!=U.properties&&($.properties=U.properties),$}function po(U){if(null==U)return U;var $,q,ne,_e;switch(U.type){case"GeometryCollection":$={type:"GeometryCollection",geometries:U.geometries.map(po)};break;case"Point":$={type:"Point",coordinates:Vl(U.coordinates)};break;case"MultiPoint":case"LineString":$={type:U.type,coordinates:Vu(U.coordinates)};break;case"MultiLineString":$={type:"MultiLineString",coordinates:U.coordinates.map(Vu)};break;case"Polygon":var Pe=[];ho(U.coordinates,Pe,q=[]),oo(q),$={type:"Polygon",coordinates:Pe};break;case"MultiPolygon":q=[],ne=-1,_e=U.coordinates.length;for(var V=new Array(_e);++ne<_e;)ho(U.coordinates[ne],V[ne]=[],q);oo(q),$={type:"MultiPolygon",coordinates:V.filter(Sl)};break;default:return U}return null!=U.bbox&&($.bbox=U.bbox),$}function aa(U){if(null==U)return U;switch(U.type){case"Feature":return Hu(U);case"FeatureCollection":var $={type:"FeatureCollection",features:U.features.map(Hu)};return null!=U.bbox&&($.bbox=U.bbox),$;default:return po(U)}}function Ts(U,$){var q=m($/2),ne=d(w*q);return[U*(.74482-.34588*ne*ne),1.70711*q]}function Ja(){return(0,D.Z)(Ts).scale(146.153)}function Uo(U,$,q){var ne=(0,Os.Z)($,q),_e=ne(.5),Pe=(0,at.Z)([-_e[0],-_e[1]])($),V=ne.distance/2,ie=-I(d(Pe[1]*k)/d(V)),ce=[-_e[0],-_e[1],-(Pe[0]>0?_-ie:ie)*O],Me=(0,D.Z)(U(V)).rotate(ce),Ce=(0,at.Z)(ce),Ne=Me.center;return delete Me.rotate,Me.center=function($e){return arguments.length?Ne(Ce($e)):Ce.invert(Ne())},Me.clipAngle(90)}function eo(U){var $=M(U);function q(ne,_e){var Pe=(0,Qi.M)(ne,_e);return Pe[0]*=$,Pe}return q.invert=function(ne,_e){return Qi.M.invert(ne/$,_e)},q}function xa(){return Vo([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Vo(U,$){return Uo(eo,U,$)}function Js(U){if(!(U*=2))return oe.N;var $=-U/2,q=-$,ne=U*U,_e=m(q),Pe=.5/d(q);function V(ie,ce){var Me=P(M(ce)*M(ie-$)),Ce=P(M(ce)*M(ie-q));return[((Me*=Me)-(Ce*=Ce))/(2*U),(ce<0?-1:1)*R(4*ne*Ce-(ne-Me+Ce)*(ne-Me+Ce))/(2*U)]}return V.invert=function(ie,ce){var Me,Ce,Ne=ce*ce,$e=M(R(Ne+(Me=ie+$)*Me)),Xe=M(R(Ne+(Me=ie+q)*Me));return[S(Ce=$e-Xe,Me=($e+Xe)*_e),(ce<0?-1:1)*P(R(Me*Me+Ce*Ce)*Pe)]},V}function Su(){return au([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function au(U,$){return Uo(Js,U,$)}function ls(U,$){if(E($)<h)return[U,0];var q=E($/g),ne=I(q);if(E(U)<h||E(E($)-g)<h)return[0,u($)*_*m(ne/2)];var _e=M(ne),Pe=E(_/U-U/_)/2,V=Pe*Pe,ie=_e/(q+_e-1),ce=ie*(2/q-1),Me=ce*ce,Ce=Me+V,Ne=ie-Me,$e=V+ie;return[u(U)*_*(Pe*Ne+R(V*Ne*Ne-Ce*(ie*ie-Me)))/Ce,u($)*_*(ce*$e-Pe*R((V+1)*Ce-$e*$e))/Ce]}function Yo(){return(0,D.Z)(ls).scale(79.4183)}function sa(U,$){if(E($)<h)return[U,0];var q=E($/g),ne=I(q);if(E(U)<h||E(E($)-g)<h)return[0,u($)*_*m(ne/2)];var _e=M(ne),Pe=E(_/U-U/_)/2,V=Pe*Pe,ie=_e*(R(1+V)-Pe*_e)/(1+V*q*q);return[u(U)*_*ie,u($)*_*R(1-ie*(2*Pe+ie))]}function Sr(){return(0,D.Z)(sa).scale(79.4183)}function si(U,$){if(E($)<h)return[U,0];var q=$/g,ne=I(q);if(E(U)<h||E(E($)-g)<h)return[0,_*m(ne/2)];var _e=(_/U-U/_)/2,Pe=q/(1+M(ne));return[_*(u(U)*R(_e*_e+1-Pe*Pe)-_e),_*Pe]}function tc(){return(0,D.Z)(si).scale(79.4183)}function Va(U,$){if(!$)return[U,0];var q=E($);if(!U||q===g)return[0,$];var ne=q/g,_e=ne*ne,Pe=(8*ne-_e*(_e+2)-5)/(2*_e*(ne-1)),V=Pe*Pe,ie=ne*Pe,ce=_e+V+2*ie,Me=ne+3*Pe,Ce=U/g,Ne=Ce+1/Ce,$e=u(E(U)-g)*R(Ne*Ne-4),Xe=$e*$e,Qe=($e*(ce+V-1)+2*R(ce*(_e+V*Xe-1)+(1-_e)*(_e*(Me*Me+4*V)+12*ie*V+4*V*V)))/(4*ce+Xe);return[u(U)*g*Qe,u($)*g*R(1+$e*E(Qe)-Qe*Qe)]}function su(){return(0,D.Z)(Va).scale(127.16)}function ba(U,$,q,ne){var _e=_/3;U=s(U,h),$=s($,h),U=a(U,g),$=a($,_-h),q=s(q,0),q=a(q,100-h);var Pe=(ne=s(ne,h))/100,V=P((q/100+1)*M(_e))/_e,ie=d(U)/d(V*g),ce=$/_,Me=R(Pe*d(U/2)/d($/2));return function(Ce,Ne,$e,Xe,Qe){function nt(lt,xt){var Mt=$e*d(Xe*xt),Bt=R(1-Mt*Mt),Vt=R(2/(1+Bt*M(lt*=Qe)));return[Ce*Bt*Vt*d(lt),Ne*Mt*Vt]}return nt.invert=function(lt,xt){var Mt=lt/Ce,Bt=xt/Ne,Vt=R(Mt*Mt+Bt*Bt),jt=2*I(Vt/2);return[S(lt*m(jt),Ce*Vt)/Qe,Vt&&I(xt*d(jt)/(Ne*$e*Vt))/Xe]},nt}(Me/R(ce*ie*V),1/(Me*R(ce*ie*V)),ie,V,ce)}function Eu(){var U=65*k,$=60*k,q=20,ne=200,_e=(0,D.r)(ba),Pe=_e(U,$,q,ne);return Pe.poleline=function(V){return arguments.length?_e(U=+V*k,$,q,ne):U*O},Pe.parallels=function(V){return arguments.length?_e(U,$=+V*k,q,ne):$*O},Pe.inflation=function(V){return arguments.length?_e(U,$,q=+V,ne):q},Pe.ratio=function(V){return arguments.length?_e(U,$,q,ne=+V):ne},Pe.scale(163.775)}function wa(){return Eu().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}Ts.invert=function(U,$){var q=$/1.70711,ne=d(w*q);return[U/(.74482-.34588*ne*ne),2*f(q)]},ls.invert=function(U,$){if(E($)<h)return[U,0];if(E(U)<h)return[0,g*d(2*f($/_))];var q=(U/=_)*U,ne=($/=_)*$,_e=q+ne,Pe=_e*_e,V=-E($)*(1+_e),ie=V-2*ne+q,ce=-2*V+1+2*ne+Pe,Me=ne/ce+(2*ie*ie*ie/(ce*ce*ce)-9*V*ie/(ce*ce))/27,Ce=(V-ie*ie/(3*ce))/ce,Ne=2*R(-Ce/3),$e=P(3*Me/(Ce*Ne))/3;return[_*(_e-1+R(1+2*(q-ne)+Pe))/(2*U),u($)*_*(-Ne*M($e+_/3)-ie/(3*ce))]},sa.invert=function(U,$){if(!U)return[0,g*d(2*f($/_))];var q=E(U/_),ne=(1-q*q-($/=_)*$)/(2*q),_e=R(ne*ne+1);return[u(U)*_*(_e-ne),u($)*g*d(2*S(R((1-2*ne*q)*(ne+_e)-q),R(_e+ne+q)))]},si.invert=function(U,$){if(!$)return[U,0];var q=$/_,ne=(_*_*(1-q*q)-U*U)/(2*_*U);return[U?_*(u(U)*R(ne*ne+1)-ne):0,g*d(2*f(q))]},Va.invert=function(U,$){var q;if(!U||!$)return[U,$];$/=_;var ne=u(U)*U/g,_e=(ne*ne-1+4*$*$)/E(ne),Pe=_e*_e,V=2*$,ie=50;do{var ce=V*V,Me=(8*V-ce*(ce+2)-5)/(2*ce*(V-1)),Ce=(3*V-ce*V-10)/(2*ce*V),Ne=Me*Me,$e=V*Me,Xe=V+Me,Qe=Xe*Xe,nt=V+3*Me,lt=-2*Xe*(4*$e*Ne+(1-4*ce+3*ce*ce)*(1+Ce)+Ne*(14*ce-6-Pe+(8*ce-8-2*Pe)*Ce)+$e*(12*ce-8+(10*ce-10-Pe)*Ce)),xt=R(Qe*(ce+Ne*Pe-1)+(1-ce)*(ce*(nt*nt+4*Ne)+Ne*(12*$e+4*Ne)));V-=q=(_e*(Qe+Ne-1)+2*xt-ne*(4*Qe+Pe))/(_e*(2*Me*Ce+2*Xe*(1+Ce))+lt/xt-8*Xe*(_e*(-1+Ne+Qe)+2*xt)*(1+Ce)/(Pe+4*Qe))}while(q>h&&--ie>0);return[u(U)*(R(_e*_e+4)+_e)*_/4,g*V]};var lu=4*_+3*R(3),kr=2*R(2*_*R(3)/lu),Wr=ke(kr*R(3)/_,kr,lu/6);function _i(){return(0,D.Z)(Wr).scale(176.84)}function Ci(U,$){return[U*R(1-3*$*$/(_*_)),$]}function go(){return(0,D.Z)(Ci).scale(152.63)}function uu(U,$){var q=M($),ne=M(U)*q,_e=1-ne,Pe=M(U=S(d(U)*q,-d($))),V=d(U);return[V*(q=R(1-ne*ne))-Pe*_e,-Pe*q-V*_e]}function El(){return(0,D.Z)(uu).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Ha(U,$){var q=Z(U,$);return[(q[0]+U/g)/2,(q[1]+$)/2]}function Qs(){return(0,D.Z)(Ha).scale(158.837)}Ci.invert=function(U,$){return[U/R(1-3*$*$/(_*_)),$]},uu.invert=function(U,$){var q=(U*U+$*$)/-2,ne=R(-q*(2+q)),_e=$*q+U*ne,Pe=U*q-$*ne,V=R(Pe*Pe+_e*_e);return[S(ne*_e,V*(1+q)),V?-I(ne*Pe/V):0]},Ha.invert=function(U,$){var q=U,ne=$,_e=25;do{var Pe,V=M(ne),ie=d(ne),ce=d(2*ne),Me=ie*ie,Ce=V*V,Ne=d(q),$e=M(q/2),Xe=d(q/2),Qe=Xe*Xe,nt=1-Ce*$e*$e,lt=nt?P(V*$e)*R(Pe=1/nt):Pe=0,xt=.5*(2*lt*V*Xe+q/g)-U,Mt=.5*(lt*ie+ne)-$,Bt=.5*Pe*(Ce*Qe+lt*V*$e*Me)+.5/g,Vt=Pe*(Ne*ce/4-lt*ie*Xe),jt=.125*Pe*(ce*Xe-lt*ie*Ce*Ne),Xt=.5*Pe*(Me*$e+lt*Qe*V)+.5,Ut=Vt*jt-Xt*Bt,gn=(Mt*Vt-xt*Xt)/Ut,sn=(xt*jt-Mt*Bt)/Ut;q-=gn,ne-=sn}while((E(gn)>h||E(sn)>h)&&--_e>0);return[q,ne]}},33940:function(ae,B,r){"use strict";function D(){return new E}function E(){this.reset()}r.d(B,{Z:function(){return D}}),E.prototype={constructor:E,reset:function(){this.s=this.t=0},add:function(M){S(f,M,this.t),S(this,f.s,this.s),this.s?this.t+=f.t:this.s=f.t},valueOf:function(){return this.s}};var f=new E;function S(M,v,c){var i=M.s=v+c,s=i-v;M.t=v-(i-s)+(c-s)}},97860:function(ae,B,r){"use strict";r.d(B,{L9:function(){return a},ZP:function(){return T},gL:function(){return l}});var D,E,f,S,M,v=r(33940),c=r(39695),i=r(73182),s=r(72736),a=(0,v.Z)(),o=(0,v.Z)(),l={point:i.Z,lineStart:i.Z,lineEnd:i.Z,polygonStart:function(){a.reset(),l.lineStart=u,l.lineEnd=d},polygonEnd:function(){var _=+a;o.add(_<0?c.BZ+_:_),this.lineStart=this.lineEnd=this.point=i.Z},sphere:function(){o.add(c.BZ)}};function u(){l.point=m}function d(){h(D,E)}function m(_,g){l.point=h,D=_,E=g,f=_*=c.uR,S=(0,c.mC)(g=(g*=c.uR)/2+c.pu),M=(0,c.O$)(g)}function h(_,g){g=(g*=c.uR)/2+c.pu;var w=(_*=c.uR)-f,x=w>=0?1:-1,b=x*w,A=(0,c.mC)(g),p=(0,c.O$)(g),O=M*p,k=S*A+O*(0,c.mC)(b),I=O*x*(0,c.O$)(b);a.add((0,c.fv)(I,k)),f=_,S=A,M=p}function T(_){return o.reset(),(0,s.Z)(_,l),2*o}},77338:function(ae,B,r){"use strict";r.d(B,{Z:function(){return P}});var D,E,f,S,M,v,c,i,s,a,o=r(33940),l=r(97860),u=r(7620),d=r(39695),m=r(72736),h=(0,o.Z)(),T={point:_,lineStart:w,lineEnd:x,polygonStart:function(){T.point=b,T.lineStart=A,T.lineEnd=p,h.reset(),l.gL.polygonStart()},polygonEnd:function(){l.gL.polygonEnd(),T.point=_,T.lineStart=w,T.lineEnd=x,l.L9<0?(D=-(f=180),E=-(S=90)):h>d.Ho?S=90:h<-d.Ho&&(E=-90),a[0]=D,a[1]=f},sphere:function(){D=-(f=180),E=-(S=90)}};function _(R,N){s.push(a=[D=R,f=R]),N<E&&(E=N),N>S&&(S=N)}function g(R,N){var j=(0,u.Og)([R*d.uR,N*d.uR]);if(i){var X=(0,u.T5)(i,j),Z=(0,u.T5)([X[1],-X[0],0],X);(0,u.iJ)(Z),Z=(0,u.Y1)(Z);var W,H=R-M,G=H>0?1:-1,Y=Z[0]*d.RW*G,se=(0,d.Wn)(H)>180;se^(G*M<Y&&Y<G*R)?(W=Z[1]*d.RW)>S&&(S=W):se^(G*M<(Y=(Y+360)%360-180)&&Y<G*R)?(W=-Z[1]*d.RW)<E&&(E=W):(N<E&&(E=N),N>S&&(S=N)),se?R<M?O(D,R)>O(D,f)&&(f=R):O(R,f)>O(D,f)&&(D=R):f>=D?(R<D&&(D=R),R>f&&(f=R)):R>M?O(D,R)>O(D,f)&&(f=R):O(R,f)>O(D,f)&&(D=R)}else s.push(a=[D=R,f=R]);N<E&&(E=N),N>S&&(S=N),i=j,M=R}function w(){T.point=g}function x(){a[0]=D,a[1]=f,T.point=_,i=null}function b(R,N){if(i){var j=R-M;h.add((0,d.Wn)(j)>180?j+(j>0?360:-360):j)}else v=R,c=N;l.gL.point(R,N),g(R,N)}function A(){l.gL.lineStart()}function p(){b(v,c),l.gL.lineEnd(),(0,d.Wn)(h)>d.Ho&&(D=-(f=180)),a[0]=D,a[1]=f,i=null}function O(R,N){return(N-=R)<0?N+360:N}function k(R,N){return R[0]-N[0]}function I(R,N){return R[0]<=R[1]?R[0]<=N&&N<=R[1]:N<R[0]||R[1]<N}function P(R){var N,j,X,F,Z,W,H;if(S=f=-(D=E=1/0),s=[],(0,m.Z)(R,T),j=s.length){for(s.sort(k),N=1,Z=[X=s[0]];N<j;++N)I(X,(F=s[N])[0])||I(X,F[1])?(O(X[0],F[1])>O(X[0],X[1])&&(X[1]=F[1]),O(F[0],X[1])>O(X[0],X[1])&&(X[0]=F[0])):Z.push(X=F);for(W=-1/0,N=0,X=Z[j=Z.length-1];N<=j;X=F,++N)(H=O(X[1],(F=Z[N])[0]))>W&&(W=H,D=F[0],f=X[1])}return s=a=null,D===1/0||E===1/0?[[NaN,NaN],[NaN,NaN]]:[[D,E],[f,S]]}},7620:function(ae,B,r){"use strict";r.d(B,{Og:function(){return f},T:function(){return c},T5:function(){return M},Y1:function(){return E},iJ:function(){return i},j9:function(){return S},s0:function(){return v}});var D=r(39695);function E(s){return[(0,D.fv)(s[1],s[0]),(0,D.ZR)(s[2])]}function f(s){var a=s[0],o=s[1],l=(0,D.mC)(o);return[l*(0,D.mC)(a),l*(0,D.O$)(a),(0,D.O$)(o)]}function S(s,a){return s[0]*a[0]+s[1]*a[1]+s[2]*a[2]}function M(s,a){return[s[1]*a[2]-s[2]*a[1],s[2]*a[0]-s[0]*a[2],s[0]*a[1]-s[1]*a[0]]}function v(s,a){s[0]+=a[0],s[1]+=a[1],s[2]+=a[2]}function c(s,a){return[s[0]*a,s[1]*a,s[2]*a]}function i(s){var a=(0,D._b)(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);s[0]/=a,s[1]/=a,s[2]/=a}},66624:function(ae,B,r){"use strict";r.d(B,{Z:function(){return j}});var D,E,f,S,M,v,c,i,s,a,o,l,u,d,m,h,T=r(39695),_=r(73182),g=r(72736),w={sphere:_.Z,point:x,lineStart:A,lineEnd:k,polygonStart:function(){w.lineStart=I,w.lineEnd=P},polygonEnd:function(){w.lineStart=A,w.lineEnd=k}};function x(X,F){X*=T.uR;var Z=(0,T.mC)(F*=T.uR);b(Z*(0,T.mC)(X),Z*(0,T.O$)(X),(0,T.O$)(F))}function b(X,F,Z){++D,f+=(X-f)/D,S+=(F-S)/D,M+=(Z-M)/D}function A(){w.point=p}function p(X,F){X*=T.uR;var Z=(0,T.mC)(F*=T.uR);d=Z*(0,T.mC)(X),m=Z*(0,T.O$)(X),h=(0,T.O$)(F),w.point=O,b(d,m,h)}function O(X,F){X*=T.uR;var Z=(0,T.mC)(F*=T.uR),W=Z*(0,T.mC)(X),H=Z*(0,T.O$)(X),G=(0,T.O$)(F),Y=(0,T.fv)((0,T._b)((Y=m*G-h*H)*Y+(Y=h*W-d*G)*Y+(Y=d*H-m*W)*Y),d*W+m*H+h*G);E+=Y,v+=Y*(d+(d=W)),c+=Y*(m+(m=H)),i+=Y*(h+(h=G)),b(d,m,h)}function k(){w.point=x}function I(){w.point=R}function P(){N(l,u),w.point=x}function R(X,F){l=X,u=F,X*=T.uR,F*=T.uR,w.point=N;var Z=(0,T.mC)(F);d=Z*(0,T.mC)(X),m=Z*(0,T.O$)(X),h=(0,T.O$)(F),b(d,m,h)}function N(X,F){X*=T.uR;var Z=(0,T.mC)(F*=T.uR),W=Z*(0,T.mC)(X),H=Z*(0,T.O$)(X),G=(0,T.O$)(F),Y=m*G-h*H,se=h*W-d*G,te=d*H-m*W,re=(0,T._b)(Y*Y+se*se+te*te),Q=(0,T.ZR)(re),ee=re&&-Q/re;s+=ee*Y,a+=ee*se,o+=ee*te,E+=Q,v+=Q*(d+(d=W)),c+=Q*(m+(m=H)),i+=Q*(h+(h=G)),b(d,m,h)}function j(X){D=E=f=S=M=v=c=i=s=a=o=0,(0,g.Z)(X,w);var F=s,Z=a,W=o,H=F*F+Z*Z+W*W;return H<T.aW&&(F=v,Z=c,W=i,E<T.Ho&&(F=f,Z=S,W=M),(H=F*F+Z*Z+W*W)<T.aW)?[NaN,NaN]:[(0,T.fv)(Z,F)*T.RW,(0,T.ZR)(W/(0,T._b)(H))*T.RW]}},7613:function(ae,B,r){"use strict";r.d(B,{m:function(){return M},Z:function(){return c}});var D=r(7620);function E(i){return function(){return i}}var f=r(39695),S=r(49386);function M(i,s,a,o,l,u){if(a){var d=(0,f.mC)(s),m=(0,f.O$)(s),h=o*a;null==l?(l=s+o*f.BZ,u=s-h/2):(l=v(d,l),u=v(d,u),(o>0?l<u:l>u)&&(l+=o*f.BZ));for(var T,_=l;o>0?_>u:_<u;_-=h)T=(0,D.Y1)([d,-m*(0,f.mC)(_),-m*(0,f.O$)(_)]),i.point(T[0],T[1])}}function v(i,s){(s=(0,D.Og)(s))[0]-=i,(0,D.iJ)(s);var a=(0,f.Kh)(-s[1]);return((-s[2]<0?-a:a)+f.BZ-f.Ho)%f.BZ}function c(){var i,s,a=E([0,0]),o=E(90),l=E(6),u={point:function(m,h){i.push(m=s(m,h)),m[0]*=f.RW,m[1]*=f.RW}};function d(){var m=a.apply(this,arguments),h=o.apply(this,arguments)*f.uR,T=l.apply(this,arguments)*f.uR;return i=[],s=(0,S.I)(-m[0]*f.uR,-m[1]*f.uR,0).invert,M(u,h,T,1),m={type:"Polygon",coordinates:[i]},i=s=null,m}return d.center=function(m){return arguments.length?(a="function"==typeof m?m:E([+m[0],+m[1]]),d):a},d.radius=function(m){return arguments.length?(o="function"==typeof m?m:E(+m),d):o},d.precision=function(m){return arguments.length?(l="function"==typeof m?m:E(+m),d):l},d}},87070:function(ae,B,r){"use strict";var D=r(97023),E=r(39695);B.Z=(0,D.Z)(function(){return!0},function(f){var S,M=NaN,v=NaN,c=NaN;return{lineStart:function(){f.lineStart(),S=1},point:function(i,s){var l,u,d,m,h,T,_,a=i>0?E.pi:-E.pi,o=(0,E.Wn)(i-M);(0,E.Wn)(o-E.pi)<E.Ho?(f.point(M,v=(v+s)/2>0?E.ou:-E.ou),f.point(c,v),f.lineEnd(),f.lineStart(),f.point(a,v),f.point(i,v),S=0):c!==a&&o>=E.pi&&((0,E.Wn)(M-c)<E.Ho&&(M-=c*E.Ho),(0,E.Wn)(i-a)<E.Ho&&(i-=a*E.Ho),u=v,m=s,_=(0,E.O$)((l=M)-(d=i)),v=(0,E.Wn)(_)>E.Ho?(0,E.z4)(((0,E.O$)(u)*(T=(0,E.mC)(m))*(0,E.O$)(d)-(0,E.O$)(m)*(h=(0,E.mC)(u))*(0,E.O$)(l))/(h*T*_)):(u+m)/2,f.point(c,v),f.lineEnd(),f.lineStart(),f.point(a,v),S=0),f.point(M=i,v=s),c=a},lineEnd:function(){f.lineEnd(),M=v=NaN},clean:function(){return 2-S}}},function(f,S,M,v){var c;if(null==f)v.point(-E.pi,c=M*E.ou),v.point(0,c),v.point(E.pi,c),v.point(E.pi,0),v.point(E.pi,-c),v.point(0,-c),v.point(-E.pi,-c),v.point(-E.pi,0),v.point(-E.pi,c);else if((0,E.Wn)(f[0]-S[0])>E.Ho){var i=f[0]<S[0]?E.pi:-E.pi;v.point(-i,c=M*i/2),v.point(0,c),v.point(i,c)}else v.point(S[0],S[1])},[-E.pi,-E.ou])},85272:function(ae,B,r){"use strict";r.d(B,{Z:function(){return E}});var D=r(73182);function E(){var f,S=[];return{point:function(M,v,c){f.push([M,v,c])},lineStart:function(){S.push(f=[])},lineEnd:D.Z,rejoin:function(){S.length>1&&S.push(S.pop().concat(S.shift()))},result:function(){var M=S;return S=[],f=null,M}}}},1457:function(ae,B,r){"use strict";r.d(B,{Z:function(){return v}});var D=r(7620),E=r(7613),f=r(39695),S=r(67108),M=r(97023);function v(c){var i=(0,f.mC)(c),s=6*f.uR,a=i>0,o=(0,f.Wn)(i)>f.Ho;function l(m,h){return(0,f.mC)(m)*(0,f.mC)(h)>i}function u(m,h,T){var _=(0,D.Og)(m),g=(0,D.Og)(h),w=[1,0,0],x=(0,D.T5)(_,g),b=(0,D.j9)(x,x),A=x[0],p=b-A*A;if(!p)return!T&&m;var O=i*b/p,k=-i*A/p,I=(0,D.T5)(w,x),P=(0,D.T)(w,O),R=(0,D.T)(x,k);(0,D.s0)(P,R);var N=I,j=(0,D.j9)(P,N),X=(0,D.j9)(N,N),F=j*j-X*((0,D.j9)(P,P)-1);if(!(F<0)){var Z=(0,f._b)(F),W=(0,D.T)(N,(-j-Z)/X);if((0,D.s0)(W,P),W=(0,D.Y1)(W),!T)return W;var H,G=m[0],Y=h[0],se=m[1],te=h[1];Y<G&&(H=G,G=Y,Y=H);var re=Y-G,Q=(0,f.Wn)(re-f.pi)<f.Ho;if(!Q&&te<se&&(H=se,se=te,te=H),Q||re<f.Ho?Q?se+te>0^W[1]<((0,f.Wn)(W[0]-G)<f.Ho?se:te):se<=W[1]&&W[1]<=te:re>f.pi^(G<=W[0]&&W[0]<=Y)){var ee=(0,D.T)(N,(-j+Z)/X);return(0,D.s0)(ee,P),[W,(0,D.Y1)(ee)]}}}function d(m,h){var T=a?c:f.pi-c,_=0;return m<-T?_|=1:m>T&&(_|=2),h<-T?_|=4:h>T&&(_|=8),_}return(0,M.Z)(l,function(m){var h,T,_,g,w;return{lineStart:function(){g=_=!1,w=1},point:function(x,b){var A,p=[x,b],O=l(x,b),k=a?O?0:d(x,b):O?d(x+(x<0?f.pi:-f.pi),b):0;if(!h&&(g=_=O)&&m.lineStart(),O!==_&&(!(A=u(h,p))||(0,S.Z)(h,A)||(0,S.Z)(p,A))&&(p[2]=1),O!==_)w=0,O?(m.lineStart(),A=u(p,h),m.point(A[0],A[1])):(A=u(h,p),m.point(A[0],A[1],2),m.lineEnd()),h=A;else if(o&&h&&a^O){var I;k&T||!(I=u(p,h,!0))||(w=0,a?(m.lineStart(),m.point(I[0][0],I[0][1]),m.point(I[1][0],I[1][1]),m.lineEnd()):(m.point(I[1][0],I[1][1]),m.lineEnd(),m.lineStart(),m.point(I[0][0],I[0][1],3)))}!O||h&&(0,S.Z)(h,p)||m.point(p[0],p[1]),h=p,_=O,T=k},lineEnd:function(){_&&m.lineEnd(),h=null},clean:function(){return w|(g&&_)<<1}}},function(m,h,T,_){(0,E.m)(_,c,s,T,m,h)},a?[0,-c]:[-f.pi,c-f.pi])}},97023:function(ae,B,r){"use strict";r.d(B,{Z:function(){return v}});var D=r(85272),E=r(46225),f=r(39695),S=r(23071),M=r(33064);function v(s,a,o,l){return function(u){var d,m,h,T=a(u),_=(0,D.Z)(),g=a(_),w=!1,x={point:b,lineStart:p,lineEnd:O,polygonStart:function(){x.point=k,x.lineStart=I,x.lineEnd=P,m=[],d=[]},polygonEnd:function(){x.point=b,x.lineStart=p,x.lineEnd=O,m=(0,M.TS)(m);var R=(0,S.Z)(d,l);m.length?(w||(u.polygonStart(),w=!0),(0,E.Z)(m,i,R,o,u)):R&&(w||(u.polygonStart(),w=!0),u.lineStart(),o(null,null,1,u),u.lineEnd()),w&&(u.polygonEnd(),w=!1),m=d=null},sphere:function(){u.polygonStart(),u.lineStart(),o(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function b(R,N){s(R,N)&&u.point(R,N)}function A(R,N){T.point(R,N)}function p(){x.point=A,T.lineStart()}function O(){x.point=b,T.lineEnd()}function k(R,N){h.push([R,N]),g.point(R,N)}function I(){g.lineStart(),h=[]}function P(){k(h[0][0],h[0][1]),g.lineEnd();var R,N,j,X,F=g.clean(),Z=_.result(),W=Z.length;if(h.pop(),d.push(h),h=null,W)if(1&F){if((N=(j=Z[0]).length-1)>0){for(w||(u.polygonStart(),w=!0),u.lineStart(),R=0;R<N;++R)u.point((X=j[R])[0],X[1]);u.lineEnd()}}else W>1&&2&F&&Z.push(Z.pop().concat(Z.shift())),m.push(Z.filter(c))}return x}}function c(s){return s.length>1}function i(s,a){return((s=s.x)[0]<0?s[1]-f.ou-f.Ho:f.ou-s[1])-((a=a.x)[0]<0?a[1]-f.ou-f.Ho:f.ou-a[1])}},87605:function(ae,B,r){"use strict";r.d(B,{Z:function(){return c}});var D=r(39695),E=r(85272),f=r(46225),S=r(33064),M=1e9,v=-M;function c(i,s,a,o){function l(T,_){return i<=T&&T<=a&&s<=_&&_<=o}function u(T,_,g,w){var x=0,b=0;if(null==T||(x=d(T,g))!==(b=d(_,g))||h(T,_)<0^g>0)do{w.point(0===x||3===x?i:a,x>1?o:s)}while((x=(x+g+4)%4)!==b);else w.point(_[0],_[1])}function d(T,_){return(0,D.Wn)(T[0]-i)<D.Ho?_>0?0:3:(0,D.Wn)(T[0]-a)<D.Ho?_>0?2:1:(0,D.Wn)(T[1]-s)<D.Ho?_>0?1:0:_>0?3:2}function m(T,_){return h(T.x,_.x)}function h(T,_){var g=d(T,1),w=d(_,1);return g!==w?g-w:0===g?_[1]-T[1]:1===g?T[0]-_[0]:2===g?T[1]-_[1]:_[0]-T[0]}return function(T){var _,g,w,x,b,A,p,O,k,I,P,R=T,N=(0,E.Z)(),j={point:X,lineStart:function(){j.point=F,g&&g.push(w=[]),I=!0,k=!1,p=O=NaN},lineEnd:function(){_&&(F(x,b),A&&k&&N.rejoin(),_.push(N.result())),j.point=X,k&&R.lineEnd()},polygonStart:function(){R=N,_=[],g=[],P=!0},polygonEnd:function(){var Z=function(){for(var G=0,Y=0,se=g.length;Y<se;++Y)for(var te,re,Q=g[Y],ee=1,oe=Q.length,le=Q[0],ue=le[0],de=le[1];ee<oe;++ee)te=ue,re=de,ue=(le=Q[ee])[0],de=le[1],re<=o?de>o&&(ue-te)*(o-re)>(de-re)*(i-te)&&++G:de<=o&&(ue-te)*(o-re)<(de-re)*(i-te)&&--G;return G}(),W=P&&Z,H=(_=(0,S.TS)(_)).length;(W||H)&&(T.polygonStart(),W&&(T.lineStart(),u(null,null,1,T),T.lineEnd()),H&&(0,f.Z)(_,m,Z,u,T),T.polygonEnd()),R=T,_=g=w=null}};function X(Z,W){l(Z,W)&&R.point(Z,W)}function F(Z,W){var H=l(Z,W);if(g&&w.push([Z,W]),I)x=Z,b=W,A=H,I=!1,H&&(R.lineStart(),R.point(Z,W));else if(H&&k)R.point(Z,W);else{var G=[p=Math.max(v,Math.min(M,p)),O=Math.max(v,Math.min(M,O))],Y=[Z=Math.max(v,Math.min(M,Z)),W=Math.max(v,Math.min(M,W))];!function(se,te,re,Q,ee,oe){var le,ue=se[0],de=se[1],he=0,we=1,Ae=te[0]-ue,Te=te[1]-de;if(le=re-ue,Ae||!(le>0)){if(le/=Ae,Ae<0){if(le<he)return;le<we&&(we=le)}else if(Ae>0){if(le>we)return;le>he&&(he=le)}if(le=ee-ue,Ae||!(le<0)){if(le/=Ae,Ae<0){if(le>we)return;le>he&&(he=le)}else if(Ae>0){if(le<he)return;le<we&&(we=le)}if(le=Q-de,Te||!(le>0)){if(le/=Te,Te<0){if(le<he)return;le<we&&(we=le)}else if(Te>0){if(le>we)return;le>he&&(he=le)}if(le=oe-de,Te||!(le<0)){if(le/=Te,Te<0){if(le>we)return;le>he&&(he=le)}else if(Te>0){if(le<he)return;le<we&&(we=le)}return he>0&&(se[0]=ue+he*Ae,se[1]=de+he*Te),we<1&&(te[0]=ue+we*Ae,te[1]=de+we*Te),!0}}}}}(G,Y,i,s,a,o)?H&&(R.lineStart(),R.point(Z,W),P=!1):(k||(R.lineStart(),R.point(G[0],G[1])),R.point(Y[0],Y[1]),H||R.lineEnd(),P=!1)}p=Z,O=W,k=H}return j}}},46225:function(ae,B,r){"use strict";r.d(B,{Z:function(){return S}});var D=r(67108),E=r(39695);function f(v,c,i,s){this.x=v,this.z=c,this.o=i,this.e=s,this.v=!1,this.n=this.p=null}function S(v,c,i,s,a){var o,l,u=[],d=[];if(v.forEach(function(w){if(!((x=w.length-1)<=0)){var x,b,A=w[0],p=w[x];if((0,D.Z)(A,p)){if(!A[2]&&!p[2]){for(a.lineStart(),o=0;o<x;++o)a.point((A=w[o])[0],A[1]);return void a.lineEnd()}p[0]+=2*E.Ho}u.push(b=new f(A,w,null,!0)),d.push(b.o=new f(A,null,b,!1)),u.push(b=new f(p,w,null,!1)),d.push(b.o=new f(p,null,b,!0))}}),u.length){for(d.sort(c),M(u),M(d),o=0,l=d.length;o<l;++o)d[o].e=i=!i;for(var m,h,T=u[0];;){for(var _=T,g=!0;_.v;)if((_=_.n)===T)return;m=_.z,a.lineStart();do{if(_.v=_.o.v=!0,_.e){if(g)for(o=0,l=m.length;o<l;++o)a.point((h=m[o])[0],h[1]);else s(_.x,_.n.x,1,a);_=_.n}else{if(g)for(o=(m=_.p.z).length-1;o>=0;--o)a.point((h=m[o])[0],h[1]);else s(_.x,_.p.x,-1,a);_=_.p}m=(_=_.o).z,g=!g}while(!_.v);a.lineEnd()}}}function M(v){if(c=v.length){for(var c,i,s=0,a=v[0];++s<c;)a.n=i=v[s],i.p=a,a=i;a.n=i=v[0],i.p=a}}},96059:function(ae,B,r){"use strict";function D(E,f){function S(M,v){return M=E(M,v),f(M[0],M[1])}return E.invert&&f.invert&&(S.invert=function(M,v){return(M=f.invert(M,v))&&E.invert(M[0],M[1])}),S}r.d(B,{Z:function(){return D}})},8593:function(ae,B,r){"use strict";function D(E){return E}r.d(B,{Z:function(){return D}})},27362:function(ae,B,r){"use strict";r.r(B),r.d(B,{geoAlbers:function(){return kt},geoAlbersUsa:function(){return Rt},geoArea:function(){return D.ZP},geoAzimuthalEqualArea:function(){return bt.Z},geoAzimuthalEqualAreaRaw:function(){return bt.l},geoAzimuthalEquidistant:function(){return Tt.Z},geoAzimuthalEquidistantRaw:function(){return Tt.N},geoBounds:function(){return E.Z},geoCentroid:function(){return f.Z},geoCircle:function(){return S.Z},geoClipAntimeridian:function(){return M.Z},geoClipCircle:function(){return v.Z},geoClipExtent:function(){return i},geoClipRectangle:function(){return c.Z},geoConicConformal:function(){return nn},geoConicConformalRaw:function(){return en},geoConicEqualArea:function(){return wt},geoConicEqualAreaRaw:function(){return At},geoConicEquidistant:function(){return Hn},geoConicEquidistantRaw:function(){return In},geoContains:function(){return Z},geoDistance:function(){return O},geoEqualEarth:function(){return Ln},geoEqualEarthRaw:function(){return Cn},geoEquirectangular:function(){return dn.Z},geoEquirectangularRaw:function(){return dn.k},geoGnomonic:function(){return Sn.Z},geoGnomonicRaw:function(){return Sn.M},geoGraticule:function(){return Y},geoGraticule10:function(){return se},geoIdentity:function(){return kn},geoInterpolate:function(){return oe.Z},geoLength:function(){return b},geoMercator:function(){return qt},geoMercatorRaw:function(){return Wt},geoNaturalEarth1:function(){return Zn.Z},geoNaturalEarth1Raw:function(){return Zn.K},geoOrthographic:function(){return fr.Z},geoOrthographicRaw:function(){return fr.I},geoPath:function(){return qe},geoProjection:function(){return dt.Z},geoProjectionMutator:function(){return dt.r},geoRotation:function(){return Ot.Z},geoStereographic:function(){return mr},geoStereographicRaw:function(){return nr},geoStream:function(){return h.Z},geoTransform:function(){return qn.Z},geoTransverseMercator:function(){return Ir},geoTransverseMercatorRaw:function(){return dr}});var D=r(97860),E=r(77338),f=r(66624),S=r(7613),M=r(87070),v=r(1457),c=r(87605);function i(){var Yt,$t,xn,vn=0,Dn=0,or=960,Yn=500;return xn={stream:function(Qn){return Yt&&$t===Qn?Yt:Yt=(0,c.Z)(vn,Dn,or,Yn)($t=Qn)},extent:function(Qn){return arguments.length?(vn=+Qn[0][0],Dn=+Qn[0][1],or=+Qn[1][0],Yn=+Qn[1][1],Yt=$t=null,xn):[[vn,Dn],[or,Yn]]}}}var s,a,o,l=r(23071),u=r(33940),d=r(39695),m=r(73182),h=r(72736),T=(0,u.Z)(),_={sphere:m.Z,point:m.Z,lineStart:function(){_.point=w,_.lineEnd=g},lineEnd:m.Z,polygonStart:m.Z,polygonEnd:m.Z};function g(){_.point=_.lineEnd=m.Z}function w(Yt,$t){s=Yt*=d.uR,a=(0,d.O$)($t*=d.uR),o=(0,d.mC)($t),_.point=x}function x(Yt,$t){Yt*=d.uR;var xn=(0,d.O$)($t*=d.uR),vn=(0,d.mC)($t),Dn=(0,d.Wn)(Yt-s),or=(0,d.mC)(Dn),Yn=vn*(0,d.O$)(Dn),Qn=o*xn-a*vn*or,gr=a*xn+o*vn*or;T.add((0,d.fv)((0,d._b)(Yn*Yn+Qn*Qn),gr)),s=Yt,a=xn,o=vn}function b(Yt){return T.reset(),(0,h.Z)(Yt,_),+T}var A=[null,null],p={type:"LineString",coordinates:A};function O(Yt,$t){return A[0]=Yt,A[1]=$t,b(p)}var k={Feature:function(Yt,$t){return P(Yt.geometry,$t)},FeatureCollection:function(Yt,$t){for(var xn=Yt.features,vn=-1,Dn=xn.length;++vn<Dn;)if(P(xn[vn].geometry,$t))return!0;return!1}},I={Sphere:function(){return!0},Point:function(Yt,$t){return R(Yt.coordinates,$t)},MultiPoint:function(Yt,$t){for(var xn=Yt.coordinates,vn=-1,Dn=xn.length;++vn<Dn;)if(R(xn[vn],$t))return!0;return!1},LineString:function(Yt,$t){return N(Yt.coordinates,$t)},MultiLineString:function(Yt,$t){for(var xn=Yt.coordinates,vn=-1,Dn=xn.length;++vn<Dn;)if(N(xn[vn],$t))return!0;return!1},Polygon:function(Yt,$t){return j(Yt.coordinates,$t)},MultiPolygon:function(Yt,$t){for(var xn=Yt.coordinates,vn=-1,Dn=xn.length;++vn<Dn;)if(j(xn[vn],$t))return!0;return!1},GeometryCollection:function(Yt,$t){for(var xn=Yt.geometries,vn=-1,Dn=xn.length;++vn<Dn;)if(P(xn[vn],$t))return!0;return!1}};function P(Yt,$t){return!(!Yt||!I.hasOwnProperty(Yt.type))&&I[Yt.type](Yt,$t)}function R(Yt,$t){return 0===O(Yt,$t)}function N(Yt,$t){for(var xn,vn,Dn,or=0,Yn=Yt.length;or<Yn;or++){if(0===(vn=O(Yt[or],$t))||or>0&&(Dn=O(Yt[or],Yt[or-1]))>0&&xn<=Dn&&vn<=Dn&&(xn+vn-Dn)*(1-Math.pow((xn-vn)/Dn,2))<d.aW*Dn)return!0;xn=vn}return!1}function j(Yt,$t){return!!(0,l.Z)(Yt.map(X),F($t))}function X(Yt){return(Yt=Yt.map(F)).pop(),Yt}function F(Yt){return[Yt[0]*d.uR,Yt[1]*d.uR]}function Z(Yt,$t){return(Yt&&k.hasOwnProperty(Yt.type)?k[Yt.type]:P)(Yt,$t)}var W=r(33064);function H(Yt,$t,xn){var vn=(0,W.w6)(Yt,$t-d.Ho,xn).concat($t);return function(Dn){return vn.map(function(or){return[Dn,or]})}}function G(Yt,$t,xn){var vn=(0,W.w6)(Yt,$t-d.Ho,xn).concat($t);return function(Dn){return vn.map(function(or){return[or,Dn]})}}function Y(){var Yt,$t,xn,vn,Dn,or,Yn,Qn,gr,tn,Fn,Nt,an=10,cn=an,Pn=90,Nn=360,Gn=2.5;function Tn(){return{type:"MultiLineString",coordinates:un()}}function un(){return(0,W.w6)((0,d.mD)(vn/Pn)*Pn,xn,Pn).map(Fn).concat((0,W.w6)((0,d.mD)(Qn/Nn)*Nn,Yn,Nn).map(Nt)).concat((0,W.w6)((0,d.mD)($t/an)*an,Yt,an).filter(function(fn){return(0,d.Wn)(fn%Pn)>d.Ho}).map(gr)).concat((0,W.w6)((0,d.mD)(or/cn)*cn,Dn,cn).filter(function(fn){return(0,d.Wn)(fn%Nn)>d.Ho}).map(tn))}return Tn.lines=function(){return un().map(function(fn){return{type:"LineString",coordinates:fn}})},Tn.outline=function(){return{type:"Polygon",coordinates:[Fn(vn).concat(Nt(Yn).slice(1),Fn(xn).reverse().slice(1),Nt(Qn).reverse().slice(1))]}},Tn.extent=function(fn){return arguments.length?Tn.extentMajor(fn).extentMinor(fn):Tn.extentMinor()},Tn.extentMajor=function(fn){return arguments.length?(Qn=+fn[0][1],Yn=+fn[1][1],(vn=+fn[0][0])>(xn=+fn[1][0])&&(fn=vn,vn=xn,xn=fn),Qn>Yn&&(fn=Qn,Qn=Yn,Yn=fn),Tn.precision(Gn)):[[vn,Qn],[xn,Yn]]},Tn.extentMinor=function(fn){return arguments.length?(or=+fn[0][1],Dn=+fn[1][1],($t=+fn[0][0])>(Yt=+fn[1][0])&&(fn=$t,$t=Yt,Yt=fn),or>Dn&&(fn=or,or=Dn,Dn=fn),Tn.precision(Gn)):[[$t,or],[Yt,Dn]]},Tn.step=function(fn){return arguments.length?Tn.stepMajor(fn).stepMinor(fn):Tn.stepMinor()},Tn.stepMajor=function(fn){return arguments.length?(Pn=+fn[0],Nn=+fn[1],Tn):[Pn,Nn]},Tn.stepMinor=function(fn){return arguments.length?(an=+fn[0],cn=+fn[1],Tn):[an,cn]},Tn.precision=function(fn){return arguments.length?(Gn=+fn,gr=H(or,Dn,90),tn=G($t,Yt,Gn),Fn=H(Qn,Yn,90),Nt=G(vn,xn,Gn),Tn):Gn},Tn.extentMajor([[-180,-90+d.Ho],[180,90-d.Ho]]).extentMinor([[-180,-80-d.Ho],[180,80+d.Ho]])}function se(){return Y()()}var te,re,Q,ee,oe=r(83074),le=r(8593),ue=(0,u.Z)(),de=(0,u.Z)(),he={point:m.Z,lineStart:m.Z,lineEnd:m.Z,polygonStart:function(){he.lineStart=we,he.lineEnd=ve},polygonEnd:function(){he.lineStart=he.lineEnd=he.point=m.Z,ue.add((0,d.Wn)(de)),de.reset()},result:function(){var Yt=ue/2;return ue.reset(),Yt}};function we(){he.point=Ae}function Ae(Yt,$t){he.point=Te,te=Q=Yt,re=ee=$t}function Te(Yt,$t){de.add(ee*Yt-Q*$t),Q=Yt,ee=$t}function ve(){Te(te,re)}var xe,Fe,Se,ke,pe=he,fe=r(3559),be=0,Le=0,Oe=0,De=0,Ue=0,Ge=0,ye=0,Ie=0,Ee=0,Be={point:We,lineStart:He,lineEnd:at,polygonStart:function(){Be.lineStart=mt,Be.lineEnd=ct},polygonEnd:function(){Be.point=We,Be.lineStart=He,Be.lineEnd=at},result:function(){var Yt=Ee?[ye/Ee,Ie/Ee]:Ge?[De/Ge,Ue/Ge]:Oe?[be/Oe,Le/Oe]:[NaN,NaN];return be=Le=Oe=De=Ue=Ge=ye=Ie=Ee=0,Yt}};function We(Yt,$t){be+=Yt,Le+=$t,++Oe}function He(){Be.point=Je}function Je(Yt,$t){Be.point=et,We(Se=Yt,ke=$t)}function et(Yt,$t){var xn=Yt-Se,vn=$t-ke,Dn=(0,d._b)(xn*xn+vn*vn);De+=Dn*(Se+Yt)/2,Ue+=Dn*(ke+$t)/2,Ge+=Dn,We(Se=Yt,ke=$t)}function at(){Be.point=We}function mt(){Be.point=St}function ct(){Dt(xe,Fe)}function St(Yt,$t){Be.point=Dt,We(xe=Se=Yt,Fe=ke=$t)}function Dt(Yt,$t){var xn=Yt-Se,vn=$t-ke,Dn=(0,d._b)(xn*xn+vn*vn);De+=Dn*(Se+Yt)/2,Ue+=Dn*(ke+$t)/2,Ge+=Dn,ye+=(Dn=ke*Yt-Se*$t)*(Se+Yt),Ie+=Dn*(ke+$t),Ee+=3*Dn,We(Se=Yt,ke=$t)}var Et=Be;function ht(Yt){this._context=Yt}ht.prototype={_radius:4.5,pointRadius:function(Yt){return this._radius=Yt,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(Yt,$t){switch(this._point){case 0:this._context.moveTo(Yt,$t),this._point=1;break;case 1:this._context.lineTo(Yt,$t);break;default:this._context.moveTo(Yt+this._radius,$t),this._context.arc(Yt,$t,this._radius,0,d.BZ)}},result:m.Z};var pt,Pt,Ft,Ht,Lt,tt=(0,u.Z)(),rt={point:m.Z,lineStart:function(){rt.point=Ke},lineEnd:function(){pt&&it(Pt,Ft),rt.point=m.Z},polygonStart:function(){pt=!0},polygonEnd:function(){pt=null},result:function(){var Yt=+tt;return tt.reset(),Yt}};function Ke(Yt,$t){rt.point=it,Pt=Ht=Yt,Ft=Lt=$t}function it(Yt,$t){tt.add((0,d._b)((Ht-=Yt)*Ht+(Lt-=$t)*Lt)),Ht=Yt,Lt=$t}var gt=rt;function ft(){this._string=[]}function Ve(Yt){return"m0,"+Yt+"a"+Yt+","+Yt+" 0 1,1 0,"+-2*Yt+"a"+Yt+","+Yt+" 0 1,1 0,"+2*Yt+"z"}function qe(Yt,$t){var xn,vn,Dn=4.5;function or(Yn){return Yn&&("function"==typeof Dn&&vn.pointRadius(+Dn.apply(this,arguments)),(0,h.Z)(Yn,xn(vn))),vn.result()}return or.area=function(Yn){return(0,h.Z)(Yn,xn(pe)),pe.result()},or.measure=function(Yn){return(0,h.Z)(Yn,xn(gt)),gt.result()},or.bounds=function(Yn){return(0,h.Z)(Yn,xn(fe.Z)),fe.Z.result()},or.centroid=function(Yn){return(0,h.Z)(Yn,xn(Et)),Et.result()},or.projection=function(Yn){return arguments.length?(xn=null==Yn?(Yt=null,le.Z):(Yt=Yn).stream,or):Yt},or.context=function(Yn){return arguments.length?(vn=null==Yn?($t=null,new ft):new ht($t=Yn),"function"!=typeof Dn&&vn.pointRadius(Dn),or):$t},or.pointRadius=function(Yn){return arguments.length?(Dn="function"==typeof Yn?Yn:(vn.pointRadius(+Yn),+Yn),or):Dn},or.projection(Yt).context($t)}ft.prototype={_radius:4.5,_circle:Ve(4.5),pointRadius:function(Yt){return(Yt=+Yt)!==this._radius&&(this._radius=Yt,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(Yt,$t){switch(this._point){case 0:this._string.push("M",Yt,",",$t),this._point=1;break;case 1:this._string.push("L",Yt,",",$t);break;default:null==this._circle&&(this._circle=Ve(this._radius)),this._string.push("M",Yt,",",$t,this._circle)}},result:function(){if(this._string.length){var Yt=this._string.join("");return this._string=[],Yt}return null}};var dt=r(15002);function ut(Yt){var $t=0,xn=d.pi/3,vn=(0,dt.r)(Yt),Dn=vn($t,xn);return Dn.parallels=function(or){return arguments.length?vn($t=or[0]*d.uR,xn=or[1]*d.uR):[$t*d.RW,xn*d.RW]},Dn}function At(Yt,$t){var xn=(0,d.O$)(Yt),vn=(xn+(0,d.O$)($t))/2;if((0,d.Wn)(vn)<d.Ho)return function(Qn){var gr=(0,d.mC)(Qn);function tn(Fn,Nt){return[Fn*gr,(0,d.O$)(Nt)/gr]}return tn.invert=function(Fn,Nt){return[Fn/gr,(0,d.ZR)(Nt*gr)]},tn}(Yt);var Dn=1+xn*(2*vn-xn),or=(0,d._b)(Dn)/vn;function Yn(Qn,gr){var tn=(0,d._b)(Dn-2*vn*(0,d.O$)(gr))/vn;return[tn*(0,d.O$)(Qn*=vn),or-tn*(0,d.mC)(Qn)]}return Yn.invert=function(Qn,gr){var tn=or-gr,Fn=(0,d.fv)(Qn,(0,d.Wn)(tn))*(0,d.Xx)(tn);return tn*vn<0&&(Fn-=d.pi*(0,d.Xx)(Qn)*(0,d.Xx)(tn)),[Fn/vn,(0,d.ZR)((Dn-(Qn*Qn+tn*tn)*vn*vn)/(2*vn))]},Yn}function wt(){return ut(At).scale(155.424).center([0,33.6442])}function kt(){return wt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var _t=r(47589);function Rt(){var Yt,$t,xn,vn,Dn,or,Yn=kt(),Qn=wt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),gr=wt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),tn={point:function(an,cn){or=[an,cn]}};function Fn(an){var cn=an[0],Pn=an[1];return or=null,xn.point(cn,Pn),or||(vn.point(cn,Pn),or)||(Dn.point(cn,Pn),or)}function Nt(){return Yt=$t=null,Fn}return Fn.invert=function(an){var cn=Yn.scale(),Pn=Yn.translate(),Nn=(an[0]-Pn[0])/cn,Gn=(an[1]-Pn[1])/cn;return(Gn>=.12&&Gn<.234&&Nn>=-.425&&Nn<-.214?Qn:Gn>=.166&&Gn<.234&&Nn>=-.214&&Nn<-.115?gr:Yn).invert(an)},Fn.stream=function(an){return Yt&&$t===an?Yt:(cn=[Yn.stream($t=an),Qn.stream(an),gr.stream(an)],Pn=cn.length,Yt={point:function(Nn,Gn){for(var Tn=-1;++Tn<Pn;)cn[Tn].point(Nn,Gn)},sphere:function(){for(var Nn=-1;++Nn<Pn;)cn[Nn].sphere()},lineStart:function(){for(var Nn=-1;++Nn<Pn;)cn[Nn].lineStart()},lineEnd:function(){for(var Nn=-1;++Nn<Pn;)cn[Nn].lineEnd()},polygonStart:function(){for(var Nn=-1;++Nn<Pn;)cn[Nn].polygonStart()},polygonEnd:function(){for(var Nn=-1;++Nn<Pn;)cn[Nn].polygonEnd()}});var cn,Pn},Fn.precision=function(an){return arguments.length?(Yn.precision(an),Qn.precision(an),gr.precision(an),Nt()):Yn.precision()},Fn.scale=function(an){return arguments.length?(Yn.scale(an),Qn.scale(.35*an),gr.scale(an),Fn.translate(Yn.translate())):Yn.scale()},Fn.translate=function(an){if(!arguments.length)return Yn.translate();var cn=Yn.scale(),Pn=+an[0],Nn=+an[1];return xn=Yn.translate(an).clipExtent([[Pn-.455*cn,Nn-.238*cn],[Pn+.455*cn,Nn+.238*cn]]).stream(tn),vn=Qn.translate([Pn-.307*cn,Nn+.201*cn]).clipExtent([[Pn-.425*cn+d.Ho,Nn+.12*cn+d.Ho],[Pn-.214*cn-d.Ho,Nn+.234*cn-d.Ho]]).stream(tn),Dn=gr.translate([Pn-.205*cn,Nn+.212*cn]).clipExtent([[Pn-.214*cn+d.Ho,Nn+.166*cn+d.Ho],[Pn-.115*cn-d.Ho,Nn+.234*cn-d.Ho]]).stream(tn),Nt()},Fn.fitExtent=function(an,cn){return(0,_t.qg)(Fn,an,cn)},Fn.fitSize=function(an,cn){return(0,_t.mF)(Fn,an,cn)},Fn.fitWidth=function(an,cn){return(0,_t.V6)(Fn,an,cn)},Fn.fitHeight=function(an,cn){return(0,_t.rf)(Fn,an,cn)},Fn.scale(1070)}var bt=r(12956),Tt=r(17889),Ot=r(49386);function Wt(Yt,$t){return[Yt,(0,d.cM)((0,d.OR)((d.ou+$t)/2))]}function qt(){return Jt(Wt).scale(961/d.BZ)}function Jt(Yt){var $t,xn,vn,Dn=(0,dt.Z)(Yt),or=Dn.center,Yn=Dn.scale,Qn=Dn.translate,gr=Dn.clipExtent,tn=null;function Fn(){var Nt=d.pi*Yn(),an=Dn((0,Ot.Z)(Dn.rotate()).invert([0,0]));return gr(null==tn?[[an[0]-Nt,an[1]-Nt],[an[0]+Nt,an[1]+Nt]]:Yt===Wt?[[Math.max(an[0]-Nt,tn),$t],[Math.min(an[0]+Nt,xn),vn]]:[[tn,Math.max(an[1]-Nt,$t)],[xn,Math.min(an[1]+Nt,vn)]])}return Dn.scale=function(Nt){return arguments.length?(Yn(Nt),Fn()):Yn()},Dn.translate=function(Nt){return arguments.length?(Qn(Nt),Fn()):Qn()},Dn.center=function(Nt){return arguments.length?(or(Nt),Fn()):or()},Dn.clipExtent=function(Nt){return arguments.length?(null==Nt?tn=$t=xn=vn=null:(tn=+Nt[0][0],$t=+Nt[0][1],xn=+Nt[1][0],vn=+Nt[1][1]),Fn()):null==tn?null:[[tn,$t],[xn,vn]]},Fn()}function pn(Yt){return(0,d.OR)((d.ou+Yt)/2)}function en(Yt,$t){var xn=(0,d.mC)(Yt),vn=Yt===$t?(0,d.O$)(Yt):(0,d.cM)(xn/(0,d.mC)($t))/(0,d.cM)(pn($t)/pn(Yt)),Dn=xn*(0,d.sQ)(pn(Yt),vn)/vn;if(!vn)return Wt;function or(Yn,Qn){Dn>0?Qn<-d.ou+d.Ho&&(Qn=-d.ou+d.Ho):Qn>d.ou-d.Ho&&(Qn=d.ou-d.Ho);var gr=Dn/(0,d.sQ)(pn(Qn),vn);return[gr*(0,d.O$)(vn*Yn),Dn-gr*(0,d.mC)(vn*Yn)]}return or.invert=function(Yn,Qn){var gr=Dn-Qn,tn=(0,d.Xx)(vn)*(0,d._b)(Yn*Yn+gr*gr),Fn=(0,d.fv)(Yn,(0,d.Wn)(gr))*(0,d.Xx)(gr);return gr*vn<0&&(Fn-=d.pi*(0,d.Xx)(Yn)*(0,d.Xx)(gr)),[Fn/vn,2*(0,d.z4)((0,d.sQ)(Dn/tn,1/vn))-d.ou]},or}function nn(){return ut(en).scale(109.5).parallels([30,30])}Wt.invert=function(Yt,$t){return[Yt,2*(0,d.z4)((0,d.Qq)($t))-d.ou]};var dn=r(97492);function In(Yt,$t){var xn=(0,d.mC)(Yt),vn=Yt===$t?(0,d.O$)(Yt):(xn-(0,d.mC)($t))/($t-Yt),Dn=xn/vn+Yt;if((0,d.Wn)(vn)<d.Ho)return dn.k;function or(Yn,Qn){var gr=Dn-Qn,tn=vn*Yn;return[gr*(0,d.O$)(tn),Dn-gr*(0,d.mC)(tn)]}return or.invert=function(Yn,Qn){var gr=Dn-Qn,tn=(0,d.fv)(Yn,(0,d.Wn)(gr))*(0,d.Xx)(gr);return gr*vn<0&&(tn-=d.pi*(0,d.Xx)(Yn)*(0,d.Xx)(gr)),[tn/vn,Dn-(0,d.Xx)(vn)*(0,d._b)(Yn*Yn+gr*gr)]},or}function Hn(){return ut(In).scale(131.154).center([0,13.9389])}var An=1.340264,on=-.081106,yn=893e-6,ln=.003796,wn=(0,d._b)(3)/2;function Cn(Yt,$t){var xn=(0,d.ZR)(wn*(0,d.O$)($t)),vn=xn*xn,Dn=vn*vn*vn;return[Yt*(0,d.mC)(xn)/(wn*(An+3*on*vn+Dn*(7*yn+9*ln*vn))),xn*(An+on*vn+Dn*(yn+ln*vn))]}function Ln(){return(0,dt.Z)(Cn).scale(177.158)}Cn.invert=function(Yt,$t){for(var xn,vn=$t,Dn=vn*vn,or=Dn*Dn*Dn,Yn=0;Yn<12&&(or=(Dn=(vn-=xn=(vn*(An+on*Dn+or*(yn+ln*Dn))-$t)/(An+3*on*Dn+or*(7*yn+9*ln*Dn)))*vn)*Dn*Dn,!((0,d.Wn)(xn)<d.aW));++Yn);return[wn*Yt*(An+3*on*Dn+or*(7*yn+9*ln*Dn))/(0,d.mC)(vn),(0,d.ZR)((0,d.O$)(vn)/wn)]};var Sn=r(98936),qn=r(64684);function kn(){var Yt,$t,xn,vn,Dn,or,Yn,Qn=1,gr=0,tn=0,Fn=1,Nt=1,an=0,cn=null,Pn=1,Nn=1,Gn=(0,qn.l)({point:function(bn,Mn){var Un=fn([bn,Mn]);this.stream.point(Un[0],Un[1])}}),Tn=le.Z;function un(){return Pn=Qn*Fn,Nn=Qn*Nt,or=Yn=null,fn}function fn(bn){var Mn=bn[0]*Pn,Un=bn[1]*Nn;if(an){var Vn=Un*Yt-Mn*$t;Mn=Mn*Yt+Un*$t,Un=Vn}return[Mn+gr,Un+tn]}return fn.invert=function(bn){var Mn=bn[0]-gr,Un=bn[1]-tn;if(an){var Vn=Un*Yt+Mn*$t;Mn=Mn*Yt-Un*$t,Un=Vn}return[Mn/Pn,Un/Nn]},fn.stream=function(bn){return or&&Yn===bn?or:or=Gn(Tn(Yn=bn))},fn.postclip=function(bn){return arguments.length?(Tn=bn,cn=xn=vn=Dn=null,un()):Tn},fn.clipExtent=function(bn){return arguments.length?(Tn=null==bn?(cn=xn=vn=Dn=null,le.Z):(0,c.Z)(cn=+bn[0][0],xn=+bn[0][1],vn=+bn[1][0],Dn=+bn[1][1]),un()):null==cn?null:[[cn,xn],[vn,Dn]]},fn.scale=function(bn){return arguments.length?(Qn=+bn,un()):Qn},fn.translate=function(bn){return arguments.length?(gr=+bn[0],tn=+bn[1],un()):[gr,tn]},fn.angle=function(bn){return arguments.length?($t=(0,d.O$)(an=bn%360*d.uR),Yt=(0,d.mC)(an),un()):an*d.RW},fn.reflectX=function(bn){return arguments.length?(Fn=bn?-1:1,un()):Fn<0},fn.reflectY=function(bn){return arguments.length?(Nt=bn?-1:1,un()):Nt<0},fn.fitExtent=function(bn,Mn){return(0,_t.qg)(fn,bn,Mn)},fn.fitSize=function(bn,Mn){return(0,_t.mF)(fn,bn,Mn)},fn.fitWidth=function(bn,Mn){return(0,_t.V6)(fn,bn,Mn)},fn.fitHeight=function(bn,Mn){return(0,_t.rf)(fn,bn,Mn)},fn}var Zn=r(26867),fr=r(57962),er=r(25382);function nr(Yt,$t){var xn=(0,d.mC)($t),vn=1+(0,d.mC)(Yt)*xn;return[xn*(0,d.O$)(Yt)/vn,(0,d.O$)($t)/vn]}function mr(){return(0,dt.Z)(nr).scale(250).clipAngle(142)}function dr(Yt,$t){return[(0,d.cM)((0,d.OR)((d.ou+$t)/2)),-Yt]}function Ir(){var Yt=Jt(dr),$t=Yt.center,xn=Yt.rotate;return Yt.center=function(vn){return arguments.length?$t([-vn[1],vn[0]]):[(vn=$t())[1],-vn[0]]},Yt.rotate=function(vn){return arguments.length?xn([vn[0],vn[1],vn.length>2?vn[2]+90:90]):[(vn=xn())[0],vn[1],vn[2]-90]},xn([0,0,90]).scale(159.155)}nr.invert=(0,er.O)(function(Yt){return 2*(0,d.z4)(Yt)}),dr.invert=function(Yt,$t){return[-$t,2*(0,d.z4)((0,d.Qq)(Yt))-d.ou]}},83074:function(ae,B,r){"use strict";r.d(B,{Z:function(){return E}});var D=r(39695);function E(f,S){var M=f[0]*D.uR,v=f[1]*D.uR,c=S[0]*D.uR,i=S[1]*D.uR,s=(0,D.mC)(v),a=(0,D.O$)(v),o=(0,D.mC)(i),l=(0,D.O$)(i),u=s*(0,D.mC)(M),d=s*(0,D.O$)(M),m=o*(0,D.mC)(c),h=o*(0,D.O$)(c),T=2*(0,D.ZR)((0,D._b)((0,D.Jy)(i-v)+s*o*(0,D.Jy)(c-M))),_=(0,D.O$)(T),g=T?function(w){var x=(0,D.O$)(w*=T)/_,b=(0,D.O$)(T-w)/_,A=b*u+x*m,p=b*d+x*h,O=b*a+x*l;return[(0,D.fv)(p,A)*D.RW,(0,D.fv)(O,(0,D._b)(A*A+p*p))*D.RW]}:function(){return[M*D.RW,v*D.RW]};return g.distance=T,g}},39695:function(ae,B,r){"use strict";r.d(B,{BZ:function(){return v},Ho:function(){return D},Jy:function(){return A},Kh:function(){return x},O$:function(){return T},OR:function(){return w},Qq:function(){return d},RW:function(){return c},Wn:function(){return s},Xx:function(){return _},ZR:function(){return b},_b:function(){return g},aW:function(){return E},cM:function(){return m},fv:function(){return o},mC:function(){return l},mD:function(){return u},ou:function(){return S},pi:function(){return f},pu:function(){return M},sQ:function(){return h},uR:function(){return i},z4:function(){return a}});var D=1e-6,E=1e-12,f=Math.PI,S=f/2,M=f/4,v=2*f,c=180/f,i=f/180,s=Math.abs,a=Math.atan,o=Math.atan2,l=Math.cos,u=Math.ceil,d=Math.exp,m=Math.log,h=Math.pow,T=Math.sin,_=Math.sign||function(p){return p>0?1:p<0?-1:0},g=Math.sqrt,w=Math.tan;function x(p){return p>1?0:p<-1?f:Math.acos(p)}function b(p){return p>1?S:p<-1?-S:Math.asin(p)}function A(p){return(p=T(p/2))*p}},73182:function(ae,B,r){"use strict";function D(){}r.d(B,{Z:function(){return D}})},3559:function(ae,B,r){"use strict";var D=r(73182),E=1/0,f=E,S=-E,M=S;B.Z={point:function(c,i){c<E&&(E=c),c>S&&(S=c),i<f&&(f=i),i>M&&(M=i)},lineStart:D.Z,lineEnd:D.Z,polygonStart:D.Z,polygonEnd:D.Z,result:function(){var c=[[E,f],[S,M]];return S=M=-(f=E=1/0),c}}},67108:function(ae,B,r){"use strict";r.d(B,{Z:function(){return E}});var D=r(39695);function E(f,S){return(0,D.Wn)(f[0]-S[0])<D.Ho&&(0,D.Wn)(f[1]-S[1])<D.Ho}},23071:function(ae,B,r){"use strict";r.d(B,{Z:function(){return v}});var D=r(33940),E=r(7620),f=r(39695),S=(0,D.Z)();function M(c){return(0,f.Wn)(c[0])<=f.pi?c[0]:(0,f.Xx)(c[0])*(((0,f.Wn)(c[0])+f.pi)%f.BZ-f.pi)}function v(c,i){var s=M(i),a=i[1],o=(0,f.O$)(a),l=[(0,f.O$)(s),-(0,f.mC)(s),0],u=0,d=0;S.reset(),1===o?a=f.ou+f.Ho:-1===o&&(a=-f.ou-f.Ho);for(var m=0,h=c.length;m<h;++m)if(_=(T=c[m]).length)for(var T,_,g=T[_-1],w=M(g),x=g[1]/2+f.pu,b=(0,f.O$)(x),A=(0,f.mC)(x),p=0;p<_;++p,w=k,b=P,A=R,g=O){var O=T[p],k=M(O),I=O[1]/2+f.pu,P=(0,f.O$)(I),R=(0,f.mC)(I),N=k-w,j=N>=0?1:-1,X=j*N,F=X>f.pi,Z=b*P;if(S.add((0,f.fv)(Z*j*(0,f.O$)(X),A*R+Z*(0,f.mC)(X))),u+=F?N+j*f.BZ:N,F^w>=s^k>=s){var W=(0,E.T5)((0,E.Og)(g),(0,E.Og)(O));(0,E.iJ)(W);var H=(0,E.T5)(l,W);(0,E.iJ)(H);var G=(F^N>=0?-1:1)*(0,f.ZR)(H[2]);(a>G||a===G&&(W[0]||W[1]))&&(d+=F^N>=0?1:-1)}}return(u<-f.Ho||u<f.Ho&&S<-f.Ho)^1&d}},25382:function(ae,B,r){"use strict";r.d(B,{O:function(){return f},W:function(){return E}});var D=r(39695);function E(S){return function(M,v){var c=(0,D.mC)(M),i=(0,D.mC)(v),s=S(c*i);return[s*i*(0,D.O$)(M),s*(0,D.O$)(v)]}}function f(S){return function(M,v){var c=(0,D._b)(M*M+v*v),i=S(c),s=(0,D.O$)(i),a=(0,D.mC)(i);return[(0,D.fv)(M*s,c*a),(0,D.ZR)(c&&v*s/c)]}}},12956:function(ae,B,r){"use strict";r.d(B,{Z:function(){return M},l:function(){return S}});var D=r(39695),E=r(25382),f=r(15002),S=(0,E.W)(function(v){return(0,D._b)(2/(1+v))});function M(){return(0,f.Z)(S).scale(124.75).clipAngle(179.999)}S.invert=(0,E.O)(function(v){return 2*(0,D.ZR)(v/2)})},17889:function(ae,B,r){"use strict";r.d(B,{N:function(){return S},Z:function(){return M}});var D=r(39695),E=r(25382),f=r(15002),S=(0,E.W)(function(v){return(v=(0,D.Kh)(v))&&v/(0,D.O$)(v)});function M(){return(0,f.Z)(S).scale(79.4188).clipAngle(179.999)}S.invert=(0,E.O)(function(v){return v})},97492:function(ae,B,r){"use strict";r.d(B,{Z:function(){return f},k:function(){return E}});var D=r(15002);function E(S,M){return[S,M]}function f(){return(0,D.Z)(E).scale(152.63)}E.invert=E},47589:function(ae,B,r){"use strict";r.d(B,{V6:function(){return v},mF:function(){return M},qg:function(){return S},rf:function(){return c}});var D=r(72736),E=r(3559);function f(i,s,a){var o=i.clipExtent&&i.clipExtent();return i.scale(150).translate([0,0]),null!=o&&i.clipExtent(null),(0,D.Z)(a,i.stream(E.Z)),s(E.Z.result()),null!=o&&i.clipExtent(o),i}function S(i,s,a){return f(i,function(o){var l=s[1][0]-s[0][0],u=s[1][1]-s[0][1],d=Math.min(l/(o[1][0]-o[0][0]),u/(o[1][1]-o[0][1])),m=+s[0][0]+(l-d*(o[1][0]+o[0][0]))/2,h=+s[0][1]+(u-d*(o[1][1]+o[0][1]))/2;i.scale(150*d).translate([m,h])},a)}function M(i,s,a){return S(i,[[0,0],s],a)}function v(i,s,a){return f(i,function(o){var l=+s,u=l/(o[1][0]-o[0][0]),d=(l-u*(o[1][0]+o[0][0]))/2,m=-u*o[0][1];i.scale(150*u).translate([d,m])},a)}function c(i,s,a){return f(i,function(o){var l=+s,u=l/(o[1][1]-o[0][1]),d=-u*o[0][0],m=(l-u*(o[1][1]+o[0][1]))/2;i.scale(150*u).translate([d,m])},a)}},98936:function(ae,B,r){"use strict";r.d(B,{M:function(){return S},Z:function(){return M}});var D=r(39695),E=r(25382),f=r(15002);function S(v,c){var i=(0,D.mC)(c),s=(0,D.mC)(v)*i;return[i*(0,D.O$)(v)/s,(0,D.O$)(c)/s]}function M(){return(0,f.Z)(S).scale(144.049).clipAngle(60)}S.invert=(0,E.O)(D.z4)},15002:function(ae,B,r){"use strict";r.d(B,{Z:function(){return T},r:function(){return _}});var D=r(87070),E=r(1457),f=r(87605),S=r(96059),M=r(8593),v=r(39695),c=r(49386),i=r(64684),s=r(47589),a=r(7620),o=16,l=(0,v.mC)(30*v.uR);function u(g,w){return+w?function(x,b){function A(p,O,k,I,P,R,N,j,X,F,Z,W,H,G){var Y=N-p,se=j-O,te=Y*Y+se*se;if(te>4*b&&H--){var re=I+F,Q=P+Z,ee=R+W,oe=(0,v._b)(re*re+Q*Q+ee*ee),le=(0,v.ZR)(ee/=oe),ue=(0,v.Wn)((0,v.Wn)(ee)-1)<v.Ho||(0,v.Wn)(k-X)<v.Ho?(k+X)/2:(0,v.fv)(Q,re),de=x(ue,le),he=de[0],we=de[1],Ae=he-p,Te=we-O,ve=se*Ae-Y*Te;(ve*ve/te>b||(0,v.Wn)((Y*Ae+se*Te)/te-.5)>.3||I*F+P*Z+R*W<l)&&(A(p,O,k,I,P,R,he,we,ue,re/=oe,Q/=oe,ee,H,G),G.point(he,we),A(he,we,ue,re,Q,ee,N,j,X,F,Z,W,H,G))}}return function(p){var O,k,I,P,R,N,j,X,F,Z,W,H,G={point:Y,lineStart:se,lineEnd:re,polygonStart:function(){p.polygonStart(),G.lineStart=Q},polygonEnd:function(){p.polygonEnd(),G.lineStart=se}};function Y(le,ue){le=x(le,ue),p.point(le[0],le[1])}function se(){X=NaN,G.point=te,p.lineStart()}function te(le,ue){var de=(0,a.Og)([le,ue]),he=x(le,ue);A(X,F,j,Z,W,H,X=he[0],F=he[1],j=le,Z=de[0],W=de[1],H=de[2],o,p),p.point(X,F)}function re(){G.point=Y,p.lineEnd()}function Q(){se(),G.point=ee,G.lineEnd=oe}function ee(le,ue){te(O=le,ue),k=X,I=F,P=Z,R=W,N=H,G.point=te}function oe(){A(X,F,j,Z,W,H,k,I,O,P,R,N,o,p),G.lineEnd=re,re()}return G}}(g,w):(x=g,(0,i.l)({point:function(b,A){b=x(b,A),this.stream.point(b[0],b[1])}}));var x}var d=(0,i.l)({point:function(g,w){this.stream.point(g*v.uR,w*v.uR)}});function m(g,w,x,b,A){function p(O,k){return[w+g*(O*=b),x-g*(k*=A)]}return p.invert=function(O,k){return[(O-w)/g*b,(x-k)/g*A]},p}function h(g,w,x,b,A,p){var O=(0,v.mC)(p),k=(0,v.O$)(p),I=O*g,P=k*g,R=O/g,N=k/g,j=(k*x-O*w)/g,X=(k*w+O*x)/g;function F(Z,W){return[I*(Z*=b)-P*(W*=A)+w,x-P*Z-I*W]}return F.invert=function(Z,W){return[b*(R*Z-N*W+j),A*(X-N*Z-R*W)]},F}function T(g){return _(function(){return g})()}function _(g){var w,x,b,A,p,O,k,I,P,R,N=150,j=480,X=250,F=0,Z=0,W=0,H=0,G=0,Y=0,se=1,te=1,re=null,Q=D.Z,ee=null,oe=M.Z,le=.5;function ue(Ae){return I(Ae[0]*v.uR,Ae[1]*v.uR)}function de(Ae){return(Ae=I.invert(Ae[0],Ae[1]))&&[Ae[0]*v.RW,Ae[1]*v.RW]}function he(){var Ae=h(N,0,0,se,te,Y).apply(null,w(F,Z)),Te=(Y?h:m)(N,j-Ae[0],X-Ae[1],se,te,Y);return x=(0,c.I)(W,H,G),k=(0,S.Z)(w,Te),I=(0,S.Z)(x,k),O=u(k,le),we()}function we(){return P=R=null,ue}return ue.stream=function(Ae){return P&&R===Ae?P:P=d((Te=x,(0,i.l)({point:function(ve,xe){var Fe=Te(ve,xe);return this.stream.point(Fe[0],Fe[1])}}))(Q(O(oe(R=Ae)))));var Te},ue.preclip=function(Ae){return arguments.length?(Q=Ae,re=void 0,we()):Q},ue.postclip=function(Ae){return arguments.length?(oe=Ae,ee=b=A=p=null,we()):oe},ue.clipAngle=function(Ae){return arguments.length?(Q=+Ae?(0,E.Z)(re=Ae*v.uR):(re=null,D.Z),we()):re*v.RW},ue.clipExtent=function(Ae){return arguments.length?(oe=null==Ae?(ee=b=A=p=null,M.Z):(0,f.Z)(ee=+Ae[0][0],b=+Ae[0][1],A=+Ae[1][0],p=+Ae[1][1]),we()):null==ee?null:[[ee,b],[A,p]]},ue.scale=function(Ae){return arguments.length?(N=+Ae,he()):N},ue.translate=function(Ae){return arguments.length?(j=+Ae[0],X=+Ae[1],he()):[j,X]},ue.center=function(Ae){return arguments.length?(F=Ae[0]%360*v.uR,Z=Ae[1]%360*v.uR,he()):[F*v.RW,Z*v.RW]},ue.rotate=function(Ae){return arguments.length?(W=Ae[0]%360*v.uR,H=Ae[1]%360*v.uR,G=Ae.length>2?Ae[2]%360*v.uR:0,he()):[W*v.RW,H*v.RW,G*v.RW]},ue.angle=function(Ae){return arguments.length?(Y=Ae%360*v.uR,he()):Y*v.RW},ue.reflectX=function(Ae){return arguments.length?(se=Ae?-1:1,he()):se<0},ue.reflectY=function(Ae){return arguments.length?(te=Ae?-1:1,he()):te<0},ue.precision=function(Ae){return arguments.length?(O=u(k,le=Ae*Ae),we()):(0,v._b)(le)},ue.fitExtent=function(Ae,Te){return(0,s.qg)(ue,Ae,Te)},ue.fitSize=function(Ae,Te){return(0,s.mF)(ue,Ae,Te)},ue.fitWidth=function(Ae,Te){return(0,s.V6)(ue,Ae,Te)},ue.fitHeight=function(Ae,Te){return(0,s.rf)(ue,Ae,Te)},function(){return w=g.apply(this,arguments),ue.invert=w.invert&&de,he()}}},26867:function(ae,B,r){"use strict";r.d(B,{K:function(){return f},Z:function(){return S}});var D=r(15002),E=r(39695);function f(M,v){var c=v*v,i=c*c;return[M*(.8707-.131979*c+i*(i*(.003971*c-.001529*i)-.013791)),v*(1.007226+c*(.015085+i*(.028874*c-.044475-.005916*i)))]}function S(){return(0,D.Z)(f).scale(175.295)}f.invert=function(M,v){var c,i=v,s=25;do{var a=i*i,o=a*a;i-=c=(i*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-v)/(1.007226+a*(.045255+o*(.259866*a-.311325-.06507600000000001*o)))}while((0,E.Wn)(c)>E.Ho&&--s>0);return[M/(.8707+(a=i*i)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),i]}},57962:function(ae,B,r){"use strict";r.d(B,{I:function(){return S},Z:function(){return M}});var D=r(39695),E=r(25382),f=r(15002);function S(v,c){return[(0,D.mC)(c)*(0,D.O$)(v),(0,D.O$)(c)]}function M(){return(0,f.Z)(S).scale(249.5).clipAngle(90+D.Ho)}S.invert=(0,E.O)(D.ZR)},49386:function(ae,B,r){"use strict";r.d(B,{I:function(){return S},Z:function(){return i}});var D=r(96059),E=r(39695);function f(s,a){return[(0,E.Wn)(s)>E.pi?s+Math.round(-s/E.BZ)*E.BZ:s,a]}function S(s,a,o){return(s%=E.BZ)?a||o?(0,D.Z)(v(s),c(a,o)):v(s):a||o?c(a,o):f}function M(s){return function(a,o){return[(a+=s)>E.pi?a-E.BZ:a<-E.pi?a+E.BZ:a,o]}}function v(s){var a=M(s);return a.invert=M(-s),a}function c(s,a){var o=(0,E.mC)(s),l=(0,E.O$)(s),u=(0,E.mC)(a),d=(0,E.O$)(a);function m(h,T){var _=(0,E.mC)(T),g=(0,E.mC)(h)*_,w=(0,E.O$)(h)*_,x=(0,E.O$)(T),b=x*o+g*l;return[(0,E.fv)(w*u-b*d,g*o-x*l),(0,E.ZR)(b*u+w*d)]}return m.invert=function(h,T){var _=(0,E.mC)(T),g=(0,E.mC)(h)*_,w=(0,E.O$)(h)*_,x=(0,E.O$)(T),b=x*u-w*d;return[(0,E.fv)(w*u+x*d,g*o+b*l),(0,E.ZR)(b*o-g*l)]},m}function i(s){function a(o){return(o=s(o[0]*E.uR,o[1]*E.uR))[0]*=E.RW,o[1]*=E.RW,o}return s=S(s[0]*E.uR,s[1]*E.uR,s.length>2?s[2]*E.uR:0),a.invert=function(o){return(o=s.invert(o[0]*E.uR,o[1]*E.uR))[0]*=E.RW,o[1]*=E.RW,o},a}f.invert=f},72736:function(ae,B,r){"use strict";function D(c,i){c&&f.hasOwnProperty(c.type)&&f[c.type](c,i)}r.d(B,{Z:function(){return v}});var E={Feature:function(c,i){D(c.geometry,i)},FeatureCollection:function(c,i){for(var s=c.features,a=-1,o=s.length;++a<o;)D(s[a].geometry,i)}},f={Sphere:function(c,i){i.sphere()},Point:function(c,i){i.point((c=c.coordinates)[0],c[1],c[2])},MultiPoint:function(c,i){for(var s=c.coordinates,a=-1,o=s.length;++a<o;)i.point((c=s[a])[0],c[1],c[2])},LineString:function(c,i){S(c.coordinates,i,0)},MultiLineString:function(c,i){for(var s=c.coordinates,a=-1,o=s.length;++a<o;)S(s[a],i,0)},Polygon:function(c,i){M(c.coordinates,i)},MultiPolygon:function(c,i){for(var s=c.coordinates,a=-1,o=s.length;++a<o;)M(s[a],i)},GeometryCollection:function(c,i){for(var s=c.geometries,a=-1,o=s.length;++a<o;)D(s[a],i)}};function S(c,i,s){var a,o=-1,l=c.length-s;for(i.lineStart();++o<l;)i.point((a=c[o])[0],a[1],a[2]);i.lineEnd()}function M(c,i){var s=-1,a=c.length;for(i.polygonStart();++s<a;)S(c[s],i,1);i.polygonEnd()}function v(c,i){c&&E.hasOwnProperty(c.type)?E[c.type](c,i):D(c,i)}},64684:function(ae,B,r){"use strict";function D(S){return{stream:E(S)}}function E(S){return function(M){var v=new f;for(var c in S)v[c]=S[c];return v.stream=M,v}}function f(){}r.d(B,{Z:function(){return D},l:function(){return E}}),f.prototype={constructor:f,point:function(S,M){this.stream.point(S,M)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(ae,B,r){"use strict";function D(fe,be){return fe.parent===be.parent?1:2}function E(fe,be){return fe+be.x}function f(fe,be){return Math.max(fe,be.y)}function S(){var fe=D,be=1,Le=1,Oe=!1;function De(Ue){var Ge,ye=0;Ue.eachAfter(function(He){var et,Je=He.children;Je?(He.x=(et=Je).reduce(E,0)/et.length,He.y=function(et){return 1+et.reduce(f,0)}(Je)):(He.x=Ge?ye+=fe(He,Ge):0,He.y=0,Ge=He)});var Ie=function(He){for(var Je;Je=He.children;)He=Je[0];return He}(Ue),Ee=function(He){for(var Je;Je=He.children;)He=Je[Je.length-1];return He}(Ue),Be=Ie.x-fe(Ie,Ee)/2,We=Ee.x+fe(Ee,Ie)/2;return Ue.eachAfter(Oe?function(He){He.x=(He.x-Ue.x)*be,He.y=(Ue.y-He.y)*Le}:function(He){He.x=(He.x-Be)/(We-Be)*be,He.y=(1-(Ue.y?He.y/Ue.y:1))*Le})}return De.separation=function(Ue){return arguments.length?(fe=Ue,De):fe},De.size=function(Ue){return arguments.length?(Oe=!1,be=+Ue[0],Le=+Ue[1],De):Oe?null:[be,Le]},De.nodeSize=function(Ue){return arguments.length?(Oe=!0,be=+Ue[0],Le=+Ue[1],De):Oe?[be,Le]:null},De}function M(fe){var be=0,Le=fe.children,Oe=Le&&Le.length;if(Oe)for(;--Oe>=0;)be+=Le[Oe].value;else be=1;fe.value=be}function v(fe,be){var Le,Oe,De,Ue,Ge,ye=new a(fe),Ie=+fe.value&&(ye.value=fe.value),Ee=[ye];for(null==be&&(be=c);Le=Ee.pop();)if(Ie&&(Le.value=+Le.data.value),(De=be(Le.data))&&(Ge=De.length))for(Le.children=new Array(Ge),Ue=Ge-1;Ue>=0;--Ue)Ee.push(Oe=Le.children[Ue]=new a(De[Ue])),Oe.parent=Le,Oe.depth=Le.depth+1;return ye.eachBefore(s)}function c(fe){return fe.children}function i(fe){fe.data=fe.data.data}function s(fe){var be=0;do{fe.height=be}while((fe=fe.parent)&&fe.height<++be)}function a(fe){this.data=fe,this.depth=this.height=0,this.parent=null}r.r(B),r.d(B,{cluster:function(){return S},hierarchy:function(){return v},pack:function(){return N},packEnclose:function(){return l},packSiblings:function(){return O},partition:function(){return H},stratify:function(){return Q},tree:function(){return we},treemap:function(){return Fe},treemapBinary:function(){return Se},treemapDice:function(){return W},treemapResquarify:function(){return pe},treemapSlice:function(){return Ae},treemapSliceDice:function(){return ke},treemapSquarify:function(){return xe}}),a.prototype=v.prototype={constructor:a,count:function(){return this.eachAfter(M)},each:function(fe){var be,Le,Oe,De,Ue=this,Ge=[Ue];do{for(be=Ge.reverse(),Ge=[];Ue=be.pop();)if(fe(Ue),Le=Ue.children)for(Oe=0,De=Le.length;Oe<De;++Oe)Ge.push(Le[Oe])}while(Ge.length);return this},eachAfter:function(fe){for(var be,Le,Oe,De=this,Ue=[De],Ge=[];De=Ue.pop();)if(Ge.push(De),be=De.children)for(Le=0,Oe=be.length;Le<Oe;++Le)Ue.push(be[Le]);for(;De=Ge.pop();)fe(De);return this},eachBefore:function(fe){for(var be,Le,Oe=this,De=[Oe];Oe=De.pop();)if(fe(Oe),be=Oe.children)for(Le=be.length-1;Le>=0;--Le)De.push(be[Le]);return this},sum:function(fe){return this.eachAfter(function(be){for(var Le=+fe(be.data)||0,Oe=be.children,De=Oe&&Oe.length;--De>=0;)Le+=Oe[De].value;be.value=Le})},sort:function(fe){return this.eachBefore(function(be){be.children&&be.children.sort(fe)})},path:function(fe){for(var be=this,Le=function(Ue,Ge){if(Ue===Ge)return Ue;var ye=Ue.ancestors(),Ie=Ge.ancestors(),Ee=null;for(Ue=ye.pop(),Ge=Ie.pop();Ue===Ge;)Ee=Ue,Ue=ye.pop(),Ge=Ie.pop();return Ee}(be,fe),Oe=[be];be!==Le;)Oe.push(be=be.parent);for(var De=Oe.length;fe!==Le;)Oe.splice(De,0,fe),fe=fe.parent;return Oe},ancestors:function(){for(var fe=this,be=[fe];fe=fe.parent;)be.push(fe);return be},descendants:function(){var fe=[];return this.each(function(be){fe.push(be)}),fe},leaves:function(){var fe=[];return this.eachBefore(function(be){be.children||fe.push(be)}),fe},links:function(){var fe=this,be=[];return fe.each(function(Le){Le!==fe&&be.push({source:Le.parent,target:Le})}),be},copy:function(){return v(this).eachBefore(i)}};var o=Array.prototype.slice;function l(fe){for(var be,Le,Oe=0,De=(fe=function(Ge){for(var ye,Ie,Ee=Ge.length;Ee;)Ie=Math.random()*Ee--|0,ye=Ge[Ee],Ge[Ee]=Ge[Ie],Ge[Ie]=ye;return Ge}(o.call(fe))).length,Ue=[];Oe<De;)be=fe[Oe],Le&&m(Le,be)?++Oe:(Le=T(Ue=u(Ue,be)),Oe=0);return Le}function u(fe,be){var Le,Oe;if(h(be,fe))return[be];for(Le=0;Le<fe.length;++Le)if(d(be,fe[Le])&&h(_(fe[Le],be),fe))return[fe[Le],be];for(Le=0;Le<fe.length-1;++Le)for(Oe=Le+1;Oe<fe.length;++Oe)if(d(_(fe[Le],fe[Oe]),be)&&d(_(fe[Le],be),fe[Oe])&&d(_(fe[Oe],be),fe[Le])&&h(g(fe[Le],fe[Oe],be),fe))return[fe[Le],fe[Oe],be];throw new Error}function d(fe,be){var Le=fe.r-be.r,Oe=be.x-fe.x,De=be.y-fe.y;return Le<0||Le*Le<Oe*Oe+De*De}function m(fe,be){var Le=fe.r-be.r+1e-6,Oe=be.x-fe.x,De=be.y-fe.y;return Le>0&&Le*Le>Oe*Oe+De*De}function h(fe,be){for(var Le=0;Le<be.length;++Le)if(!m(fe,be[Le]))return!1;return!0}function T(fe){switch(fe.length){case 1:return{x:(be=fe[0]).x,y:be.y,r:be.r};case 2:return _(fe[0],fe[1]);case 3:return g(fe[0],fe[1],fe[2])}var be}function _(fe,be){var Le=fe.x,Oe=fe.y,De=fe.r,Ue=be.x,Ge=be.y,ye=be.r,Ie=Ue-Le,Ee=Ge-Oe,Be=ye-De,We=Math.sqrt(Ie*Ie+Ee*Ee);return{x:(Le+Ue+Ie/We*Be)/2,y:(Oe+Ge+Ee/We*Be)/2,r:(We+De+ye)/2}}function g(fe,be,Le){var Oe=fe.x,De=fe.y,Ue=fe.r,Ge=be.x,ye=be.y,Ie=be.r,Ee=Le.x,Be=Le.y,We=Le.r,He=Oe-Ge,Je=Oe-Ee,et=De-ye,at=De-Be,mt=Ie-Ue,ct=We-Ue,St=Oe*Oe+De*De-Ue*Ue,Dt=St-Ge*Ge-ye*ye+Ie*Ie,Et=St-Ee*Ee-Be*Be+We*We,ht=Je*et-He*at,pt=(et*Et-at*Dt)/(2*ht)-Oe,Pt=(at*mt-et*ct)/ht,Ft=(Je*Dt-He*Et)/(2*ht)-De,Ht=(He*ct-Je*mt)/ht,Lt=Pt*Pt+Ht*Ht-1,tt=2*(Ue+pt*Pt+Ft*Ht),rt=pt*pt+Ft*Ft-Ue*Ue,Ke=-(Lt?(tt+Math.sqrt(tt*tt-4*Lt*rt))/(2*Lt):rt/tt);return{x:Oe+pt+Pt*Ke,y:De+Ft+Ht*Ke,r:Ke}}function w(fe,be,Le){var Oe,De,Ue,Ge,ye=fe.x-be.x,Ie=fe.y-be.y,Ee=ye*ye+Ie*Ie;Ee?(De=be.r+Le.r,Ge=fe.r+Le.r,(De*=De)>(Ge*=Ge)?(Oe=(Ee+Ge-De)/(2*Ee),Ue=Math.sqrt(Math.max(0,Ge/Ee-Oe*Oe)),Le.x=fe.x-Oe*ye-Ue*Ie,Le.y=fe.y-Oe*Ie+Ue*ye):(Oe=(Ee+De-Ge)/(2*Ee),Ue=Math.sqrt(Math.max(0,De/Ee-Oe*Oe)),Le.x=be.x+Oe*ye-Ue*Ie,Le.y=be.y+Oe*Ie+Ue*ye)):(Le.x=be.x+Le.r,Le.y=be.y)}function x(fe,be){var Le=fe.r+be.r-1e-6,Oe=be.x-fe.x,De=be.y-fe.y;return Le>0&&Le*Le>Oe*Oe+De*De}function b(fe){var be=fe._,Le=fe.next._,Oe=be.r+Le.r,De=(be.x*Le.r+Le.x*be.r)/Oe,Ue=(be.y*Le.r+Le.y*be.r)/Oe;return De*De+Ue*Ue}function A(fe){this._=fe,this.next=null,this.previous=null}function p(fe){if(!(De=fe.length))return 0;var be,Le,Oe,De,Ue,Ge,ye,Ie,Ee,Be,We;if((be=fe[0]).x=0,be.y=0,!(De>1))return be.r;if(be.x=-(Le=fe[1]).r,Le.x=be.r,Le.y=0,!(De>2))return be.r+Le.r;w(Le,be,Oe=fe[2]),be=new A(be),Le=new A(Le),Oe=new A(Oe),be.next=Oe.previous=Le,Le.next=be.previous=Oe,Oe.next=Le.previous=be;e:for(ye=3;ye<De;++ye){w(be._,Le._,Oe=fe[ye]),Oe=new A(Oe),Ie=Le.next,Ee=be.previous,Be=Le._.r,We=be._.r;do{if(Be<=We){if(x(Ie._,Oe._)){be.next=Le=Ie,Le.previous=be,--ye;continue e}Be+=Ie._.r,Ie=Ie.next}else{if(x(Ee._,Oe._)){(be=Ee).next=Le,Le.previous=be,--ye;continue e}We+=Ee._.r,Ee=Ee.previous}}while(Ie!==Ee.next);for(Oe.previous=be,Oe.next=Le,be.next=Le.previous=Le=Oe,Ue=b(be);(Oe=Oe.next)!==Le;)(Ge=b(Oe))<Ue&&(be=Oe,Ue=Ge);Le=be.next}for(be=[Le._],Oe=Le;(Oe=Oe.next)!==Le;)be.push(Oe._);for(Oe=l(be),ye=0;ye<De;++ye)(be=fe[ye]).x-=Oe.x,be.y-=Oe.y;return Oe.r}function O(fe){return p(fe),fe}function k(fe){if("function"!=typeof fe)throw new Error;return fe}function I(){return 0}function P(fe){return function(){return fe}}function R(fe){return Math.sqrt(fe.value)}function N(){var fe=null,be=1,Le=1,Oe=I;function De(Ue){return Ue.x=be/2,Ue.y=Le/2,fe?Ue.eachBefore(j(fe)).eachAfter(X(Oe,.5)).eachBefore(F(1)):Ue.eachBefore(j(R)).eachAfter(X(I,1)).eachAfter(X(Oe,Ue.r/Math.min(be,Le))).eachBefore(F(Math.min(be,Le)/(2*Ue.r))),Ue}return De.radius=function(Ue){return arguments.length?(fe=null==(Ge=Ue)?null:k(Ge),De):fe;var Ge},De.size=function(Ue){return arguments.length?(be=+Ue[0],Le=+Ue[1],De):[be,Le]},De.padding=function(Ue){return arguments.length?(Oe="function"==typeof Ue?Ue:P(+Ue),De):Oe},De}function j(fe){return function(be){be.children||(be.r=Math.max(0,+fe(be)||0))}}function X(fe,be){return function(Le){if(Oe=Le.children){var Oe,De,Ue,Ge=Oe.length,ye=fe(Le)*be||0;if(ye)for(De=0;De<Ge;++De)Oe[De].r+=ye;if(Ue=p(Oe),ye)for(De=0;De<Ge;++De)Oe[De].r-=ye;Le.r=Ue+ye}}}function F(fe){return function(be){var Le=be.parent;be.r*=fe,Le&&(be.x=Le.x+fe*be.x,be.y=Le.y+fe*be.y)}}function Z(fe){fe.x0=Math.round(fe.x0),fe.y0=Math.round(fe.y0),fe.x1=Math.round(fe.x1),fe.y1=Math.round(fe.y1)}function W(fe,be,Le,Oe,De){for(var Ue,Ge=fe.children,ye=-1,Ie=Ge.length,Ee=fe.value&&(Oe-be)/fe.value;++ye<Ie;)(Ue=Ge[ye]).y0=Le,Ue.y1=De,Ue.x0=be,Ue.x1=be+=Ue.value*Ee}function H(){var fe=1,be=1,Le=0,Oe=!1;function De(Ue){var ye,Ie,Ge=Ue.height+1;return Ue.x0=Ue.y0=Le,Ue.x1=fe,Ue.y1=be/Ge,Ue.eachBefore((ye=be,Ie=Ge,function(Ee){Ee.children&&W(Ee,Ee.x0,ye*(Ee.depth+1)/Ie,Ee.x1,ye*(Ee.depth+2)/Ie);var Be=Ee.x0,We=Ee.y0,He=Ee.x1-Le,Je=Ee.y1-Le;He<Be&&(Be=He=(Be+He)/2),Je<We&&(We=Je=(We+Je)/2),Ee.x0=Be,Ee.y0=We,Ee.x1=He,Ee.y1=Je})),Oe&&Ue.eachBefore(Z),Ue}return De.round=function(Ue){return arguments.length?(Oe=!!Ue,De):Oe},De.size=function(Ue){return arguments.length?(fe=+Ue[0],be=+Ue[1],De):[fe,be]},De.padding=function(Ue){return arguments.length?(Le=+Ue,De):Le},De}var G="$",Y={depth:-1},se={};function te(fe){return fe.id}function re(fe){return fe.parentId}function Q(){var fe=te,be=re;function Le(Oe){var De,Ue,Ge,ye,Ie,Ee,Be,We=Oe.length,He=new Array(We),Je={};for(Ue=0;Ue<We;++Ue)Ie=He[Ue]=new a(De=Oe[Ue]),null!=(Ee=fe(De,Ue,Oe))&&(Ee+="")&&(Je[Be=G+(Ie.id=Ee)]=Be in Je?se:Ie);for(Ue=0;Ue<We;++Ue)if(Ie=He[Ue],null!=(Ee=be(Oe[Ue],Ue,Oe))&&(Ee+="")){if(!(ye=Je[G+Ee]))throw new Error("missing: "+Ee);if(ye===se)throw new Error("ambiguous: "+Ee);ye.children?ye.children.push(Ie):ye.children=[Ie],Ie.parent=ye}else{if(Ge)throw new Error("multiple roots");Ge=Ie}if(!Ge)throw new Error("no root");if(Ge.parent=Y,Ge.eachBefore(function(et){et.depth=et.parent.depth+1,--We}).eachBefore(s),Ge.parent=null,We>0)throw new Error("cycle");return Ge}return Le.id=function(Oe){return arguments.length?(fe=k(Oe),Le):fe},Le.parentId=function(Oe){return arguments.length?(be=k(Oe),Le):be},Le}function ee(fe,be){return fe.parent===be.parent?1:2}function oe(fe){var be=fe.children;return be?be[0]:fe.t}function le(fe){var be=fe.children;return be?be[be.length-1]:fe.t}function ue(fe,be,Le){var Oe=Le/(be.i-fe.i);be.c-=Oe,be.s+=Le,fe.c+=Oe,be.z+=Le,be.m+=Le}function de(fe,be,Le){return fe.a.parent===be.parent?fe.a:Le}function he(fe,be){this._=fe,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=be}function we(){var fe=ee,be=1,Le=1,Oe=null;function De(Ie){var Ee=function(ct){for(var St,Dt,Et,ht,pt,Pt=new he(ct,0),Ft=[Pt];St=Ft.pop();)if(Et=St._.children)for(St.children=new Array(pt=Et.length),ht=pt-1;ht>=0;--ht)Ft.push(Dt=St.children[ht]=new he(Et[ht],ht)),Dt.parent=St;return(Pt.parent=new he(null,0)).children=[Pt],Pt}(Ie);if(Ee.eachAfter(Ue),Ee.parent.m=-Ee.z,Ee.eachBefore(Ge),Oe)Ie.eachBefore(ye);else{var Be=Ie,We=Ie,He=Ie;Ie.eachBefore(function(ct){ct.x<Be.x&&(Be=ct),ct.x>We.x&&(We=ct),ct.depth>He.depth&&(He=ct)});var Je=Be===We?1:fe(Be,We)/2,et=Je-Be.x,at=be/(We.x+Je+et),mt=Le/(He.depth||1);Ie.eachBefore(function(ct){ct.x=(ct.x+et)*at,ct.y=ct.depth*mt})}return Ie}function Ue(Ie){var Ee=Ie.children,Be=Ie.parent.children,We=Ie.i?Be[Ie.i-1]:null;if(Ee){!function(Je){for(var et,at=0,mt=0,ct=Je.children,St=ct.length;--St>=0;)(et=ct[St]).z+=at,et.m+=at,at+=et.s+(mt+=et.c)}(Ie);var He=(Ee[0].z+Ee[Ee.length-1].z)/2;We?(Ie.z=We.z+fe(Ie._,We._),Ie.m=Ie.z-He):Ie.z=He}else We&&(Ie.z=We.z+fe(Ie._,We._));Ie.parent.A=function(Je,et,at){if(et){for(var mt,ct=Je,St=Je,Dt=et,Et=ct.parent.children[0],ht=ct.m,pt=St.m,Pt=Dt.m,Ft=Et.m;Dt=le(Dt),ct=oe(ct),Dt&&ct;)Et=oe(Et),(St=le(St)).a=Je,(mt=Dt.z+Pt-ct.z-ht+fe(Dt._,ct._))>0&&(ue(de(Dt,Je,at),Je,mt),ht+=mt,pt+=mt),Pt+=Dt.m,ht+=ct.m,Ft+=Et.m,pt+=St.m;Dt&&!le(St)&&(St.t=Dt,St.m+=Pt-pt),ct&&!oe(Et)&&(Et.t=ct,Et.m+=ht-Ft,at=Je)}return at}(Ie,We,Ie.parent.A||Be[0])}function Ge(Ie){Ie._.x=Ie.z+Ie.parent.m,Ie.m+=Ie.parent.m}function ye(Ie){Ie.x*=be,Ie.y=Ie.depth*Le}return De.separation=function(Ie){return arguments.length?(fe=Ie,De):fe},De.size=function(Ie){return arguments.length?(Oe=!1,be=+Ie[0],Le=+Ie[1],De):Oe?null:[be,Le]},De.nodeSize=function(Ie){return arguments.length?(Oe=!0,be=+Ie[0],Le=+Ie[1],De):Oe?[be,Le]:null},De}function Ae(fe,be,Le,Oe,De){for(var Ue,Ge=fe.children,ye=-1,Ie=Ge.length,Ee=fe.value&&(De-Le)/fe.value;++ye<Ie;)(Ue=Ge[ye]).x0=be,Ue.x1=Oe,Ue.y0=Le,Ue.y1=Le+=Ue.value*Ee}he.prototype=Object.create(a.prototype);var Te=(1+Math.sqrt(5))/2;function ve(fe,be,Le,Oe,De,Ue){for(var Ge,ye,Ie,Ee,Be,We,He,Je,et,at,mt,ct=[],St=be.children,Dt=0,Et=0,ht=St.length,pt=be.value;Dt<ht;){Ie=De-Le,Ee=Ue-Oe;do{Be=St[Et++].value}while(!Be&&Et<ht);for(We=He=Be,mt=Be*Be*(at=Math.max(Ee/Ie,Ie/Ee)/(pt*fe)),et=Math.max(He/mt,mt/We);Et<ht;++Et){if(Be+=ye=St[Et].value,ye<We&&(We=ye),ye>He&&(He=ye),mt=Be*Be*at,(Je=Math.max(He/mt,mt/We))>et){Be-=ye;break}et=Je}ct.push(Ge={value:Be,dice:Ie<Ee,children:St.slice(Dt,Et)}),Ge.dice?W(Ge,Le,Oe,De,pt?Oe+=Ee*Be/pt:Ue):Ae(Ge,Le,Oe,pt?Le+=Ie*Be/pt:De,Ue),pt-=Be,Dt=Et}return ct}var xe=function fe(be){function Le(Oe,De,Ue,Ge,ye){ve(be,Oe,De,Ue,Ge,ye)}return Le.ratio=function(Oe){return fe((Oe=+Oe)>1?Oe:1)},Le}(Te);function Fe(){var fe=xe,be=!1,Le=1,Oe=1,De=[0],Ue=I,Ge=I,ye=I,Ie=I,Ee=I;function Be(He){return He.x0=He.y0=0,He.x1=Le,He.y1=Oe,He.eachBefore(We),De=[0],be&&He.eachBefore(Z),He}function We(He){var Je=De[He.depth],et=He.x0+Je,at=He.y0+Je,mt=He.x1-Je,ct=He.y1-Je;mt<et&&(et=mt=(et+mt)/2),ct<at&&(at=ct=(at+ct)/2),He.x0=et,He.y0=at,He.x1=mt,He.y1=ct,He.children&&(Je=De[He.depth+1]=Ue(He)/2,et+=Ee(He)-Je,at+=Ge(He)-Je,(mt-=ye(He)-Je)<et&&(et=mt=(et+mt)/2),(ct-=Ie(He)-Je)<at&&(at=ct=(at+ct)/2),fe(He,et,at,mt,ct))}return Be.round=function(He){return arguments.length?(be=!!He,Be):be},Be.size=function(He){return arguments.length?(Le=+He[0],Oe=+He[1],Be):[Le,Oe]},Be.tile=function(He){return arguments.length?(fe=k(He),Be):fe},Be.padding=function(He){return arguments.length?Be.paddingInner(He).paddingOuter(He):Be.paddingInner()},Be.paddingInner=function(He){return arguments.length?(Ue="function"==typeof He?He:P(+He),Be):Ue},Be.paddingOuter=function(He){return arguments.length?Be.paddingTop(He).paddingRight(He).paddingBottom(He).paddingLeft(He):Be.paddingTop()},Be.paddingTop=function(He){return arguments.length?(Ge="function"==typeof He?He:P(+He),Be):Ge},Be.paddingRight=function(He){return arguments.length?(ye="function"==typeof He?He:P(+He),Be):ye},Be.paddingBottom=function(He){return arguments.length?(Ie="function"==typeof He?He:P(+He),Be):Ie},Be.paddingLeft=function(He){return arguments.length?(Ee="function"==typeof He?He:P(+He),Be):Ee},Be}function Se(fe,be,Le,Oe,De){var Ue,Ge,ye=fe.children,Ie=ye.length,Ee=new Array(Ie+1);for(Ee[0]=Ge=Ue=0;Ue<Ie;++Ue)Ee[Ue+1]=Ge+=ye[Ue].value;!function Be(We,He,Je,et,at,mt,ct){if(We>=He-1){var St=ye[We];return St.x0=et,St.y0=at,St.x1=mt,void(St.y1=ct)}for(var Dt=Ee[We],Et=Je/2+Dt,ht=We+1,pt=He-1;ht<pt;){var Pt=ht+pt>>>1;Ee[Pt]<Et?ht=Pt+1:pt=Pt}Et-Ee[ht-1]<Ee[ht]-Et&&We+1<ht&&--ht;var Ft=Ee[ht]-Dt,Ht=Je-Ft;if(mt-et>ct-at){var Lt=(et*Ht+mt*Ft)/Je;Be(We,ht,Ft,et,at,Lt,ct),Be(ht,He,Ht,Lt,at,mt,ct)}else{var tt=(at*Ht+ct*Ft)/Je;Be(We,ht,Ft,et,at,mt,tt),Be(ht,He,Ht,et,tt,mt,ct)}}(0,Ie,fe.value,be,Le,Oe,De)}function ke(fe,be,Le,Oe,De){(1&fe.depth?Ae:W)(fe,be,Le,Oe,De)}var pe=function fe(be){function Le(Oe,De,Ue,Ge,ye){if((Ie=Oe._squarify)&&Ie.ratio===be)for(var Ie,Ee,Be,We,He,Je=-1,et=Ie.length,at=Oe.value;++Je<et;){for(Be=(Ee=Ie[Je]).children,We=Ee.value=0,He=Be.length;We<He;++We)Ee.value+=Be[We].value;Ee.dice?W(Ee,De,Ue,Ge,Ue+=(ye-Ue)*Ee.value/at):Ae(Ee,De,Ue,De+=(Ge-De)*Ee.value/at,ye),at-=Ee.value}else Oe._squarify=Ie=ve(be,Oe,De,Ue,Ge,ye),Ie.ratio=be}return Le.ratio=function(Oe){return fe((Oe=+Oe)>1?Oe:1)},Le}(Te)},45879:function(ae,B,r){"use strict";r.d(B,{h5:function(){return m}});var D=Math.PI,E=2*D,f=1e-6,S=E-f;function M(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new M}M.prototype=v.prototype={constructor:M,moveTo:function(h,T){this._+="M"+(this._x0=this._x1=+h)+","+(this._y0=this._y1=+T)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(h,T){this._+="L"+(this._x1=+h)+","+(this._y1=+T)},quadraticCurveTo:function(h,T,_,g){this._+="Q"+ +h+","+ +T+","+(this._x1=+_)+","+(this._y1=+g)},bezierCurveTo:function(h,T,_,g,w,x){this._+="C"+ +h+","+ +T+","+ +_+","+ +g+","+(this._x1=+w)+","+(this._y1=+x)},arcTo:function(h,T,_,g,w){var x=this._x1,b=this._y1,A=(_=+_)-(h=+h),p=(g=+g)-(T=+T),O=x-h,k=b-T,I=O*O+k*k;if((w=+w)<0)throw new Error("negative radius: "+w);if(null===this._x1)this._+="M"+(this._x1=h)+","+(this._y1=T);else if(I>f)if(Math.abs(k*A-p*O)>f&&w){var P=_-x,R=g-b,N=A*A+p*p,j=P*P+R*R,X=Math.sqrt(N),F=Math.sqrt(I),Z=w*Math.tan((D-Math.acos((N+I-j)/(2*X*F)))/2),W=Z/F,H=Z/X;Math.abs(W-1)>f&&(this._+="L"+(h+W*O)+","+(T+W*k)),this._+="A"+w+","+w+",0,0,"+ +(k*P>O*R)+","+(this._x1=h+H*A)+","+(this._y1=T+H*p)}else this._+="L"+(this._x1=h)+","+(this._y1=T)},arc:function(h,T,_,g,w,x){h=+h,T=+T,x=!!x;var b=(_=+_)*Math.cos(g),A=_*Math.sin(g),p=h+b,O=T+A,k=1^x,I=x?g-w:w-g;if(_<0)throw new Error("negative radius: "+_);null===this._x1?this._+="M"+p+","+O:(Math.abs(this._x1-p)>f||Math.abs(this._y1-O)>f)&&(this._+="L"+p+","+O),_&&(I<0&&(I=I%E+E),I>S?this._+="A"+_+","+_+",0,1,"+k+","+(h-b)+","+(T-A)+"A"+_+","+_+",0,1,"+k+","+(this._x1=p)+","+(this._y1=O):I>f&&(this._+="A"+_+","+_+",0,"+ +(I>=D)+","+k+","+(this._x1=h+_*Math.cos(w))+","+(this._y1=T+_*Math.sin(w))))},rect:function(h,T,_,g){this._+="M"+(this._x0=this._x1=+h)+","+(this._y0=this._y1=+T)+"h"+ +_+"v"+ +g+"h"+-_+"Z"},toString:function(){return this._}};var c=v,i=Array.prototype.slice;function s(h){return function(){return h}}function a(h){return h[0]}function o(h){return h[1]}function l(h){return h.source}function u(h){return h.target}function d(h,T,_,g,w){h.moveTo(T,_),h.bezierCurveTo(T=(T+g)/2,_,T,w,g,w)}function m(){return function(h){var T=l,_=u,g=a,w=o,x=null;function b(){var A,p=i.call(arguments),O=T.apply(this,p),k=_.apply(this,p);if(x||(x=A=c()),h(x,+g.apply(this,(p[0]=O,p)),+w.apply(this,p),+g.apply(this,(p[0]=k,p)),+w.apply(this,p)),A)return x=null,A+""||null}return b.source=function(A){return arguments.length?(T=A,b):T},b.target=function(A){return arguments.length?(_=A,b):_},b.x=function(A){return arguments.length?(g="function"==typeof A?A:s(+A),b):g},b.y=function(A){return arguments.length?(w="function"==typeof A?A:s(+A),b):w},b.context=function(A){return arguments.length?(x=A??null,b):x},b}(d)}},84096:function(ae,B,r){"use strict";r.d(B,{i$:function(){return l},Dq:function(){return a},g0:function(){return u}});var D=r(58176),E=r(48480),f=r(59879),S=r(82301),M=r(34823),v=r(79791);function c(ht){if(0<=ht.y&&ht.y<100){var pt=new Date(-1,ht.m,ht.d,ht.H,ht.M,ht.S,ht.L);return pt.setFullYear(ht.y),pt}return new Date(ht.y,ht.m,ht.d,ht.H,ht.M,ht.S,ht.L)}function i(ht){if(0<=ht.y&&ht.y<100){var pt=new Date(Date.UTC(-1,ht.m,ht.d,ht.H,ht.M,ht.S,ht.L));return pt.setUTCFullYear(ht.y),pt}return new Date(Date.UTC(ht.y,ht.m,ht.d,ht.H,ht.M,ht.S,ht.L))}function s(ht,pt,Pt){return{y:ht,m:pt,d:Pt,H:0,M:0,S:0,L:0}}function a(ht){var pt=ht.dateTime,Pt=ht.date,Ft=ht.time,Ht=ht.periods,Lt=ht.days,tt=ht.shortDays,rt=ht.months,Ke=ht.shortMonths,it=w(Ht),gt=x(Ht),ft=w(Lt),Ve=x(Lt),qe=w(tt),dt=x(tt),ut=w(rt),At=x(rt),wt=w(Ke),kt=x(Ke),_t={a:function(qt){return tt[qt.getDay()]},A:function(qt){return Lt[qt.getDay()]},b:function(qt){return Ke[qt.getMonth()]},B:function(qt){return rt[qt.getMonth()]},c:null,d:Q,e:Q,f:de,H:ee,I:oe,j:le,L:ue,m:he,M:we,p:function(qt){return Ht[+(qt.getHours()>=12)]},q:function(qt){return 1+~~(qt.getMonth()/3)},Q:Dt,s:Et,S:Ae,u:Te,U:ve,V:xe,w:Fe,W:Se,x:null,X:null,y:ke,Y:pe,Z:fe,"%":St},Rt={a:function(qt){return tt[qt.getUTCDay()]},A:function(qt){return Lt[qt.getUTCDay()]},b:function(qt){return Ke[qt.getUTCMonth()]},B:function(qt){return rt[qt.getUTCMonth()]},c:null,d:be,e:be,f:Ge,H:Le,I:Oe,j:De,L:Ue,m:ye,M:Ie,p:function(qt){return Ht[+(qt.getUTCHours()>=12)]},q:function(qt){return 1+~~(qt.getUTCMonth()/3)},Q:Dt,s:Et,S:Ee,u:Be,U:We,V:He,w:Je,W:et,x:null,X:null,y:at,Y:mt,Z:ct,"%":St},bt={a:function(qt,Jt,pn){var en=qe.exec(Jt.slice(pn));return en?(qt.w=dt[en[0].toLowerCase()],pn+en[0].length):-1},A:function(qt,Jt,pn){var en=ft.exec(Jt.slice(pn));return en?(qt.w=Ve[en[0].toLowerCase()],pn+en[0].length):-1},b:function(qt,Jt,pn){var en=wt.exec(Jt.slice(pn));return en?(qt.m=kt[en[0].toLowerCase()],pn+en[0].length):-1},B:function(qt,Jt,pn){var en=ut.exec(Jt.slice(pn));return en?(qt.m=At[en[0].toLowerCase()],pn+en[0].length):-1},c:function(qt,Jt,pn){return Wt(qt,pt,Jt,pn)},d:X,e:X,f:Y,H:Z,I:Z,j:F,L:G,m:j,M:W,p:function(qt,Jt,pn){var en=it.exec(Jt.slice(pn));return en?(qt.p=gt[en[0].toLowerCase()],pn+en[0].length):-1},q:N,Q:te,s:re,S:H,u:A,U:p,V:O,w:b,W:k,x:function(qt,Jt,pn){return Wt(qt,Pt,Jt,pn)},X:function(qt,Jt,pn){return Wt(qt,Ft,Jt,pn)},y:P,Y:I,Z:R,"%":se};function Tt(qt,Jt){return function(pn){var en,nn,dn,In=[],Hn=-1,An=0,on=qt.length;for(pn instanceof Date||(pn=new Date(+pn));++Hn<on;)37===qt.charCodeAt(Hn)&&(In.push(qt.slice(An,Hn)),null!=(nn=d[en=qt.charAt(++Hn)])?en=qt.charAt(++Hn):nn="e"===en?" ":"0",(dn=Jt[en])&&(en=dn(pn,nn)),In.push(en),An=Hn+1);return In.push(qt.slice(An,Hn)),In.join("")}}function Ot(qt,Jt){return function(pn){var en,nn,dn=s(1900,void 0,1);if(Wt(dn,qt,pn+="",0)!=pn.length)return null;if("Q"in dn)return new Date(dn.Q);if("s"in dn)return new Date(1e3*dn.s+("L"in dn?dn.L:0));if(Jt&&!("Z"in dn)&&(dn.Z=0),"p"in dn&&(dn.H=dn.H%12+12*dn.p),void 0===dn.m&&(dn.m="q"in dn?dn.q:0),"V"in dn){if(dn.V<1||dn.V>53)return null;"w"in dn||(dn.w=1),"Z"in dn?(nn=(en=i(s(dn.y,0,1))).getUTCDay(),en=nn>4||0===nn?D.l6.ceil(en):(0,D.l6)(en),en=E.Z.offset(en,7*(dn.V-1)),dn.y=en.getUTCFullYear(),dn.m=en.getUTCMonth(),dn.d=en.getUTCDate()+(dn.w+6)%7):(nn=(en=c(s(dn.y,0,1))).getDay(),en=nn>4||0===nn?f.wA.ceil(en):(0,f.wA)(en),en=S.Z.offset(en,7*(dn.V-1)),dn.y=en.getFullYear(),dn.m=en.getMonth(),dn.d=en.getDate()+(dn.w+6)%7)}else("W"in dn||"U"in dn)&&("w"in dn||(dn.w="u"in dn?dn.u%7:"W"in dn?1:0),nn="Z"in dn?i(s(dn.y,0,1)).getUTCDay():c(s(dn.y,0,1)).getDay(),dn.m=0,dn.d="W"in dn?(dn.w+6)%7+7*dn.W-(nn+5)%7:dn.w+7*dn.U-(nn+6)%7);return"Z"in dn?(dn.H+=dn.Z/100|0,dn.M+=dn.Z%100,i(dn)):c(dn)}}function Wt(qt,Jt,pn,en){for(var nn,dn,In=0,Hn=Jt.length,An=pn.length;In<Hn;){if(en>=An)return-1;if(37===(nn=Jt.charCodeAt(In++))){if(nn=Jt.charAt(In++),!(dn=bt[nn in d?Jt.charAt(In++):nn])||(en=dn(qt,pn,en))<0)return-1}else if(nn!=pn.charCodeAt(en++))return-1}return en}return _t.x=Tt(Pt,_t),_t.X=Tt(Ft,_t),_t.c=Tt(pt,_t),Rt.x=Tt(Pt,Rt),Rt.X=Tt(Ft,Rt),Rt.c=Tt(pt,Rt),{format:function(qt){var Jt=Tt(qt+="",_t);return Jt.toString=function(){return qt},Jt},parse:function(qt){var Jt=Ot(qt+="",!1);return Jt.toString=function(){return qt},Jt},utcFormat:function(qt){var Jt=Tt(qt+="",Rt);return Jt.toString=function(){return qt},Jt},utcParse:function(qt){var Jt=Ot(qt+="",!0);return Jt.toString=function(){return qt},Jt}}}var o,l,u,d={"-":"",_:" ",0:"0"},m=/^\s*\d+/,h=/^%/,T=/[\\^$*+?|[\]().{}]/g;function _(ht,pt,Pt){var Ft=ht<0?"-":"",Ht=(Ft?-ht:ht)+"",Lt=Ht.length;return Ft+(Lt<Pt?new Array(Pt-Lt+1).join(pt)+Ht:Ht)}function g(ht){return ht.replace(T,"\\$&")}function w(ht){return new RegExp("^(?:"+ht.map(g).join("|")+")","i")}function x(ht){for(var pt={},Pt=-1,Ft=ht.length;++Pt<Ft;)pt[ht[Pt].toLowerCase()]=Pt;return pt}function b(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt,Pt+1));return Ft?(ht.w=+Ft[0],Pt+Ft[0].length):-1}function A(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt,Pt+1));return Ft?(ht.u=+Ft[0],Pt+Ft[0].length):-1}function p(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt,Pt+2));return Ft?(ht.U=+Ft[0],Pt+Ft[0].length):-1}function O(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt,Pt+2));return Ft?(ht.V=+Ft[0],Pt+Ft[0].length):-1}function k(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt,Pt+2));return Ft?(ht.W=+Ft[0],Pt+Ft[0].length):-1}function I(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt,Pt+4));return Ft?(ht.y=+Ft[0],Pt+Ft[0].length):-1}function P(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt,Pt+2));return Ft?(ht.y=+Ft[0]+(+Ft[0]>68?1900:2e3),Pt+Ft[0].length):-1}function R(ht,pt,Pt){var Ft=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(pt.slice(Pt,Pt+6));return Ft?(ht.Z=Ft[1]?0:-(Ft[2]+(Ft[3]||"00")),Pt+Ft[0].length):-1}function N(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt,Pt+1));return Ft?(ht.q=3*Ft[0]-3,Pt+Ft[0].length):-1}function j(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt,Pt+2));return Ft?(ht.m=Ft[0]-1,Pt+Ft[0].length):-1}function X(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt,Pt+2));return Ft?(ht.d=+Ft[0],Pt+Ft[0].length):-1}function F(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt,Pt+3));return Ft?(ht.m=0,ht.d=+Ft[0],Pt+Ft[0].length):-1}function Z(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt,Pt+2));return Ft?(ht.H=+Ft[0],Pt+Ft[0].length):-1}function W(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt,Pt+2));return Ft?(ht.M=+Ft[0],Pt+Ft[0].length):-1}function H(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt,Pt+2));return Ft?(ht.S=+Ft[0],Pt+Ft[0].length):-1}function G(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt,Pt+3));return Ft?(ht.L=+Ft[0],Pt+Ft[0].length):-1}function Y(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt,Pt+6));return Ft?(ht.L=Math.floor(Ft[0]/1e3),Pt+Ft[0].length):-1}function se(ht,pt,Pt){var Ft=h.exec(pt.slice(Pt,Pt+1));return Ft?Pt+Ft[0].length:-1}function te(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt));return Ft?(ht.Q=+Ft[0],Pt+Ft[0].length):-1}function re(ht,pt,Pt){var Ft=m.exec(pt.slice(Pt));return Ft?(ht.s=+Ft[0],Pt+Ft[0].length):-1}function Q(ht,pt){return _(ht.getDate(),pt,2)}function ee(ht,pt){return _(ht.getHours(),pt,2)}function oe(ht,pt){return _(ht.getHours()%12||12,pt,2)}function le(ht,pt){return _(1+S.Z.count((0,M.Z)(ht),ht),pt,3)}function ue(ht,pt){return _(ht.getMilliseconds(),pt,3)}function de(ht,pt){return ue(ht,pt)+"000"}function he(ht,pt){return _(ht.getMonth()+1,pt,2)}function we(ht,pt){return _(ht.getMinutes(),pt,2)}function Ae(ht,pt){return _(ht.getSeconds(),pt,2)}function Te(ht){var pt=ht.getDay();return 0===pt?7:pt}function ve(ht,pt){return _(f.OM.count((0,M.Z)(ht)-1,ht),pt,2)}function xe(ht,pt){var Pt=ht.getDay();return ht=Pt>=4||0===Pt?(0,f.bL)(ht):f.bL.ceil(ht),_(f.bL.count((0,M.Z)(ht),ht)+(4===(0,M.Z)(ht).getDay()),pt,2)}function Fe(ht){return ht.getDay()}function Se(ht,pt){return _(f.wA.count((0,M.Z)(ht)-1,ht),pt,2)}function ke(ht,pt){return _(ht.getFullYear()%100,pt,2)}function pe(ht,pt){return _(ht.getFullYear()%1e4,pt,4)}function fe(ht){var pt=ht.getTimezoneOffset();return(pt>0?"-":(pt*=-1,"+"))+_(pt/60|0,"0",2)+_(pt%60,"0",2)}function be(ht,pt){return _(ht.getUTCDate(),pt,2)}function Le(ht,pt){return _(ht.getUTCHours(),pt,2)}function Oe(ht,pt){return _(ht.getUTCHours()%12||12,pt,2)}function De(ht,pt){return _(1+E.Z.count((0,v.Z)(ht),ht),pt,3)}function Ue(ht,pt){return _(ht.getUTCMilliseconds(),pt,3)}function Ge(ht,pt){return Ue(ht,pt)+"000"}function ye(ht,pt){return _(ht.getUTCMonth()+1,pt,2)}function Ie(ht,pt){return _(ht.getUTCMinutes(),pt,2)}function Ee(ht,pt){return _(ht.getUTCSeconds(),pt,2)}function Be(ht){var pt=ht.getUTCDay();return 0===pt?7:pt}function We(ht,pt){return _(D.Ox.count((0,v.Z)(ht)-1,ht),pt,2)}function He(ht,pt){var Pt=ht.getUTCDay();return ht=Pt>=4||0===Pt?(0,D.hB)(ht):D.hB.ceil(ht),_(D.hB.count((0,v.Z)(ht),ht)+(4===(0,v.Z)(ht).getUTCDay()),pt,2)}function Je(ht){return ht.getUTCDay()}function et(ht,pt){return _(D.l6.count((0,v.Z)(ht)-1,ht),pt,2)}function at(ht,pt){return _(ht.getUTCFullYear()%100,pt,2)}function mt(ht,pt){return _(ht.getUTCFullYear()%1e4,pt,4)}function ct(){return"+0000"}function St(){return"%"}function Dt(ht){return+ht}function Et(ht){return Math.floor(+ht/1e3)}o=a({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),l=o.format,u=o.utcFormat},82301:function(ae,B,r){"use strict";r.d(B,{a:function(){return S}});var D=r(30052),E=r(54263),f=(0,D.Z)(function(M){M.setHours(0,0,0,0)},function(M,v){M.setDate(M.getDate()+v)},function(M,v){return(v-M-(v.getTimezoneOffset()-M.getTimezoneOffset())*E.yB)/E.UD},function(M){return M.getDate()-1});B.Z=f;var S=f.range},54263:function(ae,B,r){"use strict";r.d(B,{UD:function(){return S},Y2:function(){return f},Ym:function(){return D},iM:function(){return M},yB:function(){return E}});var D=1e3,E=6e4,f=36e5,S=864e5,M=6048e5},81041:function(ae,B,r){"use strict";r.r(B),r.d(B,{timeDay:function(){return m.Z},timeDays:function(){return m.a},timeFriday:function(){return h.mC},timeFridays:function(){return h.b$},timeHour:function(){return u},timeHours:function(){return d},timeInterval:function(){return D.Z},timeMillisecond:function(){return f},timeMilliseconds:function(){return S},timeMinute:function(){return a},timeMinutes:function(){return o},timeMonday:function(){return h.wA},timeMondays:function(){return h.bJ},timeMonth:function(){return _},timeMonths:function(){return g},timeSaturday:function(){return h.EY},timeSaturdays:function(){return h.Ff},timeSecond:function(){return c},timeSeconds:function(){return i},timeSunday:function(){return h.OM},timeSundays:function(){return h.vm},timeThursday:function(){return h.bL},timeThursdays:function(){return h.$t},timeTuesday:function(){return h.sy},timeTuesdays:function(){return h.aU},timeWednesday:function(){return h.zg},timeWednesdays:function(){return h.Ld},timeWeek:function(){return h.OM},timeWeeks:function(){return h.vm},timeYear:function(){return w.Z},timeYears:function(){return w.g},utcDay:function(){return I.Z},utcDays:function(){return I.y},utcFriday:function(){return P.QQ},utcFridays:function(){return P.fz},utcHour:function(){return O},utcHours:function(){return k},utcMillisecond:function(){return f},utcMilliseconds:function(){return S},utcMinute:function(){return b},utcMinutes:function(){return A},utcMonday:function(){return P.l6},utcMondays:function(){return P.$3},utcMonth:function(){return N},utcMonths:function(){return j},utcSaturday:function(){return P.g4},utcSaturdays:function(){return P.Q_},utcSecond:function(){return c},utcSeconds:function(){return i},utcSunday:function(){return P.Ox},utcSundays:function(){return P.SU},utcThursday:function(){return P.hB},utcThursdays:function(){return P.xj},utcTuesday:function(){return P.J1},utcTuesdays:function(){return P.DK},utcWednesday:function(){return P.b3},utcWednesdays:function(){return P.uy},utcWeek:function(){return P.Ox},utcWeeks:function(){return P.SU},utcYear:function(){return X.Z},utcYears:function(){return X.D}});var D=r(30052),E=(0,D.Z)(function(){},function(F,Z){F.setTime(+F+Z)},function(F,Z){return Z-F});E.every=function(F){return F=Math.floor(F),isFinite(F)&&F>0?F>1?(0,D.Z)(function(Z){Z.setTime(Math.floor(Z/F)*F)},function(Z,W){Z.setTime(+Z+W*F)},function(Z,W){return(W-Z)/F}):E:null};var f=E,S=E.range,M=r(54263),v=(0,D.Z)(function(F){F.setTime(F-F.getMilliseconds())},function(F,Z){F.setTime(+F+Z*M.Ym)},function(F,Z){return(Z-F)/M.Ym},function(F){return F.getUTCSeconds()}),c=v,i=v.range,s=(0,D.Z)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*M.Ym)},function(F,Z){F.setTime(+F+Z*M.yB)},function(F,Z){return(Z-F)/M.yB},function(F){return F.getMinutes()}),a=s,o=s.range,l=(0,D.Z)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*M.Ym-F.getMinutes()*M.yB)},function(F,Z){F.setTime(+F+Z*M.Y2)},function(F,Z){return(Z-F)/M.Y2},function(F){return F.getHours()}),u=l,d=l.range,m=r(82301),h=r(59879),T=(0,D.Z)(function(F){F.setDate(1),F.setHours(0,0,0,0)},function(F,Z){F.setMonth(F.getMonth()+Z)},function(F,Z){return Z.getMonth()-F.getMonth()+12*(Z.getFullYear()-F.getFullYear())},function(F){return F.getMonth()}),_=T,g=T.range,w=r(34823),x=(0,D.Z)(function(F){F.setUTCSeconds(0,0)},function(F,Z){F.setTime(+F+Z*M.yB)},function(F,Z){return(Z-F)/M.yB},function(F){return F.getUTCMinutes()}),b=x,A=x.range,p=(0,D.Z)(function(F){F.setUTCMinutes(0,0,0)},function(F,Z){F.setTime(+F+Z*M.Y2)},function(F,Z){return(Z-F)/M.Y2},function(F){return F.getUTCHours()}),O=p,k=p.range,I=r(48480),P=r(58176),R=(0,D.Z)(function(F){F.setUTCDate(1),F.setUTCHours(0,0,0,0)},function(F,Z){F.setUTCMonth(F.getUTCMonth()+Z)},function(F,Z){return Z.getUTCMonth()-F.getUTCMonth()+12*(Z.getUTCFullYear()-F.getUTCFullYear())},function(F){return F.getUTCMonth()}),N=R,j=R.range,X=r(79791)},30052:function(ae,B,r){"use strict";r.d(B,{Z:function(){return f}});var D=new Date,E=new Date;function f(S,M,v,c){function i(s){return S(s=0===arguments.length?new Date:new Date(+s)),s}return i.floor=function(s){return S(s=new Date(+s)),s},i.ceil=function(s){return S(s=new Date(s-1)),M(s,1),S(s),s},i.round=function(s){var a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=function(s,a){return M(s=new Date(+s),null==a?1:Math.floor(a)),s},i.range=function(s,a,o){var l,u=[];if(s=i.ceil(s),o=null==o?1:Math.floor(o),!(s<a&&o>0))return u;do{u.push(l=new Date(+s)),M(s,o),S(s)}while(l<s&&s<a);return u},i.filter=function(s){return f(function(a){if(a>=a)for(;S(a),!s(a);)a.setTime(a-1)},function(a,o){if(a>=a)if(o<0)for(;++o<=0;)for(;M(a,-1),!s(a););else for(;--o>=0;)for(;M(a,1),!s(a););})},v&&(i.count=function(s,a){return D.setTime(+s),E.setTime(+a),S(D),S(E),Math.floor(v(D,E))},i.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?i.filter(c?function(a){return c(a)%s==0}:function(a){return i.count(0,a)%s==0}):i:null}),i}},48480:function(ae,B,r){"use strict";r.d(B,{y:function(){return S}});var D=r(30052),E=r(54263),f=(0,D.Z)(function(M){M.setUTCHours(0,0,0,0)},function(M,v){M.setUTCDate(M.getUTCDate()+v)},function(M,v){return(v-M)/E.UD},function(M){return M.getUTCDate()-1});B.Z=f;var S=f.range},58176:function(ae,B,r){"use strict";r.d(B,{$3:function(){return l},DK:function(){return u},J1:function(){return v},Ox:function(){return S},QQ:function(){return s},Q_:function(){return T},SU:function(){return o},b3:function(){return c},fz:function(){return h},g4:function(){return a},hB:function(){return i},l6:function(){return M},uy:function(){return d},xj:function(){return m}});var D=r(30052),E=r(54263);function f(_){return(0,D.Z)(function(g){g.setUTCDate(g.getUTCDate()-(g.getUTCDay()+7-_)%7),g.setUTCHours(0,0,0,0)},function(g,w){g.setUTCDate(g.getUTCDate()+7*w)},function(g,w){return(w-g)/E.iM})}var S=f(0),M=f(1),v=f(2),c=f(3),i=f(4),s=f(5),a=f(6),o=S.range,l=M.range,u=v.range,d=c.range,m=i.range,h=s.range,T=a.range},79791:function(ae,B,r){"use strict";r.d(B,{D:function(){return f}});var D=r(30052),E=(0,D.Z)(function(S){S.setUTCMonth(0,1),S.setUTCHours(0,0,0,0)},function(S,M){S.setUTCFullYear(S.getUTCFullYear()+M)},function(S,M){return M.getUTCFullYear()-S.getUTCFullYear()},function(S){return S.getUTCFullYear()});E.every=function(S){return isFinite(S=Math.floor(S))&&S>0?(0,D.Z)(function(M){M.setUTCFullYear(Math.floor(M.getUTCFullYear()/S)*S),M.setUTCMonth(0,1),M.setUTCHours(0,0,0,0)},function(M,v){M.setUTCFullYear(M.getUTCFullYear()+v*S)}):null},B.Z=E;var f=E.range},59879:function(ae,B,r){"use strict";r.d(B,{$t:function(){return m},EY:function(){return a},Ff:function(){return T},Ld:function(){return d},OM:function(){return S},aU:function(){return u},b$:function(){return h},bJ:function(){return l},bL:function(){return i},mC:function(){return s},sy:function(){return v},vm:function(){return o},wA:function(){return M},zg:function(){return c}});var D=r(30052),E=r(54263);function f(_){return(0,D.Z)(function(g){g.setDate(g.getDate()-(g.getDay()+7-_)%7),g.setHours(0,0,0,0)},function(g,w){g.setDate(g.getDate()+7*w)},function(g,w){return(w-g-(w.getTimezoneOffset()-g.getTimezoneOffset())*E.yB)/E.iM})}var S=f(0),M=f(1),v=f(2),c=f(3),i=f(4),s=f(5),a=f(6),o=S.range,l=M.range,u=v.range,d=c.range,m=i.range,h=s.range,T=a.range},34823:function(ae,B,r){"use strict";r.d(B,{g:function(){return f}});var D=r(30052),E=(0,D.Z)(function(S){S.setMonth(0,1),S.setHours(0,0,0,0)},function(S,M){S.setFullYear(S.getFullYear()+M)},function(S,M){return M.getFullYear()-S.getFullYear()},function(S){return S.getFullYear()});E.every=function(S){return isFinite(S=Math.floor(S))&&S>0?(0,D.Z)(function(M){M.setFullYear(Math.floor(M.getFullYear()/S)*S),M.setMonth(0,1),M.setHours(0,0,0,0)},function(M,v){M.setFullYear(M.getFullYear()+v*S)}):null},B.Z=E;var f=E.range},17045:function(ae,B,r){"use strict";var D=r(8709),E="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),f=Object.prototype.toString,S=Array.prototype.concat,M=Object.defineProperty,v=r(55622)(),c=M&&v,i=function(a,o,l,u){if(o in a)if(!0===u){if(a[o]===l)return}else if("function"!=typeof(d=u)||"[object Function]"!==f.call(d)||!u())return;var d;c?M(a,o,{configurable:!0,enumerable:!1,value:l,writable:!0}):a[o]=l},s=function(a,o){var l=arguments.length>2?arguments[2]:{},u=D(o);E&&(u=S.call(u,Object.getOwnPropertySymbols(o)));for(var d=0;d<u.length;d+=1)i(a,u[d],o[u[d]],l[u[d]])};s.supportsDescriptors=!!c,ae.exports=s},46775:function(ae){ae.exports=function(){for(var B=0;B<arguments.length;B++)if(void 0!==arguments[B])return arguments[B]}},53545:function(ae){"use strict";ae.exports=D;var B=(D.canvas=document.createElement("canvas")).getContext("2d"),r=E([32,126]);function D(f,S){Array.isArray(f)&&(f=f.join(", "));var M,v={},c=16,i=.05;S&&(2===S.length&&"number"==typeof S[0]?M=E(S):Array.isArray(S)?M=S:(S.o?M=E(S.o):S.pairs&&(M=S.pairs),S.fontSize&&(c=S.fontSize),null!=S.threshold&&(i=S.threshold))),M||(M=r),B.font=c+"px "+f;for(var s=0;s<M.length;s++){var a=M[s],o=B.measureText(a[0]).width+B.measureText(a[1]).width,l=B.measureText(a).width;Math.abs(o-l)>c*i&&(v[a]=(l-o)/c*1e3)}return v}function E(f){for(var S=[],M=f[0];M<=f[1];M++)for(var v=String.fromCharCode(M),c=f[0];c<f[1];c++){var i=v+String.fromCharCode(c);S.push(i)}return S}D.createPairs=E,D.ascii=r},31457:function(ae,B,r){var D=r(65185),E=r(18625),f={M:"moveTo",C:"bezierCurveTo"};ae.exports=function(S,M){S.beginPath(),E(D(M)).forEach(function(v){var c=v[0],i=v.slice(1);S[f[c]].apply(S,i)}),S.closePath()}},90660:function(ae){ae.exports=function(B){switch(B){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(ae){"use strict";function B(r,D,E){var f=0|r[E];if(f<=0)return[];var S,M=new Array(f);if(E===r.length-1)for(S=0;S<f;++S)M[S]=D;else for(S=0;S<f;++S)M[S]=B(r,D,E+1);return M}ae.exports=function(r,D){switch(void 0===D&&(D=0),typeof r){case"number":if(r>0)return function(E,f){var S,M;for(S=new Array(E),M=0;M<E;++M)S[M]=f;return S}(0|r,D);break;case"object":if("number"==typeof r.length)return B(r,D,0)}return[]}},11474:function(ae){"use strict";function B(O,k,I){I=I||2;var P,R,N,j,X,F,Z,W=k&&k.length,H=W?k[0]*I:O.length,G=r(O,0,H,I,!0),Y=[];if(!G||G.next===G.prev)return Y;if(W&&(G=function(te,re,Q,ee){var oe,le,ue,de=[];for(oe=0,le=re.length;oe<le;oe++)(ue=r(te,re[oe]*ee,oe<le-1?re[oe+1]*ee:te.length,ee,!1))===ue.next&&(ue.steiner=!0),de.push(o(ue));for(de.sort(c),oe=0;oe<de.length;oe++)i(de[oe],Q),Q=D(Q,Q.next);return Q}(O,k,G,I)),O.length>80*I){P=N=O[0],R=j=O[1];for(var se=I;se<H;se+=I)(X=O[se])<P&&(P=X),(F=O[se+1])<R&&(R=F),X>N&&(N=X),F>j&&(j=F);Z=0!==(Z=Math.max(N-P,j-R))?1/Z:0}return E(G,Y,I,P,R,Z),Y}function r(O,k,I,P,R){var N,j;if(R===p(O,k,I,P)>0)for(N=k;N<I;N+=P)j=x(N,O[N],O[N+1],j);else for(N=I-P;N>=k;N-=P)j=x(N,O[N],O[N+1],j);return j&&m(j,j.next)&&(b(j),j=j.next),j}function D(O,k){if(!O)return O;k||(k=O);var I,P=O;do{if(I=!1,P.steiner||!m(P,P.next)&&0!==d(P.prev,P,P.next))P=P.next;else{if(b(P),(P=k=P.prev)===P.next)break;I=!0}}while(I||P!==k);return k}function E(O,k,I,P,R,N,j){if(O){!j&&N&&function(W,H,G,Y){var se=W;do{null===se.z&&(se.z=a(se.x,se.y,H,G,Y)),se.prevZ=se.prev,se.nextZ=se.next,se=se.next}while(se!==W);se.prevZ.nextZ=null,se.prevZ=null,function(te){var re,Q,ee,oe,le,ue,de,he,we=1;do{for(Q=te,te=null,le=null,ue=0;Q;){for(ue++,ee=Q,de=0,re=0;re<we&&(de++,ee=ee.nextZ);re++);for(he=we;de>0||he>0&&ee;)0!==de&&(0===he||!ee||Q.z<=ee.z)?(oe=Q,Q=Q.nextZ,de--):(oe=ee,ee=ee.nextZ,he--),le?le.nextZ=oe:te=oe,oe.prevZ=le,le=oe;Q=ee}le.nextZ=null,we*=2}while(ue>1)}(se)}(O,P,R,N);for(var X,F,Z=O;O.prev!==O.next;)if(X=O.prev,F=O.next,N?S(O,P,R,N):f(O))k.push(X.i/I),k.push(O.i/I),k.push(F.i/I),b(O),O=F.next,Z=F.next;else if((O=F)===Z){j?1===j?E(O=M(D(O),k,I),k,I,P,R,N,2):2===j&&v(O,k,I,P,R,N):E(D(O),k,I,P,R,N,1);break}}}function f(O){var k=O.prev,I=O,P=O.next;if(d(k,I,P)>=0)return!1;for(var R=O.next.next;R!==O.prev;){if(l(k.x,k.y,I.x,I.y,P.x,P.y,R.x,R.y)&&d(R.prev,R,R.next)>=0)return!1;R=R.next}return!0}function S(O,k,I,P){var R=O.prev,N=O,j=O.next;if(d(R,N,j)>=0)return!1;for(var Z=R.x>N.x?R.x>j.x?R.x:j.x:N.x>j.x?N.x:j.x,W=R.y>N.y?R.y>j.y?R.y:j.y:N.y>j.y?N.y:j.y,H=a(R.x<N.x?R.x<j.x?R.x:j.x:N.x<j.x?N.x:j.x,R.y<N.y?R.y<j.y?R.y:j.y:N.y<j.y?N.y:j.y,k,I,P),G=a(Z,W,k,I,P),Y=O.prevZ,se=O.nextZ;Y&&Y.z>=H&&se&&se.z<=G;){if(Y!==O.prev&&Y!==O.next&&l(R.x,R.y,N.x,N.y,j.x,j.y,Y.x,Y.y)&&d(Y.prev,Y,Y.next)>=0||(Y=Y.prevZ,se!==O.prev&&se!==O.next&&l(R.x,R.y,N.x,N.y,j.x,j.y,se.x,se.y)&&d(se.prev,se,se.next)>=0))return!1;se=se.nextZ}for(;Y&&Y.z>=H;){if(Y!==O.prev&&Y!==O.next&&l(R.x,R.y,N.x,N.y,j.x,j.y,Y.x,Y.y)&&d(Y.prev,Y,Y.next)>=0)return!1;Y=Y.prevZ}for(;se&&se.z<=G;){if(se!==O.prev&&se!==O.next&&l(R.x,R.y,N.x,N.y,j.x,j.y,se.x,se.y)&&d(se.prev,se,se.next)>=0)return!1;se=se.nextZ}return!0}function M(O,k,I){var P=O;do{var R=P.prev,N=P.next.next;!m(R,N)&&h(R,P,P.next,N)&&g(R,N)&&g(N,R)&&(k.push(R.i/I),k.push(P.i/I),k.push(N.i/I),b(P),b(P.next),P=O=N),P=P.next}while(P!==O);return D(P)}function v(O,k,I,P,R,N){var j=O;do{for(var X=j.next.next;X!==j.prev;){if(j.i!==X.i&&u(j,X)){var F=w(j,X);return j=D(j,j.next),F=D(F,F.next),E(j,k,I,P,R,N),void E(F,k,I,P,R,N)}X=X.next}j=j.next}while(j!==O)}function c(O,k){return O.x-k.x}function i(O,k){if(k=function(P,R){var N,j=R,X=P.x,F=P.y,Z=-1/0;do{if(F<=j.y&&F>=j.next.y&&j.next.y!==j.y){var W=j.x+(F-j.y)*(j.next.x-j.x)/(j.next.y-j.y);if(W<=X&&W>Z){if(Z=W,W===X){if(F===j.y)return j;if(F===j.next.y)return j.next}N=j.x<j.next.x?j:j.next}}j=j.next}while(j!==R);if(!N)return null;if(X===Z)return N;var H,G=N,Y=N.x,se=N.y,te=1/0;j=N;do{X>=j.x&&j.x>=Y&&X!==j.x&&l(F<se?X:Z,F,Y,se,F<se?Z:X,F,j.x,j.y)&&(H=Math.abs(F-j.y)/(X-j.x),g(j,P)&&(H<te||H===te&&(j.x>N.x||j.x===N.x&&s(N,j)))&&(N=j,te=H)),j=j.next}while(j!==G);return N}(O,k)){var I=w(k,O);D(k,k.next),D(I,I.next)}}function s(O,k){return d(O.prev,O,k.prev)<0&&d(k.next,O,O.next)<0}function a(O,k,I,P,R){return(O=1431655765&((O=858993459&((O=252645135&((O=16711935&((O=32767*(O-I)*R)|O<<8))|O<<4))|O<<2))|O<<1))|(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k=32767*(k-P)*R)|k<<8))|k<<4))|k<<2))|k<<1))<<1}function o(O){var k=O,I=O;do{(k.x<I.x||k.x===I.x&&k.y<I.y)&&(I=k),k=k.next}while(k!==O);return I}function l(O,k,I,P,R,N,j,X){return(R-j)*(k-X)-(O-j)*(N-X)>=0&&(O-j)*(P-X)-(I-j)*(k-X)>=0&&(I-j)*(N-X)-(R-j)*(P-X)>=0}function u(O,k){return O.next.i!==k.i&&O.prev.i!==k.i&&!function(I,P){var R=I;do{if(R.i!==I.i&&R.next.i!==I.i&&R.i!==P.i&&R.next.i!==P.i&&h(R,R.next,I,P))return!0;R=R.next}while(R!==I);return!1}(O,k)&&(g(O,k)&&g(k,O)&&function(I,P){var R=I,N=!1,j=(I.x+P.x)/2,X=(I.y+P.y)/2;do{R.y>X!=R.next.y>X&&R.next.y!==R.y&&j<(R.next.x-R.x)*(X-R.y)/(R.next.y-R.y)+R.x&&(N=!N),R=R.next}while(R!==I);return N}(O,k)&&(d(O.prev,O,k.prev)||d(O,k.prev,k))||m(O,k)&&d(O.prev,O,O.next)>0&&d(k.prev,k,k.next)>0)}function d(O,k,I){return(k.y-O.y)*(I.x-k.x)-(k.x-O.x)*(I.y-k.y)}function m(O,k){return O.x===k.x&&O.y===k.y}function h(O,k,I,P){var R=_(d(O,k,I)),N=_(d(O,k,P)),j=_(d(I,P,O)),X=_(d(I,P,k));return R!==N&&j!==X||!(0!==R||!T(O,I,k))||!(0!==N||!T(O,P,k))||!(0!==j||!T(I,O,P))||!(0!==X||!T(I,k,P))}function T(O,k,I){return k.x<=Math.max(O.x,I.x)&&k.x>=Math.min(O.x,I.x)&&k.y<=Math.max(O.y,I.y)&&k.y>=Math.min(O.y,I.y)}function _(O){return O>0?1:O<0?-1:0}function g(O,k){return d(O.prev,O,O.next)<0?d(O,k,O.next)>=0&&d(O,O.prev,k)>=0:d(O,k,O.prev)<0||d(O,O.next,k)<0}function w(O,k){var I=new A(O.i,O.x,O.y),P=new A(k.i,k.x,k.y),R=O.next,N=k.prev;return O.next=k,k.prev=O,I.next=R,R.prev=I,P.next=I,I.prev=P,N.next=P,P.prev=N,P}function x(O,k,I,P){var R=new A(O,k,I);return P?(R.next=P.next,R.prev=P,P.next.prev=R,P.next=R):(R.prev=R,R.next=R),R}function b(O){O.next.prev=O.prev,O.prev.next=O.next,O.prevZ&&(O.prevZ.nextZ=O.nextZ),O.nextZ&&(O.nextZ.prevZ=O.prevZ)}function A(O,k,I){this.i=O,this.x=k,this.y=I,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function p(O,k,I,P){for(var R=0,N=k,j=I-P;N<I;N+=P)R+=(O[j]-O[N])*(O[N+1]+O[j+1]),j=N;return R}ae.exports=B,ae.exports.default=B,B.deviation=function(O,k,I,P){var R=k&&k.length,j=Math.abs(p(O,0,R?k[0]*I:O.length,I));if(R)for(var X=0,F=k.length;X<F;X++)j-=Math.abs(p(O,k[X]*I,X<F-1?k[X+1]*I:O.length,I));var H=0;for(X=0;X<P.length;X+=3){var G=P[X]*I,Y=P[X+1]*I,se=P[X+2]*I;H+=Math.abs((O[G]-O[se])*(O[Y+1]-O[G+1])-(O[G]-O[Y])*(O[se+1]-O[G+1]))}return 0===j&&0===H?0:Math.abs((H-j)/j)},B.flatten=function(O){for(var k=O[0][0].length,I={vertices:[],holes:[],dimensions:k},P=0,R=0;R<O.length;R++){for(var N=0;N<O[R].length;N++)for(var j=0;j<k;j++)I.vertices.push(O[R][N][j]);R>0&&I.holes.push(P+=O[R-1].length)}return I}},2502:function(ae,B,r){var D=r(68664);ae.exports=function(E,f){var S,M=[],v=[],c=[],i={},s=[];function a(g){c[g]=!1,i.hasOwnProperty(g)&&Object.keys(i[g]).forEach(function(w){delete i[g][w],c[w]&&a(w)})}function o(g){var w,x,b=!1;for(v.push(g),c[g]=!0,w=0;w<s[g].length;w++)(x=s[g][w])===S?(l(S,v),b=!0):c[x]||(b=o(x));if(b)a(g);else for(w=0;w<s[g].length;w++){var A=i[x=s[g][w]];A||(i[x]=A={}),A[x]=!0}return v.pop(),b}function l(g,w){var x=[].concat(w).concat(g);f?f(o):M.push(x)}function u(g){!function(I){for(var P=0;P<E.length;P++)P<I&&(E[P]=[]),E[P]=E[P].filter(function(R){return R>=I})}(g);for(var w,x=D(E).components.filter(function(I){return I.length>1}),b=1/0,A=0;A<x.length;A++)for(var p=0;p<x[A].length;p++)x[A][p]<b&&(b=x[A][p],w=A);var O=x[w];return!!O&&{leastVertex:b,adjList:E.map(function(I,P){return-1===O.indexOf(P)?[]:I.filter(function(R){return-1!==O.indexOf(R)})})}}S=0;for(var d=E.length;S<d;){var m=u(S);if(S=m.leastVertex,s=m.adjList){for(var h=0;h<s.length;h++)for(var T=0;T<s[h].length;T++){var _=s[h][T];c[+_]=!1,i[_]={}}o(S),S+=1}else S=d}return f?void 0:M}},16134:function(ae,B,r){"use strict";var D=r(36672);ae.exports=function(){return D(this).length=0,this}},4892:function(ae,B,r){"use strict";ae.exports=r(64404)()?Array.from:r(49441)},64404:function(ae){"use strict";ae.exports=function(){var B,r,D=Array.from;return"function"==typeof D&&(r=D(B=["raz","dwa"]),Boolean(r&&r!==B&&"dwa"===r[1]))}},49441:function(ae,B,r){"use strict";var D=r(8260).iterator,E=r(73051),f=r(33717),S=r(35976),M=r(78513),v=r(36672),c=r(95296),i=r(87963),s=Array.isArray,a=Function.prototype.call,o={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.defineProperty;ae.exports=function(u){var d,m,h,T,_,g,w,x,b,A,p=arguments[1],O=arguments[2];if(u=Object(v(u)),c(p)&&M(p),this&&this!==Array&&f(this))d=this;else{if(!p){if(E(u))return 1!==(_=u.length)?Array.apply(null,u):((T=new Array(1))[0]=u[0],T);if(s(u)){for(T=new Array(_=u.length),m=0;m<_;++m)T[m]=u[m];return T}}T=[]}if(!s(u))if(void 0!==(b=u[D])){for(w=M(b).call(u),d&&(T=new d),x=w.next(),m=0;!x.done;)A=p?a.call(p,O,x.value,m):x.value,d?(o.value=A,l(T,m,o)):T[m]=A,x=w.next(),++m;_=m}else if(i(u)){for(_=u.length,d&&(T=new d),m=0,h=0;m<_;++m)A=u[m],m+1<_&&(g=A.charCodeAt(0))>=55296&&g<=56319&&(A+=u[++m]),A=p?a.call(p,O,A,h):A,d?(o.value=A,l(T,h,o)):T[h]=A,++h;_=h}if(void 0===_)for(_=S(u.length),d&&(T=new d(_)),m=0;m<_;++m)A=p?a.call(p,O,u[m],m):u[m],d?(o.value=A,l(T,m,o)):T[m]=A;return d&&(o.value=null,T.length=_),T}},73051:function(ae){"use strict";var B=Object.prototype.toString,r=B.call(function(){return arguments}());ae.exports=function(D){return B.call(D)===r}},33717:function(ae){"use strict";var B=Object.prototype.toString,r=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);ae.exports=function(D){return"function"==typeof D&&r(B.call(D))}},52345:function(ae){"use strict";ae.exports=function(){}},9953:function(ae,B,r){"use strict";ae.exports=r(90436)()?Math.sign:r(6069)},90436:function(ae){"use strict";ae.exports=function(){var B=Math.sign;return"function"==typeof B&&1===B(10)&&-1===B(-20)}},6069:function(ae){"use strict";ae.exports=function(B){return B=Number(B),isNaN(B)||0===B?B:B>0?1:-1}},56247:function(ae,B,r){"use strict";var D=r(9953),E=Math.abs,f=Math.floor;ae.exports=function(S){return isNaN(S)?0:0!==(S=Number(S))&&isFinite(S)?D(S)*f(E(S)):S}},35976:function(ae,B,r){"use strict";var D=r(56247),E=Math.max;ae.exports=function(f){return E(0,D(f))}},67260:function(ae,B,r){"use strict";var D=r(78513),E=r(36672),f=Function.prototype.bind,S=Function.prototype.call,M=Object.keys,v=Object.prototype.propertyIsEnumerable;ae.exports=function(c,i){return function(s,a){var o,l=arguments[2],u=arguments[3];return s=Object(E(s)),D(a),o=M(s),u&&o.sort("function"==typeof u?f.call(u,s):void 0),"function"!=typeof c&&(c=o[c]),S.call(c,o,function(d,m){return v.call(s,d)?S.call(a,l,s[d],d,s,m):i})}}},95879:function(ae,B,r){"use strict";ae.exports=r(73583)()?Object.assign:r(34205)},73583:function(ae){"use strict";ae.exports=function(){var B,r=Object.assign;return"function"==typeof r&&(r(B={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),B.foo+B.bar+B.trzy==="razdwatrzy")}},34205:function(ae,B,r){"use strict";var D=r(68700),E=r(36672),f=Math.max;ae.exports=function(S,M){var v,c,i,s=f(arguments.length,2);for(S=Object(E(S)),i=function(a){try{S[a]=M[a]}catch(o){v||(v=o)}},c=1;c<s;++c)D(M=arguments[c]).forEach(i);if(void 0!==v)throw v;return S}},19012:function(ae,B,r){"use strict";var D=r(4892),E=r(95879),f=r(36672);ae.exports=function(S){var M=Object(f(S)),v=arguments[1],c=Object(arguments[2]);if(M!==S&&!v)return M;var i={};return v?D(v,function(s){(c.ensure||s in S)&&(i[s]=S[s])}):E(i,S),i}},52818:function(ae,B,r){"use strict";var D,E,f,S,M=Object.create;r(33247)()||(D=r(51882)),ae.exports=D?1!==D.level?M:(E={},f={},S={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){f[v]="__proto__"!==v?S:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(E,f),Object.defineProperty(D,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:E}),function(v,c){return M(null===v?E:v,c)}):M},96437:function(ae,B,r){"use strict";ae.exports=r(67260)("forEach")},99611:function(ae,B,r){"use strict";var D=r(95296),E={function:!0,object:!0};ae.exports=function(f){return D(f)&&E[typeof f]||!1}},95296:function(ae,B,r){"use strict";var D=r(52345)();ae.exports=function(E){return E!==D&&null!==E}},68700:function(ae,B,r){"use strict";ae.exports=r(13895)()?Object.keys:r(25217)},13895:function(ae){"use strict";ae.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(ae,B,r){"use strict";var D=r(95296),E=Object.keys;ae.exports=function(f){return E(D(f)?Object(f):f)}},16906:function(ae,B,r){"use strict";var D=r(78513),E=r(96437),f=Function.prototype.call;ae.exports=function(S,M){var v={},c=arguments[2];return D(M),E(S,function(i,s,a,o){v[s]=f.call(M,c,i,s,a,o)}),v}},21780:function(ae,B,r){"use strict";var D=r(95296),E=Array.prototype.forEach,f=Object.create;ae.exports=function(S){var M=f(null);return E.call(arguments,function(v){D(v)&&function(c,i){var s;for(s in c)i[s]=c[s]}(Object(v),M)}),M}},1496:function(ae,B,r){"use strict";ae.exports=r(33247)()?Object.setPrototypeOf:r(51882)},33247:function(ae){"use strict";var B=Object.create,r=Object.getPrototypeOf,D={};ae.exports=function(){var E=Object.setPrototypeOf;return"function"==typeof E&&r(E((arguments[0]||B)(null),D))===D}},51882:function(ae,B,r){"use strict";var D,E,f,S,M=r(99611),v=r(36672),c=Object.prototype.isPrototypeOf,i=Object.defineProperty,s={configurable:!0,enumerable:!1,writable:!0,value:void 0};D=function(a,o){if(v(a),null===o||M(o))return a;throw new TypeError("Prototype must be null or an object")},ae.exports=(E=function(){var a,o=Object.create(null),l={},u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(u){try{(a=u.set).call(o,l)}catch{}if(Object.getPrototypeOf(o)===l)return{set:a,level:2}}return o.__proto__=l,Object.getPrototypeOf(o)===l?{level:2}:((o={}).__proto__=l,Object.getPrototypeOf(o)===l&&{level:1})}())?(2===E.level?E.set?(S=E.set,f=function(a,o){return S.call(D(a,o),o),a}):f=function(a,o){return D(a,o).__proto__=o,a}:f=function a(o,l){var u;return D(o,l),(u=c.call(a.nullPolyfill,o))&&delete a.nullPolyfill.__proto__,null===l&&(l=a.nullPolyfill),o.__proto__=l,u&&i(a.nullPolyfill,"__proto__",s),o},Object.defineProperty(f,"level",{configurable:!1,enumerable:!1,writable:!1,value:E.level})):null,r(52818)},78513:function(ae){"use strict";ae.exports=function(B){if("function"!=typeof B)throw new TypeError(B+" is not a function");return B}},98976:function(ae,B,r){"use strict";var D=r(99611);ae.exports=function(E){if(!D(E))throw new TypeError(E+" is not an Object");return E}},36672:function(ae,B,r){"use strict";var D=r(95296);ae.exports=function(E){if(!D(E))throw new TypeError("Cannot use null or undefined");return E}},66741:function(ae,B,r){"use strict";ae.exports=r(17557)()?String.prototype.contains:r(60381)},17557:function(ae){"use strict";var B="razdwatrzy";ae.exports=function(){return"function"==typeof B.contains&&!0===B.contains("dwa")&&!1===B.contains("foo")}},60381:function(ae){"use strict";var B=String.prototype.indexOf;ae.exports=function(r){return B.call(this,r,arguments[1])>-1}},87963:function(ae){"use strict";var B=Object.prototype.toString,r=B.call("");ae.exports=function(D){return"string"==typeof D||D&&"object"==typeof D&&(D instanceof String||B.call(D)===r)||!1}},43043:function(ae){"use strict";var B=Object.create(null),r=Math.random;ae.exports=function(){var D;do{D=r().toString(36).slice(2)}while(B[D]);return D}},32411:function(ae,B,r){"use strict";var D,E=r(1496),f=r(66741),S=r(62072),M=r(8260),v=r(95426),c=Object.defineProperty;D=ae.exports=function(i,s){if(!(this instanceof D))throw new TypeError("Constructor requires 'new'");v.call(this,i),s=s?f.call(s,"key+value")?"key+value":f.call(s,"key")?"key":"value":"value",c(this,"__kind__",S("",s))},E&&E(D,v),delete D.prototype.constructor,D.prototype=Object.create(v.prototype,{_resolve:S(function(i){return"value"===this.__kind__?this.__list__[i]:"key+value"===this.__kind__?[i,this.__list__[i]]:i})}),c(D.prototype,M.toStringTag,S("c","Array Iterator"))},27515:function(ae,B,r){"use strict";var D=r(73051),E=r(78513),f=r(87963),S=r(66661),M=Array.isArray,v=Function.prototype.call,c=Array.prototype.some;ae.exports=function(i,s){var a,o,l,u,d,m,h,T,_=arguments[2];if(M(i)||D(i)?a="array":f(i)?a="string":i=S(i),E(s),l=function(){u=!0},"array"!==a)if("string"!==a)for(o=i.next();!o.done;){if(v.call(s,_,o.value,l),u)return;o=i.next()}else for(m=i.length,d=0;d<m&&(h=i[d],d+1<m&&(T=h.charCodeAt(0))>=55296&&T<=56319&&(h+=i[++d]),v.call(s,_,h,l),!u);++d);else c.call(i,function(g){return v.call(s,_,g,l),u})}},66661:function(ae,B,r){"use strict";var D=r(73051),E=r(87963),f=r(32411),S=r(259),M=r(58095),v=r(8260).iterator;ae.exports=function(c){return"function"==typeof M(c)[v]?c[v]():D(c)?new f(c):E(c)?new S(c):new f(c)}},95426:function(ae,B,r){"use strict";var D,E=r(16134),f=r(95879),S=r(78513),M=r(36672),v=r(62072),c=r(55174),i=r(8260),s=Object.defineProperty,a=Object.defineProperties;ae.exports=D=function(o,l){if(!(this instanceof D))throw new TypeError("Constructor requires 'new'");a(this,{__list__:v("w",M(o)),__context__:v("w",l),__nextIndex__:v("w",0)}),l&&(S(l.on),l.on("_add",this._onAdd),l.on("_delete",this._onDelete),l.on("_clear",this._onClear))},delete D.prototype.constructor,a(D.prototype,f({_next:v(function(){var o;if(this.__list__)return this.__redo__&&void 0!==(o=this.__redo__.shift())?o:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:v(function(){return this._createResult(this._next())}),_createResult:v(function(o){return void 0===o?{done:!0,value:void 0}:{done:!1,value:this._resolve(o)}}),_resolve:v(function(o){return this.__list__[o]}),_unBind:v(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:v(function(){return"[object "+(this[i.toStringTag]||"Object")+"]"})},c({_onAdd:v(function(o){o>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(l,u){l>=o&&(this.__redo__[u]=++l)},this),this.__redo__.push(o)):s(this,"__redo__",v("c",[o])))}),_onDelete:v(function(o){var l;o>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(l=this.__redo__.indexOf(o))&&this.__redo__.splice(l,1),this.__redo__.forEach(function(u,d){u>o&&(this.__redo__[d]=--u)},this)))}),_onClear:v(function(){this.__redo__&&E.call(this.__redo__),this.__nextIndex__=0})}))),s(D.prototype,i.iterator,v(function(){return this}))},35940:function(ae,B,r){"use strict";var D=r(73051),E=r(95296),f=r(87963),S=r(8260).iterator,M=Array.isArray;ae.exports=function(v){return!(!E(v)||!M(v)&&!f(v)&&!D(v)&&"function"!=typeof v[S])}},259:function(ae,B,r){"use strict";var D,E=r(1496),f=r(62072),S=r(8260),M=r(95426),v=Object.defineProperty;D=ae.exports=function(c){if(!(this instanceof D))throw new TypeError("Constructor requires 'new'");c=String(c),M.call(this,c),v(this,"__length__",f("",c.length))},E&&E(D,M),delete D.prototype.constructor,D.prototype=Object.create(M.prototype,{_next:f(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:f(function(c){var i,s=this.__list__[c];return this.__nextIndex__===this.__length__?s:(i=s.charCodeAt(0))>=55296&&i<=56319?s+this.__list__[this.__nextIndex__++]:s})}),v(D.prototype,S.toStringTag,f("c","String Iterator"))},58095:function(ae,B,r){"use strict";var D=r(35940);ae.exports=function(E){if(!D(E))throw new TypeError(E+" is not iterable");return E}},73523:function(ae){"use strict";function B(r,D){if(null==r)throw new TypeError("Cannot convert first argument to object");for(var E=Object(r),f=1;f<arguments.length;f++){var S=arguments[f];if(null!=S)for(var M=Object.keys(Object(S)),v=0,c=M.length;v<c;v++){var i=M[v],s=Object.getOwnPropertyDescriptor(S,i);void 0!==s&&s.enumerable&&(E[i]=S[i])}}return E}ae.exports={assign:B,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:B})}}},8260:function(ae,B,r){"use strict";ae.exports=r(69711)()?r(94908).Symbol:r(18415)},69711:function(ae,B,r){"use strict";var D=r(94908),E={object:!0,symbol:!0};ae.exports=function(){var f,S=D.Symbol;if("function"!=typeof S)return!1;f=S("test symbol");try{String(f)}catch{return!1}return!!E[typeof S.iterator]&&!!E[typeof S.toPrimitive]&&!!E[typeof S.toStringTag]}},82276:function(ae){"use strict";ae.exports=function(B){return!!B&&("symbol"==typeof B||!!B.constructor&&"Symbol"===B.constructor.name&&"Symbol"===B[B.constructor.toStringTag])}},29366:function(ae,B,r){"use strict";var D=r(62072),f=Object.defineProperty,S=Object.prototype,M=(0,Object.create)(null);ae.exports=function(v){for(var c,i,s=0;M[v+(s||"")];)++s;return M[v+=s||""]=!0,f(S,c="@@"+v,D.gs(null,function(a){i||(i=!0,f(this,c,D(a)),i=!1)})),c}},92842:function(ae,B,r){"use strict";var D=r(62072),E=r(94908).Symbol;ae.exports=function(f){return Object.defineProperties(f,{hasInstance:D("",E&&E.hasInstance||f("hasInstance")),isConcatSpreadable:D("",E&&E.isConcatSpreadable||f("isConcatSpreadable")),iterator:D("",E&&E.iterator||f("iterator")),match:D("",E&&E.match||f("match")),replace:D("",E&&E.replace||f("replace")),search:D("",E&&E.search||f("search")),species:D("",E&&E.species||f("species")),split:D("",E&&E.split||f("split")),toPrimitive:D("",E&&E.toPrimitive||f("toPrimitive")),toStringTag:D("",E&&E.toStringTag||f("toStringTag")),unscopables:D("",E&&E.unscopables||f("unscopables"))})}},13304:function(ae,B,r){"use strict";var D=r(62072),E=r(53308),f=Object.create(null);ae.exports=function(S){return Object.defineProperties(S,{for:D(function(M){return f[M]?f[M]:f[M]=S(String(M))}),keyFor:D(function(M){var v;for(v in E(M),f)if(f[v]===M)return v})})}},18415:function(ae,B,r){"use strict";var D,E,f,S=r(62072),M=r(53308),v=r(94908).Symbol,c=r(29366),i=r(92842),s=r(13304),a=Object.create,o=Object.defineProperties,l=Object.defineProperty;if("function"==typeof v)try{String(v()),f=!0}catch{}else v=null;E=function(u){if(this instanceof E)throw new TypeError("Symbol is not a constructor");return D(u)},ae.exports=D=function u(d){var m;if(this instanceof u)throw new TypeError("Symbol is not a constructor");return f?v(d):(m=a(E.prototype),d=void 0===d?"":String(d),o(m,{__description__:S("",d),__name__:S("",c(d))}))},i(D),s(D),o(E.prototype,{constructor:S(D),toString:S("",function(){return this.__name__})}),o(D.prototype,{toString:S(function(){return"Symbol ("+M(this).__description__+")"}),valueOf:S(function(){return M(this)})}),l(D.prototype,D.toPrimitive,S("",function(){var u=M(this);return"symbol"==typeof u?u:u.toString()})),l(D.prototype,D.toStringTag,S("c","Symbol")),l(E.prototype,D.toStringTag,S("c",D.prototype[D.toStringTag])),l(E.prototype,D.toPrimitive,S("c",D.prototype[D.toPrimitive]))},53308:function(ae,B,r){"use strict";var D=r(82276);ae.exports=function(E){if(!D(E))throw new TypeError(E+" is not a symbol");return E}},83522:function(ae,B,r){"use strict";ae.exports=r(96402)()?WeakMap:r(329)},96402:function(ae){"use strict";ae.exports=function(){var B,r;if("function"!=typeof WeakMap)return!1;try{B=new WeakMap([[r={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return"[object WeakMap]"===String(B)&&"function"==typeof B.set&&B.set({},1)===B&&"function"==typeof B.delete&&"function"==typeof B.has&&"one"===B.get(r)}},96416:function(ae){"use strict";ae.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},329:function(ae,B,r){"use strict";var D,E=r(95296),f=r(1496),S=r(98976),M=r(36672),v=r(43043),c=r(62072),i=r(66661),s=r(27515),a=r(8260).toStringTag,o=r(96416),l=Array.isArray,u=Object.defineProperty,d=Object.prototype.hasOwnProperty,m=Object.getPrototypeOf;ae.exports=D=function(){var h,T=arguments[0];if(!(this instanceof D))throw new TypeError("Constructor requires 'new'");return h=o&&f&&WeakMap!==D?f(new WeakMap,m(this)):this,E(T)&&(l(T)||(T=i(T))),u(h,"__weakMapData__",c("c","$weakMap$"+v())),T&&s(T,function(_){M(_),h.set(_[0],_[1])}),h},o&&(f&&f(D,WeakMap),D.prototype=Object.create(WeakMap.prototype,{constructor:c(D)})),Object.defineProperties(D.prototype,{delete:c(function(h){return!!d.call(S(h),this.__weakMapData__)&&(delete h[this.__weakMapData__],!0)}),get:c(function(h){if(d.call(S(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:c(function(h){return d.call(S(h),this.__weakMapData__)}),set:c(function(h,T){return u(S(h),this.__weakMapData__,c("c",T)),this}),toString:c(function(){return"[object WeakMap]"})}),u(D.prototype,a,c("c","WeakMap"))},15398:function(ae){"use strict";var B,r="object"==typeof Reflect?Reflect:null,D=r&&"function"==typeof r.apply?r.apply:function(d,m,h){return Function.prototype.apply.call(d,m,h)};B=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:function(d){return Object.getOwnPropertyNames(d)};var E=Number.isNaN||function(d){return d!=d};function f(){f.init.call(this)}ae.exports=f,ae.exports.once=function(d,m){return new Promise(function(h,T){function _(w){d.removeListener(m,g),T(w)}function g(){"function"==typeof d.removeListener&&d.removeListener("error",_),h([].slice.call(arguments))}var w;u(d,m,g,{once:!0}),"error"!==m&&("function"==typeof(w=d).on&&u(w,"error",_,{once:!0}))})},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var S=10;function M(d){if("function"!=typeof d)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d)}function v(d){return void 0===d._maxListeners?f.defaultMaxListeners:d._maxListeners}function c(d,m,h,T){var _,g,w;if(M(h),void 0===(g=d._events)?(g=d._events=Object.create(null),d._eventsCount=0):(void 0!==g.newListener&&(d.emit("newListener",m,h.listener?h.listener:h),g=d._events),w=g[m]),void 0===w)w=g[m]=h,++d._eventsCount;else if("function"==typeof w?w=g[m]=T?[h,w]:[w,h]:T?w.unshift(h):w.push(h),(_=v(d))>0&&w.length>_&&!w.warned){w.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+w.length+" "+String(m)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=d,b.type=m,b.count=w.length,console&&console.warn&&console.warn(b)}return d}function i(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(d,m,h){var T={fired:!1,wrapFn:void 0,target:d,type:m,listener:h},_=i.bind(T);return _.listener=h,T.wrapFn=_,_}function a(d,m,h){var T=d._events;if(void 0===T)return[];var _=T[m];return void 0===_?[]:"function"==typeof _?h?[_.listener||_]:[_]:h?function(g){for(var w=new Array(g.length),x=0;x<w.length;++x)w[x]=g[x].listener||g[x];return w}(_):l(_,_.length)}function o(d){var m=this._events;if(void 0!==m){var h=m[d];if("function"==typeof h)return 1;if(void 0!==h)return h.length}return 0}function l(d,m){for(var h=new Array(m),T=0;T<m;++T)h[T]=d[T];return h}function u(d,m,h,T){if("function"==typeof d.on)T.once?d.once(m,h):d.on(m,h);else{if("function"!=typeof d.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof d);d.addEventListener(m,function _(g){T.once&&d.removeEventListener(m,_),h(g)})}}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(d){if("number"!=typeof d||d<0||E(d))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+d+".");S=d}}),f.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(d){if("number"!=typeof d||d<0||E(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this},f.prototype.getMaxListeners=function(){return v(this)},f.prototype.emit=function(d){for(var m=[],h=1;h<arguments.length;h++)m.push(arguments[h]);var T="error"===d,_=this._events;if(void 0!==_)T=T&&void 0===_.error;else if(!T)return!1;if(T){var g;if(m.length>0&&(g=m[0]),g instanceof Error)throw g;var w=new Error("Unhandled error."+(g?" ("+g.message+")":""));throw w.context=g,w}var x=_[d];if(void 0===x)return!1;if("function"==typeof x)D(x,this,m);else{var b=x.length,A=l(x,b);for(h=0;h<b;++h)D(A[h],this,m)}return!0},f.prototype.on=f.prototype.addListener=function(d,m){return c(this,d,m,!1)},f.prototype.prependListener=function(d,m){return c(this,d,m,!0)},f.prototype.once=function(d,m){return M(m),this.on(d,s(this,d,m)),this},f.prototype.prependOnceListener=function(d,m){return M(m),this.prependListener(d,s(this,d,m)),this},f.prototype.off=f.prototype.removeListener=function(d,m){var h,T,_,g,w;if(M(m),void 0===(T=this._events))return this;if(void 0===(h=T[d]))return this;if(h===m||h.listener===m)0==--this._eventsCount?this._events=Object.create(null):(delete T[d],T.removeListener&&this.emit("removeListener",d,h.listener||m));else if("function"!=typeof h){for(_=-1,g=h.length-1;g>=0;g--)if(h[g]===m||h[g].listener===m){w=h[g].listener,_=g;break}if(_<0)return this;0===_?h.shift():function(x,b){for(;b+1<x.length;b++)x[b]=x[b+1];x.pop()}(h,_),1===h.length&&(T[d]=h[0]),void 0!==T.removeListener&&this.emit("removeListener",d,w||m)}return this},f.prototype.removeAllListeners=function(d){var m,h,T;if(void 0===(h=this._events))return this;if(void 0===h.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==h[d]&&(0==--this._eventsCount?this._events=Object.create(null):delete h[d]),this;if(0===arguments.length){var _,g=Object.keys(h);for(T=0;T<g.length;++T)"removeListener"!==(_=g[T])&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(m=h[d]))this.removeListener(d,m);else if(void 0!==m)for(T=m.length-1;T>=0;T--)this.removeListener(d,m[T]);return this},f.prototype.listeners=function(d){return a(this,d,!0)},f.prototype.rawListeners=function(d){return a(this,d,!1)},f.listenerCount=function(d,m){return"function"==typeof d.listenerCount?d.listenerCount(m):o.call(d,m)},f.prototype.listenerCount=o,f.prototype.eventNames=function(){return this._eventsCount>0?B(this._events):[]}},60774:function(ae){var B=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};ae.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return B()}try{return __global__||B()}finally{delete Object.prototype.__global__}}()},94908:function(ae,B,r){"use strict";ae.exports=r(51152)()?globalThis:r(60774)},51152:function(ae){"use strict";ae.exports=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}},92770:function(ae,B,r){"use strict";var D=r(18546);ae.exports=function(E){var f=typeof E;if("string"===f){var S=E;if(0==(E=+E)&&D(S))return!1}else if("number"!==f)return!1;return E-E<1}},30120:function(ae,B,r){var D=r(90660);ae.exports=function(E,f,S){if(!E)throw new TypeError("must specify data as first parameter");if(S=0|+(S||0),Array.isArray(E)&&E[0]&&"number"==typeof E[0][0]){var M,v,c,i,s=E[0].length,a=E.length*s;f&&"string"!=typeof f||(f=new(D(f||"float32"))(a+S));var o=f.length-S;if(a!==o)throw new Error("source length "+a+" ("+s+"x"+E.length+") does not match destination length "+o);for(M=0,c=S;M<E.length;M++)for(v=0;v<s;v++)f[c++]=null===E[M][v]?NaN:E[M][v]}else if(f&&"string"!=typeof f)f.set(E,S);else{var l=D(f||"float32");if(Array.isArray(E)||"array"===f)for(M=0,c=S,i=(f=new l(E.length+S)).length;c<i;c++,M++)f[c]=null===E[M]?NaN:E[M];else 0===S?f=new l(E):(f=new l(E.length+S)).set(E,S)}return f}},68016:function(ae,B,r){"use strict";var D=r(53313),E=[32,126];ae.exports=function(f){var S=(f=f||{}).shape?f.shape:f.canvas?[f.canvas.width,f.canvas.height]:[512,512],M=f.canvas||document.createElement("canvas"),v=f.font,c="number"==typeof f.step?[f.step,f.step]:f.step||[32,32],i=f.chars||E;if(v&&"string"!=typeof v&&(v=D(v)),Array.isArray(i)){if(2===i.length&&"number"==typeof i[0]&&"number"==typeof i[1]){for(var s=[],a=i[0],o=0;a<=i[1];a++)s[o++]=String.fromCharCode(a);i=s}}else i=String(i).split("");S=S.slice(),M.width=S[0],M.height=S[1];var l=M.getContext("2d");l.fillStyle="#000",l.fillRect(0,0,M.width,M.height),l.font=v,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";var u=c[0]/2,d=c[1]/2;for(a=0;a<i.length;a++)l.fillText(i[a],u,d),(u+=c[0])>S[0]-c[0]/2&&(u=c[0]/2,d+=c[1]);return M}},32879:function(ae){"use strict";function B(f,S){S||(S={}),("string"==typeof f||Array.isArray(f))&&(S.family=f);var M=Array.isArray(S.family)?S.family.join(", "):S.family;if(!M)throw Error("`family` must be defined");var v=S.size||S.fontSize||S.em||48,i=(f=[S.style||S.fontStyle||"",S.weight||S.fontWeight||"",v].join(" ")+"px "+M,S.origin||"top");if(B.cache[M]&&v<=B.cache[M].em)return r(B.cache[M],i);var s=S.canvas||B.canvas,a=s.getContext("2d"),o={upper:void 0!==S.upper?S.upper:"H",lower:void 0!==S.lower?S.lower:"x",descent:void 0!==S.descent?S.descent:"p",ascent:void 0!==S.ascent?S.ascent:"h",tittle:void 0!==S.tittle?S.tittle:"i",overshoot:void 0!==S.overshoot?S.overshoot:"O"},l=Math.ceil(1.5*v);s.height=l,s.width=.5*l,a.font=f;var u="H",d={top:0};a.clearRect(0,0,l,l),a.textBaseline="top",a.fillStyle="black",a.fillText(u,0,0);var m=D(a.getImageData(0,0,l,l));a.clearRect(0,0,l,l),a.textBaseline="bottom",a.fillText(u,0,l);var h=D(a.getImageData(0,0,l,l));d.lineHeight=d.bottom=l-h+m,a.clearRect(0,0,l,l),a.textBaseline="alphabetic",a.fillText(u,0,l);var T=l-D(a.getImageData(0,0,l,l))-1+m;d.baseline=d.alphabetic=T,a.clearRect(0,0,l,l),a.textBaseline="middle",a.fillText(u,0,.5*l);var _=D(a.getImageData(0,0,l,l));d.median=d.middle=l-_-1+m-.5*l,a.clearRect(0,0,l,l),a.textBaseline="hanging",a.fillText(u,0,.5*l);var g=D(a.getImageData(0,0,l,l));d.hanging=l-g-1+m-.5*l,a.clearRect(0,0,l,l),a.textBaseline="ideographic",a.fillText(u,0,l);var w=D(a.getImageData(0,0,l,l));if(d.ideographic=l-w-1+m,o.upper&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.upper,0,0),d.upper=D(a.getImageData(0,0,l,l)),d.capHeight=d.baseline-d.upper),o.lower&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.lower,0,0),d.lower=D(a.getImageData(0,0,l,l)),d.xHeight=d.baseline-d.lower),o.tittle&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.tittle,0,0),d.tittle=D(a.getImageData(0,0,l,l))),o.ascent&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.ascent,0,0),d.ascent=D(a.getImageData(0,0,l,l))),o.descent&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.descent,0,0),d.descent=E(a.getImageData(0,0,l,l))),o.overshoot){a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.overshoot,0,0);var x=E(a.getImageData(0,0,l,l));d.overshoot=x-T}for(var b in d)d[b]/=v;return d.em=v,B.cache[M]=d,r(d,i)}function r(f,S){var M={};for(var v in"string"==typeof S&&(S=f[S]),f)"em"!==v&&(M[v]=f[v]-S);return M}function D(f){for(var S=f.height,M=f.data,v=3;v<M.length;v+=4)if(0!==M[v])return Math.floor(.25*(v-3)/S)}function E(f){for(var S=f.height,M=f.data,v=M.length-1;v>0;v-=4)if(0!==M[v])return Math.floor(.25*(v-3)/S)}ae.exports=B,B.canvas=document.createElement("canvas"),B.cache={}},31353:function(ae,B,r){"use strict";var D=r(85395),E=Object.prototype.toString,f=Object.prototype.hasOwnProperty;ae.exports=function(S,M,v){if(!D(M))throw new TypeError("iterator must be a function");var c;arguments.length>=3&&(c=v),"[object Array]"===E.call(S)?function(i,s,a){for(var o=0,l=i.length;o<l;o++)f.call(i,o)&&(null==a?s(i[o],o,i):s.call(a,i[o],o,i))}(S,M,c):"string"==typeof S?function(i,s,a){for(var o=0,l=i.length;o<l;o++)null==a?s(i.charAt(o),o,i):s.call(a,i.charAt(o),o,i)}(S,M,c):function(i,s,a){for(var o in i)f.call(i,o)&&(null==a?s(i[o],o,i):s.call(a,i[o],o,i))}(S,M,c)}},73047:function(ae){"use strict";var B=Array.prototype.slice,r=Object.prototype.toString;ae.exports=function(D){var E=this;if("function"!=typeof E||"[object Function]"!==r.call(E))throw new TypeError("Function.prototype.bind called on incompatible "+E);for(var f,S=B.call(arguments,1),M=Math.max(0,E.length-S.length),v=[],c=0;c<M;c++)v.push("$"+c);if(f=Function("binder","return function ("+v.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof f){var s=E.apply(this,S.concat(B.call(arguments)));return Object(s)===s?s:this}return E.apply(D,S.concat(B.call(arguments)))}),E.prototype){var i=function(){};i.prototype=E.prototype,f.prototype=new i,i.prototype=null}return f}},77575:function(ae,B,r){"use strict";var D=r(73047);ae.exports=Function.prototype.bind||D},86249:function(ae){ae.exports=function(B,r){if("string"!=typeof B)throw new TypeError("must specify type string");if(r=r||{},typeof document>"u"&&!r.canvas)return null;var D=r.canvas||document.createElement("canvas");"number"==typeof r.width&&(D.width=r.width),"number"==typeof r.height&&(D.height=r.height);var E,f=r;try{var S=[B];0===B.indexOf("webgl")&&S.push("experimental-"+B);for(var M=0;M<S.length;M++)if(E=D.getContext(S[M],f))return E}catch{E=null}return E||null}},68318:function(ae,B,r){"use strict";var D,E=SyntaxError,f=Function,S=TypeError,M=function(I){try{return f('"use strict"; return ('+I+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var c=function(){throw new S},i=v?function(){try{return c}catch{try{return v(arguments,"callee").get}catch{return c}}}():c,s=r(57877)(),a=Object.getPrototypeOf||function(I){return I.__proto__},o={},l=typeof Uint8Array>"u"?D:a(Uint8Array),u={"%AggregateError%":typeof AggregateError>"u"?D:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?D:ArrayBuffer,"%ArrayIteratorPrototype%":s?a([][Symbol.iterator]()):D,"%AsyncFromSyncIteratorPrototype%":D,"%AsyncFunction%":o,"%AsyncGenerator%":o,"%AsyncGeneratorFunction%":o,"%AsyncIteratorPrototype%":o,"%Atomics%":typeof Atomics>"u"?D:Atomics,"%BigInt%":typeof BigInt>"u"?D:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?D:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?D:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?D:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?D:Float32Array,"%Float64Array%":typeof Float64Array>"u"?D:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?D:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":o,"%Int8Array%":typeof Int8Array>"u"?D:Int8Array,"%Int16Array%":typeof Int16Array>"u"?D:Int16Array,"%Int32Array%":typeof Int32Array>"u"?D:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?a(a([][Symbol.iterator]())):D,"%JSON%":"object"==typeof JSON?JSON:D,"%Map%":typeof Map>"u"?D:Map,"%MapIteratorPrototype%":typeof Map<"u"&&s?a((new Map)[Symbol.iterator]()):D,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?D:Promise,"%Proxy%":typeof Proxy>"u"?D:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?D:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?D:Set,"%SetIteratorPrototype%":typeof Set<"u"&&s?a((new Set)[Symbol.iterator]()):D,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?D:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":s?a(""[Symbol.iterator]()):D,"%Symbol%":s?Symbol:D,"%SyntaxError%":E,"%ThrowTypeError%":i,"%TypedArray%":l,"%TypeError%":S,"%Uint8Array%":typeof Uint8Array>"u"?D:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?D:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?D:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?D:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?D:WeakMap,"%WeakRef%":typeof WeakRef>"u"?D:WeakRef,"%WeakSet%":typeof WeakSet>"u"?D:WeakSet};try{null.error}catch(I){var d=a(a(I));u["%Error.prototype%"]=d}var m=function I(P){var R;if("%AsyncFunction%"===P)R=M("async function () {}");else if("%GeneratorFunction%"===P)R=M("function* () {}");else if("%AsyncGeneratorFunction%"===P)R=M("async function* () {}");else if("%AsyncGenerator%"===P){var N=I("%AsyncGeneratorFunction%");N&&(R=N.prototype)}else if("%AsyncIteratorPrototype%"===P){var j=I("%AsyncGenerator%");j&&(R=a(j.prototype))}return u[P]=R,R},h={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=r(77575),_=r(35065),g=T.call(Function.call,Array.prototype.concat),w=T.call(Function.apply,Array.prototype.splice),x=T.call(Function.call,String.prototype.replace),b=T.call(Function.call,String.prototype.slice),A=T.call(Function.call,RegExp.prototype.exec),p=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,k=function(I,P){var R,N=I;if(_(h,N)&&(N="%"+(R=h[N])[0]+"%"),_(u,N)){var j=u[N];if(j===o&&(j=m(N)),void 0===j&&!P)throw new S("intrinsic "+I+" exists, but is not available. Please file an issue!");return{alias:R,name:N,value:j}}throw new E("intrinsic "+I+" does not exist!")};ae.exports=function(I,P){if("string"!=typeof I||0===I.length)throw new S("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof P)throw new S('"allowMissing" argument must be a boolean');if(null===A(/^%?[^%]*%?$/,I))throw new E("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var R=function(Q){var ee=b(Q,0,1),oe=b(Q,-1);if("%"===ee&&"%"!==oe)throw new E("invalid intrinsic syntax, expected closing `%`");if("%"===oe&&"%"!==ee)throw new E("invalid intrinsic syntax, expected opening `%`");var le=[];return x(Q,p,function(ue,de,he,we){le[le.length]=he?x(we,O,"$1"):de||ue}),le}(I),N=R.length>0?R[0]:"",j=k("%"+N+"%",P),X=j.name,F=j.value,Z=!1,W=j.alias;W&&(N=W[0],w(R,g([0,1],W)));for(var H=1,G=!0;H<R.length;H+=1){var Y=R[H],se=b(Y,0,1),te=b(Y,-1);if(('"'===se||"'"===se||"`"===se||'"'===te||"'"===te||"`"===te)&&se!==te)throw new E("property names with quotes must have matching quotes");if("constructor"!==Y&&G||(Z=!0),_(u,X="%"+(N+="."+Y)+"%"))F=u[X];else if(null!=F){if(!(Y in F)){if(!P)throw new S("base intrinsic for "+I+" exists, but the property is not available.");return}if(v&&H+1>=R.length){var re=v(F,Y);F=(G=!!re)&&"get"in re&&!("originalValue"in re.get)?re.get:F[Y]}else G=_(F,Y),F=F[Y];G&&!Z&&(u[X]=F)}}return F}},85400:function(ae){ae.exports=function(B,r){var D=r[0],E=r[1],f=r[2],S=r[3],M=r[4],v=r[5],c=r[6],i=r[7],s=r[8],a=r[9],o=r[10],l=r[11],u=r[12],d=r[13],m=r[14],h=r[15];return B[0]=v*(o*h-l*m)-a*(c*h-i*m)+d*(c*l-i*o),B[1]=-(E*(o*h-l*m)-a*(f*h-S*m)+d*(f*l-S*o)),B[2]=E*(c*h-i*m)-v*(f*h-S*m)+d*(f*i-S*c),B[3]=-(E*(c*l-i*o)-v*(f*l-S*o)+a*(f*i-S*c)),B[4]=-(M*(o*h-l*m)-s*(c*h-i*m)+u*(c*l-i*o)),B[5]=D*(o*h-l*m)-s*(f*h-S*m)+u*(f*l-S*o),B[6]=-(D*(c*h-i*m)-M*(f*h-S*m)+u*(f*i-S*c)),B[7]=D*(c*l-i*o)-M*(f*l-S*o)+s*(f*i-S*c),B[8]=M*(a*h-l*d)-s*(v*h-i*d)+u*(v*l-i*a),B[9]=-(D*(a*h-l*d)-s*(E*h-S*d)+u*(E*l-S*a)),B[10]=D*(v*h-i*d)-M*(E*h-S*d)+u*(E*i-S*v),B[11]=-(D*(v*l-i*a)-M*(E*l-S*a)+s*(E*i-S*v)),B[12]=-(M*(a*m-o*d)-s*(v*m-c*d)+u*(v*o-c*a)),B[13]=D*(a*m-o*d)-s*(E*m-f*d)+u*(E*o-f*a),B[14]=-(D*(v*m-c*d)-M*(E*m-f*d)+u*(E*c-f*v)),B[15]=D*(v*o-c*a)-M*(E*o-f*a)+s*(E*c-f*v),B}},42331:function(ae){ae.exports=function(B){var r=new Float32Array(16);return r[0]=B[0],r[1]=B[1],r[2]=B[2],r[3]=B[3],r[4]=B[4],r[5]=B[5],r[6]=B[6],r[7]=B[7],r[8]=B[8],r[9]=B[9],r[10]=B[10],r[11]=B[11],r[12]=B[12],r[13]=B[13],r[14]=B[14],r[15]=B[15],r}},31042:function(ae){ae.exports=function(B,r){return B[0]=r[0],B[1]=r[1],B[2]=r[2],B[3]=r[3],B[4]=r[4],B[5]=r[5],B[6]=r[6],B[7]=r[7],B[8]=r[8],B[9]=r[9],B[10]=r[10],B[11]=r[11],B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15],B}},11902:function(ae){ae.exports=function(){var B=new Float32Array(16);return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},89887:function(ae){ae.exports=function(B){var r=B[0],D=B[1],E=B[2],f=B[3],S=B[4],M=B[5],v=B[6],c=B[7],i=B[8],s=B[9],a=B[10],o=B[11],l=B[12],u=B[13],d=B[14],m=B[15];return(r*M-D*S)*(a*m-o*d)-(r*v-E*S)*(s*m-o*u)+(r*c-f*S)*(s*d-a*u)+(D*v-E*M)*(i*m-o*l)-(D*c-f*M)*(i*d-a*l)+(E*c-f*v)*(i*u-s*l)}},27812:function(ae){ae.exports=function(B,r){var D=r[0],E=r[1],f=r[2],S=r[3],M=D+D,v=E+E,c=f+f,i=D*M,s=E*M,a=E*v,o=f*M,l=f*v,u=f*c,d=S*M,m=S*v,h=S*c;return B[0]=1-a-u,B[1]=s+h,B[2]=o-m,B[3]=0,B[4]=s-h,B[5]=1-i-u,B[6]=l+d,B[7]=0,B[8]=o+m,B[9]=l-d,B[10]=1-i-a,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},34045:function(ae){ae.exports=function(B,r,D){var E,f,S,M=D[0],v=D[1],c=D[2],i=Math.sqrt(M*M+v*v+c*c);return Math.abs(i)<1e-6?null:(M*=i=1/i,v*=i,c*=i,E=Math.sin(r),S=1-(f=Math.cos(r)),B[0]=M*M*S+f,B[1]=v*M*S+c*E,B[2]=c*M*S-v*E,B[3]=0,B[4]=M*v*S-c*E,B[5]=v*v*S+f,B[6]=c*v*S+M*E,B[7]=0,B[8]=M*c*S+v*E,B[9]=v*c*S-M*E,B[10]=c*c*S+f,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B)}},45973:function(ae){ae.exports=function(B,r,D){var E=r[0],f=r[1],S=r[2],M=r[3],v=E+E,c=f+f,i=S+S,s=E*v,a=E*c,o=E*i,l=f*c,u=f*i,d=S*i,m=M*v,h=M*c,T=M*i;return B[0]=1-(l+d),B[1]=a+T,B[2]=o-h,B[3]=0,B[4]=a-T,B[5]=1-(s+d),B[6]=u+m,B[7]=0,B[8]=o+h,B[9]=u-m,B[10]=1-(s+l),B[11]=0,B[12]=D[0],B[13]=D[1],B[14]=D[2],B[15]=1,B}},81472:function(ae){ae.exports=function(B,r){return B[0]=r[0],B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=r[1],B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=r[2],B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},14669:function(ae){ae.exports=function(B,r){return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=r[0],B[13]=r[1],B[14]=r[2],B[15]=1,B}},75262:function(ae){ae.exports=function(B,r){var D=Math.sin(r),E=Math.cos(r);return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=E,B[6]=D,B[7]=0,B[8]=0,B[9]=-D,B[10]=E,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},331:function(ae){ae.exports=function(B,r){var D=Math.sin(r),E=Math.cos(r);return B[0]=E,B[1]=0,B[2]=-D,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=D,B[9]=0,B[10]=E,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},11049:function(ae){ae.exports=function(B,r){var D=Math.sin(r),E=Math.cos(r);return B[0]=E,B[1]=D,B[2]=0,B[3]=0,B[4]=-D,B[5]=E,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},75195:function(ae){ae.exports=function(B,r,D,E,f,S,M){var v=1/(D-r),c=1/(f-E),i=1/(S-M);return B[0]=2*S*v,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=2*S*c,B[6]=0,B[7]=0,B[8]=(D+r)*v,B[9]=(f+E)*c,B[10]=(M+S)*i,B[11]=-1,B[12]=0,B[13]=0,B[14]=M*S*2*i,B[15]=0,B}},71551:function(ae){ae.exports=function(B){return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},79576:function(ae,B,r){ae.exports={create:r(11902),clone:r(42331),copy:r(31042),identity:r(71551),transpose:r(88654),invert:r(95874),adjoint:r(85400),determinant:r(89887),multiply:r(91362),translate:r(31283),scale:r(10789),rotate:r(65074),rotateX:r(35545),rotateY:r(94918),rotateZ:r(15692),fromRotation:r(34045),fromRotationTranslation:r(45973),fromScaling:r(81472),fromTranslation:r(14669),fromXRotation:r(75262),fromYRotation:r(331),fromZRotation:r(11049),fromQuat:r(27812),frustum:r(75195),perspective:r(7864),perspectiveFromFieldOfView:r(35279),ortho:r(60378),lookAt:r(65551),str:r(6726)}},95874:function(ae){ae.exports=function(B,r){var D=r[0],E=r[1],f=r[2],S=r[3],M=r[4],v=r[5],c=r[6],i=r[7],s=r[8],a=r[9],o=r[10],l=r[11],u=r[12],d=r[13],m=r[14],h=r[15],T=D*v-E*M,_=D*c-f*M,g=D*i-S*M,w=E*c-f*v,x=E*i-S*v,b=f*i-S*c,A=s*d-a*u,p=s*m-o*u,O=s*h-l*u,k=a*m-o*d,I=a*h-l*d,P=o*h-l*m,R=T*P-_*I+g*k+w*O-x*p+b*A;return R?(B[0]=(v*P-c*I+i*k)*(R=1/R),B[1]=(f*I-E*P-S*k)*R,B[2]=(d*b-m*x+h*w)*R,B[3]=(o*x-a*b-l*w)*R,B[4]=(c*O-M*P-i*p)*R,B[5]=(D*P-f*O+S*p)*R,B[6]=(m*g-u*b-h*_)*R,B[7]=(s*b-o*g+l*_)*R,B[8]=(M*I-v*O+i*A)*R,B[9]=(E*O-D*I-S*A)*R,B[10]=(u*x-d*g+h*T)*R,B[11]=(a*g-s*x-l*T)*R,B[12]=(v*p-M*k-c*A)*R,B[13]=(D*k-E*p+f*A)*R,B[14]=(d*_-u*w-m*T)*R,B[15]=(s*w-a*_+o*T)*R,B):null}},65551:function(ae,B,r){var D=r(71551);ae.exports=function(E,f,S,M){var v,c,i,s,a,o,l,u,d,m,h=f[0],T=f[1],_=f[2],g=M[0],w=M[1],x=M[2],b=S[0],A=S[1],p=S[2];return Math.abs(h-b)<1e-6&&Math.abs(T-A)<1e-6&&Math.abs(_-p)<1e-6?D(E):(l=h-b,u=T-A,d=_-p,v=w*(d*=m=1/Math.sqrt(l*l+u*u+d*d))-x*(u*=m),c=x*(l*=m)-g*d,i=g*u-w*l,(m=Math.sqrt(v*v+c*c+i*i))?(v*=m=1/m,c*=m,i*=m):(v=0,c=0,i=0),s=u*i-d*c,a=d*v-l*i,o=l*c-u*v,(m=Math.sqrt(s*s+a*a+o*o))?(s*=m=1/m,a*=m,o*=m):(s=0,a=0,o=0),E[0]=v,E[1]=s,E[2]=l,E[3]=0,E[4]=c,E[5]=a,E[6]=u,E[7]=0,E[8]=i,E[9]=o,E[10]=d,E[11]=0,E[12]=-(v*h+c*T+i*_),E[13]=-(s*h+a*T+o*_),E[14]=-(l*h+u*T+d*_),E[15]=1,E)}},91362:function(ae){ae.exports=function(B,r,D){var E=r[0],f=r[1],S=r[2],M=r[3],v=r[4],c=r[5],i=r[6],s=r[7],a=r[8],o=r[9],l=r[10],u=r[11],d=r[12],m=r[13],h=r[14],T=r[15],_=D[0],g=D[1],w=D[2],x=D[3];return B[0]=_*E+g*v+w*a+x*d,B[1]=_*f+g*c+w*o+x*m,B[2]=_*S+g*i+w*l+x*h,B[3]=_*M+g*s+w*u+x*T,B[4]=(_=D[4])*E+(g=D[5])*v+(w=D[6])*a+(x=D[7])*d,B[5]=_*f+g*c+w*o+x*m,B[6]=_*S+g*i+w*l+x*h,B[7]=_*M+g*s+w*u+x*T,B[8]=(_=D[8])*E+(g=D[9])*v+(w=D[10])*a+(x=D[11])*d,B[9]=_*f+g*c+w*o+x*m,B[10]=_*S+g*i+w*l+x*h,B[11]=_*M+g*s+w*u+x*T,B[12]=(_=D[12])*E+(g=D[13])*v+(w=D[14])*a+(x=D[15])*d,B[13]=_*f+g*c+w*o+x*m,B[14]=_*S+g*i+w*l+x*h,B[15]=_*M+g*s+w*u+x*T,B}},60378:function(ae){ae.exports=function(B,r,D,E,f,S,M){var v=1/(r-D),c=1/(E-f),i=1/(S-M);return B[0]=-2*v,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=-2*c,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=2*i,B[11]=0,B[12]=(r+D)*v,B[13]=(f+E)*c,B[14]=(M+S)*i,B[15]=1,B}},7864:function(ae){ae.exports=function(B,r,D,E,f){var S=1/Math.tan(r/2),M=1/(E-f);return B[0]=S/D,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=S,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=(f+E)*M,B[11]=-1,B[12]=0,B[13]=0,B[14]=2*f*E*M,B[15]=0,B}},35279:function(ae){ae.exports=function(B,r,D,E){var f=Math.tan(r.upDegrees*Math.PI/180),S=Math.tan(r.downDegrees*Math.PI/180),M=Math.tan(r.leftDegrees*Math.PI/180),v=Math.tan(r.rightDegrees*Math.PI/180),c=2/(M+v),i=2/(f+S);return B[0]=c,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=i,B[6]=0,B[7]=0,B[8]=-(M-v)*c*.5,B[9]=(f-S)*i*.5,B[10]=E/(D-E),B[11]=-1,B[12]=0,B[13]=0,B[14]=E*D/(D-E),B[15]=0,B}},65074:function(ae){ae.exports=function(B,r,D,E){var f,S,M,v,c,i,s,a,o,l,u,d,m,h,T,_,g,w,x,b,A,p,O,k,I=E[0],P=E[1],R=E[2],N=Math.sqrt(I*I+P*P+R*R);return Math.abs(N)<1e-6?null:(I*=N=1/N,P*=N,R*=N,f=Math.sin(D),M=1-(S=Math.cos(D)),c=r[1],i=r[2],s=r[3],o=r[5],l=r[6],u=r[7],m=r[9],h=r[10],T=r[11],x=I*P*M-R*f,b=P*P*M+S,A=R*P*M+I*f,p=I*R*M+P*f,O=P*R*M-I*f,k=R*R*M+S,B[0]=(v=r[0])*(_=I*I*M+S)+(a=r[4])*(g=P*I*M+R*f)+(d=r[8])*(w=R*I*M-P*f),B[1]=c*_+o*g+m*w,B[2]=i*_+l*g+h*w,B[3]=s*_+u*g+T*w,B[4]=v*x+a*b+d*A,B[5]=c*x+o*b+m*A,B[6]=i*x+l*b+h*A,B[7]=s*x+u*b+T*A,B[8]=v*p+a*O+d*k,B[9]=c*p+o*O+m*k,B[10]=i*p+l*O+h*k,B[11]=s*p+u*O+T*k,r!==B&&(B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15]),B)}},35545:function(ae){ae.exports=function(B,r,D){var E=Math.sin(D),f=Math.cos(D),S=r[4],M=r[5],v=r[6],c=r[7],i=r[8],s=r[9],a=r[10],o=r[11];return r!==B&&(B[0]=r[0],B[1]=r[1],B[2]=r[2],B[3]=r[3],B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15]),B[4]=S*f+i*E,B[5]=M*f+s*E,B[6]=v*f+a*E,B[7]=c*f+o*E,B[8]=i*f-S*E,B[9]=s*f-M*E,B[10]=a*f-v*E,B[11]=o*f-c*E,B}},94918:function(ae){ae.exports=function(B,r,D){var E=Math.sin(D),f=Math.cos(D),S=r[0],M=r[1],v=r[2],c=r[3],i=r[8],s=r[9],a=r[10],o=r[11];return r!==B&&(B[4]=r[4],B[5]=r[5],B[6]=r[6],B[7]=r[7],B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15]),B[0]=S*f-i*E,B[1]=M*f-s*E,B[2]=v*f-a*E,B[3]=c*f-o*E,B[8]=S*E+i*f,B[9]=M*E+s*f,B[10]=v*E+a*f,B[11]=c*E+o*f,B}},15692:function(ae){ae.exports=function(B,r,D){var E=Math.sin(D),f=Math.cos(D),S=r[0],M=r[1],v=r[2],c=r[3],i=r[4],s=r[5],a=r[6],o=r[7];return r!==B&&(B[8]=r[8],B[9]=r[9],B[10]=r[10],B[11]=r[11],B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15]),B[0]=S*f+i*E,B[1]=M*f+s*E,B[2]=v*f+a*E,B[3]=c*f+o*E,B[4]=i*f-S*E,B[5]=s*f-M*E,B[6]=a*f-v*E,B[7]=o*f-c*E,B}},10789:function(ae){ae.exports=function(B,r,D){var E=D[0],f=D[1],S=D[2];return B[0]=r[0]*E,B[1]=r[1]*E,B[2]=r[2]*E,B[3]=r[3]*E,B[4]=r[4]*f,B[5]=r[5]*f,B[6]=r[6]*f,B[7]=r[7]*f,B[8]=r[8]*S,B[9]=r[9]*S,B[10]=r[10]*S,B[11]=r[11]*S,B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15],B}},6726:function(ae){ae.exports=function(B){return"mat4("+B[0]+", "+B[1]+", "+B[2]+", "+B[3]+", "+B[4]+", "+B[5]+", "+B[6]+", "+B[7]+", "+B[8]+", "+B[9]+", "+B[10]+", "+B[11]+", "+B[12]+", "+B[13]+", "+B[14]+", "+B[15]+")"}},31283:function(ae){ae.exports=function(B,r,D){var E,f,S,M,v,c,i,s,a,o,l,u,d=D[0],m=D[1],h=D[2];return r===B?(B[12]=r[0]*d+r[4]*m+r[8]*h+r[12],B[13]=r[1]*d+r[5]*m+r[9]*h+r[13],B[14]=r[2]*d+r[6]*m+r[10]*h+r[14],B[15]=r[3]*d+r[7]*m+r[11]*h+r[15]):(f=r[1],S=r[2],M=r[3],v=r[4],c=r[5],i=r[6],s=r[7],a=r[8],o=r[9],l=r[10],u=r[11],B[0]=E=r[0],B[1]=f,B[2]=S,B[3]=M,B[4]=v,B[5]=c,B[6]=i,B[7]=s,B[8]=a,B[9]=o,B[10]=l,B[11]=u,B[12]=E*d+v*m+a*h+r[12],B[13]=f*d+c*m+o*h+r[13],B[14]=S*d+i*m+l*h+r[14],B[15]=M*d+s*m+u*h+r[15]),B}},88654:function(ae){ae.exports=function(B,r){if(B===r){var D=r[1],E=r[2],f=r[3],S=r[6],M=r[7],v=r[11];B[1]=r[4],B[2]=r[8],B[3]=r[12],B[4]=D,B[6]=r[9],B[7]=r[13],B[8]=E,B[9]=S,B[11]=r[14],B[12]=f,B[13]=M,B[14]=v}else B[0]=r[0],B[1]=r[4],B[2]=r[8],B[3]=r[12],B[4]=r[1],B[5]=r[5],B[6]=r[9],B[7]=r[13],B[8]=r[2],B[9]=r[6],B[10]=r[10],B[11]=r[14],B[12]=r[3],B[13]=r[7],B[14]=r[11],B[15]=r[15];return B}},42505:function(ae,B,r){"use strict";var D=r(72791),E=r(71299),f=r(98580),S=r(12018),M=r(83522),v=r(25075),c=r(68016),i=r(58404),s=r(18863),a=r(10973),o=r(25677),l=r(75686),u=r(53545),d=r(56131),m=r(32879),h=r(30120),T=r(13547).nextPow2,_=new M,g=!1;if(document.body){var w=document.body.appendChild(document.createElement("div"));w.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(w).fontStretch&&(g=!0),document.body.removeChild(w)}var x=function(b){var A;this.gl="function"==typeof(A=b)&&A._gl&&A.prop&&A.texture&&A.buffer?(b={regl:b}).regl._gl:S(b),this.shader=_.get(this.gl),this.regl=this.shader?this.shader.regl:b.regl||f({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),_.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(a(b)?b:{})};x.prototype.createShader=function(){var b=this.regl,A=b({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:b.prop("count"),offset:b.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:b.this("sizeBuffer")},width:{offset:0,stride:8,buffer:b.this("sizeBuffer")},char:b.this("charBuffer"),position:b.this("position")},uniforms:{atlasSize:function(p,O){return[O.atlas.width,O.atlas.height]},atlasDim:function(p,O){return[O.atlas.cols,O.atlas.rows]},atlas:function(p,O){return O.atlas.texture},charStep:function(p,O){return O.atlas.step},em:function(p,O){return O.atlas.em},color:b.prop("color"),opacity:b.prop("opacity"),viewport:b.this("viewportArray"),scale:b.this("scale"),align:b.prop("align"),baseline:b.prop("baseline"),translate:b.this("translate"),positionOffset:b.prop("positionOffset")},primitive:"points",viewport:b.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ vec2(positionOffset.x, -positionOffset.y)))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform sampler2D atlas;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:b,draw:A,atlas:{}}},x.prototype.update=function(b){var A=this;if("string"==typeof b)b={text:b};else if(!b)return;null!=(b=E(b,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(this.opacity=Array.isArray(b.opacity)?b.opacity.map(function(be){return parseFloat(be)}):parseFloat(b.opacity)),null!=b.viewport&&(this.viewport=s(b.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=b.kerning&&(this.kerning=b.kerning),null!=b.offset&&("number"==typeof b.offset&&(b.offset=[b.offset,0]),this.positionOffset=h(b.offset)),b.direction&&(this.direction=b.direction),b.range&&(this.range=b.range,this.scale=[1/(b.range[2]-b.range[0]),1/(b.range[3]-b.range[1])],this.translate=[-b.range[0],-b.range[1]]),b.scale&&(this.scale=b.scale),b.translate&&(this.translate=b.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||b.font||(b.font=x.baseFontSize+"px sans-serif");var p,O=!1,k=!1;if(b.font&&(Array.isArray(b.font)?b.font:[b.font]).forEach(function(be,Le){if("string"==typeof be)try{be=D.parse(be)}catch{be=D.parse(x.baseFontSize+"px "+be)}else be=D.parse(D.stringify(be));var Oe=D.stringify({size:x.baseFontSize,family:be.family,stretch:g?be.stretch:void 0,variant:be.variant,weight:be.weight,style:be.style}),De=o(be.size),Ue=Math.round(De[0]*l(De[1]));if(Ue!==A.fontSize[Le]&&(k=!0,A.fontSize[Le]=Ue),!(A.font[Le]&&Oe==A.font[Le].baseString||(O=!0,A.font[Le]=x.fonts[Oe],A.font[Le]))){var Ge=be.family.join(", "),ye=[be.style];be.style!=be.variant&&ye.push(be.variant),be.variant!=be.weight&&ye.push(be.weight),g&&be.weight!=be.stretch&&ye.push(be.stretch),A.font[Le]={baseString:Oe,family:Ge,weight:be.weight,stretch:be.stretch,style:be.style,variant:be.variant,width:{},kerning:{},metrics:m(Ge,{origin:"top",fontSize:x.baseFontSize,fontStyle:ye.join(" ")})},x.fonts[Oe]=A.font[Le]}}),(O||k)&&this.font.forEach(function(be,Le){var Oe=D.stringify({size:A.fontSize[Le],family:be.family,stretch:g?be.stretch:void 0,variant:be.variant,weight:be.weight,style:be.style});A.fontAtlas[Le]=A.shader.atlas[Oe],A.fontAtlas[Le]||(A.shader.atlas[Oe]=A.fontAtlas[Le]={fontString:Oe,step:2*Math.ceil(A.fontSize[Le]*be.metrics.bottom*.5),em:A.fontSize[Le],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:A.regl.texture()}),null==b.text&&(b.text=A.text)}),"string"==typeof b.text&&b.position&&b.position.length>2){for(var I=Array(.5*b.position.length),P=0;P<I.length;P++)I[P]=b.text;b.text=I}if(null!=b.text||O){if(this.textOffsets=[0],Array.isArray(b.text)){this.count=b.text[0].length,this.counts=[this.count];for(var R=1;R<b.text.length;R++)this.textOffsets[R]=this.textOffsets[R-1]+b.text[R-1].length,this.count+=b.text[R].length,this.counts.push(b.text[R].length);this.text=b.text.join("")}else this.text=b.text,this.count=this.text.length,this.counts=[this.count];p=[],this.font.forEach(function(be,Le){x.atlasContext.font=be.baseString;for(var Oe=A.fontAtlas[Le],De=0;De<A.text.length;De++){var Ue=A.text.charAt(De);if(null==Oe.ids[Ue]&&(Oe.ids[Ue]=Oe.chars.length,Oe.chars.push(Ue),p.push(Ue)),null==be.width[Ue]&&(be.width[Ue]=x.atlasContext.measureText(Ue).width/x.baseFontSize,A.kerning)){var Ge=[];for(var ye in be.width)Ge.push(ye+Ue,Ue+ye);d(be.kerning,u(be.family,{pairs:Ge}))}}})}if(b.position)if(b.position.length>2){for(var N=!b.position[0].length,j=i.mallocFloat(2*this.count),X=0,F=0;X<this.counts.length;X++){var Z=this.counts[X];if(N)for(var W=0;W<Z;W++)j[F++]=b.position[2*X],j[F++]=b.position[2*X+1];else for(var H=0;H<Z;H++)j[F++]=b.position[X][0],j[F++]=b.position[X][1]}this.position.call?this.position({type:"float",data:j}):this.position=this.regl.buffer({type:"float",data:j}),i.freeFloat(j)}else this.position.destroy&&this.position.destroy(),this.position={constant:b.position};if(b.text||O){var G=i.mallocUint8(this.count),Y=i.mallocFloat(2*this.count);this.textWidth=[];for(var se=0,te=0;se<this.counts.length;se++){for(var re=this.counts[se],Q=this.font[se]||this.font[0],ee=this.fontAtlas[se]||this.fontAtlas[0],oe=0;oe<re;oe++){var le=this.text.charAt(te),ue=this.text.charAt(te-1);if(G[te]=ee.ids[le],Y[2*te]=Q.width[le],oe){var we=Y[2*te-1]+.5*Y[2*te-2]+.5*Y[2*te];if(this.kerning){var Ae=Q.kerning[ue+le];Ae&&(we+=.001*Ae)}Y[2*te+1]=we}else Y[2*te+1]=.5*Y[2*te];te++}this.textWidth.push(Y.length?.5*Y[2*te-2]+Y[2*te-1]:0)}b.align||(b.align=this.align),this.charBuffer({data:G,type:"uint8",usage:"stream"}),this.sizeBuffer({data:Y,type:"float",usage:"stream"}),i.freeUint8(G),i.freeFloat(Y),p.length&&this.font.forEach(function(be,Le){var Oe=A.fontAtlas[Le],De=Oe.step,Ue=Math.floor(x.maxAtlasSize/De),Ge=Math.min(Ue,Oe.chars.length),ye=Math.ceil(Oe.chars.length/Ge),Ie=T(Ge*De),Ee=T(ye*De);Oe.width=Ie,Oe.height=Ee,Oe.rows=ye,Oe.cols=Ge,Oe.em&&Oe.texture({data:c({canvas:x.atlasCanvas,font:Oe.fontString,chars:Oe.chars,shape:[Ie,Ee],step:[De,De]})})})}if(b.align&&(this.align=b.align,this.alignOffset=this.textWidth.map(function(be,Le){var Oe=Array.isArray(A.align)?A.align.length>1?A.align[Le]:A.align[0]:A.align;if("number"==typeof Oe)return Oe;switch(Oe){case"right":case"end":return-be;case"center":case"centre":case"middle":return.5*-be}return 0})),null==this.baseline&&null==b.baseline&&(b.baseline=0),null!=b.baseline&&(this.baseline=b.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(be,Le){var Oe=(A.font[Le]||A.font[0]).metrics,De=0;return-1*((De+=.5*Oe.bottom)+("number"==typeof be?be-Oe.baseline:-Oe[be]))})),null!=b.color)if(b.color||(b.color="transparent"),"string"!=typeof b.color&&isNaN(b.color)){var Te;if("number"==typeof b.color[0]&&b.color.length>this.counts.length){var ve=b.color.length;Te=i.mallocUint8(ve);for(var xe=(b.color.subarray||b.color.slice).bind(b.color),Fe=0;Fe<ve;Fe+=4)Te.set(v(xe(Fe,Fe+4),"uint8"),Fe)}else{var Se=b.color.length;Te=i.mallocUint8(4*Se);for(var ke=0;ke<Se;ke++)Te.set(v(b.color[ke]||0,"uint8"),4*ke)}this.color=Te}else this.color=v(b.color,"uint8");if(b.position||b.text||b.color||b.baseline||b.align||b.font||b.offset||b.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var pe=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(pe);for(var fe=0;fe<this.batch.length;fe++)this.batch[fe]={count:this.counts.length>1?this.counts[fe]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[fe]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*fe,4*fe+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[fe]:this.opacity,baseline:null!=this.baselineOffset[fe]?this.baselineOffset[fe]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[fe]?this.alignOffset[fe]:this.alignOffset[0]:0,atlas:this.fontAtlas[fe]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*fe,2*fe+2):this.positionOffset}}else this.batch=this.count?[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:[]},x.prototype.destroy=function(){},x.prototype.kerning=!0,x.prototype.position={constant:new Float32Array(2)},x.prototype.translate=null,x.prototype.scale=null,x.prototype.font=null,x.prototype.text="",x.prototype.positionOffset=[0,0],x.prototype.opacity=1,x.prototype.color=new Uint8Array([0,0,0,255]),x.prototype.alignOffset=[0,0],x.maxAtlasSize=1024,x.atlasCanvas=document.createElement("canvas"),x.atlasContext=x.atlasCanvas.getContext("2d",{alpha:!1}),x.baseFontSize=64,x.fonts={},ae.exports=x},12018:function(ae,B,r){"use strict";var D=r(71299);function E(M){if(M.container)if(M.container==document.body)document.body.style.width||(M.canvas.width=M.width||M.pixelRatio*r.g.innerWidth),document.body.style.height||(M.canvas.height=M.height||M.pixelRatio*r.g.innerHeight);else{var v=M.container.getBoundingClientRect();M.canvas.width=M.width||v.right-v.left,M.canvas.height=M.height||v.bottom-v.top}}function f(M){return"function"==typeof M.getContext&&"width"in M&&"height"in M}function S(){var M=document.createElement("canvas");return M.style.position="absolute",M.style.top=0,M.style.left=0,M}ae.exports=function(M){var v,i;if(M?"string"==typeof M&&(M={container:M}):M={},(M=f(M)||"string"==typeof(v=M).nodeName&&"function"==typeof v.appendChild&&"function"==typeof v.getBoundingClientRect?{container:M}:(i=M,"function"==typeof i.drawArrays||"function"==typeof i.drawElements?{gl:M}:D(M,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0))).pixelRatio||(M.pixelRatio=r.g.pixelRatio||1),M.gl)return M.gl;if(M.canvas&&(M.container=M.canvas.parentNode),M.container){if("string"==typeof M.container){var c=document.querySelector(M.container);if(!c)throw Error("Element "+M.container+" is not found");M.container=c}f(M.container)?(M.canvas=M.container,M.container=M.canvas.parentNode):M.canvas||(M.canvas=S(),M.container.appendChild(M.canvas),E(M))}else if(!M.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");M.container=document.body||document.documentElement,M.canvas=S(),M.container.appendChild(M.canvas),E(M)}return M.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(i){try{M.gl=M.canvas.getContext(i,M.attrs)}catch{}return M.gl}),M.gl}},56068:function(ae){ae.exports=function(B){"string"==typeof B&&(B=[B]);for(var r=[].slice.call(arguments,1),D=[],E=0;E<B.length-1;E++)D.push(B[E],r[E]||"");return D.push(B[E]),D.join("")}},40383:function(ae,B,r){"use strict";var D=r(68318)("%Object.getOwnPropertyDescriptor%",!0);if(D)try{D([],"length")}catch{D=null}ae.exports=D},57035:function(ae,B,r){"use strict";var D,E=r(54404);D="function"==typeof r.g.matchMedia?!r.g.matchMedia("(hover: none)").matches:E,ae.exports=D},38520:function(ae,B,r){"use strict";var D=r(54404);ae.exports=D&&function(){var E=!1;try{var f=Object.defineProperty({},"passive",{get:function(){E=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{E=!1}return E}()},55622:function(ae,B,r){"use strict";var D=r(68318)("%Object.defineProperty%",!0),E=function(){if(D)try{return D({},"a",{value:1}),!0}catch{return!1}return!1};E.hasArrayLengthDefineBug=function(){if(!E())return null;try{return 1!==D([],"length",{value:1}).length}catch{return!0}},ae.exports=E},57877:function(ae,B,r){"use strict";var D=typeof Symbol<"u"&&Symbol,E=r(35638);ae.exports=function(){return"function"==typeof D&&"function"==typeof Symbol&&"symbol"==typeof D("foo")&&"symbol"==typeof Symbol("bar")&&E()}},35638:function(ae){"use strict";ae.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var B={},r=Symbol("test"),D=Object(r);if("string"==typeof r||"[object Symbol]"!==Object.prototype.toString.call(r)||"[object Symbol]"!==Object.prototype.toString.call(D))return!1;for(r in B[r]=42,B)return!1;if("function"==typeof Object.keys&&0!==Object.keys(B).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(B).length)return!1;var E=Object.getOwnPropertySymbols(B);if(1!==E.length||E[0]!==r||!Object.prototype.propertyIsEnumerable.call(B,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var f=Object.getOwnPropertyDescriptor(B,r);if(42!==f.value||!0!==f.enumerable)return!1}return!0}},84543:function(ae,B,r){"use strict";var D=r(35638);ae.exports=function(){return D()&&!!Symbol.toStringTag}},35065:function(ae,B,r){"use strict";var D=r(77575);ae.exports=D.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(ae,B){B.read=function(r,D,E,f,S){var M,v,c=8*S-f-1,i=(1<<c)-1,s=i>>1,a=-7,o=E?S-1:0,l=E?-1:1,u=r[D+o];for(o+=l,M=u&(1<<-a)-1,u>>=-a,a+=c;a>0;M=256*M+r[D+o],o+=l,a-=8);for(v=M&(1<<-a)-1,M>>=-a,a+=f;a>0;v=256*v+r[D+o],o+=l,a-=8);if(0===M)M=1-s;else{if(M===i)return v?NaN:1/0*(u?-1:1);v+=Math.pow(2,f),M-=s}return(u?-1:1)*v*Math.pow(2,M-f)},B.write=function(r,D,E,f,S,M){var v,c,i,s=8*M-S-1,a=(1<<s)-1,o=a>>1,l=23===S?Math.pow(2,-24)-Math.pow(2,-77):0,u=f?0:M-1,d=f?1:-1,m=D<0||0===D&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(c=isNaN(D)?1:0,v=a):(v=Math.floor(Math.log(D)/Math.LN2),D*(i=Math.pow(2,-v))<1&&(v--,i*=2),(D+=v+o>=1?l/i:l*Math.pow(2,1-o))*i>=2&&(v++,i/=2),v+o>=a?(c=0,v=a):v+o>=1?(c=(D*i-1)*Math.pow(2,S),v+=o):(c=D*Math.pow(2,o-1)*Math.pow(2,S),v=0));S>=8;r[E+u]=255&c,u+=d,c/=256,S-=8);for(v=v<<S|c,s+=S;s>0;r[E+u]=255&v,u+=d,v/=256,s-=8);r[E+u-d]|=128*m}},42018:function(ae){ae.exports="function"==typeof Object.create?function(B,r){r&&(B.super_=r,B.prototype=Object.create(r.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}))}:function(B,r){if(r){B.super_=r;var D=function(){};D.prototype=r.prototype,B.prototype=new D,B.prototype.constructor=B}}},47216:function(ae,B,r){"use strict";var D=r(84543)(),E=r(6614)("Object.prototype.toString"),f=function(v){return!(D&&v&&"object"==typeof v&&Symbol.toStringTag in v)&&"[object Arguments]"===E(v)},S=function(v){return!!f(v)||null!==v&&"object"==typeof v&&"number"==typeof v.length&&v.length>=0&&"[object Array]"!==E(v)&&"[object Function]"===E(v.callee)},M=function(){return f(arguments)}();f.isLegacyArguments=S,ae.exports=M?f:S},54404:function(ae){ae.exports=!0},85395:function(ae){"use strict";var B,r,D=Function.prototype.toString,E="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof E&&"function"==typeof Object.defineProperty)try{B=Object.defineProperty({},"length",{get:function(){throw r}}),r={},E(function(){throw 42},null,B)}catch(o){o!==r&&(E=null)}else E=null;var f=/^\s*class\b/,S=function(o){try{var l=D.call(o);return f.test(l)}catch{return!1}},M=function(o){try{return!S(o)&&(D.call(o),!0)}catch{return!1}},v=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,i=!(0 in[,]),s=function(){return!1};if("object"==typeof document){var a=document.all;v.call(a)===v.call(document.all)&&(s=function(o){if((i||!o)&&(void 0===o||"object"==typeof o))try{var l=v.call(o);return("[object HTMLAllCollection]"===l||"[object HTML document.all class]"===l||"[object HTMLCollection]"===l||"[object Object]"===l)&&null==o("")}catch{}return!1})}ae.exports=E?function(o){if(s(o))return!0;if(!o||"function"!=typeof o&&"object"!=typeof o)return!1;try{E(o,null,B)}catch(l){if(l!==r)return!1}return!S(o)&&M(o)}:function(o){if(s(o))return!0;if(!o||"function"!=typeof o&&"object"!=typeof o)return!1;if(c)return M(o);if(S(o))return!1;var l=v.call(o);return!("[object Function]"!==l&&"[object GeneratorFunction]"!==l&&!/^\[object HTML/.test(l))&&M(o)}},65481:function(ae,B,r){"use strict";var D,E=Object.prototype.toString,f=Function.prototype.toString,S=/^\s*(?:function)?\*/,M=r(84543)(),v=Object.getPrototypeOf;ae.exports=function(c){if("function"!=typeof c)return!1;if(S.test(f.call(c)))return!0;if(!M)return"[object GeneratorFunction]"===E.call(c);if(!v)return!1;if(void 0===D){var i=function(){if(!M)return!1;try{return Function("return function*() {}")()}catch{}}();D=!!i&&v(i)}return v(c)===D}},62683:function(ae){"use strict";ae.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(ae){"use strict";ae.exports=function(B){return B!=B}},15567:function(ae,B,r){"use strict";var D=r(68222),E=r(17045),f=r(64274),S=r(14922),M=r(22442),v=D(S(),Number);E(v,{getPolyfill:S,implementation:f,shim:M}),ae.exports=v},14922:function(ae,B,r){"use strict";var D=r(64274);ae.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:D}},22442:function(ae,B,r){"use strict";var D=r(17045),E=r(14922);ae.exports=function(){var f=E();return D(Number,{isNaN:f},{isNaN:function(){return Number.isNaN!==f}}),f}},64941:function(ae){"use strict";ae.exports=function(B){var r=typeof B;return null!==B&&("object"===r||"function"===r)}},10973:function(ae){"use strict";var B=Object.prototype.toString;ae.exports=function(r){var D;return"[object Object]"===B.call(r)&&(null===(D=Object.getPrototypeOf(r))||D===Object.getPrototypeOf({}))}},18546:function(ae){"use strict";ae.exports=function(B){for(var r,D=B.length,E=0;E<D;E++)if(((r=B.charCodeAt(E))<9||r>13)&&32!==r&&133!==r&&160!==r&&5760!==r&&6158!==r&&(r<8192||r>8205)&&8232!==r&&8233!==r&&8239!==r&&8287!==r&&8288!==r&&12288!==r&&65279!==r)return!1;return!0}},89546:function(ae){"use strict";ae.exports=function(B){return"string"==typeof B&&(B=B.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(B)&&/[\dz]$/i.test(B)&&B.length>4))}},9187:function(ae,B,r){"use strict";var D=r(31353),E=r(72077),f=r(6614),S=f("Object.prototype.toString"),M=r(84543)(),v=r(40383),c=typeof globalThis>"u"?r.g:globalThis,i=E(),s=f("Array.prototype.indexOf",!0)||function(u,d){for(var m=0;m<u.length;m+=1)if(u[m]===d)return m;return-1},a=f("String.prototype.slice"),o={},l=Object.getPrototypeOf;M&&v&&l&&D(i,function(u){var d=new c[u];if(Symbol.toStringTag in d){var m=l(d),h=v(m,Symbol.toStringTag);if(!h){var T=l(m);h=v(T,Symbol.toStringTag)}o[u]=h.get}}),ae.exports=function(u){if(!u||"object"!=typeof u)return!1;if(!M||!(Symbol.toStringTag in u)){var d=a(S(u),8,-1);return s(i,d)>-1}return!!v&&(m=u,h=!1,D(o,function(T,_){if(!h)try{h=T.call(m)===_}catch{}}),h);var m,h}},44517:function(ae){ae.exports=function(){"use strict";var B,r,D;function E(f,S){if(B)if(r){var M="var sharedChunk = {}; ("+B+")(sharedChunk); ("+r+")(sharedChunk);",v={};B(v),(D=S(v)).workerUrl=window.URL.createObjectURL(new Blob([M],{type:"text/javascript"}))}else r=S;else B=S}return E(0,function(f){function S(C,z){return C(z={exports:{}},z.exports),z.exports}var M="1.10.1",v=c;function c(C,z,J,ge){this.cx=3*C,this.bx=3*(J-C)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*z,this.by=3*(ge-z)-this.cy,this.ay=1-this.cy-this.by,this.p1x=C,this.p1y=ge,this.p2x=J,this.p2y=ge}c.prototype.sampleCurveX=function(C){return((this.ax*C+this.bx)*C+this.cx)*C},c.prototype.sampleCurveY=function(C){return((this.ay*C+this.by)*C+this.cy)*C},c.prototype.sampleCurveDerivativeX=function(C){return(3*this.ax*C+2*this.bx)*C+this.cx},c.prototype.solveCurveX=function(C,z){var J,ge,Re,je,Ye;for(void 0===z&&(z=1e-6),Re=C,Ye=0;Ye<8;Ye++){if(je=this.sampleCurveX(Re)-C,Math.abs(je)<z)return Re;var st=this.sampleCurveDerivativeX(Re);if(Math.abs(st)<1e-6)break;Re-=je/st}if((Re=C)<(J=0))return J;if(Re>(ge=1))return ge;for(;J<ge;){if(je=this.sampleCurveX(Re),Math.abs(je-C)<z)return Re;C>je?J=Re:ge=Re,Re=.5*(ge-J)+J}return Re},c.prototype.solve=function(C,z){return this.sampleCurveY(this.solveCurveX(C,z))};var i=s;function s(C,z){this.x=C,this.y=z}function a(C,z,J,ge){var Re=new v(C,z,J,ge);return function(je){return Re.solve(je)}}s.prototype={clone:function(){return new s(this.x,this.y)},add:function(C){return this.clone()._add(C)},sub:function(C){return this.clone()._sub(C)},multByPoint:function(C){return this.clone()._multByPoint(C)},divByPoint:function(C){return this.clone()._divByPoint(C)},mult:function(C){return this.clone()._mult(C)},div:function(C){return this.clone()._div(C)},rotate:function(C){return this.clone()._rotate(C)},rotateAround:function(C,z){return this.clone()._rotateAround(C,z)},matMult:function(C){return this.clone()._matMult(C)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(C){return this.x===C.x&&this.y===C.y},dist:function(C){return Math.sqrt(this.distSqr(C))},distSqr:function(C){var z=C.x-this.x,J=C.y-this.y;return z*z+J*J},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(C){return Math.atan2(this.y-C.y,this.x-C.x)},angleWith:function(C){return this.angleWithSep(C.x,C.y)},angleWithSep:function(C,z){return Math.atan2(this.x*z-this.y*C,this.x*C+this.y*z)},_matMult:function(C){var J=C[2]*this.x+C[3]*this.y;return this.x=C[0]*this.x+C[1]*this.y,this.y=J,this},_add:function(C){return this.x+=C.x,this.y+=C.y,this},_sub:function(C){return this.x-=C.x,this.y-=C.y,this},_mult:function(C){return this.x*=C,this.y*=C,this},_div:function(C){return this.x/=C,this.y/=C,this},_multByPoint:function(C){return this.x*=C.x,this.y*=C.y,this},_divByPoint:function(C){return this.x/=C.x,this.y/=C.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var C=this.y;return this.y=this.x,this.x=-C,this},_rotate:function(C){var z=Math.cos(C),J=Math.sin(C),Re=J*this.x+z*this.y;return this.x=z*this.x-J*this.y,this.y=Re,this},_rotateAround:function(C,z){var J=Math.cos(C),ge=Math.sin(C),je=z.y+ge*(this.x-z.x)+J*(this.y-z.y);return this.x=z.x+J*(this.x-z.x)-ge*(this.y-z.y),this.y=je,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},s.convert=function(C){return C instanceof s?C:Array.isArray(C)?new s(C[0],C[1]):C};var o=a(.25,.1,.25,1);function l(C,z,J){return Math.min(J,Math.max(z,C))}function u(C,z,J){var ge=J-z,Re=((C-z)%ge+ge)%ge+z;return Re===z?J:Re}function d(C){for(var z=[],J=arguments.length-1;J-- >0;)z[J]=arguments[J+1];for(var ge=0,Re=z;ge<Re.length;ge+=1){var je=Re[ge];for(var Ye in je)C[Ye]=je[Ye]}return C}var m=1;function h(){return m++}function T(){return function C(z){return z?(z^16*Math.random()>>z/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,C)}()}function _(C){return!!C&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(C)}function g(C,z){C.forEach(function(J){z[J]&&(z[J]=z[J].bind(z))})}function w(C,z){return-1!==C.indexOf(z,C.length-z.length)}function x(C,z,J){var ge={};for(var Re in C)ge[Re]=z.call(J||this,C[Re],Re,C);return ge}function b(C,z,J){var ge={};for(var Re in C)z.call(J||this,C[Re],Re,C)&&(ge[Re]=C[Re]);return ge}function A(C){return Array.isArray(C)?C.map(A):"object"==typeof C&&C?x(C,A):C}var p={};function O(C){p[C]||(typeof console<"u"&&console.warn(C),p[C]=!0)}function k(C,z,J){return(J.y-C.y)*(z.x-C.x)>(z.y-C.y)*(J.x-C.x)}function I(C){for(var z=0,J=0,ge=C.length,Re=ge-1,je=void 0,Ye=void 0;J<ge;Re=J++)z+=((Ye=C[Re]).x-(je=C[J]).x)*(je.y+Ye.y);return z}function P(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function R(C){var z={};if(C.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(ge,Re,je,Ye){var st=je||Ye;return z[Re]=!st||st.toLowerCase(),""}),z["max-age"]){var J=parseInt(z["max-age"],10);isNaN(J)?delete z["max-age"]:z["max-age"]=J}return z}var N=null;function j(C){if(null==N){var z=C.navigator?C.navigator.userAgent:null;N=!!C.safari||!(!z||!(/\b(iPad|iPhone|iPod)\b/.test(z)||z.match("Safari")&&!z.match("Chrome")))}return N}function X(C){try{var z=self[C];return z.setItem("_mapbox_test_",1),z.removeItem("_mapbox_test_"),!0}catch{return!1}}var F,Z,W,H,G=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),Y=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,se=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,te={now:G,frame:function(C){var z=Y(C);return{cancel:function(){return se(z)}}},getImageData:function(C,z){void 0===z&&(z=0);var J=self.document.createElement("canvas"),ge=J.getContext("2d");if(!ge)throw new Error("failed to create canvas 2d context");return J.width=C.width,J.height=C.height,ge.drawImage(C,0,0,C.width,C.height),ge.getImageData(-z,-z,C.width+2*z,C.height+2*z)},resolveURL:function(C){return F||(F=self.document.createElement("a")),F.href=C,F.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==Z&&(Z=self.matchMedia("(prefers-reduced-motion: reduce)")),Z.matches)}},re={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Q={supported:!1,testSupport:function(C){!ee&&H&&(oe?le(C):W=C)}},ee=!1,oe=!1;function le(C){var z=C.createTexture();C.bindTexture(C.TEXTURE_2D,z);try{if(C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,H),C.isContextLost())return;Q.supported=!0}catch{}C.deleteTexture(z),ee=!0}self.document&&((H=self.document.createElement("img")).onload=function(){W&&le(W),W=null,oe=!0},H.onerror=function(){ee=!0,W=null},H.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var ue="01",de=function(C,z){this._transformRequestFn=C,this._customAccessToken=z,this._createSkuToken()};function he(C){return 0===C.indexOf("mapbox:")}de.prototype._createSkuToken=function(){var C=function(){for(var z="",J=0;J<10;J++)z+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",ue,z].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=C.token,this._skuTokenExpiresAt=C.tokenExpiresAt},de.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},de.prototype.transformRequest=function(C,z){return this._transformRequestFn&&this._transformRequestFn(C,z)||{url:C}},de.prototype.normalizeStyleURL=function(C,z){if(!he(C))return C;var J=ve(C);return J.path="/styles/v1"+J.path,this._makeAPIURL(J,this._customAccessToken||z)},de.prototype.normalizeGlyphsURL=function(C,z){if(!he(C))return C;var J=ve(C);return J.path="/fonts/v1"+J.path,this._makeAPIURL(J,this._customAccessToken||z)},de.prototype.normalizeSourceURL=function(C,z){if(!he(C))return C;var J=ve(C);return J.path="/v4/"+J.authority+".json",J.params.push("secure"),this._makeAPIURL(J,this._customAccessToken||z)},de.prototype.normalizeSpriteURL=function(C,z,J,ge){var Re=ve(C);return he(C)?(Re.path="/styles/v1"+Re.path+"/sprite"+z+J,this._makeAPIURL(Re,this._customAccessToken||ge)):(Re.path+=""+z+J,xe(Re))},de.prototype.normalizeTileURL=function(C,z){if(this._isSkuTokenExpired()&&this._createSkuToken(),C&&!he(C))return C;var J=ve(C);J.path=J.path.replace(/(\.(png|jpg)\d*)(?=$)/,(te.devicePixelRatio>=2||512===z?"@2x":"")+(Q.supported?".webp":"$1")),J.path=J.path.replace(/^.+\/v4\//,"/"),J.path="/v4"+J.path;var je=this._customAccessToken||function(Ye){for(var st=0,vt=Ye;st<vt.length;st+=1){var Ct=vt[st].match(/^access_token=(.*)$/);if(Ct)return Ct[1]}return null}(J.params)||re.ACCESS_TOKEN;return re.REQUIRE_ACCESS_TOKEN&&je&&this._skuToken&&J.params.push("sku="+this._skuToken),this._makeAPIURL(J,je)},de.prototype.canonicalizeTileURL=function(C,z){var J=ve(C);if(!J.path.match(/(^\/v4\/)/)||!J.path.match(/\.[\w]+$/))return C;var ge="mapbox://tiles/";ge+=J.path.replace("/v4/","");var Re=J.params;return z&&(Re=Re.filter(function(je){return!je.match(/^access_token=/)})),Re.length&&(ge+="?"+Re.join("&")),ge},de.prototype.canonicalizeTileset=function(C,z){for(var J=!!z&&he(z),ge=[],Re=0,je=C.tiles||[];Re<je.length;Re+=1){var Ye=je[Re];Ae(Ye)?ge.push(this.canonicalizeTileURL(Ye,J)):ge.push(Ye)}return ge},de.prototype._makeAPIURL=function(C,z){var J="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ge=ve(re.API_URL);if(C.protocol=ge.protocol,C.authority=ge.authority,"/"!==ge.path&&(C.path=""+ge.path+C.path),!re.REQUIRE_ACCESS_TOKEN)return xe(C);if(!(z=z||re.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+J);if("s"===z[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+J);return C.params=C.params.filter(function(Re){return-1===Re.indexOf("access_token")}),C.params.push("access_token="+z),xe(C)};var we=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ae(C){return we.test(C)}var Te=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ve(C){var z=C.match(Te);if(!z)throw new Error("Unable to parse URL object");return{protocol:z[1],authority:z[2],path:z[3]||"/",params:z[4]?z[4].split("&"):[]}}function xe(C){var z=C.params.length?"?"+C.params.join("&"):"";return C.protocol+"://"+C.authority+C.path+z}var Fe="mapbox.eventData";function Se(C){if(!C)return null;var J=C.split(".");if(!J||3!==J.length)return null;try{return JSON.parse(decodeURIComponent(self.atob(J[1]).split("").map(function(ge){return"%"+("00"+ge.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var ke=function(C){this.type=C,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ke.prototype.getStorageKey=function(C){var z,ge=Se(re.ACCESS_TOKEN);return z=ge&&ge.u?self.btoa(encodeURIComponent(ge.u).replace(/%([0-9A-F]{2})/g,function(Re,je){return String.fromCharCode(Number("0x"+je))})):re.ACCESS_TOKEN||"",C?Fe+"."+C+":"+z:Fe+":"+z},ke.prototype.fetchEventData=function(){var C=X("localStorage"),z=this.getStorageKey(),J=this.getStorageKey("uuid");if(C)try{var ge=self.localStorage.getItem(z);ge&&(this.eventData=JSON.parse(ge));var Re=self.localStorage.getItem(J);Re&&(this.anonId=Re)}catch{O("Unable to read from LocalStorage")}},ke.prototype.saveEventData=function(){var C=X("localStorage"),z=this.getStorageKey(),J=this.getStorageKey("uuid");if(C)try{self.localStorage.setItem(J,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(z,JSON.stringify(this.eventData))}catch{O("Unable to write to LocalStorage")}},ke.prototype.processRequests=function(C){},ke.prototype.postEvent=function(C,z,J,ge){var Re=this;if(re.EVENTS_URL){var je=ve(re.EVENTS_URL);je.params.push("access_token="+(ge||re.ACCESS_TOKEN||""));var Ye={event:this.type,created:new Date(C).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:M,skuId:ue,userId:this.anonId},st=z?d(Ye,z):Ye,vt={url:xe(je),headers:{"Content-Type":"text/plain"},body:JSON.stringify([st])};this.pendingRequest=Ft(vt,function(Ct){Re.pendingRequest=null,J(Ct),Re.saveEventData(),Re.processRequests(ge)})}},ke.prototype.queueRequest=function(C,z){this.queue.push(C),this.processRequests(z)};var pe,fe,be=function(C){function z(){C.call(this,"map.load"),this.success={},this.skuToken=""}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.postMapLoadEvent=function(J,ge,Re,je){this.skuToken=Re,(re.EVENTS_URL&&je||re.ACCESS_TOKEN&&Array.isArray(J)&&J.some(function(Ye){return he(Ye)||Ae(Ye)}))&&this.queueRequest({id:ge,timestamp:Date.now()},je)},z.prototype.processRequests=function(J){var ge=this;if(!this.pendingRequest&&0!==this.queue.length){var Re=this.queue.shift(),je=Re.id,Ye=Re.timestamp;je&&this.success[je]||(this.anonId||this.fetchEventData(),_(this.anonId)||(this.anonId=T()),this.postEvent(Ye,{skuToken:this.skuToken},function(st){st||je&&(ge.success[je]=!0)},J))}},z}(ke),Le=function(C){function z(J){C.call(this,"appUserTurnstile"),this._customAccessToken=J}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.postTurnstileEvent=function(J,ge){re.EVENTS_URL&&re.ACCESS_TOKEN&&Array.isArray(J)&&J.some(function(Re){return he(Re)||Ae(Re)})&&this.queueRequest(Date.now(),ge)},z.prototype.processRequests=function(J){var ge=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Re=Se(re.ACCESS_TOKEN),je=Re?Re.u:re.ACCESS_TOKEN,Ye=je!==this.eventData.tokenU;_(this.anonId)||(this.anonId=T(),Ye=!0);var st=this.queue.shift();if(this.eventData.lastSuccess){var vt=new Date(this.eventData.lastSuccess),Ct=new Date(st),It=(st-this.eventData.lastSuccess)/864e5;Ye=Ye||It>=1||It<-1||vt.getDate()!==Ct.getDate()}else Ye=!0;if(!Ye)return this.processRequests();this.postEvent(st,{"enabled.telemetry":!1},function(Gt){Gt||(ge.eventData.lastSuccess=st,ge.eventData.tokenU=je)},J)}},z}(ke),Oe=new Le,De=Oe.postTurnstileEvent.bind(Oe),Ue=new be,Ge=Ue.postMapLoadEvent.bind(Ue),ye="mapbox-tiles",Ie=500,Ee=50,Be=42e4;function We(){self.caches&&!pe&&(pe=self.caches.open(ye))}function Je(C){var z=C.indexOf("?");return z<0?C:C.slice(0,z)}var at,mt=1/0;function ct(){return null==at&&(at=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof self.createImageBitmap),at}var St={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(St);var Dt=function(C){function z(J,ge,Re){401===ge&&Ae(Re)&&(J+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),C.call(this,J),this.status=ge,this.url=Re,this.name=this.constructor.name,this.message=J}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},z}(Error),Et=P()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href};function ht(C,z){var J,ge=new self.AbortController,Re=new self.Request(C.url,{method:C.method||"GET",body:C.body,credentials:C.credentials,headers:C.headers,referrer:Et(),signal:ge.signal}),je=!1,Ye=!1,st=(J=Re.url).indexOf("sku=")>0&&Ae(J);"json"===C.type&&Re.headers.set("Accept","application/json");var vt=function(It,Gt,Kt){if(!Ye){if(It&&"SecurityError"!==It.message&&O(It),Gt&&Kt)return Ct(Gt);var Zt=Date.now();self.fetch(Re).then(function(mn){if(mn.ok){var _n=st?mn.clone():null;return Ct(mn,_n,Zt)}return z(new Dt(mn.statusText,mn.status,C.url))}).catch(function(mn){20!==mn.code&&z(new Error(mn.message))})}},Ct=function(It,Gt,Kt){("arrayBuffer"===C.type?It.arrayBuffer():"json"===C.type?It.json():It.text()).then(function(Zt){Ye||(Gt&&Kt&&function He(C,z,J){if(We(),pe){var ge={status:z.status,statusText:z.statusText,headers:new self.Headers};z.headers.forEach(function(je,Ye){return ge.headers.set(Ye,je)});var Re=R(z.headers.get("Cache-Control")||"");Re["no-store"]||(Re["max-age"]&&ge.headers.set("Expires",new Date(J+1e3*Re["max-age"]).toUTCString()),new Date(ge.headers.get("Expires")).getTime()-J<Be||function(je,Ye){if(void 0===fe)try{new Response(new ReadableStream),fe=!0}catch{fe=!1}fe?Ye(je.body):je.blob().then(Ye)}(z,function(je){var Ye=new self.Response(je,ge);We(),pe&&pe.then(function(st){return st.put(Je(C.url),Ye)}).catch(function(st){return O(st.message)})}))}}(Re,Gt,Kt),je=!0,z(null,Zt,It.headers.get("Cache-Control"),It.headers.get("Expires")))}).catch(function(Zt){Ye||z(new Error(Zt.message))})};return st?function et(C,z){if(We(),!pe)return z(null);var J=Je(C.url);pe.then(function(ge){ge.match(J).then(function(Re){var je=function(Ye){if(!Ye)return!1;var st=new Date(Ye.headers.get("Expires")||0),vt=R(Ye.headers.get("Cache-Control")||"");return st>Date.now()&&!vt["no-cache"]}(Re);ge.delete(J),je&&ge.put(J,Re.clone()),z(null,Re,je)}).catch(z)}).catch(z)}(Re,vt):vt(null,null),{cancel:function(){Ye=!0,je||ge.abort()}}}var Ht,Lt,pt=function(C,z){if(!(/^file:/.test(J=C.url)||/^file:/.test(Et())&&!/^\w+:/.test(J))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return ht(C,z);if(P()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",C,z,void 0,!0)}var J;return function(ge,Re){var je=new self.XMLHttpRequest;for(var Ye in je.open(ge.method||"GET",ge.url,!0),"arrayBuffer"===ge.type&&(je.responseType="arraybuffer"),ge.headers)je.setRequestHeader(Ye,ge.headers[Ye]);return"json"===ge.type&&(je.responseType="text",je.setRequestHeader("Accept","application/json")),je.withCredentials="include"===ge.credentials,je.onerror=function(){Re(new Error(je.statusText))},je.onload=function(){if((je.status>=200&&je.status<300||0===je.status)&&null!==je.response){var st=je.response;if("json"===ge.type)try{st=JSON.parse(je.response)}catch(vt){return Re(vt)}Re(null,st,je.getResponseHeader("Cache-Control"),je.getResponseHeader("Expires"))}else Re(new Dt(je.statusText,je.status,ge.url))},je.send(ge.body),{cancel:function(){return je.abort()}}}(C,z)},Pt=function(C,z){return pt(d(C,{type:"arrayBuffer"}),z)},Ft=function(C,z){return pt(d(C,{method:"POST"}),z)};Ht=[],Lt=0;var tt=function(C,z){if(Q.supported&&(C.headers||(C.headers={}),C.headers.accept="image/webp,*/*"),Lt>=re.MAX_PARALLEL_IMAGE_REQUESTS){var J={requestParameters:C,callback:z,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ht.push(J),J}Lt++;var ge=!1,Re=function(){if(!ge)for(ge=!0,Lt--;Ht.length&&Lt<re.MAX_PARALLEL_IMAGE_REQUESTS;){var Ye=Ht.shift();Ye.cancelled||(Ye.cancel=tt(Ye.requestParameters,Ye.callback).cancel)}},je=Pt(C,function(Ye,st,vt,Ct){var Gt,Kt;Re(),Ye?z(Ye):st&&(ct()?(Gt=z,Kt=new self.Blob([new Uint8Array(st)],{type:"image/png"}),self.createImageBitmap(Kt).then(function(Zt){Gt(null,Zt)}).catch(function(Zt){Gt(new Error("Could not load image because of "+Zt.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})):function(It,Gt,Kt,Zt){var mn=new self.Image,_n=self.URL;mn.onload=function(){Gt(null,mn),_n.revokeObjectURL(mn.src)},mn.onerror=function(){return Gt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var zn=new self.Blob([new Uint8Array(It)],{type:"image/png"});mn.cacheControl=Kt,mn.expires=Zt,mn.src=It.byteLength?_n.createObjectURL(zn):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(st,z,vt,Ct))});return{cancel:function(){je.cancel(),Re()}}};function rt(C,z,J){J[C]&&-1!==J[C].indexOf(z)||(J[C]=J[C]||[],J[C].push(z))}function Ke(C,z,J){if(J&&J[C]){var ge=J[C].indexOf(z);-1!==ge&&J[C].splice(ge,1)}}var it=function(C,z){void 0===z&&(z={}),d(this,z),this.type=C},gt=function(C){function z(J,ge){void 0===ge&&(ge={}),C.call(this,"error",d({error:J},ge))}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z}(it),ft=function(){};ft.prototype.on=function(C,z){return this._listeners=this._listeners||{},rt(C,z,this._listeners),this},ft.prototype.off=function(C,z){return Ke(C,z,this._listeners),Ke(C,z,this._oneTimeListeners),this},ft.prototype.once=function(C,z){return this._oneTimeListeners=this._oneTimeListeners||{},rt(C,z,this._oneTimeListeners),this},ft.prototype.fire=function(C,z){"string"==typeof C&&(C=new it(C,z||{}));var J=C.type;if(this.listens(J)){C.target=this;for(var ge=0,Re=this._listeners&&this._listeners[J]?this._listeners[J].slice():[];ge<Re.length;ge+=1)Re[ge].call(this,C);for(var je=0,Ye=this._oneTimeListeners&&this._oneTimeListeners[J]?this._oneTimeListeners[J].slice():[];je<Ye.length;je+=1){var st=Ye[je];Ke(J,st,this._oneTimeListeners),st.call(this,C)}var vt=this._eventedParent;vt&&(d(C,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),vt.fire(C))}else C instanceof gt&&console.error(C.error);return this},ft.prototype.listens=function(C){return this._listeners&&this._listeners[C]&&this._listeners[C].length>0||this._oneTimeListeners&&this._oneTimeListeners[C]&&this._oneTimeListeners[C].length>0||this._eventedParent&&this._eventedParent.listens(C)},ft.prototype.setEventedParent=function(C,z){return this._eventedParent=C,this._eventedParentData=z,this};var Ve={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},qe=function(C,z,J,ge){this.message=(C?C+": ":"")+J,ge&&(this.identifier=ge),null!=z&&z.__line__&&(this.line=z.__line__)};function dt(C){var J=C.value;return J?[new qe(C.key,J,"constants have been deprecated as of v8")]:[]}function ut(C){for(var z=[],J=arguments.length-1;J-- >0;)z[J]=arguments[J+1];for(var ge=0,Re=z;ge<Re.length;ge+=1){var je=Re[ge];for(var Ye in je)C[Ye]=je[Ye]}return C}function At(C){return C instanceof Number||C instanceof String||C instanceof Boolean?C.valueOf():C}function wt(C){if(Array.isArray(C))return C.map(wt);if(C instanceof Object&&!(C instanceof Number||C instanceof String||C instanceof Boolean)){var z={};for(var J in C)z[J]=wt(C[J]);return z}return At(C)}var kt=function(C){function z(J,ge){C.call(this,ge),this.message=ge,this.key=J}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z}(Error),_t=function(C,z){void 0===z&&(z=[]),this.parent=C,this.bindings={};for(var J=0,ge=z;J<ge.length;J+=1){var Re=ge[J];this.bindings[Re[0]]=Re[1]}};_t.prototype.concat=function(C){return new _t(this,C)},_t.prototype.get=function(C){if(this.bindings[C])return this.bindings[C];if(this.parent)return this.parent.get(C);throw new Error(C+" not found in scope.")},_t.prototype.has=function(C){return!!this.bindings[C]||!!this.parent&&this.parent.has(C)};var Rt={kind:"null"},bt={kind:"number"},Tt={kind:"string"},Ot={kind:"boolean"},Wt={kind:"color"},qt={kind:"object"},Jt={kind:"value"},pn={kind:"collator"},en={kind:"formatted"},nn={kind:"resolvedImage"};function dn(C,z){return{kind:"array",itemType:C,N:z}}function In(C){if("array"===C.kind){var z=In(C.itemType);return"number"==typeof C.N?"array<"+z+", "+C.N+">":"value"===C.itemType.kind?"array":"array<"+z+">"}return C.kind}var Hn=[Rt,bt,Tt,Ot,Wt,en,qt,dn(Jt),nn];function An(C,z){if("error"===z.kind)return null;if("array"===C.kind){if("array"===z.kind&&(0===z.N&&"value"===z.itemType.kind||!An(C.itemType,z.itemType))&&("number"!=typeof C.N||C.N===z.N))return null}else{if(C.kind===z.kind)return null;if("value"===C.kind)for(var J=0,ge=Hn;J<ge.length;J+=1)if(!An(ge[J],z))return null}return"Expected "+In(C)+" but found "+In(z)+" instead."}function on(C,z){return z.some(function(J){return J.kind===C.kind})}function yn(C,z){return z.some(function(J){return"null"===J?null===C:"array"===J?Array.isArray(C):"object"===J?C&&!Array.isArray(C)&&"object"==typeof C:J===typeof C})}var wn=S(function(C,z){var J={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ge(vt){return(vt=Math.round(vt))<0?0:vt>255?255:vt}function je(vt){return ge("%"===vt[vt.length-1]?parseFloat(vt)/100*255:parseInt(vt))}function Ye(vt){return function Re(vt){return vt<0?0:vt>1?1:vt}("%"===vt[vt.length-1]?parseFloat(vt)/100:parseFloat(vt))}function st(vt,Ct,It){return It<0?It+=1:It>1&&(It-=1),6*It<1?vt+(Ct-vt)*It*6:2*It<1?Ct:3*It<2?vt+(Ct-vt)*(2/3-It)*6:vt}try{z.parseCSSColor=function(vt){var Ct,It=vt.replace(/ /g,"").toLowerCase();if(It in J)return J[It].slice();if("#"===It[0])return 4===It.length?(Ct=parseInt(It.substr(1),16))>=0&&Ct<=4095?[(3840&Ct)>>4|(3840&Ct)>>8,240&Ct|(240&Ct)>>4,15&Ct|(15&Ct)<<4,1]:null:7===It.length&&(Ct=parseInt(It.substr(1),16))>=0&&Ct<=16777215?[(16711680&Ct)>>16,(65280&Ct)>>8,255&Ct,1]:null;var Gt=It.indexOf("("),Kt=It.indexOf(")");if(-1!==Gt&&Kt+1===It.length){var Zt=It.substr(0,Gt),mn=It.substr(Gt+1,Kt-(Gt+1)).split(","),_n=1;switch(Zt){case"rgba":if(4!==mn.length)return null;_n=Ye(mn.pop());case"rgb":return 3!==mn.length?null:[je(mn[0]),je(mn[1]),je(mn[2]),_n];case"hsla":if(4!==mn.length)return null;_n=Ye(mn.pop());case"hsl":if(3!==mn.length)return null;var zn=(parseFloat(mn[0])%360+360)%360/360,jn=Ye(mn[1]),Xn=Ye(mn[2]),Jn=Xn<=.5?Xn*(jn+1):Xn+jn-Xn*jn,ar=2*Xn-Jn;return[ge(255*st(ar,Jn,zn+1/3)),ge(255*st(ar,Jn,zn)),ge(255*st(ar,Jn,zn-1/3)),_n];default:return null}}return null}}catch{}}).parseCSSColor,Cn=function(C,z,J,ge){void 0===ge&&(ge=1),this.r=C,this.g=z,this.b=J,this.a=ge};Cn.parse=function(C){if(C){if(C instanceof Cn)return C;if("string"==typeof C){var z=wn(C);if(z)return new Cn(z[0]/255*z[3],z[1]/255*z[3],z[2]/255*z[3],z[3])}}},Cn.prototype.toString=function(){var C=this.toArray(),J=C[1],ge=C[2],Re=C[3];return"rgba("+Math.round(C[0])+","+Math.round(J)+","+Math.round(ge)+","+Re+")"},Cn.prototype.toArray=function(){var C=this,Re=C.a;return 0===Re?[0,0,0,0]:[255*C.r/Re,255*C.g/Re,255*C.b/Re,Re]},Cn.black=new Cn(0,0,0,1),Cn.white=new Cn(1,1,1,1),Cn.transparent=new Cn(0,0,0,0),Cn.red=new Cn(1,0,0,1);var Ln=function(C,z,J){this.sensitivity=C?z?"variant":"case":z?"accent":"base",this.locale=J,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Ln.prototype.compare=function(C,z){return this.collator.compare(C,z)},Ln.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Sn=function(C,z,J,ge,Re){this.text=C,this.image=z,this.scale=J,this.fontStack=ge,this.textColor=Re},qn=function(C){this.sections=C};qn.fromString=function(C){return new qn([new Sn(C,null,null,null,null)])},qn.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(C){return 0!==C.text.length||C.image&&0!==C.image.name.length})},qn.factory=function(C){return C instanceof qn?C:qn.fromString(C)},qn.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(C){return C.text}).join("")},qn.prototype.serialize=function(){for(var C=["format"],z=0,J=this.sections;z<J.length;z+=1){var ge=J[z];if(ge.image)C.push(["image",ge.image.name]);else{C.push(ge.text);var Re={};ge.fontStack&&(Re["text-font"]=["literal",ge.fontStack.split(",")]),ge.scale&&(Re["font-scale"]=ge.scale),ge.textColor&&(Re["text-color"]=["rgba"].concat(ge.textColor.toArray())),C.push(Re)}}return C};var kn=function(C){this.name=C.name,this.available=C.available};function Zn(C,z,J,ge){return"number"==typeof C&&C>=0&&C<=255&&"number"==typeof z&&z>=0&&z<=255&&"number"==typeof J&&J>=0&&J<=255?void 0===ge||"number"==typeof ge&&ge>=0&&ge<=1?null:"Invalid rgba value ["+[C,z,J,ge].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof ge?[C,z,J,ge]:[C,z,J]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function fr(C){if(null===C||"string"==typeof C||"boolean"==typeof C||"number"==typeof C||C instanceof Cn||C instanceof Ln||C instanceof qn||C instanceof kn)return!0;if(Array.isArray(C)){for(var z=0,J=C;z<J.length;z+=1)if(!fr(J[z]))return!1;return!0}if("object"==typeof C){for(var ge in C)if(!fr(C[ge]))return!1;return!0}return!1}function er(C){if(null===C)return Rt;if("string"==typeof C)return Tt;if("boolean"==typeof C)return Ot;if("number"==typeof C)return bt;if(C instanceof Cn)return Wt;if(C instanceof Ln)return pn;if(C instanceof qn)return en;if(C instanceof kn)return nn;if(Array.isArray(C)){for(var z,J=C.length,ge=0,Re=C;ge<Re.length;ge+=1){var je=er(Re[ge]);if(z){if(z===je)continue;z=Jt;break}z=je}return dn(z||Jt,J)}return qt}function nr(C){var z=typeof C;return null===C?"":"string"===z||"number"===z||"boolean"===z?String(C):C instanceof Cn||C instanceof qn||C instanceof kn?C.toString():JSON.stringify(C)}kn.prototype.toString=function(){return this.name},kn.fromString=function(C){return C?new kn({name:C,available:!1}):null},kn.prototype.serialize=function(){return["image",this.name]};var mr=function(C,z){this.type=C,this.value=z};mr.parse=function(C,z){if(2!==C.length)return z.error("'literal' expression requires exactly one argument, but found "+(C.length-1)+" instead.");if(!fr(C[1]))return z.error("invalid value");var J=C[1],ge=er(J),Re=z.expectedType;return"array"!==ge.kind||0!==ge.N||!Re||"array"!==Re.kind||"number"==typeof Re.N&&0!==Re.N||(ge=Re),new mr(ge,J)},mr.prototype.evaluate=function(){return this.value},mr.prototype.eachChild=function(){},mr.prototype.outputDefined=function(){return!0},mr.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Cn?["rgba"].concat(this.value.toArray()):this.value instanceof qn?this.value.serialize():this.value};var dr=function(C){this.name="ExpressionEvaluationError",this.message=C};dr.prototype.toJSON=function(){return this.message};var Ir={string:Tt,number:bt,boolean:Ot,object:qt},Yt=function(C,z){this.type=C,this.args=z};Yt.parse=function(C,z){if(C.length<2)return z.error("Expected at least one argument.");var J,ge=1,Re=C[0];if("array"===Re){var je,Ye;if(C.length>2){var st=C[1];if("string"!=typeof st||!(st in Ir)||"object"===st)return z.error('The item type argument of "array" must be one of string, number, boolean',1);je=Ir[st],ge++}else je=Jt;if(C.length>3){if(null!==C[2]&&("number"!=typeof C[2]||C[2]<0||C[2]!==Math.floor(C[2])))return z.error('The length argument to "array" must be a positive integer literal',2);Ye=C[2],ge++}J=dn(je,Ye)}else J=Ir[Re];for(var vt=[];ge<C.length;ge++){var Ct=z.parse(C[ge],ge,Jt);if(!Ct)return null;vt.push(Ct)}return new Yt(J,vt)},Yt.prototype.evaluate=function(C){for(var z=0;z<this.args.length;z++){var J=this.args[z].evaluate(C);if(!An(this.type,er(J)))return J;if(z===this.args.length-1)throw new dr("Expected value to be of type "+In(this.type)+", but found "+In(er(J))+" instead.")}return null},Yt.prototype.eachChild=function(C){this.args.forEach(C)},Yt.prototype.outputDefined=function(){return this.args.every(function(C){return C.outputDefined()})},Yt.prototype.serialize=function(){var C=this.type,z=[C.kind];if("array"===C.kind){var J=C.itemType;if("string"===J.kind||"number"===J.kind||"boolean"===J.kind){z.push(J.kind);var ge=C.N;("number"==typeof ge||this.args.length>1)&&z.push(ge)}}return z.concat(this.args.map(function(Re){return Re.serialize()}))};var $t=function(C){this.type=en,this.sections=C};$t.parse=function(C,z){if(C.length<2)return z.error("Expected at least one argument.");var J=C[1];if(!Array.isArray(J)&&"object"==typeof J)return z.error("First argument must be an image or text section.");for(var ge=[],Re=!1,je=1;je<=C.length-1;++je){var Ye=C[je];if(Re&&"object"==typeof Ye&&!Array.isArray(Ye)){Re=!1;var st=null;if(Ye["font-scale"]&&!(st=z.parse(Ye["font-scale"],1,bt)))return null;var vt=null;if(Ye["text-font"]&&!(vt=z.parse(Ye["text-font"],1,dn(Tt))))return null;var Ct=null;if(Ye["text-color"]&&!(Ct=z.parse(Ye["text-color"],1,Wt)))return null;var It=ge[ge.length-1];It.scale=st,It.font=vt,It.textColor=Ct}else{var Gt=z.parse(C[je],1,Jt);if(!Gt)return null;var Kt=Gt.type.kind;if("string"!==Kt&&"value"!==Kt&&"null"!==Kt&&"resolvedImage"!==Kt)return z.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Re=!0,ge.push({content:Gt,scale:null,font:null,textColor:null})}}return new $t(ge)},$t.prototype.evaluate=function(C){return new qn(this.sections.map(function(z){var J=z.content.evaluate(C);return er(J)===nn?new Sn("",J,null,null,null):new Sn(nr(J),null,z.scale?z.scale.evaluate(C):null,z.font?z.font.evaluate(C).join(","):null,z.textColor?z.textColor.evaluate(C):null)}))},$t.prototype.eachChild=function(C){for(var z=0,J=this.sections;z<J.length;z+=1){var ge=J[z];C(ge.content),ge.scale&&C(ge.scale),ge.font&&C(ge.font),ge.textColor&&C(ge.textColor)}},$t.prototype.outputDefined=function(){return!1},$t.prototype.serialize=function(){for(var C=["format"],z=0,J=this.sections;z<J.length;z+=1){var ge=J[z];C.push(ge.content.serialize());var Re={};ge.scale&&(Re["font-scale"]=ge.scale.serialize()),ge.font&&(Re["text-font"]=ge.font.serialize()),ge.textColor&&(Re["text-color"]=ge.textColor.serialize()),C.push(Re)}return C};var xn=function(C){this.type=nn,this.input=C};xn.parse=function(C,z){if(2!==C.length)return z.error("Expected two arguments.");var J=z.parse(C[1],1,Tt);return J?new xn(J):z.error("No image name provided.")},xn.prototype.evaluate=function(C){var z=this.input.evaluate(C),J=kn.fromString(z);return J&&C.availableImages&&(J.available=C.availableImages.indexOf(z)>-1),J},xn.prototype.eachChild=function(C){C(this.input)},xn.prototype.outputDefined=function(){return!1},xn.prototype.serialize=function(){return["image",this.input.serialize()]};var vn={"to-boolean":Ot,"to-color":Wt,"to-number":bt,"to-string":Tt},Dn=function(C,z){this.type=C,this.args=z};Dn.parse=function(C,z){if(C.length<2)return z.error("Expected at least one argument.");var J=C[0];if(("to-boolean"===J||"to-string"===J)&&2!==C.length)return z.error("Expected one argument.");for(var ge=vn[J],Re=[],je=1;je<C.length;je++){var Ye=z.parse(C[je],je,Jt);if(!Ye)return null;Re.push(Ye)}return new Dn(ge,Re)},Dn.prototype.evaluate=function(C){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(C));if("color"===this.type.kind){for(var z,J,ge=0,Re=this.args;ge<Re.length;ge+=1){if(J=null,(z=Re[ge].evaluate(C))instanceof Cn)return z;if("string"==typeof z){var je=C.parseColor(z);if(je)return je}else if(Array.isArray(z)&&!(J=z.length<3||z.length>4?"Invalid rbga value "+JSON.stringify(z)+": expected an array containing either three or four numeric values.":Zn(z[0],z[1],z[2],z[3])))return new Cn(z[0]/255,z[1]/255,z[2]/255,z[3])}throw new dr(J||"Could not parse color from value '"+("string"==typeof z?z:String(JSON.stringify(z)))+"'")}if("number"===this.type.kind){for(var Ye=null,st=0,vt=this.args;st<vt.length;st+=1){if(null===(Ye=vt[st].evaluate(C)))return 0;var Ct=Number(Ye);if(!isNaN(Ct))return Ct}throw new dr("Could not convert "+JSON.stringify(Ye)+" to number.")}return"formatted"===this.type.kind?qn.fromString(nr(this.args[0].evaluate(C))):"resolvedImage"===this.type.kind?kn.fromString(nr(this.args[0].evaluate(C))):nr(this.args[0].evaluate(C))},Dn.prototype.eachChild=function(C){this.args.forEach(C)},Dn.prototype.outputDefined=function(){return this.args.every(function(C){return C.outputDefined()})},Dn.prototype.serialize=function(){if("formatted"===this.type.kind)return new $t([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new xn(this.args[0]).serialize();var C=["to-"+this.type.kind];return this.eachChild(function(z){C.push(z.serialize())}),C};var or=["Unknown","Point","LineString","Polygon"],Yn=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Yn.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Yn.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?or[this.feature.type]:this.feature.type:null},Yn.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Yn.prototype.canonicalID=function(){return this.canonical},Yn.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Yn.prototype.parseColor=function(C){var z=this._parseColorCache[C];return z||(z=this._parseColorCache[C]=Cn.parse(C)),z};var Qn=function(C,z,J,ge){this.name=C,this.type=z,this._evaluate=J,this.args=ge};Qn.prototype.evaluate=function(C){return this._evaluate(C,this.args)},Qn.prototype.eachChild=function(C){this.args.forEach(C)},Qn.prototype.outputDefined=function(){return!1},Qn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(C){return C.serialize()}))},Qn.parse=function(C,z){var J,ge=C[0],Re=Qn.definitions[ge];if(!Re)return z.error('Unknown expression "'+ge+'". If you wanted a literal array, use ["literal", [...]].',0);for(var je=Array.isArray(Re)?Re[0]:Re.type,Ye=Array.isArray(Re)?[[Re[1],Re[2]]]:Re.overloads,st=Ye.filter(function(bi){var oi=bi[0];return!Array.isArray(oi)||oi.length===C.length-1}),vt=null,Ct=0,It=st;Ct<It.length;Ct+=1){var Gt=It[Ct],Kt=Gt[0],Zt=Gt[1];vt=new wr(z.registry,z.path,null,z.scope);for(var mn=[],_n=!1,zn=1;zn<C.length;zn++){var jn=C[zn],Xn=Array.isArray(Kt)?Kt[zn-1]:Kt.type,Jn=vt.parse(jn,1+mn.length,Xn);if(!Jn){_n=!0;break}mn.push(Jn)}if(!_n)if(Array.isArray(Kt)&&Kt.length!==mn.length)vt.error("Expected "+Kt.length+" arguments, but found "+mn.length+" instead.");else{for(var ar=0;ar<mn.length;ar++){var hr=Array.isArray(Kt)?Kt[ar]:Kt.type,br=mn[ar];vt.concat(ar+1).checkSubtype(hr,br.type)}if(0===vt.errors.length)return new Qn(ge,je,Zt,mn)}}if(1===st.length)(J=z.errors).push.apply(J,vt.errors);else{for(var Vr=(st.length?st:Ye).map(function(bi){return oi=bi[0],Array.isArray(oi)?"("+oi.map(In).join(", ")+")":"("+In(oi.type)+"...)";var oi}).join(" | "),Er=[],Zr=1;Zr<C.length;Zr++){var ri=z.parse(C[Zr],1+Er.length);if(!ri)return null;Er.push(In(ri.type))}z.error("Expected arguments of type "+Vr+", but found ("+Er.join(", ")+") instead.")}return null},Qn.register=function(C,z){for(var J in Qn.definitions=z,z)C[J]=Qn};var gr=function(C,z,J){this.type=pn,this.locale=J,this.caseSensitive=C,this.diacriticSensitive=z};gr.parse=function(C,z){if(2!==C.length)return z.error("Expected one argument.");var J=C[1];if("object"!=typeof J||Array.isArray(J))return z.error("Collator options argument must be an object.");var ge=z.parse(void 0!==J["case-sensitive"]&&J["case-sensitive"],1,Ot);if(!ge)return null;var Re=z.parse(void 0!==J["diacritic-sensitive"]&&J["diacritic-sensitive"],1,Ot);if(!Re)return null;var je=null;return J.locale&&!(je=z.parse(J.locale,1,Tt))?null:new gr(ge,Re,je)},gr.prototype.evaluate=function(C){return new Ln(this.caseSensitive.evaluate(C),this.diacriticSensitive.evaluate(C),this.locale?this.locale.evaluate(C):null)},gr.prototype.eachChild=function(C){C(this.caseSensitive),C(this.diacriticSensitive),this.locale&&C(this.locale)},gr.prototype.outputDefined=function(){return!1},gr.prototype.serialize=function(){var C={};return C["case-sensitive"]=this.caseSensitive.serialize(),C["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(C.locale=this.locale.serialize()),["collator",C]};var tn=8192;function Fn(C,z){C[0]=Math.min(C[0],z[0]),C[1]=Math.min(C[1],z[1]),C[2]=Math.max(C[2],z[0]),C[3]=Math.max(C[3],z[1])}function Nt(C,z){return!(C[0]<=z[0]||C[2]>=z[2]||C[1]<=z[1]||C[3]>=z[3])}function an(C,z){var ge=(180+C[0])/360,Re=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+C[1]*Math.PI/360)))/360,je=Math.pow(2,z.z);return[Math.round(ge*je*tn),Math.round(Re*je*tn)]}function cn(C,z,J){return z[1]>C[1]!=J[1]>C[1]&&C[0]<(J[0]-z[0])*(C[1]-z[1])/(J[1]-z[1])+z[0]}function Pn(C,z){for(var J=!1,ge=0,Re=z.length;ge<Re;ge++)for(var je=z[ge],Ye=0,st=je.length;Ye<st-1;Ye++){if(void 0,void 0,void 0,void 0,(Gt=(vt=C)[0]-(Ct=je[Ye])[0])*(mn=vt[1]-(It=je[Ye+1])[1])-(Zt=vt[0]-It[0])*(Kt=vt[1]-Ct[1])==0&&Gt*Zt<=0&&Kt*mn<=0)return!1;cn(C,je[Ye],je[Ye+1])&&(J=!J)}var vt,Ct,It,Gt,Kt,Zt,mn;return J}function Nn(C,z){for(var J=0;J<z.length;J++)if(Pn(C,z[J]))return!0;return!1}function Gn(C,z,J,ge){var vt=ge[0]-J[0],Ct=ge[1]-J[1],It=(C[0]-J[0])*Ct-vt*(C[1]-J[1]),Gt=(z[0]-J[0])*Ct-vt*(z[1]-J[1]);return It>0&&Gt<0||It<0&&Gt>0}function Tn(C,z,J){for(var ge=0,Re=J;ge<Re.length;ge+=1)for(var je=Re[ge],Ye=0;Ye<je.length-1;++Ye)if(void 0,void 0,(Gt=[(It=je[Ye+1])[0]-(Ct=je[Ye])[0],It[1]-Ct[1]])[0]*(Kt=[(vt=z)[0]-(st=C)[0],vt[1]-st[1]])[1]-Gt[1]*Kt[0]!=0&&Gn(st,vt,Ct,It)&&Gn(Ct,It,st,vt))return!0;var st,vt,Ct,It,Gt,Kt;return!1}function un(C,z){for(var J=0;J<C.length;++J)if(!Pn(C[J],z))return!1;for(var ge=0;ge<C.length-1;++ge)if(Tn(C[ge],C[ge+1],z))return!1;return!0}function fn(C,z){for(var J=0;J<z.length;J++)if(un(C,z[J]))return!0;return!1}function bn(C,z,J){for(var ge=[],Re=0;Re<C.length;Re++){for(var je=[],Ye=0;Ye<C[Re].length;Ye++){var st=an(C[Re][Ye],J);Fn(z,st),je.push(st)}ge.push(je)}return ge}function Mn(C,z,J){for(var ge=[],Re=0;Re<C.length;Re++){var je=bn(C[Re],z,J);ge.push(je)}return ge}function Un(C,z,J,ge){if(C[0]<J[0]||C[0]>J[2]){var Re=.5*ge,je=C[0]-J[0]>Re?-ge:J[0]-C[0]>Re?ge:0;0===je&&(je=C[0]-J[2]>Re?-ge:J[2]-C[0]>Re?ge:0),C[0]+=je}Fn(z,C)}function Vn(C,z,J,ge){for(var Re=Math.pow(2,ge.z)*tn,je=[ge.x*tn,ge.y*tn],Ye=[],st=0,vt=C;st<vt.length;st+=1)for(var Ct=0,It=vt[st];Ct<It.length;Ct+=1){var Gt=It[Ct],Kt=[Gt.x+je[0],Gt.y+je[1]];Un(Kt,z,J,Re),Ye.push(Kt)}return Ye}function sr(C,z,J,ge){for(var Re=Math.pow(2,ge.z)*tn,je=[ge.x*tn,ge.y*tn],Ye=[],st=0,vt=C;st<vt.length;st+=1){for(var Ct=[],It=0,Gt=vt[st];It<Gt.length;It+=1){var Kt=Gt[It],Zt=[Kt.x+je[0],Kt.y+je[1]];Fn(z,Zt),Ct.push(Zt)}Ye.push(Ct)}if(z[2]-z[0]<=Re/2){(Xn=z)[0]=Xn[1]=1/0,Xn[2]=Xn[3]=-1/0;for(var mn=0,_n=Ye;mn<_n.length;mn+=1)for(var zn=0,jn=_n[mn];zn<jn.length;zn+=1)Un(jn[zn],z,J,Re)}var Xn;return Ye}var rr=function(C,z){this.type=Ot,this.geojson=C,this.geometries=z};function _r(C){if(C instanceof Qn&&("get"===C.name&&1===C.args.length||"feature-state"===C.name||"has"===C.name&&1===C.args.length||"properties"===C.name||"geometry-type"===C.name||"id"===C.name||/^filter-/.test(C.name))||C instanceof rr)return!1;var z=!0;return C.eachChild(function(J){z&&!_r(J)&&(z=!1)}),z}function Rn(C){if(C instanceof Qn&&"feature-state"===C.name)return!1;var z=!0;return C.eachChild(function(J){z&&!Rn(J)&&(z=!1)}),z}function Mr(C,z){if(C instanceof Qn&&z.indexOf(C.name)>=0)return!1;var J=!0;return C.eachChild(function(ge){J&&!Mr(ge,z)&&(J=!1)}),J}rr.parse=function(C,z){if(2!==C.length)return z.error("'within' expression requires exactly one argument, but found "+(C.length-1)+" instead.");if(fr(C[1])){var J=C[1];if("FeatureCollection"===J.type)for(var ge=0;ge<J.features.length;++ge){var Re=J.features[ge].geometry.type;if("Polygon"===Re||"MultiPolygon"===Re)return new rr(J,J.features[ge].geometry)}else if("Feature"===J.type){var je=J.geometry.type;if("Polygon"===je||"MultiPolygon"===je)return new rr(J,J.geometry)}else if("Polygon"===J.type||"MultiPolygon"===J.type)return new rr(J,J)}return z.error("'within' expression requires valid geojson object that contains polygon geometry type.")},rr.prototype.evaluate=function(C){if(null!=C.geometry()&&null!=C.canonicalID()){if("Point"===C.geometryType())return function(z,J){var ge=[1/0,1/0,-1/0,-1/0],Re=[1/0,1/0,-1/0,-1/0],je=z.canonicalID();if("Polygon"===J.type){var Ye=bn(J.coordinates,Re,je),st=Vn(z.geometry(),ge,Re,je);if(!Nt(ge,Re))return!1;for(var vt=0,Ct=st;vt<Ct.length;vt+=1)if(!Pn(Ct[vt],Ye))return!1}if("MultiPolygon"===J.type){var It=Mn(J.coordinates,Re,je),Gt=Vn(z.geometry(),ge,Re,je);if(!Nt(ge,Re))return!1;for(var Kt=0,Zt=Gt;Kt<Zt.length;Kt+=1)if(!Nn(Zt[Kt],It))return!1}return!0}(C,this.geometries);if("LineString"===C.geometryType())return function(z,J){var ge=[1/0,1/0,-1/0,-1/0],Re=[1/0,1/0,-1/0,-1/0],je=z.canonicalID();if("Polygon"===J.type){var Ye=bn(J.coordinates,Re,je),st=sr(z.geometry(),ge,Re,je);if(!Nt(ge,Re))return!1;for(var vt=0,Ct=st;vt<Ct.length;vt+=1)if(!un(Ct[vt],Ye))return!1}if("MultiPolygon"===J.type){var It=Mn(J.coordinates,Re,je),Gt=sr(z.geometry(),ge,Re,je);if(!Nt(ge,Re))return!1;for(var Kt=0,Zt=Gt;Kt<Zt.length;Kt+=1)if(!fn(Zt[Kt],It))return!1}return!0}(C,this.geometries)}return!1},rr.prototype.eachChild=function(){},rr.prototype.outputDefined=function(){return!0},rr.prototype.serialize=function(){return["within",this.geojson]};var lr=function(C,z){this.type=z.type,this.name=C,this.boundExpression=z};lr.parse=function(C,z){if(2!==C.length||"string"!=typeof C[1])return z.error("'var' expression requires exactly one string literal argument.");var J=C[1];return z.scope.has(J)?new lr(J,z.scope.get(J)):z.error('Unknown variable "'+J+'". Make sure "'+J+'" has been bound in an enclosing "let" expression before using it.',1)},lr.prototype.evaluate=function(C){return this.boundExpression.evaluate(C)},lr.prototype.eachChild=function(){},lr.prototype.outputDefined=function(){return!1},lr.prototype.serialize=function(){return["var",this.name]};var wr=function(C,z,J,ge,Re){void 0===z&&(z=[]),void 0===ge&&(ge=new _t),void 0===Re&&(Re=[]),this.registry=C,this.path=z,this.key=z.map(function(je){return"["+je+"]"}).join(""),this.scope=ge,this.errors=Re,this.expectedType=J};function Pr(C){if(C instanceof lr)return Pr(C.boundExpression);if(C instanceof Qn&&"error"===C.name||C instanceof gr||C instanceof rr)return!1;var z=C instanceof Dn||C instanceof Yt,J=!0;return C.eachChild(function(ge){J=z?J&&Pr(ge):J&&ge instanceof mr}),!!J&&_r(C)&&Mr(C,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Lr(C,z){for(var J,Re=C.length-1,je=0,Ye=Re,st=0;je<=Ye;)if((J=C[st=Math.floor((je+Ye)/2)])<=z){if(st===Re||z<C[st+1])return st;je=st+1}else{if(!(J>z))throw new dr("Input is not a number.");Ye=st-1}return 0}wr.prototype.parse=function(C,z,J,ge,Re){return void 0===Re&&(Re={}),z?this.concat(z,J,ge)._parse(C,Re):this._parse(C,Re)},wr.prototype._parse=function(C,z){function J(Ct,It,Gt){return"assert"===Gt?new Yt(It,[Ct]):"coerce"===Gt?new Dn(It,[Ct]):Ct}if(null!==C&&"string"!=typeof C&&"boolean"!=typeof C&&"number"!=typeof C||(C=["literal",C]),Array.isArray(C)){if(0===C.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ge=C[0];if("string"!=typeof ge)return this.error("Expression name must be a string, but found "+typeof ge+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Re=this.registry[ge];if(Re){var je=Re.parse(C,this);if(!je)return null;if(this.expectedType){var Ye=this.expectedType,st=je.type;if("string"!==Ye.kind&&"number"!==Ye.kind&&"boolean"!==Ye.kind&&"object"!==Ye.kind&&"array"!==Ye.kind||"value"!==st.kind)if("color"!==Ye.kind&&"formatted"!==Ye.kind&&"resolvedImage"!==Ye.kind||"value"!==st.kind&&"string"!==st.kind){if(this.checkSubtype(Ye,st))return null}else je=J(je,Ye,z.typeAnnotation||"coerce");else je=J(je,Ye,z.typeAnnotation||"assert")}if(!(je instanceof mr)&&"resolvedImage"!==je.type.kind&&Pr(je)){var vt=new Yn;try{je=new mr(je.type,je.evaluate(vt))}catch(Ct){return this.error(Ct.message),null}}return je}return this.error('Unknown expression "'+ge+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===C?"'undefined' value invalid. Use null instead.":"object"==typeof C?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof C+" instead.")},wr.prototype.concat=function(C,z,J){var ge="number"==typeof C?this.path.concat(C):this.path,Re=J?this.scope.concat(J):this.scope;return new wr(this.registry,ge,z||null,Re,this.errors)},wr.prototype.error=function(C){for(var z=[],J=arguments.length-1;J-- >0;)z[J]=arguments[J+1];var ge=""+this.key+z.map(function(Re){return"["+Re+"]"}).join("");this.errors.push(new kt(ge,C))},wr.prototype.checkSubtype=function(C,z){var J=An(C,z);return J&&this.error(J),J};var ii=function(C,z,J){this.type=C,this.input=z,this.labels=[],this.outputs=[];for(var ge=0,Re=J;ge<Re.length;ge+=1){var je=Re[ge],st=je[1];this.labels.push(je[0]),this.outputs.push(st)}};function pr(C,z,J){return C*(1-J)+z*J}ii.parse=function(C,z){if(C.length-1<4)return z.error("Expected at least 4 arguments, but found only "+(C.length-1)+".");if((C.length-1)%2!=0)return z.error("Expected an even number of arguments.");var J=z.parse(C[1],1,bt);if(!J)return null;var ge=[],Re=null;z.expectedType&&"value"!==z.expectedType.kind&&(Re=z.expectedType);for(var je=1;je<C.length;je+=2){var Ye=1===je?-1/0:C[je],st=C[je+1],vt=je,Ct=je+1;if("number"!=typeof Ye)return z.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',vt);if(ge.length&&ge[ge.length-1][0]>=Ye)return z.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',vt);var It=z.parse(st,Ct,Re);if(!It)return null;Re=Re||It.type,ge.push([Ye,It])}return new ii(Re,J,ge)},ii.prototype.evaluate=function(C){var z=this.labels,J=this.outputs;if(1===z.length)return J[0].evaluate(C);var ge=this.input.evaluate(C);if(ge<=z[0])return J[0].evaluate(C);var Re=z.length;return ge>=z[Re-1]?J[Re-1].evaluate(C):J[Lr(z,ge)].evaluate(C)},ii.prototype.eachChild=function(C){C(this.input);for(var z=0,J=this.outputs;z<J.length;z+=1)C(J[z])},ii.prototype.outputDefined=function(){return this.outputs.every(function(C){return C.outputDefined()})},ii.prototype.serialize=function(){for(var C=["step",this.input.serialize()],z=0;z<this.labels.length;z++)z>0&&C.push(this.labels[z]),C.push(this.outputs[z].serialize());return C};var Ur=Object.freeze({__proto__:null,number:pr,color:function(C,z,J){return new Cn(pr(C.r,z.r,J),pr(C.g,z.g,J),pr(C.b,z.b,J),pr(C.a,z.a,J))},array:function(C,z,J){return C.map(function(ge,Re){return pr(ge,z[Re],J)})}}),ui=.95047,Yi=1,Eo=1.08883,Qr=4/29,wo=6/29,co=3*wo*wo,Zi=wo*wo*wo,Vs=Math.PI/180,vs=180/Math.PI;function Xi(C){return C>Zi?Math.pow(C,.3333333333333333):C/co+Qr}function uf(C){return C>wo?C*C*C:co*(C-Qr)}function Bu(C){return 255*(C<=.0031308?12.92*C:1.055*Math.pow(C,.4166666666666667)-.055)}function gc(C){return(C/=255)<=.04045?C/12.92:Math.pow((C+.055)/1.055,2.4)}function mu(C){var z=gc(C.r),J=gc(C.g),ge=gc(C.b),Re=Xi((.4124564*z+.3575761*J+.1804375*ge)/ui),je=Xi((.2126729*z+.7151522*J+.072175*ge)/Yi);return{l:116*je-16,a:500*(Re-je),b:200*(je-Xi((.0193339*z+.119192*J+.9503041*ge)/Eo)),alpha:C.a}}function Es(C){var z=(C.l+16)/116,J=isNaN(C.a)?z:z+C.a/500,ge=isNaN(C.b)?z:z-C.b/200;return z=Yi*uf(z),J=ui*uf(J),ge=Eo*uf(ge),new Cn(Bu(3.2404542*J-1.5371385*z-.4985314*ge),Bu(-.969266*J+1.8760108*z+.041556*ge),Bu(.0556434*J-.2040259*z+1.0572252*ge),C.alpha)}function Qu(C,z,J){var ge=z-C;return C+J*(ge>180||ge<-180?ge-360*Math.round(ge/360):ge)}var vu={forward:mu,reverse:Es,interpolate:function(C,z,J){return{l:pr(C.l,z.l,J),a:pr(C.a,z.a,J),b:pr(C.b,z.b,J),alpha:pr(C.alpha,z.alpha,J)}}},yu={forward:function(C){var z=mu(C),J=z.l,ge=z.a,Re=z.b,je=Math.atan2(Re,ge)*vs;return{h:je<0?je+360:je,c:Math.sqrt(ge*ge+Re*Re),l:J,alpha:C.a}},reverse:function(C){var z=C.h*Vs,J=C.c;return Es({l:C.l,a:Math.cos(z)*J,b:Math.sin(z)*J,alpha:C.alpha})},interpolate:function(C,z,J){return{h:Qu(C.h,z.h,J),c:pr(C.c,z.c,J),l:pr(C.l,z.l,J),alpha:pr(C.alpha,z.alpha,J)}}},hl=Object.freeze({__proto__:null,lab:vu,hcl:yu}),qo=function(C,z,J,ge,Re){this.type=C,this.operator=z,this.interpolation=J,this.input=ge,this.labels=[],this.outputs=[];for(var je=0,Ye=Re;je<Ye.length;je+=1){var st=Ye[je],Ct=st[1];this.labels.push(st[0]),this.outputs.push(Ct)}};function Ll(C,z,J,ge){var Re=ge-J,je=C-J;return 0===Re?0:1===z?je/Re:(Math.pow(z,je)-1)/(Math.pow(z,Re)-1)}qo.interpolationFactor=function(C,z,J,ge){var Re=0;if("exponential"===C.name)Re=Ll(z,C.base,J,ge);else if("linear"===C.name)Re=Ll(z,1,J,ge);else if("cubic-bezier"===C.name){var je=C.controlPoints;Re=new v(je[0],je[1],je[2],je[3]).solve(Ll(z,1,J,ge))}return Re},qo.parse=function(C,z){var J=C[0],ge=C[1],Re=C[2],je=C.slice(3);if(!Array.isArray(ge)||0===ge.length)return z.error("Expected an interpolation type expression.",1);if("linear"===ge[0])ge={name:"linear"};else if("exponential"===ge[0]){var Ye=ge[1];if("number"!=typeof Ye)return z.error("Exponential interpolation requires a numeric base.",1,1);ge={name:"exponential",base:Ye}}else{if("cubic-bezier"!==ge[0])return z.error("Unknown interpolation type "+String(ge[0]),1,0);var st=ge.slice(1);if(4!==st.length||st.some(function(zn){return"number"!=typeof zn||zn<0||zn>1}))return z.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ge={name:"cubic-bezier",controlPoints:st}}if(C.length-1<4)return z.error("Expected at least 4 arguments, but found only "+(C.length-1)+".");if((C.length-1)%2!=0)return z.error("Expected an even number of arguments.");if(!(Re=z.parse(Re,2,bt)))return null;var vt=[],Ct=null;"interpolate-hcl"===J||"interpolate-lab"===J?Ct=Wt:z.expectedType&&"value"!==z.expectedType.kind&&(Ct=z.expectedType);for(var It=0;It<je.length;It+=2){var Gt=je[It],Kt=je[It+1],Zt=It+3,mn=It+4;if("number"!=typeof Gt)return z.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Zt);if(vt.length&&vt[vt.length-1][0]>=Gt)return z.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Zt);var _n=z.parse(Kt,mn,Ct);if(!_n)return null;Ct=Ct||_n.type,vt.push([Gt,_n])}return"number"===Ct.kind||"color"===Ct.kind||"array"===Ct.kind&&"number"===Ct.itemType.kind&&"number"==typeof Ct.N?new qo(Ct,J,ge,Re,vt):z.error("Type "+In(Ct)+" is not interpolatable.")},qo.prototype.evaluate=function(C){var z=this.labels,J=this.outputs;if(1===z.length)return J[0].evaluate(C);var ge=this.input.evaluate(C);if(ge<=z[0])return J[0].evaluate(C);var Re=z.length;if(ge>=z[Re-1])return J[Re-1].evaluate(C);var je=Lr(z,ge),vt=qo.interpolationFactor(this.interpolation,ge,z[je],z[je+1]),Ct=J[je].evaluate(C),It=J[je+1].evaluate(C);return"interpolate"===this.operator?Ur[this.type.kind.toLowerCase()](Ct,It,vt):"interpolate-hcl"===this.operator?yu.reverse(yu.interpolate(yu.forward(Ct),yu.forward(It),vt)):vu.reverse(vu.interpolate(vu.forward(Ct),vu.forward(It),vt))},qo.prototype.eachChild=function(C){C(this.input);for(var z=0,J=this.outputs;z<J.length;z+=1)C(J[z])},qo.prototype.outputDefined=function(){return this.outputs.every(function(C){return C.outputDefined()})},qo.prototype.serialize=function(){var C;C="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var z=[this.operator,C,this.input.serialize()],J=0;J<this.labels.length;J++)z.push(this.labels[J],this.outputs[J].serialize());return z};var Fi=function(C,z){this.type=C,this.args=z};Fi.parse=function(C,z){if(C.length<2)return z.error("Expectected at least one argument.");var J=null,ge=z.expectedType;ge&&"value"!==ge.kind&&(J=ge);for(var Re=[],je=0,Ye=C.slice(1);je<Ye.length;je+=1){var vt=z.parse(Ye[je],1+Re.length,J,void 0,{typeAnnotation:"omit"});if(!vt)return null;J=J||vt.type,Re.push(vt)}var Ct=ge&&Re.some(function(It){return An(ge,It.type)});return new Fi(Ct?Jt:J,Re)},Fi.prototype.evaluate=function(C){for(var z,J=null,ge=0,Re=0,je=this.args;Re<je.length&&(ge++,(J=je[Re].evaluate(C))&&J instanceof kn&&!J.available&&(z||(z=J.name),J=null,ge===this.args.length&&(J=z)),null===J);Re+=1);return J},Fi.prototype.eachChild=function(C){this.args.forEach(C)},Fi.prototype.outputDefined=function(){return this.args.every(function(C){return C.outputDefined()})},Fi.prototype.serialize=function(){var C=["coalesce"];return this.eachChild(function(z){C.push(z.serialize())}),C};var pl=function(C,z){this.type=z.type,this.bindings=[].concat(C),this.result=z};pl.prototype.evaluate=function(C){return this.result.evaluate(C)},pl.prototype.eachChild=function(C){for(var z=0,J=this.bindings;z<J.length;z+=1)C(J[z][1]);C(this.result)},pl.parse=function(C,z){if(C.length<4)return z.error("Expected at least 3 arguments, but found "+(C.length-1)+" instead.");for(var J=[],ge=1;ge<C.length-1;ge+=2){var Re=C[ge];if("string"!=typeof Re)return z.error("Expected string, but found "+typeof Re+" instead.",ge);if(/[^a-zA-Z0-9_]/.test(Re))return z.error("Variable names must contain only alphanumeric characters or '_'.",ge);var je=z.parse(C[ge+1],ge+1);if(!je)return null;J.push([Re,je])}var Ye=z.parse(C[C.length-1],C.length-1,z.expectedType,J);return Ye?new pl(J,Ye):null},pl.prototype.outputDefined=function(){return this.result.outputDefined()},pl.prototype.serialize=function(){for(var C=["let"],z=0,J=this.bindings;z<J.length;z+=1){var ge=J[z];C.push(ge[0],ge[1].serialize())}return C.push(this.result.serialize()),C};var Nr=function(C,z,J){this.type=C,this.index=z,this.input=J};Nr.parse=function(C,z){if(3!==C.length)return z.error("Expected 2 arguments, but found "+(C.length-1)+" instead.");var J=z.parse(C[1],1,bt),ge=z.parse(C[2],2,dn(z.expectedType||Jt));return J&&ge?new Nr(ge.type.itemType,J,ge):null},Nr.prototype.evaluate=function(C){var z=this.index.evaluate(C),J=this.input.evaluate(C);if(z<0)throw new dr("Array index out of bounds: "+z+" < 0.");if(z>=J.length)throw new dr("Array index out of bounds: "+z+" > "+(J.length-1)+".");if(z!==Math.floor(z))throw new dr("Array index must be an integer, but found "+z+" instead.");return J[z]},Nr.prototype.eachChild=function(C){C(this.index),C(this.input)},Nr.prototype.outputDefined=function(){return!1},Nr.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ml=function(C,z){this.type=Ot,this.needle=C,this.haystack=z};ml.parse=function(C,z){if(3!==C.length)return z.error("Expected 2 arguments, but found "+(C.length-1)+" instead.");var J=z.parse(C[1],1,Jt),ge=z.parse(C[2],2,Jt);return J&&ge?on(J.type,[Ot,Tt,bt,Rt,Jt])?new ml(J,ge):z.error("Expected first argument to be of type boolean, string, number or null, but found "+In(J.type)+" instead"):null},ml.prototype.evaluate=function(C){var z=this.needle.evaluate(C),J=this.haystack.evaluate(C);if(!J)return!1;if(!yn(z,["boolean","string","number","null"]))throw new dr("Expected first argument to be of type boolean, string, number or null, but found "+In(er(z))+" instead.");if(!yn(J,["string","array"]))throw new dr("Expected second argument to be of type array or string, but found "+In(er(J))+" instead.");return J.indexOf(z)>=0},ml.prototype.eachChild=function(C){C(this.needle),C(this.haystack)},ml.prototype.outputDefined=function(){return!0},ml.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var mi=function(C,z,J){this.type=bt,this.needle=C,this.haystack=z,this.fromIndex=J};mi.parse=function(C,z){if(C.length<=2||C.length>=5)return z.error("Expected 3 or 4 arguments, but found "+(C.length-1)+" instead.");var J=z.parse(C[1],1,Jt),ge=z.parse(C[2],2,Jt);if(!J||!ge)return null;if(!on(J.type,[Ot,Tt,bt,Rt,Jt]))return z.error("Expected first argument to be of type boolean, string, number or null, but found "+In(J.type)+" instead");if(4===C.length){var Re=z.parse(C[3],3,bt);return Re?new mi(J,ge,Re):null}return new mi(J,ge)},mi.prototype.evaluate=function(C){var z=this.needle.evaluate(C),J=this.haystack.evaluate(C);if(!yn(z,["boolean","string","number","null"]))throw new dr("Expected first argument to be of type boolean, string, number or null, but found "+In(er(z))+" instead.");if(!yn(J,["string","array"]))throw new dr("Expected second argument to be of type array or string, but found "+In(er(J))+" instead.");if(this.fromIndex){var ge=this.fromIndex.evaluate(C);return J.indexOf(z,ge)}return J.indexOf(z)},mi.prototype.eachChild=function(C){C(this.needle),C(this.haystack),this.fromIndex&&C(this.fromIndex)},mi.prototype.outputDefined=function(){return!1},mi.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var C=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),C]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Hs=function(C,z,J,ge,Re,je){this.inputType=C,this.type=z,this.input=J,this.cases=ge,this.outputs=Re,this.otherwise=je};Hs.parse=function(C,z){if(C.length<5)return z.error("Expected at least 4 arguments, but found only "+(C.length-1)+".");if(C.length%2!=1)return z.error("Expected an even number of arguments.");var J,ge;z.expectedType&&"value"!==z.expectedType.kind&&(ge=z.expectedType);for(var Re={},je=[],Ye=2;Ye<C.length-1;Ye+=2){var st=C[Ye],vt=C[Ye+1];Array.isArray(st)||(st=[st]);var Ct=z.concat(Ye);if(0===st.length)return Ct.error("Expected at least one branch label.");for(var It=0,Gt=st;It<Gt.length;It+=1){var Kt=Gt[It];if("number"!=typeof Kt&&"string"!=typeof Kt)return Ct.error("Branch labels must be numbers or strings.");if("number"==typeof Kt&&Math.abs(Kt)>Number.MAX_SAFE_INTEGER)return Ct.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof Kt&&Math.floor(Kt)!==Kt)return Ct.error("Numeric branch labels must be integer values.");if(J){if(Ct.checkSubtype(J,er(Kt)))return null}else J=er(Kt);if(void 0!==Re[String(Kt)])return Ct.error("Branch labels must be unique.");Re[String(Kt)]=je.length}var Zt=z.parse(vt,Ye,ge);if(!Zt)return null;ge=ge||Zt.type,je.push(Zt)}var mn=z.parse(C[1],1,Jt);if(!mn)return null;var _n=z.parse(C[C.length-1],C.length-1,ge);return _n?"value"!==mn.type.kind&&z.concat(1).checkSubtype(J,mn.type)?null:new Hs(J,ge,mn,Re,je,_n):null},Hs.prototype.evaluate=function(C){var z=this.input.evaluate(C);return(er(z)===this.inputType&&this.outputs[this.cases[z]]||this.otherwise).evaluate(C)},Hs.prototype.eachChild=function(C){C(this.input),this.outputs.forEach(C),C(this.otherwise)},Hs.prototype.outputDefined=function(){return this.outputs.every(function(C){return C.outputDefined()})&&this.otherwise.outputDefined()},Hs.prototype.serialize=function(){for(var C=this,z=["match",this.input.serialize()],J=[],ge={},Re=0,je=Object.keys(this.cases).sort();Re<je.length;Re+=1){var Ye=je[Re];void 0===(Gt=ge[this.cases[Ye]])?(ge[this.cases[Ye]]=J.length,J.push([this.cases[Ye],[Ye]])):J[Gt][1].push(Ye)}for(var st=function(Zt){return"number"===C.inputType.kind?Number(Zt):Zt},vt=0,Ct=J;vt<Ct.length;vt+=1){var It=Ct[vt],Gt=It[0],Kt=It[1];z.push(1===Kt.length?st(Kt[0]):Kt.map(st)),z.push(this.outputs[outputIndex$1].serialize())}return z.push(this.otherwise.serialize()),z};var Gs=function(C,z,J){this.type=C,this.branches=z,this.otherwise=J};Gs.parse=function(C,z){if(C.length<4)return z.error("Expected at least 3 arguments, but found only "+(C.length-1)+".");if(C.length%2!=0)return z.error("Expected an odd number of arguments.");var J;z.expectedType&&"value"!==z.expectedType.kind&&(J=z.expectedType);for(var ge=[],Re=1;Re<C.length-1;Re+=2){var je=z.parse(C[Re],Re,Ot);if(!je)return null;var Ye=z.parse(C[Re+1],Re+1,J);if(!Ye)return null;ge.push([je,Ye]),J=J||Ye.type}var st=z.parse(C[C.length-1],C.length-1,J);return st?new Gs(J,ge,st):null},Gs.prototype.evaluate=function(C){for(var z=0,J=this.branches;z<J.length;z+=1){var ge=J[z],je=ge[1];if(ge[0].evaluate(C))return je.evaluate(C)}return this.otherwise.evaluate(C)},Gs.prototype.eachChild=function(C){for(var z=0,J=this.branches;z<J.length;z+=1){var ge=J[z],je=ge[1];C(ge[0]),C(je)}C(this.otherwise)},Gs.prototype.outputDefined=function(){return this.branches.every(function(C){return C[1].outputDefined()})&&this.otherwise.outputDefined()},Gs.prototype.serialize=function(){var C=["case"];return this.eachChild(function(z){C.push(z.serialize())}),C};var ys=function(C,z,J,ge){this.type=C,this.input=z,this.beginIndex=J,this.endIndex=ge};function mc(C,z){return"=="===C||"!="===C?"boolean"===z.kind||"string"===z.kind||"number"===z.kind||"null"===z.kind||"value"===z.kind:"string"===z.kind||"number"===z.kind||"value"===z.kind}function cf(C,z,J,ge){return 0===ge.compare(z,J)}function Ql(C,z,J){var ge="=="!==C&&"!="!==C;return function(){function Re(je,Ye,st){this.type=Ot,this.lhs=je,this.rhs=Ye,this.collator=st,this.hasUntypedArgument="value"===je.type.kind||"value"===Ye.type.kind}return Re.parse=function(je,Ye){if(3!==je.length&&4!==je.length)return Ye.error("Expected two or three arguments.");var st=je[0],vt=Ye.parse(je[1],1,Jt);if(!vt)return null;if(!mc(st,vt.type))return Ye.concat(1).error('"'+st+"\" comparisons are not supported for type '"+In(vt.type)+"'.");var Ct=Ye.parse(je[2],2,Jt);if(!Ct)return null;if(!mc(st,Ct.type))return Ye.concat(2).error('"'+st+"\" comparisons are not supported for type '"+In(Ct.type)+"'.");if(vt.type.kind!==Ct.type.kind&&"value"!==vt.type.kind&&"value"!==Ct.type.kind)return Ye.error("Cannot compare types '"+In(vt.type)+"' and '"+In(Ct.type)+"'.");ge&&("value"===vt.type.kind&&"value"!==Ct.type.kind?vt=new Yt(Ct.type,[vt]):"value"!==vt.type.kind&&"value"===Ct.type.kind&&(Ct=new Yt(vt.type,[Ct])));var It=null;if(4===je.length){if("string"!==vt.type.kind&&"string"!==Ct.type.kind&&"value"!==vt.type.kind&&"value"!==Ct.type.kind)return Ye.error("Cannot use collator to compare non-string types.");if(!(It=Ye.parse(je[3],3,pn)))return null}return new Re(vt,Ct,It)},Re.prototype.evaluate=function(je){var Ye=this.lhs.evaluate(je),st=this.rhs.evaluate(je);if(ge&&this.hasUntypedArgument){var vt=er(Ye),Ct=er(st);if(vt.kind!==Ct.kind||"string"!==vt.kind&&"number"!==vt.kind)throw new dr('Expected arguments for "'+C+'" to be (string, string) or (number, number), but found ('+vt.kind+", "+Ct.kind+") instead.")}if(this.collator&&!ge&&this.hasUntypedArgument){var It=er(Ye),Gt=er(st);if("string"!==It.kind||"string"!==Gt.kind)return z(je,Ye,st)}return this.collator?J(je,Ye,st,this.collator.evaluate(je)):z(je,Ye,st)},Re.prototype.eachChild=function(je){je(this.lhs),je(this.rhs),this.collator&&je(this.collator)},Re.prototype.outputDefined=function(){return!0},Re.prototype.serialize=function(){var je=[C];return this.eachChild(function(Ye){je.push(Ye.serialize())}),je},Re}()}ys.parse=function(C,z){if(C.length<=2||C.length>=5)return z.error("Expected 3 or 4 arguments, but found "+(C.length-1)+" instead.");var J=z.parse(C[1],1,Jt),ge=z.parse(C[2],2,bt);if(!J||!ge)return null;if(!on(J.type,[dn(Jt),Tt,Jt]))return z.error("Expected first argument to be of type array or string, but found "+In(J.type)+" instead");if(4===C.length){var Re=z.parse(C[3],3,bt);return Re?new ys(J.type,J,ge,Re):null}return new ys(J.type,J,ge)},ys.prototype.evaluate=function(C){var z=this.input.evaluate(C),J=this.beginIndex.evaluate(C);if(!yn(z,["string","array"]))throw new dr("Expected first argument to be of type array or string, but found "+In(er(z))+" instead.");if(this.endIndex){var ge=this.endIndex.evaluate(C);return z.slice(J,ge)}return z.slice(J)},ys.prototype.eachChild=function(C){C(this.input),C(this.beginIndex),this.endIndex&&C(this.endIndex)},ys.prototype.outputDefined=function(){return!1},ys.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var C=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),C]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var vl=Ql("==",function(C,z,J){return z===J},cf),Cs=Ql("!=",function(C,z,J){return z!==J},function(C,z,J,ge){return!cf(0,z,J,ge)}),Ws=Ql("<",function(C,z,J){return z<J},function(C,z,J,ge){return ge.compare(z,J)<0}),qs=Ql(">",function(C,z,J){return z>J},function(C,z,J,ge){return ge.compare(z,J)>0}),Ji=Ql("<=",function(C,z,J){return z<=J},function(C,z,J,ge){return ge.compare(z,J)<=0}),Nl=Ql(">=",function(C,z,J){return z>=J},function(C,z,J,ge){return ge.compare(z,J)>=0}),yl=function(C,z,J,ge,Re){this.type=Tt,this.number=C,this.locale=z,this.currency=J,this.minFractionDigits=ge,this.maxFractionDigits=Re};yl.parse=function(C,z){if(3!==C.length)return z.error("Expected two arguments.");var J=z.parse(C[1],1,bt);if(!J)return null;var ge=C[2];if("object"!=typeof ge||Array.isArray(ge))return z.error("NumberFormat options argument must be an object.");var Re=null;if(ge.locale&&!(Re=z.parse(ge.locale,1,Tt)))return null;var je=null;if(ge.currency&&!(je=z.parse(ge.currency,1,Tt)))return null;var Ye=null;if(ge["min-fraction-digits"]&&!(Ye=z.parse(ge["min-fraction-digits"],1,bt)))return null;var st=null;return ge["max-fraction-digits"]&&!(st=z.parse(ge["max-fraction-digits"],1,bt))?null:new yl(J,Re,je,Ye,st)},yl.prototype.evaluate=function(C){return new Intl.NumberFormat(this.locale?this.locale.evaluate(C):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(C):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(C):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(C):void 0}).format(this.number.evaluate(C))},yl.prototype.eachChild=function(C){C(this.number),this.locale&&C(this.locale),this.currency&&C(this.currency),this.minFractionDigits&&C(this.minFractionDigits),this.maxFractionDigits&&C(this.maxFractionDigits)},yl.prototype.outputDefined=function(){return!1},yl.prototype.serialize=function(){var C={};return this.locale&&(C.locale=this.locale.serialize()),this.currency&&(C.currency=this.currency.serialize()),this.minFractionDigits&&(C["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(C["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),C]};var Fl=function(C){this.type=bt,this.input=C};Fl.parse=function(C,z){if(2!==C.length)return z.error("Expected 1 argument, but found "+(C.length-1)+" instead.");var J=z.parse(C[1],1);return J?"array"!==J.type.kind&&"string"!==J.type.kind&&"value"!==J.type.kind?z.error("Expected argument of type string or array, but found "+In(J.type)+" instead."):new Fl(J):null},Fl.prototype.evaluate=function(C){var z=this.input.evaluate(C);if("string"==typeof z||Array.isArray(z))return z.length;throw new dr("Expected value to be of type string or array, but found "+In(er(z))+" instead.")},Fl.prototype.eachChild=function(C){C(this.input)},Fl.prototype.outputDefined=function(){return!1},Fl.prototype.serialize=function(){var C=["length"];return this.eachChild(function(z){C.push(z.serialize())}),C};var _u={"==":vl,"!=":Cs,">":qs,"<":Ws,">=":Nl,"<=":Ji,array:Yt,at:Nr,boolean:Yt,case:Gs,coalesce:Fi,collator:gr,format:$t,image:xn,in:ml,"index-of":mi,interpolate:qo,"interpolate-hcl":qo,"interpolate-lab":qo,length:Fl,let:pl,literal:mr,match:Hs,number:Yt,"number-format":yl,object:Yt,slice:ys,step:ii,string:Yt,"to-boolean":Dn,"to-color":Dn,"to-number":Dn,"to-string":Dn,var:lr,within:rr};function Ds(C,z){var J=z[0],ge=z[1],Re=z[2],je=z[3];J=J.evaluate(C),ge=ge.evaluate(C),Re=Re.evaluate(C);var Ye=je?je.evaluate(C):1,st=Zn(J,ge,Re,Ye);if(st)throw new dr(st);return new Cn(J/255*Ye,ge/255*Ye,Re/255*Ye,Ye)}function xu(C,z){return C in z}function Ic(C,z){var J=z[C];return void 0===J?null:J}function ji(C){return{type:C}}function bu(C){return{result:"success",value:C}}function _l(C){return{result:"error",value:C}}function zl(C){return"data-driven"===C["property-type"]||"cross-faded-data-driven"===C["property-type"]}function ro(C){return!!C.expression&&C.expression.parameters.indexOf("zoom")>-1}function eu(C){return!!C.expression&&C.expression.interpolated}function io(C){return C instanceof Number?"number":C instanceof String?"string":C instanceof Boolean?"boolean":Array.isArray(C)?"array":null===C?"null":typeof C}function Br(C){return"object"==typeof C&&null!==C&&!Array.isArray(C)}function ma(C){return C}function Oi(C,z){var J,ge,Re,je="color"===z.type,Ye=C.stops&&"object"==typeof C.stops[0][0],vt=Ye||!(Ye||void 0!==C.property),Ct=C.type||(eu(z)?"exponential":"interval");if(je&&((C=ut({},C)).stops&&(C.stops=C.stops.map(function(Er){return[Er[0],Cn.parse(Er[1])]})),C.default=Cn.parse(C.default?C.default:z.default)),C.colorSpace&&"rgb"!==C.colorSpace&&!hl[C.colorSpace])throw new Error("Unknown color space: "+C.colorSpace);if("exponential"===Ct)J=ss;else if("interval"===Ct)J=Bl;else if("categorical"===Ct){J=as,ge=Object.create(null);for(var It=0,Gt=C.stops;It<Gt.length;It+=1){var Kt=Gt[It];ge[Kt[0]]=Kt[1]}Re=typeof C.stops[0][0]}else{if("identity"!==Ct)throw new Error('Unknown function type "'+Ct+'"');J=Pc}if(Ye){for(var Zt={},mn=[],_n=0;_n<C.stops.length;_n++){var zn=C.stops[_n],jn=zn[0].zoom;void 0===Zt[jn]&&(Zt[jn]={zoom:jn,type:C.type,property:C.property,default:C.default,stops:[]},mn.push(jn)),Zt[jn].stops.push([zn[0].value,zn[1]])}for(var Xn=[],Jn=0,ar=mn;Jn<ar.length;Jn+=1){var hr=ar[Jn];Xn.push([Zt[hr].zoom,Oi(Zt[hr],z)])}var br={name:"linear"};return{kind:"composite",interpolationType:br,interpolationFactor:qo.interpolationFactor.bind(void 0,br),zoomStops:Xn.map(function(Er){return Er[0]}),evaluate:function(Er,Zr){var ri=Er.zoom;return ss({stops:Xn,base:C.base},z,ri).evaluate(ri,Zr)}}}if(vt){var Vr="exponential"===Ct?{name:"exponential",base:void 0!==C.base?C.base:1}:null;return{kind:"camera",interpolationType:Vr,interpolationFactor:qo.interpolationFactor.bind(void 0,Vr),zoomStops:C.stops.map(function(Er){return Er[0]}),evaluate:function(Er){return J(C,z,Er.zoom,ge,Re)}}}return{kind:"source",evaluate:function(Er,Zr){var ri=Zr&&Zr.properties?Zr.properties[C.property]:void 0;return void 0===ri?$o(C.default,z.default):J(C,z,ri,ge,Re)}}}function $o(C,z,J){return void 0!==C?C:void 0!==z?z:void 0!==J?J:void 0}function as(C,z,J,ge,Re){return $o(typeof J===Re?ge[J]:void 0,C.default,z.default)}function Bl(C,z,J){if("number"!==io(J))return $o(C.default,z.default);var ge=C.stops.length;if(1===ge||J<=C.stops[0][0])return C.stops[0][1];if(J>=C.stops[ge-1][0])return C.stops[ge-1][1];var Re=Lr(C.stops.map(function(je){return je[0]}),J);return C.stops[Re][1]}function ss(C,z,J){var ge=void 0!==C.base?C.base:1;if("number"!==io(J))return $o(C.default,z.default);var Re=C.stops.length;if(1===Re||J<=C.stops[0][0])return C.stops[0][1];if(J>=C.stops[Re-1][0])return C.stops[Re-1][1];var Kt,Zt,_n,zn,je=Lr(C.stops.map(function(Gt){return Gt[0]}),J),Ye=(Kt=ge,zn=J-(Zt=C.stops[je][0]),0==(_n=C.stops[je+1][0]-Zt)?0:1===Kt?zn/_n:(Math.pow(Kt,zn)-1)/(Math.pow(Kt,_n)-1)),st=C.stops[je][1],vt=C.stops[je+1][1],Ct=Ur[z.type]||ma;if(C.colorSpace&&"rgb"!==C.colorSpace){var It=hl[C.colorSpace];Ct=function(Gt,Kt){return It.reverse(It.interpolate(It.forward(Gt),It.forward(Kt),Ye))}}return"function"==typeof st.evaluate?{evaluate:function(){for(var Gt=[],Kt=arguments.length;Kt--;)Gt[Kt]=arguments[Kt];var Zt=st.evaluate.apply(void 0,Gt),mn=vt.evaluate.apply(void 0,Gt);if(void 0!==Zt&&void 0!==mn)return Ct(Zt,mn,Ye)}}:Ct(st,vt,Ye)}function Pc(C,z,J){return"color"===z.type?J=Cn.parse(J):"formatted"===z.type?J=qn.fromString(J.toString()):"resolvedImage"===z.type?J=kn.fromString(J.toString()):io(J)===z.type||"enum"===z.type&&z.values[J]||(J=void 0),$o(J,C.default,z.default)}Qn.register(_u,{error:[{kind:"error"},[Tt],function(C,z){throw new dr(z[0].evaluate(C))}],typeof:[Tt,[Jt],function(C,z){return In(er(z[0].evaluate(C)))}],"to-rgba":[dn(bt,4),[Wt],function(C,z){return z[0].evaluate(C).toArray()}],rgb:[Wt,[bt,bt,bt],Ds],rgba:[Wt,[bt,bt,bt,bt],Ds],has:{type:Ot,overloads:[[[Tt],function(C,z){return xu(z[0].evaluate(C),C.properties())}],[[Tt,qt],function(C,z){var ge=z[1];return xu(z[0].evaluate(C),ge.evaluate(C))}]]},get:{type:Jt,overloads:[[[Tt],function(C,z){return Ic(z[0].evaluate(C),C.properties())}],[[Tt,qt],function(C,z){var ge=z[1];return Ic(z[0].evaluate(C),ge.evaluate(C))}]]},"feature-state":[Jt,[Tt],function(C,z){return Ic(z[0].evaluate(C),C.featureState||{})}],properties:[qt,[],function(C){return C.properties()}],"geometry-type":[Tt,[],function(C){return C.geometryType()}],id:[Jt,[],function(C){return C.id()}],zoom:[bt,[],function(C){return C.globals.zoom}],"heatmap-density":[bt,[],function(C){return C.globals.heatmapDensity||0}],"line-progress":[bt,[],function(C){return C.globals.lineProgress||0}],accumulated:[Jt,[],function(C){return void 0===C.globals.accumulated?null:C.globals.accumulated}],"+":[bt,ji(bt),function(C,z){for(var J=0,ge=0,Re=z;ge<Re.length;ge+=1)J+=Re[ge].evaluate(C);return J}],"*":[bt,ji(bt),function(C,z){for(var J=1,ge=0,Re=z;ge<Re.length;ge+=1)J*=Re[ge].evaluate(C);return J}],"-":{type:bt,overloads:[[[bt,bt],function(C,z){var ge=z[1];return z[0].evaluate(C)-ge.evaluate(C)}],[[bt],function(C,z){return-z[0].evaluate(C)}]]},"/":[bt,[bt,bt],function(C,z){var ge=z[1];return z[0].evaluate(C)/ge.evaluate(C)}],"%":[bt,[bt,bt],function(C,z){var ge=z[1];return z[0].evaluate(C)%ge.evaluate(C)}],ln2:[bt,[],function(){return Math.LN2}],pi:[bt,[],function(){return Math.PI}],e:[bt,[],function(){return Math.E}],"^":[bt,[bt,bt],function(C,z){var ge=z[1];return Math.pow(z[0].evaluate(C),ge.evaluate(C))}],sqrt:[bt,[bt],function(C,z){return Math.sqrt(z[0].evaluate(C))}],log10:[bt,[bt],function(C,z){return Math.log(z[0].evaluate(C))/Math.LN10}],ln:[bt,[bt],function(C,z){return Math.log(z[0].evaluate(C))}],log2:[bt,[bt],function(C,z){return Math.log(z[0].evaluate(C))/Math.LN2}],sin:[bt,[bt],function(C,z){return Math.sin(z[0].evaluate(C))}],cos:[bt,[bt],function(C,z){return Math.cos(z[0].evaluate(C))}],tan:[bt,[bt],function(C,z){return Math.tan(z[0].evaluate(C))}],asin:[bt,[bt],function(C,z){return Math.asin(z[0].evaluate(C))}],acos:[bt,[bt],function(C,z){return Math.acos(z[0].evaluate(C))}],atan:[bt,[bt],function(C,z){return Math.atan(z[0].evaluate(C))}],min:[bt,ji(bt),function(C,z){return Math.min.apply(Math,z.map(function(J){return J.evaluate(C)}))}],max:[bt,ji(bt),function(C,z){return Math.max.apply(Math,z.map(function(J){return J.evaluate(C)}))}],abs:[bt,[bt],function(C,z){return Math.abs(z[0].evaluate(C))}],round:[bt,[bt],function(C,z){var J=z[0].evaluate(C);return J<0?-Math.round(-J):Math.round(J)}],floor:[bt,[bt],function(C,z){return Math.floor(z[0].evaluate(C))}],ceil:[bt,[bt],function(C,z){return Math.ceil(z[0].evaluate(C))}],"filter-==":[Ot,[Tt,Jt],function(C,z){var J=z[0],ge=z[1];return C.properties()[J.value]===ge.value}],"filter-id-==":[Ot,[Jt],function(C,z){var J=z[0];return C.id()===J.value}],"filter-type-==":[Ot,[Tt],function(C,z){var J=z[0];return C.geometryType()===J.value}],"filter-<":[Ot,[Tt,Jt],function(C,z){var J=z[0],ge=z[1],Re=C.properties()[J.value],je=ge.value;return typeof Re==typeof je&&Re<je}],"filter-id-<":[Ot,[Jt],function(C,z){var J=z[0],ge=C.id(),Re=J.value;return typeof ge==typeof Re&&ge<Re}],"filter->":[Ot,[Tt,Jt],function(C,z){var J=z[0],ge=z[1],Re=C.properties()[J.value],je=ge.value;return typeof Re==typeof je&&Re>je}],"filter-id->":[Ot,[Jt],function(C,z){var J=z[0],ge=C.id(),Re=J.value;return typeof ge==typeof Re&&ge>Re}],"filter-<=":[Ot,[Tt,Jt],function(C,z){var J=z[0],ge=z[1],Re=C.properties()[J.value],je=ge.value;return typeof Re==typeof je&&Re<=je}],"filter-id-<=":[Ot,[Jt],function(C,z){var J=z[0],ge=C.id(),Re=J.value;return typeof ge==typeof Re&&ge<=Re}],"filter->=":[Ot,[Tt,Jt],function(C,z){var J=z[0],ge=z[1],Re=C.properties()[J.value],je=ge.value;return typeof Re==typeof je&&Re>=je}],"filter-id->=":[Ot,[Jt],function(C,z){var J=z[0],ge=C.id(),Re=J.value;return typeof ge==typeof Re&&ge>=Re}],"filter-has":[Ot,[Jt],function(C,z){return z[0].value in C.properties()}],"filter-has-id":[Ot,[],function(C){return null!==C.id()&&void 0!==C.id()}],"filter-type-in":[Ot,[dn(Tt)],function(C,z){return z[0].value.indexOf(C.geometryType())>=0}],"filter-id-in":[Ot,[dn(Jt)],function(C,z){return z[0].value.indexOf(C.id())>=0}],"filter-in-small":[Ot,[Tt,dn(Jt)],function(C,z){var J=z[0];return z[1].value.indexOf(C.properties()[J.value])>=0}],"filter-in-large":[Ot,[Tt,dn(Jt)],function(C,z){var J=z[0],ge=z[1];return function(Re,je,Ye,st){for(;Ye<=st;){var vt=Ye+st>>1;if(je[vt]===Re)return!0;je[vt]>Re?st=vt-1:Ye=vt+1}return!1}(C.properties()[J.value],ge.value,0,ge.value.length-1)}],all:{type:Ot,overloads:[[[Ot,Ot],function(C,z){var ge=z[1];return z[0].evaluate(C)&&ge.evaluate(C)}],[ji(Ot),function(C,z){for(var J=0,ge=z;J<ge.length;J+=1)if(!ge[J].evaluate(C))return!1;return!0}]]},any:{type:Ot,overloads:[[[Ot,Ot],function(C,z){var ge=z[1];return z[0].evaluate(C)||ge.evaluate(C)}],[ji(Ot),function(C,z){for(var J=0,ge=z;J<ge.length;J+=1)if(ge[J].evaluate(C))return!0;return!1}]]},"!":[Ot,[Ot],function(C,z){return!z[0].evaluate(C)}],"is-supported-script":[Ot,[Tt],function(C,z){var ge=C.globals&&C.globals.isSupportedScript;return!ge||ge(z[0].evaluate(C))}],upcase:[Tt,[Tt],function(C,z){return z[0].evaluate(C).toUpperCase()}],downcase:[Tt,[Tt],function(C,z){return z[0].evaluate(C).toLowerCase()}],concat:[Tt,ji(Jt),function(C,z){return z.map(function(J){return nr(J.evaluate(C))}).join("")}],"resolved-locale":[Tt,[pn],function(C,z){return z[0].evaluate(C).resolvedLocale()}]});var ju=function(C,z){var J;this.expression=C,this._warningHistory={},this._evaluator=new Yn,this._defaultValue=z?"color"===(J=z).type&&Br(J.default)?new Cn(0,0,0,0):"color"===J.type?Cn.parse(J.default)||null:void 0===J.default?null:J.default:null,this._enumValues=z&&"enum"===z.type?z.values:null};function jl(C){return Array.isArray(C)&&C.length>0&&"string"==typeof C[0]&&C[0]in _u}function _s(C,z){var Re,je,J=new wr(_u,[],z?(je={color:Wt,string:Tt,number:bt,enum:Tt,boolean:Ot,formatted:en,resolvedImage:nn},"array"===(Re=z).type?dn(je[Re.value]||Jt,Re.length):je[Re.type]):void 0),ge=J.parse(C,void 0,void 0,void 0,z&&"string"===z.type?{typeAnnotation:"coerce"}:void 0);return ge?bu(new ju(ge,z)):_l(J.errors)}ju.prototype.evaluateWithoutErrorHandling=function(C,z,J,ge,Re,je){return this._evaluator.globals=C,this._evaluator.feature=z,this._evaluator.featureState=J,this._evaluator.canonical=ge,this._evaluator.availableImages=Re||null,this._evaluator.formattedSection=je,this.expression.evaluate(this._evaluator)},ju.prototype.evaluate=function(C,z,J,ge,Re,je){this._evaluator.globals=C,this._evaluator.feature=z||null,this._evaluator.featureState=J||null,this._evaluator.canonical=ge,this._evaluator.availableImages=Re||null,this._evaluator.formattedSection=je||null;try{var Ye=this.expression.evaluate(this._evaluator);if(null==Ye||"number"==typeof Ye&&Ye!=Ye)return this._defaultValue;if(this._enumValues&&!(Ye in this._enumValues))throw new dr("Expected value to be one of "+Object.keys(this._enumValues).map(function(st){return JSON.stringify(st)}).join(", ")+", but found "+JSON.stringify(Ye)+" instead.");return Ye}catch(st){return this._warningHistory[st.message]||(this._warningHistory[st.message]=!0,typeof console<"u"&&console.warn(st.message)),this._defaultValue}};var ti=function(C,z){this.kind=C,this._styleExpression=z,this.isStateDependent="constant"!==C&&!Rn(z.expression)};ti.prototype.evaluateWithoutErrorHandling=function(C,z,J,ge,Re,je){return this._styleExpression.evaluateWithoutErrorHandling(C,z,J,ge,Re,je)},ti.prototype.evaluate=function(C,z,J,ge,Re,je){return this._styleExpression.evaluate(C,z,J,ge,Re,je)};var wi=function(C,z,J,ge){this.kind=C,this.zoomStops=J,this._styleExpression=z,this.isStateDependent="camera"!==C&&!Rn(z.expression),this.interpolationType=ge};function yo(C,z){if("error"===(C=_s(C,z)).result)return C;var J=C.value.expression,ge=_r(J);if(!ge&&!zl(z))return _l([new kt("","data expressions not supported")]);var Re=Mr(J,["zoom"]);if(!Re&&!ro(z))return _l([new kt("","zoom expressions not supported")]);var je=xl(J);return je||Re?je instanceof kt?_l([je]):je instanceof qo&&!eu(z)?_l([new kt("",'"interpolate" expressions cannot be used with this property')]):bu(je?new wi(ge?"camera":"composite",C.value,je.labels,je instanceof qo?je.interpolation:void 0):new ti(ge?"constant":"source",C.value)):_l([new kt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}wi.prototype.evaluateWithoutErrorHandling=function(C,z,J,ge,Re,je){return this._styleExpression.evaluateWithoutErrorHandling(C,z,J,ge,Re,je)},wi.prototype.evaluate=function(C,z,J,ge,Re,je){return this._styleExpression.evaluate(C,z,J,ge,Re,je)},wi.prototype.interpolationFactor=function(C,z,J){return this.interpolationType?qo.interpolationFactor(this.interpolationType,C,z,J):0};var da=function(C,z){this._parameters=C,this._specification=z,ut(this,Oi(this._parameters,this._specification))};function xl(C){var z=null;if(C instanceof pl)z=xl(C.result);else if(C instanceof Fi)for(var J=0,ge=C.args;J<ge.length&&!(z=xl(ge[J]));J+=1);else(C instanceof ii||C instanceof qo)&&C.input instanceof Qn&&"zoom"===C.input.name&&(z=C);return z instanceof kt||C.eachChild(function(je){var Ye=xl(je);Ye instanceof kt?z=Ye:!z&&Ye?z=new kt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):z&&Ye&&z!==Ye&&(z=new kt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),z}function Io(C){var z=C.key,J=C.value,ge=C.valueSpec||{},Re=C.objectElementValidators||{},je=C.style,Ye=C.styleSpec,st=[],vt=io(J);if("object"!==vt)return[new qe(z,J,"object expected, "+vt+" found")];for(var Ct in J){var It=Ct.split(".")[0],Gt=ge[It]||ge["*"],Kt=void 0;if(Re[It])Kt=Re[It];else if(ge[It])Kt=Co;else if(Re["*"])Kt=Re["*"];else{if(!ge["*"]){st.push(new qe(z,J[Ct],'unknown property "'+Ct+'"'));continue}Kt=Co}st=st.concat(Kt({key:(z&&z+".")+Ct,value:J[Ct],valueSpec:Gt,style:je,styleSpec:Ye,object:J,objectKey:Ct},J))}for(var Zt in ge)Re[Zt]||ge[Zt].required&&void 0===ge[Zt].default&&void 0===J[Zt]&&st.push(new qe(z,J,'missing required property "'+Zt+'"'));return st}function wu(C){var z=C.value,J=C.valueSpec,ge=C.style,Re=C.styleSpec,je=C.key,Ye=C.arrayElementValidator||Co;if("array"!==io(z))return[new qe(je,z,"array expected, "+io(z)+" found")];if(J.length&&z.length!==J.length)return[new qe(je,z,"array length "+J.length+" expected, length "+z.length+" found")];if(J["min-length"]&&z.length<J["min-length"])return[new qe(je,z,"array length at least "+J["min-length"]+" expected, length "+z.length+" found")];var st={type:J.value,values:J.values};Re.$version<7&&(st.function=J.function),"object"===io(J.value)&&(st=J.value);for(var vt=[],Ct=0;Ct<z.length;Ct++)vt=vt.concat(Ye({array:z,arrayIndex:Ct,value:z[Ct],valueSpec:st,style:ge,styleSpec:Re,key:je+"["+Ct+"]"}));return vt}function Zo(C){var z=C.key,J=C.value,ge=C.valueSpec,Re=io(J);return"number"===Re&&J!=J&&(Re="NaN"),"number"!==Re?[new qe(z,J,"number expected, "+Re+" found")]:"minimum"in ge&&J<ge.minimum?[new qe(z,J,J+" is less than the minimum value "+ge.minimum)]:"maximum"in ge&&J>ge.maximum?[new qe(z,J,J+" is greater than the maximum value "+ge.maximum)]:[]}function Tu(C){var z,J,ge,Re=C.valueSpec,je=At(C.value.type),Ye={},st="categorical"!==je&&void 0===C.value.property,vt=!st,Ct="array"===io(C.value.stops)&&"array"===io(C.value.stops[0])&&"object"===io(C.value.stops[0][0]),It=Io({key:C.key,value:C.value,valueSpec:C.styleSpec.function,style:C.style,styleSpec:C.styleSpec,objectElementValidators:{stops:function(Zt){if("identity"===je)return[new qe(Zt.key,Zt.value,'identity function may not have a "stops" property')];var mn=[],_n=Zt.value;return mn=mn.concat(wu({key:Zt.key,value:_n,valueSpec:Zt.valueSpec,style:Zt.style,styleSpec:Zt.styleSpec,arrayElementValidator:Gt})),"array"===io(_n)&&0===_n.length&&mn.push(new qe(Zt.key,_n,"array must have at least one stop")),mn},default:function(Zt){return Co({key:Zt.key,value:Zt.value,valueSpec:Re,style:Zt.style,styleSpec:Zt.styleSpec})}}});return"identity"===je&&st&&It.push(new qe(C.key,C.value,'missing required property "property"')),"identity"===je||C.value.stops||It.push(new qe(C.key,C.value,'missing required property "stops"')),"exponential"===je&&C.valueSpec.expression&&!eu(C.valueSpec)&&It.push(new qe(C.key,C.value,"exponential functions not supported")),C.styleSpec.$version>=8&&(vt&&!zl(C.valueSpec)?It.push(new qe(C.key,C.value,"property functions not supported")):st&&!ro(C.valueSpec)&&It.push(new qe(C.key,C.value,"zoom functions not supported"))),"categorical"!==je&&!Ct||void 0!==C.value.property||It.push(new qe(C.key,C.value,'"property" property is required')),It;function Gt(Zt){var mn=[],_n=Zt.value,zn=Zt.key;if("array"!==io(_n))return[new qe(zn,_n,"array expected, "+io(_n)+" found")];if(2!==_n.length)return[new qe(zn,_n,"array length 2 expected, length "+_n.length+" found")];if(Ct){if("object"!==io(_n[0]))return[new qe(zn,_n,"object expected, "+io(_n[0])+" found")];if(void 0===_n[0].zoom)return[new qe(zn,_n,"object stop key must have zoom")];if(void 0===_n[0].value)return[new qe(zn,_n,"object stop key must have value")];if(ge&&ge>At(_n[0].zoom))return[new qe(zn,_n[0].zoom,"stop zoom values must appear in ascending order")];At(_n[0].zoom)!==ge&&(ge=At(_n[0].zoom),J=void 0,Ye={}),mn=mn.concat(Io({key:zn+"[0]",value:_n[0],valueSpec:{zoom:{}},style:Zt.style,styleSpec:Zt.styleSpec,objectElementValidators:{zoom:Zo,value:Kt}}))}else mn=mn.concat(Kt({key:zn+"[0]",value:_n[0],valueSpec:{},style:Zt.style,styleSpec:Zt.styleSpec},_n));return jl(wt(_n[1]))?mn.concat([new qe(zn+"[1]",_n[1],"expressions are not allowed in function stops.")]):mn.concat(Co({key:zn+"[1]",value:_n[1],valueSpec:Re,style:Zt.style,styleSpec:Zt.styleSpec}))}function Kt(Zt,mn){var _n=io(Zt.value),zn=At(Zt.value),jn=null!==Zt.value?Zt.value:mn;if(z){if(_n!==z)return[new qe(Zt.key,jn,_n+" stop domain type must match previous stop domain type "+z)]}else z=_n;if("number"!==_n&&"string"!==_n&&"boolean"!==_n)return[new qe(Zt.key,jn,"stop domain value must be a number, string, or boolean")];if("number"!==_n&&"categorical"!==je){var Xn="number expected, "+_n+" found";return zl(Re)&&void 0===je&&(Xn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new qe(Zt.key,jn,Xn)]}return"categorical"!==je||"number"!==_n||isFinite(zn)&&Math.floor(zn)===zn?"categorical"!==je&&"number"===_n&&void 0!==J&&zn<J?[new qe(Zt.key,jn,"stop domain values must appear in ascending order")]:(J=zn,"categorical"===je&&zn in Ye?[new qe(Zt.key,jn,"stop domain values must be unique")]:(Ye[zn]=!0,[])):[new qe(Zt.key,jn,"integer expected, found "+zn)]}}function $s(C){var z=("property"===C.expressionContext?yo:_s)(wt(C.value),C.valueSpec);if("error"===z.result)return z.value.map(function(ge){return new qe(""+C.key+ge.key,C.value,ge.message)});var J=z.value.expression||z.value._styleExpression.expression;if("property"===C.expressionContext&&"text-font"===C.propertyKey&&!J.outputDefined())return[new qe(C.key,C.value,'Invalid data expression for "'+C.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===C.expressionContext&&"layout"===C.propertyType&&!Rn(J))return[new qe(C.key,C.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===C.expressionContext&&!Rn(J))return[new qe(C.key,C.value,'"feature-state" data expressions are not supported with filters.')];if(C.expressionContext&&0===C.expressionContext.indexOf("cluster")){if(!Mr(J,["zoom","feature-state"]))return[new qe(C.key,C.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===C.expressionContext&&!_r(J))return[new qe(C.key,C.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Si(C){var z=C.key,J=C.value,ge=C.valueSpec,Re=[];return Array.isArray(ge.values)?-1===ge.values.indexOf(At(J))&&Re.push(new qe(z,J,"expected one of ["+ge.values.join(", ")+"], "+JSON.stringify(J)+" found")):-1===Object.keys(ge.values).indexOf(At(J))&&Re.push(new qe(z,J,"expected one of ["+Object.keys(ge.values).join(", ")+"], "+JSON.stringify(J)+" found")),Re}function Ul(C){if(!0===C||!1===C)return!0;if(!Array.isArray(C)||0===C.length)return!1;switch(C[0]){case"has":return C.length>=2&&"$id"!==C[1]&&"$type"!==C[1];case"in":return C.length>=3&&("string"!=typeof C[1]||Array.isArray(C[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==C.length||Array.isArray(C[1])||Array.isArray(C[2]);case"any":case"all":for(var z=0,J=C.slice(1);z<J.length;z+=1){var ge=J[z];if(!Ul(ge)&&"boolean"!=typeof ge)return!1}return!0;default:return!0}}da.deserialize=function(C){return new da(C._parameters,C._specification)},da.serialize=function(C){return{_parameters:C._parameters,_specification:C._specification}};var Mu={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Au(C){if(null==C)return{filter:function(){return!0},needGeometry:!1};Ul(C)||(C=bl(C));var z=_s(C,Mu);if("error"===z.result)throw new Error(z.value.map(function(J){return J.key+": "+J.message}).join(", "));return{filter:function(J,ge,Re){return z.value.evaluate(J,ge,{},Re)},needGeometry:na(C)}}function Os(C,z){return C<z?-1:C>z?1:0}function na(C){if(!Array.isArray(C))return!1;if("within"===C[0])return!0;for(var z=1;z<C.length;z++)if(na(C[z]))return!0;return!1}function bl(C){if(!C)return!0;var z,J=C[0];return C.length<=1?"any"!==J:"=="===J?Vi(C[1],C[2],"=="):"!="===J?ra(Vi(C[1],C[2],"==")):"<"===J||">"===J||"<="===J||">="===J?Vi(C[1],C[2],J):"any"===J?(z=C.slice(1),["any"].concat(z.map(bl))):"all"===J?["all"].concat(C.slice(1).map(bl)):"none"===J?["all"].concat(C.slice(1).map(bl).map(ra)):"in"===J?Pa(C[1],C.slice(2)):"!in"===J?ra(Pa(C[1],C.slice(2))):"has"===J?xs(C[1]):"!has"===J?ra(xs(C[1])):"within"!==J||C}function Vi(C,z,J){switch(C){case"$type":return["filter-type-"+J,z];case"$id":return["filter-id-"+J,z];default:return["filter-"+J,C,z]}}function Pa(C,z){if(0===z.length)return!1;switch(C){case"$type":return["filter-type-in",["literal",z]];case"$id":return["filter-id-in",["literal",z]];default:return z.length>200&&!z.some(function(J){return typeof J!=typeof z[0]})?["filter-in-large",C,["literal",z.sort(Os)]]:["filter-in-small",C,["literal",z]]}}function xs(C){switch(C){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",C]}}function ra(C){return["!",C]}function di(C){return Ul(wt(C.value))?$s(ut({},C,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Qi(C)}function Qi(C){var z=C.value,J=C.key;if("array"!==io(z))return[new qe(J,z,"array expected, "+io(z)+" found")];var ge,Re=C.styleSpec,je=[];if(z.length<1)return[new qe(J,z,"filter array must have at least 1 element")];switch(je=je.concat(Si({key:J+"[0]",value:z[0],valueSpec:Re.filter_operator,style:C.style,styleSpec:C.styleSpec})),At(z[0])){case"<":case"<=":case">":case">=":z.length>=2&&"$type"===At(z[1])&&je.push(new qe(J,z,'"$type" cannot be use with operator "'+z[0]+'"'));case"==":case"!=":3!==z.length&&je.push(new qe(J,z,'filter array for operator "'+z[0]+'" must have 3 elements'));case"in":case"!in":z.length>=2&&"string"!==(ge=io(z[1]))&&je.push(new qe(J+"[1]",z[1],"string expected, "+ge+" found"));for(var Ye=2;Ye<z.length;Ye++)ge=io(z[Ye]),"$type"===At(z[1])?je=je.concat(Si({key:J+"["+Ye+"]",value:z[Ye],valueSpec:Re.geometry_type,style:C.style,styleSpec:C.styleSpec})):"string"!==ge&&"number"!==ge&&"boolean"!==ge&&je.push(new qe(J+"["+Ye+"]",z[Ye],"string, number, or boolean expected, "+ge+" found"));break;case"any":case"all":case"none":for(var st=1;st<z.length;st++)je=je.concat(Qi({key:J+"["+st+"]",value:z[st],style:C.style,styleSpec:C.styleSpec}));break;case"has":case"!has":ge=io(z[1]),2!==z.length?je.push(new qe(J,z,'filter array for "'+z[0]+'" operator must have 2 elements')):"string"!==ge&&je.push(new qe(J+"[1]",z[1],"string expected, "+ge+" found"));break;case"within":ge=io(z[1]),2!==z.length?je.push(new qe(J,z,'filter array for "'+z[0]+'" operator must have 2 elements')):"object"!==ge&&je.push(new qe(J+"[1]",z[1],"object expected, "+ge+" found"))}return je}function wl(C,z){var J=C.key,ge=C.style,Re=C.styleSpec,je=C.value,Ye=C.objectKey,st=Re[z+"_"+C.layerType];if(!st)return[];var vt=Ye.match(/^(.*)-transition$/);if("paint"===z&&vt&&st[vt[1]]&&st[vt[1]].transition)return Co({key:J,value:je,valueSpec:Re.transition,style:ge,styleSpec:Re});var Ct,It=C.valueSpec||st[Ye];if(!It)return[new qe(J,je,'unknown property "'+Ye+'"')];if("string"===io(je)&&zl(It)&&!It.tokens&&(Ct=/^{([^}]+)}$/.exec(je)))return[new qe(J,je,'"'+Ye+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Ct[1])+" }`.")];var Gt=[];return"symbol"===C.layerType&&("text-field"===Ye&&ge&&!ge.glyphs&&Gt.push(new qe(J,je,'use of "text-field" requires a style "glyphs" property')),"text-font"===Ye&&Br(wt(je))&&"identity"===At(je.type)&&Gt.push(new qe(J,je,'"text-font" does not support identity functions'))),Gt.concat(Co({key:C.key,value:je,valueSpec:It,style:ge,styleSpec:Re,expressionContext:"property",propertyType:z,propertyKey:Ye}))}function Tl(C){return wl(C,"paint")}function Uu(C){return wl(C,"layout")}function tu(C){var z=[],J=C.value,ge=C.key,Re=C.style,je=C.styleSpec;J.type||J.ref||z.push(new qe(ge,J,'either "type" or "ref" is required'));var Ye,st=At(J.type),vt=At(J.ref);if(J.id)for(var Ct=At(J.id),It=0;It<C.arrayIndex;It++){var Gt=Re.layers[It];At(Gt.id)===Ct&&z.push(new qe(ge,J.id,'duplicate layer id "'+J.id+'", previously used at line '+Gt.id.__line__))}if("ref"in J)["type","source","source-layer","filter","layout"].forEach(function(mn){mn in J&&z.push(new qe(ge,J[mn],'"'+mn+'" is prohibited for ref layers'))}),Re.layers.forEach(function(mn){At(mn.id)===vt&&(Ye=mn)}),Ye?Ye.ref?z.push(new qe(ge,J.ref,"ref cannot reference another ref layer")):st=At(Ye.type):z.push(new qe(ge,J.ref,'ref layer "'+vt+'" not found'));else if("background"!==st)if(J.source){var Kt=Re.sources&&Re.sources[J.source],Zt=Kt&&At(Kt.type);Kt?"vector"===Zt&&"raster"===st?z.push(new qe(ge,J.source,'layer "'+J.id+'" requires a raster source')):"raster"===Zt&&"raster"!==st?z.push(new qe(ge,J.source,'layer "'+J.id+'" requires a vector source')):"vector"!==Zt||J["source-layer"]?"raster-dem"===Zt&&"hillshade"!==st?z.push(new qe(ge,J.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==st||!J.paint||!J.paint["line-gradient"]||"geojson"===Zt&&Kt.lineMetrics||z.push(new qe(ge,J,'layer "'+J.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):z.push(new qe(ge,J,'layer "'+J.id+'" must specify a "source-layer"')):z.push(new qe(ge,J.source,'source "'+J.source+'" not found'))}else z.push(new qe(ge,J,'missing required property "source"'));return z=z.concat(Io({key:ge,value:J,valueSpec:je.layer,style:C.style,styleSpec:C.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Co({key:ge+".type",value:J.type,valueSpec:je.layer.type,style:C.style,styleSpec:C.styleSpec,object:J,objectKey:"type"})},filter:di,layout:function(mn){return Io({layer:J,key:mn.key,value:mn.value,style:mn.style,styleSpec:mn.styleSpec,objectElementValidators:{"*":function(_n){return Uu(ut({layerType:st},_n))}}})},paint:function(mn){return Io({layer:J,key:mn.key,value:mn.value,style:mn.style,styleSpec:mn.styleSpec,objectElementValidators:{"*":function(_n){return Tl(ut({layerType:st},_n))}}})}}}))}function bs(C){var z=C.value,J=C.key,ge=io(z);return"string"!==ge?[new qe(J,z,"string expected, "+ge+" found")]:[]}var ha={promoteId:function(C){var z=C.key,J=C.value;if("string"===io(J))return bs({key:z,value:J});var ge=[];for(var Re in J)ge.push.apply(ge,bs({key:z+"."+Re,value:J[Re]}));return ge}};function nu(C){var z=C.value,J=C.key,ge=C.styleSpec,Re=C.style;if(!z.type)return[new qe(J,z,'"type" is required')];var je,Ye=At(z.type);switch(Ye){case"vector":case"raster":case"raster-dem":return Io({key:J,value:z,valueSpec:ge["source_"+Ye.replace("-","_")],style:C.style,styleSpec:ge,objectElementValidators:ha});case"geojson":if(je=Io({key:J,value:z,valueSpec:ge.source_geojson,style:Re,styleSpec:ge,objectElementValidators:ha}),z.cluster)for(var st in z.clusterProperties){var vt=z.clusterProperties[st],Ct=vt[0],Gt="string"==typeof Ct?[Ct,["accumulated"],["get",st]]:Ct;je.push.apply(je,$s({key:J+"."+st+".map",value:vt[1],expressionContext:"cluster-map"})),je.push.apply(je,$s({key:J+"."+st+".reduce",value:Gt,expressionContext:"cluster-reduce"}))}return je;case"video":return Io({key:J,value:z,valueSpec:ge.source_video,style:Re,styleSpec:ge});case"image":return Io({key:J,value:z,valueSpec:ge.source_image,style:Re,styleSpec:ge});case"canvas":return[new qe(J,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Si({key:J+".type",value:z.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Re,styleSpec:ge})}}function pa(C){var z=C.value,J=C.styleSpec,ge=J.light,Re=C.style,je=[],Ye=io(z);if(void 0===z)return je;if("object"!==Ye)return je.concat([new qe("light",z,"object expected, "+Ye+" found")]);for(var st in z){var vt=st.match(/^(.*)-transition$/);je=je.concat(vt&&ge[vt[1]]&&ge[vt[1]].transition?Co({key:st,value:z[st],valueSpec:J.transition,style:Re,styleSpec:J}):ge[st]?Co({key:st,value:z[st],valueSpec:ge[st],style:Re,styleSpec:J}):[new qe(st,z[st],'unknown property "'+st+'"')])}return je}var va={"*":function(){return[]},array:wu,boolean:function(C){var z=C.value,J=C.key,ge=io(z);return"boolean"!==ge?[new qe(J,z,"boolean expected, "+ge+" found")]:[]},number:Zo,color:function(C){var z=C.key,J=C.value,ge=io(J);return"string"!==ge?[new qe(z,J,"color expected, "+ge+" found")]:null===wn(J)?[new qe(z,J,'color expected, "'+J+'" found')]:[]},constants:dt,enum:Si,filter:di,function:Tu,layer:tu,object:Io,source:nu,light:pa,string:bs,formatted:function(C){return 0===bs(C).length?[]:$s(C)},resolvedImage:function(C){return 0===bs(C).length?[]:$s(C)}};function Co(C){var z=C.value,J=C.valueSpec,ge=C.styleSpec;return J.expression&&Br(At(z))?Tu(C):J.expression&&jl(wt(z))?$s(C):J.type&&va[J.type]?va[J.type](C):Io(ut({},C,{valueSpec:J.type?ge[J.type]:J}))}function Zs(C){var z=C.value,J=C.key,ge=bs(C);return ge.length||(-1===z.indexOf("{fontstack}")&&ge.push(new qe(J,z,'"glyphs" url must include a "{fontstack}" token')),-1===z.indexOf("{range}")&&ge.push(new qe(J,z,'"glyphs" url must include a "{range}" token'))),ge}function Ml(C,z){void 0===z&&(z=Ve);var J=[];return J=J.concat(Co({key:"",value:C,valueSpec:z.$root,styleSpec:z,style:C,objectElementValidators:{glyphs:Zs,"*":function(){return[]}}})),C.constants&&(J=J.concat(dt({key:"constants",value:C.constants,style:C,styleSpec:z}))),fo(J)}function fo(C){return[].concat(C).sort(function(z,J){return z.line-J.line})}function Ra(C){return function(){for(var z=[],J=arguments.length;J--;)z[J]=arguments[J];return fo(C.apply(this,z))}}Ml.source=Ra(nu),Ml.light=Ra(pa),Ml.layer=Ra(tu),Ml.filter=Ra(di),Ml.paintProperty=Ra(Tl),Ml.layoutProperty=Ra(Uu);var La=Ml,ia=La.light,ja=La.paintProperty,ku=La.layoutProperty;function Al(C,z){var J=!1;if(z&&z.length)for(var ge=0,Re=z;ge<Re.length;ge+=1)C.fire(new gt(new Error(Re[ge].message))),J=!0;return J}var ya=Ys,Is=3;function Ys(C,z,J){var ge=this.cells=[];if(C instanceof ArrayBuffer){this.arrayBuffer=C;var Re=new Int32Array(this.arrayBuffer);C=Re[0],this.d=(z=Re[1])+2*(J=Re[2]);for(var je=0;je<this.d*this.d;je++){var Ye=Re[Is+je],st=Re[Is+je+1];ge.push(Ye===st?null:Re.subarray(Ye,st))}var Ct=Re[Is+ge.length+1];this.keys=Re.subarray(Re[Is+ge.length],Ct),this.bboxes=Re.subarray(Ct),this.insert=this._insertReadonly}else{this.d=z+2*J;for(var It=0;It<this.d*this.d;It++)ge.push([]);this.keys=[],this.bboxes=[]}this.n=z,this.extent=C,this.padding=J,this.scale=z/C,this.uid=0;var Gt=J/z*C;this.min=-Gt,this.max=C+Gt}Ys.prototype.insert=function(C,z,J,ge,Re){this._forEachCell(z,J,ge,Re,this._insertCell,this.uid++),this.keys.push(C),this.bboxes.push(z),this.bboxes.push(J),this.bboxes.push(ge),this.bboxes.push(Re)},Ys.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ys.prototype._insertCell=function(C,z,J,ge,Re,je){this.cells[Re].push(je)},Ys.prototype.query=function(C,z,J,ge,Re){var je=this.min,Ye=this.max;if(C<=je&&z<=je&&Ye<=J&&Ye<=ge&&!Re)return Array.prototype.slice.call(this.keys);var st=[];return this._forEachCell(C,z,J,ge,this._queryCell,st,{},Re),st},Ys.prototype._queryCell=function(C,z,J,ge,Re,je,Ye,st){var vt=this.cells[Re];if(null!==vt)for(var Ct=this.keys,It=this.bboxes,Gt=0;Gt<vt.length;Gt++){var Kt=vt[Gt];if(void 0===Ye[Kt]){var Zt=4*Kt;(st?st(It[Zt+0],It[Zt+1],It[Zt+2],It[Zt+3]):C<=It[Zt+2]&&z<=It[Zt+3]&&J>=It[Zt+0]&&ge>=It[Zt+1])?(Ye[Kt]=!0,je.push(Ct[Kt])):Ye[Kt]=!1}}},Ys.prototype._forEachCell=function(C,z,J,ge,Re,je,Ye,st){for(var vt=this._convertToCellCoord(C),Ct=this._convertToCellCoord(z),It=this._convertToCellCoord(J),Gt=this._convertToCellCoord(ge),Kt=vt;Kt<=It;Kt++)for(var Zt=Ct;Zt<=Gt;Zt++){var mn=this.d*Zt+Kt;if((!st||st(this._convertFromCellCoord(Kt),this._convertFromCellCoord(Zt),this._convertFromCellCoord(Kt+1),this._convertFromCellCoord(Zt+1)))&&Re.call(this,C,z,J,ge,mn,je,Ye,st))return}},Ys.prototype._convertFromCellCoord=function(C){return(C-this.padding)/this.scale},Ys.prototype._convertToCellCoord=function(C){return Math.max(0,Math.min(this.d-1,Math.floor(C*this.scale)+this.padding))},Ys.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var C=this.cells,z=Is+this.cells.length+1+1,J=0,ge=0;ge<this.cells.length;ge++)J+=this.cells[ge].length;var Re=new Int32Array(z+J+this.keys.length+this.bboxes.length);Re[0]=this.extent,Re[1]=this.n,Re[2]=this.padding;for(var je=z,Ye=0;Ye<C.length;Ye++){var st=C[Ye];Re[Is+Ye]=je,Re.set(st,je),je+=st.length}return Re[Is+C.length]=je,Re.set(this.keys,je),Re[Is+C.length+1]=je+=this.keys.length,Re.set(this.bboxes,je),je+=this.bboxes.length,Re.buffer};var Rc=self.ImageData,Xs=self.ImageBitmap,_a={};function ni(C,z,J){void 0===J&&(J={}),Object.defineProperty(z,"_classRegistryKey",{value:C,writeable:!1}),_a[C]={klass:z,omit:J.omit||[],shallow:J.shallow||[]}}for(var Ua in ni("Object",Object),ya.serialize=function(C,z){var J=C.toArrayBuffer();return z&&z.push(J),{buffer:J}},ya.deserialize=function(C){return new ya(C.buffer)},ni("Grid",ya),ni("Color",Cn),ni("Error",Error),ni("ResolvedImage",kn),ni("StylePropertyFunction",da),ni("StyleExpression",ju,{omit:["_evaluator"]}),ni("ZoomDependentExpression",wi),ni("ZoomConstantExpression",ti),ni("CompoundExpression",Qn,{omit:["_evaluate"]}),_u)_u[Ua]._classRegistryKey||ni("Expression_"+Ua,_u[Ua]);function vc(C){return C&&typeof ArrayBuffer<"u"&&(C instanceof ArrayBuffer||C.constructor&&"ArrayBuffer"===C.constructor.name)}function Lc(C){return Xs&&C instanceof Xs}function ru(C,z){if(null==C||"boolean"==typeof C||"number"==typeof C||"string"==typeof C||C instanceof Boolean||C instanceof Number||C instanceof String||C instanceof Date||C instanceof RegExp)return C;if(vc(C)||Lc(C))return z&&z.push(C),C;if(ArrayBuffer.isView(C)){var J=C;return z&&z.push(J.buffer),J}if(C instanceof Rc)return z&&z.push(C.data.buffer),C;if(Array.isArray(C)){for(var ge=[],Re=0,je=C;Re<je.length;Re+=1)ge.push(ru(je[Re],z));return ge}if("object"==typeof C){var st=C.constructor,vt=st._classRegistryKey;if(!vt)throw new Error("can't serialize object of unregistered class");var Ct=st.serialize?st.serialize(C,z):{};if(!st.serialize){for(var It in C)if(C.hasOwnProperty(It)&&!(_a[vt].omit.indexOf(It)>=0)){var Gt=C[It];Ct[It]=_a[vt].shallow.indexOf(It)>=0?Gt:ru(Gt,z)}C instanceof Error&&(Ct.message=C.message)}if(Ct.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==vt&&(Ct.$name=vt),Ct}throw new Error("can't serialize object of type "+typeof C)}function iu(C){if(null==C||"boolean"==typeof C||"number"==typeof C||"string"==typeof C||C instanceof Boolean||C instanceof Number||C instanceof String||C instanceof Date||C instanceof RegExp||vc(C)||Lc(C)||ArrayBuffer.isView(C)||C instanceof Rc)return C;if(Array.isArray(C))return C.map(iu);if("object"==typeof C){var z=C.$name||"Object",J=_a[z].klass;if(!J)throw new Error("can't deserialize unregistered class "+z);if(J.deserialize)return J.deserialize(C);for(var ge=Object.create(J.prototype),Re=0,je=Object.keys(C);Re<je.length;Re+=1){var Ye=je[Re];if("$name"!==Ye){var st=C[Ye];ge[Ye]=_a[z].shallow.indexOf(Ye)>=0?st:iu(st)}}return ge}throw new Error("can't deserialize object of type "+typeof C)}var ou=function(){this.first=!0};ou.prototype.update=function(C,z){var J=Math.floor(C);return this.first?(this.first=!1,this.lastIntegerZoom=J,this.lastIntegerZoomTime=0,this.lastZoom=C,this.lastFloorZoom=J,!0):(this.lastFloorZoom>J?(this.lastIntegerZoom=J+1,this.lastIntegerZoomTime=z):this.lastFloorZoom<J&&(this.lastIntegerZoom=J,this.lastIntegerZoomTime=z),C!==this.lastZoom&&(this.lastZoom=C,this.lastFloorZoom=J,!0))};var Yr={"Latin-1 Supplement":function(C){return C>=128&&C<=255},Arabic:function(C){return C>=1536&&C<=1791},"Arabic Supplement":function(C){return C>=1872&&C<=1919},"Arabic Extended-A":function(C){return C>=2208&&C<=2303},"Hangul Jamo":function(C){return C>=4352&&C<=4607},"Unified Canadian Aboriginal Syllabics":function(C){return C>=5120&&C<=5759},Khmer:function(C){return C>=6016&&C<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(C){return C>=6320&&C<=6399},"General Punctuation":function(C){return C>=8192&&C<=8303},"Letterlike Symbols":function(C){return C>=8448&&C<=8527},"Number Forms":function(C){return C>=8528&&C<=8591},"Miscellaneous Technical":function(C){return C>=8960&&C<=9215},"Control Pictures":function(C){return C>=9216&&C<=9279},"Optical Character Recognition":function(C){return C>=9280&&C<=9311},"Enclosed Alphanumerics":function(C){return C>=9312&&C<=9471},"Geometric Shapes":function(C){return C>=9632&&C<=9727},"Miscellaneous Symbols":function(C){return C>=9728&&C<=9983},"Miscellaneous Symbols and Arrows":function(C){return C>=11008&&C<=11263},"CJK Radicals Supplement":function(C){return C>=11904&&C<=12031},"Kangxi Radicals":function(C){return C>=12032&&C<=12255},"Ideographic Description Characters":function(C){return C>=12272&&C<=12287},"CJK Symbols and Punctuation":function(C){return C>=12288&&C<=12351},Hiragana:function(C){return C>=12352&&C<=12447},Katakana:function(C){return C>=12448&&C<=12543},Bopomofo:function(C){return C>=12544&&C<=12591},"Hangul Compatibility Jamo":function(C){return C>=12592&&C<=12687},Kanbun:function(C){return C>=12688&&C<=12703},"Bopomofo Extended":function(C){return C>=12704&&C<=12735},"CJK Strokes":function(C){return C>=12736&&C<=12783},"Katakana Phonetic Extensions":function(C){return C>=12784&&C<=12799},"Enclosed CJK Letters and Months":function(C){return C>=12800&&C<=13055},"CJK Compatibility":function(C){return C>=13056&&C<=13311},"CJK Unified Ideographs Extension A":function(C){return C>=13312&&C<=19903},"Yijing Hexagram Symbols":function(C){return C>=19904&&C<=19967},"CJK Unified Ideographs":function(C){return C>=19968&&C<=40959},"Yi Syllables":function(C){return C>=40960&&C<=42127},"Yi Radicals":function(C){return C>=42128&&C<=42191},"Hangul Jamo Extended-A":function(C){return C>=43360&&C<=43391},"Hangul Syllables":function(C){return C>=44032&&C<=55215},"Hangul Jamo Extended-B":function(C){return C>=55216&&C<=55295},"Private Use Area":function(C){return C>=57344&&C<=63743},"CJK Compatibility Ideographs":function(C){return C>=63744&&C<=64255},"Arabic Presentation Forms-A":function(C){return C>=64336&&C<=65023},"Vertical Forms":function(C){return C>=65040&&C<=65055},"CJK Compatibility Forms":function(C){return C>=65072&&C<=65103},"Small Form Variants":function(C){return C>=65104&&C<=65135},"Arabic Presentation Forms-B":function(C){return C>=65136&&C<=65279},"Halfwidth and Fullwidth Forms":function(C){return C>=65280&&C<=65519}};function kl(C){for(var z=0,J=C;z<J.length;z+=1)if(Ps(J[z].charCodeAt(0)))return!0;return!1}function Ps(C){return!(746!==C&&747!==C&&(C<4352||!(Yr["Bopomofo Extended"](C)||Yr.Bopomofo(C)||Yr["CJK Compatibility Forms"](C)&&!(C>=65097&&C<=65103)||Yr["CJK Compatibility Ideographs"](C)||Yr["CJK Compatibility"](C)||Yr["CJK Radicals Supplement"](C)||Yr["CJK Strokes"](C)||!(!Yr["CJK Symbols and Punctuation"](C)||C>=12296&&C<=12305||C>=12308&&C<=12319||12336===C)||Yr["CJK Unified Ideographs Extension A"](C)||Yr["CJK Unified Ideographs"](C)||Yr["Enclosed CJK Letters and Months"](C)||Yr["Hangul Compatibility Jamo"](C)||Yr["Hangul Jamo Extended-A"](C)||Yr["Hangul Jamo Extended-B"](C)||Yr["Hangul Jamo"](C)||Yr["Hangul Syllables"](C)||Yr.Hiragana(C)||Yr["Ideographic Description Characters"](C)||Yr.Kanbun(C)||Yr["Kangxi Radicals"](C)||Yr["Katakana Phonetic Extensions"](C)||Yr.Katakana(C)&&12540!==C||!(!Yr["Halfwidth and Fullwidth Forms"](C)||65288===C||65289===C||65293===C||C>=65306&&C<=65310||65339===C||65341===C||65343===C||C>=65371&&C<=65503||65507===C||C>=65512&&C<=65519)||!(!Yr["Small Form Variants"](C)||C>=65112&&C<=65118||C>=65123&&C<=65126)||Yr["Unified Canadian Aboriginal Syllabics"](C)||Yr["Unified Canadian Aboriginal Syllabics Extended"](C)||Yr["Vertical Forms"](C)||Yr["Yijing Hexagram Symbols"](C)||Yr["Yi Syllables"](C)||Yr["Yi Radicals"](C))))}function ec(C){return!(Ps(C)||(z=C,Yr["Latin-1 Supplement"](z)&&(167===z||169===z||174===z||177===z||188===z||189===z||190===z||215===z||247===z)||Yr["General Punctuation"](z)&&(8214===z||8224===z||8225===z||8240===z||8241===z||8251===z||8252===z||8258===z||8263===z||8264===z||8265===z||8273===z)||Yr["Letterlike Symbols"](z)||Yr["Number Forms"](z)||Yr["Miscellaneous Technical"](z)&&(z>=8960&&z<=8967||z>=8972&&z<=8991||z>=8996&&z<=9e3||9003===z||z>=9085&&z<=9114||z>=9150&&z<=9165||9167===z||z>=9169&&z<=9179||z>=9186&&z<=9215)||Yr["Control Pictures"](z)&&9251!==z||Yr["Optical Character Recognition"](z)||Yr["Enclosed Alphanumerics"](z)||Yr["Geometric Shapes"](z)||Yr["Miscellaneous Symbols"](z)&&!(z>=9754&&z<=9759)||Yr["Miscellaneous Symbols and Arrows"](z)&&(z>=11026&&z<=11055||z>=11088&&z<=11097||z>=11192&&z<=11243)||Yr["CJK Symbols and Punctuation"](z)||Yr.Katakana(z)||Yr["Private Use Area"](z)||Yr["CJK Compatibility Forms"](z)||Yr["Small Form Variants"](z)||Yr["Halfwidth and Fullwidth Forms"](z)||8734===z||8756===z||8757===z||z>=9984&&z<=10087||z>=10102&&z<=10131||65532===z||65533===z));var z}function Li(C){return Yr.Arabic(C)||Yr["Arabic Supplement"](C)||Yr["Arabic Extended-A"](C)||Yr["Arabic Presentation Forms-A"](C)||Yr["Arabic Presentation Forms-B"](C)}function Rs(C){return C>=1424&&C<=2303||Yr["Arabic Presentation Forms-A"](C)||Yr["Arabic Presentation Forms-B"](C)}function Ls(C,z){return!(!z&&Rs(C)||C>=2304&&C<=3583||C>=3840&&C<=4255||Yr.Khmer(C))}function ws(C){for(var z=0,J=C;z<J.length;z+=1)if(Rs(J[z].charCodeAt(0)))return!0;return!1}var Ks="deferred",Sl="loading",oa="loaded",Vu=null,ho="unavailable",oo=null,Hu=function(C){C&&"string"==typeof C&&C.indexOf("NetworkError")>-1&&(ho="error"),Vu&&Vu(C)};function po(){aa.fire(new it("pluginStateChange",{pluginStatus:ho,pluginURL:oo}))}var aa=new ft,Ts=function(){return ho},Ja=function(){if(ho!==Ks||!oo)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ho=Sl,po(),oo&&Pt({url:oo},function(C){C?Hu(C):(ho=oa,po())})},Uo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ho===oa||null!=Uo.applyArabicShaping},isLoading:function(){return ho===Sl},setState:function(C){ho=C.pluginStatus,oo=C.pluginURL},isParsed:function(){return null!=Uo.applyArabicShaping&&null!=Uo.processBidirectionalText&&null!=Uo.processStyledBidirectionalText},getPluginURL:function(){return oo}},eo=function(C,z){this.zoom=C,z?(this.now=z.now,this.fadeDuration=z.fadeDuration,this.zoomHistory=z.zoomHistory,this.transition=z.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ou,this.transition={})};eo.prototype.isSupportedScript=function(C){return function(z,J){for(var ge=0,Re=z;ge<Re.length;ge+=1)if(!Ls(Re[ge].charCodeAt(0),J))return!1;return!0}(C,Uo.isLoaded())},eo.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},eo.prototype.getCrossfadeParameters=function(){var C=this.zoom,z=C-Math.floor(C),J=this.crossFadingFactor();return C>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:z+(1-z)*J}:{fromScale:.5,toScale:1,t:1-(1-J)*z}};var xa=function(C,z){this.property=C,this.value=z,this.expression=function(J,ge){if(Br(J))return new da(J,ge);if(jl(J)){var Re=yo(J,ge);if("error"===Re.result)throw new Error(Re.value.map(function(Ye){return Ye.key+": "+Ye.message}).join(", "));return Re.value}var je=J;return"string"==typeof J&&"color"===ge.type&&(je=Cn.parse(J)),{kind:"constant",evaluate:function(){return je}}}(void 0===z?C.specification.default:z,C.specification)};xa.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},xa.prototype.possiblyEvaluate=function(C,z,J){return this.property.possiblyEvaluate(this,C,z,J)};var Vo=function(C){this.property=C,this.value=new xa(C,void 0)};Vo.prototype.transitioned=function(C,z){return new Su(this.property,this.value,z,d({},C.transition,this.transition),C.now)},Vo.prototype.untransitioned=function(){return new Su(this.property,this.value,null,{},0)};var Js=function(C){this._properties=C,this._values=Object.create(C.defaultTransitionablePropertyValues)};Js.prototype.getValue=function(C){return A(this._values[C].value.value)},Js.prototype.setValue=function(C,z){this._values.hasOwnProperty(C)||(this._values[C]=new Vo(this._values[C].property)),this._values[C].value=new xa(this._values[C].property,null===z?void 0:A(z))},Js.prototype.getTransition=function(C){return A(this._values[C].transition)},Js.prototype.setTransition=function(C,z){this._values.hasOwnProperty(C)||(this._values[C]=new Vo(this._values[C].property)),this._values[C].transition=A(z)||void 0},Js.prototype.serialize=function(){for(var C={},z=0,J=Object.keys(this._values);z<J.length;z+=1){var ge=J[z],Re=this.getValue(ge);void 0!==Re&&(C[ge]=Re);var je=this.getTransition(ge);void 0!==je&&(C[ge+"-transition"]=je)}return C},Js.prototype.transitioned=function(C,z){for(var J=new au(this._properties),ge=0,Re=Object.keys(this._values);ge<Re.length;ge+=1){var je=Re[ge];J._values[je]=this._values[je].transitioned(C,z._values[je])}return J},Js.prototype.untransitioned=function(){for(var C=new au(this._properties),z=0,J=Object.keys(this._values);z<J.length;z+=1){var ge=J[z];C._values[ge]=this._values[ge].untransitioned()}return C};var Su=function(C,z,J,ge,Re){this.property=C,this.value=z,this.begin=Re+ge.delay||0,this.end=this.begin+ge.duration||0,C.specification.transition&&(ge.delay||ge.duration)&&(this.prior=J)};Su.prototype.possiblyEvaluate=function(C,z,J){var ge=C.now||0,Re=this.value.possiblyEvaluate(C,z,J),je=this.prior;if(je){if(ge>this.end)return this.prior=null,Re;if(this.value.isDataDriven())return this.prior=null,Re;if(ge<this.begin)return je.possiblyEvaluate(C,z,J);var Ye=(ge-this.begin)/(this.end-this.begin);return this.property.interpolate(je.possiblyEvaluate(C,z,J),Re,function(st){if(st<=0)return 0;if(st>=1)return 1;var vt=st*st,Ct=vt*st;return 4*(st<.5?Ct:3*(st-vt)+Ct-.75)}(Ye))}return Re};var au=function(C){this._properties=C,this._values=Object.create(C.defaultTransitioningPropertyValues)};au.prototype.possiblyEvaluate=function(C,z,J){for(var ge=new sa(this._properties),Re=0,je=Object.keys(this._values);Re<je.length;Re+=1){var Ye=je[Re];ge._values[Ye]=this._values[Ye].possiblyEvaluate(C,z,J)}return ge},au.prototype.hasTransition=function(){for(var C=0,z=Object.keys(this._values);C<z.length;C+=1)if(this._values[z[C]].prior)return!0;return!1};var ls=function(C){this._properties=C,this._values=Object.create(C.defaultPropertyValues)};ls.prototype.getValue=function(C){return A(this._values[C].value)},ls.prototype.setValue=function(C,z){this._values[C]=new xa(this._values[C].property,null===z?void 0:A(z))},ls.prototype.serialize=function(){for(var C={},z=0,J=Object.keys(this._values);z<J.length;z+=1){var ge=J[z],Re=this.getValue(ge);void 0!==Re&&(C[ge]=Re)}return C},ls.prototype.possiblyEvaluate=function(C,z,J){for(var ge=new sa(this._properties),Re=0,je=Object.keys(this._values);Re<je.length;Re+=1){var Ye=je[Re];ge._values[Ye]=this._values[Ye].possiblyEvaluate(C,z,J)}return ge};var Yo=function(C,z,J){this.property=C,this.value=z,this.parameters=J};Yo.prototype.isConstant=function(){return"constant"===this.value.kind},Yo.prototype.constantOr=function(C){return"constant"===this.value.kind?this.value.value:C},Yo.prototype.evaluate=function(C,z,J,ge){return this.property.evaluate(this.value,this.parameters,C,z,J,ge)};var sa=function(C){this._properties=C,this._values=Object.create(C.defaultPossiblyEvaluatedValues)};sa.prototype.get=function(C){return this._values[C]};var Sr=function(C){this.specification=C};Sr.prototype.possiblyEvaluate=function(C,z){return C.expression.evaluate(z)},Sr.prototype.interpolate=function(C,z,J){var ge=Ur[this.specification.type];return ge?ge(C,z,J):C};var si=function(C,z){this.specification=C,this.overrides=z};si.prototype.possiblyEvaluate=function(C,z,J,ge){return new Yo(this,"constant"===C.expression.kind||"camera"===C.expression.kind?{kind:"constant",value:C.expression.evaluate(z,null,{},J,ge)}:C.expression,z)},si.prototype.interpolate=function(C,z,J){if("constant"!==C.value.kind||"constant"!==z.value.kind)return C;if(void 0===C.value.value||void 0===z.value.value)return new Yo(this,{kind:"constant",value:void 0},C.parameters);var ge=Ur[this.specification.type];return ge?new Yo(this,{kind:"constant",value:ge(C.value.value,z.value.value,J)},C.parameters):C},si.prototype.evaluate=function(C,z,J,ge,Re,je){return"constant"===C.kind?C.value:C.evaluate(z,J,ge,Re,je)};var tc=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.possiblyEvaluate=function(J,ge,Re,je){if(void 0===J.value)return new Yo(this,{kind:"constant",value:void 0},ge);if("constant"===J.expression.kind){var Ye=J.expression.evaluate(ge,null,{},Re,je),st="resolvedImage"===J.property.specification.type&&"string"!=typeof Ye?Ye.name:Ye,vt=this._calculate(st,st,st,ge);return new Yo(this,{kind:"constant",value:vt},ge)}if("camera"===J.expression.kind){var Ct=this._calculate(J.expression.evaluate({zoom:ge.zoom-1}),J.expression.evaluate({zoom:ge.zoom}),J.expression.evaluate({zoom:ge.zoom+1}),ge);return new Yo(this,{kind:"constant",value:Ct},ge)}return new Yo(this,J.expression,ge)},z.prototype.evaluate=function(J,ge,Re,je,Ye,st){if("source"===J.kind){var vt=J.evaluate(ge,Re,je,Ye,st);return this._calculate(vt,vt,vt,ge)}return"composite"===J.kind?this._calculate(J.evaluate({zoom:Math.floor(ge.zoom)-1},Re,je),J.evaluate({zoom:Math.floor(ge.zoom)},Re,je),J.evaluate({zoom:Math.floor(ge.zoom)+1},Re,je),ge):J.value},z.prototype._calculate=function(J,ge,Re,je){return je.zoom>je.zoomHistory.lastIntegerZoom?{from:J,to:ge}:{from:Re,to:ge}},z.prototype.interpolate=function(J){return J},z}(si),Va=function(C){this.specification=C};Va.prototype.possiblyEvaluate=function(C,z,J,ge){if(void 0!==C.value){if("constant"===C.expression.kind){var Re=C.expression.evaluate(z,null,{},J,ge);return this._calculate(Re,Re,Re,z)}return this._calculate(C.expression.evaluate(new eo(Math.floor(z.zoom-1),z)),C.expression.evaluate(new eo(Math.floor(z.zoom),z)),C.expression.evaluate(new eo(Math.floor(z.zoom+1),z)),z)}},Va.prototype._calculate=function(C,z,J,ge){return ge.zoom>ge.zoomHistory.lastIntegerZoom?{from:C,to:z}:{from:J,to:z}},Va.prototype.interpolate=function(C){return C};var su=function(C){this.specification=C};su.prototype.possiblyEvaluate=function(C,z,J,ge){return!!C.expression.evaluate(z,null,{},J,ge)},su.prototype.interpolate=function(){return!1};var ba=function(C){for(var z in this.properties=C,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],C){var J=C[z];J.specification.overridable&&this.overridableProperties.push(z);var ge=this.defaultPropertyValues[z]=new xa(J,void 0),Re=this.defaultTransitionablePropertyValues[z]=new Vo(J);this.defaultTransitioningPropertyValues[z]=Re.untransitioned(),this.defaultPossiblyEvaluatedValues[z]=ge.possiblyEvaluate({})}};ni("DataDrivenProperty",si),ni("DataConstantProperty",Sr),ni("CrossFadedDataDrivenProperty",tc),ni("CrossFadedProperty",Va),ni("ColorRampProperty",su);var Eu="-transition",wa=function(C){function z(J,ge){if(C.call(this),this.id=J.id,this.type=J.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==J.type&&(this.metadata=J.metadata,this.minzoom=J.minzoom,this.maxzoom=J.maxzoom,"background"!==J.type&&(this.source=J.source,this.sourceLayer=J["source-layer"],this.filter=J.filter),ge.layout&&(this._unevaluatedLayout=new ls(ge.layout)),ge.paint)){for(var Re in this._transitionablePaint=new Js(ge.paint),J.paint)this.setPaintProperty(Re,J.paint[Re],{validate:!1});for(var je in J.layout)this.setLayoutProperty(je,J.layout[je],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new sa(ge.paint)}}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},z.prototype.getLayoutProperty=function(J){return"visibility"===J?this.visibility:this._unevaluatedLayout.getValue(J)},z.prototype.setLayoutProperty=function(J,ge,Re){void 0===Re&&(Re={}),null!=ge&&this._validate(ku,"layers."+this.id+".layout."+J,J,ge,Re)||("visibility"!==J?this._unevaluatedLayout.setValue(J,ge):this.visibility=ge)},z.prototype.getPaintProperty=function(J){return w(J,Eu)?this._transitionablePaint.getTransition(J.slice(0,-11)):this._transitionablePaint.getValue(J)},z.prototype.setPaintProperty=function(J,ge,Re){if(void 0===Re&&(Re={}),null!=ge&&this._validate(ja,"layers."+this.id+".paint."+J,J,ge,Re))return!1;if(w(J,Eu))return this._transitionablePaint.setTransition(J.slice(0,-11),ge||void 0),!1;var Ye=this._transitionablePaint._values[J],st="cross-faded-data-driven"===Ye.property.specification["property-type"],vt=Ye.value.isDataDriven(),Ct=Ye.value;this._transitionablePaint.setValue(J,ge),this._handleSpecialPaintPropertyUpdate(J);var It=this._transitionablePaint._values[J].value;return It.isDataDriven()||vt||st||this._handleOverridablePaintPropertyUpdate(J,Ct,It)},z.prototype._handleSpecialPaintPropertyUpdate=function(J){},z.prototype._handleOverridablePaintPropertyUpdate=function(J,ge,Re){return!1},z.prototype.isHidden=function(J){return!!(this.minzoom&&J<this.minzoom)||!!(this.maxzoom&&J>=this.maxzoom)||"none"===this.visibility},z.prototype.updateTransitions=function(J){this._transitioningPaint=this._transitionablePaint.transitioned(J,this._transitioningPaint)},z.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},z.prototype.recalculate=function(J,ge){J.getCrossfadeParameters&&(this._crossfadeParameters=J.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(J,void 0,ge)),this.paint=this._transitioningPaint.possiblyEvaluate(J,void 0,ge)},z.prototype.serialize=function(){var J={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(J.layout=J.layout||{},J.layout.visibility=this.visibility),b(J,function(ge,Re){return!(void 0===ge||"layout"===Re&&!Object.keys(ge).length||"paint"===Re&&!Object.keys(ge).length)})},z.prototype._validate=function(J,ge,Re,je,Ye){return void 0===Ye&&(Ye={}),(!Ye||!1!==Ye.validate)&&Al(this,J.call(La,{key:ge,layerType:this.type,objectKey:Re,value:je,styleSpec:Ve,style:{glyphs:!0,sprite:!0}}))},z.prototype.is3D=function(){return!1},z.prototype.isTileClipped=function(){return!1},z.prototype.hasOffscreenPass=function(){return!1},z.prototype.resize=function(){},z.prototype.isStateDependent=function(){for(var J in this.paint._values){var ge=this.paint.get(J);if(ge instanceof Yo&&zl(ge.property.specification)&&("source"===ge.value.kind||"composite"===ge.value.kind)&&ge.value.isStateDependent)return!0}return!1},z}(ft),lu={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},kr=function(C,z){this._structArray=C,this._pos1=z*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Wr=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function _i(C,z){void 0===z&&(z=1);var J=0,ge=0;return{members:C.map(function(Re){var Ye=lu[Re.type].BYTES_PER_ELEMENT,st=J=Ci(J,Math.max(z,Ye)),vt=Re.components||1;return ge=Math.max(ge,Ye),J+=Ye*vt,{name:Re.name,type:Re.type,components:vt,offset:st}}),size:Ci(J,Math.max(ge,z)),alignment:z}}function Ci(C,z){return Math.ceil(C/z)*z}Wr.serialize=function(C,z){return C._trim(),z&&(C.isTransferred=!0,z.push(C.arrayBuffer)),{length:C.length,arrayBuffer:C.arrayBuffer}},Wr.deserialize=function(C){var z=Object.create(this.prototype);return z.arrayBuffer=C.arrayBuffer,z.length=C.length,z.capacity=C.arrayBuffer.byteLength/z.bytesPerElement,z._refreshViews(),z},Wr.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Wr.prototype.clear=function(){this.length=0},Wr.prototype.resize=function(C){this.reserve(C),this.length=C},Wr.prototype.reserve=function(C){if(C>this.capacity){this.capacity=Math.max(C,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var z=this.uint8;this._refreshViews(),z&&this.uint8.set(z)}},Wr.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var go=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge){var Re=this.length;return this.resize(Re+1),this.emplace(Re,J,ge)},z.prototype.emplace=function(J,ge,Re){var je=2*J;return this.int16[je+0]=ge,this.int16[je+1]=Re,J},z}(Wr);go.prototype.bytesPerElement=4,ni("StructArrayLayout2i4",go);var uu=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Re,je){var Ye=this.length;return this.resize(Ye+1),this.emplace(Ye,J,ge,Re,je)},z.prototype.emplace=function(J,ge,Re,je,Ye){var st=4*J;return this.int16[st+0]=ge,this.int16[st+1]=Re,this.int16[st+2]=je,this.int16[st+3]=Ye,J},z}(Wr);uu.prototype.bytesPerElement=8,ni("StructArrayLayout4i8",uu);var El=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Re,je,Ye,st){var vt=this.length;return this.resize(vt+1),this.emplace(vt,J,ge,Re,je,Ye,st)},z.prototype.emplace=function(J,ge,Re,je,Ye,st,vt){var Ct=6*J;return this.int16[Ct+0]=ge,this.int16[Ct+1]=Re,this.int16[Ct+2]=je,this.int16[Ct+3]=Ye,this.int16[Ct+4]=st,this.int16[Ct+5]=vt,J},z}(Wr);El.prototype.bytesPerElement=12,ni("StructArrayLayout2i4i12",El);var Ha=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Re,je,Ye,st){var vt=this.length;return this.resize(vt+1),this.emplace(vt,J,ge,Re,je,Ye,st)},z.prototype.emplace=function(J,ge,Re,je,Ye,st,vt){var Ct=4*J,It=8*J;return this.int16[Ct+0]=ge,this.int16[Ct+1]=Re,this.uint8[It+4]=je,this.uint8[It+5]=Ye,this.uint8[It+6]=st,this.uint8[It+7]=vt,J},z}(Wr);Ha.prototype.bytesPerElement=8,ni("StructArrayLayout2i4ub8",Ha);var Qs=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Re,je,Ye,st,vt,Ct,It,Gt){var Kt=this.length;return this.resize(Kt+1),this.emplace(Kt,J,ge,Re,je,Ye,st,vt,Ct,It,Gt)},z.prototype.emplace=function(J,ge,Re,je,Ye,st,vt,Ct,It,Gt,Kt){var Zt=9*J,mn=18*J;return this.uint16[Zt+0]=ge,this.uint16[Zt+1]=Re,this.uint16[Zt+2]=je,this.uint16[Zt+3]=Ye,this.uint16[Zt+4]=st,this.uint16[Zt+5]=vt,this.uint16[Zt+6]=Ct,this.uint16[Zt+7]=It,this.uint8[mn+16]=Gt,this.uint8[mn+17]=Kt,J},z}(Wr);Qs.prototype.bytesPerElement=18,ni("StructArrayLayout8ui2ub18",Qs);var U=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Re,je,Ye,st,vt,Ct,It,Gt,Kt,Zt){var mn=this.length;return this.resize(mn+1),this.emplace(mn,J,ge,Re,je,Ye,st,vt,Ct,It,Gt,Kt,Zt)},z.prototype.emplace=function(J,ge,Re,je,Ye,st,vt,Ct,It,Gt,Kt,Zt,mn){var _n=12*J;return this.int16[_n+0]=ge,this.int16[_n+1]=Re,this.int16[_n+2]=je,this.int16[_n+3]=Ye,this.uint16[_n+4]=st,this.uint16[_n+5]=vt,this.uint16[_n+6]=Ct,this.uint16[_n+7]=It,this.int16[_n+8]=Gt,this.int16[_n+9]=Kt,this.int16[_n+10]=Zt,this.int16[_n+11]=mn,J},z}(Wr);U.prototype.bytesPerElement=24,ni("StructArrayLayout4i4ui4i24",U);var $=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Re){var je=this.length;return this.resize(je+1),this.emplace(je,J,ge,Re)},z.prototype.emplace=function(J,ge,Re,je){var Ye=3*J;return this.float32[Ye+0]=ge,this.float32[Ye+1]=Re,this.float32[Ye+2]=je,J},z}(Wr);$.prototype.bytesPerElement=12,ni("StructArrayLayout3f12",$);var q=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J){var ge=this.length;return this.resize(ge+1),this.emplace(ge,J)},z.prototype.emplace=function(J,ge){return this.uint32[1*J+0]=ge,J},z}(Wr);q.prototype.bytesPerElement=4,ni("StructArrayLayout1ul4",q);var ne=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Re,je,Ye,st,vt,Ct,It){var Gt=this.length;return this.resize(Gt+1),this.emplace(Gt,J,ge,Re,je,Ye,st,vt,Ct,It)},z.prototype.emplace=function(J,ge,Re,je,Ye,st,vt,Ct,It,Gt){var Kt=10*J,Zt=5*J;return this.int16[Kt+0]=ge,this.int16[Kt+1]=Re,this.int16[Kt+2]=je,this.int16[Kt+3]=Ye,this.int16[Kt+4]=st,this.int16[Kt+5]=vt,this.uint32[Zt+3]=Ct,this.uint16[Kt+8]=It,this.uint16[Kt+9]=Gt,J},z}(Wr);ne.prototype.bytesPerElement=20,ni("StructArrayLayout6i1ul2ui20",ne);var _e=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Re,je,Ye,st){var vt=this.length;return this.resize(vt+1),this.emplace(vt,J,ge,Re,je,Ye,st)},z.prototype.emplace=function(J,ge,Re,je,Ye,st,vt){var Ct=6*J;return this.int16[Ct+0]=ge,this.int16[Ct+1]=Re,this.int16[Ct+2]=je,this.int16[Ct+3]=Ye,this.int16[Ct+4]=st,this.int16[Ct+5]=vt,J},z}(Wr);_e.prototype.bytesPerElement=12,ni("StructArrayLayout2i2i2i12",_e);var Pe=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Re,je,Ye){var st=this.length;return this.resize(st+1),this.emplace(st,J,ge,Re,je,Ye)},z.prototype.emplace=function(J,ge,Re,je,Ye,st){var vt=4*J,Ct=8*J;return this.float32[vt+0]=ge,this.float32[vt+1]=Re,this.float32[vt+2]=je,this.int16[Ct+6]=Ye,this.int16[Ct+7]=st,J},z}(Wr);Pe.prototype.bytesPerElement=16,ni("StructArrayLayout2f1f2i16",Pe);var V=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Re,je){var Ye=this.length;return this.resize(Ye+1),this.emplace(Ye,J,ge,Re,je)},z.prototype.emplace=function(J,ge,Re,je,Ye){var st=12*J,vt=3*J;return this.uint8[st+0]=ge,this.uint8[st+1]=Re,this.float32[vt+1]=je,this.float32[vt+2]=Ye,J},z}(Wr);V.prototype.bytesPerElement=12,ni("StructArrayLayout2ub2f12",V);var ie=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Re){var je=this.length;return this.resize(je+1),this.emplace(je,J,ge,Re)},z.prototype.emplace=function(J,ge,Re,je){var Ye=3*J;return this.uint16[Ye+0]=ge,this.uint16[Ye+1]=Re,this.uint16[Ye+2]=je,J},z}(Wr);ie.prototype.bytesPerElement=6,ni("StructArrayLayout3ui6",ie);var ce=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Re,je,Ye,st,vt,Ct,It,Gt,Kt,Zt,mn,_n,zn,jn,Xn){var Jn=this.length;return this.resize(Jn+1),this.emplace(Jn,J,ge,Re,je,Ye,st,vt,Ct,It,Gt,Kt,Zt,mn,_n,zn,jn,Xn)},z.prototype.emplace=function(J,ge,Re,je,Ye,st,vt,Ct,It,Gt,Kt,Zt,mn,_n,zn,jn,Xn,Jn){var ar=24*J,hr=12*J,br=48*J;return this.int16[ar+0]=ge,this.int16[ar+1]=Re,this.uint16[ar+2]=je,this.uint16[ar+3]=Ye,this.uint32[hr+2]=st,this.uint32[hr+3]=vt,this.uint32[hr+4]=Ct,this.uint16[ar+10]=It,this.uint16[ar+11]=Gt,this.uint16[ar+12]=Kt,this.float32[hr+7]=Zt,this.float32[hr+8]=mn,this.uint8[br+36]=_n,this.uint8[br+37]=zn,this.uint8[br+38]=jn,this.uint32[hr+10]=Xn,this.int16[ar+22]=Jn,J},z}(Wr);ce.prototype.bytesPerElement=48,ni("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ce);var Me=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Re,je,Ye,st,vt,Ct,It,Gt,Kt,Zt,mn,_n,zn,jn,Xn,Jn,ar,hr,br,Vr,Er,Zr,ri,bi,oi,xi){var fi=this.length;return this.resize(fi+1),this.emplace(fi,J,ge,Re,je,Ye,st,vt,Ct,It,Gt,Kt,Zt,mn,_n,zn,jn,Xn,Jn,ar,hr,br,Vr,Er,Zr,ri,bi,oi,xi)},z.prototype.emplace=function(J,ge,Re,je,Ye,st,vt,Ct,It,Gt,Kt,Zt,mn,_n,zn,jn,Xn,Jn,ar,hr,br,Vr,Er,Zr,ri,bi,oi,xi,fi){var ei=34*J,Wi=17*J;return this.int16[ei+0]=ge,this.int16[ei+1]=Re,this.int16[ei+2]=je,this.int16[ei+3]=Ye,this.int16[ei+4]=st,this.int16[ei+5]=vt,this.int16[ei+6]=Ct,this.int16[ei+7]=It,this.uint16[ei+8]=Gt,this.uint16[ei+9]=Kt,this.uint16[ei+10]=Zt,this.uint16[ei+11]=mn,this.uint16[ei+12]=_n,this.uint16[ei+13]=zn,this.uint16[ei+14]=jn,this.uint16[ei+15]=Xn,this.uint16[ei+16]=Jn,this.uint16[ei+17]=ar,this.uint16[ei+18]=hr,this.uint16[ei+19]=br,this.uint16[ei+20]=Vr,this.uint16[ei+21]=Er,this.uint16[ei+22]=Zr,this.uint32[Wi+12]=ri,this.float32[Wi+13]=bi,this.float32[Wi+14]=oi,this.float32[Wi+15]=xi,this.float32[Wi+16]=fi,J},z}(Wr);Me.prototype.bytesPerElement=68,ni("StructArrayLayout8i15ui1ul4f68",Me);var Ce=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J){var ge=this.length;return this.resize(ge+1),this.emplace(ge,J)},z.prototype.emplace=function(J,ge){return this.float32[1*J+0]=ge,J},z}(Wr);Ce.prototype.bytesPerElement=4,ni("StructArrayLayout1f4",Ce);var Ne=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Re){var je=this.length;return this.resize(je+1),this.emplace(je,J,ge,Re)},z.prototype.emplace=function(J,ge,Re,je){var Ye=3*J;return this.int16[Ye+0]=ge,this.int16[Ye+1]=Re,this.int16[Ye+2]=je,J},z}(Wr);Ne.prototype.bytesPerElement=6,ni("StructArrayLayout3i6",Ne);var $e=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Re){var je=this.length;return this.resize(je+1),this.emplace(je,J,ge,Re)},z.prototype.emplace=function(J,ge,Re,je){var st=4*J;return this.uint32[2*J+0]=ge,this.uint16[st+2]=Re,this.uint16[st+3]=je,J},z}(Wr);$e.prototype.bytesPerElement=8,ni("StructArrayLayout1ul2ui8",$e);var Xe=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge){var Re=this.length;return this.resize(Re+1),this.emplace(Re,J,ge)},z.prototype.emplace=function(J,ge,Re){var je=2*J;return this.uint16[je+0]=ge,this.uint16[je+1]=Re,J},z}(Wr);Xe.prototype.bytesPerElement=4,ni("StructArrayLayout2ui4",Xe);var Qe=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J){var ge=this.length;return this.resize(ge+1),this.emplace(ge,J)},z.prototype.emplace=function(J,ge){return this.uint16[1*J+0]=ge,J},z}(Wr);Qe.prototype.bytesPerElement=2,ni("StructArrayLayout1ui2",Qe);var nt=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge){var Re=this.length;return this.resize(Re+1),this.emplace(Re,J,ge)},z.prototype.emplace=function(J,ge,Re){var je=2*J;return this.float32[je+0]=ge,this.float32[je+1]=Re,J},z}(Wr);nt.prototype.bytesPerElement=8,ni("StructArrayLayout2f8",nt);var lt=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Re,je){var Ye=this.length;return this.resize(Ye+1),this.emplace(Ye,J,ge,Re,je)},z.prototype.emplace=function(J,ge,Re,je,Ye){var st=4*J;return this.float32[st+0]=ge,this.float32[st+1]=Re,this.float32[st+2]=je,this.float32[st+3]=Ye,J},z}(Wr);lt.prototype.bytesPerElement=16,ni("StructArrayLayout4f16",lt);var xt=function(C){function z(){C.apply(this,arguments)}C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z;var J={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return J.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},J.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},J.x1.get=function(){return this._structArray.int16[this._pos2+2]},J.y1.get=function(){return this._structArray.int16[this._pos2+3]},J.x2.get=function(){return this._structArray.int16[this._pos2+4]},J.y2.get=function(){return this._structArray.int16[this._pos2+5]},J.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},J.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},J.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},J.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(z.prototype,J),z}(kr);xt.prototype.size=20;var Mt=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.get=function(J){return new xt(this,J)},z}(ne);ni("CollisionBoxArray",Mt);var Bt=function(C){function z(){C.apply(this,arguments)}C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z;var J={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return J.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},J.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},J.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},J.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},J.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},J.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},J.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},J.segment.get=function(){return this._structArray.uint16[this._pos2+10]},J.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},J.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},J.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},J.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},J.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},J.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},J.placedOrientation.set=function(ge){this._structArray.uint8[this._pos1+37]=ge},J.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},J.hidden.set=function(ge){this._structArray.uint8[this._pos1+38]=ge},J.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},J.crossTileID.set=function(ge){this._structArray.uint32[this._pos4+10]=ge},J.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(z.prototype,J),z}(kr);Bt.prototype.size=48;var Vt=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.get=function(J){return new Bt(this,J)},z}(ce);ni("PlacedSymbolArray",Vt);var jt=function(C){function z(){C.apply(this,arguments)}C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z;var J={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return J.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},J.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},J.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},J.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},J.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},J.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},J.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},J.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},J.key.get=function(){return this._structArray.uint16[this._pos2+8]},J.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},J.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},J.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},J.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},J.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},J.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},J.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},J.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},J.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},J.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},J.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},J.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},J.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},J.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},J.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},J.crossTileID.set=function(ge){this._structArray.uint32[this._pos4+12]=ge},J.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},J.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},J.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},J.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(z.prototype,J),z}(kr);jt.prototype.size=68;var Xt=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.get=function(J){return new jt(this,J)},z}(Me);ni("SymbolInstanceArray",Xt);var Ut=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.getoffsetX=function(J){return this.float32[1*J+0]},z}(Ce);ni("GlyphOffsetArray",Ut);var gn=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.getx=function(J){return this.int16[3*J+0]},z.prototype.gety=function(J){return this.int16[3*J+1]},z.prototype.gettileUnitDistanceFromAnchor=function(J){return this.int16[3*J+2]},z}(Ne);ni("SymbolLineVertexArray",gn);var sn=function(C){function z(){C.apply(this,arguments)}C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z;var J={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return J.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},J.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},J.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(z.prototype,J),z}(kr);sn.prototype.size=8;var rn=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.get=function(J){return new sn(this,J)},z}($e);ni("FeatureIndexArray",rn);var En=_i([{name:"a_pos",components:2,type:"Int16"}],4).members,On=function(C){void 0===C&&(C=[]),this.segments=C};function $n(C,z){return 256*(C=l(Math.floor(C),0,255))+l(Math.floor(z),0,255)}On.prototype.prepareSegment=function(C,z,J,ge){var Re=this.segments[this.segments.length-1];return C>On.MAX_VERTEX_ARRAY_LENGTH&&O("Max vertices per segment is "+On.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+C),(!Re||Re.vertexLength+C>On.MAX_VERTEX_ARRAY_LENGTH||Re.sortKey!==ge)&&(Re={vertexOffset:z.length,primitiveOffset:J.length,vertexLength:0,primitiveLength:0},void 0!==ge&&(Re.sortKey=ge),this.segments.push(Re)),Re},On.prototype.get=function(){return this.segments},On.prototype.destroy=function(){for(var C=0,z=this.segments;C<z.length;C+=1){var J=z[C];for(var ge in J.vaos)J.vaos[ge].destroy()}},On.simpleSegment=function(C,z,J,ge){return new On([{vertexOffset:C,primitiveOffset:z,vertexLength:J,primitiveLength:ge,vaos:{},sortKey:0}])},On.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ni("SegmentVector",On);var tr=_i([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),ur=S(function(C){C.exports=function(z,J){var ge,Re,je,Ye,st,vt,Ct,It;for(Re=z.length-(ge=3&z.length),je=J,st=3432918353,vt=461845907,It=0;It<Re;)Ct=255&z.charCodeAt(It)|(255&z.charCodeAt(++It))<<8|(255&z.charCodeAt(++It))<<16|(255&z.charCodeAt(++It))<<24,++It,je=27492+(65535&(Ye=5*(65535&(je=(je^=Ct=(65535&(Ct=(Ct=(65535&Ct)*st+(((Ct>>>16)*st&65535)<<16)&4294967295)<<15|Ct>>>17))*vt+(((Ct>>>16)*vt&65535)<<16)&4294967295)<<13|je>>>19))+((5*(je>>>16)&65535)<<16)&4294967295))+((58964+(Ye>>>16)&65535)<<16);switch(Ct=0,ge){case 3:Ct^=(255&z.charCodeAt(It+2))<<16;case 2:Ct^=(255&z.charCodeAt(It+1))<<8;case 1:je^=Ct=(65535&(Ct=(Ct=(65535&(Ct^=255&z.charCodeAt(It)))*st+(((Ct>>>16)*st&65535)<<16)&4294967295)<<15|Ct>>>17))*vt+(((Ct>>>16)*vt&65535)<<16)&4294967295}return je^=z.length,je=2246822507*(65535&(je^=je>>>16))+((2246822507*(je>>>16)&65535)<<16)&4294967295,je=3266489909*(65535&(je^=je>>>13))+((3266489909*(je>>>16)&65535)<<16)&4294967295,(je^=je>>>16)>>>0}}),yr=S(function(C){C.exports=function(z,J){for(var ge,Re=z.length,je=J^Re,Ye=0;Re>=4;)ge=1540483477*(65535&(ge=255&z.charCodeAt(Ye)|(255&z.charCodeAt(++Ye))<<8|(255&z.charCodeAt(++Ye))<<16|(255&z.charCodeAt(++Ye))<<24))+((1540483477*(ge>>>16)&65535)<<16),je=1540483477*(65535&je)+((1540483477*(je>>>16)&65535)<<16)^(ge=1540483477*(65535&(ge^=ge>>>24))+((1540483477*(ge>>>16)&65535)<<16)),Re-=4,++Ye;switch(Re){case 3:je^=(255&z.charCodeAt(Ye+2))<<16;case 2:je^=(255&z.charCodeAt(Ye+1))<<8;case 1:je=1540483477*(65535&(je^=255&z.charCodeAt(Ye)))+((1540483477*(je>>>16)&65535)<<16)}return je=1540483477*(65535&(je^=je>>>13))+((1540483477*(je>>>16)&65535)<<16),(je^=je>>>15)>>>0}}),Cr=ur,Fr=yr;Cr.murmur3=ur,Cr.murmur2=Fr;var $r=function(){this.ids=[],this.positions=[],this.indexed=!1};$r.prototype.add=function(C,z,J,ge){this.ids.push(ir(C)),this.positions.push(z,J,ge)},$r.prototype.getPositions=function(C){for(var z=ir(C),J=0,ge=this.ids.length-1;J<ge;){var Re=J+ge>>1;this.ids[Re]>=z?ge=Re:J=Re+1}for(var je=[];this.ids[J]===z;)je.push({index:this.positions[3*J],start:this.positions[3*J+1],end:this.positions[3*J+2]}),J++;return je},$r.serialize=function(C,z){var J=new Float64Array(C.ids),ge=new Uint32Array(C.positions);return Tr(J,ge,0,J.length-1),z&&z.push(J.buffer,ge.buffer),{ids:J,positions:ge}},$r.deserialize=function(C){var z=new $r;return z.ids=C.ids,z.positions=C.positions,z.indexed=!0,z};var hi=Math.pow(2,53)-1;function ir(C){var z=+C;return!isNaN(z)&&z<=hi?z:Cr(String(C))}function Tr(C,z,J,ge){for(;J<ge;){for(var Re=C[J+ge>>1],je=J-1,Ye=ge+1;;){do{je++}while(C[je]<Re);do{Ye--}while(C[Ye]>Re);if(je>=Ye)break;zr(C,je,Ye),zr(z,3*je,3*Ye),zr(z,3*je+1,3*Ye+1),zr(z,3*je+2,3*Ye+2)}Ye-J<ge-Ye?(Tr(C,z,J,Ye),J=Ye+1):(Tr(C,z,Ye+1,ge),ge=Ye)}}function zr(C,z,J){var ge=C[z];C[z]=C[J],C[J]=ge}ni("FeaturePositionMap",$r);var Kr=function(C,z){this.gl=C.gl,this.location=z},ai=function(C){function z(J,ge){C.call(this,J,ge),this.current=0}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(J){this.current!==J&&(this.current=J,this.gl.uniform1i(this.location,J))},z}(Kr),vi=function(C){function z(J,ge){C.call(this,J,ge),this.current=0}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(J){this.current!==J&&(this.current=J,this.gl.uniform1f(this.location,J))},z}(Kr),Bi=function(C){function z(J,ge){C.call(this,J,ge),this.current=[0,0]}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(J){J[0]===this.current[0]&&J[1]===this.current[1]||(this.current=J,this.gl.uniform2f(this.location,J[0],J[1]))},z}(Kr),ao=function(C){function z(J,ge){C.call(this,J,ge),this.current=[0,0,0]}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(J){J[0]===this.current[0]&&J[1]===this.current[1]&&J[2]===this.current[2]||(this.current=J,this.gl.uniform3f(this.location,J[0],J[1],J[2]))},z}(Kr),_o=function(C){function z(J,ge){C.call(this,J,ge),this.current=[0,0,0,0]}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(J){J[0]===this.current[0]&&J[1]===this.current[1]&&J[2]===this.current[2]&&J[3]===this.current[3]||(this.current=J,this.gl.uniform4f(this.location,J[0],J[1],J[2],J[3]))},z}(Kr),Po=function(C){function z(J,ge){C.call(this,J,ge),this.current=Cn.transparent}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(J){J.r===this.current.r&&J.g===this.current.g&&J.b===this.current.b&&J.a===this.current.a||(this.current=J,this.gl.uniform4f(this.location,J.r,J.g,J.b,J.a))},z}(Kr),to=new Float32Array(16),Ho=function(C){function z(J,ge){C.call(this,J,ge),this.current=to}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(J){if(J[12]!==this.current[12]||J[0]!==this.current[0])return this.current=J,void this.gl.uniformMatrix4fv(this.location,!1,J);for(var ge=1;ge<16;ge++)if(J[ge]!==this.current[ge]){this.current=J,this.gl.uniformMatrix4fv(this.location,!1,J);break}},z}(Kr);function Ta(C){return[$n(255*C.r,255*C.g),$n(255*C.b,255*C.a)]}var la=function(C,z,J){this.value=C,this.uniformNames=z.map(function(ge){return"u_"+ge}),this.type=J};la.prototype.setUniform=function(C,z,J){C.set(J.constantOr(this.value))},la.prototype.getBinding=function(C,z,J){return"color"===this.type?new Po(C,z):new vi(C,z)};var Xo=function(C,z){this.uniformNames=z.map(function(J){return"u_"+J}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Xo.prototype.setConstantPatternPositions=function(C,z){this.pixelRatioFrom=z.pixelRatio,this.pixelRatioTo=C.pixelRatio,this.patternFrom=z.tlbr,this.patternTo=C.tlbr},Xo.prototype.setUniform=function(C,z,J,ge){var Re="u_pattern_to"===ge?this.patternTo:"u_pattern_from"===ge?this.patternFrom:"u_pixel_ratio_to"===ge?this.pixelRatioTo:"u_pixel_ratio_from"===ge?this.pixelRatioFrom:null;Re&&C.set(Re)},Xo.prototype.getBinding=function(C,z,J){return"u_pattern"===J.substr(0,9)?new _o(C,z):new vi(C,z)};var Hi=function(C,z,J,ge){this.expression=C,this.type=J,this.maxValue=0,this.paintVertexAttributes=z.map(function(Re){return{name:"a_"+Re,type:"Float32",components:"color"===J?2:1,offset:0}}),this.paintVertexArray=new ge};Hi.prototype.populatePaintArray=function(C,z,J,ge,Re){var je=this.paintVertexArray.length,Ye=this.expression.evaluate(new eo(0),z,{},ge,[],Re);this.paintVertexArray.resize(C),this._setPaintValue(je,C,Ye)},Hi.prototype.updatePaintArray=function(C,z,J,ge){var Re=this.expression.evaluate({zoom:0},J,ge);this._setPaintValue(C,z,Re)},Hi.prototype._setPaintValue=function(C,z,J){if("color"===this.type)for(var ge=Ta(J),Re=C;Re<z;Re++)this.paintVertexArray.emplace(Re,ge[0],ge[1]);else{for(var je=C;je<z;je++)this.paintVertexArray.emplace(je,J);this.maxValue=Math.max(this.maxValue,Math.abs(J))}},Hi.prototype.upload=function(C){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=C.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Hi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Pi=function(C,z,J,ge,Re,je){this.expression=C,this.uniformNames=z.map(function(Ye){return"u_"+Ye+"_t"}),this.type=J,this.useIntegerZoom=ge,this.zoom=Re,this.maxValue=0,this.paintVertexAttributes=z.map(function(Ye){return{name:"a_"+Ye,type:"Float32",components:"color"===J?4:2,offset:0}}),this.paintVertexArray=new je};Pi.prototype.populatePaintArray=function(C,z,J,ge,Re){var je=this.expression.evaluate(new eo(this.zoom),z,{},ge,[],Re),Ye=this.expression.evaluate(new eo(this.zoom+1),z,{},ge,[],Re),st=this.paintVertexArray.length;this.paintVertexArray.resize(C),this._setPaintValue(st,C,je,Ye)},Pi.prototype.updatePaintArray=function(C,z,J,ge){var Re=this.expression.evaluate({zoom:this.zoom},J,ge),je=this.expression.evaluate({zoom:this.zoom+1},J,ge);this._setPaintValue(C,z,Re,je)},Pi.prototype._setPaintValue=function(C,z,J,ge){if("color"===this.type)for(var Re=Ta(J),je=Ta(ge),Ye=C;Ye<z;Ye++)this.paintVertexArray.emplace(Ye,Re[0],Re[1],je[0],je[1]);else{for(var st=C;st<z;st++)this.paintVertexArray.emplace(st,J,ge);this.maxValue=Math.max(this.maxValue,Math.abs(J),Math.abs(ge))}},Pi.prototype.upload=function(C){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=C.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Pi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Pi.prototype.setUniform=function(C,z){var J=this.useIntegerZoom?Math.floor(z.zoom):z.zoom,ge=l(this.expression.interpolationFactor(J,this.zoom,this.zoom+1),0,1);C.set(ge)},Pi.prototype.getBinding=function(C,z,J){return new vi(C,z)};var so=function(C,z,J,ge,Re,je){this.expression=C,this.type=z,this.useIntegerZoom=J,this.zoom=ge,this.layerId=je,this.zoomInPaintVertexArray=new Re,this.zoomOutPaintVertexArray=new Re};so.prototype.populatePaintArray=function(C,z,J){var ge=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(C),this.zoomOutPaintVertexArray.resize(C),this._setPaintValues(ge,C,z.patterns&&z.patterns[this.layerId],J)},so.prototype.updatePaintArray=function(C,z,J,ge,Re){this._setPaintValues(C,z,J.patterns&&J.patterns[this.layerId],Re)},so.prototype._setPaintValues=function(C,z,J,ge){if(ge&&J){var st=ge[J.min],vt=ge[J.mid],Ct=ge[J.max];if(st&&vt&&Ct)for(var It=C;It<z;It++)this.zoomInPaintVertexArray.emplace(It,vt.tl[0],vt.tl[1],vt.br[0],vt.br[1],st.tl[0],st.tl[1],st.br[0],st.br[1],vt.pixelRatio,st.pixelRatio),this.zoomOutPaintVertexArray.emplace(It,vt.tl[0],vt.tl[1],vt.br[0],vt.br[1],Ct.tl[0],Ct.tl[1],Ct.br[0],Ct.br[1],vt.pixelRatio,Ct.pixelRatio)}},so.prototype.upload=function(C){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=C.createVertexBuffer(this.zoomInPaintVertexArray,tr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=C.createVertexBuffer(this.zoomOutPaintVertexArray,tr.members,this.expression.isStateDependent))},so.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var mo=function(C,z,J,ge){this.binders={},this.layoutAttributes=ge,this._buffers=[];var Re=[];for(var je in C.paint._values)if(J(je)){var Ye=C.paint.get(je);if(Ye instanceof Yo&&zl(Ye.property.specification)){var st=Ma(je,C.type),vt=Ye.value,Ct=Ye.property.specification.type,It=Ye.property.useIntegerZoom,Gt=Ye.property.specification["property-type"],Kt="cross-faded"===Gt||"cross-faded-data-driven"===Gt;if("constant"===vt.kind)this.binders[je]=Kt?new Xo(vt.value,st):new la(vt.value,st,Ct),Re.push("/u_"+je);else if("source"===vt.kind||Kt){var Zt=jo(je,Ct,"source");this.binders[je]=Kt?new so(vt,Ct,It,z,Zt,C.id):new Hi(vt,st,Ct,Zt),Re.push("/a_"+je)}else{var mn=jo(je,Ct,"composite");this.binders[je]=new Pi(vt,st,Ct,It,z,mn),Re.push("/z_"+je)}}}this.cacheKey=Re.sort().join("")};mo.prototype.getMaxValue=function(C){var z=this.binders[C];return z instanceof Hi||z instanceof Pi?z.maxValue:0},mo.prototype.populatePaintArrays=function(C,z,J,ge,Re){for(var je in this.binders){var Ye=this.binders[je];(Ye instanceof Hi||Ye instanceof Pi||Ye instanceof so)&&Ye.populatePaintArray(C,z,J,ge,Re)}},mo.prototype.setConstantPatternPositions=function(C,z){for(var J in this.binders){var ge=this.binders[J];ge instanceof Xo&&ge.setConstantPatternPositions(C,z)}},mo.prototype.updatePaintArrays=function(C,z,J,ge,Re){var je=!1;for(var Ye in C)for(var st=0,vt=z.getPositions(Ye);st<vt.length;st+=1){var Ct=vt[st],It=J.feature(Ct.index);for(var Gt in this.binders){var Kt=this.binders[Gt];if((Kt instanceof Hi||Kt instanceof Pi||Kt instanceof so)&&!0===Kt.expression.isStateDependent){var Zt=ge.paint.get(Gt);Kt.expression=Zt.value,Kt.updatePaintArray(Ct.start,Ct.end,It,C[Ye],Re),je=!0}}}return je},mo.prototype.defines=function(){var C=[];for(var z in this.binders){var J=this.binders[z];(J instanceof la||J instanceof Xo)&&C.push.apply(C,J.uniformNames.map(function(ge){return"#define HAS_UNIFORM_"+ge}))}return C},mo.prototype.getPaintVertexBuffers=function(){return this._buffers},mo.prototype.getUniforms=function(C,z){var J=[];for(var ge in this.binders){var Re=this.binders[ge];if(Re instanceof la||Re instanceof Xo||Re instanceof Pi)for(var je=0,Ye=Re.uniformNames;je<Ye.length;je+=1){var st=Ye[je];if(z[st]){var vt=Re.getBinding(C,z[st],st);J.push({name:st,property:ge,binding:vt})}}}return J},mo.prototype.setUniforms=function(C,z,J,ge){for(var Re=0,je=z;Re<je.length;Re+=1){var Ye=je[Re],st=Ye.name,vt=Ye.property;this.binders[vt].setUniform(Ye.binding,ge,J.get(vt),st)}},mo.prototype.updatePaintBuffers=function(C){for(var z in this._buffers=[],this.binders){var J=this.binders[z];if(C&&J instanceof so){var ge=2===C.fromScale?J.zoomInPaintVertexBuffer:J.zoomOutPaintVertexBuffer;ge&&this._buffers.push(ge)}else(J instanceof Hi||J instanceof Pi)&&J.paintVertexBuffer&&this._buffers.push(J.paintVertexBuffer)}},mo.prototype.upload=function(C){for(var z in this.binders){var J=this.binders[z];(J instanceof Hi||J instanceof Pi||J instanceof so)&&J.upload(C)}this.updatePaintBuffers()},mo.prototype.destroy=function(){for(var C in this.binders){var z=this.binders[C];(z instanceof Hi||z instanceof Pi||z instanceof so)&&z.destroy()}};var Do=function(C,z,J,ge){void 0===ge&&(ge=function(){return!0}),this.programConfigurations={};for(var Re=0,je=z;Re<je.length;Re+=1){var Ye=je[Re];this.programConfigurations[Ye.id]=new mo(Ye,J,ge,C)}this.needsUpload=!1,this._featureMap=new $r,this._bufferOffset=0};function Ma(C,z){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[C]||[C.replace(z+"-","").replace(/-/g,"_")]}function jo(C,z,J){var Re={"line-pattern":{source:Qs,composite:Qs},"fill-pattern":{source:Qs,composite:Qs},"fill-extrusion-pattern":{source:Qs,composite:Qs}}[C];return Re&&Re[J]||{color:{source:nt,composite:lt},number:{source:Ce,composite:nt}}[z][J]}Do.prototype.populatePaintArrays=function(C,z,J,ge,Re,je){for(var Ye in this.programConfigurations)this.programConfigurations[Ye].populatePaintArrays(C,z,ge,Re,je);void 0!==z.id&&this._featureMap.add(z.id,J,this._bufferOffset,C),this._bufferOffset=C,this.needsUpload=!0},Do.prototype.updatePaintArrays=function(C,z,J,ge){for(var Re=0,je=J;Re<je.length;Re+=1){var Ye=je[Re];this.needsUpload=this.programConfigurations[Ye.id].updatePaintArrays(C,this._featureMap,z,Ye,ge)||this.needsUpload}},Do.prototype.get=function(C){return this.programConfigurations[C]},Do.prototype.upload=function(C){if(this.needsUpload){for(var z in this.programConfigurations)this.programConfigurations[z].upload(C);this.needsUpload=!1}},Do.prototype.destroy=function(){for(var C in this.programConfigurations)this.programConfigurations[C].destroy()},ni("ConstantBinder",la),ni("CrossFadedConstantBinder",Xo),ni("SourceExpressionBinder",Hi),ni("CrossFadedCompositeBinder",so),ni("CompositeExpressionBinder",Pi),ni("ProgramConfiguration",mo,{omit:["_buffers"]}),ni("ProgramConfigurationSet",Do);var Gi=8192,Na=(15,{min:-1*Math.pow(2,14),max:Math.pow(2,14)-1});function el(C){for(var z=Gi/C.extent,J=C.loadGeometry(),ge=0;ge<J.length;ge++)for(var Re=J[ge],je=0;je<Re.length;je++){var Ye=Re[je];Ye.x=Math.round(Ye.x*z),Ye.y=Math.round(Ye.y*z),(Ye.x<Na.min||Ye.x>Na.max||Ye.y<Na.min||Ye.y>Na.max)&&(O("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ye.x=l(Ye.x,Na.min,Na.max),Ye.y=l(Ye.y,Na.min,Na.max))}return J}function Go(C,z,J,ge,Re){C.emplaceBack(2*z+(ge+1)/2,2*J+(Re+1)/2)}var ua=function(C){this.zoom=C.zoom,this.overscaling=C.overscaling,this.layers=C.layers,this.layerIds=this.layers.map(function(z){return z.id}),this.index=C.index,this.hasPattern=!1,this.layoutVertexArray=new go,this.indexArray=new ie,this.segments=new On,this.programConfigurations=new Do(En,C.layers,C.zoom),this.stateDependentLayerIds=this.layers.filter(function(z){return z.isStateDependent()}).map(function(z){return z.id})};function tl(C,z){for(var J=0;J<C.length;J++)if(Fc(z,C[J]))return!0;for(var ge=0;ge<z.length;ge++)if(Fc(C,z[ge]))return!0;return!!Of(C,z)}function Gl(C,z,J){return!!Fc(C,z)||!!Pf(z,C,J)}function dp(C,z){if(1===C.length)return hp(z,C[0]);for(var J=0;J<z.length;J++)for(var ge=z[J],Re=0;Re<ge.length;Re++)if(Fc(C,ge[Re]))return!0;for(var je=0;je<C.length;je++)if(hp(z,C[je]))return!0;for(var Ye=0;Ye<z.length;Ye++)if(Of(C,z[Ye]))return!0;return!1}function ld(C,z,J){if(C.length>1){if(Of(C,z))return!0;for(var ge=0;ge<z.length;ge++)if(Pf(z[ge],C,J))return!0}for(var Re=0;Re<C.length;Re++)if(Pf(C[Re],z,J))return!0;return!1}function Of(C,z){if(0===C.length||0===z.length)return!1;for(var J=0;J<C.length-1;J++)for(var ge=C[J],Re=C[J+1],je=0;je<z.length-1;je++)if(If(ge,Re,z[je],z[je+1]))return!0;return!1}function If(C,z,J,ge){return k(C,J,ge)!==k(z,J,ge)&&k(C,z,J)!==k(C,z,ge)}function Pf(C,z,J){var ge=J*J;if(1===z.length)return C.distSqr(z[0])<ge;for(var Re=1;Re<z.length;Re++)if(Nc(C,z[Re-1],z[Re])<ge)return!0;return!1}function Nc(C,z,J){var ge=z.distSqr(J);if(0===ge)return C.distSqr(z);var Re=((C.x-z.x)*(J.x-z.x)+(C.y-z.y)*(J.y-z.y))/ge;return C.distSqr(Re<0?z:Re>1?J:J.sub(z)._mult(Re)._add(z))}function hp(C,z){for(var J,ge,Re,je=!1,Ye=0;Ye<C.length;Ye++)for(var st=0,vt=(J=C[Ye]).length-1;st<J.length;vt=st++)(ge=J[st]).y>z.y!=(Re=J[vt]).y>z.y&&z.x<(Re.x-ge.x)*(z.y-ge.y)/(Re.y-ge.y)+ge.x&&(je=!je);return je}function Fc(C,z){for(var J=!1,ge=0,Re=C.length-1;ge<C.length;Re=ge++){var je=C[ge],Ye=C[Re];je.y>z.y!=Ye.y>z.y&&z.x<(Ye.x-je.x)*(z.y-je.y)/(Ye.y-je.y)+je.x&&(J=!J)}return J}function ud(C,z,J){var ge=J[0],Re=J[2];if(C.x<ge.x&&z.x<ge.x||C.x>Re.x&&z.x>Re.x||C.y<ge.y&&z.y<ge.y||C.y>Re.y&&z.y>Re.y)return!1;var je=k(C,z,J[0]);return je!==k(C,z,J[1])||je!==k(C,z,J[2])||je!==k(C,z,J[3])}function cd(C,z,J){var ge=z.paint.get(C).value;return"constant"===ge.kind?ge.value:J.programConfigurations.get(z.id).getMaxValue(C)}function lh(C){return Math.sqrt(C[0]*C[0]+C[1]*C[1])}function pp(C,z,J,ge,Re){if(!z[0]&&!z[1])return C;var je=i.convert(z)._mult(Re);"viewport"===J&&je._rotate(-ge);for(var Ye=[],st=0;st<C.length;st++)Ye.push(C[st].sub(je));return Ye}ua.prototype.populate=function(C,z,J){var ge=this.layers[0],Re=[],je=null;"circle"===ge.type&&(je=ge.layout.get("circle-sort-key"));for(var Ye=0,st=C;Ye<st.length;Ye+=1){var vt=st[Ye],Ct=vt.feature,It=vt.id,Gt=vt.index,Kt=vt.sourceLayerIndex,Zt=this.layers[0]._featureFilter.needGeometry,mn={type:Ct.type,id:It,properties:Ct.properties,geometry:Zt?el(Ct):[]};if(this.layers[0]._featureFilter.filter(new eo(this.zoom),mn,J)){Zt||(mn.geometry=el(Ct));var _n=je?je.evaluate(mn,{},J):void 0;Re.push({id:It,properties:Ct.properties,type:Ct.type,sourceLayerIndex:Kt,index:Gt,geometry:mn.geometry,patterns:{},sortKey:_n})}}je&&Re.sort(function(Zr,ri){return Zr.sortKey-ri.sortKey});for(var jn=0,Xn=Re;jn<Xn.length;jn+=1){var Jn=Xn[jn],hr=Jn.geometry,br=Jn.index,Vr=Jn.sourceLayerIndex,Er=C[br].feature;this.addFeature(Jn,hr,br,J),z.featureIndex.insert(Er,hr,br,Vr,this.index)}},ua.prototype.update=function(C,z,J){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(C,z,this.stateDependentLayers,J)},ua.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ua.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ua.prototype.upload=function(C){this.uploaded||(this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,En),this.indexBuffer=C.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(C),this.uploaded=!0},ua.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ua.prototype.addFeature=function(C,z,J,ge){for(var Re=0,je=z;Re<je.length;Re+=1)for(var Ye=0,st=je[Re];Ye<st.length;Ye+=1){var vt=st[Ye],Ct=vt.x,It=vt.y;if(!(Ct<0||Ct>=Gi||It<0||It>=Gi)){var Gt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,C.sortKey),Kt=Gt.vertexLength;Go(this.layoutVertexArray,Ct,It,-1,-1),Go(this.layoutVertexArray,Ct,It,1,-1),Go(this.layoutVertexArray,Ct,It,1,1),Go(this.layoutVertexArray,Ct,It,-1,1),this.indexArray.emplaceBack(Kt,Kt+1,Kt+2),this.indexArray.emplaceBack(Kt,Kt+3,Kt+2),Gt.vertexLength+=4,Gt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,C,J,{},ge)},ni("CircleBucket",ua,{omit:["layers"]});var gp=new ba({"circle-sort-key":new si(Ve.layout_circle["circle-sort-key"])}),Rf={paint:new ba({"circle-radius":new si(Ve.paint_circle["circle-radius"]),"circle-color":new si(Ve.paint_circle["circle-color"]),"circle-blur":new si(Ve.paint_circle["circle-blur"]),"circle-opacity":new si(Ve.paint_circle["circle-opacity"]),"circle-translate":new Sr(Ve.paint_circle["circle-translate"]),"circle-translate-anchor":new Sr(Ve.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Sr(Ve.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Sr(Ve.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new si(Ve.paint_circle["circle-stroke-width"]),"circle-stroke-color":new si(Ve.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new si(Ve.paint_circle["circle-stroke-opacity"])}),layout:gp},cu=typeof Float32Array<"u"?Float32Array:Array;function mp(C){return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}function G0(C,z,J){var ge=z[0],Re=z[1],je=z[2],Ye=z[3],st=z[4],vt=z[5],Ct=z[6],It=z[7],Gt=z[8],Kt=z[9],Zt=z[10],mn=z[11],_n=z[12],zn=z[13],jn=z[14],Xn=z[15],Jn=J[0],ar=J[1],hr=J[2],br=J[3];return C[0]=Jn*ge+ar*st+hr*Gt+br*_n,C[1]=Jn*Re+ar*vt+hr*Kt+br*zn,C[2]=Jn*je+ar*Ct+hr*Zt+br*jn,C[3]=Jn*Ye+ar*It+hr*mn+br*Xn,C[4]=(Jn=J[4])*ge+(ar=J[5])*st+(hr=J[6])*Gt+(br=J[7])*_n,C[5]=Jn*Re+ar*vt+hr*Kt+br*zn,C[6]=Jn*je+ar*Ct+hr*Zt+br*jn,C[7]=Jn*Ye+ar*It+hr*mn+br*Xn,C[8]=(Jn=J[8])*ge+(ar=J[9])*st+(hr=J[10])*Gt+(br=J[11])*_n,C[9]=Jn*Re+ar*vt+hr*Kt+br*zn,C[10]=Jn*je+ar*Ct+hr*Zt+br*jn,C[11]=Jn*Ye+ar*It+hr*mn+br*Xn,C[12]=(Jn=J[12])*ge+(ar=J[13])*st+(hr=J[14])*Gt+(br=J[15])*_n,C[13]=Jn*Re+ar*vt+hr*Kt+br*zn,C[14]=Jn*je+ar*Ct+hr*Zt+br*jn,C[15]=Jn*Ye+ar*It+hr*mn+br*Xn,C}Math.hypot||(Math.hypot=function(){for(var C=arguments,z=0,J=arguments.length;J--;)z+=C[J]*C[J];return Math.sqrt(z)});var vp,C,fd=G0;function dd(C,z,J){var ge=z[0],Re=z[1],je=z[2],Ye=z[3];return C[0]=J[0]*ge+J[4]*Re+J[8]*je+J[12]*Ye,C[1]=J[1]*ge+J[5]*Re+J[9]*je+J[13]*Ye,C[2]=J[2]*ge+J[6]*Re+J[10]*je+J[14]*Ye,C[3]=J[3]*ge+J[7]*Re+J[11]*je+J[15]*Ye,C}vp=new cu(3),cu!=Float32Array&&(vp[0]=0,vp[1]=0,vp[2]=0),C=new cu(4),cu!=Float32Array&&(C[0]=0,C[1]=0,C[2]=0,C[3]=0);var e1=(function(){var C=new cu(2);cu!=Float32Array&&(C[0]=0,C[1]=0)}(),function(C){function z(J){C.call(this,J,Rf)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.createBucket=function(J){return new ua(J)},z.prototype.queryRadius=function(J){var ge=J;return cd("circle-radius",this,ge)+cd("circle-stroke-width",this,ge)+lh(this.paint.get("circle-translate"))},z.prototype.queryIntersectsFeature=function(J,ge,Re,je,Ye,st,vt,Ct){for(var It=pp(J,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),st.angle,vt),Gt=this.paint.get("circle-radius").evaluate(ge,Re)+this.paint.get("circle-stroke-width").evaluate(ge,Re),Kt="map"===this.paint.get("circle-pitch-alignment"),Zt=Kt?It:function(Vr,Er){return Vr.map(function(Zr){return zc(Zr,Er)})}(It,Ct),mn=Kt?Gt*vt:Gt,_n=0,zn=je;_n<zn.length;_n+=1)for(var jn=0,Xn=zn[_n];jn<Xn.length;jn+=1){var Jn=Xn[jn],ar=Kt?Jn:zc(Jn,Ct),hr=mn,br=dd([],[Jn.x,Jn.y,0,1],Ct);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?hr*=br[3]/st.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(hr*=st.cameraToCenterDistance/br[3]),Gl(Zt,ar,hr))return!0}return!1},z}(wa));function zc(C,z){var J=dd([],[C.x,C.y,0,1],z);return new i(J[0]/J[3],J[1]/J[3])}var Lf=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z}(ua);function ff(C,z,J,ge){var Re=z.width,je=z.height;if(ge){if(ge instanceof Uint8ClampedArray)ge=new Uint8Array(ge.buffer);else if(ge.length!==Re*je*J)throw new RangeError("mismatched image size")}else ge=new Uint8Array(Re*je*J);return C.width=Re,C.height=je,C.data=ge,C}function Nf(C,z,J){var ge=z.width,Re=z.height;if(ge!==C.width||Re!==C.height){var je=ff({},{width:ge,height:Re},J);yp(C,je,{x:0,y:0},{x:0,y:0},{width:Math.min(C.width,ge),height:Math.min(C.height,Re)},J),C.width=ge,C.height=Re,C.data=je.data}}function yp(C,z,J,ge,Re,je){if(0===Re.width||0===Re.height)return z;if(Re.width>C.width||Re.height>C.height||J.x>C.width-Re.width||J.y>C.height-Re.height)throw new RangeError("out of range source coordinates for image copy");if(Re.width>z.width||Re.height>z.height||ge.x>z.width-Re.width||ge.y>z.height-Re.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ye=C.data,st=z.data,vt=0;vt<Re.height;vt++)for(var Ct=((J.y+vt)*C.width+J.x)*je,It=((ge.y+vt)*z.width+ge.x)*je,Gt=0;Gt<Re.width*je;Gt++)st[It+Gt]=Ye[Ct+Gt];return z}ni("HeatmapBucket",Lf,{omit:["layers"]});var Bc=function(C,z){ff(this,C,1,z)};Bc.prototype.resize=function(C){Nf(this,C,1)},Bc.prototype.clone=function(){return new Bc({width:this.width,height:this.height},new Uint8Array(this.data))},Bc.copy=function(C,z,J,ge,Re){yp(C,z,J,ge,Re,1)};var Qa=function(C,z){ff(this,C,4,z)};Qa.prototype.resize=function(C){Nf(this,C,4)},Qa.prototype.replace=function(C,z){z?this.data.set(C):this.data=C instanceof Uint8ClampedArray?new Uint8Array(C.buffer):C},Qa.prototype.clone=function(){return new Qa({width:this.width,height:this.height},new Uint8Array(this.data))},Qa.copy=function(C,z,J,ge,Re){yp(C,z,J,ge,Re,4)},ni("AlphaImage",Bc),ni("RGBAImage",Qa);var G2={paint:new ba({"heatmap-radius":new si(Ve.paint_heatmap["heatmap-radius"]),"heatmap-weight":new si(Ve.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Sr(Ve.paint_heatmap["heatmap-intensity"]),"heatmap-color":new su(Ve.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Sr(Ve.paint_heatmap["heatmap-opacity"])})};function t1(C,z){for(var J=new Uint8Array(1024),ge={},Re=0,je=0;Re<256;Re++,je+=4){ge[z]=Re/255;var Ye=C.evaluate(ge);J[je+0]=Math.floor(255*Ye.r/Ye.a),J[je+1]=Math.floor(255*Ye.g/Ye.a),J[je+2]=Math.floor(255*Ye.b/Ye.a),J[je+3]=Math.floor(255*Ye.a)}return new Qa({width:256,height:1},J)}var gi=function(C){function z(J){C.call(this,J,G2),this._updateColorRamp()}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.createBucket=function(J){return new Lf(J)},z.prototype._handleSpecialPaintPropertyUpdate=function(J){"heatmap-color"===J&&this._updateColorRamp()},z.prototype._updateColorRamp=function(){this.colorRamp=t1(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},z.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},z.prototype.queryRadius=function(){return 0},z.prototype.queryIntersectsFeature=function(){return!1},z.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},z}(wa),W2={paint:new ba({"hillshade-illumination-direction":new Sr(Ve.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Sr(Ve.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Sr(Ve.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Sr(Ve.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Sr(Ve.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Sr(Ve.paint_hillshade["hillshade-accent-color"])})},q2=function(C){function z(J){C.call(this,J,W2)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},z}(wa),Jy=_i([{name:"a_pos",components:2,type:"Int16"}],4).members,n1=W0,$2=W0;function W0(C,z,J){J=J||2;var ge,Re,je,Ye,st,vt,Ct,It=z&&z.length,Gt=It?z[0]*J:C.length,Kt=Qy(C,0,Gt,J,!0),Zt=[];if(!Kt||Kt.next===Kt.prev)return Zt;if(It&&(Kt=function(_n,zn,jn,Xn){var Jn,ar,hr,br=[];for(Jn=0,ar=zn.length;Jn<ar;Jn++)(hr=Qy(_n,zn[Jn]*Xn,Jn<ar-1?zn[Jn+1]*Xn:_n.length,Xn,!1))===hr.next&&(hr.steiner=!0),br.push(bp(hr));for(br.sort(e_),Jn=0;Jn<br.length;Jn++)Wu(br[Jn],jn),jn=Gu(jn,jn.next);return jn}(C,z,Kt,J)),C.length>80*J){ge=je=C[0],Re=Ye=C[1];for(var mn=J;mn<Gt;mn+=J)(st=C[mn])<ge&&(ge=st),(vt=C[mn+1])<Re&&(Re=vt),st>je&&(je=st),vt>Ye&&(Ye=vt);Ct=0!==(Ct=Math.max(je-ge,Ye-Re))?1/Ct:0}return _p(Kt,Zt,J,ge,Re,Ct),Zt}function Qy(C,z,J,ge,Re){var je,Ye;if(Re===Y0(C,z,J,ge)>0)for(je=z;je<J;je+=ge)Ye=$0(je,C[je],C[je+1],Ye);else for(je=J-ge;je>=z;je-=ge)Ye=$0(je,C[je],C[je+1],Ye);return Ye&&wp(Ye,Ye.next)&&(ch(Ye),Ye=Ye.next),Ye}function Gu(C,z){if(!C)return C;z||(z=C);var J,ge=C;do{if(J=!1,ge.steiner||!wp(ge,ge.next)&&0!==Wa(ge.prev,ge,ge.next))ge=ge.next;else{if(ch(ge),(ge=z=ge.prev)===ge.next)break;J=!0}}while(J||ge!==z);return z}function _p(C,z,J,ge,Re,je,Ye){if(C){!Ye&&je&&function(It,Gt,Kt,Zt){var mn=It;do{null===mn.z&&(mn.z=xp(mn.x,mn.y,Gt,Kt,Zt)),mn.prevZ=mn.prev,mn.nextZ=mn.next,mn=mn.next}while(mn!==It);mn.prevZ.nextZ=null,mn.prevZ=null,function(_n){var zn,jn,Xn,Jn,ar,hr,br,Vr,Er=1;do{for(jn=_n,_n=null,ar=null,hr=0;jn;){for(hr++,Xn=jn,br=0,zn=0;zn<Er&&(br++,Xn=Xn.nextZ);zn++);for(Vr=Er;br>0||Vr>0&&Xn;)0!==br&&(0===Vr||!Xn||jn.z<=Xn.z)?(Jn=jn,jn=jn.nextZ,br--):(Jn=Xn,Xn=Xn.nextZ,Vr--),ar?ar.nextZ=Jn:_n=Jn,Jn.prevZ=ar,ar=Jn;jn=Xn}ar.nextZ=null,Er*=2}while(hr>1)}(mn)}(C,ge,Re,je);for(var st,vt,Ct=C;C.prev!==C.next;)if(st=C.prev,vt=C.next,je?Ms(C,ge,Re,je):Z2(C))z.push(st.i/J),z.push(C.i/J),z.push(vt.i/J),ch(C),C=vt.next,Ct=vt.next;else if((C=vt)===Ct){Ye?1===Ye?_p(C=q0(Gu(C),z,J),z,J,ge,Re,je,2):2===Ye&&uh(C,z,J,ge,Re,je):_p(Gu(C),z,J,ge,Re,je,1);break}}}function Z2(C){var z=C.prev,J=C,ge=C.next;if(Wa(z,J,ge)>=0)return!1;for(var Re=C.next.next;Re!==C.prev;){if(yc(z.x,z.y,J.x,J.y,ge.x,ge.y,Re.x,Re.y)&&Wa(Re.prev,Re,Re.next)>=0)return!1;Re=Re.next}return!0}function Ms(C,z,J,ge){var Re=C.prev,je=C,Ye=C.next;if(Wa(Re,je,Ye)>=0)return!1;for(var Ct=Re.x>je.x?Re.x>Ye.x?Re.x:Ye.x:je.x>Ye.x?je.x:Ye.x,It=Re.y>je.y?Re.y>Ye.y?Re.y:Ye.y:je.y>Ye.y?je.y:Ye.y,Gt=xp(Re.x<je.x?Re.x<Ye.x?Re.x:Ye.x:je.x<Ye.x?je.x:Ye.x,Re.y<je.y?Re.y<Ye.y?Re.y:Ye.y:je.y<Ye.y?je.y:Ye.y,z,J,ge),Kt=xp(Ct,It,z,J,ge),Zt=C.prevZ,mn=C.nextZ;Zt&&Zt.z>=Gt&&mn&&mn.z<=Kt;){if(Zt!==C.prev&&Zt!==C.next&&yc(Re.x,Re.y,je.x,je.y,Ye.x,Ye.y,Zt.x,Zt.y)&&Wa(Zt.prev,Zt,Zt.next)>=0||(Zt=Zt.prevZ,mn!==C.prev&&mn!==C.next&&yc(Re.x,Re.y,je.x,je.y,Ye.x,Ye.y,mn.x,mn.y)&&Wa(mn.prev,mn,mn.next)>=0))return!1;mn=mn.nextZ}for(;Zt&&Zt.z>=Gt;){if(Zt!==C.prev&&Zt!==C.next&&yc(Re.x,Re.y,je.x,je.y,Ye.x,Ye.y,Zt.x,Zt.y)&&Wa(Zt.prev,Zt,Zt.next)>=0)return!1;Zt=Zt.prevZ}for(;mn&&mn.z<=Kt;){if(mn!==C.prev&&mn!==C.next&&yc(Re.x,Re.y,je.x,je.y,Ye.x,Ye.y,mn.x,mn.y)&&Wa(mn.prev,mn,mn.next)>=0)return!1;mn=mn.nextZ}return!0}function q0(C,z,J){var ge=C;do{var Re=ge.prev,je=ge.next.next;!wp(Re,je)&&n_(Re,ge,ge.next,je)&&_c(Re,je)&&_c(je,Re)&&(z.push(Re.i/J),z.push(ge.i/J),z.push(je.i/J),ch(ge),ch(ge.next),ge=C=je),ge=ge.next}while(ge!==C);return Gu(ge)}function uh(C,z,J,ge,Re,je){var Ye=C;do{for(var st=Ye.next.next;st!==Ye.prev;){if(Ye.i!==st.i&&t_(Ye,st)){var vt=r_(Ye,st);return Ye=Gu(Ye,Ye.next),vt=Gu(vt,vt.next),_p(Ye,z,J,ge,Re,je),void _p(vt,z,J,ge,Re,je)}st=st.next}Ye=Ye.next}while(Ye!==C)}function e_(C,z){return C.x-z.x}function Wu(C,z){if(z=function(ge,Re){var je,Ye=Re,st=ge.x,vt=ge.y,Ct=-1/0;do{if(vt<=Ye.y&&vt>=Ye.next.y&&Ye.next.y!==Ye.y){var It=Ye.x+(vt-Ye.y)*(Ye.next.x-Ye.x)/(Ye.next.y-Ye.y);if(It<=st&&It>Ct){if(Ct=It,It===st){if(vt===Ye.y)return Ye;if(vt===Ye.next.y)return Ye.next}je=Ye.x<Ye.next.x?Ye:Ye.next}}Ye=Ye.next}while(Ye!==Re);if(!je)return null;if(st===Ct)return je;var Gt,Kt=je,Zt=je.x,mn=je.y,_n=1/0;Ye=je;do{st>=Ye.x&&Ye.x>=Zt&&st!==Ye.x&&yc(vt<mn?st:Ct,vt,Zt,mn,vt<mn?Ct:st,vt,Ye.x,Ye.y)&&(Gt=Math.abs(vt-Ye.y)/(st-Ye.x),_c(Ye,ge)&&(Gt<_n||Gt===_n&&(Ye.x>je.x||Ye.x===je.x&&Ff(je,Ye)))&&(je=Ye,_n=Gt)),Ye=Ye.next}while(Ye!==Kt);return je}(C,z)){var J=r_(z,C);Gu(z,z.next),Gu(J,J.next)}}function Ff(C,z){return Wa(C.prev,C,z.prev)<0&&Wa(z.next,C,C.next)<0}function xp(C,z,J,ge,Re){return(C=1431655765&((C=858993459&((C=252645135&((C=16711935&((C=32767*(C-J)*Re)|C<<8))|C<<4))|C<<2))|C<<1))|(z=1431655765&((z=858993459&((z=252645135&((z=16711935&((z=32767*(z-ge)*Re)|z<<8))|z<<4))|z<<2))|z<<1))<<1}function bp(C){var z=C,J=C;do{(z.x<J.x||z.x===J.x&&z.y<J.y)&&(J=z),z=z.next}while(z!==C);return J}function yc(C,z,J,ge,Re,je,Ye,st){return(Re-Ye)*(z-st)-(C-Ye)*(je-st)>=0&&(C-Ye)*(ge-st)-(J-Ye)*(z-st)>=0&&(J-Ye)*(je-st)-(Re-Ye)*(ge-st)>=0}function t_(C,z){return C.next.i!==z.i&&C.prev.i!==z.i&&!function(J,ge){var Re=J;do{if(Re.i!==J.i&&Re.next.i!==J.i&&Re.i!==ge.i&&Re.next.i!==ge.i&&n_(Re,Re.next,J,ge))return!0;Re=Re.next}while(Re!==J);return!1}(C,z)&&(_c(C,z)&&_c(z,C)&&function(J,ge){var Re=J,je=!1,Ye=(J.x+ge.x)/2,st=(J.y+ge.y)/2;do{Re.y>st!=Re.next.y>st&&Re.next.y!==Re.y&&Ye<(Re.next.x-Re.x)*(st-Re.y)/(Re.next.y-Re.y)+Re.x&&(je=!je),Re=Re.next}while(Re!==J);return je}(C,z)&&(Wa(C.prev,C,z.prev)||Wa(C,z.prev,z))||wp(C,z)&&Wa(C.prev,C,C.next)>0&&Wa(z.prev,z,z.next)>0)}function Wa(C,z,J){return(z.y-C.y)*(J.x-z.x)-(z.x-C.x)*(J.y-z.y)}function wp(C,z){return C.x===z.x&&C.y===z.y}function n_(C,z,J,ge){var Re=hd(Wa(C,z,J)),je=hd(Wa(C,z,ge)),Ye=hd(Wa(J,ge,C)),st=hd(Wa(J,ge,z));return Re!==je&&Ye!==st||!(0!==Re||!Cl(C,J,z))||!(0!==je||!Cl(C,ge,z))||!(0!==Ye||!Cl(J,C,ge))||!(0!==st||!Cl(J,z,ge))}function Cl(C,z,J){return z.x<=Math.max(C.x,J.x)&&z.x>=Math.min(C.x,J.x)&&z.y<=Math.max(C.y,J.y)&&z.y>=Math.min(C.y,J.y)}function hd(C){return C>0?1:C<0?-1:0}function _c(C,z){return Wa(C.prev,C,C.next)<0?Wa(C,z,C.next)>=0&&Wa(C,C.prev,z)>=0:Wa(C,z,C.prev)<0||Wa(C,C.next,z)<0}function r_(C,z){var J=new Z0(C.i,C.x,C.y),ge=new Z0(z.i,z.x,z.y),Re=C.next,je=z.prev;return C.next=z,z.prev=C,J.next=Re,Re.prev=J,ge.next=J,J.prev=ge,je.next=ge,ge.prev=je,ge}function $0(C,z,J,ge){var Re=new Z0(C,z,J);return ge?(Re.next=ge.next,Re.prev=ge,ge.next.prev=Re,ge.next=Re):(Re.prev=Re,Re.next=Re),Re}function ch(C){C.next.prev=C.prev,C.prev.next=C.next,C.prevZ&&(C.prevZ.nextZ=C.nextZ),C.nextZ&&(C.nextZ.prevZ=C.prevZ)}function Z0(C,z,J){this.i=C,this.x=z,this.y=J,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Y0(C,z,J,ge){for(var Re=0,je=z,Ye=J-ge;je<J;je+=ge)Re+=(C[Ye]-C[je])*(C[je+1]+C[Ye+1]),Ye=je;return Re}function i_(C,z,J,ge,Re){r1(C,z,J||0,ge||C.length-1,Re||X0)}function r1(C,z,J,ge,Re){for(;ge>J;){if(ge-J>600){var je=ge-J+1,Ye=z-J+1,st=Math.log(je),vt=.5*Math.exp(2*st/3),Ct=.5*Math.sqrt(st*vt*(je-vt)/je)*(Ye-je/2<0?-1:1);r1(C,z,Math.max(J,Math.floor(z-Ye*vt/je+Ct)),Math.min(ge,Math.floor(z+(je-Ye)*vt/je+Ct)),Re)}var It=C[z],Gt=J,Kt=ge;for(fh(C,J,z),Re(C[ge],It)>0&&fh(C,J,ge);Gt<Kt;){for(fh(C,Gt,Kt),Gt++,Kt--;Re(C[Gt],It)<0;)Gt++;for(;Re(C[Kt],It)>0;)Kt--}0===Re(C[J],It)?fh(C,J,Kt):fh(C,++Kt,ge),Kt<=z&&(J=Kt+1),z<=Kt&&(ge=Kt-1)}}function fh(C,z,J){var ge=C[z];C[z]=C[J],C[J]=ge}function X0(C,z){return C<z?-1:C>z?1:0}function pd(C,z){var J=C.length;if(J<=1)return[C];for(var ge,Re,je=[],Ye=0;Ye<J;Ye++){var st=I(C[Ye]);0!==st&&(C[Ye].area=Math.abs(st),void 0===Re&&(Re=st<0),Re===st<0?(ge&&je.push(ge),ge=[C[Ye]]):ge.push(C[Ye]))}if(ge&&je.push(ge),z>1)for(var vt=0;vt<je.length;vt++)je[vt].length<=z||(i_(je[vt],z,1,je[vt].length-1,K0),je[vt]=je[vt].slice(0,z));return je}function K0(C,z){return z.area-C.area}function zf(C,z,J){for(var ge=J.patternDependencies,Re=!1,je=0,Ye=z;je<Ye.length;je+=1){var st=Ye[je].paint.get(C+"-pattern");st.isConstant()||(Re=!0);var vt=st.constantOr(null);vt&&(Re=!0,ge[vt.to]=!0,ge[vt.from]=!0)}return Re}function Tp(C,z,J,ge,Re){for(var je=Re.patternDependencies,Ye=0,st=z;Ye<st.length;Ye+=1){var vt=st[Ye],Ct=vt.paint.get(C+"-pattern").value;if("constant"!==Ct.kind){var It=Ct.evaluate({zoom:ge-1},J,{},Re.availableImages),Gt=Ct.evaluate({zoom:ge},J,{},Re.availableImages),Kt=Ct.evaluate({zoom:ge+1},J,{},Re.availableImages);Gt=Gt&&Gt.name?Gt.name:Gt,Kt=Kt&&Kt.name?Kt.name:Kt,je[It=It&&It.name?It.name:It]=!0,je[Gt]=!0,je[Kt]=!0,J.patterns[vt.id]={min:It,mid:Gt,max:Kt}}}return J}W0.deviation=function(C,z,J,ge){var Re=z&&z.length,Ye=Math.abs(Y0(C,0,Re?z[0]*J:C.length,J));if(Re)for(var st=0,vt=z.length;st<vt;st++)Ye-=Math.abs(Y0(C,z[st]*J,st<vt-1?z[st+1]*J:C.length,J));var Gt=0;for(st=0;st<ge.length;st+=3){var Kt=ge[st]*J,Zt=ge[st+1]*J,mn=ge[st+2]*J;Gt+=Math.abs((C[Kt]-C[mn])*(C[Zt+1]-C[Kt+1])-(C[Kt]-C[Zt])*(C[mn+1]-C[Kt+1]))}return 0===Ye&&0===Gt?0:Math.abs((Gt-Ye)/Ye)},W0.flatten=function(C){for(var z=C[0][0].length,J={vertices:[],holes:[],dimensions:z},ge=0,Re=0;Re<C.length;Re++){for(var je=0;je<C[Re].length;je++)for(var Ye=0;Ye<z;Ye++)J.vertices.push(C[Re][je][Ye]);Re>0&&J.holes.push(ge+=C[Re-1].length)}return J},n1.default=$2;var Wl=function(C){this.zoom=C.zoom,this.overscaling=C.overscaling,this.layers=C.layers,this.layerIds=this.layers.map(function(z){return z.id}),this.index=C.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new go,this.indexArray=new ie,this.indexArray2=new Xe,this.programConfigurations=new Do(Jy,C.layers,C.zoom),this.segments=new On,this.segments2=new On,this.stateDependentLayerIds=this.layers.filter(function(z){return z.isStateDependent()}).map(function(z){return z.id})};Wl.prototype.populate=function(C,z,J){this.hasPattern=zf("fill",this.layers,z);for(var ge=this.layers[0].layout.get("fill-sort-key"),Re=[],je=0,Ye=C;je<Ye.length;je+=1){var st=Ye[je],vt=st.feature,Ct=st.id,It=st.index,Gt=st.sourceLayerIndex,Kt=this.layers[0]._featureFilter.needGeometry,Zt={type:vt.type,id:Ct,properties:vt.properties,geometry:Kt?el(vt):[]};if(this.layers[0]._featureFilter.filter(new eo(this.zoom),Zt,J)){Kt||(Zt.geometry=el(vt));var mn=ge?ge.evaluate(Zt,{},J,z.availableImages):void 0;Re.push({id:Ct,properties:vt.properties,type:vt.type,sourceLayerIndex:Gt,index:It,geometry:Zt.geometry,patterns:{},sortKey:mn})}}ge&&Re.sort(function(Zr,ri){return Zr.sortKey-ri.sortKey});for(var zn=0,jn=Re;zn<jn.length;zn+=1){var Xn=jn[zn],ar=Xn.geometry,hr=Xn.index,br=Xn.sourceLayerIndex;if(this.hasPattern){var Vr=Tp("fill",this.layers,Xn,this.zoom,z);this.patternFeatures.push(Vr)}else this.addFeature(Xn,ar,hr,J,{});z.featureIndex.insert(C[hr].feature,ar,hr,br,this.index)}},Wl.prototype.update=function(C,z,J){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(C,z,this.stateDependentLayers,J)},Wl.prototype.addFeatures=function(C,z,J){for(var ge=0,Re=this.patternFeatures;ge<Re.length;ge+=1){var je=Re[ge];this.addFeature(je,je.geometry,je.index,z,J)}},Wl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Wl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Wl.prototype.upload=function(C){this.uploaded||(this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,Jy),this.indexBuffer=C.createIndexBuffer(this.indexArray),this.indexBuffer2=C.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(C),this.uploaded=!0},Wl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Wl.prototype.addFeature=function(C,z,J,ge,Re){for(var je=0,Ye=pd(z,500);je<Ye.length;je+=1){for(var st=Ye[je],vt=0,Ct=0,It=st;Ct<It.length;Ct+=1)vt+=It[Ct].length;for(var Gt=this.segments.prepareSegment(vt,this.layoutVertexArray,this.indexArray),Kt=Gt.vertexLength,Zt=[],mn=[],_n=0,zn=st;_n<zn.length;_n+=1){var jn=zn[_n];if(0!==jn.length){jn!==st[0]&&mn.push(Zt.length/2);var Xn=this.segments2.prepareSegment(jn.length,this.layoutVertexArray,this.indexArray2),Jn=Xn.vertexLength;this.layoutVertexArray.emplaceBack(jn[0].x,jn[0].y),this.indexArray2.emplaceBack(Jn+jn.length-1,Jn),Zt.push(jn[0].x),Zt.push(jn[0].y);for(var ar=1;ar<jn.length;ar++)this.layoutVertexArray.emplaceBack(jn[ar].x,jn[ar].y),this.indexArray2.emplaceBack(Jn+ar-1,Jn+ar),Zt.push(jn[ar].x),Zt.push(jn[ar].y);Xn.vertexLength+=jn.length,Xn.primitiveLength+=jn.length}}for(var hr=n1(Zt,mn),br=0;br<hr.length;br+=3)this.indexArray.emplaceBack(Kt+hr[br],Kt+hr[br+1],Kt+hr[br+2]);Gt.vertexLength+=vt,Gt.primitiveLength+=hr.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,C,J,Re,ge)},ni("FillBucket",Wl,{omit:["layers","patternFeatures"]});var o_=new ba({"fill-sort-key":new si(Ve.layout_fill["fill-sort-key"])}),i1={paint:new ba({"fill-antialias":new Sr(Ve.paint_fill["fill-antialias"]),"fill-opacity":new si(Ve.paint_fill["fill-opacity"]),"fill-color":new si(Ve.paint_fill["fill-color"]),"fill-outline-color":new si(Ve.paint_fill["fill-outline-color"]),"fill-translate":new Sr(Ve.paint_fill["fill-translate"]),"fill-translate-anchor":new Sr(Ve.paint_fill["fill-translate-anchor"]),"fill-pattern":new tc(Ve.paint_fill["fill-pattern"])}),layout:o_},dh=function(C){function z(J){C.call(this,J,i1)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.recalculate=function(J,ge){C.prototype.recalculate.call(this,J,ge);var Re=this.paint._values["fill-outline-color"];"constant"===Re.value.kind&&void 0===Re.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},z.prototype.createBucket=function(J){return new Wl(J)},z.prototype.queryRadius=function(){return lh(this.paint.get("fill-translate"))},z.prototype.queryIntersectsFeature=function(J,ge,Re,je,Ye,st,vt){return dp(pp(J,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),st.angle,vt),je)},z.prototype.isTileClipped=function(){return!0},z}(wa),hh=_i([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,J0=gd;function gd(C,z,J,ge,Re){this.properties={},this.extent=J,this.type=0,this._pbf=C,this._geometry=-1,this._keys=ge,this._values=Re,C.readFields(a_,this,z)}function a_(C,z,J){1==C?z.id=J.readVarint():2==C?function(ge,Re){for(var je=ge.readVarint()+ge.pos;ge.pos<je;){var Ye=Re._keys[ge.readVarint()],st=Re._values[ge.readVarint()];Re.properties[Ye]=st}}(J,z):3==C?z.type=J.readVarint():4==C&&(z._geometry=J.pos)}function md(C){for(var z,J,ge=0,Re=0,je=C.length,Ye=je-1;Re<je;Ye=Re++)ge+=((J=C[Ye]).x-(z=C[Re]).x)*(z.y+J.y);return ge}gd.types=["Unknown","Point","LineString","Polygon"],gd.prototype.loadGeometry=function(){var C=this._pbf;C.pos=this._geometry;for(var z,J=C.readVarint()+C.pos,ge=1,Re=0,je=0,Ye=0,st=[];C.pos<J;){if(Re<=0){var vt=C.readVarint();ge=7&vt,Re=vt>>3}if(Re--,1===ge||2===ge)je+=C.readSVarint(),Ye+=C.readSVarint(),1===ge&&(z&&st.push(z),z=[]),z.push(new i(je,Ye));else{if(7!==ge)throw new Error("unknown command "+ge);z&&z.push(z[0].clone())}}return z&&st.push(z),st},gd.prototype.bbox=function(){var C=this._pbf;C.pos=this._geometry;for(var z=C.readVarint()+C.pos,J=1,ge=0,Re=0,je=0,Ye=1/0,st=-1/0,vt=1/0,Ct=-1/0;C.pos<z;){if(ge<=0){var It=C.readVarint();J=7&It,ge=It>>3}if(ge--,1===J||2===J)(Re+=C.readSVarint())<Ye&&(Ye=Re),Re>st&&(st=Re),(je+=C.readSVarint())<vt&&(vt=je),je>Ct&&(Ct=je);else if(7!==J)throw new Error("unknown command "+J)}return[Ye,vt,st,Ct]},gd.prototype.toGeoJSON=function(C,z,J){var ge,Re,je=this.extent*Math.pow(2,J),Ye=this.extent*C,st=this.extent*z,vt=this.loadGeometry(),Ct=gd.types[this.type];function It(Zt){for(var mn=0;mn<Zt.length;mn++){var _n=Zt[mn];Zt[mn]=[360*(_n.x+Ye)/je-180,360/Math.PI*Math.atan(Math.exp((180-360*(_n.y+st)/je)*Math.PI/180))-90]}}switch(this.type){case 1:var Gt=[];for(ge=0;ge<vt.length;ge++)Gt[ge]=vt[ge][0];It(vt=Gt);break;case 2:for(ge=0;ge<vt.length;ge++)It(vt[ge]);break;case 3:for(vt=function(Zt){var mn=Zt.length;if(mn<=1)return[Zt];for(var _n,zn,jn=[],Xn=0;Xn<mn;Xn++){var Jn=md(Zt[Xn]);0!==Jn&&(void 0===zn&&(zn=Jn<0),zn===Jn<0?(_n&&jn.push(_n),_n=[Zt[Xn]]):_n.push(Zt[Xn]))}return _n&&jn.push(_n),jn}(vt),ge=0;ge<vt.length;ge++)for(Re=0;Re<vt[ge].length;Re++)It(vt[ge][Re])}1===vt.length?vt=vt[0]:Ct="Multi"+Ct;var Kt={type:"Feature",geometry:{type:Ct,coordinates:vt},properties:this.properties};return"id"in this&&(Kt.id=this.id),Kt};var vd=o1;function o1(C,z){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=C,this._keys=[],this._values=[],this._features=[],C.readFields(Y2,this,z),this.length=this._features.length}function Y2(C,z,J){15===C?z.version=J.readVarint():1===C?z.name=J.readString():5===C?z.extent=J.readVarint():2===C?z._features.push(J.pos):3===C?z._keys.push(J.readString()):4===C&&z._values.push(function(ge){for(var Re=null,je=ge.readVarint()+ge.pos;ge.pos<je;){var Ye=ge.readVarint()>>3;Re=1===Ye?ge.readString():2===Ye?ge.readFloat():3===Ye?ge.readDouble():4===Ye?ge.readVarint64():5===Ye?ge.readVarint():6===Ye?ge.readSVarint():7===Ye?ge.readBoolean():null}return Re}(J))}function a1(C,z,J){if(3===C){var ge=new vd(J,J.readVarint()+J.pos);ge.length&&(z[ge.name]=ge)}}o1.prototype.feature=function(C){if(C<0||C>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[C];var z=this._pbf.readVarint()+this._pbf.pos;return new J0(this._pbf,z,this.extent,this._keys,this._values)};var yd={VectorTile:function(C,z){this.layers=C.readFields(a1,{},z)},VectorTileFeature:J0,VectorTileLayer:vd},X2=yd.VectorTileFeature.types,Q0=Math.pow(2,13);function ph(C,z,J,ge,Re,je,Ye,st){C.emplaceBack(z,J,2*Math.floor(ge*Q0)+Ye,Re*Q0*2,je*Q0*2,Math.round(st))}var nc=function(C){this.zoom=C.zoom,this.overscaling=C.overscaling,this.layers=C.layers,this.layerIds=this.layers.map(function(z){return z.id}),this.index=C.index,this.hasPattern=!1,this.layoutVertexArray=new El,this.indexArray=new ie,this.programConfigurations=new Do(hh,C.layers,C.zoom),this.segments=new On,this.stateDependentLayerIds=this.layers.filter(function(z){return z.isStateDependent()}).map(function(z){return z.id})};function Mp(C,z){return C.x===z.x&&(C.x<0||C.x>Gi)||C.y===z.y&&(C.y<0||C.y>Gi)}nc.prototype.populate=function(C,z,J){this.features=[],this.hasPattern=zf("fill-extrusion",this.layers,z);for(var ge=0,Re=C;ge<Re.length;ge+=1){var je=Re[ge],Ye=je.feature,st=je.id,vt=je.index,Ct=je.sourceLayerIndex,It=this.layers[0]._featureFilter.needGeometry,Gt={type:Ye.type,id:st,properties:Ye.properties,geometry:It?el(Ye):[]};if(this.layers[0]._featureFilter.filter(new eo(this.zoom),Gt,J)){var Kt={id:st,sourceLayerIndex:Ct,index:vt,geometry:It?Gt.geometry:el(Ye),properties:Ye.properties,type:Ye.type,patterns:{}};void 0!==Ye.id&&(Kt.id=Ye.id),this.hasPattern?this.features.push(Tp("fill-extrusion",this.layers,Kt,this.zoom,z)):this.addFeature(Kt,Kt.geometry,vt,J,{}),z.featureIndex.insert(Ye,Kt.geometry,vt,Ct,this.index,!0)}}},nc.prototype.addFeatures=function(C,z,J){for(var ge=0,Re=this.features;ge<Re.length;ge+=1){var je=Re[ge];this.addFeature(je,je.geometry,je.index,z,J)}},nc.prototype.update=function(C,z,J){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(C,z,this.stateDependentLayers,J)},nc.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},nc.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},nc.prototype.upload=function(C){this.uploaded||(this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,hh),this.indexBuffer=C.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(C),this.uploaded=!0},nc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},nc.prototype.addFeature=function(C,z,J,ge,Re){for(var je=0,Ye=pd(z,500);je<Ye.length;je+=1){for(var st=Ye[je],vt=0,Ct=0,It=st;Ct<It.length;Ct+=1)vt+=It[Ct].length;for(var Gt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Kt=0,Zt=st;Kt<Zt.length;Kt+=1){var mn=Zt[Kt];if(0!==mn.length&&!((Wi=mn).every(function(Ai){return Ai.x<0})||Wi.every(function(Ai){return Ai.x>Gi})||Wi.every(function(Ai){return Ai.y<0})||Wi.every(function(Ai){return Ai.y>Gi})))for(var _n=0,zn=0;zn<mn.length;zn++){var jn=mn[zn];if(zn>=1){var Xn=mn[zn-1];if(!Mp(jn,Xn)){Gt.vertexLength+4>On.MAX_VERTEX_ARRAY_LENGTH&&(Gt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Jn=jn.sub(Xn)._perp()._unit(),ar=Xn.dist(jn);_n+ar>32768&&(_n=0),ph(this.layoutVertexArray,jn.x,jn.y,Jn.x,Jn.y,0,0,_n),ph(this.layoutVertexArray,jn.x,jn.y,Jn.x,Jn.y,0,1,_n),ph(this.layoutVertexArray,Xn.x,Xn.y,Jn.x,Jn.y,0,0,_n+=ar),ph(this.layoutVertexArray,Xn.x,Xn.y,Jn.x,Jn.y,0,1,_n);var hr=Gt.vertexLength;this.indexArray.emplaceBack(hr,hr+2,hr+1),this.indexArray.emplaceBack(hr+1,hr+2,hr+3),Gt.vertexLength+=4,Gt.primitiveLength+=2}}}}if(Gt.vertexLength+vt>On.MAX_VERTEX_ARRAY_LENGTH&&(Gt=this.segments.prepareSegment(vt,this.layoutVertexArray,this.indexArray)),"Polygon"===X2[C.type]){for(var br=[],Vr=[],Er=Gt.vertexLength,Zr=0,ri=st;Zr<ri.length;Zr+=1){var bi=ri[Zr];if(0!==bi.length){bi!==st[0]&&Vr.push(br.length/2);for(var oi=0;oi<bi.length;oi++){var xi=bi[oi];ph(this.layoutVertexArray,xi.x,xi.y,0,0,1,1,0),br.push(xi.x),br.push(xi.y)}}}for(var fi=n1(br,Vr),ei=0;ei<fi.length;ei+=3)this.indexArray.emplaceBack(Er+fi[ei],Er+fi[ei+2],Er+fi[ei+1]);Gt.primitiveLength+=fi.length/3,Gt.vertexLength+=vt}}var Wi;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,C,J,Re,ge)},ni("FillExtrusionBucket",nc,{omit:["layers","features"]});var s1={paint:new ba({"fill-extrusion-opacity":new Sr(Ve["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new si(Ve["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Sr(Ve["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Sr(Ve["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new tc(Ve["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new si(Ve["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new si(Ve["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Sr(Ve["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},s_=function(C){function z(J){C.call(this,J,s1)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.createBucket=function(J){return new nc(J)},z.prototype.queryRadius=function(){return lh(this.paint.get("fill-extrusion-translate"))},z.prototype.is3D=function(){return!0},z.prototype.queryIntersectsFeature=function(J,ge,Re,je,Ye,st,vt,Ct){var It=pp(J,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),st.angle,vt),Gt=this.paint.get("fill-extrusion-height").evaluate(ge,Re),Kt=this.paint.get("fill-extrusion-base").evaluate(ge,Re),Zt=function(_n,zn,jn,Xn){for(var Jn=[],ar=0,hr=_n;ar<hr.length;ar+=1){var br=hr[ar],Vr=[br.x,br.y,0,1];dd(Vr,Vr,zn),Jn.push(new i(Vr[0]/Vr[3],Vr[1]/Vr[3]))}return Jn}(It,Ct),mn=function(_n,zn,jn,Xn){for(var Jn=[],ar=[],hr=Xn[8]*zn,br=Xn[9]*zn,Vr=Xn[10]*zn,Er=Xn[11]*zn,Zr=Xn[8]*jn,ri=Xn[9]*jn,bi=Xn[10]*jn,oi=Xn[11]*jn,xi=0,fi=_n;xi<fi.length;xi+=1){for(var ei=[],Wi=[],Ai=0,xo=fi[xi];Ai<xo.length;Ai+=1){var yi=xo[Ai],vo=yi.x,Mo=yi.y,qi=Xn[0]*vo+Xn[4]*Mo+Xn[12],No=Xn[1]*vo+Xn[5]*Mo+Xn[13],Ao=Xn[2]*vo+Xn[6]*Mo+Xn[14],Fa=Xn[3]*vo+Xn[7]*Mo+Xn[15],Ko=Ao+Vr,Za=Fa+Er,Aa=qi+Zr,cs=No+ri,il=Ao+bi,fs=Fa+oi,ka=new i((qi+hr)/Za,(No+br)/Za);ka.z=Ko/Za,ei.push(ka);var ds=new i(Aa/fs,cs/fs);ds.z=il/fs,Wi.push(ds)}Jn.push(ei),ar.push(Wi)}return[Jn,ar]}(je,Kt,Gt,Ct);return function(_n,zn,jn){var Xn=1/0;dp(jn,zn)&&(Xn=l_(jn,zn[0]));for(var Jn=0;Jn<zn.length;Jn++)for(var ar=zn[Jn],hr=_n[Jn],br=0;br<ar.length-1;br++){var Vr=ar[br],ri=[Vr,ar[br+1],hr[br+1],hr[br],Vr];tl(jn,ri)&&(Xn=Math.min(Xn,l_(jn,ri)))}return Xn!==1/0&&Xn}(mn[0],mn[1],Zt)},z}(wa);function _d(C,z){return C.x*z.x+C.y*z.y}function l_(C,z){if(1===C.length){for(var J,ge=0,Re=z[ge++];!J||Re.equals(J);)if(!(J=z[ge++]))return 1/0;for(;ge<z.length;ge++){var je=z[ge],Ye=C[0],st=J.sub(Re),vt=je.sub(Re),Ct=Ye.sub(Re),It=_d(st,st),Gt=_d(st,vt),Kt=_d(vt,vt),Zt=_d(Ct,st),mn=_d(Ct,vt),_n=It*Kt-Gt*Gt,zn=(Kt*Zt-Gt*mn)/_n,jn=(It*mn-Gt*Zt)/_n,Jn=Re.z*(1-zn-jn)+J.z*zn+je.z*jn;if(isFinite(Jn))return Jn}return 1/0}for(var ar=1/0,hr=0,br=z;hr<br.length;hr+=1)ar=Math.min(ar,br[hr].z);return ar}var eg=_i([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,K2=yd.VectorTileFeature.types,u_=Math.cos(Math.PI/180*37.5),l1=Math.pow(2,14)/.5,Ns=function(C){this.zoom=C.zoom,this.overscaling=C.overscaling,this.layers=C.layers,this.layerIds=this.layers.map(function(z){return z.id}),this.index=C.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ha,this.indexArray=new ie,this.programConfigurations=new Do(eg,C.layers,C.zoom),this.segments=new On,this.stateDependentLayerIds=this.layers.filter(function(z){return z.isStateDependent()}).map(function(z){return z.id})};Ns.prototype.populate=function(C,z,J){this.hasPattern=zf("line",this.layers,z);for(var ge=this.layers[0].layout.get("line-sort-key"),Re=[],je=0,Ye=C;je<Ye.length;je+=1){var st=Ye[je],vt=st.feature,Ct=st.id,It=st.index,Gt=st.sourceLayerIndex,Kt=this.layers[0]._featureFilter.needGeometry,Zt={type:vt.type,id:Ct,properties:vt.properties,geometry:Kt?el(vt):[]};if(this.layers[0]._featureFilter.filter(new eo(this.zoom),Zt,J)){Kt||(Zt.geometry=el(vt));var mn=ge?ge.evaluate(Zt,{},J):void 0;Re.push({id:Ct,properties:vt.properties,type:vt.type,sourceLayerIndex:Gt,index:It,geometry:Zt.geometry,patterns:{},sortKey:mn})}}ge&&Re.sort(function(Zr,ri){return Zr.sortKey-ri.sortKey});for(var zn=0,jn=Re;zn<jn.length;zn+=1){var Xn=jn[zn],ar=Xn.geometry,hr=Xn.index,br=Xn.sourceLayerIndex;if(this.hasPattern){var Vr=Tp("line",this.layers,Xn,this.zoom,z);this.patternFeatures.push(Vr)}else this.addFeature(Xn,ar,hr,J,{});z.featureIndex.insert(C[hr].feature,ar,hr,br,this.index)}},Ns.prototype.update=function(C,z,J){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(C,z,this.stateDependentLayers,J)},Ns.prototype.addFeatures=function(C,z,J){for(var ge=0,Re=this.patternFeatures;ge<Re.length;ge+=1){var je=Re[ge];this.addFeature(je,je.geometry,je.index,z,J)}},Ns.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ns.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ns.prototype.upload=function(C){this.uploaded||(this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,eg),this.indexBuffer=C.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(C),this.uploaded=!0},Ns.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ns.prototype.addFeature=function(C,z,J,ge,Re){for(var je=this.layers[0].layout,Ye=je.get("line-join").evaluate(C,{}),st=je.get("line-cap"),vt=je.get("line-miter-limit"),Ct=je.get("line-round-limit"),It=0,Gt=z;It<Gt.length;It+=1)this.addLine(Gt[It],C,Ye,st,vt,Ct);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,C,J,Re,ge)},Ns.prototype.addLine=function(C,z,J,ge,Re,je){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,z.properties&&z.properties.hasOwnProperty("mapbox_clip_start")&&z.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+z.properties.mapbox_clip_start,this.clipEnd=+z.properties.mapbox_clip_end;for(var Ye=0;Ye<C.length-1;Ye++)this.totalDistance+=C[Ye].dist(C[Ye+1]);this.updateScaledDistance()}for(var st="Polygon"===K2[z.type],vt=C.length;vt>=2&&C[vt-1].equals(C[vt-2]);)vt--;for(var Ct=0;Ct<vt-1&&C[Ct].equals(C[Ct+1]);)Ct++;if(!(vt<(st?3:2))){"bevel"===J&&(Re=1.05);var It,Gt=this.overscaling<=16?15*Gi/(512*this.overscaling):0,Kt=this.segments.prepareSegment(10*vt,this.layoutVertexArray,this.indexArray),Zt=void 0,mn=void 0,_n=void 0,zn=void 0;this.e1=this.e2=-1,st&&(zn=C[Ct].sub(It=C[vt-2])._unit()._perp());for(var jn=Ct;jn<vt;jn++)if(!(mn=jn===vt-1?st?C[Ct+1]:void 0:C[jn+1])||!C[jn].equals(mn)){zn&&(_n=zn),It&&(Zt=It),It=C[jn],zn=mn?mn.sub(It)._unit()._perp():_n;var Xn=(_n=_n||zn).add(zn);0===Xn.x&&0===Xn.y||Xn._unit();var Jn=_n.x*zn.x+_n.y*zn.y,ar=Xn.x*zn.x+Xn.y*zn.y,hr=0!==ar?1/ar:1/0,br=2*Math.sqrt(2-2*ar),Vr=ar<u_&&Zt&&mn,Er=_n.x*zn.y-_n.y*zn.x>0;if(Vr&&jn>Ct){var Zr=It.dist(Zt);if(Zr>2*Gt){var ri=It.sub(It.sub(Zt)._mult(Gt/Zr)._round());this.updateDistance(Zt,ri),this.addCurrentVertex(ri,_n,0,0,Kt),Zt=ri}}var bi=Zt&&mn,oi=bi?J:st?"butt":ge;if(bi&&"round"===oi&&(hr<je?oi="miter":hr<=2&&(oi="fakeround")),"miter"===oi&&hr>Re&&(oi="bevel"),"bevel"===oi&&(hr>2&&(oi="flipbevel"),hr<Re&&(oi="miter")),Zt&&this.updateDistance(Zt,It),"miter"===oi)Xn._mult(hr),this.addCurrentVertex(It,Xn,0,0,Kt);else if("flipbevel"===oi){if(hr>100)Xn=zn.mult(-1);else{var xi=hr*_n.add(zn).mag()/_n.sub(zn).mag();Xn._perp()._mult(xi*(Er?-1:1))}this.addCurrentVertex(It,Xn,0,0,Kt),this.addCurrentVertex(It,Xn.mult(-1),0,0,Kt)}else if("bevel"===oi||"fakeround"===oi){var fi=-Math.sqrt(hr*hr-1),ei=Er?fi:0,Wi=Er?0:fi;if(Zt&&this.addCurrentVertex(It,_n,ei,Wi,Kt),"fakeround"===oi)for(var Ai=Math.round(180*br/Math.PI/20),xo=1;xo<Ai;xo++){var yi=xo/Ai;if(.5!==yi){var vo=yi-.5;yi+=yi*vo*(yi-1)*((1.0904+Jn*(Jn*(3.55645-1.43519*Jn)-3.2452))*vo*vo+(.848013+Jn*(.215638*Jn-1.06021)))}var Mo=zn.sub(_n)._mult(yi)._add(_n)._unit()._mult(Er?-1:1);this.addHalfVertex(It,Mo.x,Mo.y,!1,Er,0,Kt)}mn&&this.addCurrentVertex(It,zn,-ei,-Wi,Kt)}else if("butt"===oi)this.addCurrentVertex(It,Xn,0,0,Kt);else if("square"===oi){var qi=Zt?1:-1;this.addCurrentVertex(It,Xn,qi,qi,Kt)}else"round"===oi&&(Zt&&(this.addCurrentVertex(It,_n,0,0,Kt),this.addCurrentVertex(It,_n,1,1,Kt,!0)),mn&&(this.addCurrentVertex(It,zn,-1,-1,Kt,!0),this.addCurrentVertex(It,zn,0,0,Kt)));if(Vr&&jn<vt-1){var No=It.dist(mn);if(No>2*Gt){var Ao=It.add(mn.sub(It)._mult(Gt/No)._round());this.updateDistance(It,Ao),this.addCurrentVertex(Ao,zn,0,0,Kt),It=Ao}}}}},Ns.prototype.addCurrentVertex=function(C,z,J,ge,Re,je){void 0===je&&(je=!1);var vt=z.y*ge-z.x,Ct=-z.y-z.x*ge;this.addHalfVertex(C,z.x+z.y*J,z.y-z.x*J,je,!1,J,Re),this.addHalfVertex(C,vt,Ct,je,!0,-ge,Re),this.distance>l1/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(C,z,J,ge,Re,je))},Ns.prototype.addHalfVertex=function(C,z,J,ge,Re,je,Ye){var Ct=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((C.x<<1)+(ge?1:0),(C.y<<1)+(Re?1:0),Math.round(63*z)+128,Math.round(63*J)+128,1+(0===je?0:je<0?-1:1)|(63&Ct)<<2,Ct>>6);var It=Ye.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,It),Ye.primitiveLength++),Re?this.e2=It:this.e1=It},Ns.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(l1-1):this.distance},Ns.prototype.updateDistance=function(C,z){this.distance+=C.dist(z),this.updateScaledDistance()},ni("LineBucket",Ns,{omit:["layers","patternFeatures"]});var J2=new ba({"line-cap":new Sr(Ve.layout_line["line-cap"]),"line-join":new si(Ve.layout_line["line-join"]),"line-miter-limit":new Sr(Ve.layout_line["line-miter-limit"]),"line-round-limit":new Sr(Ve.layout_line["line-round-limit"]),"line-sort-key":new si(Ve.layout_line["line-sort-key"])}),c_={paint:new ba({"line-opacity":new si(Ve.paint_line["line-opacity"]),"line-color":new si(Ve.paint_line["line-color"]),"line-translate":new Sr(Ve.paint_line["line-translate"]),"line-translate-anchor":new Sr(Ve.paint_line["line-translate-anchor"]),"line-width":new si(Ve.paint_line["line-width"]),"line-gap-width":new si(Ve.paint_line["line-gap-width"]),"line-offset":new si(Ve.paint_line["line-offset"]),"line-blur":new si(Ve.paint_line["line-blur"]),"line-dasharray":new Va(Ve.paint_line["line-dasharray"]),"line-pattern":new tc(Ve.paint_line["line-pattern"]),"line-gradient":new su(Ve.paint_line["line-gradient"])}),layout:J2},tg=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.possiblyEvaluate=function(J,ge){return ge=new eo(Math.floor(ge.zoom),{now:ge.now,fadeDuration:ge.fadeDuration,zoomHistory:ge.zoomHistory,transition:ge.transition}),C.prototype.possiblyEvaluate.call(this,J,ge)},z.prototype.evaluate=function(J,ge,Re,je){return ge=d({},ge,{zoom:Math.floor(ge.zoom)}),C.prototype.evaluate.call(this,J,ge,Re,je)},z}(si),f_=new tg(c_.paint.properties["line-width"].specification);f_.useIntegerZoom=!0;var Q2=function(C){function z(J){C.call(this,J,c_)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._handleSpecialPaintPropertyUpdate=function(J){"line-gradient"===J&&this._updateGradient()},z.prototype._updateGradient=function(){this.gradient=t1(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},z.prototype.recalculate=function(J,ge){C.prototype.recalculate.call(this,J,ge),this.paint._values["line-floorwidth"]=f_.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,J)},z.prototype.createBucket=function(J){return new Ns(J)},z.prototype.queryRadius=function(J){var ge=J,Re=d_(cd("line-width",this,ge),cd("line-gap-width",this,ge)),je=cd("line-offset",this,ge);return Re/2+Math.abs(je)+lh(this.paint.get("line-translate"))},z.prototype.queryIntersectsFeature=function(J,ge,Re,je,Ye,st,vt){var Ct=pp(J,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),st.angle,vt),It=vt/2*d_(this.paint.get("line-width").evaluate(ge,Re),this.paint.get("line-gap-width").evaluate(ge,Re)),Gt=this.paint.get("line-offset").evaluate(ge,Re);return Gt&&(je=function(Kt,Zt){for(var mn=[],_n=new i(0,0),zn=0;zn<Kt.length;zn++){for(var jn=Kt[zn],Xn=[],Jn=0;Jn<jn.length;Jn++){var hr=jn[Jn],br=jn[Jn+1],Vr=0===Jn?_n:hr.sub(jn[Jn-1])._unit()._perp(),Er=Jn===jn.length-1?_n:br.sub(hr)._unit()._perp(),Zr=Vr._add(Er)._unit();Zr._mult(1/(Zr.x*Er.x+Zr.y*Er.y)),Xn.push(Zr._mult(Zt)._add(hr))}mn.push(Xn)}return mn}(je,Gt*vt)),function(Kt,Zt,mn){for(var _n=0;_n<Zt.length;_n++){var zn=Zt[_n];if(Kt.length>=3)for(var jn=0;jn<zn.length;jn++)if(Fc(Kt,zn[jn]))return!0;if(ld(Kt,zn,mn))return!0}return!1}(Ct,je,It)},z.prototype.isTileClipped=function(){return!0},z}(wa);function d_(C,z){return z>0?z+2*C:C}var u1=_i([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),ew=_i([{name:"a_projected_pos",components:3,type:"Float32"}],4),h_=(_i([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),_i([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),ng=(_i([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),_i([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),rg=_i([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function c1(C,z,J){return C.sections.forEach(function(ge){var Re,Ye,st;ge.text=(Re=ge.text,Ye=J,"uppercase"===(st=z.layout.get("text-transform").evaluate(Ye,{}))?Re=Re.toLocaleUpperCase():"lowercase"===st&&(Re=Re.toLocaleLowerCase()),Uo.applyArabicShaping&&(Re=Uo.applyArabicShaping(Re)),Re)}),C}_i([{name:"triangle",components:3,type:"Uint16"}]),_i([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),_i([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),_i([{type:"Float32",name:"offsetX"}]),_i([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var xd={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},es=24,ql=function(C,z,J,ge,Re){var je,Ye,st=8*Re-ge-1,vt=(1<<st)-1,Ct=vt>>1,It=-7,Gt=J?Re-1:0,Kt=J?-1:1,Zt=C[z+Gt];for(Gt+=Kt,je=Zt&(1<<-It)-1,Zt>>=-It,It+=st;It>0;je=256*je+C[z+Gt],Gt+=Kt,It-=8);for(Ye=je&(1<<-It)-1,je>>=-It,It+=ge;It>0;Ye=256*Ye+C[z+Gt],Gt+=Kt,It-=8);if(0===je)je=1-Ct;else{if(je===vt)return Ye?NaN:1/0*(Zt?-1:1);Ye+=Math.pow(2,ge),je-=Ct}return(Zt?-1:1)*Ye*Math.pow(2,je-ge)},f1=function(C,z,J,ge,Re,je){var Ye,st,vt,Ct=8*je-Re-1,It=(1<<Ct)-1,Gt=It>>1,Kt=23===Re?Math.pow(2,-24)-Math.pow(2,-77):0,Zt=ge?0:je-1,mn=ge?1:-1,_n=z<0||0===z&&1/z<0?1:0;for(z=Math.abs(z),isNaN(z)||z===1/0?(st=isNaN(z)?1:0,Ye=It):(Ye=Math.floor(Math.log(z)/Math.LN2),z*(vt=Math.pow(2,-Ye))<1&&(Ye--,vt*=2),(z+=Ye+Gt>=1?Kt/vt:Kt*Math.pow(2,1-Gt))*vt>=2&&(Ye++,vt/=2),Ye+Gt>=It?(st=0,Ye=It):Ye+Gt>=1?(st=(z*vt-1)*Math.pow(2,Re),Ye+=Gt):(st=z*Math.pow(2,Gt-1)*Math.pow(2,Re),Ye=0));Re>=8;C[J+Zt]=255&st,Zt+=mn,st/=256,Re-=8);for(Ye=Ye<<Re|st,Ct+=Re;Ct>0;C[J+Zt]=255&Ye,Zt+=mn,Ye/=256,Ct-=8);C[J+Zt-mn]|=128*_n},Ap=Lo;function Lo(C){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(C)?C:new Uint8Array(C||0),this.pos=0,this.type=0,this.length=this.buf.length}Lo.Varint=0,Lo.Fixed64=1,Lo.Bytes=2,Lo.Fixed32=5;var kp=4294967296,Sp=1/kp,d1=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function jc(C){return C.type===Lo.Bytes?C.readVarint()+C.pos:C.pos+1}function ig(C,z,J){var ge=z<=16383?1:z<=2097151?2:z<=268435455?3:Math.floor(Math.log(z)/(7*Math.LN2));J.realloc(ge);for(var Re=J.pos-1;Re>=C;Re--)J.buf[Re+ge]=J.buf[Re]}function p_(C,z){for(var J=0;J<C.length;J++)z.writeVarint(C[J])}function g_(C,z){for(var J=0;J<C.length;J++)z.writeSVarint(C[J])}function fu(C,z){for(var J=0;J<C.length;J++)z.writeFloat(C[J])}function og(C,z){for(var J=0;J<C.length;J++)z.writeDouble(C[J])}function h1(C,z){for(var J=0;J<C.length;J++)z.writeBoolean(C[J])}function ag(C,z){for(var J=0;J<C.length;J++)z.writeFixed32(C[J])}function Dl(C,z){for(var J=0;J<C.length;J++)z.writeSFixed32(C[J])}function gh(C,z){for(var J=0;J<C.length;J++)z.writeFixed64(C[J])}function p1(C,z){for(var J=0;J<C.length;J++)z.writeSFixed64(C[J])}function mh(C,z){return(C[z]|C[z+1]<<8|C[z+2]<<16)+16777216*C[z+3]}function wd(C,z,J){C[J]=z,C[J+1]=z>>>8,C[J+2]=z>>>16,C[J+3]=z>>>24}function sg(C,z){return(C[z]|C[z+1]<<8|C[z+2]<<16)+(C[z+3]<<24)}Lo.prototype={destroy:function(){this.buf=null},readFields:function(C,z,J){for(J=J||this.length;this.pos<J;){var ge=this.readVarint(),Re=ge>>3,je=this.pos;this.type=7&ge,C(Re,z,this),this.pos===je&&this.skip(ge)}return z},readMessage:function(C,z){return this.readFields(C,z,this.readVarint()+this.pos)},readFixed32:function(){var C=mh(this.buf,this.pos);return this.pos+=4,C},readSFixed32:function(){var C=sg(this.buf,this.pos);return this.pos+=4,C},readFixed64:function(){var C=mh(this.buf,this.pos)+mh(this.buf,this.pos+4)*kp;return this.pos+=8,C},readSFixed64:function(){var C=mh(this.buf,this.pos)+sg(this.buf,this.pos+4)*kp;return this.pos+=8,C},readFloat:function(){var C=ql(this.buf,this.pos,!0,23,4);return this.pos+=4,C},readDouble:function(){var C=ql(this.buf,this.pos,!0,52,8);return this.pos+=8,C},readVarint:function(C){var z,J,ge=this.buf;return z=127&(J=ge[this.pos++]),J<128?z:(z|=(127&(J=ge[this.pos++]))<<7,J<128?z:(z|=(127&(J=ge[this.pos++]))<<14,J<128?z:(z|=(127&(J=ge[this.pos++]))<<21,J<128?z:function(Re,je,Ye){var st,vt,Ct=Ye.buf;if(st=(112&(vt=Ct[Ye.pos++]))>>4,vt<128||(st|=(127&(vt=Ct[Ye.pos++]))<<3,vt<128)||(st|=(127&(vt=Ct[Ye.pos++]))<<10,vt<128)||(st|=(127&(vt=Ct[Ye.pos++]))<<17,vt<128)||(st|=(127&(vt=Ct[Ye.pos++]))<<24,vt<128)||(st|=(1&(vt=Ct[Ye.pos++]))<<31,vt<128))return function bd(C,z,J){return J?4294967296*z+(C>>>0):4294967296*(z>>>0)+(C>>>0)}(Re,st,je);throw new Error("Expected varint not more than 10 bytes")}(z|=(15&(J=ge[this.pos]))<<28,C,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var C=this.readVarint();return C%2==1?(C+1)/-2:C/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var C=this.readVarint()+this.pos,z=this.pos;return this.pos=C,C-z>=12&&d1?d1.decode(this.buf.subarray(z,C)):function(J,ge,Re){for(var je="",Ye=ge;Ye<Re;){var st,vt,Ct,It=J[Ye],Gt=null,Kt=It>239?4:It>223?3:It>191?2:1;if(Ye+Kt>Re)break;1===Kt?It<128&&(Gt=It):2===Kt?128==(192&(st=J[Ye+1]))&&(Gt=(31&It)<<6|63&st)<=127&&(Gt=null):3===Kt?(vt=J[Ye+2],128==(192&(st=J[Ye+1]))&&128==(192&vt)&&((Gt=(15&It)<<12|(63&st)<<6|63&vt)<=2047||Gt>=55296&&Gt<=57343)&&(Gt=null)):4===Kt&&(vt=J[Ye+2],Ct=J[Ye+3],128==(192&(st=J[Ye+1]))&&128==(192&vt)&&128==(192&Ct)&&((Gt=(15&It)<<18|(63&st)<<12|(63&vt)<<6|63&Ct)<=65535||Gt>=1114112)&&(Gt=null)),null===Gt?(Gt=65533,Kt=1):Gt>65535&&(Gt-=65536,je+=String.fromCharCode(Gt>>>10&1023|55296),Gt=56320|1023&Gt),je+=String.fromCharCode(Gt),Ye+=Kt}return je}(this.buf,z,C)},readBytes:function(){var C=this.readVarint()+this.pos,z=this.buf.subarray(this.pos,C);return this.pos=C,z},readPackedVarint:function(C,z){if(this.type!==Lo.Bytes)return C.push(this.readVarint(z));var J=jc(this);for(C=C||[];this.pos<J;)C.push(this.readVarint(z));return C},readPackedSVarint:function(C){if(this.type!==Lo.Bytes)return C.push(this.readSVarint());var z=jc(this);for(C=C||[];this.pos<z;)C.push(this.readSVarint());return C},readPackedBoolean:function(C){if(this.type!==Lo.Bytes)return C.push(this.readBoolean());var z=jc(this);for(C=C||[];this.pos<z;)C.push(this.readBoolean());return C},readPackedFloat:function(C){if(this.type!==Lo.Bytes)return C.push(this.readFloat());var z=jc(this);for(C=C||[];this.pos<z;)C.push(this.readFloat());return C},readPackedDouble:function(C){if(this.type!==Lo.Bytes)return C.push(this.readDouble());var z=jc(this);for(C=C||[];this.pos<z;)C.push(this.readDouble());return C},readPackedFixed32:function(C){if(this.type!==Lo.Bytes)return C.push(this.readFixed32());var z=jc(this);for(C=C||[];this.pos<z;)C.push(this.readFixed32());return C},readPackedSFixed32:function(C){if(this.type!==Lo.Bytes)return C.push(this.readSFixed32());var z=jc(this);for(C=C||[];this.pos<z;)C.push(this.readSFixed32());return C},readPackedFixed64:function(C){if(this.type!==Lo.Bytes)return C.push(this.readFixed64());var z=jc(this);for(C=C||[];this.pos<z;)C.push(this.readFixed64());return C},readPackedSFixed64:function(C){if(this.type!==Lo.Bytes)return C.push(this.readSFixed64());var z=jc(this);for(C=C||[];this.pos<z;)C.push(this.readSFixed64());return C},skip:function(C){var z=7&C;if(z===Lo.Varint)for(;this.buf[this.pos++]>127;);else if(z===Lo.Bytes)this.pos=this.readVarint()+this.pos;else if(z===Lo.Fixed32)this.pos+=4;else{if(z!==Lo.Fixed64)throw new Error("Unimplemented type: "+z);this.pos+=8}},writeTag:function(C,z){this.writeVarint(C<<3|z)},realloc:function(C){for(var z=this.length||16;z<this.pos+C;)z*=2;if(z!==this.length){var J=new Uint8Array(z);J.set(this.buf),this.buf=J,this.length=z}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(C){this.realloc(4),wd(this.buf,C,this.pos),this.pos+=4},writeSFixed32:function(C){this.realloc(4),wd(this.buf,C,this.pos),this.pos+=4},writeFixed64:function(C){this.realloc(8),wd(this.buf,-1&C,this.pos),wd(this.buf,Math.floor(C*Sp),this.pos+4),this.pos+=8},writeSFixed64:function(C){this.realloc(8),wd(this.buf,-1&C,this.pos),wd(this.buf,Math.floor(C*Sp),this.pos+4),this.pos+=8},writeVarint:function(C){(C=+C||0)>268435455||C<0?function(z,J){var ge,Re,je,st;if(z>=0?(ge=z%4294967296|0,Re=z/4294967296|0):(Re=~(-z/4294967296),4294967295^(ge=~(-z%4294967296))?ge=ge+1|0:(ge=0,Re=Re+1|0)),z>=0x10000000000000000||z<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");J.realloc(10),je=ge,(st=J).buf[st.pos++]=127&je|128,je>>>=7,st.buf[st.pos++]=127&je|128,je>>>=7,st.buf[st.pos++]=127&je|128,je>>>=7,st.buf[st.pos++]=127&je|128,st.buf[st.pos]=127&(je>>>=7),function(je,Ye){var st=(7&je)<<4;Ye.buf[Ye.pos++]|=st|((je>>>=3)?128:0),je&&(Ye.buf[Ye.pos++]=127&je|((je>>>=7)?128:0),je&&(Ye.buf[Ye.pos++]=127&je|((je>>>=7)?128:0),je&&(Ye.buf[Ye.pos++]=127&je|((je>>>=7)?128:0),je&&(Ye.buf[Ye.pos++]=127&je|((je>>>=7)?128:0),je&&(Ye.buf[Ye.pos++]=127&je)))))}(Re,J)}(C,this):(this.realloc(4),this.buf[this.pos++]=127&C|(C>127?128:0),C<=127||(this.buf[this.pos++]=127&(C>>>=7)|(C>127?128:0),C<=127||(this.buf[this.pos++]=127&(C>>>=7)|(C>127?128:0),C<=127||(this.buf[this.pos++]=C>>>7&127))))},writeSVarint:function(C){this.writeVarint(C<0?2*-C-1:2*C)},writeBoolean:function(C){this.writeVarint(Boolean(C))},writeString:function(C){C=String(C),this.realloc(4*C.length),this.pos++;var z=this.pos;this.pos=function(ge,Re,je){for(var Ye,st,vt=0;vt<Re.length;vt++){if((Ye=Re.charCodeAt(vt))>55295&&Ye<57344){if(!st){Ye>56319||vt+1===Re.length?(ge[je++]=239,ge[je++]=191,ge[je++]=189):st=Ye;continue}if(Ye<56320){ge[je++]=239,ge[je++]=191,ge[je++]=189,st=Ye;continue}Ye=st-55296<<10|Ye-56320|65536,st=null}else st&&(ge[je++]=239,ge[je++]=191,ge[je++]=189,st=null);Ye<128?ge[je++]=Ye:(Ye<2048?ge[je++]=Ye>>6|192:(Ye<65536?ge[je++]=Ye>>12|224:(ge[je++]=Ye>>18|240,ge[je++]=Ye>>12&63|128),ge[je++]=Ye>>6&63|128),ge[je++]=63&Ye|128)}return je}(this.buf,C,this.pos);var J=this.pos-z;J>=128&&ig(z,J,this),this.pos=z-1,this.writeVarint(J),this.pos+=J},writeFloat:function(C){this.realloc(4),f1(this.buf,C,this.pos,!0,23,4),this.pos+=4},writeDouble:function(C){this.realloc(8),f1(this.buf,C,this.pos,!0,52,8),this.pos+=8},writeBytes:function(C){var z=C.length;this.writeVarint(z),this.realloc(z);for(var J=0;J<z;J++)this.buf[this.pos++]=C[J]},writeRawMessage:function(C,z){this.pos++;var J=this.pos;C(z,this);var ge=this.pos-J;ge>=128&&ig(J,ge,this),this.pos=J-1,this.writeVarint(ge),this.pos+=ge},writeMessage:function(C,z,J){this.writeTag(C,Lo.Bytes),this.writeRawMessage(z,J)},writePackedVarint:function(C,z){z.length&&this.writeMessage(C,p_,z)},writePackedSVarint:function(C,z){z.length&&this.writeMessage(C,g_,z)},writePackedBoolean:function(C,z){z.length&&this.writeMessage(C,h1,z)},writePackedFloat:function(C,z){z.length&&this.writeMessage(C,fu,z)},writePackedDouble:function(C,z){z.length&&this.writeMessage(C,og,z)},writePackedFixed32:function(C,z){z.length&&this.writeMessage(C,ag,z)},writePackedSFixed32:function(C,z){z.length&&this.writeMessage(C,Dl,z)},writePackedFixed64:function(C,z){z.length&&this.writeMessage(C,gh,z)},writePackedSFixed64:function(C,z){z.length&&this.writeMessage(C,p1,z)},writeBytesField:function(C,z){this.writeTag(C,Lo.Bytes),this.writeBytes(z)},writeFixed32Field:function(C,z){this.writeTag(C,Lo.Fixed32),this.writeFixed32(z)},writeSFixed32Field:function(C,z){this.writeTag(C,Lo.Fixed32),this.writeSFixed32(z)},writeFixed64Field:function(C,z){this.writeTag(C,Lo.Fixed64),this.writeFixed64(z)},writeSFixed64Field:function(C,z){this.writeTag(C,Lo.Fixed64),this.writeSFixed64(z)},writeVarintField:function(C,z){this.writeTag(C,Lo.Varint),this.writeVarint(z)},writeSVarintField:function(C,z){this.writeTag(C,Lo.Varint),this.writeSVarint(z)},writeStringField:function(C,z){this.writeTag(C,Lo.Bytes),this.writeString(z)},writeFloatField:function(C,z){this.writeTag(C,Lo.Fixed32),this.writeFloat(z)},writeDoubleField:function(C,z){this.writeTag(C,Lo.Fixed64),this.writeDouble(z)},writeBooleanField:function(C,z){this.writeVarintField(C,Boolean(z))}};var lg=3;function g1(C,z,J){1===C&&J.readMessage(m_,z)}function m_(C,z,J){if(3===C){var ge=J.readMessage(m1,{}),Ye=ge.width,st=ge.height,vt=ge.left,Ct=ge.top,It=ge.advance;z.push({id:ge.id,bitmap:new Bc({width:Ye+2*lg,height:st+2*lg},ge.bitmap),metrics:{width:Ye,height:st,left:vt,top:Ct,advance:It}})}}function m1(C,z,J){1===C?z.id=J.readVarint():2===C?z.bitmap=J.readBytes():3===C?z.width=J.readVarint():4===C?z.height=J.readVarint():5===C?z.left=J.readSVarint():6===C?z.top=J.readSVarint():7===C&&(z.advance=J.readVarint())}var v1=lg;function y1(C){for(var z=0,J=0,ge=0,Re=C;ge<Re.length;ge+=1){var je=Re[ge];z+=je.w*je.h,J=Math.max(J,je.w)}C.sort(function(_n,zn){return zn.h-_n.h});for(var Ye=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(z/.95)),J),h:1/0}],st=0,vt=0,Ct=0,It=C;Ct<It.length;Ct+=1)for(var Gt=It[Ct],Kt=Ye.length-1;Kt>=0;Kt--){var Zt=Ye[Kt];if(!(Gt.w>Zt.w||Gt.h>Zt.h)){if(Gt.x=Zt.x,Gt.y=Zt.y,vt=Math.max(vt,Gt.y+Gt.h),st=Math.max(st,Gt.x+Gt.w),Gt.w===Zt.w&&Gt.h===Zt.h){var mn=Ye.pop();Kt<Ye.length&&(Ye[Kt]=mn)}else Gt.h===Zt.h?(Zt.x+=Gt.w,Zt.w-=Gt.w):Gt.w===Zt.w?(Zt.y+=Gt.h,Zt.h-=Gt.h):(Ye.push({x:Zt.x+Gt.w,y:Zt.y,w:Zt.w-Gt.w,h:Gt.h}),Zt.y+=Gt.h,Zt.h-=Gt.h);break}}return{w:st,h:vt,fill:z/(st*vt)||0}}var nl=1,Td=function(C,z){var J=z.pixelRatio,ge=z.version,Re=z.stretchX,je=z.stretchY,Ye=z.content;this.paddedRect=C,this.pixelRatio=J,this.stretchX=Re,this.stretchY=je,this.content=Ye,this.version=ge},vh={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};vh.tl.get=function(){return[this.paddedRect.x+nl,this.paddedRect.y+nl]},vh.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-nl,this.paddedRect.y+this.paddedRect.h-nl]},vh.tlbr.get=function(){return this.tl.concat(this.br)},vh.displaySize.get=function(){return[(this.paddedRect.w-2*nl)/this.pixelRatio,(this.paddedRect.h-2*nl)/this.pixelRatio]},Object.defineProperties(Td.prototype,vh);var Uc=function(C,z){var J={},ge={};this.haveRenderCallbacks=[];var Re=[];this.addImages(C,J,Re),this.addImages(z,ge,Re);var je=y1(Re),vt=new Qa({width:je.w||1,height:je.h||1});for(var Ct in C){var It=C[Ct],Gt=J[Ct].paddedRect;Qa.copy(It.data,vt,{x:0,y:0},{x:Gt.x+nl,y:Gt.y+nl},It.data)}for(var Kt in z){var Zt=z[Kt],mn=ge[Kt].paddedRect,_n=mn.x+nl,zn=mn.y+nl,jn=Zt.data.width,Xn=Zt.data.height;Qa.copy(Zt.data,vt,{x:0,y:0},{x:_n,y:zn},Zt.data),Qa.copy(Zt.data,vt,{x:0,y:Xn-1},{x:_n,y:zn-1},{width:jn,height:1}),Qa.copy(Zt.data,vt,{x:0,y:0},{x:_n,y:zn+Xn},{width:jn,height:1}),Qa.copy(Zt.data,vt,{x:jn-1,y:0},{x:_n-1,y:zn},{width:1,height:Xn}),Qa.copy(Zt.data,vt,{x:0,y:0},{x:_n+jn,y:zn},{width:1,height:Xn})}this.image=vt,this.iconPositions=J,this.patternPositions=ge};Uc.prototype.addImages=function(C,z,J){for(var ge in C){var Re=C[ge],je={x:0,y:0,w:Re.data.width+2*nl,h:Re.data.height+2*nl};J.push(je),z[ge]=new Td(je,Re),Re.hasRenderCallback&&this.haveRenderCallbacks.push(ge)}},Uc.prototype.patchUpdatedImages=function(C,z){for(var J in C.dispatchRenderCallbacks(this.haveRenderCallbacks),C.updatedImages)this.patchUpdatedImage(this.iconPositions[J],C.getImage(J),z),this.patchUpdatedImage(this.patternPositions[J],C.getImage(J),z)},Uc.prototype.patchUpdatedImage=function(C,z,J){if(C&&z&&C.version!==z.version){C.version=z.version;var ge=C.tl;J.update(z.data,void 0,{x:ge[0],y:ge[1]})}},ni("ImagePosition",Td),ni("ImageAtlas",Uc);var du={horizontal:1,vertical:2,horizontalOnly:3},yh=-17,df=function(){this.scale=1,this.fontStack="",this.imageName=null};df.forText=function(C,z){var J=new df;return J.scale=C||1,J.fontStack=z,J},df.forImage=function(C){var z=new df;return z.imageName=C,z};var us=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function _h(C,z,J,ge,Re,je,Ye,st,vt,Ct,It,Gt,Kt,Zt,mn,_n){var zn,jn=us.fromFeature(C,Re);Gt===du.vertical&&jn.verticalizePunctuation();var Xn=Uo.processBidirectionalText,Jn=Uo.processStyledBidirectionalText;if(Xn&&1===jn.sections.length){zn=[];for(var ar=0,hr=Xn(jn.toString(),fg(jn,Ct,je,z,ge,Zt,mn));ar<hr.length;ar+=1){var br=hr[ar],Vr=new us;Vr.text=br,Vr.sections=jn.sections;for(var Er=0;Er<br.length;Er++)Vr.sectionIndex.push(0);zn.push(Vr)}}else if(Jn){zn=[];for(var Zr=0,ri=Jn(jn.text,jn.sectionIndex,fg(jn,Ct,je,z,ge,Zt,mn));Zr<ri.length;Zr+=1){var bi=ri[Zr],oi=new us;oi.text=bi[0],oi.sectionIndex=bi[1],oi.sections=jn.sections,zn.push(oi)}}else zn=function(ei,Wi){for(var Ai=[],xo=ei.text,yi=0,vo=0,Mo=Wi;vo<Mo.length;vo+=1){var qi=Mo[vo];Ai.push(ei.substring(yi,qi)),yi=qi}return yi<xo.length&&Ai.push(ei.substring(yi,xo.length)),Ai}(jn,fg(jn,Ct,je,z,ge,Zt,mn));var xi=[],fi={positionedLines:xi,text:jn.toString(),top:It[1],bottom:It[1],left:It[0],right:It[0],writingMode:Gt,iconsInText:!1,verticalizable:!1};return function(ei,Wi,Ai,xo,yi,vo,Mo,qi,No,Ao,Fa,Ko){for(var Za=0,Aa=yh,cs=0,il=0,fs="right"===qi?1:"left"===qi?0:.5,ka=0,ds=0,Ya=yi;ds<Ya.length;ds+=1){var Xa=Ya[ds];Xa.trim();var Di=Xa.getMaxScale(),no=(Di-1)*es,ca={positionedGlyphs:[],lineOffset:0};ei.positionedLines[ka]=ca;var lo=ca.positionedGlyphs,ta=0;if(Xa.length()){for(var ko=0;ko<Xa.length();ko++){var ci=Xa.getSection(ko),fa=Xa.getSectionIndex(ko),As=Xa.getCharCode(ko),Jo=0,Fs=null,rc=null,Du=null,ns=es,Ou=!(No===du.horizontal||!Fa&&!Ps(As)||Fa&&(Vc[As]||Li(As)));if(ci.imageName){var hu=xo[ci.imageName];if(!hu)continue;Du=ci.imageName,ei.iconsInText=ei.iconsInText||!0,rc=hu.paddedRect;var qu=hu.displaySize;ci.scale=ci.scale*es/Ko,Jo=no+(es-qu[1]*ci.scale),ns=(Fs={width:qu[0],height:qu[1],left:nl,top:-v1,advance:Ou?qu[1]:qu[0]}).advance;var qc=Ou?qu[0]*ci.scale-es*Di:qu[1]*ci.scale-es*Di;qc>0&&qc>ta&&(ta=qc)}else{var $c=Ai[ci.fontStack],Hf=$c&&$c[As];if(Hf&&Hf.rect)rc=Hf.rect,Fs=Hf.metrics;else{var Lp=Wi[ci.fontStack],Sh=Lp&&Lp[As];if(!Sh)continue;Fs=Sh.metrics}Jo=(Di-ci.scale)*es}Ou?(ei.verticalizable=!0,lo.push({glyph:As,imageName:Du,x:Za,y:Aa+Jo,vertical:Ou,scale:ci.scale,fontStack:ci.fontStack,sectionIndex:fa,metrics:Fs,rect:rc}),Za+=ns*ci.scale+Ao):(lo.push({glyph:As,imageName:Du,x:Za,y:Aa+Jo,vertical:Ou,scale:ci.scale,fontStack:ci.fontStack,sectionIndex:fa,metrics:Fs,rect:rc}),Za+=Fs.advance*ci.scale+Ao)}0!==lo.length&&(cs=Math.max(Za-Ao,cs),v_(lo,0,lo.length-1,fs,ta)),Za=0;var Np=vo*Di+ta;ca.lineOffset=Math.max(ta,no),Aa+=Np,il=Math.max(Np,il),++ka}else Aa+=vo,++ka}var Pd=Aa-yh,Fp=dg(Mo),Zc=Fp.horizontalAlign,Iu=Fp.verticalAlign;(function(Dg,Eh,Rd,Ch,Dh,Og,Gf,Oh,zp){var Ih,Ld=(Eh-Rd)*Dh;Ih=Og!==Gf?-Oh*Ch-yh:(-Ch*zp+.5)*Gf;for(var Wf=0,$l=Dg;Wf<$l.length;Wf+=1)for(var qf=0,Nd=$l[Wf].positionedGlyphs;qf<Nd.length;qf+=1){var Ph=Nd[qf];Ph.x+=Ld,Ph.y+=Ih}})(ei.positionedLines,fs,Zc,Iu,cs,il,vo,Pd,yi.length),ei.top+=-Iu*Pd,ei.bottom=ei.top+Pd,ei.left+=-Zc*cs,ei.right=ei.left+cs}(fi,z,J,ge,zn,Ye,st,vt,Gt,Ct,Kt,_n),!function(ei){for(var Wi=0,Ai=ei;Wi<Ai.length;Wi+=1)if(0!==Ai[Wi].positionedGlyphs.length)return!1;return!0}(xi)&&fi}us.fromFeature=function(C,z){for(var J=new us,ge=0;ge<C.sections.length;ge++){var Re=C.sections[ge];Re.image?J.addImageSection(Re):J.addTextSection(Re,z)}return J},us.prototype.length=function(){return this.text.length},us.prototype.getSection=function(C){return this.sections[this.sectionIndex[C]]},us.prototype.getSectionIndex=function(C){return this.sectionIndex[C]},us.prototype.getCharCode=function(C){return this.text.charCodeAt(C)},us.prototype.verticalizePunctuation=function(){this.text=function(C){for(var z="",J=0;J<C.length;J++){var ge=C.charCodeAt(J+1)||null,Re=C.charCodeAt(J-1)||null;ge&&ec(ge)&&!xd[C[J+1]]||Re&&ec(Re)&&!xd[C[J-1]]||!xd[C[J]]?z+=C[J]:z+=xd[C[J]]}return z}(this.text)},us.prototype.trim=function(){for(var C=0,z=0;z<this.text.length&&Vc[this.text.charCodeAt(z)];z++)C++;for(var J=this.text.length,ge=this.text.length-1;ge>=0&&ge>=C&&Vc[this.text.charCodeAt(ge)];ge--)J--;this.text=this.text.substring(C,J),this.sectionIndex=this.sectionIndex.slice(C,J)},us.prototype.substring=function(C,z){var J=new us;return J.text=this.text.substring(C,z),J.sectionIndex=this.sectionIndex.slice(C,z),J.sections=this.sections,J},us.prototype.toString=function(){return this.text},us.prototype.getMaxScale=function(){var C=this;return this.sectionIndex.reduce(function(z,J){return Math.max(z,C.sections[J].scale)},0)},us.prototype.addTextSection=function(C,z){this.text+=C.text,this.sections.push(df.forText(C.scale,C.fontStack||z));for(var J=this.sections.length-1,ge=0;ge<C.text.length;++ge)this.sectionIndex.push(J)},us.prototype.addImageSection=function(C){var z=C.image?C.image.name:"";if(0!==z.length){var J=this.getNextImageSectionCharCode();J?(this.text+=String.fromCharCode(J),this.sections.push(df.forImage(z)),this.sectionIndex.push(this.sections.length-1)):O("Reached maximum number of images 6401")}else O("Can't add FormattedSection with an empty image.")},us.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Vc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},rl={};function ug(C,z,J,ge,Re,je){if(z.imageName){var Ye=ge[z.imageName];return Ye?Ye.displaySize[0]*z.scale*es/je+Re:0}var st=J[z.fontStack],vt=st&&st[C];return vt?vt.metrics.advance*z.scale+Re:0}function _1(C,z,J,ge){var Re=Math.pow(C-z,2);return ge?C<z?Re/2:2*Re:Re+Math.abs(J)*J}function cg(C,z,J){var ge=0;return 10===C&&(ge-=1e4),J&&(ge+=150),40!==C&&65288!==C||(ge+=50),41!==z&&65289!==z||(ge+=50),ge}function x1(C,z,J,ge,Re,je){for(var Ye=null,st=_1(z,J,Re,je),vt=0,Ct=ge;vt<Ct.length;vt+=1){var It=Ct[vt],Gt=_1(z-It.x,J,Re,je)+It.badness;Gt<=st&&(Ye=It,st=Gt)}return{index:C,x:z,priorBreak:Ye,badness:st}}function b1(C){return C?b1(C.priorBreak).concat(C.index):[]}function fg(C,z,J,ge,Re,je,Ye){if("point"!==je)return[];if(!C)return[];for(var st=[],vt=function(zn,jn,Xn,Jn,ar,hr){for(var br=0,Vr=0;Vr<zn.length();Vr++){var Er=zn.getSection(Vr);br+=ug(zn.getCharCode(Vr),Er,Jn,ar,jn,hr)}return br/Math.max(1,Math.ceil(br/Xn))}(C,z,J,ge,Re,Ye),Ct=C.text.indexOf("\u200b")>=0,It=0,Gt=0;Gt<C.length();Gt++){var Kt=C.getSection(Gt),Zt=C.getCharCode(Gt);if(Vc[Zt]||(It+=ug(Zt,Kt,ge,Re,z,Ye)),Gt<C.length()-1){var mn=!((_n=Zt)<11904||!(Yr["Bopomofo Extended"](_n)||Yr.Bopomofo(_n)||Yr["CJK Compatibility Forms"](_n)||Yr["CJK Compatibility Ideographs"](_n)||Yr["CJK Compatibility"](_n)||Yr["CJK Radicals Supplement"](_n)||Yr["CJK Strokes"](_n)||Yr["CJK Symbols and Punctuation"](_n)||Yr["CJK Unified Ideographs Extension A"](_n)||Yr["CJK Unified Ideographs"](_n)||Yr["Enclosed CJK Letters and Months"](_n)||Yr["Halfwidth and Fullwidth Forms"](_n)||Yr.Hiragana(_n)||Yr["Ideographic Description Characters"](_n)||Yr["Kangxi Radicals"](_n)||Yr["Katakana Phonetic Extensions"](_n)||Yr.Katakana(_n)||Yr["Vertical Forms"](_n)||Yr["Yi Radicals"](_n)||Yr["Yi Syllables"](_n)));(rl[Zt]||mn||Kt.imageName)&&st.push(x1(Gt+1,It,vt,st,cg(Zt,C.getCharCode(Gt+1),mn&&Ct),!1))}}var _n;return b1(x1(C.length(),It,vt,st,0,!0))}function dg(C){var z=.5,J=.5;switch(C){case"right":case"top-right":case"bottom-right":z=1;break;case"left":case"top-left":case"bottom-left":z=0}switch(C){case"bottom":case"bottom-right":case"bottom-left":J=1;break;case"top":case"top-right":case"top-left":J=0}return{horizontalAlign:z,verticalAlign:J}}function v_(C,z,J,ge,Re){if(ge||Re)for(var je=C[J],st=(C[J].x+je.metrics.advance*je.scale)*ge,vt=z;vt<=J;vt++)C[vt].x-=st,C[vt].y+=Re}function w1(C,z,J,ge,Re,je){var Ye,st=C.image;if(st.content){var vt=st.content,Ct=st.pixelRatio||1;Ye=[vt[0]/Ct,vt[1]/Ct,st.displaySize[0]-vt[2]/Ct,st.displaySize[1]-vt[3]/Ct]}var It,Gt,Kt,Zt,mn=z.left*je,_n=z.right*je;"width"===J||"both"===J?(Zt=Re[0]+mn-ge[3],Gt=Re[0]+_n+ge[1]):Gt=(Zt=Re[0]+(mn+_n-st.displaySize[0])/2)+st.displaySize[0];var zn=z.top*je,jn=z.bottom*je;return"height"===J||"both"===J?(It=Re[1]+zn-ge[0],Kt=Re[1]+jn+ge[2]):Kt=(It=Re[1]+(zn+jn-st.displaySize[1])/2)+st.displaySize[1],{image:st,top:It,right:Gt,bottom:Kt,left:Zt,collisionPadding:Ye}}rl[10]=!0,rl[32]=!0,rl[38]=!0,rl[40]=!0,rl[41]=!0,rl[43]=!0,rl[45]=!0,rl[47]=!0,rl[173]=!0,rl[183]=!0,rl[8203]=!0,rl[8208]=!0,rl[8211]=!0,rl[8231]=!0;var Bf=function(C){function z(J,ge,Re,je){C.call(this,J,ge),this.angle=Re,void 0!==je&&(this.segment=je)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.clone=function(){return new z(this.x,this.y,this.angle,this.segment)},z}(i);ni("Anchor",Bf);var Cu=128;function Ep(C,z){var J=z.expression;if("constant"===J.kind)return{kind:"constant",layoutSize:J.evaluate(new eo(C+1))};if("source"===J.kind)return{kind:"source"};for(var ge=J.zoomStops,Re=J.interpolationType,je=0;je<ge.length&&ge[je]<=C;)je++;for(var Ye=je=Math.max(0,je-1);Ye<ge.length&&ge[Ye]<C+1;)Ye++;Ye=Math.min(ge.length-1,Ye);var st=ge[je],vt=ge[Ye];return"composite"===J.kind?{kind:"composite",minZoom:st,maxZoom:vt,interpolationType:Re}:{kind:"camera",minZoom:st,maxZoom:vt,minSize:J.evaluate(new eo(st)),maxSize:J.evaluate(new eo(vt)),interpolationType:Re}}function Cp(C,z,J){var ge=z.uSize,je=J.lowerSize;return"source"===C.kind?je/Cu:"composite"===C.kind?pr(je/Cu,J.upperSize/Cu,z.uSizeT):ge}function T1(C,z){var J=0,ge=0;if("constant"===C.kind)ge=C.layoutSize;else if("source"!==C.kind){var Re=C.interpolationType,st=Re?l(qo.interpolationFactor(Re,z,C.minZoom,C.maxZoom),0,1):0;"camera"===C.kind?ge=pr(C.minSize,C.maxSize,st):J=st}return{uSizeT:J,uSize:ge}}var y_=Object.freeze({__proto__:null,getSizeData:Ep,evaluateSizeForFeature:Cp,evaluateSizeForZoom:T1,SIZE_PACK_FACTOR:Cu});function hg(C,z,J,ge,Re){if(void 0===z.segment)return!0;for(var je=z,Ye=z.segment+1,st=0;st>-J/2;){if(--Ye<0)return!1;st-=C[Ye].dist(je),je=C[Ye]}st+=C[Ye].dist(C[Ye+1]),Ye++;for(var vt=[],Ct=0;st<J/2;){var Gt=C[Ye],Kt=C[Ye+1];if(!Kt)return!1;var Zt=C[Ye-1].angleTo(Gt)-Gt.angleTo(Kt);for(Zt=Math.abs((Zt+3*Math.PI)%(2*Math.PI)-Math.PI),vt.push({distance:st,angleDelta:Zt}),Ct+=Zt;st-vt[0].distance>ge;)Ct-=vt.shift().angleDelta;if(Ct>Re)return!1;Ye++,st+=Gt.dist(Kt)}return!0}function pg(C){for(var z=0,J=0;J<C.length-1;J++)z+=C[J].dist(C[J+1]);return z}function hf(C,z,J){return C?.6*z*J:0}function gg(C,z){return Math.max(C?C.right-C.left:0,z?z.right-z.left:0)}function M1(C,z,J,ge,Re,je){for(var Ye=hf(J,Re,je),st=gg(J,ge)*je,vt=0,Ct=pg(C)/2,It=0;It<C.length-1;It++){var Gt=C[It],Kt=C[It+1],Zt=Gt.dist(Kt);if(vt+Zt>Ct){var mn=(Ct-vt)/Zt,_n=pr(Gt.x,Kt.x,mn),zn=pr(Gt.y,Kt.y,mn),jn=new Bf(_n,zn,Kt.angleTo(Gt),It);return jn._round(),!Ye||hg(C,jn,st,Ye,z)?jn:void 0}vt+=Zt}}function __(C,z,J,ge,Re,je,Ye,st,vt){var Ct=hf(ge,je,Ye),It=gg(ge,Re),Gt=It*Ye,Kt=0===C[0].x||C[0].x===vt||0===C[0].y||C[0].y===vt;return z-Gt<z/4&&(z=Gt+z/4),x_(C,Kt?z/2*st%z:(It/2+2*je)*Ye*st%z,z,Ct,J,Gt,Kt,!1,vt)}function x_(C,z,J,ge,Re,je,Ye,st,vt){for(var Ct=je/2,It=pg(C),Gt=0,Kt=z-J,Zt=[],mn=0;mn<C.length-1;mn++){for(var _n=C[mn],zn=C[mn+1],jn=_n.dist(zn),Xn=zn.angleTo(_n);Kt+J<Gt+jn;){var Jn=((Kt+=J)-Gt)/jn,ar=pr(_n.x,zn.x,Jn),hr=pr(_n.y,zn.y,Jn);if(ar>=0&&ar<vt&&hr>=0&&hr<vt&&Kt-Ct>=0&&Kt+Ct<=It){var br=new Bf(ar,hr,Xn,mn);br._round(),ge&&!hg(C,br,je,ge,Re)||Zt.push(br)}}Gt+=jn}return st||Zt.length||Ye||(Zt=x_(C,Gt/2,J,ge,Re,je,Ye,!0,vt)),Zt}function xh(C,z,J,ge,Re){for(var je=[],Ye=0;Ye<C.length;Ye++)for(var st=C[Ye],vt=void 0,Ct=0;Ct<st.length-1;Ct++){var It=st[Ct],Gt=st[Ct+1];It.x<z&&Gt.x<z||(It.x<z?It=new i(z,It.y+(z-It.x)/(Gt.x-It.x)*(Gt.y-It.y))._round():Gt.x<z&&(Gt=new i(z,It.y+(z-It.x)/(Gt.x-It.x)*(Gt.y-It.y))._round()),It.y<J&&Gt.y<J||(It.y<J?It=new i(It.x+(J-It.y)/(Gt.y-It.y)*(Gt.x-It.x),J)._round():Gt.y<J&&(Gt=new i(It.x+(J-It.y)/(Gt.y-It.y)*(Gt.x-It.x),J)._round()),It.x>=ge&&Gt.x>=ge||(It.x>=ge?It=new i(ge,It.y+(ge-It.x)/(Gt.x-It.x)*(Gt.y-It.y))._round():Gt.x>=ge&&(Gt=new i(ge,It.y+(ge-It.x)/(Gt.x-It.x)*(Gt.y-It.y))._round()),It.y>=Re&&Gt.y>=Re||(It.y>=Re?It=new i(It.x+(Re-It.y)/(Gt.y-It.y)*(Gt.x-It.x),Re)._round():Gt.y>=Re&&(Gt=new i(It.x+(Re-It.y)/(Gt.y-It.y)*(Gt.x-It.x),Re)._round()),vt&&It.equals(vt[vt.length-1])||je.push(vt=[It]),vt.push(Gt)))))}return je}var Md=nl;function mg(C,z,J,ge){var Re=[],je=C.image,Ye=je.pixelRatio,st=je.paddedRect.w-2*Md,vt=je.paddedRect.h-2*Md,Ct=C.right-C.left,It=C.bottom-C.top,Gt=je.stretchX||[[0,st]],Kt=je.stretchY||[[0,vt]],Zt=function(vo,Mo){return vo+Mo[1]-Mo[0]},mn=Gt.reduce(Zt,0),_n=Kt.reduce(Zt,0),zn=st-mn,jn=vt-_n,Xn=0,Jn=mn,ar=0,hr=_n,br=0,Vr=zn,Er=0,Zr=jn;if(je.content&&ge){var ri=je.content;Xn=bh(Gt,0,ri[0]),ar=bh(Kt,0,ri[1]),Jn=bh(Gt,ri[0],ri[2]),hr=bh(Kt,ri[1],ri[3]),br=ri[0]-Xn,Er=ri[1]-ar,Vr=ri[2]-ri[0]-Jn,Zr=ri[3]-ri[1]-hr}var bi=function(vo,Mo,qi,No){var Ao=Ad(vo.stretch-Xn,Jn,Ct,C.left),Fa=wh(vo.fixed-br,Vr,vo.stretch,mn),Ko=Ad(Mo.stretch-ar,hr,It,C.top),Za=wh(Mo.fixed-Er,Zr,Mo.stretch,_n),Aa=Ad(qi.stretch-Xn,Jn,Ct,C.left),cs=wh(qi.fixed-br,Vr,qi.stretch,mn),il=Ad(No.stretch-ar,hr,It,C.top),fs=wh(No.fixed-Er,Zr,No.stretch,_n),ka=new i(Ao,Ko),ds=new i(Aa,Ko),Ya=new i(Aa,il),Xa=new i(Ao,il),Di=new i(Fa/Ye,Za/Ye),no=new i(cs/Ye,fs/Ye),ca=z*Math.PI/180;if(ca){var lo=Math.sin(ca),ta=Math.cos(ca),ko=[ta,-lo,lo,ta];ka._matMult(ko),ds._matMult(ko),Xa._matMult(ko),Ya._matMult(ko)}var ci=vo.stretch+vo.fixed,As=Mo.stretch+Mo.fixed;return{tl:ka,tr:ds,bl:Xa,br:Ya,tex:{x:je.paddedRect.x+Md+ci,y:je.paddedRect.y+Md+As,w:qi.stretch+qi.fixed-ci,h:No.stretch+No.fixed-As},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Di,pixelOffsetBR:no,minFontScaleX:Vr/Ye/Ct,minFontScaleY:Zr/Ye/It,isSDF:J}};if(ge&&(je.stretchX||je.stretchY))for(var oi=vg(Gt,zn,mn),xi=vg(Kt,jn,_n),fi=0;fi<oi.length-1;fi++)for(var ei=oi[fi],Wi=oi[fi+1],Ai=0;Ai<xi.length-1;Ai++)Re.push(bi(ei,xi[Ai],Wi,xi[Ai+1]));else Re.push(bi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:st+1},{fixed:0,stretch:vt+1}));return Re}function bh(C,z,J){for(var ge=0,Re=0,je=C;Re<je.length;Re+=1){var Ye=je[Re];ge+=Math.max(z,Math.min(J,Ye[1]))-Math.max(z,Math.min(J,Ye[0]))}return ge}function vg(C,z,J){for(var ge=[{fixed:-Md,stretch:0}],Re=0,je=C;Re<je.length;Re+=1){var Ye=je[Re],st=Ye[0],vt=Ye[1],Ct=ge[ge.length-1];ge.push({fixed:st-Ct.stretch,stretch:Ct.stretch}),ge.push({fixed:st-Ct.stretch,stretch:Ct.stretch+(vt-st)})}return ge.push({fixed:z+Md,stretch:J}),ge}function Ad(C,z,J,ge){return C/z*J+ge}function wh(C,z,J,ge){return C-z*J/ge}var jf=function(C,z,J,ge,Re,je,Ye,st,vt,Ct){if(this.boxStartIndex=C.length,vt){var It=je.top,Gt=je.bottom,Kt=je.collisionPadding;Kt&&(It-=Kt[1],Gt+=Kt[3]);var Zt=Gt-It;Zt>0&&(Zt=Math.max(10,Zt),this.circleDiameter=Zt)}else{var mn=je.top*Ye-st,_n=je.bottom*Ye+st,zn=je.left*Ye-st,jn=je.right*Ye+st,Xn=je.collisionPadding;if(Xn&&(zn-=Xn[0]*Ye,mn-=Xn[1]*Ye,jn+=Xn[2]*Ye,_n+=Xn[3]*Ye),Ct){var Jn=new i(zn,mn),ar=new i(jn,mn),hr=new i(zn,_n),br=new i(jn,_n),Vr=Ct*Math.PI/180;Jn._rotate(Vr),ar._rotate(Vr),hr._rotate(Vr),br._rotate(Vr),zn=Math.min(Jn.x,ar.x,hr.x,br.x),jn=Math.max(Jn.x,ar.x,hr.x,br.x),mn=Math.min(Jn.y,ar.y,hr.y,br.y),_n=Math.max(Jn.y,ar.y,hr.y,br.y)}C.emplaceBack(z.x,z.y,zn,mn,jn,_n,J,ge,Re)}this.boxEndIndex=C.length},Hc=function(C,z){if(void 0===C&&(C=[]),void 0===z&&(z=A1),this.data=C,this.length=this.data.length,this.compare=z,this.length>0)for(var J=(this.length>>1)-1;J>=0;J--)this._down(J)};function A1(C,z){return C<z?-1:C>z?1:0}function yg(C,z,J){void 0===z&&(z=1),void 0===J&&(J=!1);for(var ge=1/0,Re=1/0,je=-1/0,Ye=-1/0,st=C[0],vt=0;vt<st.length;vt++){var Ct=st[vt];(!vt||Ct.x<ge)&&(ge=Ct.x),(!vt||Ct.y<Re)&&(Re=Ct.y),(!vt||Ct.x>je)&&(je=Ct.x),(!vt||Ct.y>Ye)&&(Ye=Ct.y)}var Kt=Math.min(je-ge,Ye-Re),Zt=Kt/2,mn=new Hc([],_g);if(0===Kt)return new i(ge,Re);for(var _n=ge;_n<je;_n+=Kt)for(var zn=Re;zn<Ye;zn+=Kt)mn.push(new pf(_n+Zt,zn+Zt,Zt,C));for(var jn=function(ar){for(var hr=0,br=0,Vr=0,Er=ar[0],Zr=0,ri=Er.length,bi=ri-1;Zr<ri;bi=Zr++){var oi=Er[Zr],xi=Er[bi],fi=oi.x*xi.y-xi.x*oi.y;br+=(oi.x+xi.x)*fi,Vr+=(oi.y+xi.y)*fi,hr+=3*fi}return new pf(br/hr,Vr/hr,0,ar)}(C),Xn=mn.length;mn.length;){var Jn=mn.pop();(Jn.d>jn.d||!jn.d)&&(jn=Jn,J&&console.log("found best %d after %d probes",Math.round(1e4*Jn.d)/1e4,Xn)),Jn.max-jn.d<=z||(mn.push(new pf(Jn.p.x-(Zt=Jn.h/2),Jn.p.y-Zt,Zt,C)),mn.push(new pf(Jn.p.x+Zt,Jn.p.y-Zt,Zt,C)),mn.push(new pf(Jn.p.x-Zt,Jn.p.y+Zt,Zt,C)),mn.push(new pf(Jn.p.x+Zt,Jn.p.y+Zt,Zt,C)),Xn+=4)}return J&&(console.log("num probes: "+Xn),console.log("best distance: "+jn.d)),jn.p}function _g(C,z){return z.max-C.max}function pf(C,z,J,ge){this.p=new i(C,z),this.h=J,this.d=function(Re,je){for(var Ye=!1,st=1/0,vt=0;vt<je.length;vt++)for(var Ct=je[vt],It=0,Gt=Ct.length,Kt=Gt-1;It<Gt;Kt=It++){var Zt=Ct[It],mn=Ct[Kt];Zt.y>Re.y!=mn.y>Re.y&&Re.x<(mn.x-Zt.x)*(Re.y-Zt.y)/(mn.y-Zt.y)+Zt.x&&(Ye=!Ye),st=Math.min(st,Nc(Re,Zt,mn))}return(Ye?1:-1)*Math.sqrt(st)}(this.p,ge),this.max=this.d+this.h*Math.SQRT2}Hc.prototype.push=function(C){this.data.push(C),this.length++,this._up(this.length-1)},Hc.prototype.pop=function(){if(0!==this.length){var C=this.data[0],z=this.data.pop();return this.length--,this.length>0&&(this.data[0]=z,this._down(0)),C}},Hc.prototype.peek=function(){return this.data[0]},Hc.prototype._up=function(C){for(var z=this.data,J=this.compare,ge=z[C];C>0;){var Re=C-1>>1,je=z[Re];if(J(ge,je)>=0)break;z[C]=je,C=Re}z[C]=ge},Hc.prototype._down=function(C){for(var z=this.data,J=this.compare,ge=this.length>>1,Re=z[C];C<ge;){var je=1+(C<<1),Ye=z[je],st=je+1;if(st<this.length&&J(z[st],Ye)<0&&(je=st,Ye=z[st]),J(Ye,Re)>=0)break;z[C]=Ye,C=je}z[C]=Re};var xc=7,xg=Number.POSITIVE_INFINITY;function bg(C,z){return z[1]!==xg?function(J,ge,Re){var je=0,Ye=0;switch(ge=Math.abs(ge),Re=Math.abs(Re),J){case"top-right":case"top-left":case"top":Ye=Re-xc;break;case"bottom-right":case"bottom-left":case"bottom":Ye=-Re+xc}switch(J){case"top-right":case"bottom-right":case"right":je=-ge;break;case"top-left":case"bottom-left":case"left":je=ge}return[je,Ye]}(C,z[0],z[1]):function(J,ge){var Re=0,je=0;ge<0&&(ge=0);var Ye=ge/Math.sqrt(2);switch(J){case"top-right":case"top-left":je=Ye-xc;break;case"bottom-right":case"bottom-left":je=-Ye+xc;break;case"bottom":je=-ge+xc;break;case"top":je=ge-xc}switch(J){case"top-right":case"bottom-right":Re=-Ye;break;case"top-left":case"bottom-left":Re=Ye;break;case"left":Re=ge;break;case"right":Re=-ge}return[Re,je]}(C,z[0])}function wg(C){switch(C){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var Th=255,gf=Th*Cu;function Tg(C,z,J,ge,Re,je,Ye,st,vt,Ct,It,Gt,Kt,Zt,mn){var _n=function(ar,hr,br,Vr,Er,Zr,ri,bi){for(var oi=Vr.layout.get("text-rotate").evaluate(Zr,{})*Math.PI/180,xi=[],fi=0,ei=hr.positionedLines;fi<ei.length;fi+=1)for(var Wi=ei[fi],Ai=0,xo=Wi.positionedGlyphs;Ai<xo.length;Ai+=1){var yi=xo[Ai];if(yi.rect){var vo=yi.rect||{},Mo=v1+1,qi=!0,No=1,Ao=0,Fa=(Er||bi)&&yi.vertical,Ko=yi.metrics.advance*yi.scale/2;if(bi&&hr.verticalizable&&(Ao=Wi.lineOffset/2-(yi.imageName?-(es-yi.metrics.width*yi.scale)/2:(yi.scale-1)*es)),yi.imageName){var cs=ri[yi.imageName];qi=cs.sdf,Mo=nl/(No=cs.pixelRatio)}var il=Er?[yi.x+Ko,yi.y]:[0,0],fs=Er?[0,0]:[yi.x+Ko+br[0],yi.y+br[1]-Ao],ka=[0,0];Fa&&(ka=fs,fs=[0,0]);var ds=(yi.metrics.left-Mo)*yi.scale-Ko+fs[0],Ya=(-yi.metrics.top-Mo)*yi.scale+fs[1],Xa=ds+vo.w*yi.scale/No,Di=Ya+vo.h*yi.scale/No,no=new i(ds,Ya),ca=new i(Xa,Ya),lo=new i(ds,Di),ta=new i(Xa,Di);if(Fa){var ko=new i(-Ko,Ko-yh),ci=-Math.PI/2,fa=es/2-Ko,Jo=new i(5-yh-fa,-(yi.imageName?fa:0)),Fs=new(Function.prototype.bind.apply(i,[null].concat(ka)));no._rotateAround(ci,ko)._add(Jo)._add(Fs),ca._rotateAround(ci,ko)._add(Jo)._add(Fs),lo._rotateAround(ci,ko)._add(Jo)._add(Fs),ta._rotateAround(ci,ko)._add(Jo)._add(Fs)}if(oi){var rc=Math.sin(oi),Du=Math.cos(oi),ns=[Du,-rc,rc,Du];no._matMult(ns),ca._matMult(ns),lo._matMult(ns),ta._matMult(ns)}var Ou=new i(0,0),hu=new i(0,0);xi.push({tl:no,tr:ca,bl:lo,br:ta,tex:vo,writingMode:hr.writingMode,glyphOffset:il,sectionIndex:yi.sectionIndex,isSDF:qi,pixelOffsetTL:Ou,pixelOffsetBR:hu,minFontScaleX:0,minFontScaleY:0})}}return xi}(0,J,st,Re,je,Ye,ge,C.allowVerticalPlacement),zn=C.textSizeData,jn=null;"source"===zn.kind?(jn=[Cu*Re.layout.get("text-size").evaluate(Ye,{})])[0]>gf&&O(C.layerIds[0]+': Value for "text-size" is >= '+Th+'. Reduce your "text-size".'):"composite"===zn.kind&&((jn=[Cu*Zt.compositeTextSizes[0].evaluate(Ye,{},mn),Cu*Zt.compositeTextSizes[1].evaluate(Ye,{},mn)])[0]>gf||jn[1]>gf)&&O(C.layerIds[0]+': Value for "text-size" is >= '+Th+'. Reduce your "text-size".'),C.addSymbols(C.text,_n,jn,st,je,Ye,Ct,z,vt.lineStartIndex,vt.lineLength,Kt,mn);for(var Xn=0,Jn=It;Xn<Jn.length;Xn+=1)Gt[Jn[Xn]]=C.text.placedSymbolArray.length-1;return 4*_n.length}function Mg(C){for(var z in C)return C[z];return null}function Dp(C,z,J,ge){var Re=C.compareText;if(z in Re){for(var je=Re[z],Ye=je.length-1;Ye>=0;Ye--)if(ge.dist(je[Ye])<J)return!0}else Re[z]=[];return Re[z].push(ge),!1}var Ag=yd.VectorTileFeature.types,kd=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Op(C,z,J,ge,Re,je,Ye,st,vt,Ct,It,Gt,Kt){var Zt=st?Math.min(gf,Math.round(st[0])):0,mn=st?Math.min(gf,Math.round(st[1])):0;C.emplaceBack(z,J,Math.round(32*ge),Math.round(32*Re),je,Ye,(Zt<<1)+(vt?1:0),mn,16*Ct,16*It,256*Gt,256*Kt)}function kg(C,z,J){C.emplaceBack(z.x,z.y,J),C.emplaceBack(z.x,z.y,J),C.emplaceBack(z.x,z.y,J),C.emplaceBack(z.x,z.y,J)}function tw(C){for(var z=0,J=C.sections;z<J.length;z+=1)if(ws(J[z].text))return!0;return!1}var Sd=function(C){this.layoutVertexArray=new U,this.indexArray=new ie,this.programConfigurations=C,this.segments=new On,this.dynamicLayoutVertexArray=new $,this.opacityVertexArray=new q,this.placedSymbolArray=new Vt};Sd.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},Sd.prototype.upload=function(C,z,J,ge){this.isEmpty()||(J&&(this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,u1.members),this.indexBuffer=C.createIndexBuffer(this.indexArray,z),this.dynamicLayoutVertexBuffer=C.createVertexBuffer(this.dynamicLayoutVertexArray,ew.members,!0),this.opacityVertexBuffer=C.createVertexBuffer(this.opacityVertexArray,kd,!0),this.opacityVertexBuffer.itemSize=1),(J||ge)&&this.programConfigurations.upload(C))},Sd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},ni("SymbolBuffers",Sd);var Uf=function(C,z,J){this.layoutVertexArray=new C,this.layoutAttributes=z,this.indexArray=new J,this.segments=new On,this.collisionVertexArray=new V};Uf.prototype.upload=function(C){this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=C.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=C.createVertexBuffer(this.collisionVertexArray,h_.members,!0)},Uf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},ni("CollisionBuffers",Uf);var To=function(C){this.collisionBoxArray=C.collisionBoxArray,this.zoom=C.zoom,this.overscaling=C.overscaling,this.layers=C.layers,this.layerIds=this.layers.map(function(Ye){return Ye.id}),this.index=C.index,this.pixelRatio=C.pixelRatio,this.sourceLayerIndex=C.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=mp([]),this.placementViewportMatrix=mp([]);var z=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ep(this.zoom,z["text-size"]),this.iconSizeData=Ep(this.zoom,z["icon-size"]);var J=this.layers[0].layout,ge=J.get("symbol-sort-key"),Re=J.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==Re&&void 0!==ge.constantOr(1),this.sortFeaturesByY=("viewport-y"===Re||"auto"===Re&&!this.sortFeaturesByKey)&&(J.get("text-allow-overlap")||J.get("icon-allow-overlap")||J.get("text-ignore-placement")||J.get("icon-ignore-placement")),"point"===J.get("symbol-placement")&&(this.writingModes=J.get("text-writing-mode").map(function(Ye){return du[Ye]})),this.stateDependentLayerIds=this.layers.filter(function(Ye){return Ye.isStateDependent()}).map(function(Ye){return Ye.id}),this.sourceID=C.sourceID};To.prototype.createArrays=function(){this.text=new Sd(new Do(u1.members,this.layers,this.zoom,function(C){return/^text/.test(C)})),this.icon=new Sd(new Do(u1.members,this.layers,this.zoom,function(C){return/^icon/.test(C)})),this.glyphOffsetArray=new Ut,this.lineVertexArray=new gn,this.symbolInstances=new Xt},To.prototype.calculateGlyphDependencies=function(C,z,J,ge,Re){for(var je=0;je<C.length;je++)if(z[C.charCodeAt(je)]=!0,(J||ge)&&Re){var Ye=xd[C.charAt(je)];Ye&&(z[Ye.charCodeAt(0)]=!0)}},To.prototype.populate=function(C,z,J){var ge=this.layers[0],Re=ge.layout,je=Re.get("text-font"),Ye=Re.get("text-field"),st=Re.get("icon-image"),vt=("constant"!==Ye.value.kind||Ye.value.value instanceof qn&&!Ye.value.value.isEmpty()||Ye.value.value.toString().length>0)&&("constant"!==je.value.kind||je.value.value.length>0),Ct="constant"!==st.value.kind||!!st.value.value||Object.keys(st.parameters).length>0,It=Re.get("symbol-sort-key");if(this.features=[],vt||Ct){for(var Gt=z.iconDependencies,Kt=z.glyphDependencies,Zt=z.availableImages,mn=new eo(this.zoom),_n=0,zn=C;_n<zn.length;_n+=1){var jn=zn[_n],Xn=jn.feature,Jn=jn.id,ar=jn.index,hr=jn.sourceLayerIndex,br=ge._featureFilter.needGeometry,Vr={type:Xn.type,id:Jn,properties:Xn.properties,geometry:br?el(Xn):[]};if(ge._featureFilter.filter(mn,Vr,J)){br||(Vr.geometry=el(Xn));var Er=void 0;if(vt){var Zr=ge.getValueAndResolveTokens("text-field",Vr,J,Zt),ri=qn.factory(Zr);tw(ri)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Ts()||this.hasRTLText&&Uo.isParsed())&&(Er=c1(ri,ge,Vr))}var bi=void 0;if(Ct){var oi=ge.getValueAndResolveTokens("icon-image",Vr,J,Zt);bi=oi instanceof kn?oi:kn.fromString(oi)}if(Er||bi){var xi=this.sortFeaturesByKey?It.evaluate(Vr,{},J):void 0,fi={id:Jn,text:Er,icon:bi,index:ar,sourceLayerIndex:hr,geometry:el(Xn),properties:Xn.properties,type:Ag[Xn.type],sortKey:xi};if(this.features.push(fi),bi&&(Gt[bi.name]=!0),Er){var ei=je.evaluate(Vr,{},J).join(","),Wi="map"===Re.get("text-rotation-alignment")&&"point"!==Re.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(du.vertical)>=0;for(var Ai=0,xo=Er.sections;Ai<xo.length;Ai+=1){var yi=xo[Ai];if(yi.image)Gt[yi.image.name]=!0;else{var vo=kl(Er.toString()),Mo=yi.fontStack||ei,qi=Kt[Mo]=Kt[Mo]||{};this.calculateGlyphDependencies(yi.text,qi,Wi,this.allowVerticalPlacement,vo)}}}}}}"line"===Re.get("symbol-placement")&&(this.features=function(No){var Ao={},Fa={},Ko=[],Za=0;function Aa(ta){Ko.push(No[ta]),Za++}function cs(ta,ko,ci){var fa=Fa[ta];return delete Fa[ta],Fa[ko]=fa,Ko[fa].geometry[0].pop(),Ko[fa].geometry[0]=Ko[fa].geometry[0].concat(ci[0]),fa}function il(ta,ko,ci){var fa=Ao[ko];return delete Ao[ko],Ao[ta]=fa,Ko[fa].geometry[0].shift(),Ko[fa].geometry[0]=ci[0].concat(Ko[fa].geometry[0]),fa}function fs(ta,ko,ci){var fa=ci?ko[0][ko[0].length-1]:ko[0][0];return ta+":"+fa.x+":"+fa.y}for(var ka=0;ka<No.length;ka++){var ds=No[ka],Ya=ds.geometry,Xa=ds.text?ds.text.toString():null;if(Xa){var Di=fs(Xa,Ya),no=fs(Xa,Ya,!0);if(Di in Fa&&no in Ao&&Fa[Di]!==Ao[no]){var ca=il(Di,no,Ya),lo=cs(Di,no,Ko[ca].geometry);delete Ao[Di],delete Fa[no],Fa[fs(Xa,Ko[lo].geometry,!0)]=lo,Ko[ca].geometry=null}else Di in Fa?cs(Di,no,Ya):no in Ao?il(Di,no,Ya):(Aa(ka),Ao[Di]=Za-1,Fa[no]=Za-1)}else Aa(ka)}return Ko.filter(function(ta){return ta.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(No,Ao){return No.sortKey-Ao.sortKey})}},To.prototype.update=function(C,z,J){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(C,z,this.layers,J),this.icon.programConfigurations.updatePaintArrays(C,z,this.layers,J))},To.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},To.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},To.prototype.upload=function(C){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(C),this.iconCollisionBox.upload(C)),this.text.upload(C,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(C,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},To.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},To.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},To.prototype.addToLineVertexArray=function(C,z){var J=this.lineVertexArray.length;if(void 0!==C.segment){for(var ge=C.dist(z[C.segment+1]),Re=C.dist(z[C.segment]),je={},Ye=C.segment+1;Ye<z.length;Ye++)je[Ye]={x:z[Ye].x,y:z[Ye].y,tileUnitDistanceFromAnchor:ge},Ye<z.length-1&&(ge+=z[Ye+1].dist(z[Ye]));for(var st=C.segment||0;st>=0;st--)je[st]={x:z[st].x,y:z[st].y,tileUnitDistanceFromAnchor:Re},st>0&&(Re+=z[st-1].dist(z[st]));for(var vt=0;vt<z.length;vt++){var Ct=je[vt];this.lineVertexArray.emplaceBack(Ct.x,Ct.y,Ct.tileUnitDistanceFromAnchor)}}return{lineStartIndex:J,lineLength:this.lineVertexArray.length-J}},To.prototype.addSymbols=function(C,z,J,ge,Re,je,Ye,st,vt,Ct,It,Gt){for(var Kt=C.indexArray,Zt=C.layoutVertexArray,mn=C.segments.prepareSegment(4*z.length,Zt,Kt,je.sortKey),_n=this.glyphOffsetArray.length,zn=mn.vertexLength,jn=this.allowVerticalPlacement&&Ye===du.vertical?Math.PI/2:0,Xn=je.text&&je.text.sections,Jn=0;Jn<z.length;Jn++){var ar=z[Jn],hr=ar.tl,br=ar.tr,Vr=ar.bl,Er=ar.br,Zr=ar.tex,ri=ar.pixelOffsetTL,bi=ar.pixelOffsetBR,oi=ar.minFontScaleX,xi=ar.minFontScaleY,fi=ar.glyphOffset,ei=ar.isSDF,Wi=ar.sectionIndex,Ai=mn.vertexLength,xo=fi[1];Op(Zt,st.x,st.y,hr.x,xo+hr.y,Zr.x,Zr.y,J,ei,ri.x,ri.y,oi,xi),Op(Zt,st.x,st.y,br.x,xo+br.y,Zr.x+Zr.w,Zr.y,J,ei,bi.x,ri.y,oi,xi),Op(Zt,st.x,st.y,Vr.x,xo+Vr.y,Zr.x,Zr.y+Zr.h,J,ei,ri.x,bi.y,oi,xi),Op(Zt,st.x,st.y,Er.x,xo+Er.y,Zr.x+Zr.w,Zr.y+Zr.h,J,ei,bi.x,bi.y,oi,xi),kg(C.dynamicLayoutVertexArray,st,jn),Kt.emplaceBack(Ai,Ai+1,Ai+2),Kt.emplaceBack(Ai+1,Ai+2,Ai+3),mn.vertexLength+=4,mn.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(fi[0]),Jn!==z.length-1&&Wi===z[Jn+1].sectionIndex||C.programConfigurations.populatePaintArrays(Zt.length,je,je.index,{},Gt,Xn&&Xn[Wi])}C.placedSymbolArray.emplaceBack(st.x,st.y,_n,this.glyphOffsetArray.length-_n,zn,vt,Ct,st.segment,J?J[0]:0,J?J[1]:0,ge[0],ge[1],Ye,0,!1,0,It)},To.prototype._addCollisionDebugVertex=function(C,z,J,ge,Re,je){return z.emplaceBack(0,0),C.emplaceBack(J.x,J.y,ge,Re,Math.round(je.x),Math.round(je.y))},To.prototype.addCollisionDebugVertices=function(C,z,J,ge,Re,je,Ye){var st=Re.segments.prepareSegment(4,Re.layoutVertexArray,Re.indexArray),vt=st.vertexLength,Ct=Re.layoutVertexArray,It=Re.collisionVertexArray,Gt=Ye.anchorX,Kt=Ye.anchorY;this._addCollisionDebugVertex(Ct,It,je,Gt,Kt,new i(C,z)),this._addCollisionDebugVertex(Ct,It,je,Gt,Kt,new i(J,z)),this._addCollisionDebugVertex(Ct,It,je,Gt,Kt,new i(J,ge)),this._addCollisionDebugVertex(Ct,It,je,Gt,Kt,new i(C,ge)),st.vertexLength+=4;var Zt=Re.indexArray;Zt.emplaceBack(vt,vt+1),Zt.emplaceBack(vt+1,vt+2),Zt.emplaceBack(vt+2,vt+3),Zt.emplaceBack(vt+3,vt),st.primitiveLength+=4},To.prototype.addDebugCollisionBoxes=function(C,z,J,ge){for(var Re=C;Re<z;Re++){var je=this.collisionBoxArray.get(Re);this.addCollisionDebugVertices(je.x1,je.y1,je.x2,je.y2,ge?this.textCollisionBox:this.iconCollisionBox,je.anchorPoint,J)}},To.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Uf(_e,ng.members,Xe),this.iconCollisionBox=new Uf(_e,ng.members,Xe);for(var C=0;C<this.symbolInstances.length;C++){var z=this.symbolInstances.get(C);this.addDebugCollisionBoxes(z.textBoxStartIndex,z.textBoxEndIndex,z,!0),this.addDebugCollisionBoxes(z.verticalTextBoxStartIndex,z.verticalTextBoxEndIndex,z,!0),this.addDebugCollisionBoxes(z.iconBoxStartIndex,z.iconBoxEndIndex,z,!1),this.addDebugCollisionBoxes(z.verticalIconBoxStartIndex,z.verticalIconBoxEndIndex,z,!1)}},To.prototype._deserializeCollisionBoxesForSymbol=function(C,z,J,ge,Re,je,Ye,st,vt){for(var Ct={},It=z;It<J;It++){var Gt=C.get(It);Ct.textBox={x1:Gt.x1,y1:Gt.y1,x2:Gt.x2,y2:Gt.y2,anchorPointX:Gt.anchorPointX,anchorPointY:Gt.anchorPointY},Ct.textFeatureIndex=Gt.featureIndex;break}for(var Kt=ge;Kt<Re;Kt++){var Zt=C.get(Kt);Ct.verticalTextBox={x1:Zt.x1,y1:Zt.y1,x2:Zt.x2,y2:Zt.y2,anchorPointX:Zt.anchorPointX,anchorPointY:Zt.anchorPointY},Ct.verticalTextFeatureIndex=Zt.featureIndex;break}for(var mn=je;mn<Ye;mn++){var _n=C.get(mn);Ct.iconBox={x1:_n.x1,y1:_n.y1,x2:_n.x2,y2:_n.y2,anchorPointX:_n.anchorPointX,anchorPointY:_n.anchorPointY},Ct.iconFeatureIndex=_n.featureIndex;break}for(var zn=st;zn<vt;zn++){var jn=C.get(zn);Ct.verticalIconBox={x1:jn.x1,y1:jn.y1,x2:jn.x2,y2:jn.y2,anchorPointX:jn.anchorPointX,anchorPointY:jn.anchorPointY},Ct.verticalIconFeatureIndex=jn.featureIndex;break}return Ct},To.prototype.deserializeCollisionBoxes=function(C){this.collisionArrays=[];for(var z=0;z<this.symbolInstances.length;z++){var J=this.symbolInstances.get(z);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(C,J.textBoxStartIndex,J.textBoxEndIndex,J.verticalTextBoxStartIndex,J.verticalTextBoxEndIndex,J.iconBoxStartIndex,J.iconBoxEndIndex,J.verticalIconBoxStartIndex,J.verticalIconBoxEndIndex))}},To.prototype.hasTextData=function(){return this.text.segments.get().length>0},To.prototype.hasIconData=function(){return this.icon.segments.get().length>0},To.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},To.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},To.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},To.prototype.addIndicesForPlacedSymbol=function(C,z){for(var J=C.placedSymbolArray.get(z),ge=J.vertexStartIndex+4*J.numGlyphs,Re=J.vertexStartIndex;Re<ge;Re+=4)C.indexArray.emplaceBack(Re,Re+1,Re+2),C.indexArray.emplaceBack(Re+1,Re+2,Re+3)},To.prototype.getSortedSymbolIndexes=function(C){if(this.sortedAngle===C&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var z=Math.sin(C),J=Math.cos(C),ge=[],Re=[],je=[],Ye=0;Ye<this.symbolInstances.length;++Ye){je.push(Ye);var st=this.symbolInstances.get(Ye);ge.push(0|Math.round(z*st.anchorX+J*st.anchorY)),Re.push(st.featureIndex)}return je.sort(function(vt,Ct){return ge[vt]-ge[Ct]||Re[Ct]-Re[vt]}),je},To.prototype.addToSortKeyRanges=function(C,z){var J=this.sortKeyRanges[this.sortKeyRanges.length-1];J&&J.sortKey===z?J.symbolInstanceEnd=C+1:this.sortKeyRanges.push({sortKey:z,symbolInstanceStart:C,symbolInstanceEnd:C+1})},To.prototype.sortFeatures=function(C){var z=this;if(this.sortFeaturesByY&&this.sortedAngle!==C&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(C),this.sortedAngle=C,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var J=0,ge=this.symbolInstanceIndexes;J<ge.length;J+=1){var je=this.symbolInstances.get(ge[J]);this.featureSortOrder.push(je.featureIndex),[je.rightJustifiedTextSymbolIndex,je.centerJustifiedTextSymbolIndex,je.leftJustifiedTextSymbolIndex].forEach(function(Ye,st,vt){Ye>=0&&vt.indexOf(Ye)===st&&z.addIndicesForPlacedSymbol(z.text,Ye)}),je.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,je.verticalPlacedTextSymbolIndex),je.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,je.placedIconSymbolIndex),je.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,je.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},ni("SymbolBucket",To,{omit:["layers","collisionBoxArray","features","compareText"]}),To.MAX_GLYPHS=65535,To.addDynamicAttributes=kg;var k1=new ba({"symbol-placement":new Sr(Ve.layout_symbol["symbol-placement"]),"symbol-spacing":new Sr(Ve.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Sr(Ve.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new si(Ve.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Sr(Ve.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Sr(Ve.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Sr(Ve.layout_symbol["icon-ignore-placement"]),"icon-optional":new Sr(Ve.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Sr(Ve.layout_symbol["icon-rotation-alignment"]),"icon-size":new si(Ve.layout_symbol["icon-size"]),"icon-text-fit":new Sr(Ve.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Sr(Ve.layout_symbol["icon-text-fit-padding"]),"icon-image":new si(Ve.layout_symbol["icon-image"]),"icon-rotate":new si(Ve.layout_symbol["icon-rotate"]),"icon-padding":new Sr(Ve.layout_symbol["icon-padding"]),"icon-keep-upright":new Sr(Ve.layout_symbol["icon-keep-upright"]),"icon-offset":new si(Ve.layout_symbol["icon-offset"]),"icon-anchor":new si(Ve.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Sr(Ve.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Sr(Ve.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Sr(Ve.layout_symbol["text-rotation-alignment"]),"text-field":new si(Ve.layout_symbol["text-field"]),"text-font":new si(Ve.layout_symbol["text-font"]),"text-size":new si(Ve.layout_symbol["text-size"]),"text-max-width":new si(Ve.layout_symbol["text-max-width"]),"text-line-height":new Sr(Ve.layout_symbol["text-line-height"]),"text-letter-spacing":new si(Ve.layout_symbol["text-letter-spacing"]),"text-justify":new si(Ve.layout_symbol["text-justify"]),"text-radial-offset":new si(Ve.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Sr(Ve.layout_symbol["text-variable-anchor"]),"text-anchor":new si(Ve.layout_symbol["text-anchor"]),"text-max-angle":new Sr(Ve.layout_symbol["text-max-angle"]),"text-writing-mode":new Sr(Ve.layout_symbol["text-writing-mode"]),"text-rotate":new si(Ve.layout_symbol["text-rotate"]),"text-padding":new Sr(Ve.layout_symbol["text-padding"]),"text-keep-upright":new Sr(Ve.layout_symbol["text-keep-upright"]),"text-transform":new si(Ve.layout_symbol["text-transform"]),"text-offset":new si(Ve.layout_symbol["text-offset"]),"text-allow-overlap":new Sr(Ve.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Sr(Ve.layout_symbol["text-ignore-placement"]),"text-optional":new Sr(Ve.layout_symbol["text-optional"])}),Ed={paint:new ba({"icon-opacity":new si(Ve.paint_symbol["icon-opacity"]),"icon-color":new si(Ve.paint_symbol["icon-color"]),"icon-halo-color":new si(Ve.paint_symbol["icon-halo-color"]),"icon-halo-width":new si(Ve.paint_symbol["icon-halo-width"]),"icon-halo-blur":new si(Ve.paint_symbol["icon-halo-blur"]),"icon-translate":new Sr(Ve.paint_symbol["icon-translate"]),"icon-translate-anchor":new Sr(Ve.paint_symbol["icon-translate-anchor"]),"text-opacity":new si(Ve.paint_symbol["text-opacity"]),"text-color":new si(Ve.paint_symbol["text-color"],{runtimeType:Wt,getOverride:function(C){return C.textColor},hasOverride:function(C){return!!C.textColor}}),"text-halo-color":new si(Ve.paint_symbol["text-halo-color"]),"text-halo-width":new si(Ve.paint_symbol["text-halo-width"]),"text-halo-blur":new si(Ve.paint_symbol["text-halo-blur"]),"text-translate":new Sr(Ve.paint_symbol["text-translate"]),"text-translate-anchor":new Sr(Ve.paint_symbol["text-translate-anchor"])}),layout:k1},mf=function(C){this.type=C.property.overrides?C.property.overrides.runtimeType:Rt,this.defaultValue=C};mf.prototype.evaluate=function(C){if(C.formattedSection){var z=this.defaultValue.property.overrides;if(z&&z.hasOverride(C.formattedSection))return z.getOverride(C.formattedSection)}return C.feature&&C.featureState?this.defaultValue.evaluate(C.feature,C.featureState):this.defaultValue.property.specification.default},mf.prototype.eachChild=function(C){this.defaultValue.isConstant()||C(this.defaultValue.value._styleExpression.expression)},mf.prototype.outputDefined=function(){return!1},mf.prototype.serialize=function(){return null},ni("FormatSectionOverride",mf,{omit:["defaultValue"]});var S1=function(C){function z(J){C.call(this,J,Ed)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.recalculate=function(J,ge){if(C.prototype.recalculate.call(this,J,ge),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var Re=this.layout.get("text-writing-mode");if(Re){for(var je=[],Ye=0,st=Re;Ye<st.length;Ye+=1){var vt=st[Ye];je.indexOf(vt)<0&&je.push(vt)}this.layout._values["text-writing-mode"]=je}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},z.prototype.getValueAndResolveTokens=function(J,ge,Re,je){var vt,Ye=this.layout.get(J).evaluate(ge,{},Re,je),st=this._unevaluatedLayout._values[J];return st.isDataDriven()||jl(st.value)||!Ye?Ye:(vt=ge.properties,Ye.replace(/{([^{}]+)}/g,function(It,Gt){return Gt in vt?String(vt[Gt]):""}))},z.prototype.createBucket=function(J){return new To(J)},z.prototype.queryRadius=function(){return 0},z.prototype.queryIntersectsFeature=function(){return!1},z.prototype._setPaintOverrides=function(){for(var J=0,ge=Ed.paint.overridableProperties;J<ge.length;J+=1){var Re=ge[J];if(z.hasPaintOverride(this.layout,Re)){var je,Ye=this.paint.get(Re),st=new mf(Ye),vt=new ju(st,Ye.property.specification);je="constant"===Ye.value.kind||"source"===Ye.value.kind?new ti("source",vt):new wi("composite",vt,Ye.value.zoomStops,Ye.value._interpolationType),this.paint._values[Re]=new Yo(Ye.property,je,Ye.parameters)}}},z.prototype._handleOverridablePaintPropertyUpdate=function(J,ge,Re){return!(!this.layout||ge.isDataDriven()||Re.isDataDriven())&&z.hasPaintOverride(this.layout,J)},z.hasPaintOverride=function(J,ge){var Re=J.get("text-field"),je=Ed.paint.properties[ge],Ye=!1,st=function(It){for(var Gt=0,Kt=It;Gt<Kt.length;Gt+=1)if(je.overrides&&je.overrides.hasOverride(Kt[Gt]))return void(Ye=!0)};if("constant"===Re.value.kind&&Re.value.value instanceof qn)st(Re.value.value.sections);else if("source"===Re.value.kind){var vt=function(It){Ye||(It instanceof mr&&er(It.value)===en?st(It.value.sections):It instanceof $t?st(It.sections):It.eachChild(vt))},Ct=Re.value;Ct._styleExpression&&vt(Ct._styleExpression.expression)}return Ye},z}(wa),E1={paint:new ba({"background-color":new Sr(Ve.paint_background["background-color"]),"background-pattern":new Va(Ve.paint_background["background-pattern"]),"background-opacity":new Sr(Ve.paint_background["background-opacity"])})},C1=function(C){function z(J){C.call(this,J,E1)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z}(wa),D1={paint:new ba({"raster-opacity":new Sr(Ve.paint_raster["raster-opacity"]),"raster-hue-rotate":new Sr(Ve.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Sr(Ve.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Sr(Ve.paint_raster["raster-brightness-max"]),"raster-saturation":new Sr(Ve.paint_raster["raster-saturation"]),"raster-contrast":new Sr(Ve.paint_raster["raster-contrast"]),"raster-resampling":new Sr(Ve.paint_raster["raster-resampling"]),"raster-fade-duration":new Sr(Ve.paint_raster["raster-fade-duration"])})},b_=function(C){function z(J){C.call(this,J,D1)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z}(wa),w_=function(C){function z(J){C.call(this,J,{}),this.implementation=J}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},z.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},z.prototype.recalculate=function(){},z.prototype.updateTransitions=function(){},z.prototype.hasTransition=function(){},z.prototype.serialize=function(){},z.prototype.onAdd=function(J){this.implementation.onAdd&&this.implementation.onAdd(J,J.painter.context.gl)},z.prototype.onRemove=function(J){this.implementation.onRemove&&this.implementation.onRemove(J,J.painter.context.gl)},z}(wa),T_={circle:e1,heatmap:gi,hillshade:q2,fill:dh,"fill-extrusion":s_,line:Q2,symbol:S1,background:C1,raster:b_},O1=self.HTMLImageElement,I1=self.HTMLCanvasElement,Gc=self.HTMLVideoElement,Cd=self.ImageData,Ip=self.ImageBitmap,Dd=function(C,z,J,ge){this.context=C,this.format=J,this.texture=C.gl.createTexture(),this.update(z,ge)};Dd.prototype.update=function(C,z,J){var ge=C.width,Re=C.height,je=!(this.size&&this.size[0]===ge&&this.size[1]===Re||J),Ye=this.context,st=Ye.gl;if(this.useMipmap=Boolean(z&&z.useMipmap),st.bindTexture(st.TEXTURE_2D,this.texture),Ye.pixelStoreUnpackFlipY.set(!1),Ye.pixelStoreUnpack.set(1),Ye.pixelStoreUnpackPremultiplyAlpha.set(this.format===st.RGBA&&(!z||!1!==z.premultiply)),je)this.size=[ge,Re],C instanceof O1||C instanceof I1||C instanceof Gc||C instanceof Cd||Ip&&C instanceof Ip?st.texImage2D(st.TEXTURE_2D,0,this.format,this.format,st.UNSIGNED_BYTE,C):st.texImage2D(st.TEXTURE_2D,0,this.format,ge,Re,0,this.format,st.UNSIGNED_BYTE,C.data);else{var vt=J||{x:0,y:0},Ct=vt.x,It=vt.y;C instanceof O1||C instanceof I1||C instanceof Gc||C instanceof Cd||Ip&&C instanceof Ip?st.texSubImage2D(st.TEXTURE_2D,0,Ct,It,st.RGBA,st.UNSIGNED_BYTE,C):st.texSubImage2D(st.TEXTURE_2D,0,Ct,It,ge,Re,st.RGBA,st.UNSIGNED_BYTE,C.data)}this.useMipmap&&this.isSizePowerOfTwo()&&st.generateMipmap(st.TEXTURE_2D)},Dd.prototype.bind=function(C,z,J){var ge=this.context.gl;ge.bindTexture(ge.TEXTURE_2D,this.texture),J!==ge.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(J=ge.LINEAR),C!==this.filter&&(ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MAG_FILTER,C),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MIN_FILTER,J||C),this.filter=C),z!==this.wrap&&(ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_S,z),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_T,z),this.wrap=z)},Dd.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Dd.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var P1=function(C){var z=this;this._callback=C,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){z._triggered=!1,z._callback()})};P1.prototype.trigger=function(){var C=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){C._triggered=!1,C._callback()},0))},P1.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Mh=function(C,z,J){this.target=C,this.parent=z,this.mapId=J,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},g(["receive","process"],this),this.invoker=new P1(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=P()?C:self};function M_(C,z,J){var ge=2*Math.PI*6378137/256/Math.pow(2,J);return[C*ge-2*Math.PI*6378137/2,z*ge-2*Math.PI*6378137/2]}Mh.prototype.send=function(C,z,J,ge,Re){var je=this;void 0===Re&&(Re=!1);var Ye=Math.round(1e18*Math.random()).toString(36).substring(0,10);J&&(this.callbacks[Ye]=J);var st=j(this.globalScope)?void 0:[];return this.target.postMessage({id:Ye,type:C,hasCallback:!!J,targetMapId:ge,mustQueue:Re,sourceMapId:this.mapId,data:ru(z,st)},st),{cancel:function(){J&&delete je.callbacks[Ye],je.target.postMessage({id:Ye,type:"<cancel>",targetMapId:ge,sourceMapId:je.mapId})}}},Mh.prototype.receive=function(C){var z=C.data,J=z.id;if(J&&(!z.targetMapId||this.mapId===z.targetMapId))if("<cancel>"===z.type){delete this.tasks[J];var ge=this.cancelCallbacks[J];delete this.cancelCallbacks[J],ge&&ge()}else P()||z.mustQueue?(this.tasks[J]=z,this.taskQueue.push(J),this.invoker.trigger()):this.processTask(J,z)},Mh.prototype.process=function(){if(this.taskQueue.length){var C=this.taskQueue.shift(),z=this.tasks[C];delete this.tasks[C],this.taskQueue.length&&this.invoker.trigger(),z&&this.processTask(C,z)}},Mh.prototype.processTask=function(C,z){var J=this;if("<response>"===z.type){var ge=this.callbacks[C];delete this.callbacks[C],ge&&(z.error?ge(iu(z.error)):ge(null,iu(z.data)))}else{var Re=!1,je=j(this.globalScope)?void 0:[],Ye=z.hasCallback?function(It,Gt){Re=!0,delete J.cancelCallbacks[C],J.target.postMessage({id:C,type:"<response>",sourceMapId:J.mapId,error:It?ru(It):null,data:ru(Gt,je)},je)}:function(It){Re=!0},st=null,vt=iu(z.data);if(this.parent[z.type])st=this.parent[z.type](z.sourceMapId,vt,Ye);else if(this.parent.getWorkerSource){var Ct=z.type.split(".");st=this.parent.getWorkerSource(z.sourceMapId,Ct[0],vt.source)[Ct[1]](vt,Ye)}else Ye(new Error("Could not find function "+z.type));!Re&&st&&st.cancel&&(this.cancelCallbacks[C]=st.cancel)}},Mh.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var qa=function(C,z){C&&(z?this.setSouthWest(C).setNorthEast(z):4===C.length?this.setSouthWest([C[0],C[1]]).setNorthEast([C[2],C[3]]):this.setSouthWest(C[0]).setNorthEast(C[1]))};qa.prototype.setNorthEast=function(C){return this._ne=C instanceof Wo?new Wo(C.lng,C.lat):Wo.convert(C),this},qa.prototype.setSouthWest=function(C){return this._sw=C instanceof Wo?new Wo(C.lng,C.lat):Wo.convert(C),this},qa.prototype.extend=function(C){var z,J,ge=this._sw,Re=this._ne;if(C instanceof Wo)z=C,J=C;else{if(!(C instanceof qa))return Array.isArray(C)?4===C.length||C.every(Array.isArray)?this.extend(qa.convert(C)):this.extend(Wo.convert(C)):this;if(J=C._ne,!(z=C._sw)||!J)return this}return ge||Re?(ge.lng=Math.min(z.lng,ge.lng),ge.lat=Math.min(z.lat,ge.lat),Re.lng=Math.max(J.lng,Re.lng),Re.lat=Math.max(J.lat,Re.lat)):(this._sw=new Wo(z.lng,z.lat),this._ne=new Wo(J.lng,J.lat)),this},qa.prototype.getCenter=function(){return new Wo((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},qa.prototype.getSouthWest=function(){return this._sw},qa.prototype.getNorthEast=function(){return this._ne},qa.prototype.getNorthWest=function(){return new Wo(this.getWest(),this.getNorth())},qa.prototype.getSouthEast=function(){return new Wo(this.getEast(),this.getSouth())},qa.prototype.getWest=function(){return this._sw.lng},qa.prototype.getSouth=function(){return this._sw.lat},qa.prototype.getEast=function(){return this._ne.lng},qa.prototype.getNorth=function(){return this._ne.lat},qa.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},qa.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},qa.prototype.isEmpty=function(){return!(this._sw&&this._ne)},qa.prototype.contains=function(C){var z=Wo.convert(C),J=z.lng,ge=z.lat,je=this._sw.lng<=J&&J<=this._ne.lng;return this._sw.lng>this._ne.lng&&(je=this._sw.lng>=J&&J>=this._ne.lng),this._sw.lat<=ge&&ge<=this._ne.lat&&je},qa.convert=function(C){return!C||C instanceof qa?C:new qa(C)};var Sg=6371008.8,Wo=function(C,z){if(isNaN(C)||isNaN(z))throw new Error("Invalid LngLat object: ("+C+", "+z+")");if(this.lng=+C,this.lat=+z,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Wo.prototype.wrap=function(){return new Wo(u(this.lng,-180,180),this.lat)},Wo.prototype.toArray=function(){return[this.lng,this.lat]},Wo.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Wo.prototype.distanceTo=function(C){var z=Math.PI/180,J=this.lat*z,ge=C.lat*z,Re=Math.sin(J)*Math.sin(ge)+Math.cos(J)*Math.cos(ge)*Math.cos((C.lng-this.lng)*z);return Sg*Math.acos(Math.min(Re,1))},Wo.prototype.toBounds=function(C){void 0===C&&(C=0);var z=360*C/40075017,J=z/Math.cos(Math.PI/180*this.lat);return new qa(new Wo(this.lng-J,this.lat-z),new Wo(this.lng+J,this.lat+z))},Wo.convert=function(C){if(C instanceof Wo)return C;if(Array.isArray(C)&&(2===C.length||3===C.length))return new Wo(Number(C[0]),Number(C[1]));if(!Array.isArray(C)&&"object"==typeof C&&null!==C)return new Wo(Number("lng"in C?C.lng:C.lon),Number(C.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var R1=2*Math.PI*Sg;function L1(C){return R1*Math.cos(C*Math.PI/180)}function N1(C){return(180+C)/360}function Pp(C){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+C*Math.PI/360)))/360}function bc(C,z){return C/L1(z)}function Vf(C){return 360/Math.PI*Math.atan(Math.exp((180-360*C)*Math.PI/180))-90}var vf=function(C,z,J){void 0===J&&(J=0),this.x=+C,this.y=+z,this.z=+J};vf.fromLngLat=function(C,z){void 0===z&&(z=0);var J=Wo.convert(C);return new vf(N1(J.lng),Pp(J.lat),bc(z,J.lat))},vf.prototype.toLngLat=function(){return new Wo(360*this.x-180,Vf(this.y))},vf.prototype.toAltitude=function(){return this.z*L1(Vf(this.y))},vf.prototype.meterInMercatorCoordinateUnits=function(){return 1/R1*(C=Vf(this.y),1/Math.cos(C*Math.PI/180));var C};var yf=function(C,z,J){this.z=C,this.x=z,this.y=J,this.key=Rp(0,C,C,z,J)};yf.prototype.equals=function(C){return this.z===C.z&&this.x===C.x&&this.y===C.y},yf.prototype.url=function(C,z){var J,ge,Re,je,Ye,st=(ge=this.y,Re=this.z,je=M_(256*(J=this.x),256*(ge=Math.pow(2,Re)-ge-1),Re),Ye=M_(256*(J+1),256*(ge+1),Re),je[0]+","+je[1]+","+Ye[0]+","+Ye[1]),vt=function(Ct,It,Gt){for(var Kt,Zt="",mn=Ct;mn>0;mn--)Zt+=(It&(Kt=1<<mn-1)?1:0)+(Gt&Kt?2:0);return Zt}(this.z,this.x,this.y);return C[(this.x+this.y)%C.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===z?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",vt).replace("{bbox-epsg-3857}",st)},yf.prototype.getTilePoint=function(C){var z=Math.pow(2,this.z);return new i((C.x*z-this.x)*Gi,(C.y*z-this.y)*Gi)},yf.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Eg=function(C,z){this.wrap=C,this.canonical=z,this.key=Rp(C,z.z,z.z,z.x,z.y)},$a=function(C,z,J,ge,Re){this.overscaledZ=C,this.wrap=z,this.canonical=new yf(J,+ge,+Re),this.key=Rp(z,C,J,ge,Re)};function Rp(C,z,J,ge,Re){(C*=2)<0&&(C=-1*C-1);var je=1<<J;return(je*je*C+je*Re+ge).toString(36)+J.toString(36)+z.toString(36)}$a.prototype.equals=function(C){return this.overscaledZ===C.overscaledZ&&this.wrap===C.wrap&&this.canonical.equals(C.canonical)},$a.prototype.scaledTo=function(C){var z=this.canonical.z-C;return C>this.canonical.z?new $a(C,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new $a(C,this.wrap,C,this.canonical.x>>z,this.canonical.y>>z)},$a.prototype.calculateScaledKey=function(C,z){var J=this.canonical.z-C;return C>this.canonical.z?Rp(this.wrap*+z,C,this.canonical.z,this.canonical.x,this.canonical.y):Rp(this.wrap*+z,C,C,this.canonical.x>>J,this.canonical.y>>J)},$a.prototype.isChildOf=function(C){if(C.wrap!==this.wrap)return!1;var z=this.canonical.z-C.canonical.z;return 0===C.overscaledZ||C.overscaledZ<this.overscaledZ&&C.canonical.x===this.canonical.x>>z&&C.canonical.y===this.canonical.y>>z},$a.prototype.children=function(C){if(this.overscaledZ>=C)return[new $a(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var z=this.canonical.z+1,J=2*this.canonical.x,ge=2*this.canonical.y;return[new $a(z,this.wrap,z,J,ge),new $a(z,this.wrap,z,J+1,ge),new $a(z,this.wrap,z,J,ge+1),new $a(z,this.wrap,z,J+1,ge+1)]},$a.prototype.isLessThan=function(C){return this.wrap<C.wrap||!(this.wrap>C.wrap)&&(this.overscaledZ<C.overscaledZ||!(this.overscaledZ>C.overscaledZ)&&(this.canonical.x<C.canonical.x||!(this.canonical.x>C.canonical.x)&&this.canonical.y<C.canonical.y))},$a.prototype.wrapped=function(){return new $a(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},$a.prototype.unwrapTo=function(C){return new $a(this.overscaledZ,C,this.canonical.z,this.canonical.x,this.canonical.y)},$a.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},$a.prototype.toUnwrapped=function(){return new Eg(this.wrap,this.canonical)},$a.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},$a.prototype.getTilePoint=function(C){return this.canonical.getTilePoint(new vf(C.x-this.wrap,C.y))},ni("CanonicalTileID",yf),ni("OverscaledTileID",$a,{omit:["posMatrix"]});var _f=function(C,z,J){if(this.uid=C,z.height!==z.width)throw new RangeError("DEM tiles must be square");if(J&&"mapbox"!==J&&"terrarium"!==J)return O('"'+J+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=z.height;var ge=this.dim=z.height-2;this.data=new Uint32Array(z.data.buffer),this.encoding=J||"mapbox";for(var Re=0;Re<ge;Re++)this.data[this._idx(-1,Re)]=this.data[this._idx(0,Re)],this.data[this._idx(ge,Re)]=this.data[this._idx(ge-1,Re)],this.data[this._idx(Re,-1)]=this.data[this._idx(Re,0)],this.data[this._idx(Re,ge)]=this.data[this._idx(Re,ge-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ge,-1)]=this.data[this._idx(ge-1,0)],this.data[this._idx(-1,ge)]=this.data[this._idx(0,ge-1)],this.data[this._idx(ge,ge)]=this.data[this._idx(ge-1,ge-1)]};_f.prototype.get=function(C,z){var J=new Uint8Array(this.data.buffer),ge=4*this._idx(C,z);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(J[ge],J[ge+1],J[ge+2])},_f.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},_f.prototype._idx=function(C,z){if(C<-1||C>=this.dim+1||z<-1||z>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(z+1)*this.stride+(C+1)},_f.prototype._unpackMapbox=function(C,z,J){return(256*C*256+256*z+J)/10-1e4},_f.prototype._unpackTerrarium=function(C,z,J){return 256*C+z+J/256-32768},_f.prototype.getPixels=function(){return new Qa({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},_f.prototype.backfillBorder=function(C,z,J){if(this.dim!==C.dim)throw new Error("dem dimension mismatch");var ge=z*this.dim,Re=z*this.dim+this.dim,je=J*this.dim,Ye=J*this.dim+this.dim;switch(z){case-1:ge=Re-1;break;case 1:Re=ge+1}switch(J){case-1:je=Ye-1;break;case 1:Ye=je+1}for(var st=-z*this.dim,vt=-J*this.dim,Ct=je;Ct<Ye;Ct++)for(var It=ge;It<Re;It++)this.data[this._idx(It,Ct)]=C.data[this._idx(It+st,Ct+vt)]},ni("DEMData",_f);var Od=function(C){this._stringToNumber={},this._numberToString=[];for(var z=0;z<C.length;z++){var J=C[z];this._stringToNumber[J]=z,this._numberToString[z]=J}};Od.prototype.encode=function(C){return this._stringToNumber[C]},Od.prototype.decode=function(C){return this._numberToString[C]};var Id=function(C,z,J,ge,Re){this.type="Feature",this._vectorTileFeature=C,C._z=z,C._x=J,C._y=ge,this.properties=C.properties,this.id=Re},F1={geometry:{configurable:!0}};F1.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},F1.geometry.set=function(C){this._geometry=C},Id.prototype.toJSON=function(){var C={geometry:this.geometry};for(var z in this)"_geometry"!==z&&"_vectorTileFeature"!==z&&(C[z]=this[z]);return C},Object.defineProperties(Id.prototype,F1);var Ah=function(){this.state={},this.stateChanges={},this.deletedStates={}};Ah.prototype.updateState=function(C,z,J){var ge=String(z);if(this.stateChanges[C]=this.stateChanges[C]||{},this.stateChanges[C][ge]=this.stateChanges[C][ge]||{},d(this.stateChanges[C][ge],J),null===this.deletedStates[C])for(var Re in this.deletedStates[C]={},this.state[C])Re!==ge&&(this.deletedStates[C][Re]=null);else if(this.deletedStates[C]&&null===this.deletedStates[C][ge])for(var je in this.deletedStates[C][ge]={},this.state[C][ge])J[je]||(this.deletedStates[C][ge][je]=null);else for(var Ye in J)this.deletedStates[C]&&this.deletedStates[C][ge]&&null===this.deletedStates[C][ge][Ye]&&delete this.deletedStates[C][ge][Ye]},Ah.prototype.removeFeatureState=function(C,z,J){if(null!==this.deletedStates[C]){var ge=String(z);if(this.deletedStates[C]=this.deletedStates[C]||{},J&&void 0!==z)null!==this.deletedStates[C][ge]&&(this.deletedStates[C][ge]=this.deletedStates[C][ge]||{},this.deletedStates[C][ge][J]=null);else if(void 0!==z)if(this.stateChanges[C]&&this.stateChanges[C][ge])for(J in this.deletedStates[C][ge]={},this.stateChanges[C][ge])this.deletedStates[C][ge][J]=null;else this.deletedStates[C][ge]=null;else this.deletedStates[C]=null}},Ah.prototype.getState=function(C,z){var J=String(z),je=d({},(this.state[C]||{})[J],(this.stateChanges[C]||{})[J]);if(null===this.deletedStates[C])return{};if(this.deletedStates[C]){var Ye=this.deletedStates[C][z];if(null===Ye)return{};for(var st in Ye)delete je[st]}return je},Ah.prototype.initializeTileState=function(C,z){C.setFeatureState(this.state,z)},Ah.prototype.coalesceChanges=function(C,z){var J={};for(var ge in this.stateChanges){this.state[ge]=this.state[ge]||{};var Re={};for(var je in this.stateChanges[ge])this.state[ge][je]||(this.state[ge][je]={}),d(this.state[ge][je],this.stateChanges[ge][je]),Re[je]=this.state[ge][je];J[ge]=Re}for(var Ye in this.deletedStates){this.state[Ye]=this.state[Ye]||{};var st={};if(null===this.deletedStates[Ye])for(var vt in this.state[Ye])st[vt]={},this.state[Ye][vt]={};else for(var Ct in this.deletedStates[Ye]){if(null===this.deletedStates[Ye][Ct])this.state[Ye][Ct]={};else for(var It=0,Gt=Object.keys(this.deletedStates[Ye][Ct]);It<Gt.length;It+=1)delete this.state[Ye][Ct][Gt[It]];st[Ct]=this.state[Ye][Ct]}J[Ye]=J[Ye]||{},d(J[Ye],st)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(J).length)for(var Zt in C)C[Zt].setFeatureState(J,z)};var wc=function(C,z){this.tileID=C,this.x=C.canonical.x,this.y=C.canonical.y,this.z=C.canonical.z,this.grid=new ya(Gi,16,0),this.grid3D=new ya(Gi,16,0),this.featureIndexArray=new rn,this.promoteId=z};function z1(C,z,J,ge,Re){return x(C,function(je,Ye){var st=z instanceof sa?z.get(Ye):null;return st&&st.evaluate?st.evaluate(J,ge,Re):st})}function B1(C){for(var z=1/0,J=1/0,ge=-1/0,Re=-1/0,je=0,Ye=C;je<Ye.length;je+=1){var st=Ye[je];z=Math.min(z,st.x),J=Math.min(J,st.y),ge=Math.max(ge,st.x),Re=Math.max(Re,st.y)}return{minX:z,minY:J,maxX:ge,maxY:Re}}function A_(C,z){return z-C}wc.prototype.insert=function(C,z,J,ge,Re,je){var Ye=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(J,ge,Re);for(var st=je?this.grid3D:this.grid,vt=0;vt<z.length;vt++){for(var Ct=z[vt],It=[1/0,1/0,-1/0,-1/0],Gt=0;Gt<Ct.length;Gt++){var Kt=Ct[Gt];It[0]=Math.min(It[0],Kt.x),It[1]=Math.min(It[1],Kt.y),It[2]=Math.max(It[2],Kt.x),It[3]=Math.max(It[3],Kt.y)}It[0]<Gi&&It[1]<Gi&&It[2]>=0&&It[3]>=0&&st.insert(Ye,It[0],It[1],It[2],It[3])}},wc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new yd.VectorTile(new Ap(this.rawTileData)).layers,this.sourceLayerCoder=new Od(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},wc.prototype.query=function(C,z,J,ge){var Re=this;this.loadVTLayers();for(var je=C.params||{},Ye=Gi/C.tileSize/C.scale,st=Au(je.filter),vt=C.queryGeometry,Ct=C.queryPadding*Ye,It=B1(vt),Gt=this.grid.query(It.minX-Ct,It.minY-Ct,It.maxX+Ct,It.maxY+Ct),Kt=B1(C.cameraQueryGeometry),Zt=0,mn=this.grid3D.query(Kt.minX-Ct,Kt.minY-Ct,Kt.maxX+Ct,Kt.maxY+Ct,function(ar,hr,br,Vr){return function(Er,Zr,ri,bi,oi){for(var xi=0,fi=Er;xi<fi.length;xi+=1){var ei=fi[xi];if(Zr<=ei.x&&ri<=ei.y&&bi>=ei.x&&oi>=ei.y)return!0}var Wi=[new i(Zr,ri),new i(Zr,oi),new i(bi,oi),new i(bi,ri)];if(Er.length>2)for(var Ai=0,xo=Wi;Ai<xo.length;Ai+=1)if(Fc(Er,xo[Ai]))return!0;for(var yi=0;yi<Er.length-1;yi++)if(ud(Er[yi],Er[yi+1],Wi))return!0;return!1}(C.cameraQueryGeometry,ar-Ct,hr-Ct,br+Ct,Vr+Ct)});Zt<mn.length;Zt+=1)Gt.push(mn[Zt]);Gt.sort(A_);for(var zn,jn={},Xn=function(ar){var hr=Gt[ar];if(hr!==zn){zn=hr;var br=Re.featureIndexArray.get(hr),Vr=null;Re.loadMatchingFeature(jn,br.bucketIndex,br.sourceLayerIndex,br.featureIndex,st,je.layers,je.availableImages,z,J,ge,function(Er,Zr,ri){return Vr||(Vr=el(Er)),Zr.queryIntersectsFeature(vt,Er,ri,Vr,Re.z,C.transform,Ye,C.pixelPosMatrix)})}},Jn=0;Jn<Gt.length;Jn++)Xn(Jn);return jn},wc.prototype.loadMatchingFeature=function(C,z,J,ge,Re,je,Ye,st,vt,Ct,It){var Gt=this.bucketLayerIDs[z];if(!je||function(Vr,Er){for(var Zr=0;Zr<Vr.length;Zr++)if(Er.indexOf(Vr[Zr])>=0)return!0;return!1}(je,Gt)){var Kt=this.sourceLayerCoder.decode(J),Zt=this.vtLayers[Kt].feature(ge);if(Re.filter(new eo(this.tileID.overscaledZ),Zt))for(var mn=this.getId(Zt,Kt),_n=0;_n<Gt.length;_n++){var zn=Gt[_n];if(!(je&&je.indexOf(zn)<0)){var jn=st[zn];if(jn){var Xn={};void 0!==mn&&Ct&&(Xn=Ct.getState(jn.sourceLayer||"_geojsonTileLayer",mn));var Jn=vt[zn];Jn.paint=z1(Jn.paint,jn.paint,Zt,Xn,Ye),Jn.layout=z1(Jn.layout,jn.layout,Zt,Xn,Ye);var ar=!It||It(Zt,jn,Xn);if(ar){var hr=new Id(Zt,this.z,this.x,this.y,mn);hr.layer=Jn;var br=C[zn];void 0===br&&(br=C[zn]=[]),br.push({featureIndex:ge,feature:hr,intersectionZ:ar})}}}}}},wc.prototype.lookupSymbolFeatures=function(C,z,J,ge,Re,je,Ye,st){var vt={};this.loadVTLayers();for(var Ct=Au(Re),It=0,Gt=C;It<Gt.length;It+=1)this.loadMatchingFeature(vt,J,ge,Gt[It],Ct,je,Ye,st,z);return vt},wc.prototype.hasLayer=function(C){for(var z=0,J=this.bucketLayerIDs;z<J.length;z+=1)for(var ge=0,Re=J[z];ge<Re.length;ge+=1)if(C===Re[ge])return!0;return!1},wc.prototype.getId=function(C,z){var J=C.id;return this.promoteId&&"boolean"==typeof(J=C.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[z]])&&(J=Number(J)),J},ni("FeatureIndex",wc,{omit:["rawTileData","sourceLayerCoder"]});var ts=function(C,z){this.tileID=C,this.uid=h(),this.uses=0,this.tileSize=z,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ts.prototype.registerFadeDuration=function(C){var z=C+this.timeAdded;z<te.now()||this.fadeEndTime&&z<this.fadeEndTime||(this.fadeEndTime=z)},ts.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ts.prototype.loadVectorData=function(C,z,J){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",C){for(var ge in C.featureIndex&&(this.latestFeatureIndex=C.featureIndex,C.rawTileData?(this.latestRawTileData=C.rawTileData,this.latestFeatureIndex.rawTileData=C.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=C.collisionBoxArray,this.buckets=function(Ct,It){var Gt={};if(!It)return Gt;for(var Kt=function(){var _n=mn[Zt],zn=_n.layerIds.map(function(ar){return It.getLayer(ar)}).filter(Boolean);if(0!==zn.length){_n.layers=zn,_n.stateDependentLayerIds&&(_n.stateDependentLayers=_n.stateDependentLayerIds.map(function(ar){return zn.filter(function(hr){return hr.id===ar})[0]}));for(var jn=0,Xn=zn;jn<Xn.length;jn+=1)Gt[Xn[jn].id]=_n}},Zt=0,mn=Ct;Zt<mn.length;Zt+=1)Kt();return Gt}(C.buckets,z.style),this.hasSymbolBuckets=!1,this.buckets){var Re=this.buckets[ge];if(Re instanceof To){if(this.hasSymbolBuckets=!0,!J)break;Re.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var je in this.buckets){var Ye=this.buckets[je];if(Ye instanceof To&&Ye.hasRTLText){this.hasRTLText=!0,Uo.isLoading()||Uo.isLoaded()||"deferred"!==Ts()||Ja();break}}for(var st in this.queryPadding=0,this.buckets){var vt=this.buckets[st];this.queryPadding=Math.max(this.queryPadding,z.style.getLayer(st).queryRadius(vt))}C.imageAtlas&&(this.imageAtlas=C.imageAtlas),C.glyphAtlasImage&&(this.glyphAtlasImage=C.glyphAtlasImage)}else this.collisionBoxArray=new Mt},ts.prototype.unloadVectorData=function(){for(var C in this.buckets)this.buckets[C].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ts.prototype.getBucket=function(C){return this.buckets[C.id]},ts.prototype.upload=function(C){for(var z in this.buckets){var J=this.buckets[z];J.uploadPending()&&J.upload(C)}var ge=C.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Dd(C,this.imageAtlas.image,ge.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Dd(C,this.glyphAtlasImage,ge.ALPHA),this.glyphAtlasImage=null)},ts.prototype.prepare=function(C){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(C,this.imageAtlasTexture)},ts.prototype.queryRenderedFeatures=function(C,z,J,ge,Re,je,Ye,st,vt,Ct){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:ge,cameraQueryGeometry:Re,scale:je,tileSize:this.tileSize,pixelPosMatrix:Ct,transform:st,params:Ye,queryPadding:this.queryPadding*vt},C,z,J):{}},ts.prototype.querySourceFeatures=function(C,z){var J=this.latestFeatureIndex;if(J&&J.rawTileData){var ge=J.loadVTLayers(),Re=z?z.sourceLayer:"",je=ge._geojsonTileLayer||ge[Re];if(je)for(var Ye=Au(z&&z.filter),st=this.tileID.canonical,vt=st.z,Ct=st.x,It=st.y,Gt={z:vt,x:Ct,y:It},Kt=0;Kt<je.length;Kt++){var Zt=je.feature(Kt);if(Ye.filter(new eo(this.tileID.overscaledZ),Zt)){var mn=J.getId(Zt,Re),_n=new Id(Zt,vt,Ct,It,mn);_n.tile=Gt,C.push(_n)}}}},ts.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ts.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ts.prototype.setExpiryData=function(C){var z=this.expirationTime;if(C.cacheControl){var J=R(C.cacheControl);J["max-age"]&&(this.expirationTime=Date.now()+1e3*J["max-age"])}else C.expires&&(this.expirationTime=new Date(C.expires).getTime());if(this.expirationTime){var ge=Date.now(),Re=!1;if(this.expirationTime>ge)Re=!1;else if(z)if(this.expirationTime<z)Re=!0;else{var je=this.expirationTime-z;je?this.expirationTime=ge+Math.max(je,3e4):Re=!0}else Re=!0;Re?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ts.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ts.prototype.setFeatureState=function(C,z){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(C).length){var J=this.latestFeatureIndex.loadVTLayers();for(var ge in this.buckets)if(z.style.hasLayer(ge)){var Re=this.buckets[ge],je=Re.layers[0].sourceLayer||"_geojsonTileLayer",Ye=J[je],st=C[je];if(Ye&&st&&0!==Object.keys(st).length){Re.update(st,Ye,this.imageAtlas&&this.imageAtlas.patternPositions||{});var vt=z&&z.style&&z.style.getLayer(ge);vt&&(this.queryPadding=Math.max(this.queryPadding,vt.queryRadius(Re)))}}}},ts.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ts.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<te.now()},ts.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ts.prototype.setHoldDuration=function(C){this.symbolFadeHoldUntil=te.now()+C},ts.prototype.setDependencies=function(C,z){for(var J={},ge=0,Re=z;ge<Re.length;ge+=1)J[Re[ge]]=!0;this.dependencies[C]=J},ts.prototype.hasDependency=function(C,z){for(var J=0,ge=C;J<ge.length;J+=1){var je=this.dependencies[ge[J]];if(je)for(var Ye=0,st=z;Ye<st.length;Ye+=1)if(je[st[Ye]])return!0}return!1};var Wc=self.performance,kh=function(C){this._marks={start:[C.url,"start"].join("#"),end:[C.url,"end"].join("#"),measure:C.url.toString()},Wc.mark(this._marks.start)};kh.prototype.finish=function(){Wc.mark(this._marks.end);var C=Wc.getEntriesByName(this._marks.measure);return 0===C.length&&(Wc.measure(this._marks.measure,this._marks.start,this._marks.end),C=Wc.getEntriesByName(this._marks.measure),Wc.clearMarks(this._marks.start),Wc.clearMarks(this._marks.end),Wc.clearMeasures(this._marks.measure)),C},f.Actor=Mh,f.AlphaImage=Bc,f.CanonicalTileID=yf,f.CollisionBoxArray=Mt,f.Color=Cn,f.DEMData=_f,f.DataConstantProperty=Sr,f.DictionaryCoder=Od,f.EXTENT=Gi,f.ErrorEvent=gt,f.EvaluationParameters=eo,f.Event=it,f.Evented=ft,f.FeatureIndex=wc,f.FillBucket=Wl,f.FillExtrusionBucket=nc,f.ImageAtlas=Uc,f.ImagePosition=Td,f.LineBucket=Ns,f.LngLat=Wo,f.LngLatBounds=qa,f.MercatorCoordinate=vf,f.ONE_EM=es,f.OverscaledTileID=$a,f.Point=i,f.Point$1=i,f.Properties=ba,f.Protobuf=Ap,f.RGBAImage=Qa,f.RequestManager=de,f.RequestPerformance=kh,f.ResourceType=St,f.SegmentVector=On,f.SourceFeatureState=Ah,f.StructArrayLayout1ui2=Qe,f.StructArrayLayout2f1f2i16=Pe,f.StructArrayLayout2i4=go,f.StructArrayLayout3ui6=ie,f.StructArrayLayout4i8=uu,f.SymbolBucket=To,f.Texture=Dd,f.Tile=ts,f.Transitionable=Js,f.Uniform1f=vi,f.Uniform1i=ai,f.Uniform2f=Bi,f.Uniform3f=ao,f.Uniform4f=_o,f.UniformColor=Po,f.UniformMatrix4f=Ho,f.UnwrappedTileID=Eg,f.ValidationError=qe,f.WritingMode=du,f.ZoomHistory=ou,f.add=function(C,z,J){return C[0]=z[0]+J[0],C[1]=z[1]+J[1],C[2]=z[2]+J[2],C},f.addDynamicAttributes=kg,f.asyncAll=function(C,z,J){if(!C.length)return J(null,[]);var ge=C.length,Re=new Array(C.length),je=null;C.forEach(function(Ye,st){z(Ye,function(vt,Ct){vt&&(je=vt),Re[st]=Ct,0==--ge&&J(je,Re)})})},f.bezier=a,f.bindAll=g,f.browser=te,f.cacheEntryPossiblyAdded=function(C){++mt>Ee&&(C.getActor().send("enforceCacheSizeLimit",Ie),mt=0)},f.clamp=l,f.clearTileCache=function(C){var z=self.caches.delete(ye);C&&z.catch(C).then(function(){return C()})},f.clipLine=xh,f.clone=function(C){var z=new cu(16);return z[0]=C[0],z[1]=C[1],z[2]=C[2],z[3]=C[3],z[4]=C[4],z[5]=C[5],z[6]=C[6],z[7]=C[7],z[8]=C[8],z[9]=C[9],z[10]=C[10],z[11]=C[11],z[12]=C[12],z[13]=C[13],z[14]=C[14],z[15]=C[15],z},f.clone$1=A,f.clone$2=function(C){var z=new cu(3);return z[0]=C[0],z[1]=C[1],z[2]=C[2],z},f.collisionCircleLayout=rg,f.config=re,f.create=function(){var C=new cu(16);return cu!=Float32Array&&(C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[11]=0,C[12]=0,C[13]=0,C[14]=0),C[0]=1,C[5]=1,C[10]=1,C[15]=1,C},f.create$1=function(){var C=new cu(9);return cu!=Float32Array&&(C[1]=0,C[2]=0,C[3]=0,C[5]=0,C[6]=0,C[7]=0),C[0]=1,C[4]=1,C[8]=1,C},f.create$2=function(){var C=new cu(4);return cu!=Float32Array&&(C[1]=0,C[2]=0),C[0]=1,C[3]=1,C},f.createCommonjsModule=S,f.createExpression=_s,f.createLayout=_i,f.createStyleLayer=function(C){return"custom"===C.type?new w_(C):new T_[C.type](C)},f.cross=function(C,z,J){var ge=z[0],Re=z[1],je=z[2],Ye=J[0],st=J[1],vt=J[2];return C[0]=Re*vt-je*st,C[1]=je*Ye-ge*vt,C[2]=ge*st-Re*Ye,C},f.deepEqual=function C(z,J){if(Array.isArray(z)){if(!Array.isArray(J)||z.length!==J.length)return!1;for(var ge=0;ge<z.length;ge++)if(!C(z[ge],J[ge]))return!1;return!0}if("object"==typeof z&&null!==z&&null!==J){if("object"!=typeof J||Object.keys(z).length!==Object.keys(J).length)return!1;for(var Re in z)if(!C(z[Re],J[Re]))return!1;return!0}return z===J},f.dot=function(C,z){return C[0]*z[0]+C[1]*z[1]+C[2]*z[2]},f.dot$1=function(C,z){return C[0]*z[0]+C[1]*z[1]+C[2]*z[2]+C[3]*z[3]},f.ease=o,f.emitValidationErrors=Al,f.endsWith=w,f.enforceCacheSizeLimit=function(C){We(),pe&&pe.then(function(z){z.keys().then(function(J){for(var ge=0;ge<J.length-C;ge++)z.delete(J[ge])})})},f.evaluateSizeForFeature=Cp,f.evaluateSizeForZoom=T1,f.evaluateVariableOffset=bg,f.evented=aa,f.extend=d,f.featureFilter=Au,f.filterObject=b,f.fromRotation=function(C,z){var J=Math.sin(z),ge=Math.cos(z);return C[0]=ge,C[1]=J,C[2]=0,C[3]=-J,C[4]=ge,C[5]=0,C[6]=0,C[7]=0,C[8]=1,C},f.getAnchorAlignment=dg,f.getAnchorJustification=wg,f.getArrayBuffer=Pt,f.getImage=tt,f.getJSON=function(C,z){return pt(d(C,{type:"json"}),z)},f.getRTLTextPluginStatus=Ts,f.getReferrer=Et,f.getVideo=function(C,z){var J,ge,Re=self.document.createElement("video");Re.muted=!0,Re.onloadstart=function(){z(null,Re)};for(var je=0;je<C.length;je++){var Ye=self.document.createElement("source");J=C[je],ge=void 0,(ge=self.document.createElement("a")).href=J,ge.protocol===self.document.location.protocol&&ge.host===self.document.location.host||(Re.crossOrigin="Anonymous"),Ye.src=C[je],Re.appendChild(Ye)}return{cancel:function(){}}},f.identity=mp,f.invert=function(C,z){var J=z[0],ge=z[1],Re=z[2],je=z[3],Ye=z[4],st=z[5],vt=z[6],Ct=z[7],It=z[8],Gt=z[9],Kt=z[10],Zt=z[11],mn=z[12],_n=z[13],zn=z[14],jn=z[15],Xn=J*st-ge*Ye,Jn=J*vt-Re*Ye,ar=J*Ct-je*Ye,hr=ge*vt-Re*st,br=ge*Ct-je*st,Vr=Re*Ct-je*vt,Er=It*_n-Gt*mn,Zr=It*zn-Kt*mn,ri=It*jn-Zt*mn,bi=Gt*zn-Kt*_n,oi=Gt*jn-Zt*_n,xi=Kt*jn-Zt*zn,fi=Xn*xi-Jn*oi+ar*bi+hr*ri-br*Zr+Vr*Er;return fi?(C[0]=(st*xi-vt*oi+Ct*bi)*(fi=1/fi),C[1]=(Re*oi-ge*xi-je*bi)*fi,C[2]=(_n*Vr-zn*br+jn*hr)*fi,C[3]=(Kt*br-Gt*Vr-Zt*hr)*fi,C[4]=(vt*ri-Ye*xi-Ct*Zr)*fi,C[5]=(J*xi-Re*ri+je*Zr)*fi,C[6]=(zn*ar-mn*Vr-jn*Jn)*fi,C[7]=(It*Vr-Kt*ar+Zt*Jn)*fi,C[8]=(Ye*oi-st*ri+Ct*Er)*fi,C[9]=(ge*ri-J*oi-je*Er)*fi,C[10]=(mn*br-_n*ar+jn*Xn)*fi,C[11]=(Gt*ar-It*br-Zt*Xn)*fi,C[12]=(st*Zr-Ye*bi-vt*Er)*fi,C[13]=(J*bi-ge*Zr+Re*Er)*fi,C[14]=(_n*Jn-mn*hr-zn*Xn)*fi,C[15]=(It*hr-Gt*Jn+Kt*Xn)*fi,C):null},f.isChar=Yr,f.isMapboxURL=he,f.keysDifference=function(C,z){var J=[];for(var ge in C)ge in z||J.push(ge);return J},f.makeRequest=pt,f.mapObject=x,f.mercatorXfromLng=N1,f.mercatorYfromLat=Pp,f.mercatorZfromAltitude=bc,f.mul=fd,f.multiply=G0,f.mvt=yd,f.normalize=function(C,z){var J=z[0],ge=z[1],Re=z[2],je=J*J+ge*ge+Re*Re;return je>0&&(je=1/Math.sqrt(je)),C[0]=z[0]*je,C[1]=z[1]*je,C[2]=z[2]*je,C},f.number=pr,f.offscreenCanvasSupported=ct,f.ortho=function(C,z,J,ge,Re,je,Ye){var st=1/(z-J),vt=1/(ge-Re),Ct=1/(je-Ye);return C[0]=-2*st,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=-2*vt,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=2*Ct,C[11]=0,C[12]=(z+J)*st,C[13]=(Re+ge)*vt,C[14]=(Ye+je)*Ct,C[15]=1,C},f.parseGlyphPBF=function(C){return new Ap(C).readFields(g1,[])},f.pbf=Ap,f.performSymbolLayout=function(C,z,J,ge,Re,je,Ye){C.createArrays(),C.tilePixelRatio=Gi/(512*C.overscaling),C.compareText={},C.iconsNeedLinear=!1;var vt=C.layers[0].layout,Ct=C.layers[0]._unevaluatedLayout._values,It={};if("composite"===C.textSizeData.kind){var Gt=C.textSizeData,Zt=Gt.maxZoom;It.compositeTextSizes=[Ct["text-size"].possiblyEvaluate(new eo(Gt.minZoom),Ye),Ct["text-size"].possiblyEvaluate(new eo(Zt),Ye)]}if("composite"===C.iconSizeData.kind){var mn=C.iconSizeData,zn=mn.maxZoom;It.compositeIconSizes=[Ct["icon-size"].possiblyEvaluate(new eo(mn.minZoom),Ye),Ct["icon-size"].possiblyEvaluate(new eo(zn),Ye)]}It.layoutTextSize=Ct["text-size"].possiblyEvaluate(new eo(C.zoom+1),Ye),It.layoutIconSize=Ct["icon-size"].possiblyEvaluate(new eo(C.zoom+1),Ye),It.textMaxSize=Ct["text-size"].possiblyEvaluate(new eo(18));for(var jn=vt.get("text-line-height")*es,Xn="map"===vt.get("text-rotation-alignment")&&"point"!==vt.get("symbol-placement"),Jn=vt.get("text-keep-upright"),ar=vt.get("text-size"),hr=function(){var Er=Vr[br],Zr=vt.get("text-font").evaluate(Er,{},Ye).join(","),ri=ar.evaluate(Er,{},Ye),bi=It.layoutTextSize.evaluate(Er,{},Ye),oi=It.layoutIconSize.evaluate(Er,{},Ye),xi={horizontal:{},vertical:void 0},fi=Er.text,ei=[0,0];if(fi){var Wi=fi.toString(),Ai=vt.get("text-letter-spacing").evaluate(Er,{},Ye)*es,xo=function(Di){for(var no=0,ca=Di;no<ca.length;no+=1)if(lo=ca[no].charCodeAt(0),Yr.Arabic(lo)||Yr["Arabic Supplement"](lo)||Yr["Arabic Extended-A"](lo)||Yr["Arabic Presentation Forms-A"](lo)||Yr["Arabic Presentation Forms-B"](lo))return!1;var lo;return!0}(Wi)?Ai:0,yi=vt.get("text-anchor").evaluate(Er,{},Ye),vo=vt.get("text-variable-anchor");if(!vo){var Mo=vt.get("text-radial-offset").evaluate(Er,{},Ye);ei=Mo?bg(yi,[Mo*es,xg]):vt.get("text-offset").evaluate(Er,{},Ye).map(function(Di){return Di*es})}var qi=Xn?"center":vt.get("text-justify").evaluate(Er,{},Ye),No=vt.get("symbol-placement"),Ao="point"===No?vt.get("text-max-width").evaluate(Er,{},Ye)*es:0,Fa=function(){C.allowVerticalPlacement&&kl(Wi)&&(xi.vertical=_h(fi,z,J,Re,Zr,Ao,jn,yi,"left",xo,ei,du.vertical,!0,No,bi,ri))};if(!Xn&&vo){for(var Ko="auto"===qi?vo.map(function(Di){return wg(Di)}):[qi],Za=!1,Aa=0;Aa<Ko.length;Aa++){var cs=Ko[Aa];if(!xi.horizontal[cs])if(Za)xi.horizontal[cs]=xi.horizontal[0];else{var il=_h(fi,z,J,Re,Zr,Ao,jn,"center",cs,xo,ei,du.horizontal,!1,No,bi,ri);il&&(xi.horizontal[cs]=il,Za=1===il.positionedLines.length)}}Fa()}else{"auto"===qi&&(qi=wg(yi));var fs=_h(fi,z,J,Re,Zr,Ao,jn,yi,qi,xo,ei,du.horizontal,!1,No,bi,ri);fs&&(xi.horizontal[qi]=fs),Fa(),kl(Wi)&&Xn&&Jn&&(xi.vertical=_h(fi,z,J,Re,Zr,Ao,jn,yi,qi,xo,ei,du.vertical,!1,No,bi,ri))}}var Di,no,lo,As,Fs,ka=void 0,ds=!1;if(Er.icon&&Er.icon.name){var Ya=ge[Er.icon.name];Ya&&(Di=Re[Er.icon.name],no=vt.get("icon-offset").evaluate(Er,{},Ye),lo=dg(vt.get("icon-anchor").evaluate(Er,{},Ye)),ka={image:Di,top:Fs=no[1]-Di.displaySize[1]*lo.verticalAlign,bottom:Fs+Di.displaySize[1],left:As=no[0]-Di.displaySize[0]*lo.horizontalAlign,right:As+Di.displaySize[0]},ds=Ya.sdf,void 0===C.sdfIcons?C.sdfIcons=Ya.sdf:C.sdfIcons!==Ya.sdf&&O("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ya.pixelRatio!==C.pixelRatio||0!==vt.get("icon-rotate").constantOr(1))&&(C.iconsNeedLinear=!0))}var Xa=Mg(xi.horizontal)||xi.vertical;C.iconsInText=!!Xa&&Xa.iconsInText,(Xa||ka)&&function(Di,no,ca,lo,ta,ko,ci,fa,As,Jo,Fs){var rc=ko.textMaxSize.evaluate(no,{});void 0===rc&&(rc=ci);var Du,ns=Di.layers[0].layout,Ou=ns.get("icon-offset").evaluate(no,{},Fs),hu=Mg(ca.horizontal),qc=ci/24,$c=Di.tilePixelRatio*qc,Hf=Di.tilePixelRatio*rc/24,Lp=Di.tilePixelRatio*fa,Sh=Di.tilePixelRatio*ns.get("symbol-spacing"),Cg=ns.get("text-padding")*Di.tilePixelRatio,Np=ns.get("icon-padding")*Di.tilePixelRatio,Pd=ns.get("text-max-angle")/180*Math.PI,Fp="map"===ns.get("text-rotation-alignment")&&"point"!==ns.get("symbol-placement"),Zc="map"===ns.get("icon-rotation-alignment")&&"point"!==ns.get("symbol-placement"),Iu=ns.get("symbol-placement"),Dg=Sh/2,Eh=ns.get("icon-text-fit");lo&&"none"!==Eh&&(Di.allowVerticalPlacement&&ca.vertical&&(Du=w1(lo,ca.vertical,Eh,ns.get("icon-text-fit-padding"),Ou,qc)),hu&&(lo=w1(lo,hu,Eh,ns.get("icon-text-fit-padding"),Ou,qc)));var Rd=function(H1,Fd){Fd.x<0||Fd.x>=Gi||Fd.y<0||Fd.y>=Gi||function(ga,ic,G1,xf,jp,W1,Up,Yc,Rh,zd,ol,Vp,Lh,Hp,Nh,k_,S_,E_,q1,Lg,Pu,Gp,$f,Tc,$1){var Fh,Zf,Yf,Bd,jd,Ud=ga.addToLineVertexArray(ic,G1),Z1=0,Y1=0,Ng=0,X1=0,Wp=-1,qp=-1,oc={},C_=Cr(""),zh=0,Fg=0;if(void 0===Yc._unevaluatedLayout.getValue("text-radial-offset")?(zh=(Fh=Yc.layout.get("text-offset").evaluate(Pu,{},Tc).map(function(Hd){return Hd*es}))[0],Fg=Fh[1]):(zh=Yc.layout.get("text-radial-offset").evaluate(Pu,{},Tc)*es,Fg=xg),ga.allowVerticalPlacement&&xf.vertical){var D_=Yc.layout.get("text-rotate").evaluate(Pu,{},Tc)+90;Bd=new jf(Rh,ic,zd,ol,Vp,xf.vertical,Lh,Hp,Nh,D_),Up&&(jd=new jf(Rh,ic,zd,ol,Vp,Up,S_,E_,Nh,D_))}if(jp){var $p=Yc.layout.get("icon-rotate").evaluate(Pu,{}),K1="none"!==Yc.layout.get("icon-text-fit"),zg=mg(jp,$p,$f,K1),Bg=Up?mg(Up,$p,$f,K1):void 0;Yf=new jf(Rh,ic,zd,ol,Vp,jp,S_,E_,!1,$p),Z1=4*zg.length;var J1=ga.iconSizeData,bf=null;"source"===J1.kind?(bf=[Cu*Yc.layout.get("icon-size").evaluate(Pu,{})])[0]>gf&&O(ga.layerIds[0]+': Value for "icon-size" is >= '+Th+'. Reduce your "icon-size".'):"composite"===J1.kind&&((bf=[Cu*Gp.compositeIconSizes[0].evaluate(Pu,{},Tc),Cu*Gp.compositeIconSizes[1].evaluate(Pu,{},Tc)])[0]>gf||bf[1]>gf)&&O(ga.layerIds[0]+': Value for "icon-size" is >= '+Th+'. Reduce your "icon-size".'),ga.addSymbols(ga.icon,zg,bf,Lg,q1,Pu,!1,ic,Ud.lineStartIndex,Ud.lineLength,-1,Tc),Wp=ga.icon.placedSymbolArray.length-1,Bg&&(Y1=4*Bg.length,ga.addSymbols(ga.icon,Bg,bf,Lg,q1,Pu,du.vertical,ic,Ud.lineStartIndex,Ud.lineLength,-1,Tc),qp=ga.icon.placedSymbolArray.length-1)}for(var Xf in xf.horizontal){var Vd=xf.horizontal[Xf];if(!Zf){C_=Cr(Vd.text);var Bh=Yc.layout.get("text-rotate").evaluate(Pu,{},Tc);Zf=new jf(Rh,ic,zd,ol,Vp,Vd,Lh,Hp,Nh,Bh)}var Zp=1===Vd.positionedLines.length;if(Ng+=Tg(ga,ic,Vd,W1,Yc,Nh,Pu,k_,Ud,xf.vertical?du.horizontal:du.horizontalOnly,Zp?Object.keys(xf.horizontal):[Xf],oc,Wp,Gp,Tc),Zp)break}xf.vertical&&(X1+=Tg(ga,ic,xf.vertical,W1,Yc,Nh,Pu,k_,Ud,du.vertical,["vertical"],oc,qp,Gp,Tc));var Yp=Zf?Zf.boxStartIndex:ga.collisionBoxArray.length,Q1=Zf?Zf.boxEndIndex:ga.collisionBoxArray.length,jg=Bd?Bd.boxStartIndex:ga.collisionBoxArray.length,Ug=Bd?Bd.boxEndIndex:ga.collisionBoxArray.length,Vg=Yf?Yf.boxStartIndex:ga.collisionBoxArray.length,ev=Yf?Yf.boxEndIndex:ga.collisionBoxArray.length,Hg=jd?jd.boxStartIndex:ga.collisionBoxArray.length,O_=jd?jd.boxEndIndex:ga.collisionBoxArray.length,Mc=-1,jh=function(Hd,Gg){return Hd&&Hd.circleDiameter?Math.max(Hd.circleDiameter,Gg):Gg};Mc=jh(Zf,Mc),Mc=jh(Bd,Mc),Mc=jh(Yf,Mc);var tv=(Mc=jh(jd,Mc))>-1?1:0;tv&&(Mc*=$1/es),ga.glyphOffsetArray.length>=To.MAX_GLYPHS&&O("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Pu.sortKey&&ga.addToSortKeyRanges(ga.symbolInstances.length,Pu.sortKey),ga.symbolInstances.emplaceBack(ic.x,ic.y,oc.right>=0?oc.right:-1,oc.center>=0?oc.center:-1,oc.left>=0?oc.left:-1,oc.vertical||-1,Wp,qp,C_,Yp,Q1,jg,Ug,Vg,ev,Hg,O_,zd,Ng,X1,Z1,Y1,tv,0,Lh,zh,Fg,Mc)}(Di,Fd,H1,ca,lo,ta,Du,Di.layers[0],Di.collisionBoxArray,no.index,no.sourceLayerIndex,Di.index,$c,Cg,Fp,As,Lp,Np,Zc,Ou,no,ko,Jo,Fs,ci)};if("line"===Iu)for(var Ch=0,Dh=xh(no.geometry,0,0,Gi,Gi);Ch<Dh.length;Ch+=1)for(var Og=Dh[Ch],Gf=0,Oh=__(Og,Sh,Pd,ca.vertical||hu,lo,24,Hf,Di.overscaling,Gi);Gf<Oh.length;Gf+=1){var zp=Oh[Gf];hu&&Dp(Di,hu.text,Dg,zp)||Rd(Og,zp)}else if("line-center"===Iu)for(var Ld=0,Ih=no.geometry;Ld<Ih.length;Ld+=1){var Wf=Ih[Ld];if(Wf.length>1){var $l=M1(Wf,Pd,ca.vertical||hu,lo,24,Hf);$l&&Rd(Wf,$l)}}else if("Polygon"===no.type)for(var qf=0,Nd=pd(no.geometry,0);qf<Nd.length;qf+=1){var Ph=Nd[qf],j1=yg(Ph,16);Rd(Ph[0],new Bf(j1.x,j1.y,0))}else if("LineString"===no.type)for(var Ig=0,U1=no.geometry;Ig<U1.length;Ig+=1){var Bp=U1[Ig];Rd(Bp,new Bf(Bp[0].x,Bp[0].y,0))}else if("Point"===no.type)for(var Pg=0,V1=no.geometry;Pg<V1.length;Pg+=1)for(var Rg=0,Ni=V1[Pg];Rg<Ni.length;Rg+=1){var Or=Ni[Rg];Rd([Or],new Bf(Or.x,Or.y,0))}}(C,Er,xi,ka,ge,It,bi,oi,ei,ds,Ye)},br=0,Vr=C.features;br<Vr.length;br+=1)hr();je&&C.generateCollisionDebugBuffers()},f.perspective=function(C,z,J,ge,Re){var je,Ye=1/Math.tan(z/2);return C[0]=Ye/J,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=Ye,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[11]=-1,C[12]=0,C[13]=0,C[15]=0,null!=Re&&Re!==1/0?(C[10]=(Re+ge)*(je=1/(ge-Re)),C[14]=2*Re*ge*je):(C[10]=-1,C[14]=-2*ge),C},f.pick=function(C,z){for(var J={},ge=0;ge<z.length;ge++){var Re=z[ge];Re in C&&(J[Re]=C[Re])}return J},f.plugin=Uo,f.polygonIntersectsPolygon=tl,f.postMapLoadEvent=Ge,f.postTurnstileEvent=De,f.potpack=y1,f.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],f.register=ni,f.registerForPluginStateChange=function(C){return C({pluginStatus:ho,pluginURL:oo}),aa.on("pluginStateChange",C),C},f.rotate=function(C,z,J){var ge=z[0],Re=z[1],je=z[2],Ye=z[3],st=Math.sin(J),vt=Math.cos(J);return C[0]=ge*vt+je*st,C[1]=Re*vt+Ye*st,C[2]=ge*-st+je*vt,C[3]=Re*-st+Ye*vt,C},f.rotateX=function(C,z,J){var ge=Math.sin(J),Re=Math.cos(J),je=z[4],Ye=z[5],st=z[6],vt=z[7],Ct=z[8],It=z[9],Gt=z[10],Kt=z[11];return z!==C&&(C[0]=z[0],C[1]=z[1],C[2]=z[2],C[3]=z[3],C[12]=z[12],C[13]=z[13],C[14]=z[14],C[15]=z[15]),C[4]=je*Re+Ct*ge,C[5]=Ye*Re+It*ge,C[6]=st*Re+Gt*ge,C[7]=vt*Re+Kt*ge,C[8]=Ct*Re-je*ge,C[9]=It*Re-Ye*ge,C[10]=Gt*Re-st*ge,C[11]=Kt*Re-vt*ge,C},f.rotateZ=function(C,z,J){var ge=Math.sin(J),Re=Math.cos(J),je=z[0],Ye=z[1],st=z[2],vt=z[3],Ct=z[4],It=z[5],Gt=z[6],Kt=z[7];return z!==C&&(C[8]=z[8],C[9]=z[9],C[10]=z[10],C[11]=z[11],C[12]=z[12],C[13]=z[13],C[14]=z[14],C[15]=z[15]),C[0]=je*Re+Ct*ge,C[1]=Ye*Re+It*ge,C[2]=st*Re+Gt*ge,C[3]=vt*Re+Kt*ge,C[4]=Ct*Re-je*ge,C[5]=It*Re-Ye*ge,C[6]=Gt*Re-st*ge,C[7]=Kt*Re-vt*ge,C},f.scale=function(C,z,J){var ge=J[0],Re=J[1],je=J[2];return C[0]=z[0]*ge,C[1]=z[1]*ge,C[2]=z[2]*ge,C[3]=z[3]*ge,C[4]=z[4]*Re,C[5]=z[5]*Re,C[6]=z[6]*Re,C[7]=z[7]*Re,C[8]=z[8]*je,C[9]=z[9]*je,C[10]=z[10]*je,C[11]=z[11]*je,C[12]=z[12],C[13]=z[13],C[14]=z[14],C[15]=z[15],C},f.scale$1=function(C,z,J){return C[0]=z[0]*J,C[1]=z[1]*J,C[2]=z[2]*J,C[3]=z[3]*J,C},f.scale$2=function(C,z,J){return C[0]=z[0]*J,C[1]=z[1]*J,C[2]=z[2]*J,C},f.setCacheLimits=function(C,z){Ie=C,Ee=z},f.setRTLTextPlugin=function(C,z,J){if(void 0===J&&(J=!1),ho===Ks||ho===Sl||ho===oa)throw new Error("setRTLTextPlugin cannot be called multiple times.");oo=te.resolveURL(C),ho=Ks,Vu=z,po(),J||Ja()},f.sphericalToCartesian=function(C){var z=C[0],J=C[1],ge=C[2];return J+=90,J*=Math.PI/180,ge*=Math.PI/180,{x:z*Math.cos(J)*Math.sin(ge),y:z*Math.sin(J)*Math.sin(ge),z:z*Math.cos(ge)}},f.sqrLen=function(C){var z=C[0],J=C[1];return z*z+J*J},f.styleSpec=Ve,f.sub=function(C,z,J){return C[0]=z[0]-J[0],C[1]=z[1]-J[1],C[2]=z[2]-J[2],C},f.symbolSize=y_,f.transformMat3=function(C,z,J){var ge=z[0],Re=z[1],je=z[2];return C[0]=ge*J[0]+Re*J[3]+je*J[6],C[1]=ge*J[1]+Re*J[4]+je*J[7],C[2]=ge*J[2]+Re*J[5]+je*J[8],C},f.transformMat4=dd,f.translate=function(C,z,J){var ge,Re,je,Ye,st,vt,Ct,It,Gt,Kt,Zt,mn,_n=J[0],zn=J[1],jn=J[2];return z===C?(C[12]=z[0]*_n+z[4]*zn+z[8]*jn+z[12],C[13]=z[1]*_n+z[5]*zn+z[9]*jn+z[13],C[14]=z[2]*_n+z[6]*zn+z[10]*jn+z[14],C[15]=z[3]*_n+z[7]*zn+z[11]*jn+z[15]):(Re=z[1],je=z[2],Ye=z[3],st=z[4],vt=z[5],Ct=z[6],It=z[7],Gt=z[8],Kt=z[9],Zt=z[10],mn=z[11],C[0]=ge=z[0],C[1]=Re,C[2]=je,C[3]=Ye,C[4]=st,C[5]=vt,C[6]=Ct,C[7]=It,C[8]=Gt,C[9]=Kt,C[10]=Zt,C[11]=mn,C[12]=ge*_n+st*zn+Gt*jn+z[12],C[13]=Re*_n+vt*zn+Kt*jn+z[13],C[14]=je*_n+Ct*zn+Zt*jn+z[14],C[15]=Ye*_n+It*zn+mn*jn+z[15]),C},f.triggerPluginCompletionEvent=Hu,f.uniqueId=h,f.validateCustomStyleLayer=function(C){var z=[],J=C.id;return void 0===J&&z.push({message:"layers."+J+': missing required property "id"'}),void 0===C.render&&z.push({message:"layers."+J+': missing required method "render"'}),C.renderingMode&&"2d"!==C.renderingMode&&"3d"!==C.renderingMode&&z.push({message:"layers."+J+': property "renderingMode" must be either "2d" or "3d"'}),z},f.validateLight=ia,f.validateStyle=La,f.values=function(C){var z=[];for(var J in C)z.push(C[J]);return z},f.vectorTile=yd,f.version=M,f.warnOnce=O,f.webpSupported=Q,f.window=self,f.wrap=u}),E(0,function(f){function S(tt){var rt=typeof tt;if("number"===rt||"boolean"===rt||"string"===rt||null==tt)return JSON.stringify(tt);if(Array.isArray(tt)){for(var Ke="[",it=0,gt=tt;it<gt.length;it+=1)Ke+=S(gt[it])+",";return Ke+"]"}for(var ft=Object.keys(tt).sort(),Ve="{",qe=0;qe<ft.length;qe++)Ve+=JSON.stringify(ft[qe])+":"+S(tt[ft[qe]])+",";return Ve+"}"}function M(tt){for(var rt="",Ke=0,it=f.refProperties;Ke<it.length;Ke+=1)rt+="/"+S(tt[it[Ke]]);return rt}var v=function(tt){this.keyCache={},tt&&this.replace(tt)};v.prototype.replace=function(tt){this._layerConfigs={},this._layers={},this.update(tt,[])},v.prototype.update=function(tt,rt){for(var Ke=this,it=0,gt=tt;it<gt.length;it+=1){var ft=gt[it];this._layerConfigs[ft.id]=ft;var Ve=this._layers[ft.id]=f.createStyleLayer(ft);Ve._featureFilter=f.featureFilter(Ve.filter),this.keyCache[ft.id]&&delete this.keyCache[ft.id]}for(var qe=0,dt=rt;qe<dt.length;qe+=1){var ut=dt[qe];delete this.keyCache[ut],delete this._layerConfigs[ut],delete this._layers[ut]}this.familiesBySource={};for(var At=0,wt=function(Wt,qt){for(var Jt={},pn=0;pn<Wt.length;pn++){var en=qt&&qt[Wt[pn].id]||M(Wt[pn]);qt&&(qt[Wt[pn].id]=en);var nn=Jt[en];nn||(nn=Jt[en]=[]),nn.push(Wt[pn])}var dn=[];for(var In in Jt)dn.push(Jt[In]);return dn}(f.values(this._layerConfigs),this.keyCache);At<wt.length;At+=1){var kt=wt[At].map(function(Wt){return Ke._layers[Wt.id]}),_t=kt[0];if("none"!==_t.visibility){var Rt=_t.source||"",bt=this.familiesBySource[Rt];bt||(bt=this.familiesBySource[Rt]={});var Tt=_t.sourceLayer||"_geojsonTileLayer",Ot=bt[Tt];Ot||(Ot=bt[Tt]=[]),Ot.push(kt)}}};var c=function(tt){var rt={},Ke=[];for(var it in tt){var gt=tt[it],ft=rt[it]={};for(var Ve in gt){var qe=gt[+Ve];if(qe&&0!==qe.bitmap.width&&0!==qe.bitmap.height){var dt={x:0,y:0,w:qe.bitmap.width+2,h:qe.bitmap.height+2};Ke.push(dt),ft[Ve]={rect:dt,metrics:qe.metrics}}}}var ut=f.potpack(Ke),kt=new f.AlphaImage({width:ut.w||1,height:ut.h||1});for(var _t in tt){var Rt=tt[_t];for(var bt in Rt){var Tt=Rt[+bt];if(Tt&&0!==Tt.bitmap.width&&0!==Tt.bitmap.height){var Ot=rt[_t][bt].rect;f.AlphaImage.copy(Tt.bitmap,kt,{x:0,y:0},{x:Ot.x+1,y:Ot.y+1},Tt.bitmap)}}}this.image=kt,this.positions=rt};f.register("GlyphAtlas",c);var i=function(tt){this.tileID=new f.OverscaledTileID(tt.tileID.overscaledZ,tt.tileID.wrap,tt.tileID.canonical.z,tt.tileID.canonical.x,tt.tileID.canonical.y),this.uid=tt.uid,this.zoom=tt.zoom,this.pixelRatio=tt.pixelRatio,this.tileSize=tt.tileSize,this.source=tt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=tt.showCollisionBoxes,this.collectResourceTiming=!!tt.collectResourceTiming,this.returnDependencies=!!tt.returnDependencies,this.promoteId=tt.promoteId};function s(tt,rt,Ke){for(var it=new f.EvaluationParameters(rt),gt=0,ft=tt;gt<ft.length;gt+=1)ft[gt].recalculate(it,Ke)}function a(tt,rt){var Ke=f.getArrayBuffer(tt.request,function(it,gt,ft,Ve){it?rt(it):gt&&rt(null,{vectorTile:new f.vectorTile.VectorTile(new f.pbf(gt)),rawData:gt,cacheControl:ft,expires:Ve})});return function(){Ke.cancel(),rt()}}i.prototype.parse=function(tt,rt,Ke,it,gt){var ft=this;this.status="parsing",this.data=tt,this.collisionBoxArray=new f.CollisionBoxArray;var Ve=new f.DictionaryCoder(Object.keys(tt.layers).sort()),qe=new f.FeatureIndex(this.tileID,this.promoteId);qe.bucketLayerIDs=[];var dt,ut,At,wt,kt={},_t={featureIndex:qe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ke},Rt=rt.familiesBySource[this.source];for(var bt in Rt){var Tt=tt.layers[bt];if(Tt){1===Tt.version&&f.warnOnce('Vector tile source "'+this.source+'" layer "'+bt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ot=Ve.encode(bt),Wt=[],qt=0;qt<Tt.length;qt++){var Jt=Tt.feature(qt),pn=qe.getId(Jt,bt);Wt.push({feature:Jt,id:pn,index:qt,sourceLayerIndex:Ot})}for(var en=0,nn=Rt[bt];en<nn.length;en+=1){var dn=nn[en],In=dn[0];In.minzoom&&this.zoom<Math.floor(In.minzoom)||In.maxzoom&&this.zoom>=In.maxzoom||"none"!==In.visibility&&(s(dn,this.zoom,Ke),(kt[In.id]=In.createBucket({index:qe.bucketLayerIDs.length,layers:dn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ot,sourceID:this.source})).populate(Wt,_t,this.tileID.canonical),qe.bucketLayerIDs.push(dn.map(function(ln){return ln.id})))}}}var Hn=f.mapObject(_t.glyphDependencies,function(ln){return Object.keys(ln).map(Number)});Object.keys(Hn).length?it.send("getGlyphs",{uid:this.uid,stacks:Hn},function(ln,wn){dt||(dt=ln,ut=wn,yn.call(ft))}):ut={};var An=Object.keys(_t.iconDependencies);An.length?it.send("getImages",{icons:An,source:this.source,tileID:this.tileID,type:"icons"},function(ln,wn){dt||(dt=ln,At=wn,yn.call(ft))}):At={};var on=Object.keys(_t.patternDependencies);function yn(){if(dt)return gt(dt);if(ut&&At&&wt){var ln=new c(ut),wn=new f.ImageAtlas(At,wt);for(var Cn in kt){var Ln=kt[Cn];Ln instanceof f.SymbolBucket?(s(Ln.layers,this.zoom,Ke),f.performSymbolLayout(Ln,ut,ln.positions,At,wn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Ln.hasPattern&&(Ln instanceof f.LineBucket||Ln instanceof f.FillBucket||Ln instanceof f.FillExtrusionBucket)&&(s(Ln.layers,this.zoom,Ke),Ln.addFeatures(_t,this.tileID.canonical,wn.patternPositions))}this.status="done",gt(null,{buckets:f.values(kt).filter(function(Sn){return!Sn.isEmpty()}),featureIndex:qe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:ln.image,imageAtlas:wn,glyphMap:this.returnDependencies?ut:null,iconMap:this.returnDependencies?At:null,glyphPositions:this.returnDependencies?ln.positions:null})}}on.length?it.send("getImages",{icons:on,source:this.source,tileID:this.tileID,type:"patterns"},function(ln,wn){dt||(dt=ln,wt=wn,yn.call(ft))}):wt={},yn.call(this)};var o=function(tt,rt,Ke,it){this.actor=tt,this.layerIndex=rt,this.availableImages=Ke,this.loadVectorData=it||a,this.loading={},this.loaded={}};o.prototype.loadTile=function(tt,rt){var Ke=this,it=tt.uid;this.loading||(this.loading={});var gt=!!(tt&&tt.request&&tt.request.collectResourceTiming)&&new f.RequestPerformance(tt.request),ft=this.loading[it]=new i(tt);ft.abort=this.loadVectorData(tt,function(Ve,qe){if(delete Ke.loading[it],Ve||!qe)return ft.status="done",Ke.loaded[it]=ft,rt(Ve);var dt=qe.rawData,ut={};qe.expires&&(ut.expires=qe.expires),qe.cacheControl&&(ut.cacheControl=qe.cacheControl);var At={};if(gt){var wt=gt.finish();wt&&(At.resourceTiming=JSON.parse(JSON.stringify(wt)))}ft.vectorTile=qe.vectorTile,ft.parse(qe.vectorTile,Ke.layerIndex,Ke.availableImages,Ke.actor,function(kt,_t){if(kt||!_t)return rt(kt);rt(null,f.extend({rawTileData:dt.slice(0)},_t,ut,At))}),Ke.loaded=Ke.loaded||{},Ke.loaded[it]=ft})},o.prototype.reloadTile=function(tt,rt){var Ke=this,it=this.loaded,gt=tt.uid,ft=this;if(it&&it[gt]){var Ve=it[gt];Ve.showCollisionBoxes=tt.showCollisionBoxes;var qe=function(dt,ut){var At=Ve.reloadCallback;At&&(delete Ve.reloadCallback,Ve.parse(Ve.vectorTile,ft.layerIndex,Ke.availableImages,ft.actor,At)),rt(dt,ut)};"parsing"===Ve.status?Ve.reloadCallback=qe:"done"===Ve.status&&(Ve.vectorTile?Ve.parse(Ve.vectorTile,this.layerIndex,this.availableImages,this.actor,qe):qe())}},o.prototype.abortTile=function(tt,rt){var Ke=this.loading,it=tt.uid;Ke&&Ke[it]&&Ke[it].abort&&(Ke[it].abort(),delete Ke[it]),rt()},o.prototype.removeTile=function(tt,rt){var Ke=this.loaded,it=tt.uid;Ke&&Ke[it]&&delete Ke[it],rt()};var l=f.window.ImageBitmap,u=function(){this.loaded={}};u.prototype.loadTile=function(tt,rt){var Ke=tt.uid,it=tt.encoding,gt=tt.rawImageData,ft=l&&gt instanceof l?this.getImageData(gt):gt,Ve=new f.DEMData(Ke,ft,it);this.loaded=this.loaded||{},this.loaded[Ke]=Ve,rt(null,Ve)},u.prototype.getImageData=function(tt){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(tt.width,tt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=tt.width,this.offscreenCanvas.height=tt.height,this.offscreenCanvasContext.drawImage(tt,0,0,tt.width,tt.height);var rt=this.offscreenCanvasContext.getImageData(-1,-1,tt.width+2,tt.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new f.RGBAImage({width:rt.width,height:rt.height},rt.data)},u.prototype.removeTile=function(tt){var rt=this.loaded,Ke=tt.uid;rt&&rt[Ke]&&delete rt[Ke]};var d=function tt(rt,Ke){var it,gt=rt&&rt.type;if("FeatureCollection"===gt)for(it=0;it<rt.features.length;it++)tt(rt.features[it],Ke);else if("GeometryCollection"===gt)for(it=0;it<rt.geometries.length;it++)tt(rt.geometries[it],Ke);else if("Feature"===gt)tt(rt.geometry,Ke);else if("Polygon"===gt)m(rt.coordinates,Ke);else if("MultiPolygon"===gt)for(it=0;it<rt.coordinates.length;it++)m(rt.coordinates[it],Ke);return rt};function m(tt,rt){if(0!==tt.length){h(tt[0],rt);for(var Ke=1;Ke<tt.length;Ke++)h(tt[Ke],!rt)}}function h(tt,rt){for(var Ke=0,it=0,gt=tt.length,ft=gt-1;it<gt;ft=it++)Ke+=(tt[it][0]-tt[ft][0])*(tt[ft][1]+tt[it][1]);Ke>=0!=!!rt&&tt.reverse()}var T=f.vectorTile.VectorTileFeature.prototype.toGeoJSON,_=function(tt){this._feature=tt,this.extent=f.EXTENT,this.type=tt.type,this.properties=tt.tags,"id"in tt&&!isNaN(tt.id)&&(this.id=parseInt(tt.id,10))};_.prototype.loadGeometry=function(){if(1===this._feature.type){for(var tt=[],rt=0,Ke=this._feature.geometry;rt<Ke.length;rt+=1){var it=Ke[rt];tt.push([new f.Point$1(it[0],it[1])])}return tt}for(var gt=[],ft=0,Ve=this._feature.geometry;ft<Ve.length;ft+=1){for(var qe=[],dt=0,ut=Ve[ft];dt<ut.length;dt+=1){var At=ut[dt];qe.push(new f.Point$1(At[0],At[1]))}gt.push(qe)}return gt},_.prototype.toGeoJSON=function(tt,rt,Ke){return T.call(this,tt,rt,Ke)};var g=function(tt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=f.EXTENT,this.length=tt.length,this._features=tt};g.prototype.feature=function(tt){return new _(this._features[tt])};var w=f.vectorTile.VectorTileFeature,x=b;function b(tt,rt){this.options=rt||{},this.features=tt,this.length=tt.length}function A(tt,rt){this.id="number"==typeof tt.id?tt.id:void 0,this.type=tt.type,this.rawGeometry=1===tt.type?[tt.geometry]:tt.geometry,this.properties=tt.tags,this.extent=rt||4096}b.prototype.feature=function(tt){return new A(this.features[tt],this.options.extent)},A.prototype.loadGeometry=function(){var tt=this.rawGeometry;this.geometry=[];for(var rt=0;rt<tt.length;rt++){for(var Ke=tt[rt],it=[],gt=0;gt<Ke.length;gt++)it.push(new f.Point$1(Ke[gt][0],Ke[gt][1]));this.geometry.push(it)}return this.geometry},A.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var tt=this.geometry,rt=1/0,Ke=-1/0,it=1/0,gt=-1/0,ft=0;ft<tt.length;ft++)for(var Ve=tt[ft],qe=0;qe<Ve.length;qe++){var dt=Ve[qe];rt=Math.min(rt,dt.x),Ke=Math.max(Ke,dt.x),it=Math.min(it,dt.y),gt=Math.max(gt,dt.y)}return[rt,it,Ke,gt]},A.prototype.toGeoJSON=w.prototype.toGeoJSON;var p=P,I=x;function P(tt){var rt=new f.pbf;return function(Ke,it){for(var gt in Ke.layers)it.writeMessage(3,R,Ke.layers[gt])}(tt,rt),rt.finish()}function R(tt,rt){var Ke;rt.writeVarintField(15,tt.version||1),rt.writeStringField(1,tt.name||""),rt.writeVarintField(5,tt.extent||4096);var it={keys:[],values:[],keycache:{},valuecache:{}};for(Ke=0;Ke<tt.length;Ke++)it.feature=tt.feature(Ke),rt.writeMessage(2,N,it);var gt=it.keys;for(Ke=0;Ke<gt.length;Ke++)rt.writeStringField(3,gt[Ke]);var ft=it.values;for(Ke=0;Ke<ft.length;Ke++)rt.writeMessage(4,W,ft[Ke])}function N(tt,rt){var Ke=tt.feature;void 0!==Ke.id&&rt.writeVarintField(1,Ke.id),rt.writeMessage(2,j,tt),rt.writeVarintField(3,Ke.type),rt.writeMessage(4,Z,Ke)}function j(tt,rt){var Ke=tt.feature,it=tt.keys,gt=tt.values,ft=tt.keycache,Ve=tt.valuecache;for(var qe in Ke.properties){var dt=ft[qe];void 0===dt&&(it.push(qe),ft[qe]=dt=it.length-1),rt.writeVarint(dt);var ut=Ke.properties[qe],At=typeof ut;"string"!==At&&"boolean"!==At&&"number"!==At&&(ut=JSON.stringify(ut));var wt=At+":"+ut,kt=Ve[wt];void 0===kt&&(gt.push(ut),Ve[wt]=kt=gt.length-1),rt.writeVarint(kt)}}function X(tt,rt){return(rt<<3)+(7&tt)}function F(tt){return tt<<1^tt>>31}function Z(tt,rt){for(var Ke=tt.loadGeometry(),it=tt.type,gt=0,ft=0,Ve=Ke.length,qe=0;qe<Ve;qe++){var dt=Ke[qe],ut=1;1===it&&(ut=dt.length),rt.writeVarint(X(1,ut));for(var At=3===it?dt.length-1:dt.length,wt=0;wt<At;wt++){1===wt&&1!==it&&rt.writeVarint(X(2,At-1));var kt=dt[wt].x-gt,_t=dt[wt].y-ft;rt.writeVarint(F(kt)),rt.writeVarint(F(_t)),gt+=kt,ft+=_t}3===it&&rt.writeVarint(X(7,1))}}function W(tt,rt){var Ke=typeof tt;"string"===Ke?rt.writeStringField(1,tt):"boolean"===Ke?rt.writeBooleanField(7,tt):"number"===Ke&&(tt%1!=0?rt.writeDoubleField(3,tt):tt<0?rt.writeSVarintField(6,tt):rt.writeVarintField(5,tt))}function H(tt,rt,Ke,it,gt,ft){if(!(gt-it<=Ke)){var Ve=it+gt>>1;G(tt,rt,Ve,it,gt,ft%2),H(tt,rt,Ke,it,Ve-1,ft+1),H(tt,rt,Ke,Ve+1,gt,ft+1)}}function G(tt,rt,Ke,it,gt,ft){for(;gt>it;){if(gt-it>600){var Ve=gt-it+1,qe=Ke-it+1,dt=Math.log(Ve),ut=.5*Math.exp(2*dt/3),At=.5*Math.sqrt(dt*ut*(Ve-ut)/Ve)*(qe-Ve/2<0?-1:1);G(tt,rt,Ke,Math.max(it,Math.floor(Ke-qe*ut/Ve+At)),Math.min(gt,Math.floor(Ke+(Ve-qe)*ut/Ve+At)),ft)}var wt=rt[2*Ke+ft],kt=it,_t=gt;for(Y(tt,rt,it,Ke),rt[2*gt+ft]>wt&&Y(tt,rt,it,gt);kt<_t;){for(Y(tt,rt,kt,_t),kt++,_t--;rt[2*kt+ft]<wt;)kt++;for(;rt[2*_t+ft]>wt;)_t--}rt[2*it+ft]===wt?Y(tt,rt,it,_t):Y(tt,rt,++_t,gt),_t<=Ke&&(it=_t+1),Ke<=_t&&(gt=_t-1)}}function Y(tt,rt,Ke,it){se(tt,Ke,it),se(rt,2*Ke,2*it),se(rt,2*Ke+1,2*it+1)}function se(tt,rt,Ke){var it=tt[rt];tt[rt]=tt[Ke],tt[Ke]=it}function te(tt,rt,Ke,it){var gt=tt-Ke,ft=rt-it;return gt*gt+ft*ft}p.fromVectorTileJs=P,p.fromGeojsonVt=function(tt,rt){rt=rt||{};var Ke={};for(var it in tt)Ke[it]=new x(tt[it].features,rt),Ke[it].name=it,Ke[it].version=rt.version,Ke[it].extent=rt.extent;return P({layers:Ke})},p.GeoJSONWrapper=I;var re=function(tt){return tt[0]},Q=function(tt){return tt[1]},ee=function(tt,rt,Ke,it,gt){void 0===rt&&(rt=re),void 0===Ke&&(Ke=Q),void 0===it&&(it=64),void 0===gt&&(gt=Float64Array),this.nodeSize=it,this.points=tt;for(var ft=tt.length<65536?Uint16Array:Uint32Array,Ve=this.ids=new ft(tt.length),qe=this.coords=new gt(2*tt.length),dt=0;dt<tt.length;dt++)Ve[dt]=dt,qe[2*dt]=rt(tt[dt]),qe[2*dt+1]=Ke(tt[dt]);H(Ve,qe,it,0,Ve.length-1,0)};ee.prototype.range=function(tt,rt,Ke,it){return function(gt,ft,Ve,qe,dt,ut,At){for(var wt,kt,_t=[0,gt.length-1,0],Rt=[];_t.length;){var bt=_t.pop(),Tt=_t.pop(),Ot=_t.pop();if(Tt-Ot<=At)for(var Wt=Ot;Wt<=Tt;Wt++)kt=ft[2*Wt+1],(wt=ft[2*Wt])>=Ve&&wt<=dt&&kt>=qe&&kt<=ut&&Rt.push(gt[Wt]);else{var qt=Math.floor((Ot+Tt)/2);kt=ft[2*qt+1],(wt=ft[2*qt])>=Ve&&wt<=dt&&kt>=qe&&kt<=ut&&Rt.push(gt[qt]);var Jt=(bt+1)%2;(0===bt?Ve<=wt:qe<=kt)&&(_t.push(Ot),_t.push(qt-1),_t.push(Jt)),(0===bt?dt>=wt:ut>=kt)&&(_t.push(qt+1),_t.push(Tt),_t.push(Jt))}}return Rt}(this.ids,this.coords,tt,rt,Ke,it,this.nodeSize)},ee.prototype.within=function(tt,rt,Ke){return function(it,gt,ft,Ve,qe,dt){for(var ut=[0,it.length-1,0],At=[],wt=qe*qe;ut.length;){var kt=ut.pop(),_t=ut.pop(),Rt=ut.pop();if(_t-Rt<=dt)for(var bt=Rt;bt<=_t;bt++)te(gt[2*bt],gt[2*bt+1],ft,Ve)<=wt&&At.push(it[bt]);else{var Tt=Math.floor((Rt+_t)/2),Ot=gt[2*Tt],Wt=gt[2*Tt+1];te(Ot,Wt,ft,Ve)<=wt&&At.push(it[Tt]);var qt=(kt+1)%2;(0===kt?ft-qe<=Ot:Ve-qe<=Wt)&&(ut.push(Rt),ut.push(Tt-1),ut.push(qt)),(0===kt?ft+qe>=Ot:Ve+qe>=Wt)&&(ut.push(Tt+1),ut.push(_t),ut.push(qt))}}return At}(this.ids,this.coords,tt,rt,Ke,this.nodeSize)};var oe={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(tt){return tt}},le=function(tt){this.options=ve(Object.create(oe),tt),this.trees=new Array(this.options.maxZoom+1)};function ue(tt,rt,Ke,it,gt){return{x:tt,y:rt,zoom:1/0,id:Ke,parentId:-1,numPoints:it,properties:gt}}function de(tt,rt){var Ke=tt.geometry.coordinates,gt=Ke[1];return{x:Ae(Ke[0]),y:Te(gt),zoom:1/0,index:rt,parentId:-1}}function he(tt){return{type:"Feature",id:tt.id,properties:we(tt),geometry:{type:"Point",coordinates:[(it=tt.x,360*(it-.5)),(rt=tt.y,Ke=(180-360*rt)*Math.PI/180,360*Math.atan(Math.exp(Ke))/Math.PI-90)]}};var rt,Ke,it}function we(tt){var rt=tt.numPoints,Ke=rt>=1e4?Math.round(rt/1e3)+"k":rt>=1e3?Math.round(rt/100)/10+"k":rt;return ve(ve({},tt.properties),{cluster:!0,cluster_id:tt.id,point_count:rt,point_count_abbreviated:Ke})}function Ae(tt){return tt/360+.5}function Te(tt){var rt=Math.sin(tt*Math.PI/180),Ke=.5-.25*Math.log((1+rt)/(1-rt))/Math.PI;return Ke<0?0:Ke>1?1:Ke}function ve(tt,rt){for(var Ke in rt)tt[Ke]=rt[Ke];return tt}function xe(tt){return tt.x}function Fe(tt){return tt.y}function Se(tt,rt,Ke,it){for(var gt,ft=it,Ve=Ke-rt>>1,qe=Ke-rt,dt=tt[rt],ut=tt[rt+1],At=tt[Ke],wt=tt[Ke+1],kt=rt+3;kt<Ke;kt+=3){var _t=ke(tt[kt],tt[kt+1],dt,ut,At,wt);if(_t>ft)gt=kt,ft=_t;else if(_t===ft){var Rt=Math.abs(kt-Ve);Rt<qe&&(gt=kt,qe=Rt)}}ft>it&&(gt-rt>3&&Se(tt,rt,gt,it),tt[gt+2]=ft,Ke-gt>3&&Se(tt,gt,Ke,it))}function ke(tt,rt,Ke,it,gt,ft){var Ve=gt-Ke,qe=ft-it;if(0!==Ve||0!==qe){var dt=((tt-Ke)*Ve+(rt-it)*qe)/(Ve*Ve+qe*qe);dt>1?(Ke=gt,it=ft):dt>0&&(Ke+=Ve*dt,it+=qe*dt)}return(Ve=tt-Ke)*Ve+(qe=rt-it)*qe}function pe(tt,rt,Ke,it){var gt={id:void 0===tt?null:tt,type:rt,geometry:Ke,tags:it,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ft){var Ve=ft.geometry,qe=ft.type;if("Point"===qe||"MultiPoint"===qe||"LineString"===qe)fe(ft,Ve);else if("Polygon"===qe||"MultiLineString"===qe)for(var dt=0;dt<Ve.length;dt++)fe(ft,Ve[dt]);else if("MultiPolygon"===qe)for(dt=0;dt<Ve.length;dt++)for(var ut=0;ut<Ve[dt].length;ut++)fe(ft,Ve[dt][ut])}(gt),gt}function fe(tt,rt){for(var Ke=0;Ke<rt.length;Ke+=3)tt.minX=Math.min(tt.minX,rt[Ke]),tt.minY=Math.min(tt.minY,rt[Ke+1]),tt.maxX=Math.max(tt.maxX,rt[Ke]),tt.maxY=Math.max(tt.maxY,rt[Ke+1])}function be(tt,rt,Ke,it){if(rt.geometry){var gt=rt.geometry.coordinates,ft=rt.geometry.type,Ve=Math.pow(Ke.tolerance/((1<<Ke.maxZoom)*Ke.extent),2),qe=[],dt=rt.id;if(Ke.promoteId?dt=rt.properties[Ke.promoteId]:Ke.generateId&&(dt=it||0),"Point"===ft)Le(gt,qe);else if("MultiPoint"===ft)for(var ut=0;ut<gt.length;ut++)Le(gt[ut],qe);else if("LineString"===ft)Oe(gt,qe,Ve,!1);else if("MultiLineString"===ft){if(Ke.lineMetrics){for(ut=0;ut<gt.length;ut++)Oe(gt[ut],qe=[],Ve,!1),tt.push(pe(dt,"LineString",qe,rt.properties));return}De(gt,qe,Ve,!1)}else if("Polygon"===ft)De(gt,qe,Ve,!0);else{if("MultiPolygon"!==ft){if("GeometryCollection"===ft){for(ut=0;ut<rt.geometry.geometries.length;ut++)be(tt,{id:dt,geometry:rt.geometry.geometries[ut],properties:rt.properties},Ke,it);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ut=0;ut<gt.length;ut++){var At=[];De(gt[ut],At,Ve,!0),qe.push(At)}}tt.push(pe(dt,ft,qe,rt.properties))}}function Le(tt,rt){rt.push(Ue(tt[0])),rt.push(Ge(tt[1])),rt.push(0)}function Oe(tt,rt,Ke,it){for(var gt,ft,Ve=0,qe=0;qe<tt.length;qe++){var dt=Ue(tt[qe][0]),ut=Ge(tt[qe][1]);rt.push(dt),rt.push(ut),rt.push(0),qe>0&&(Ve+=it?(gt*ut-dt*ft)/2:Math.sqrt(Math.pow(dt-gt,2)+Math.pow(ut-ft,2))),gt=dt,ft=ut}var At=rt.length-3;rt[2]=1,Se(rt,0,At,Ke),rt[At+2]=1,rt.size=Math.abs(Ve),rt.start=0,rt.end=rt.size}function De(tt,rt,Ke,it){for(var gt=0;gt<tt.length;gt++){var ft=[];Oe(tt[gt],ft,Ke,it),rt.push(ft)}}function Ue(tt){return tt/360+.5}function Ge(tt){var rt=Math.sin(tt*Math.PI/180),Ke=.5-.25*Math.log((1+rt)/(1-rt))/Math.PI;return Ke<0?0:Ke>1?1:Ke}function ye(tt,rt,Ke,it,gt,ft,Ve,qe){if(it/=rt,ft>=(Ke/=rt)&&Ve<it)return tt;if(Ve<Ke||ft>=it)return null;for(var dt=[],ut=0;ut<tt.length;ut++){var At=tt[ut],wt=At.geometry,kt=At.type,_t=0===gt?At.minX:At.minY,Rt=0===gt?At.maxX:At.maxY;if(_t>=Ke&&Rt<it)dt.push(At);else if(!(Rt<Ke||_t>=it)){var bt=[];if("Point"===kt||"MultiPoint"===kt)Ie(wt,bt,Ke,it,gt);else if("LineString"===kt)Ee(wt,bt,Ke,it,gt,!1,qe.lineMetrics);else if("MultiLineString"===kt)We(wt,bt,Ke,it,gt,!1);else if("Polygon"===kt)We(wt,bt,Ke,it,gt,!0);else if("MultiPolygon"===kt)for(var Tt=0;Tt<wt.length;Tt++){var Ot=[];We(wt[Tt],Ot,Ke,it,gt,!0),Ot.length&&bt.push(Ot)}if(bt.length){if(qe.lineMetrics&&"LineString"===kt){for(Tt=0;Tt<bt.length;Tt++)dt.push(pe(At.id,kt,bt[Tt],At.tags));continue}"LineString"!==kt&&"MultiLineString"!==kt||(1===bt.length?(kt="LineString",bt=bt[0]):kt="MultiLineString"),"Point"!==kt&&"MultiPoint"!==kt||(kt=3===bt.length?"Point":"MultiPoint"),dt.push(pe(At.id,kt,bt,At.tags))}}}return dt.length?dt:null}function Ie(tt,rt,Ke,it,gt){for(var ft=0;ft<tt.length;ft+=3){var Ve=tt[ft+gt];Ve>=Ke&&Ve<=it&&(rt.push(tt[ft]),rt.push(tt[ft+1]),rt.push(tt[ft+2]))}}function Ee(tt,rt,Ke,it,gt,ft,Ve){for(var qe,dt,ut=Be(tt),At=0===gt?Je:et,wt=tt.start,kt=0;kt<tt.length-3;kt+=3){var _t=tt[kt],Rt=tt[kt+1],bt=tt[kt+2],Tt=tt[kt+3],Ot=tt[kt+4],Wt=0===gt?_t:Rt,qt=0===gt?Tt:Ot,Jt=!1;Ve&&(qe=Math.sqrt(Math.pow(_t-Tt,2)+Math.pow(Rt-Ot,2))),Wt<Ke?qt>Ke&&(dt=At(ut,_t,Rt,Tt,Ot,Ke),Ve&&(ut.start=wt+qe*dt)):Wt>it?qt<it&&(dt=At(ut,_t,Rt,Tt,Ot,it),Ve&&(ut.start=wt+qe*dt)):He(ut,_t,Rt,bt),qt<Ke&&Wt>=Ke&&(dt=At(ut,_t,Rt,Tt,Ot,Ke),Jt=!0),qt>it&&Wt<=it&&(dt=At(ut,_t,Rt,Tt,Ot,it),Jt=!0),!ft&&Jt&&(Ve&&(ut.end=wt+qe*dt),rt.push(ut),ut=Be(tt)),Ve&&(wt+=qe)}var pn=tt.length-3;_t=tt[pn],Rt=tt[pn+1],bt=tt[pn+2],(Wt=0===gt?_t:Rt)>=Ke&&Wt<=it&&He(ut,_t,Rt,bt),pn=ut.length-3,ft&&pn>=3&&(ut[pn]!==ut[0]||ut[pn+1]!==ut[1])&&He(ut,ut[0],ut[1],ut[2]),ut.length&&rt.push(ut)}function Be(tt){var rt=[];return rt.size=tt.size,rt.start=tt.start,rt.end=tt.end,rt}function We(tt,rt,Ke,it,gt,ft){for(var Ve=0;Ve<tt.length;Ve++)Ee(tt[Ve],rt,Ke,it,gt,ft,!1)}function He(tt,rt,Ke,it){tt.push(rt),tt.push(Ke),tt.push(it)}function Je(tt,rt,Ke,it,gt,ft){var Ve=(ft-rt)/(it-rt);return tt.push(ft),tt.push(Ke+(gt-Ke)*Ve),tt.push(1),Ve}function et(tt,rt,Ke,it,gt,ft){var Ve=(ft-Ke)/(gt-Ke);return tt.push(rt+(it-rt)*Ve),tt.push(ft),tt.push(1),Ve}function at(tt,rt){for(var Ke=[],it=0;it<tt.length;it++){var gt,ft=tt[it],Ve=ft.type;if("Point"===Ve||"MultiPoint"===Ve||"LineString"===Ve)gt=mt(ft.geometry,rt);else if("MultiLineString"===Ve||"Polygon"===Ve){gt=[];for(var qe=0;qe<ft.geometry.length;qe++)gt.push(mt(ft.geometry[qe],rt))}else if("MultiPolygon"===Ve)for(gt=[],qe=0;qe<ft.geometry.length;qe++){for(var dt=[],ut=0;ut<ft.geometry[qe].length;ut++)dt.push(mt(ft.geometry[qe][ut],rt));gt.push(dt)}Ke.push(pe(ft.id,Ve,gt,ft.tags))}return Ke}function mt(tt,rt){var Ke=[];Ke.size=tt.size,void 0!==tt.start&&(Ke.start=tt.start,Ke.end=tt.end);for(var it=0;it<tt.length;it+=3)Ke.push(tt[it]+rt,tt[it+1],tt[it+2]);return Ke}function ct(tt,rt){if(tt.transformed)return tt;var Ke,it,gt,ft=1<<tt.z,Ve=tt.x,qe=tt.y;for(Ke=0;Ke<tt.features.length;Ke++){var dt=tt.features[Ke],ut=dt.geometry,At=dt.type;if(dt.geometry=[],1===At)for(it=0;it<ut.length;it+=2)dt.geometry.push(St(ut[it],ut[it+1],rt,ft,Ve,qe));else for(it=0;it<ut.length;it++){var wt=[];for(gt=0;gt<ut[it].length;gt+=2)wt.push(St(ut[it][gt],ut[it][gt+1],rt,ft,Ve,qe));dt.geometry.push(wt)}}return tt.transformed=!0,tt}function St(tt,rt,Ke,it,gt,ft){return[Math.round(Ke*(tt*it-gt)),Math.round(Ke*(rt*it-ft))]}function Dt(tt,rt,Ke,it,gt){for(var ft=rt===gt.maxZoom?0:gt.tolerance/((1<<rt)*gt.extent),Ve={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ke,y:it,z:rt,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},qe=0;qe<tt.length;qe++){Ve.numFeatures++,Et(Ve,tt[qe],ft,gt);var dt=tt[qe].minX,ut=tt[qe].minY,At=tt[qe].maxX,wt=tt[qe].maxY;dt<Ve.minX&&(Ve.minX=dt),ut<Ve.minY&&(Ve.minY=ut),At>Ve.maxX&&(Ve.maxX=At),wt>Ve.maxY&&(Ve.maxY=wt)}return Ve}function Et(tt,rt,Ke,it){var gt=rt.geometry,ft=rt.type,Ve=[];if("Point"===ft||"MultiPoint"===ft)for(var qe=0;qe<gt.length;qe+=3)Ve.push(gt[qe]),Ve.push(gt[qe+1]),tt.numPoints++,tt.numSimplified++;else if("LineString"===ft)ht(Ve,gt,tt,Ke,!1,!1);else if("MultiLineString"===ft||"Polygon"===ft)for(qe=0;qe<gt.length;qe++)ht(Ve,gt[qe],tt,Ke,"Polygon"===ft,0===qe);else if("MultiPolygon"===ft)for(var dt=0;dt<gt.length;dt++){var ut=gt[dt];for(qe=0;qe<ut.length;qe++)ht(Ve,ut[qe],tt,Ke,!0,0===qe)}if(Ve.length){var At=rt.tags||null;if("LineString"===ft&&it.lineMetrics){for(var wt in At={},rt.tags)At[wt]=rt.tags[wt];At.mapbox_clip_start=gt.start/gt.size,At.mapbox_clip_end=gt.end/gt.size}var kt={geometry:Ve,type:"Polygon"===ft||"MultiPolygon"===ft?3:"LineString"===ft||"MultiLineString"===ft?2:1,tags:At};null!==rt.id&&(kt.id=rt.id),tt.features.push(kt)}}function ht(tt,rt,Ke,it,gt,ft){var Ve=it*it;if(it>0&&rt.size<(gt?Ve:it))Ke.numPoints+=rt.length/3;else{for(var qe=[],dt=0;dt<rt.length;dt+=3)(0===it||rt[dt+2]>Ve)&&(Ke.numSimplified++,qe.push(rt[dt]),qe.push(rt[dt+1])),Ke.numPoints++;gt&&function(ut,At){for(var wt=0,kt=0,_t=ut.length,Rt=_t-2;kt<_t;Rt=kt,kt+=2)wt+=(ut[kt]-ut[Rt])*(ut[kt+1]+ut[Rt+1]);if(wt>0===At)for(kt=0,_t=ut.length;kt<_t/2;kt+=2){var bt=ut[kt],Tt=ut[kt+1];ut[kt]=ut[_t-2-kt],ut[kt+1]=ut[_t-1-kt],ut[_t-2-kt]=bt,ut[_t-1-kt]=Tt}}(qe,ft),tt.push(qe)}}function pt(tt,rt){var Ke=(rt=this.options=function(gt,ft){for(var Ve in ft)gt[Ve]=ft[Ve];return gt}(Object.create(this.options),rt)).debug;if(Ke&&console.time("preprocess data"),rt.maxZoom<0||rt.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(rt.promoteId&&rt.generateId)throw new Error("promoteId and generateId cannot be used together.");var gt,ft,Ve,qe,dt,ut,it=function(gt,ft){var Ve=[];if("FeatureCollection"===gt.type)for(var qe=0;qe<gt.features.length;qe++)be(Ve,gt.features[qe],ft,qe);else be(Ve,"Feature"===gt.type?gt:{geometry:gt},ft);return Ve}(tt,rt);this.tiles={},this.tileCoords=[],Ke&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",rt.indexMaxZoom,rt.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(gt=it,ft=rt,Ve=ft.buffer/ft.extent,qe=gt,dt=ye(gt,1,-1-Ve,Ve,0,-1,2,ft),ut=ye(gt,1,1-Ve,2+Ve,0,-1,2,ft),(dt||ut)&&(qe=ye(gt,1,-Ve,1+Ve,0,-1,2,ft)||[],dt&&(qe=at(dt,1).concat(qe)),ut&&(qe=qe.concat(at(ut,-1)))),it=qe).length&&this.splitTile(it,0,0,0),Ke&&(it.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Pt(tt,rt,Ke){return 32*((1<<tt)*Ke+rt)+tt}function Ft(tt,rt){var Ke=tt.tileID.canonical;if(!this._geoJSONIndex)return rt(null,null);var it=this._geoJSONIndex.getTile(Ke.z,Ke.x,Ke.y);if(!it)return rt(null,null);var gt=new g(it.features),ft=p(gt);0===ft.byteOffset&&ft.byteLength===ft.buffer.byteLength||(ft=new Uint8Array(ft)),rt(null,{vectorTile:gt,rawData:ft.buffer})}le.prototype.load=function(tt){var rt=this.options,Ke=rt.log,it=rt.minZoom,gt=rt.maxZoom,ft=rt.nodeSize;Ke&&console.time("total time");var Ve="prepare "+tt.length+" points";Ke&&console.time(Ve),this.points=tt;for(var qe=[],dt=0;dt<tt.length;dt++)tt[dt].geometry&&qe.push(de(tt[dt],dt));this.trees[gt+1]=new ee(qe,xe,Fe,ft,Float32Array),Ke&&console.timeEnd(Ve);for(var ut=gt;ut>=it;ut--){var At=+Date.now();qe=this._cluster(qe,ut),this.trees[ut]=new ee(qe,xe,Fe,ft,Float32Array),Ke&&console.log("z%d: %d clusters in %dms",ut,qe.length,+Date.now()-At)}return Ke&&console.timeEnd("total time"),this},le.prototype.getClusters=function(tt,rt){var Ke=((tt[0]+180)%360+360)%360-180,it=Math.max(-90,Math.min(90,tt[1])),gt=180===tt[2]?180:((tt[2]+180)%360+360)%360-180,ft=Math.max(-90,Math.min(90,tt[3]));if(tt[2]-tt[0]>=360)Ke=-180,gt=180;else if(Ke>gt){var Ve=this.getClusters([Ke,it,180,ft],rt),qe=this.getClusters([-180,it,gt,ft],rt);return Ve.concat(qe)}for(var dt=this.trees[this._limitZoom(rt)],ut=[],At=0,wt=dt.range(Ae(Ke),Te(ft),Ae(gt),Te(it));At<wt.length;At+=1){var _t=dt.points[wt[At]];ut.push(_t.numPoints?he(_t):this.points[_t.index])}return ut},le.prototype.getChildren=function(tt){var rt=this._getOriginId(tt),Ke=this._getOriginZoom(tt),it="No cluster with the specified id.",gt=this.trees[Ke];if(!gt)throw new Error(it);var ft=gt.points[rt];if(!ft)throw new Error(it);for(var Ve=this.options.radius/(this.options.extent*Math.pow(2,Ke-1)),qe=[],dt=0,ut=gt.within(ft.x,ft.y,Ve);dt<ut.length;dt+=1){var wt=gt.points[ut[dt]];wt.parentId===tt&&qe.push(wt.numPoints?he(wt):this.points[wt.index])}if(0===qe.length)throw new Error(it);return qe},le.prototype.getLeaves=function(tt,rt,Ke){var it=[];return this._appendLeaves(it,tt,rt=rt||10,Ke=Ke||0,0),it},le.prototype.getTile=function(tt,rt,Ke){var it=this.trees[this._limitZoom(tt)],gt=Math.pow(2,tt),ft=this.options,qe=ft.radius/ft.extent,dt=(Ke-qe)/gt,ut=(Ke+1+qe)/gt,At={features:[]};return this._addTileFeatures(it.range((rt-qe)/gt,dt,(rt+1+qe)/gt,ut),it.points,rt,Ke,gt,At),0===rt&&this._addTileFeatures(it.range(1-qe/gt,dt,1,ut),it.points,gt,Ke,gt,At),rt===gt-1&&this._addTileFeatures(it.range(0,dt,qe/gt,ut),it.points,-1,Ke,gt,At),At.features.length?At:null},le.prototype.getClusterExpansionZoom=function(tt){for(var rt=this._getOriginZoom(tt)-1;rt<=this.options.maxZoom;){var Ke=this.getChildren(tt);if(rt++,1!==Ke.length)break;tt=Ke[0].properties.cluster_id}return rt},le.prototype._appendLeaves=function(tt,rt,Ke,it,gt){for(var ft=0,Ve=this.getChildren(rt);ft<Ve.length;ft+=1){var qe=Ve[ft],dt=qe.properties;if(dt&&dt.cluster?gt+dt.point_count<=it?gt+=dt.point_count:gt=this._appendLeaves(tt,dt.cluster_id,Ke,it,gt):gt<it?gt++:tt.push(qe),tt.length===Ke)break}return gt},le.prototype._addTileFeatures=function(tt,rt,Ke,it,gt,ft){for(var Ve=0,qe=tt;Ve<qe.length;Ve+=1){var dt=rt[qe[Ve]],ut=dt.numPoints,At={type:1,geometry:[[Math.round(this.options.extent*(dt.x*gt-Ke)),Math.round(this.options.extent*(dt.y*gt-it))]],tags:ut?we(dt):this.points[dt.index].properties},wt=void 0;ut?wt=dt.id:this.options.generateId?wt=dt.index:this.points[dt.index].id&&(wt=this.points[dt.index].id),void 0!==wt&&(At.id=wt),ft.features.push(At)}},le.prototype._limitZoom=function(tt){return Math.max(this.options.minZoom,Math.min(tt,this.options.maxZoom+1))},le.prototype._cluster=function(tt,rt){for(var Ke=[],it=this.options,Ve=it.reduce,qe=it.radius/(it.extent*Math.pow(2,rt)),dt=0;dt<tt.length;dt++){var ut=tt[dt];if(!(ut.zoom<=rt)){ut.zoom=rt;for(var At=this.trees[rt+1],wt=At.within(ut.x,ut.y,qe),kt=ut.numPoints||1,_t=ut.x*kt,Rt=ut.y*kt,bt=Ve&&kt>1?this._map(ut,!0):null,Tt=(dt<<5)+(rt+1)+this.points.length,Ot=0,Wt=wt;Ot<Wt.length;Ot+=1){var Jt=At.points[Wt[Ot]];if(!(Jt.zoom<=rt)){Jt.zoom=rt;var pn=Jt.numPoints||1;_t+=Jt.x*pn,Rt+=Jt.y*pn,kt+=pn,Jt.parentId=Tt,Ve&&(bt||(bt=this._map(ut,!0)),Ve(bt,this._map(Jt)))}}1===kt?Ke.push(ut):(ut.parentId=Tt,Ke.push(ue(_t/kt,Rt/kt,Tt,kt,bt)))}}return Ke},le.prototype._getOriginId=function(tt){return tt-this.points.length>>5},le.prototype._getOriginZoom=function(tt){return(tt-this.points.length)%32},le.prototype._map=function(tt,rt){if(tt.numPoints)return rt?ve({},tt.properties):tt.properties;var Ke=this.points[tt.index].properties,it=this.options.map(Ke);return rt&&it===Ke?ve({},it):it},pt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},pt.prototype.splitTile=function(tt,rt,Ke,it,gt,ft,Ve){for(var qe=[tt,rt,Ke,it],dt=this.options,ut=dt.debug;qe.length;){it=qe.pop(),Ke=qe.pop(),rt=qe.pop(),tt=qe.pop();var At=1<<rt,wt=Pt(rt,Ke,it),kt=this.tiles[wt];if(!kt&&(ut>1&&console.time("creation"),kt=this.tiles[wt]=Dt(tt,rt,Ke,it,dt),this.tileCoords.push({z:rt,x:Ke,y:it}),ut)){ut>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",rt,Ke,it,kt.numFeatures,kt.numPoints,kt.numSimplified),console.timeEnd("creation"));var _t="z"+rt;this.stats[_t]=(this.stats[_t]||0)+1,this.total++}if(kt.source=tt,gt){if(rt===dt.maxZoom||rt===gt)continue;var Rt=1<<gt-rt;if(Ke!==Math.floor(ft/Rt)||it!==Math.floor(Ve/Rt))continue}else if(rt===dt.indexMaxZoom||kt.numPoints<=dt.indexMaxPoints)continue;if(kt.source=null,0!==tt.length){ut>1&&console.time("clipping");var bt,Tt,Ot,Wt,qt,Jt,pn=.5*dt.buffer/dt.extent,en=.5-pn,nn=.5+pn,dn=1+pn;bt=Tt=Ot=Wt=null,qt=ye(tt,At,Ke-pn,Ke+nn,0,kt.minX,kt.maxX,dt),Jt=ye(tt,At,Ke+en,Ke+dn,0,kt.minX,kt.maxX,dt),tt=null,qt&&(bt=ye(qt,At,it-pn,it+nn,1,kt.minY,kt.maxY,dt),Tt=ye(qt,At,it+en,it+dn,1,kt.minY,kt.maxY,dt),qt=null),Jt&&(Ot=ye(Jt,At,it-pn,it+nn,1,kt.minY,kt.maxY,dt),Wt=ye(Jt,At,it+en,it+dn,1,kt.minY,kt.maxY,dt),Jt=null),ut>1&&console.timeEnd("clipping"),qe.push(bt||[],rt+1,2*Ke,2*it),qe.push(Tt||[],rt+1,2*Ke,2*it+1),qe.push(Ot||[],rt+1,2*Ke+1,2*it),qe.push(Wt||[],rt+1,2*Ke+1,2*it+1)}}},pt.prototype.getTile=function(tt,rt,Ke){var it=this.options,gt=it.extent,ft=it.debug;if(tt<0||tt>24)return null;var Ve=1<<tt,qe=Pt(tt,rt=(rt%Ve+Ve)%Ve,Ke);if(this.tiles[qe])return ct(this.tiles[qe],gt);ft>1&&console.log("drilling down to z%d-%d-%d",tt,rt,Ke);for(var dt,ut=tt,At=rt,wt=Ke;!dt&&ut>0;)ut--,At=Math.floor(At/2),wt=Math.floor(wt/2),dt=this.tiles[Pt(ut,At,wt)];return dt&&dt.source?(ft>1&&console.log("found parent tile z%d-%d-%d",ut,At,wt),ft>1&&console.time("drilling down"),this.splitTile(dt.source,ut,At,wt,tt,rt,Ke),ft>1&&console.timeEnd("drilling down"),this.tiles[qe]?ct(this.tiles[qe],gt):null):null};var Ht=function(tt){function rt(Ke,it,gt,ft){tt.call(this,Ke,it,gt,Ft),ft&&(this.loadGeoJSON=ft)}return tt&&(rt.__proto__=tt),(rt.prototype=Object.create(tt&&tt.prototype)).constructor=rt,rt.prototype.loadData=function(Ke,it){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=it,this._pendingLoadDataParams=Ke,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},rt.prototype._loadData=function(){var Ke=this;if(this._pendingCallback&&this._pendingLoadDataParams){var it=this._pendingCallback,gt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var ft=!!(gt&&gt.request&&gt.request.collectResourceTiming)&&new f.RequestPerformance(gt.request);this.loadGeoJSON(gt,function(Ve,qe){if(Ve||!qe)return it(Ve);if("object"!=typeof qe)return it(new Error("Input data given to '"+gt.source+"' is not a valid GeoJSON object."));d(qe,!0);try{Ke._geoJSONIndex=gt.cluster?new le(function(At){var wt=At.superclusterOptions,kt=At.clusterProperties;if(!kt||!wt)return wt;for(var _t={},Rt={},bt={accumulated:null,zoom:0},Tt={properties:null},Ot=Object.keys(kt),Wt=0,qt=Ot;Wt<qt.length;Wt+=1){var Jt=qt[Wt],pn=kt[Jt],en=pn[0],dn=f.createExpression(pn[1]),In=f.createExpression("string"==typeof en?[en,["accumulated"],["get",Jt]]:en);_t[Jt]=dn.value,Rt[Jt]=In.value}return wt.map=function(Hn){Tt.properties=Hn;for(var An={},on=0,yn=Ot;on<yn.length;on+=1){var ln=yn[on];An[ln]=_t[ln].evaluate(bt,Tt)}return An},wt.reduce=function(Hn,An){Tt.properties=An;for(var on=0,yn=Ot;on<yn.length;on+=1){var ln=yn[on];bt.accumulated=Hn[ln],Hn[ln]=Rt[ln].evaluate(bt,Tt)}},wt}(gt)).load(qe.features):new pt(At=qe,gt.geojsonVtOptions)}catch(At){return it(At)}var At;Ke.loaded={};var dt={};if(ft){var ut=ft.finish();ut&&(dt.resourceTiming={},dt.resourceTiming[gt.source]=JSON.parse(JSON.stringify(ut)))}it(null,dt)})}},rt.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},rt.prototype.reloadTile=function(Ke,it){var gt=this.loaded;return gt&&gt[Ke.uid]?tt.prototype.reloadTile.call(this,Ke,it):this.loadTile(Ke,it)},rt.prototype.loadGeoJSON=function(Ke,it){if(Ke.request)f.getJSON(Ke.request,it);else{if("string"!=typeof Ke.data)return it(new Error("Input data given to '"+Ke.source+"' is not a valid GeoJSON object."));try{return it(null,JSON.parse(Ke.data))}catch{return it(new Error("Input data given to '"+Ke.source+"' is not a valid GeoJSON object."))}}},rt.prototype.removeSource=function(Ke,it){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),it()},rt.prototype.getClusterExpansionZoom=function(Ke,it){try{it(null,this._geoJSONIndex.getClusterExpansionZoom(Ke.clusterId))}catch(gt){it(gt)}},rt.prototype.getClusterChildren=function(Ke,it){try{it(null,this._geoJSONIndex.getChildren(Ke.clusterId))}catch(gt){it(gt)}},rt.prototype.getClusterLeaves=function(Ke,it){try{it(null,this._geoJSONIndex.getLeaves(Ke.clusterId,Ke.limit,Ke.offset))}catch(gt){it(gt)}},rt}(o),Lt=function(tt){var rt=this;this.self=tt,this.actor=new f.Actor(tt,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:o,geojson:Ht},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ke,it){if(rt.workerSourceTypes[Ke])throw new Error('Worker source with name "'+Ke+'" already registered.');rt.workerSourceTypes[Ke]=it},this.self.registerRTLTextPlugin=function(Ke){if(f.plugin.isParsed())throw new Error("RTL text plugin already registered.");f.plugin.applyArabicShaping=Ke.applyArabicShaping,f.plugin.processBidirectionalText=Ke.processBidirectionalText,f.plugin.processStyledBidirectionalText=Ke.processStyledBidirectionalText}};return Lt.prototype.setReferrer=function(tt,rt){this.referrer=rt},Lt.prototype.setImages=function(tt,rt,Ke){for(var it in this.availableImages[tt]=rt,this.workerSources[tt]){var gt=this.workerSources[tt][it];for(var ft in gt)gt[ft].availableImages=rt}Ke()},Lt.prototype.setLayers=function(tt,rt,Ke){this.getLayerIndex(tt).replace(rt),Ke()},Lt.prototype.updateLayers=function(tt,rt,Ke){this.getLayerIndex(tt).update(rt.layers,rt.removedIds),Ke()},Lt.prototype.loadTile=function(tt,rt,Ke){this.getWorkerSource(tt,rt.type,rt.source).loadTile(rt,Ke)},Lt.prototype.loadDEMTile=function(tt,rt,Ke){this.getDEMWorkerSource(tt,rt.source).loadTile(rt,Ke)},Lt.prototype.reloadTile=function(tt,rt,Ke){this.getWorkerSource(tt,rt.type,rt.source).reloadTile(rt,Ke)},Lt.prototype.abortTile=function(tt,rt,Ke){this.getWorkerSource(tt,rt.type,rt.source).abortTile(rt,Ke)},Lt.prototype.removeTile=function(tt,rt,Ke){this.getWorkerSource(tt,rt.type,rt.source).removeTile(rt,Ke)},Lt.prototype.removeDEMTile=function(tt,rt){this.getDEMWorkerSource(tt,rt.source).removeTile(rt)},Lt.prototype.removeSource=function(tt,rt,Ke){if(this.workerSources[tt]&&this.workerSources[tt][rt.type]&&this.workerSources[tt][rt.type][rt.source]){var it=this.workerSources[tt][rt.type][rt.source];delete this.workerSources[tt][rt.type][rt.source],void 0!==it.removeSource?it.removeSource(rt,Ke):Ke()}},Lt.prototype.loadWorkerSource=function(tt,rt,Ke){try{this.self.importScripts(rt.url),Ke()}catch(it){Ke(it.toString())}},Lt.prototype.syncRTLPluginState=function(tt,rt,Ke){try{f.plugin.setState(rt);var it=f.plugin.getPluginURL();if(f.plugin.isLoaded()&&!f.plugin.isParsed()&&null!=it){this.self.importScripts(it);var gt=f.plugin.isParsed();Ke(gt?void 0:new Error("RTL Text Plugin failed to import scripts from "+it),gt)}}catch(ft){Ke(ft.toString())}},Lt.prototype.getAvailableImages=function(tt){var rt=this.availableImages[tt];return rt||(rt=[]),rt},Lt.prototype.getLayerIndex=function(tt){var rt=this.layerIndexes[tt];return rt||(rt=this.layerIndexes[tt]=new v),rt},Lt.prototype.getWorkerSource=function(tt,rt,Ke){var it=this;return this.workerSources[tt]||(this.workerSources[tt]={}),this.workerSources[tt][rt]||(this.workerSources[tt][rt]={}),this.workerSources[tt][rt][Ke]||(this.workerSources[tt][rt][Ke]=new this.workerSourceTypes[rt]({send:function(ft,Ve,qe){it.actor.send(ft,Ve,qe,tt)}},this.getLayerIndex(tt),this.getAvailableImages(tt))),this.workerSources[tt][rt][Ke]},Lt.prototype.getDEMWorkerSource=function(tt,rt){return this.demWorkerSources[tt]||(this.demWorkerSources[tt]={}),this.demWorkerSources[tt][rt]||(this.demWorkerSources[tt][rt]=new u),this.demWorkerSources[tt][rt]},Lt.prototype.enforceCacheSizeLimit=function(tt,rt){f.enforceCacheSizeLimit(rt)},typeof WorkerGlobalScope<"u"&&void 0!==f.window&&f.window instanceof WorkerGlobalScope&&(f.window.worker=new Lt(f.window)),Lt}),E(0,function(f){var S=f.createCommonjsModule(function(U){function $(_e){return!q(_e)}function q(_e){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var V,ie,ce=new Blob([""],{type:"text/javascript"}),Me=URL.createObjectURL(ce);try{ie=new Worker(Me),V=!0}catch{V=!1}return ie&&ie.terminate(),URL.revokeObjectURL(Me),V}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var V=document.createElement("canvas");V.width=V.height=1;var ie=V.getContext("2d");if(!ie)return!1;var ce=ie.getImageData(0,0,1,1);return ce&&ce.width===V.width}()?(void 0===ne[Pe=_e&&_e.failIfMajorPerformanceCaveat]&&(ne[Pe]=function(V){var Me,Ce,Ne,ie=(Me=V,Ce=document.createElement("canvas"),(Ne=Object.create($.webGLContextAttributes)).failIfMajorPerformanceCaveat=Me,Ce.probablySupportsContext?Ce.probablySupportsContext("webgl",Ne)||Ce.probablySupportsContext("experimental-webgl",Ne):Ce.supportsContext?Ce.supportsContext("webgl",Ne)||Ce.supportsContext("experimental-webgl",Ne):Ce.getContext("webgl",Ne)||Ce.getContext("experimental-webgl",Ne));if(!ie)return!1;var ce=ie.createShader(ie.VERTEX_SHADER);return!(!ce||ie.isContextLost())&&(ie.shaderSource(ce,"void main() {}"),ie.compileShader(ce),!0===ie.getShaderParameter(ce,ie.COMPILE_STATUS))}(Pe)),ne[Pe]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var Pe}U.exports?U.exports=$:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=$,window.mapboxgl.notSupportedReason=q);var ne={};$.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),M={create:function(U,$,q){var ne=f.window.document.createElement(U);return void 0!==$&&(ne.className=$),q&&q.appendChild(ne),ne},createNS:function(U,$){return f.window.document.createElementNS(U,$)}},v=f.window.document.documentElement.style;function c(U){if(!v)return U[0];for(var $=0;$<U.length;$++)if(U[$]in v)return U[$];return U[0]}var i,s=c(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);M.disableDrag=function(){v&&s&&(i=v[s],v[s]="none")},M.enableDrag=function(){v&&s&&(v[s]=i)};var a=c(["transform","WebkitTransform"]);M.setTransform=function(U,$){U.style[a]=$};var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});f.window.addEventListener("test",l,l),f.window.removeEventListener("test",l,l)}catch{o=!1}M.addEventListener=function(U,$,q,ne){void 0===ne&&(ne={}),U.addEventListener($,q,"passive"in ne&&o?ne:ne.capture)},M.removeEventListener=function(U,$,q,ne){void 0===ne&&(ne={}),U.removeEventListener($,q,"passive"in ne&&o?ne:ne.capture)};var u=function(U){U.preventDefault(),U.stopPropagation(),f.window.removeEventListener("click",u,!0)};function d(U){var $=U.userImage;return!!($&&$.render&&$.render())&&(U.data.replace(new Uint8Array($.data.buffer)),!0)}M.suppressClick=function(){f.window.addEventListener("click",u,!0),f.window.setTimeout(function(){f.window.removeEventListener("click",u,!0)},0)},M.mousePos=function(U,$){var q=U.getBoundingClientRect();return new f.Point($.clientX-q.left-U.clientLeft,$.clientY-q.top-U.clientTop)},M.touchPos=function(U,$){for(var q=U.getBoundingClientRect(),ne=[],_e=0;_e<$.length;_e++)ne.push(new f.Point($[_e].clientX-q.left-U.clientLeft,$[_e].clientY-q.top-U.clientTop));return ne},M.mouseButton=function(U){return void 0!==f.window.InstallTrigger&&2===U.button&&U.ctrlKey&&f.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:U.button},M.remove=function(U){U.parentNode&&U.parentNode.removeChild(U)};var m=function(U){function $(){U.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new f.RGBAImage({width:1,height:1}),this.dirty=!0}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.isLoaded=function(){return this.loaded},$.prototype.setLoaded=function(q){if(this.loaded!==q&&(this.loaded=q,q)){for(var ne=0,_e=this.requestors;ne<_e.length;ne+=1){var Pe=_e[ne];this._notify(Pe.ids,Pe.callback)}this.requestors=[]}},$.prototype.getImage=function(q){return this.images[q]},$.prototype.addImage=function(q,ne){this._validate(q,ne)&&(this.images[q]=ne)},$.prototype._validate=function(q,ne){var _e=!0;return this._validateStretch(ne.stretchX,ne.data&&ne.data.width)||(this.fire(new f.ErrorEvent(new Error('Image "'+q+'" has invalid "stretchX" value'))),_e=!1),this._validateStretch(ne.stretchY,ne.data&&ne.data.height)||(this.fire(new f.ErrorEvent(new Error('Image "'+q+'" has invalid "stretchY" value'))),_e=!1),this._validateContent(ne.content,ne)||(this.fire(new f.ErrorEvent(new Error('Image "'+q+'" has invalid "content" value'))),_e=!1),_e},$.prototype._validateStretch=function(q,ne){if(!q)return!0;for(var _e=0,Pe=0,V=q;Pe<V.length;Pe+=1){var ie=V[Pe];if(ie[0]<_e||ie[1]<ie[0]||ne<ie[1])return!1;_e=ie[1]}return!0},$.prototype._validateContent=function(q,ne){return!(q&&(4!==q.length||q[0]<0||ne.data.width<q[0]||q[1]<0||ne.data.height<q[1]||q[2]<0||ne.data.width<q[2]||q[3]<0||ne.data.height<q[3]||q[2]<q[0]||q[3]<q[1]))},$.prototype.updateImage=function(q,ne){ne.version=this.images[q].version+1,this.images[q]=ne,this.updatedImages[q]=!0},$.prototype.removeImage=function(q){var ne=this.images[q];delete this.images[q],delete this.patterns[q],ne.userImage&&ne.userImage.onRemove&&ne.userImage.onRemove()},$.prototype.listImages=function(){return Object.keys(this.images)},$.prototype.getImages=function(q,ne){var _e=!0;if(!this.isLoaded())for(var Pe=0,V=q;Pe<V.length;Pe+=1)this.images[V[Pe]]||(_e=!1);this.isLoaded()||_e?this._notify(q,ne):this.requestors.push({ids:q,callback:ne})},$.prototype._notify=function(q,ne){for(var _e={},Pe=0,V=q;Pe<V.length;Pe+=1){var ie=V[Pe];this.images[ie]||this.fire(new f.Event("styleimagemissing",{id:ie}));var ce=this.images[ie];ce?_e[ie]={data:ce.data.clone(),pixelRatio:ce.pixelRatio,sdf:ce.sdf,version:ce.version,stretchX:ce.stretchX,stretchY:ce.stretchY,content:ce.content,hasRenderCallback:Boolean(ce.userImage&&ce.userImage.render)}:f.warnOnce('Image "'+ie+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ne(null,_e)},$.prototype.getPixelSize=function(){var q=this.atlasImage;return{width:q.width,height:q.height}},$.prototype.getPattern=function(q){var ne=this.patterns[q],_e=this.getImage(q);if(!_e)return null;if(ne&&ne.position.version===_e.version)return ne.position;if(ne)ne.position.version=_e.version;else{var Pe={w:_e.data.width+2,h:_e.data.height+2,x:0,y:0},V=new f.ImagePosition(Pe,_e);this.patterns[q]={bin:Pe,position:V}}return this._updatePatternAtlas(),this.patterns[q].position},$.prototype.bind=function(q){var ne=q.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new f.Texture(q,this.atlasImage,ne.RGBA),this.atlasTexture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE)},$.prototype._updatePatternAtlas=function(){var q=[];for(var ne in this.patterns)q.push(this.patterns[ne].bin);var _e=f.potpack(q),Pe=_e.w,V=_e.h,ie=this.atlasImage;for(var ce in ie.resize({width:Pe||1,height:V||1}),this.patterns){var Me=this.patterns[ce].bin,Ce=Me.x+1,Ne=Me.y+1,$e=this.images[ce].data,Xe=$e.width,Qe=$e.height;f.RGBAImage.copy($e,ie,{x:0,y:0},{x:Ce,y:Ne},{width:Xe,height:Qe}),f.RGBAImage.copy($e,ie,{x:0,y:Qe-1},{x:Ce,y:Ne-1},{width:Xe,height:1}),f.RGBAImage.copy($e,ie,{x:0,y:0},{x:Ce,y:Ne+Qe},{width:Xe,height:1}),f.RGBAImage.copy($e,ie,{x:Xe-1,y:0},{x:Ce-1,y:Ne},{width:1,height:Qe}),f.RGBAImage.copy($e,ie,{x:0,y:0},{x:Ce+Xe,y:Ne},{width:1,height:Qe})}this.dirty=!0},$.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},$.prototype.dispatchRenderCallbacks=function(q){for(var ne=0,_e=q;ne<_e.length;ne+=1){var Pe=_e[ne];if(!this.callbackDispatchedThisFrame[Pe]){this.callbackDispatchedThisFrame[Pe]=!0;var V=this.images[Pe];d(V)&&this.updateImage(Pe,V)}}},$}(f.Evented),h=g,T=g,_=1e20;function g(U,$,q,ne,_e,Pe){this.fontSize=U||24,this.buffer=void 0===$?3:$,this.cutoff=ne||.25,this.fontFamily=_e||"sans-serif",this.fontWeight=Pe||"normal",this.radius=q||8;var V=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=V,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(V*V),this.gridInner=new Float64Array(V*V),this.f=new Float64Array(V),this.d=new Float64Array(V),this.z=new Float64Array(V+1),this.v=new Int16Array(V),this.middle=Math.round(V/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function w(U,$,q,ne,_e,Pe,V){for(var ie=0;ie<$;ie++){for(var ce=0;ce<q;ce++)ne[ce]=U[ce*$+ie];for(x(ne,_e,Pe,V,q),ce=0;ce<q;ce++)U[ce*$+ie]=_e[ce]}for(ce=0;ce<q;ce++){for(ie=0;ie<$;ie++)ne[ie]=U[ce*$+ie];for(x(ne,_e,Pe,V,$),ie=0;ie<$;ie++)U[ce*$+ie]=Math.sqrt(_e[ie])}}function x(U,$,q,ne,_e){q[0]=0,ne[0]=-_,ne[1]=+_;for(var Pe=1,V=0;Pe<_e;Pe++){for(var ie=(U[Pe]+Pe*Pe-(U[q[V]]+q[V]*q[V]))/(2*Pe-2*q[V]);ie<=ne[V];)V--,ie=(U[Pe]+Pe*Pe-(U[q[V]]+q[V]*q[V]))/(2*Pe-2*q[V]);q[++V]=Pe,ne[V]=ie,ne[V+1]=+_}for(Pe=0,V=0;Pe<_e;Pe++){for(;ne[V+1]<Pe;)V++;$[Pe]=(Pe-q[V])*(Pe-q[V])+U[q[V]]}}g.prototype.draw=function(U){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(U,this.buffer,this.middle);for(var $=this.ctx.getImageData(0,0,this.size,this.size),q=new Uint8ClampedArray(this.size*this.size),ne=0;ne<this.size*this.size;ne++){var _e=$.data[4*ne+3]/255;this.gridOuter[ne]=1===_e?0:0===_e?_:Math.pow(Math.max(0,.5-_e),2),this.gridInner[ne]=1===_e?_:0===_e?0:Math.pow(Math.max(0,_e-.5),2)}for(w(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),w(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ne=0;ne<this.size*this.size;ne++)q[ne]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[ne]-this.gridInner[ne])/this.radius+this.cutoff))));return q},h.default=T;var b=function(U,$){this.requestManager=U,this.localIdeographFontFamily=$,this.entries={}};b.prototype.setURL=function(U){this.url=U},b.prototype.getGlyphs=function(U,$){var q=this,ne=[];for(var _e in U)for(var Pe=0,V=U[_e];Pe<V.length;Pe+=1)ne.push({stack:_e,id:V[Pe]});f.asyncAll(ne,function(ce,Me){var Ce=ce.stack,Ne=ce.id,$e=q.entries[Ce];$e||($e=q.entries[Ce]={glyphs:{},requests:{},ranges:{}});var Xe=$e.glyphs[Ne];if(void 0===Xe){if(Xe=q._tinySDF($e,Ce,Ne))return $e.glyphs[Ne]=Xe,void Me(null,{stack:Ce,id:Ne,glyph:Xe});var Qe=Math.floor(Ne/256);if(256*Qe>65535)Me(new Error("glyphs > 65535 not supported"));else if($e.ranges[Qe])Me(null,{stack:Ce,id:Ne,glyph:Xe});else{var nt=$e.requests[Qe];nt||(nt=$e.requests[Qe]=[],b.loadGlyphRange(Ce,Qe,q.url,q.requestManager,function(lt,xt){if(xt){for(var Mt in xt)q._doesCharSupportLocalGlyph(+Mt)||($e.glyphs[+Mt]=xt[+Mt]);$e.ranges[Qe]=!0}for(var Bt=0,Vt=nt;Bt<Vt.length;Bt+=1)(0,Vt[Bt])(lt,xt);delete $e.requests[Qe]})),nt.push(function(lt,xt){lt?Me(lt):xt&&Me(null,{stack:Ce,id:Ne,glyph:xt[Ne]||null})})}}else Me(null,{stack:Ce,id:Ne,glyph:Xe})},function(ce,Me){if(ce)$(ce);else if(Me){for(var Ce={},Ne=0,$e=Me;Ne<$e.length;Ne+=1){var Xe=$e[Ne],Qe=Xe.stack,nt=Xe.id,lt=Xe.glyph;(Ce[Qe]||(Ce[Qe]={}))[nt]=lt&&{id:lt.id,bitmap:lt.bitmap.clone(),metrics:lt.metrics}}$(null,Ce)}})},b.prototype._doesCharSupportLocalGlyph=function(U){return!!this.localIdeographFontFamily&&(f.isChar["CJK Unified Ideographs"](U)||f.isChar["Hangul Syllables"](U)||f.isChar.Hiragana(U)||f.isChar.Katakana(U))},b.prototype._tinySDF=function(U,$,q){var ne=this.localIdeographFontFamily;if(ne&&this._doesCharSupportLocalGlyph(q)){var _e=U.tinySDF;if(!_e){var Pe="400";/bold/i.test($)?Pe="900":/medium/i.test($)?Pe="500":/light/i.test($)&&(Pe="200"),_e=U.tinySDF=new b.TinySDF(24,3,8,.25,ne,Pe)}return{id:q,bitmap:new f.AlphaImage({width:30,height:30},_e.draw(String.fromCharCode(q))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},b.loadGlyphRange=function(U,$,q,ne,_e){var Pe=256*$,V=Pe+255,ie=ne.transformRequest(ne.normalizeGlyphsURL(q).replace("{fontstack}",U).replace("{range}",Pe+"-"+V),f.ResourceType.Glyphs);f.getArrayBuffer(ie,function(ce,Me){if(ce)_e(ce);else if(Me){for(var Ce={},Ne=0,$e=f.parseGlyphPBF(Me);Ne<$e.length;Ne+=1){var Xe=$e[Ne];Ce[Xe.id]=Xe}_e(null,Ce)}})},b.TinySDF=h;var A=function(){this.specification=f.styleSpec.light.position};A.prototype.possiblyEvaluate=function(U,$){return f.sphericalToCartesian(U.expression.evaluate($))},A.prototype.interpolate=function(U,$,q){return{x:f.number(U.x,$.x,q),y:f.number(U.y,$.y,q),z:f.number(U.z,$.z,q)}};var p=new f.Properties({anchor:new f.DataConstantProperty(f.styleSpec.light.anchor),position:new A,color:new f.DataConstantProperty(f.styleSpec.light.color),intensity:new f.DataConstantProperty(f.styleSpec.light.intensity)}),k=function(U){function $(q){U.call(this),this._transitionable=new f.Transitionable(p),this.setLight(q),this._transitioning=this._transitionable.untransitioned()}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getLight=function(){return this._transitionable.serialize()},$.prototype.setLight=function(q,ne){if(void 0===ne&&(ne={}),!this._validate(f.validateLight,q,ne))for(var _e in q){var Pe=q[_e];f.endsWith(_e,"-transition")?this._transitionable.setTransition(_e.slice(0,-11),Pe):this._transitionable.setValue(_e,Pe)}},$.prototype.updateTransitions=function(q){this._transitioning=this._transitionable.transitioned(q,this._transitioning)},$.prototype.hasTransition=function(){return this._transitioning.hasTransition()},$.prototype.recalculate=function(q){this.properties=this._transitioning.possiblyEvaluate(q)},$.prototype._validate=function(q,ne,_e){return(!_e||!1!==_e.validate)&&f.emitValidationErrors(this,q.call(f.validateStyle,f.extend({value:ne,style:{glyphs:!0,sprite:!0},styleSpec:f.styleSpec})))},$}(f.Evented),I=function(U,$){this.width=U,this.height=$,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};I.prototype.getDash=function(U,$){var q=U.join(",")+String($);return this.dashEntry[q]||(this.dashEntry[q]=this.addDash(U,$)),this.dashEntry[q]},I.prototype.getDashRanges=function(U,$,q){var ne=[],_e=U.length%2==1?-U[U.length-1]*q:0,Pe=U[0]*q,V=!0;ne.push({left:_e,right:Pe,isDash:V,zeroLength:0===U[0]});for(var ie=U[0],ce=1;ce<U.length;ce++){var Me=U[ce];_e=ie*q,Pe=(ie+=Me)*q,ne.push({left:_e,right:Pe,isDash:V=!V,zeroLength:0===Me})}return ne},I.prototype.addRoundDash=function(U,$,q){for(var ne=$/2,_e=-q;_e<=q;_e++)for(var V=this.width*(this.nextRow+q+_e),ie=0,ce=U[ie],Me=0;Me<this.width;Me++){Me/ce.right>1&&(ce=U[++ie]);var Ce=Math.abs(Me-ce.left),Ne=Math.abs(Me-ce.right),$e=Math.min(Ce,Ne),Xe=void 0,Qe=_e/q*(ne+1);if(ce.isDash){var nt=ne-Math.abs(Qe);Xe=Math.sqrt($e*$e+nt*nt)}else Xe=ne-Math.sqrt($e*$e+Qe*Qe);this.data[V+Me]=Math.max(0,Math.min(255,Xe+128))}},I.prototype.addRegularDash=function(U){for(var $=U.length-1;$>=0;--$){var q=U[$],ne=U[$+1];q.zeroLength?U.splice($,1):ne&&ne.isDash===q.isDash&&(ne.left=q.left,U.splice($,1))}var _e=U[0],Pe=U[U.length-1];_e.isDash===Pe.isDash&&(_e.left=Pe.left-this.width,Pe.right=_e.right+this.width);for(var V=this.width*this.nextRow,ie=0,ce=U[ie],Me=0;Me<this.width;Me++){Me/ce.right>1&&(ce=U[++ie]);var Ce=Math.abs(Me-ce.left),Ne=Math.abs(Me-ce.right),$e=Math.min(Ce,Ne);this.data[V+Me]=Math.max(0,Math.min(255,(ce.isDash?$e:-$e)+128))}},I.prototype.addDash=function(U,$){var q=$?7:0,ne=2*q+1;if(this.nextRow+ne>this.height)return f.warnOnce("LineAtlas out of space"),null;for(var _e=0,Pe=0;Pe<U.length;Pe++)_e+=U[Pe];if(0!==_e){var V=this.width/_e,ie=this.getDashRanges(U,this.width,V);$?this.addRoundDash(ie,V,q):this.addRegularDash(ie)}var ce={y:(this.nextRow+q+.5)/this.height,height:2*q/this.height,width:_e};return this.nextRow+=ne,this.dirty=!0,ce},I.prototype.bind=function(U){var $=U.gl;this.texture?($.bindTexture($.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,$.texSubImage2D($.TEXTURE_2D,0,0,0,this.width,this.height,$.ALPHA,$.UNSIGNED_BYTE,this.data))):(this.texture=$.createTexture(),$.bindTexture($.TEXTURE_2D,this.texture),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_S,$.REPEAT),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_T,$.REPEAT),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,$.LINEAR),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,$.LINEAR),$.texImage2D($.TEXTURE_2D,0,$.ALPHA,this.width,this.height,0,$.ALPHA,$.UNSIGNED_BYTE,this.data))};var P=function U($,q){this.workerPool=$,this.actors=[],this.currentActor=0,this.id=f.uniqueId();for(var ne=this.workerPool.acquire(this.id),_e=0;_e<ne.length;_e++){var V=new U.Actor(ne[_e],q,this.id);V.name="Worker "+_e,this.actors.push(V)}};function R(U,$,q){var ne=function(_e,Pe){if(_e)return q(_e);if(Pe){var V=f.pick(f.extend(Pe,U),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Pe.vector_layers&&(V.vectorLayers=Pe.vector_layers,V.vectorLayerIds=V.vectorLayers.map(function(ie){return ie.id})),V.tiles=$.canonicalizeTileset(V,U.url),q(null,V)}};return U.url?f.getJSON($.transformRequest($.normalizeSourceURL(U.url),f.ResourceType.Source),ne):f.browser.frame(function(){return ne(null,U)})}P.prototype.broadcast=function(U,$,q){f.asyncAll(this.actors,function(ne,_e){ne.send(U,$,_e)},q=q||function(){})},P.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},P.prototype.remove=function(){this.actors.forEach(function(U){U.remove()}),this.actors=[],this.workerPool.release(this.id)},P.Actor=f.Actor;var N=function(U,$,q){this.bounds=f.LngLatBounds.convert(this.validateBounds(U)),this.minzoom=$||0,this.maxzoom=q||24};N.prototype.validateBounds=function(U){return Array.isArray(U)&&4===U.length?[Math.max(-180,U[0]),Math.max(-90,U[1]),Math.min(180,U[2]),Math.min(90,U[3])]:[-180,-90,180,90]},N.prototype.contains=function(U){var $=Math.pow(2,U.z),q=Math.floor(f.mercatorXfromLng(this.bounds.getWest())*$),ne=Math.floor(f.mercatorYfromLat(this.bounds.getNorth())*$),_e=Math.ceil(f.mercatorXfromLng(this.bounds.getEast())*$),Pe=Math.ceil(f.mercatorYfromLat(this.bounds.getSouth())*$);return U.x>=q&&U.x<_e&&U.y>=ne&&U.y<Pe};var j=function(U){function $(q,ne,_e,Pe){if(U.call(this),this.id=q,this.dispatcher=_e,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,f.extend(this,f.pick(ne,["url","scheme","tileSize","promoteId"])),this._options=f.extend({type:"vector"},ne),this._collectResourceTiming=ne.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Pe)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.load=function(){var q=this;this._loaded=!1,this.fire(new f.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=R(this._options,this.map._requestManager,function(ne,_e){q._tileJSONRequest=null,q._loaded=!0,ne?q.fire(new f.ErrorEvent(ne)):_e&&(f.extend(q,_e),_e.bounds&&(q.tileBounds=new N(_e.bounds,q.minzoom,q.maxzoom)),f.postTurnstileEvent(_e.tiles,q.map._requestManager._customAccessToken),f.postMapLoadEvent(_e.tiles,q.map._getMapId(),q.map._requestManager._skuToken,q.map._requestManager._customAccessToken),q.fire(new f.Event("data",{dataType:"source",sourceDataType:"metadata"})),q.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"})))})},$.prototype.loaded=function(){return this._loaded},$.prototype.hasTile=function(q){return!this.tileBounds||this.tileBounds.contains(q.canonical)},$.prototype.onAdd=function(q){this.map=q,this.load()},$.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},$.prototype.serialize=function(){return f.extend({},this._options)},$.prototype.loadTile=function(q,ne){var _e=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme)),Pe={request:this.map._requestManager.transformRequest(_e,f.ResourceType.Tile),uid:q.uid,tileID:q.tileID,zoom:q.tileID.overscaledZ,tileSize:this.tileSize*q.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:f.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function V(ie,ce){return delete q.request,q.aborted?ne(null):ie&&404!==ie.status?ne(ie):(ce&&ce.resourceTiming&&(q.resourceTiming=ce.resourceTiming),this.map._refreshExpiredTiles&&ce&&q.setExpiryData(ce),q.loadVectorData(ce,this.map.painter),f.cacheEntryPossiblyAdded(this.dispatcher),ne(null),void(q.reloadCallback&&(this.loadTile(q,q.reloadCallback),q.reloadCallback=null)))}Pe.request.collectResourceTiming=this._collectResourceTiming,q.actor&&"expired"!==q.state?"loading"===q.state?q.reloadCallback=ne:q.request=q.actor.send("reloadTile",Pe,V.bind(this)):(q.actor=this.dispatcher.getActor(),q.request=q.actor.send("loadTile",Pe,V.bind(this)))},$.prototype.abortTile=function(q){q.request&&(q.request.cancel(),delete q.request),q.actor&&q.actor.send("abortTile",{uid:q.uid,type:this.type,source:this.id},void 0)},$.prototype.unloadTile=function(q){q.unloadVectorData(),q.actor&&q.actor.send("removeTile",{uid:q.uid,type:this.type,source:this.id},void 0)},$.prototype.hasTransition=function(){return!1},$}(f.Evented),X=function(U){function $(q,ne,_e,Pe){U.call(this),this.id=q,this.dispatcher=_e,this.setEventedParent(Pe),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=f.extend({type:"raster"},ne),f.extend(this,f.pick(ne,["url","scheme","tileSize"]))}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.load=function(){var q=this;this._loaded=!1,this.fire(new f.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=R(this._options,this.map._requestManager,function(ne,_e){q._tileJSONRequest=null,q._loaded=!0,ne?q.fire(new f.ErrorEvent(ne)):_e&&(f.extend(q,_e),_e.bounds&&(q.tileBounds=new N(_e.bounds,q.minzoom,q.maxzoom)),f.postTurnstileEvent(_e.tiles),f.postMapLoadEvent(_e.tiles,q.map._getMapId(),q.map._requestManager._skuToken),q.fire(new f.Event("data",{dataType:"source",sourceDataType:"metadata"})),q.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"})))})},$.prototype.loaded=function(){return this._loaded},$.prototype.onAdd=function(q){this.map=q,this.load()},$.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},$.prototype.serialize=function(){return f.extend({},this._options)},$.prototype.hasTile=function(q){return!this.tileBounds||this.tileBounds.contains(q.canonical)},$.prototype.loadTile=function(q,ne){var _e=this,Pe=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);q.request=f.getImage(this.map._requestManager.transformRequest(Pe,f.ResourceType.Tile),function(V,ie){if(delete q.request,q.aborted)q.state="unloaded",ne(null);else if(V)q.state="errored",ne(V);else if(ie){_e.map._refreshExpiredTiles&&q.setExpiryData(ie),delete ie.cacheControl,delete ie.expires;var ce=_e.map.painter.context,Me=ce.gl;q.texture=_e.map.painter.getTileTexture(ie.width),q.texture?q.texture.update(ie,{useMipmap:!0}):(q.texture=new f.Texture(ce,ie,Me.RGBA,{useMipmap:!0}),q.texture.bind(Me.LINEAR,Me.CLAMP_TO_EDGE,Me.LINEAR_MIPMAP_NEAREST),ce.extTextureFilterAnisotropic&&Me.texParameterf(Me.TEXTURE_2D,ce.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ce.extTextureFilterAnisotropicMax)),q.state="loaded",f.cacheEntryPossiblyAdded(_e.dispatcher),ne(null)}})},$.prototype.abortTile=function(q,ne){q.request&&(q.request.cancel(),delete q.request),ne()},$.prototype.unloadTile=function(q,ne){q.texture&&this.map.painter.saveTileTexture(q.texture),ne()},$.prototype.hasTransition=function(){return!1},$}(f.Evented),F=function(U){function $(q,ne,_e,Pe){U.call(this,q,ne,_e,Pe),this.type="raster-dem",this.maxzoom=22,this._options=f.extend({type:"raster-dem"},ne),this.encoding=ne.encoding||"mapbox"}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},$.prototype.loadTile=function(q,ne){var _e=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function Pe(V,ie){V&&(q.state="errored",ne(V)),ie&&(q.dem=ie,q.needsHillshadePrepare=!0,q.state="loaded",ne(null))}q.request=f.getImage(this.map._requestManager.transformRequest(_e,f.ResourceType.Tile),function(V,ie){if(delete q.request,q.aborted)q.state="unloaded",ne(null);else if(V)q.state="errored",ne(V);else if(ie){this.map._refreshExpiredTiles&&q.setExpiryData(ie),delete ie.cacheControl,delete ie.expires;var ce=f.window.ImageBitmap&&ie instanceof f.window.ImageBitmap&&f.offscreenCanvasSupported()?ie:f.browser.getImageData(ie,1),Me={uid:q.uid,coord:q.tileID,source:this.id,rawImageData:ce,encoding:this.encoding};q.actor&&"expired"!==q.state||(q.actor=this.dispatcher.getActor(),q.actor.send("loadDEMTile",Me,Pe.bind(this)))}}.bind(this)),q.neighboringTiles=this._getNeighboringTiles(q.tileID)},$.prototype._getNeighboringTiles=function(q){var ne=q.canonical,_e=Math.pow(2,ne.z),Pe=(ne.x-1+_e)%_e,V=0===ne.x?q.wrap-1:q.wrap,ie=(ne.x+1+_e)%_e,ce=ne.x+1===_e?q.wrap+1:q.wrap,Me={};return Me[new f.OverscaledTileID(q.overscaledZ,V,ne.z,Pe,ne.y).key]={backfilled:!1},Me[new f.OverscaledTileID(q.overscaledZ,ce,ne.z,ie,ne.y).key]={backfilled:!1},ne.y>0&&(Me[new f.OverscaledTileID(q.overscaledZ,V,ne.z,Pe,ne.y-1).key]={backfilled:!1},Me[new f.OverscaledTileID(q.overscaledZ,q.wrap,ne.z,ne.x,ne.y-1).key]={backfilled:!1},Me[new f.OverscaledTileID(q.overscaledZ,ce,ne.z,ie,ne.y-1).key]={backfilled:!1}),ne.y+1<_e&&(Me[new f.OverscaledTileID(q.overscaledZ,V,ne.z,Pe,ne.y+1).key]={backfilled:!1},Me[new f.OverscaledTileID(q.overscaledZ,q.wrap,ne.z,ne.x,ne.y+1).key]={backfilled:!1},Me[new f.OverscaledTileID(q.overscaledZ,ce,ne.z,ie,ne.y+1).key]={backfilled:!1}),Me},$.prototype.unloadTile=function(q){q.demTexture&&this.map.painter.saveTileTexture(q.demTexture),q.fbo&&(q.fbo.destroy(),delete q.fbo),q.dem&&delete q.dem,delete q.neighboringTiles,q.state="unloaded",q.actor&&q.actor.send("removeDEMTile",{uid:q.uid,source:this.id})},$}(X),Z=function(U){function $(q,ne,_e,Pe){U.call(this),this.id=q,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=_e.getActor(),this.setEventedParent(Pe),this._data=ne.data,this._options=f.extend({},ne),this._collectResourceTiming=ne.collectResourceTiming,this._resourceTiming=[],void 0!==ne.maxzoom&&(this.maxzoom=ne.maxzoom),ne.type&&(this.type=ne.type),ne.attribution&&(this.attribution=ne.attribution),this.promoteId=ne.promoteId;var V=f.EXTENT/this.tileSize;this.workerOptions=f.extend({source:this.id,cluster:ne.cluster||!1,geojsonVtOptions:{buffer:(void 0!==ne.buffer?ne.buffer:128)*V,tolerance:(void 0!==ne.tolerance?ne.tolerance:.375)*V,extent:f.EXTENT,maxZoom:this.maxzoom,lineMetrics:ne.lineMetrics||!1,generateId:ne.generateId||!1},superclusterOptions:{maxZoom:void 0!==ne.clusterMaxZoom?Math.min(ne.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:f.EXTENT,radius:(ne.clusterRadius||50)*V,log:!1,generateId:ne.generateId||!1},clusterProperties:ne.clusterProperties},ne.workerOptions)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.load=function(){var q=this;this.fire(new f.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ne){if(ne)q.fire(new f.ErrorEvent(ne));else{var _e={dataType:"source",sourceDataType:"metadata"};q._collectResourceTiming&&q._resourceTiming&&q._resourceTiming.length>0&&(_e.resourceTiming=q._resourceTiming,q._resourceTiming=[]),q.fire(new f.Event("data",_e))}})},$.prototype.onAdd=function(q){this.map=q,this.load()},$.prototype.setData=function(q){var ne=this;return this._data=q,this.fire(new f.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(_e){if(_e)ne.fire(new f.ErrorEvent(_e));else{var Pe={dataType:"source",sourceDataType:"content"};ne._collectResourceTiming&&ne._resourceTiming&&ne._resourceTiming.length>0&&(Pe.resourceTiming=ne._resourceTiming,ne._resourceTiming=[]),ne.fire(new f.Event("data",Pe))}}),this},$.prototype.getClusterExpansionZoom=function(q,ne){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:q,source:this.id},ne),this},$.prototype.getClusterChildren=function(q,ne){return this.actor.send("geojson.getClusterChildren",{clusterId:q,source:this.id},ne),this},$.prototype.getClusterLeaves=function(q,ne,_e,Pe){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:q,limit:ne,offset:_e},Pe),this},$.prototype._updateWorkerData=function(q){var ne=this;this._loaded=!1;var _e=f.extend({},this.workerOptions),Pe=this._data;"string"==typeof Pe?(_e.request=this.map._requestManager.transformRequest(f.browser.resolveURL(Pe),f.ResourceType.Source),_e.request.collectResourceTiming=this._collectResourceTiming):_e.data=JSON.stringify(Pe),this.actor.send(this.type+".loadData",_e,function(V,ie){ne._removed||ie&&ie.abandoned||(ne._loaded=!0,ie&&ie.resourceTiming&&ie.resourceTiming[ne.id]&&(ne._resourceTiming=ie.resourceTiming[ne.id].slice(0)),ne.actor.send(ne.type+".coalesce",{source:_e.source},null),q(V))})},$.prototype.loaded=function(){return this._loaded},$.prototype.loadTile=function(q,ne){var _e=this,Pe=q.actor?"reloadTile":"loadTile";q.actor=this.actor,q.request=this.actor.send(Pe,{type:this.type,uid:q.uid,tileID:q.tileID,zoom:q.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:f.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(ie,ce){return delete q.request,q.unloadVectorData(),q.aborted?ne(null):ie?ne(ie):(q.loadVectorData(ce,_e.map.painter,"reloadTile"===Pe),ne(null))})},$.prototype.abortTile=function(q){q.request&&(q.request.cancel(),delete q.request),q.aborted=!0},$.prototype.unloadTile=function(q){q.unloadVectorData(),this.actor.send("removeTile",{uid:q.uid,type:this.type,source:this.id})},$.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},$.prototype.serialize=function(){return f.extend({},this._options,{type:this.type,data:this._data})},$.prototype.hasTransition=function(){return!1},$}(f.Evented),W=f.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),H=function(U){function $(q,ne,_e,Pe){U.call(this),this.id=q,this.dispatcher=_e,this.coordinates=ne.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Pe),this.options=ne}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.load=function(q,ne){var _e=this;this._loaded=!1,this.fire(new f.Event("dataloading",{dataType:"source"})),this.url=this.options.url,f.getImage(this.map._requestManager.transformRequest(this.url,f.ResourceType.Image),function(Pe,V){_e._loaded=!0,Pe?_e.fire(new f.ErrorEvent(Pe)):V&&(_e.image=V,q&&(_e.coordinates=q),ne&&ne(),_e._finishLoading())})},$.prototype.loaded=function(){return this._loaded},$.prototype.updateImage=function(q){var ne=this;return this.image&&q.url?(this.options.url=q.url,this.load(q.coordinates,function(){ne.texture=null}),this):this},$.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new f.Event("data",{dataType:"source",sourceDataType:"metadata"})))},$.prototype.onAdd=function(q){this.map=q,this.load()},$.prototype.setCoordinates=function(q){var ne=this;this.coordinates=q;var _e=q.map(f.MercatorCoordinate.fromLngLat);this.tileID=function(V){for(var ie=1/0,ce=1/0,Me=-1/0,Ce=-1/0,Ne=0,$e=V;Ne<$e.length;Ne+=1){var Xe=$e[Ne];ie=Math.min(ie,Xe.x),ce=Math.min(ce,Xe.y),Me=Math.max(Me,Xe.x),Ce=Math.max(Ce,Xe.y)}var lt=Math.max(Me-ie,Ce-ce),xt=Math.max(0,Math.floor(-Math.log(lt)/Math.LN2)),Mt=Math.pow(2,xt);return new f.CanonicalTileID(xt,Math.floor((ie+Me)/2*Mt),Math.floor((ce+Ce)/2*Mt))}(_e),this.minzoom=this.maxzoom=this.tileID.z;var Pe=_e.map(function(V){return ne.tileID.getTilePoint(V)._round()});return this._boundsArray=new f.StructArrayLayout4i8,this._boundsArray.emplaceBack(Pe[0].x,Pe[0].y,0,0),this._boundsArray.emplaceBack(Pe[1].x,Pe[1].y,f.EXTENT,0),this._boundsArray.emplaceBack(Pe[3].x,Pe[3].y,0,f.EXTENT),this._boundsArray.emplaceBack(Pe[2].x,Pe[2].y,f.EXTENT,f.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"})),this},$.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var q=this.map.painter.context,ne=q.gl;for(var _e in this.boundsBuffer||(this.boundsBuffer=q.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=f.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new f.Texture(q,this.image,ne.RGBA),this.texture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE)),this.tiles){var Pe=this.tiles[_e];"loaded"!==Pe.state&&(Pe.state="loaded",Pe.texture=this.texture)}}},$.prototype.loadTile=function(q,ne){this.tileID&&this.tileID.equals(q.tileID.canonical)?(this.tiles[String(q.tileID.wrap)]=q,q.buckets={},ne(null)):(q.state="errored",ne(null))},$.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},$.prototype.hasTransition=function(){return!1},$}(f.Evented),G=function(U){function $(q,ne,_e,Pe){U.call(this,q,ne,_e,Pe),this.roundZoom=!0,this.type="video",this.options=ne}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.load=function(){var q=this;this._loaded=!1;var ne=this.options;this.urls=[];for(var _e=0,Pe=ne.urls;_e<Pe.length;_e+=1)this.urls.push(this.map._requestManager.transformRequest(Pe[_e],f.ResourceType.Source).url);f.getVideo(this.urls,function(ie,ce){q._loaded=!0,ie?q.fire(new f.ErrorEvent(ie)):ce&&(q.video=ce,q.video.loop=!0,q.video.addEventListener("playing",function(){q.map.triggerRepaint()}),q.map&&q.video.play(),q._finishLoading())})},$.prototype.pause=function(){this.video&&this.video.pause()},$.prototype.play=function(){this.video&&this.video.play()},$.prototype.seek=function(q){if(this.video){var ne=this.video.seekable;q<ne.start(0)||q>ne.end(0)?this.fire(new f.ErrorEvent(new f.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ne.start(0)+" and "+ne.end(0)+"-second mark."))):this.video.currentTime=q}},$.prototype.getVideo=function(){return this.video},$.prototype.onAdd=function(q){this.map||(this.map=q,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},$.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var q=this.map.painter.context,ne=q.gl;for(var _e in this.boundsBuffer||(this.boundsBuffer=q.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=f.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE),ne.texSubImage2D(ne.TEXTURE_2D,0,0,0,ne.RGBA,ne.UNSIGNED_BYTE,this.video)):(this.texture=new f.Texture(q,this.video,ne.RGBA),this.texture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE)),this.tiles){var Pe=this.tiles[_e];"loaded"!==Pe.state&&(Pe.state="loaded",Pe.texture=this.texture)}}},$.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},$.prototype.hasTransition=function(){return this.video&&!this.video.paused},$}(H),Y=function(U){function $(q,ne,_e,Pe){U.call(this,q,ne,_e,Pe),ne.coordinates?Array.isArray(ne.coordinates)&&4===ne.coordinates.length&&!ne.coordinates.some(function(V){return!Array.isArray(V)||2!==V.length||V.some(function(ie){return"number"!=typeof ie})})||this.fire(new f.ErrorEvent(new f.ValidationError("sources."+q,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new f.ErrorEvent(new f.ValidationError("sources."+q,null,'missing required property "coordinates"'))),ne.animate&&"boolean"!=typeof ne.animate&&this.fire(new f.ErrorEvent(new f.ValidationError("sources."+q,null,'optional "animate" property must be a boolean value'))),ne.canvas?"string"==typeof ne.canvas||ne.canvas instanceof f.window.HTMLCanvasElement||this.fire(new f.ErrorEvent(new f.ValidationError("sources."+q,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new f.ErrorEvent(new f.ValidationError("sources."+q,null,'missing required property "canvas"'))),this.options=ne,this.animate=void 0===ne.animate||ne.animate}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof f.window.HTMLCanvasElement?this.options.canvas:f.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new f.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},$.prototype.getCanvas=function(){return this.canvas},$.prototype.onAdd=function(q){this.map=q,this.load(),this.canvas&&this.animate&&this.play()},$.prototype.onRemove=function(){this.pause()},$.prototype.prepare=function(){var q=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,q=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,q=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var ne=this.map.painter.context,_e=ne.gl;for(var Pe in this.boundsBuffer||(this.boundsBuffer=ne.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=f.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(q||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new f.Texture(ne,this.canvas,_e.RGBA,{premultiply:!0}),this.tiles){var V=this.tiles[Pe];"loaded"!==V.state&&(V.state="loaded",V.texture=this.texture)}}},$.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},$.prototype.hasTransition=function(){return this._playing},$.prototype._hasInvalidDimensions=function(){for(var q=0,ne=[this.canvas.width,this.canvas.height];q<ne.length;q+=1){var _e=ne[q];if(isNaN(_e)||_e<=0)return!0}return!1},$}(H),se={vector:j,raster:X,"raster-dem":F,geojson:Z,video:G,image:H,canvas:Y};function te(U,$){var q=f.identity([]);return f.translate(q,q,[1,1,0]),f.scale(q,q,[.5*U.width,.5*U.height,1]),f.multiply(q,q,U.calculatePosMatrix($.toUnwrapped()))}function re(U,$,q,ne,_e,Pe){var V=function(nt,lt,xt){if(nt)for(var Mt=0,Bt=nt;Mt<Bt.length;Mt+=1){var Vt=lt[Bt[Mt]];if(Vt&&Vt.source===xt&&"fill-extrusion"===Vt.type)return!0}else for(var jt in lt){var Xt=lt[jt];if(Xt.source===xt&&"fill-extrusion"===Xt.type)return!0}return!1}(_e&&_e.layers,$,U.id),ie=Pe.maxPitchScaleFactor(),ce=U.tilesIn(ne,ie,V);ce.sort(Q);for(var Me=[],Ce=0,Ne=ce;Ce<Ne.length;Ce+=1){var $e=Ne[Ce];Me.push({wrappedTileID:$e.tileID.wrapped().key,queryResults:$e.tile.queryRenderedFeatures($,q,U._state,$e.queryGeometry,$e.cameraQueryGeometry,$e.scale,_e,Pe,ie,te(U.transform,$e.tileID))})}var Xe=function(nt){for(var lt={},xt={},Mt=0,Bt=nt;Mt<Bt.length;Mt+=1){var Vt=Bt[Mt],jt=Vt.queryResults,Xt=Vt.wrappedTileID,Ut=xt[Xt]=xt[Xt]||{};for(var gn in jt)for(var sn=jt[gn],rn=Ut[gn]=Ut[gn]||{},En=lt[gn]=lt[gn]||[],On=0,$n=sn;On<$n.length;On+=1){var tr=$n[On];rn[tr.featureIndex]||(rn[tr.featureIndex]=!0,En.push(tr))}}return lt}(Me);for(var Qe in Xe)Xe[Qe].forEach(function(nt){var lt=nt.feature,xt=U.getFeatureState(lt.layer["source-layer"],lt.id);lt.source=lt.layer.source,lt.layer["source-layer"]&&(lt.sourceLayer=lt.layer["source-layer"]),lt.state=xt});return Xe}function Q(U,$){var q=U.tileID,ne=$.tileID;return q.overscaledZ-ne.overscaledZ||q.canonical.y-ne.canonical.y||q.wrap-ne.wrap||q.canonical.x-ne.canonical.x}var ee=function(U,$){this.max=U,this.onRemove=$,this.reset()};ee.prototype.reset=function(){for(var U in this.data)for(var $=0,q=this.data[U];$<q.length;$+=1){var ne=q[$];ne.timeout&&clearTimeout(ne.timeout),this.onRemove(ne.value)}return this.data={},this.order=[],this},ee.prototype.add=function(U,$,q){var ne=this,_e=U.wrapped().key;void 0===this.data[_e]&&(this.data[_e]=[]);var Pe={value:$,timeout:void 0};if(void 0!==q&&(Pe.timeout=setTimeout(function(){ne.remove(U,Pe)},q)),this.data[_e].push(Pe),this.order.push(_e),this.order.length>this.max){var V=this._getAndRemoveByKey(this.order[0]);V&&this.onRemove(V)}return this},ee.prototype.has=function(U){return U.wrapped().key in this.data},ee.prototype.getAndRemove=function(U){return this.has(U)?this._getAndRemoveByKey(U.wrapped().key):null},ee.prototype._getAndRemoveByKey=function(U){var $=this.data[U].shift();return $.timeout&&clearTimeout($.timeout),0===this.data[U].length&&delete this.data[U],this.order.splice(this.order.indexOf(U),1),$.value},ee.prototype.getByKey=function(U){var $=this.data[U];return $?$[0].value:null},ee.prototype.get=function(U){return this.has(U)?this.data[U.wrapped().key][0].value:null},ee.prototype.remove=function(U,$){if(!this.has(U))return this;var q=U.wrapped().key,ne=void 0===$?0:this.data[q].indexOf($),_e=this.data[q][ne];return this.data[q].splice(ne,1),_e.timeout&&clearTimeout(_e.timeout),0===this.data[q].length&&delete this.data[q],this.onRemove(_e.value),this.order.splice(this.order.indexOf(q),1),this},ee.prototype.setMaxSize=function(U){for(this.max=U;this.order.length>this.max;){var $=this._getAndRemoveByKey(this.order[0]);$&&this.onRemove($)}return this},ee.prototype.filter=function(U){var $=[];for(var q in this.data)for(var ne=0,_e=this.data[q];ne<_e.length;ne+=1){var Pe=_e[ne];U(Pe.value)||$.push(Pe)}for(var V=0,ie=$;V<ie.length;V+=1){var ce=ie[V];this.remove(ce.value.tileID,ce)}};var oe=function(U,$,q){this.context=U;var ne=U.gl;this.buffer=ne.createBuffer(),this.dynamicDraw=Boolean(q),this.context.unbindVAO(),U.bindElementBuffer.set(this.buffer),ne.bufferData(ne.ELEMENT_ARRAY_BUFFER,$.arrayBuffer,this.dynamicDraw?ne.DYNAMIC_DRAW:ne.STATIC_DRAW),this.dynamicDraw||delete $.arrayBuffer};oe.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},oe.prototype.updateData=function(U){var $=this.context.gl;this.context.unbindVAO(),this.bind(),$.bufferSubData($.ELEMENT_ARRAY_BUFFER,0,U.arrayBuffer)},oe.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var le={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ue=function(U,$,q,ne){this.length=$.length,this.attributes=q,this.itemSize=$.bytesPerElement,this.dynamicDraw=ne,this.context=U;var _e=U.gl;this.buffer=_e.createBuffer(),U.bindVertexBuffer.set(this.buffer),_e.bufferData(_e.ARRAY_BUFFER,$.arrayBuffer,this.dynamicDraw?_e.DYNAMIC_DRAW:_e.STATIC_DRAW),this.dynamicDraw||delete $.arrayBuffer};ue.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ue.prototype.updateData=function(U){var $=this.context.gl;this.bind(),$.bufferSubData($.ARRAY_BUFFER,0,U.arrayBuffer)},ue.prototype.enableAttributes=function(U,$){for(var q=0;q<this.attributes.length;q++){var _e=$.attributes[this.attributes[q].name];void 0!==_e&&U.enableVertexAttribArray(_e)}},ue.prototype.setVertexAttribPointers=function(U,$,q){for(var ne=0;ne<this.attributes.length;ne++){var _e=this.attributes[ne],Pe=$.attributes[_e.name];void 0!==Pe&&U.vertexAttribPointer(Pe,_e.components,U[le[_e.type]],!1,this.itemSize,_e.offset+this.itemSize*(q||0))}},ue.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var de=function(U){this.gl=U.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};de.prototype.get=function(){return this.current},de.prototype.set=function(U){},de.prototype.getDefault=function(){return this.default},de.prototype.setDefault=function(){this.set(this.default)};var he=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return f.Color.transparent},$.prototype.set=function(q){var ne=this.current;(q.r!==ne.r||q.g!==ne.g||q.b!==ne.b||q.a!==ne.a||this.dirty)&&(this.gl.clearColor(q.r,q.g,q.b,q.a),this.current=q,this.dirty=!1)},$}(de),we=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return 1},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.clearDepth(q),this.current=q,this.dirty=!1)},$}(de),Ae=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return 0},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.clearStencil(q),this.current=q,this.dirty=!1)},$}(de),Te=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return[!0,!0,!0,!0]},$.prototype.set=function(q){var ne=this.current;(q[0]!==ne[0]||q[1]!==ne[1]||q[2]!==ne[2]||q[3]!==ne[3]||this.dirty)&&(this.gl.colorMask(q[0],q[1],q[2],q[3]),this.current=q,this.dirty=!1)},$}(de),ve=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return!0},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.depthMask(q),this.current=q,this.dirty=!1)},$}(de),xe=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return 255},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.stencilMask(q),this.current=q,this.dirty=!1)},$}(de),Fe=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},$.prototype.set=function(q){var ne=this.current;(q.func!==ne.func||q.ref!==ne.ref||q.mask!==ne.mask||this.dirty)&&(this.gl.stencilFunc(q.func,q.ref,q.mask),this.current=q,this.dirty=!1)},$}(de),Se=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){var q=this.gl;return[q.KEEP,q.KEEP,q.KEEP]},$.prototype.set=function(q){var ne=this.current;(q[0]!==ne[0]||q[1]!==ne[1]||q[2]!==ne[2]||this.dirty)&&(this.gl.stencilOp(q[0],q[1],q[2]),this.current=q,this.dirty=!1)},$}(de),ke=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(q){if(q!==this.current||this.dirty){var ne=this.gl;q?ne.enable(ne.STENCIL_TEST):ne.disable(ne.STENCIL_TEST),this.current=q,this.dirty=!1}},$}(de),pe=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return[0,1]},$.prototype.set=function(q){var ne=this.current;(q[0]!==ne[0]||q[1]!==ne[1]||this.dirty)&&(this.gl.depthRange(q[0],q[1]),this.current=q,this.dirty=!1)},$}(de),fe=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(q){if(q!==this.current||this.dirty){var ne=this.gl;q?ne.enable(ne.DEPTH_TEST):ne.disable(ne.DEPTH_TEST),this.current=q,this.dirty=!1}},$}(de),be=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return this.gl.LESS},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.depthFunc(q),this.current=q,this.dirty=!1)},$}(de),Le=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(q){if(q!==this.current||this.dirty){var ne=this.gl;q?ne.enable(ne.BLEND):ne.disable(ne.BLEND),this.current=q,this.dirty=!1}},$}(de),Oe=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){var q=this.gl;return[q.ONE,q.ZERO]},$.prototype.set=function(q){var ne=this.current;(q[0]!==ne[0]||q[1]!==ne[1]||this.dirty)&&(this.gl.blendFunc(q[0],q[1]),this.current=q,this.dirty=!1)},$}(de),De=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return f.Color.transparent},$.prototype.set=function(q){var ne=this.current;(q.r!==ne.r||q.g!==ne.g||q.b!==ne.b||q.a!==ne.a||this.dirty)&&(this.gl.blendColor(q.r,q.g,q.b,q.a),this.current=q,this.dirty=!1)},$}(de),Ue=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return this.gl.FUNC_ADD},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.blendEquation(q),this.current=q,this.dirty=!1)},$}(de),Ge=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(q){if(q!==this.current||this.dirty){var ne=this.gl;q?ne.enable(ne.CULL_FACE):ne.disable(ne.CULL_FACE),this.current=q,this.dirty=!1}},$}(de),ye=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return this.gl.BACK},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.cullFace(q),this.current=q,this.dirty=!1)},$}(de),Ie=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return this.gl.CCW},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.frontFace(q),this.current=q,this.dirty=!1)},$}(de),Ee=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.useProgram(q),this.current=q,this.dirty=!1)},$}(de),Be=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return this.gl.TEXTURE0},$.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.activeTexture(q),this.current=q,this.dirty=!1)},$}(de),We=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){var q=this.gl;return[0,0,q.drawingBufferWidth,q.drawingBufferHeight]},$.prototype.set=function(q){var ne=this.current;(q[0]!==ne[0]||q[1]!==ne[1]||q[2]!==ne[2]||q[3]!==ne[3]||this.dirty)&&(this.gl.viewport(q[0],q[1],q[2],q[3]),this.current=q,this.dirty=!1)},$}(de),He=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(q){if(q!==this.current||this.dirty){var ne=this.gl;ne.bindFramebuffer(ne.FRAMEBUFFER,q),this.current=q,this.dirty=!1}},$}(de),Je=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(q){if(q!==this.current||this.dirty){var ne=this.gl;ne.bindRenderbuffer(ne.RENDERBUFFER,q),this.current=q,this.dirty=!1}},$}(de),et=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(q){if(q!==this.current||this.dirty){var ne=this.gl;ne.bindTexture(ne.TEXTURE_2D,q),this.current=q,this.dirty=!1}},$}(de),at=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(q){if(q!==this.current||this.dirty){var ne=this.gl;ne.bindBuffer(ne.ARRAY_BUFFER,q),this.current=q,this.dirty=!1}},$}(de),mt=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(q){var ne=this.gl;ne.bindBuffer(ne.ELEMENT_ARRAY_BUFFER,q),this.current=q,this.dirty=!1},$}(de),ct=function(U){function $(q){U.call(this,q),this.vao=q.extVertexArrayObject}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(q){this.vao&&(q!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(q),this.current=q,this.dirty=!1)},$}(de),St=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return 4},$.prototype.set=function(q){if(q!==this.current||this.dirty){var ne=this.gl;ne.pixelStorei(ne.UNPACK_ALIGNMENT,q),this.current=q,this.dirty=!1}},$}(de),Dt=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(q){if(q!==this.current||this.dirty){var ne=this.gl;ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q),this.current=q,this.dirty=!1}},$}(de),Et=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(q){if(q!==this.current||this.dirty){var ne=this.gl;ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,q),this.current=q,this.dirty=!1}},$}(de),ht=function(U){function $(q,ne){U.call(this,q),this.context=q,this.parent=ne}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getDefault=function(){return null},$}(de),pt=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.setDirty=function(){this.dirty=!0},$.prototype.set=function(q){if(q!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var ne=this.gl;ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,q,0),this.current=q,this.dirty=!1}},$}(ht),Pt=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.set=function(q){if(q!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var ne=this.gl;ne.framebufferRenderbuffer(ne.FRAMEBUFFER,ne.DEPTH_ATTACHMENT,ne.RENDERBUFFER,q),this.current=q,this.dirty=!1}},$}(ht),Ft=function(U,$,q,ne){this.context=U,this.width=$,this.height=q;var Pe=this.framebuffer=U.gl.createFramebuffer();this.colorAttachment=new pt(U,Pe),ne&&(this.depthAttachment=new Pt(U,Pe))};Ft.prototype.destroy=function(){var U=this.context.gl,$=this.colorAttachment.get();if($&&U.deleteTexture($),this.depthAttachment){var q=this.depthAttachment.get();q&&U.deleteRenderbuffer(q)}U.deleteFramebuffer(this.framebuffer)};var Ht=function(U,$,q){this.func=U,this.mask=$,this.range=q};Ht.ReadOnly=!1,Ht.ReadWrite=!0,Ht.disabled=new Ht(519,Ht.ReadOnly,[0,1]);var tt=function(U,$,q,ne,_e,Pe){this.test=U,this.ref=$,this.mask=q,this.fail=ne,this.depthFail=_e,this.pass=Pe};tt.disabled=new tt({func:519,mask:0},0,0,7680,7680,7680);var rt=function(U,$,q){this.blendFunction=U,this.blendColor=$,this.mask=q};rt.Replace=[1,0],rt.disabled=new rt(rt.Replace,f.Color.transparent,[!1,!1,!1,!1]),rt.unblended=new rt(rt.Replace,f.Color.transparent,[!0,!0,!0,!0]),rt.alphaBlended=new rt([1,771],f.Color.transparent,[!0,!0,!0,!0]);var Ke=function(U,$,q){this.enable=U,this.mode=$,this.frontFace=q};Ke.disabled=new Ke(!1,1029,2305),Ke.backCCW=new Ke(!0,1029,2305);var it=function(U){this.gl=U,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new he(this),this.clearDepth=new we(this),this.clearStencil=new Ae(this),this.colorMask=new Te(this),this.depthMask=new ve(this),this.stencilMask=new xe(this),this.stencilFunc=new Fe(this),this.stencilOp=new Se(this),this.stencilTest=new ke(this),this.depthRange=new pe(this),this.depthTest=new fe(this),this.depthFunc=new be(this),this.blend=new Le(this),this.blendFunc=new Oe(this),this.blendColor=new De(this),this.blendEquation=new Ue(this),this.cullFace=new Ge(this),this.cullFaceSide=new ye(this),this.frontFace=new Ie(this),this.program=new Ee(this),this.activeTexture=new Be(this),this.viewport=new We(this),this.bindFramebuffer=new He(this),this.bindRenderbuffer=new Je(this),this.bindTexture=new et(this),this.bindVertexBuffer=new at(this),this.bindElementBuffer=new mt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ct(this),this.pixelStoreUnpack=new St(this),this.pixelStoreUnpackPremultiplyAlpha=new Dt(this),this.pixelStoreUnpackFlipY=new Et(this),this.extTextureFilterAnisotropic=U.getExtension("EXT_texture_filter_anisotropic")||U.getExtension("MOZ_EXT_texture_filter_anisotropic")||U.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=U.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=U.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(U.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=U.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=U.getExtension("EXT_disjoint_timer_query")};it.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},it.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},it.prototype.createIndexBuffer=function(U,$){return new oe(this,U,$)},it.prototype.createVertexBuffer=function(U,$,q){return new ue(this,U,$,q)},it.prototype.createRenderbuffer=function(U,$,q){var ne=this.gl,_e=ne.createRenderbuffer();return this.bindRenderbuffer.set(_e),ne.renderbufferStorage(ne.RENDERBUFFER,U,$,q),this.bindRenderbuffer.set(null),_e},it.prototype.createFramebuffer=function(U,$,q){return new Ft(this,U,$,q)},it.prototype.clear=function(U){var $=U.color,q=U.depth,ne=this.gl,_e=0;$&&(_e|=ne.COLOR_BUFFER_BIT,this.clearColor.set($),this.colorMask.set([!0,!0,!0,!0])),void 0!==q&&(_e|=ne.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(q),this.depthMask.set(!0)),ne.clear(_e)},it.prototype.setCullFace=function(U){!1===U.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(U.mode),this.frontFace.set(U.frontFace))},it.prototype.setDepthMode=function(U){U.func!==this.gl.ALWAYS||U.mask?(this.depthTest.set(!0),this.depthFunc.set(U.func),this.depthMask.set(U.mask),this.depthRange.set(U.range)):this.depthTest.set(!1)},it.prototype.setStencilMode=function(U){U.test.func!==this.gl.ALWAYS||U.mask?(this.stencilTest.set(!0),this.stencilMask.set(U.mask),this.stencilOp.set([U.fail,U.depthFail,U.pass]),this.stencilFunc.set({func:U.test.func,ref:U.ref,mask:U.test.mask})):this.stencilTest.set(!1)},it.prototype.setColorMode=function(U){f.deepEqual(U.blendFunction,rt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(U.blendFunction),this.blendColor.set(U.blendColor)),this.colorMask.set(U.mask)},it.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var gt=function(U){function $(q,ne,_e){var Pe=this;U.call(this),this.id=q,this.dispatcher=_e,this.on("data",function(V){"source"===V.dataType&&"metadata"===V.sourceDataType&&(Pe._sourceLoaded=!0),Pe._sourceLoaded&&!Pe._paused&&"source"===V.dataType&&"content"===V.sourceDataType&&(Pe.reload(),Pe.transform&&Pe.update(Pe.transform))}),this.on("error",function(){Pe._sourceErrored=!0}),this._source=function(V,ie,ce,Me){var Ce=new se[ie.type](V,ie,ce,Me);if(Ce.id!==V)throw new Error("Expected Source id to be "+V+" instead of "+Ce.id);return f.bindAll(["load","abort","unload","serialize","prepare"],Ce),Ce}(q,ne,_e,this),this._tiles={},this._cache=new ee(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new f.SourceFeatureState}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.onAdd=function(q){this.map=q,this._maxTileCacheSize=q?q._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(q)},$.prototype.onRemove=function(q){this._source&&this._source.onRemove&&this._source.onRemove(q)},$.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var q in this._tiles){var ne=this._tiles[q];if("loaded"!==ne.state&&"errored"!==ne.state)return!1}return!0},$.prototype.getSource=function(){return this._source},$.prototype.pause=function(){this._paused=!0},$.prototype.resume=function(){if(this._paused){var q=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,q&&this.reload(),this.transform&&this.update(this.transform)}},$.prototype._loadTile=function(q,ne){return this._source.loadTile(q,ne)},$.prototype._unloadTile=function(q){if(this._source.unloadTile)return this._source.unloadTile(q,function(){})},$.prototype._abortTile=function(q){if(this._source.abortTile)return this._source.abortTile(q,function(){})},$.prototype.serialize=function(){return this._source.serialize()},$.prototype.prepare=function(q){for(var ne in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var _e=this._tiles[ne];_e.upload(q),_e.prepare(this.map.style.imageManager)}},$.prototype.getIds=function(){return f.values(this._tiles).map(function(q){return q.tileID}).sort(ft).map(function(q){return q.key})},$.prototype.getRenderableIds=function(q){var ne=this,_e=[];for(var Pe in this._tiles)this._isIdRenderable(Pe,q)&&_e.push(this._tiles[Pe]);return q?_e.sort(function(V,ie){var ce=V.tileID,Me=ie.tileID,Ce=new f.Point(ce.canonical.x,ce.canonical.y)._rotate(ne.transform.angle),Ne=new f.Point(Me.canonical.x,Me.canonical.y)._rotate(ne.transform.angle);return ce.overscaledZ-Me.overscaledZ||Ne.y-Ce.y||Ne.x-Ce.x}).map(function(V){return V.tileID.key}):_e.map(function(V){return V.tileID}).sort(ft).map(function(V){return V.key})},$.prototype.hasRenderableParent=function(q){var ne=this.findLoadedParent(q,0);return!!ne&&this._isIdRenderable(ne.tileID.key)},$.prototype._isIdRenderable=function(q,ne){return this._tiles[q]&&this._tiles[q].hasData()&&!this._coveredTiles[q]&&(ne||!this._tiles[q].holdingForFade())},$.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var q in this._cache.reset(),this._tiles)"errored"!==this._tiles[q].state&&this._reloadTile(q,"reloading")},$.prototype._reloadTile=function(q,ne){var _e=this._tiles[q];_e&&("loading"!==_e.state&&(_e.state=ne),this._loadTile(_e,this._tileLoaded.bind(this,_e,q,ne)))},$.prototype._tileLoaded=function(q,ne,_e,Pe){if(Pe)return q.state="errored",void(404!==Pe.status?this._source.fire(new f.ErrorEvent(Pe,{tile:q})):this.update(this.transform));q.timeAdded=f.browser.now(),"expired"===_e&&(q.refreshedUponExpiration=!0),this._setTileReloadTimer(ne,q),"raster-dem"===this.getSource().type&&q.dem&&this._backfillDEM(q),this._state.initializeTileState(q,this.map?this.map.painter:null),this._source.fire(new f.Event("data",{dataType:"source",tile:q,coord:q.tileID}))},$.prototype._backfillDEM=function(q){for(var ne=this.getRenderableIds(),_e=0;_e<ne.length;_e++){var Pe=ne[_e];if(q.neighboringTiles&&q.neighboringTiles[Pe]){var V=this.getTileByID(Pe);ie(q,V),ie(V,q)}}function ie(ce,Me){ce.needsHillshadePrepare=!0;var Ce=Me.tileID.canonical.x-ce.tileID.canonical.x,Ne=Me.tileID.canonical.y-ce.tileID.canonical.y,$e=Math.pow(2,ce.tileID.canonical.z),Xe=Me.tileID.key;0===Ce&&0===Ne||Math.abs(Ne)>1||(Math.abs(Ce)>1&&(1===Math.abs(Ce+$e)?Ce+=$e:1===Math.abs(Ce-$e)&&(Ce-=$e)),Me.dem&&ce.dem&&(ce.dem.backfillBorder(Me.dem,Ce,Ne),ce.neighboringTiles&&ce.neighboringTiles[Xe]&&(ce.neighboringTiles[Xe].backfilled=!0)))}},$.prototype.getTile=function(q){return this.getTileByID(q.key)},$.prototype.getTileByID=function(q){return this._tiles[q]},$.prototype._retainLoadedChildren=function(q,ne,_e,Pe){for(var V in this._tiles){var ie=this._tiles[V];if(!(Pe[V]||!ie.hasData()||ie.tileID.overscaledZ<=ne||ie.tileID.overscaledZ>_e)){for(var ce=ie.tileID;ie&&ie.tileID.overscaledZ>ne+1;){var Me=ie.tileID.scaledTo(ie.tileID.overscaledZ-1);(ie=this._tiles[Me.key])&&ie.hasData()&&(ce=Me)}for(var Ce=ce;Ce.overscaledZ>ne;)if(q[(Ce=Ce.scaledTo(Ce.overscaledZ-1)).key]){Pe[ce.key]=ce;break}}}},$.prototype.findLoadedParent=function(q,ne){if(q.key in this._loadedParentTiles){var _e=this._loadedParentTiles[q.key];return _e&&_e.tileID.overscaledZ>=ne?_e:null}for(var Pe=q.overscaledZ-1;Pe>=ne;Pe--){var V=q.scaledTo(Pe),ie=this._getLoadedTile(V);if(ie)return ie}},$.prototype._getLoadedTile=function(q){var ne=this._tiles[q.key];return ne&&ne.hasData()?ne:this._cache.getByKey(q.wrapped().key)},$.prototype.updateCacheSize=function(q){var ne=(Math.ceil(q.width/this._source.tileSize)+1)*(Math.ceil(q.height/this._source.tileSize)+1),_e=Math.floor(5*ne),Pe="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,_e):_e;this._cache.setMaxSize(Pe)},$.prototype.handleWrapJump=function(q){var _e=Math.round((q-(void 0===this._prevLng?q:this._prevLng))/360);if(this._prevLng=q,_e){var Pe={};for(var V in this._tiles){var ie=this._tiles[V];ie.tileID=ie.tileID.unwrapTo(ie.tileID.wrap+_e),Pe[ie.tileID.key]=ie}for(var ce in this._tiles=Pe,this._timers)clearTimeout(this._timers[ce]),delete this._timers[ce];for(var Me in this._tiles)this._setTileReloadTimer(Me,this._tiles[Me])}},$.prototype.update=function(q){var ne=this;if(this.transform=q,this._sourceLoaded&&!this._paused){var _e;this.updateCacheSize(q),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?_e=q.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Ut){return new f.OverscaledTileID(Ut.canonical.z,Ut.wrap,Ut.canonical.z,Ut.canonical.x,Ut.canonical.y)}):(_e=q.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(_e=_e.filter(function(Ut){return ne._source.hasTile(Ut)}))):_e=[];var Pe=q.coveringZoomLevel(this._source),V=Math.max(Pe-$.maxOverzooming,this._source.minzoom),ie=Math.max(Pe+$.maxUnderzooming,this._source.minzoom),ce=this._updateRetainedTiles(_e,Pe);if(Ve(this._source.type)){for(var Me={},Ce={},Ne=0,$e=Object.keys(ce);Ne<$e.length;Ne+=1){var Xe=$e[Ne],Qe=ce[Xe],nt=this._tiles[Xe];if(nt&&!(nt.fadeEndTime&&nt.fadeEndTime<=f.browser.now())){var lt=this.findLoadedParent(Qe,V);lt&&(this._addTile(lt.tileID),Me[lt.tileID.key]=lt.tileID),Ce[Xe]=Qe}}for(var xt in this._retainLoadedChildren(Ce,Pe,ie,ce),Me)ce[xt]||(this._coveredTiles[xt]=!0,ce[xt]=Me[xt])}for(var Mt in ce)this._tiles[Mt].clearFadeHold();for(var Bt=0,Vt=f.keysDifference(this._tiles,ce);Bt<Vt.length;Bt+=1){var jt=Vt[Bt],Xt=this._tiles[jt];Xt.hasSymbolBuckets&&!Xt.holdingForFade()?Xt.setHoldDuration(this.map._fadeDuration):Xt.hasSymbolBuckets&&!Xt.symbolFadeFinished()||this._removeTile(jt)}this._updateLoadedParentTileCache()}},$.prototype.releaseSymbolFadeTiles=function(){for(var q in this._tiles)this._tiles[q].holdingForFade()&&this._removeTile(q)},$.prototype._updateRetainedTiles=function(q,ne){for(var _e={},Pe={},V=Math.max(ne-$.maxOverzooming,this._source.minzoom),ie=Math.max(ne+$.maxUnderzooming,this._source.minzoom),ce={},Me=0,Ce=q;Me<Ce.length;Me+=1){var Ne=Ce[Me],$e=this._addTile(Ne);_e[Ne.key]=Ne,$e.hasData()||ne<this._source.maxzoom&&(ce[Ne.key]=Ne)}this._retainLoadedChildren(ce,ne,ie,_e);for(var Xe=0,Qe=q;Xe<Qe.length;Xe+=1){var nt=Qe[Xe],lt=this._tiles[nt.key];if(!lt.hasData()){if(ne+1>this._source.maxzoom){var xt=nt.children(this._source.maxzoom)[0],Mt=this.getTile(xt);if(Mt&&Mt.hasData()){_e[xt.key]=xt;continue}}else{var Bt=nt.children(this._source.maxzoom);if(_e[Bt[0].key]&&_e[Bt[1].key]&&_e[Bt[2].key]&&_e[Bt[3].key])continue}for(var Vt=lt.wasRequested(),jt=nt.overscaledZ-1;jt>=V;--jt){var Xt=nt.scaledTo(jt);if(Pe[Xt.key]||(Pe[Xt.key]=!0,!(lt=this.getTile(Xt))&&Vt&&(lt=this._addTile(Xt)),lt&&(_e[Xt.key]=Xt,Vt=lt.wasRequested(),lt.hasData())))break}}}return _e},$.prototype._updateLoadedParentTileCache=function(){for(var q in this._loadedParentTiles={},this._tiles){for(var ne=[],_e=void 0,Pe=this._tiles[q].tileID;Pe.overscaledZ>0;){if(Pe.key in this._loadedParentTiles){_e=this._loadedParentTiles[Pe.key];break}ne.push(Pe.key);var V=Pe.scaledTo(Pe.overscaledZ-1);if(_e=this._getLoadedTile(V))break;Pe=V}for(var ie=0,ce=ne;ie<ce.length;ie+=1)this._loadedParentTiles[ce[ie]]=_e}},$.prototype._addTile=function(q){var ne=this._tiles[q.key];if(ne)return ne;(ne=this._cache.getAndRemove(q))&&(this._setTileReloadTimer(q.key,ne),ne.tileID=q,this._state.initializeTileState(ne,this.map?this.map.painter:null),this._cacheTimers[q.key]&&(clearTimeout(this._cacheTimers[q.key]),delete this._cacheTimers[q.key],this._setTileReloadTimer(q.key,ne)));var _e=Boolean(ne);return _e||(ne=new f.Tile(q,this._source.tileSize*q.overscaleFactor()),this._loadTile(ne,this._tileLoaded.bind(this,ne,q.key,ne.state))),ne?(ne.uses++,this._tiles[q.key]=ne,_e||this._source.fire(new f.Event("dataloading",{tile:ne,coord:ne.tileID,dataType:"source"})),ne):null},$.prototype._setTileReloadTimer=function(q,ne){var _e=this;q in this._timers&&(clearTimeout(this._timers[q]),delete this._timers[q]);var Pe=ne.getExpiryTimeout();Pe&&(this._timers[q]=setTimeout(function(){_e._reloadTile(q,"expired"),delete _e._timers[q]},Pe))},$.prototype._removeTile=function(q){var ne=this._tiles[q];ne&&(ne.uses--,delete this._tiles[q],this._timers[q]&&(clearTimeout(this._timers[q]),delete this._timers[q]),ne.uses>0||(ne.hasData()&&"reloading"!==ne.state?this._cache.add(ne.tileID,ne,ne.getExpiryTimeout()):(ne.aborted=!0,this._abortTile(ne),this._unloadTile(ne))))},$.prototype.clearTiles=function(){for(var q in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(q);this._cache.reset()},$.prototype.tilesIn=function(q,ne,_e){var Pe=this,V=[],ie=this.transform;if(!ie)return V;for(var ce=_e?ie.getCameraQueryGeometry(q):q,Me=q.map(function(jt){return ie.pointCoordinate(jt)}),Ce=ce.map(function(jt){return ie.pointCoordinate(jt)}),Ne=this.getIds(),$e=1/0,Xe=1/0,Qe=-1/0,nt=-1/0,lt=0,xt=Ce;lt<xt.length;lt+=1){var Mt=xt[lt];$e=Math.min($e,Mt.x),Xe=Math.min(Xe,Mt.y),Qe=Math.max(Qe,Mt.x),nt=Math.max(nt,Mt.y)}for(var Bt=function(jt){var Xt=Pe._tiles[Ne[jt]];if(!Xt.holdingForFade()){var Ut=Xt.tileID,gn=Math.pow(2,ie.zoom-Xt.tileID.overscaledZ),sn=ne*Xt.queryPadding*f.EXTENT/Xt.tileSize/gn,rn=[Ut.getTilePoint(new f.MercatorCoordinate($e,Xe)),Ut.getTilePoint(new f.MercatorCoordinate(Qe,nt))];if(rn[0].x-sn<f.EXTENT&&rn[0].y-sn<f.EXTENT&&rn[1].x+sn>=0&&rn[1].y+sn>=0){var En=Me.map(function($n){return Ut.getTilePoint($n)}),On=Ce.map(function($n){return Ut.getTilePoint($n)});V.push({tile:Xt,tileID:Ut,queryGeometry:En,cameraQueryGeometry:On,scale:gn})}}},Vt=0;Vt<Ne.length;Vt++)Bt(Vt);return V},$.prototype.getVisibleCoordinates=function(q){for(var ne=this,_e=this.getRenderableIds(q).map(function(ce){return ne._tiles[ce].tileID}),Pe=0,V=_e;Pe<V.length;Pe+=1){var ie=V[Pe];ie.posMatrix=this.transform.calculatePosMatrix(ie.toUnwrapped())}return _e},$.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ve(this._source.type))for(var q in this._tiles){var ne=this._tiles[q];if(void 0!==ne.fadeEndTime&&ne.fadeEndTime>=f.browser.now())return!0}return!1},$.prototype.setFeatureState=function(q,ne,_e){this._state.updateState(q=q||"_geojsonTileLayer",ne,_e)},$.prototype.removeFeatureState=function(q,ne,_e){this._state.removeFeatureState(q=q||"_geojsonTileLayer",ne,_e)},$.prototype.getFeatureState=function(q,ne){return this._state.getState(q=q||"_geojsonTileLayer",ne)},$.prototype.setDependencies=function(q,ne,_e){var Pe=this._tiles[q];Pe&&Pe.setDependencies(ne,_e)},$.prototype.reloadTilesForDependencies=function(q,ne){for(var _e in this._tiles)this._tiles[_e].hasDependency(q,ne)&&this._reloadTile(_e,"reloading");this._cache.filter(function(Pe){return!Pe.hasDependency(q,ne)})},$}(f.Evented);function ft(U,$){var q=Math.abs(2*U.wrap)-+(U.wrap<0),ne=Math.abs(2*$.wrap)-+($.wrap<0);return U.overscaledZ-$.overscaledZ||ne-q||$.canonical.y-U.canonical.y||$.canonical.x-U.canonical.x}function Ve(U){return"raster"===U||"image"===U||"video"===U}function qe(){return new f.window.Worker(Qs.workerUrl)}gt.maxOverzooming=10,gt.maxUnderzooming=3;var dt="mapboxgl_preloaded_worker_pool",ut=function(){this.active={}};ut.prototype.acquire=function(U){if(!this.workers)for(this.workers=[];this.workers.length<ut.workerCount;)this.workers.push(new qe);return this.active[U]=!0,this.workers.slice()},ut.prototype.release=function(U){delete this.active[U],0===this.numActive()&&(this.workers.forEach(function($){$.terminate()}),this.workers=null)},ut.prototype.isPreloaded=function(){return!!this.active[dt]},ut.prototype.numActive=function(){return Object.keys(this.active).length};var At,wt=Math.floor(f.browser.hardwareConcurrency/2);function kt(){return At||(At=new ut),At}function _t(U,$){var q={};for(var ne in U)"ref"!==ne&&(q[ne]=U[ne]);return f.refProperties.forEach(function(_e){_e in $&&(q[_e]=$[_e])}),q}function Rt(U){U=U.slice();for(var $=Object.create(null),q=0;q<U.length;q++)$[U[q].id]=U[q];for(var ne=0;ne<U.length;ne++)"ref"in U[ne]&&(U[ne]=_t(U[ne],$[U[ne].ref]));return U}ut.workerCount=Math.max(Math.min(wt,6),1);var bt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Tt(U,$,q){q.push({command:bt.addSource,args:[U,$[U]]})}function Ot(U,$,q){$.push({command:bt.removeSource,args:[U]}),q[U]=!0}function Wt(U,$,q,ne){Ot(U,q,ne),Tt(U,$,q)}function qt(U,$,q){var ne;for(ne in U[q])if(U[q].hasOwnProperty(ne)&&"data"!==ne&&!f.deepEqual(U[q][ne],$[q][ne]))return!1;for(ne in $[q])if($[q].hasOwnProperty(ne)&&"data"!==ne&&!f.deepEqual(U[q][ne],$[q][ne]))return!1;return!0}function Jt(U,$,q,ne,_e,Pe){var V;for(V in $=$||{},U=U||{})U.hasOwnProperty(V)&&(f.deepEqual(U[V],$[V])||q.push({command:Pe,args:[ne,V,$[V],_e]}));for(V in $)$.hasOwnProperty(V)&&!U.hasOwnProperty(V)&&(f.deepEqual(U[V],$[V])||q.push({command:Pe,args:[ne,V,$[V],_e]}))}function pn(U){return U.id}function en(U,$){return U[$.id]=$,U}var dn=function(U,$){this.reset(U,$)};dn.prototype.reset=function(U,$){this.points=U||[],this._distances=[0];for(var q=1;q<this.points.length;q++)this._distances[q]=this._distances[q-1]+this.points[q].dist(this.points[q-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min($||0,.5*this.length),this.paddedLength=this.length-2*this.padding},dn.prototype.lerp=function(U){if(1===this.points.length)return this.points[0];U=f.clamp(U,0,1);for(var $=1,q=this._distances[$],ne=U*this.paddedLength+this.padding;q<ne&&$<this._distances.length;)q=this._distances[++$];var _e=$-1,Pe=this._distances[_e],V=q-Pe,ie=V>0?(ne-Pe)/V:0;return this.points[_e].mult(1-ie).add(this.points[$].mult(ie))};var In=function(U,$,q){var ne=this.boxCells=[],_e=this.circleCells=[];this.xCellCount=Math.ceil(U/q),this.yCellCount=Math.ceil($/q);for(var Pe=0;Pe<this.xCellCount*this.yCellCount;Pe++)ne.push([]),_e.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=U,this.height=$,this.xScale=this.xCellCount/U,this.yScale=this.yCellCount/$,this.boxUid=0,this.circleUid=0};function Hn(U,$,q,ne,_e){var Pe=f.create();return $?(f.scale(Pe,Pe,[1/_e,1/_e,1]),q||f.rotateZ(Pe,Pe,ne.angle)):f.multiply(Pe,ne.labelPlaneMatrix,U),Pe}function An(U,$,q,ne,_e){if($){var Pe=f.clone(U);return f.scale(Pe,Pe,[_e,_e,1]),q||f.rotateZ(Pe,Pe,-ne.angle),Pe}return ne.glCoordMatrix}function on(U,$){var q=[U.x,U.y,0,1];er(q,q,$);var ne=q[3];return{point:new f.Point(q[0]/ne,q[1]/ne),signedDistanceFromCamera:ne}}function yn(U,$){return.5+U/$*.5}function ln(U,$){var q=U[0]/U[3],ne=U[1]/U[3];return q>=-$[0]&&q<=$[0]&&ne>=-$[1]&&ne<=$[1]}function wn(U,$,q,ne,_e,Pe,V,ie){var ce=ne?U.textSizeData:U.iconSizeData,Me=f.evaluateSizeForZoom(ce,q.transform.zoom),Ce=[256/q.width*2+1,256/q.height*2+1],Ne=ne?U.text.dynamicLayoutVertexArray:U.icon.dynamicLayoutVertexArray;Ne.clear();for(var $e=U.lineVertexArray,Xe=ne?U.text.placedSymbolArray:U.icon.placedSymbolArray,Qe=q.transform.width/q.transform.height,nt=!1,lt=0;lt<Xe.length;lt++){var xt=Xe.get(lt);if(xt.hidden||xt.writingMode===f.WritingMode.vertical&&!nt)fr(xt.numGlyphs,Ne);else{nt=!1;var Mt=[xt.anchorX,xt.anchorY,0,1];if(f.transformMat4(Mt,Mt,$),ln(Mt,Ce)){var Vt=yn(q.transform.cameraToCenterDistance,Mt[3]),jt=f.evaluateSizeForFeature(ce,Me,xt),Xt=V?jt/Vt:jt*Vt,Ut=new f.Point(xt.anchorX,xt.anchorY),gn=on(Ut,_e).point,sn={},rn=Sn(xt,Xt,!1,ie,$,_e,Pe,U.glyphOffsetArray,$e,Ne,gn,Ut,sn,Qe);nt=rn.useVertical,(rn.notEnoughRoom||nt||rn.needsFlipping&&Sn(xt,Xt,!0,ie,$,_e,Pe,U.glyphOffsetArray,$e,Ne,gn,Ut,sn,Qe).notEnoughRoom)&&fr(xt.numGlyphs,Ne)}else fr(xt.numGlyphs,Ne)}}ne?U.text.dynamicLayoutVertexBuffer.updateData(Ne):U.icon.dynamicLayoutVertexBuffer.updateData(Ne)}function Cn(U,$,q,ne,_e,Pe,V,ie,ce,Me,Ce){var Ne=ie.glyphStartIndex+ie.numGlyphs,$e=ie.lineStartIndex,Xe=ie.lineStartIndex+ie.lineLength,Qe=$.getoffsetX(ie.glyphStartIndex),nt=$.getoffsetX(Ne-1),lt=kn(U*Qe,q,ne,_e,Pe,V,ie.segment,$e,Xe,ce,Me,Ce);if(!lt)return null;var xt=kn(U*nt,q,ne,_e,Pe,V,ie.segment,$e,Xe,ce,Me,Ce);return xt?{first:lt,last:xt}:null}function Ln(U,$,q,ne){return U===f.WritingMode.horizontal&&Math.abs(q.y-$.y)>Math.abs(q.x-$.x)*ne?{useVertical:!0}:(U===f.WritingMode.vertical?$.y<q.y:$.x>q.x)?{needsFlipping:!0}:null}function Sn(U,$,q,ne,_e,Pe,V,ie,ce,Me,Ce,Ne,$e,Xe){var Qe,nt=$/24,lt=U.lineOffsetX*nt,xt=U.lineOffsetY*nt;if(U.numGlyphs>1){var Mt=U.glyphStartIndex+U.numGlyphs,Bt=U.lineStartIndex,Vt=U.lineStartIndex+U.lineLength,jt=Cn(nt,ie,lt,xt,q,Ce,Ne,U,ce,Pe,$e);if(!jt)return{notEnoughRoom:!0};var Xt=on(jt.first.point,V).point,Ut=on(jt.last.point,V).point;if(ne&&!q){var gn=Ln(U.writingMode,Xt,Ut,Xe);if(gn)return gn}Qe=[jt.first];for(var sn=U.glyphStartIndex+1;sn<Mt-1;sn++)Qe.push(kn(nt*ie.getoffsetX(sn),lt,xt,q,Ce,Ne,U.segment,Bt,Vt,ce,Pe,$e));Qe.push(jt.last)}else{if(ne&&!q){var rn=on(Ne,_e).point,En=U.lineStartIndex+U.segment+1,On=new f.Point(ce.getx(En),ce.gety(En)),$n=on(On,_e),tr=$n.signedDistanceFromCamera>0?$n.point:qn(Ne,On,rn,1,_e),ur=Ln(U.writingMode,rn,tr,Xe);if(ur)return ur}var yr=kn(nt*ie.getoffsetX(U.glyphStartIndex),lt,xt,q,Ce,Ne,U.segment,U.lineStartIndex,U.lineStartIndex+U.lineLength,ce,Pe,$e);if(!yr)return{notEnoughRoom:!0};Qe=[yr]}for(var Cr=0,Ar=Qe;Cr<Ar.length;Cr+=1){var Fr=Ar[Cr];f.addDynamicAttributes(Me,Fr.point,Fr.angle)}return{}}function qn(U,$,q,ne,_e){var Pe=on(U.add(U.sub($)._unit()),_e).point,V=q.sub(Pe);return q.add(V._mult(ne/V.mag()))}function kn(U,$,q,ne,_e,Pe,V,ie,ce,Me,Ce,Ne){var $e=ne?U-$:U+$,Xe=$e>0?1:-1,Qe=0;ne&&(Xe*=-1,Qe=Math.PI),Xe<0&&(Qe+=Math.PI);for(var nt=Xe>0?ie+V:ie+V+1,lt=_e,xt=_e,Mt=0,Bt=0,Vt=Math.abs($e),jt=[];Mt+Bt<=Vt;){if((nt+=Xe)<ie||nt>=ce)return null;if(xt=lt,jt.push(lt),void 0===(lt=Ne[nt])){var Xt=new f.Point(Me.getx(nt),Me.gety(nt)),Ut=on(Xt,Ce);if(Ut.signedDistanceFromCamera>0)lt=Ne[nt]=Ut.point;else{var gn=nt-Xe;lt=qn(0===Mt?Pe:new f.Point(Me.getx(gn),Me.gety(gn)),Xt,xt,Vt-Mt+1,Ce)}}Mt+=Bt,Bt=xt.dist(lt)}var sn=(Vt-Mt)/Bt,rn=lt.sub(xt),En=rn.mult(sn)._add(xt);En._add(rn._unit()._perp()._mult(q*Xe));var On=Qe+Math.atan2(lt.y-xt.y,lt.x-xt.x);return jt.push(En),{point:En,angle:On,path:jt}}In.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},In.prototype.insert=function(U,$,q,ne,_e){this._forEachCell($,q,ne,_e,this._insertBoxCell,this.boxUid++),this.boxKeys.push(U),this.bboxes.push($),this.bboxes.push(q),this.bboxes.push(ne),this.bboxes.push(_e)},In.prototype.insertCircle=function(U,$,q,ne){this._forEachCell($-ne,q-ne,$+ne,q+ne,this._insertCircleCell,this.circleUid++),this.circleKeys.push(U),this.circles.push($),this.circles.push(q),this.circles.push(ne)},In.prototype._insertBoxCell=function(U,$,q,ne,_e,Pe){this.boxCells[_e].push(Pe)},In.prototype._insertCircleCell=function(U,$,q,ne,_e,Pe){this.circleCells[_e].push(Pe)},In.prototype._query=function(U,$,q,ne,_e,Pe){if(q<0||U>this.width||ne<0||$>this.height)return!_e&&[];var V=[];if(U<=0&&$<=0&&this.width<=q&&this.height<=ne){if(_e)return!0;for(var ie=0;ie<this.boxKeys.length;ie++)V.push({key:this.boxKeys[ie],x1:this.bboxes[4*ie],y1:this.bboxes[4*ie+1],x2:this.bboxes[4*ie+2],y2:this.bboxes[4*ie+3]});for(var ce=0;ce<this.circleKeys.length;ce++){var Me=this.circles[3*ce],Ce=this.circles[3*ce+1],Ne=this.circles[3*ce+2];V.push({key:this.circleKeys[ce],x1:Me-Ne,y1:Ce-Ne,x2:Me+Ne,y2:Ce+Ne})}return Pe?V.filter(Pe):V}return this._forEachCell(U,$,q,ne,this._queryCell,V,{hitTest:_e,seenUids:{box:{},circle:{}}},Pe),_e?V.length>0:V},In.prototype._queryCircle=function(U,$,q,ne,_e){var Pe=U-q,V=U+q,ie=$-q,ce=$+q;if(V<0||Pe>this.width||ce<0||ie>this.height)return!ne&&[];var Me=[];return this._forEachCell(Pe,ie,V,ce,this._queryCellCircle,Me,{hitTest:ne,circle:{x:U,y:$,radius:q},seenUids:{box:{},circle:{}}},_e),ne?Me.length>0:Me},In.prototype.query=function(U,$,q,ne,_e){return this._query(U,$,q,ne,!1,_e)},In.prototype.hitTest=function(U,$,q,ne,_e){return this._query(U,$,q,ne,!0,_e)},In.prototype.hitTestCircle=function(U,$,q,ne){return this._queryCircle(U,$,q,!0,ne)},In.prototype._queryCell=function(U,$,q,ne,_e,Pe,V,ie){var ce=V.seenUids,Me=this.boxCells[_e];if(null!==Me)for(var Ce=this.bboxes,Ne=0,$e=Me;Ne<$e.length;Ne+=1){var Xe=$e[Ne];if(!ce.box[Xe]){ce.box[Xe]=!0;var Qe=4*Xe;if(U<=Ce[Qe+2]&&$<=Ce[Qe+3]&&q>=Ce[Qe+0]&&ne>=Ce[Qe+1]&&(!ie||ie(this.boxKeys[Xe]))){if(V.hitTest)return Pe.push(!0),!0;Pe.push({key:this.boxKeys[Xe],x1:Ce[Qe],y1:Ce[Qe+1],x2:Ce[Qe+2],y2:Ce[Qe+3]})}}}var nt=this.circleCells[_e];if(null!==nt)for(var lt=this.circles,xt=0,Mt=nt;xt<Mt.length;xt+=1){var Bt=Mt[xt];if(!ce.circle[Bt]){ce.circle[Bt]=!0;var Vt=3*Bt;if(this._circleAndRectCollide(lt[Vt],lt[Vt+1],lt[Vt+2],U,$,q,ne)&&(!ie||ie(this.circleKeys[Bt]))){if(V.hitTest)return Pe.push(!0),!0;var jt=lt[Vt],Xt=lt[Vt+1],Ut=lt[Vt+2];Pe.push({key:this.circleKeys[Bt],x1:jt-Ut,y1:Xt-Ut,x2:jt+Ut,y2:Xt+Ut})}}}},In.prototype._queryCellCircle=function(U,$,q,ne,_e,Pe,V,ie){var ce=V.circle,Me=V.seenUids,Ce=this.boxCells[_e];if(null!==Ce)for(var Ne=this.bboxes,$e=0,Xe=Ce;$e<Xe.length;$e+=1){var Qe=Xe[$e];if(!Me.box[Qe]){Me.box[Qe]=!0;var nt=4*Qe;if(this._circleAndRectCollide(ce.x,ce.y,ce.radius,Ne[nt+0],Ne[nt+1],Ne[nt+2],Ne[nt+3])&&(!ie||ie(this.boxKeys[Qe])))return Pe.push(!0),!0}}var lt=this.circleCells[_e];if(null!==lt)for(var xt=this.circles,Mt=0,Bt=lt;Mt<Bt.length;Mt+=1){var Vt=Bt[Mt];if(!Me.circle[Vt]){Me.circle[Vt]=!0;var jt=3*Vt;if(this._circlesCollide(xt[jt],xt[jt+1],xt[jt+2],ce.x,ce.y,ce.radius)&&(!ie||ie(this.circleKeys[Vt])))return Pe.push(!0),!0}}},In.prototype._forEachCell=function(U,$,q,ne,_e,Pe,V,ie){for(var ce=this._convertToXCellCoord(U),Me=this._convertToYCellCoord($),Ce=this._convertToXCellCoord(q),Ne=this._convertToYCellCoord(ne),$e=ce;$e<=Ce;$e++)for(var Xe=Me;Xe<=Ne;Xe++)if(_e.call(this,U,$,q,ne,this.xCellCount*Xe+$e,Pe,V,ie))return},In.prototype._convertToXCellCoord=function(U){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(U*this.xScale)))},In.prototype._convertToYCellCoord=function(U){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(U*this.yScale)))},In.prototype._circlesCollide=function(U,$,q,ne,_e,Pe){var V=ne-U,ie=_e-$,ce=q+Pe;return ce*ce>V*V+ie*ie},In.prototype._circleAndRectCollide=function(U,$,q,ne,_e,Pe,V){var ie=(Pe-ne)/2,ce=Math.abs(U-(ne+ie));if(ce>ie+q)return!1;var Me=(V-_e)/2,Ce=Math.abs($-(_e+Me));if(Ce>Me+q)return!1;if(ce<=ie||Ce<=Me)return!0;var Ne=ce-ie,$e=Ce-Me;return Ne*Ne+$e*$e<=q*q};var Zn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function fr(U,$){for(var q=0;q<U;q++){var ne=$.length;$.resize(ne+4),$.float32.set(Zn,3*ne)}}function er(U,$,q){var ne=$[0],_e=$[1];return U[0]=q[0]*ne+q[4]*_e+q[12],U[1]=q[1]*ne+q[5]*_e+q[13],U[3]=q[3]*ne+q[7]*_e+q[15],U}var nr=100,mr=function(U,$,q){void 0===$&&($=new In(U.width+200,U.height+200,25)),void 0===q&&(q=new In(U.width+200,U.height+200,25)),this.transform=U,this.grid=$,this.ignoredGrid=q,this.pitchfactor=Math.cos(U._pitch)*U.cameraToCenterDistance,this.screenRightBoundary=U.width+nr,this.screenBottomBoundary=U.height+nr,this.gridRightBoundary=U.width+200,this.gridBottomBoundary=U.height+200};function dr(U,$,q){return $*(f.EXTENT/(U.tileSize*Math.pow(2,q-U.tileID.overscaledZ)))}mr.prototype.placeCollisionBox=function(U,$,q,ne,_e){var Pe=this.projectAndGetPerspectiveRatio(ne,U.anchorPointX,U.anchorPointY),V=q*Pe.perspectiveRatio,ie=U.x1*V+Pe.point.x,ce=U.y1*V+Pe.point.y,Me=U.x2*V+Pe.point.x,Ce=U.y2*V+Pe.point.y;return!this.isInsideGrid(ie,ce,Me,Ce)||!$&&this.grid.hitTest(ie,ce,Me,Ce,_e)?{box:[],offscreen:!1}:{box:[ie,ce,Me,Ce],offscreen:this.isOffscreen(ie,ce,Me,Ce)}},mr.prototype.placeCollisionCircles=function(U,$,q,ne,_e,Pe,V,ie,ce,Me,Ce,Ne,$e){var Xe=[],Qe=new f.Point($.anchorX,$.anchorY),nt=on(Qe,Pe),lt=yn(this.transform.cameraToCenterDistance,nt.signedDistanceFromCamera),xt=(Me?_e/lt:_e*lt)/f.ONE_EM,Mt=on(Qe,V).point,Bt=Cn(xt,ne,$.lineOffsetX*xt,$.lineOffsetY*xt,!1,Mt,Qe,$,q,V,{}),Vt=!1,jt=!1,Xt=!0;if(Bt){for(var Ut=.5*Ne*lt+$e,gn=new f.Point(-100,-100),sn=new f.Point(this.screenRightBoundary,this.screenBottomBoundary),rn=new dn,En=Bt.first,On=Bt.last,$n=[],tr=En.path.length-1;tr>=1;tr--)$n.push(En.path[tr]);for(var ur=1;ur<On.path.length;ur++)$n.push(On.path[ur]);var yr=2.5*Ut;if(ie){var Cr=$n.map(function(la){return on(la,ie)});$n=Cr.some(function(la){return la.signedDistanceFromCamera<=0})?[]:Cr.map(function(la){return la.point})}var Ar=[];if($n.length>0){for(var Fr=$n[0].clone(),$r=$n[0].clone(),hi=1;hi<$n.length;hi++)Fr.x=Math.min(Fr.x,$n[hi].x),Fr.y=Math.min(Fr.y,$n[hi].y),$r.x=Math.max($r.x,$n[hi].x),$r.y=Math.max($r.y,$n[hi].y);Ar=Fr.x>=gn.x&&$r.x<=sn.x&&Fr.y>=gn.y&&$r.y<=sn.y?[$n]:$r.x<gn.x||Fr.x>sn.x||$r.y<gn.y||Fr.y>sn.y?[]:f.clipLine([$n],gn.x,gn.y,sn.x,sn.y)}for(var ir=0,Tr=Ar;ir<Tr.length;ir+=1){var Kr;rn.reset(Tr[ir],.25*Ut),Kr=rn.length<=.5*Ut?1:Math.ceil(rn.paddedLength/yr)+1;for(var ai=0;ai<Kr;ai++){var vi=ai/Math.max(Kr-1,1),Bi=rn.lerp(vi),ao=Bi.x+nr,_o=Bi.y+nr;Xe.push(ao,_o,Ut,0);var Po=ao-Ut,to=_o-Ut,Ho=ao+Ut,Ta=_o+Ut;if(Xt=Xt&&this.isOffscreen(Po,to,Ho,Ta),jt=jt||this.isInsideGrid(Po,to,Ho,Ta),!U&&this.grid.hitTestCircle(ao,_o,Ut,Ce)&&(Vt=!0,!ce))return{circles:[],offscreen:!1,collisionDetected:Vt}}}}return{circles:!ce&&Vt||!jt?[]:Xe,offscreen:Xt,collisionDetected:Vt}},mr.prototype.queryRenderedSymbols=function(U){if(0===U.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var $=[],q=1/0,ne=1/0,_e=-1/0,Pe=-1/0,V=0,ie=U;V<ie.length;V+=1){var ce=ie[V],Me=new f.Point(ce.x+nr,ce.y+nr);q=Math.min(q,Me.x),ne=Math.min(ne,Me.y),_e=Math.max(_e,Me.x),Pe=Math.max(Pe,Me.y),$.push(Me)}for(var Ce={},Ne={},$e=0,Xe=this.grid.query(q,ne,_e,Pe).concat(this.ignoredGrid.query(q,ne,_e,Pe));$e<Xe.length;$e+=1){var Qe=Xe[$e],nt=Qe.key;if(void 0===Ce[nt.bucketInstanceId]&&(Ce[nt.bucketInstanceId]={}),!Ce[nt.bucketInstanceId][nt.featureIndex]){var lt=[new f.Point(Qe.x1,Qe.y1),new f.Point(Qe.x2,Qe.y1),new f.Point(Qe.x2,Qe.y2),new f.Point(Qe.x1,Qe.y2)];f.polygonIntersectsPolygon($,lt)&&(Ce[nt.bucketInstanceId][nt.featureIndex]=!0,void 0===Ne[nt.bucketInstanceId]&&(Ne[nt.bucketInstanceId]=[]),Ne[nt.bucketInstanceId].push(nt.featureIndex))}}return Ne},mr.prototype.insertCollisionBox=function(U,$,q,ne,_e){($?this.ignoredGrid:this.grid).insert({bucketInstanceId:q,featureIndex:ne,collisionGroupID:_e},U[0],U[1],U[2],U[3])},mr.prototype.insertCollisionCircles=function(U,$,q,ne,_e){for(var Pe=$?this.ignoredGrid:this.grid,V={bucketInstanceId:q,featureIndex:ne,collisionGroupID:_e},ie=0;ie<U.length;ie+=4)Pe.insertCircle(V,U[ie],U[ie+1],U[ie+2])},mr.prototype.projectAndGetPerspectiveRatio=function(U,$,q){var ne=[$,q,0,1];return er(ne,ne,U),{point:new f.Point((ne[0]/ne[3]+1)/2*this.transform.width+nr,(-ne[1]/ne[3]+1)/2*this.transform.height+nr),perspectiveRatio:.5+this.transform.cameraToCenterDistance/ne[3]*.5}},mr.prototype.isOffscreen=function(U,$,q,ne){return q<nr||U>=this.screenRightBoundary||ne<nr||$>this.screenBottomBoundary},mr.prototype.isInsideGrid=function(U,$,q,ne){return q>=0&&U<this.gridRightBoundary&&ne>=0&&$<this.gridBottomBoundary},mr.prototype.getViewportMatrix=function(){var U=f.identity([]);return f.translate(U,U,[-100,-100,0]),U};var Ir=function(U,$,q,ne){this.opacity=U?Math.max(0,Math.min(1,U.opacity+(U.placed?$:-$))):ne&&q?1:0,this.placed=q};Ir.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var Yt=function(U,$,q,ne,_e){this.text=new Ir(U?U.text:null,$,q,_e),this.icon=new Ir(U?U.icon:null,$,ne,_e)};Yt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var $t=function(U,$,q){this.text=U,this.icon=$,this.skipFade=q},xn=function(){this.invProjMatrix=f.create(),this.viewportMatrix=f.create(),this.circles=[]},vn=function(U,$,q,ne,_e){this.bucketInstanceId=U,this.featureIndex=$,this.sourceLayerIndex=q,this.bucketIndex=ne,this.tileID=_e},Dn=function(U){this.crossSourceCollisions=U,this.maxGroupID=0,this.collisionGroups={}};function or(U,$,q,ne,_e){var Pe=f.getAnchorAlignment(U),V=-(Pe.horizontalAlign-.5)*$,ie=-(Pe.verticalAlign-.5)*q,ce=f.evaluateVariableOffset(U,ne);return new f.Point(V+ce[0]*_e,ie+ce[1]*_e)}function Yn(U,$,q,ne,_e,Pe){var V=U.x1,ie=U.x2,ce=U.y1,Me=U.y2,Ce=U.anchorPointX,Ne=U.anchorPointY,$e=new f.Point($,q);return ne&&$e._rotate(_e?Pe:-Pe),{x1:V+$e.x,y1:ce+$e.y,x2:ie+$e.x,y2:Me+$e.y,anchorPointX:Ce,anchorPointY:Ne}}Dn.prototype.get=function(U){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[U]){var $=++this.maxGroupID;this.collisionGroups[U]={ID:$,predicate:function(q){return q.collisionGroupID===$}}}return this.collisionGroups[U]};var Qn=function(U,$,q,ne){this.transform=U.clone(),this.collisionIndex=new mr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=$,this.retainedQueryData={},this.collisionGroups=new Dn(q),this.collisionCircleArrays={},this.prevPlacement=ne,ne&&(ne.prevPlacement=void 0),this.placedOrientations={}};function gr(U,$,q,ne,_e){U.emplaceBack($?1:0,q?1:0,ne||0,_e||0),U.emplaceBack($?1:0,q?1:0,ne||0,_e||0),U.emplaceBack($?1:0,q?1:0,ne||0,_e||0),U.emplaceBack($?1:0,q?1:0,ne||0,_e||0)}Qn.prototype.getBucketParts=function(U,$,q,ne){var _e=q.getBucket($),Pe=q.latestFeatureIndex;if(_e&&Pe&&$.id===_e.layerIds[0]){var V=q.collisionBoxArray,ie=_e.layers[0].layout,ce=Math.pow(2,this.transform.zoom-q.tileID.overscaledZ),Me=q.tileSize/f.EXTENT,Ce=this.transform.calculatePosMatrix(q.tileID.toUnwrapped()),Ne="map"===ie.get("text-pitch-alignment"),$e="map"===ie.get("text-rotation-alignment"),Xe=dr(q,1,this.transform.zoom),Qe=Hn(Ce,Ne,$e,this.transform,Xe),nt=null;if(Ne){var lt=An(Ce,Ne,$e,this.transform,Xe);nt=f.multiply([],this.transform.labelPlaneMatrix,lt)}this.retainedQueryData[_e.bucketInstanceId]=new vn(_e.bucketInstanceId,Pe,_e.sourceLayerIndex,_e.index,q.tileID);var xt={bucket:_e,layout:ie,posMatrix:Ce,textLabelPlaneMatrix:Qe,labelToScreenMatrix:nt,scale:ce,textPixelRatio:Me,holdingForFade:q.holdingForFade(),collisionBoxArray:V,partiallyEvaluatedTextSize:f.evaluateSizeForZoom(_e.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(_e.sourceID)};if(ne)for(var Mt=0,Bt=_e.sortKeyRanges;Mt<Bt.length;Mt+=1){var Vt=Bt[Mt];U.push({sortKey:Vt.sortKey,symbolInstanceStart:Vt.symbolInstanceStart,symbolInstanceEnd:Vt.symbolInstanceEnd,parameters:xt})}else U.push({symbolInstanceStart:0,symbolInstanceEnd:_e.symbolInstances.length,parameters:xt})}},Qn.prototype.attemptAnchorPlacement=function(U,$,q,ne,_e,Pe,V,ie,ce,Me,Ce,Ne,$e,Xe,Qe){var nt,lt=[Ne.textOffset0,Ne.textOffset1],xt=or(U,q,ne,lt,_e),Mt=this.collisionIndex.placeCollisionBox(Yn($,xt.x,xt.y,Pe,V,this.transform.angle),Ce,ie,ce,Me.predicate);if(!Qe||0!==this.collisionIndex.placeCollisionBox(Yn(Qe,xt.x,xt.y,Pe,V,this.transform.angle),Ce,ie,ce,Me.predicate).box.length)return Mt.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[Ne.crossTileID]&&this.prevPlacement.placements[Ne.crossTileID]&&this.prevPlacement.placements[Ne.crossTileID].text&&(nt=this.prevPlacement.variableOffsets[Ne.crossTileID].anchor),this.variableOffsets[Ne.crossTileID]={textOffset:lt,width:q,height:ne,anchor:U,textBoxScale:_e,prevAnchor:nt},this.markUsedJustification($e,U,Ne,Xe),$e.allowVerticalPlacement&&(this.markUsedOrientation($e,Xe,Ne),this.placedOrientations[Ne.crossTileID]=Xe),{shift:xt,placedGlyphBoxes:Mt}):void 0},Qn.prototype.placeLayerBucketPart=function(U,$,q){var ne=this,_e=U.parameters,Pe=_e.bucket,V=_e.layout,ie=_e.posMatrix,ce=_e.textLabelPlaneMatrix,Me=_e.labelToScreenMatrix,Ce=_e.textPixelRatio,Ne=_e.holdingForFade,$e=_e.collisionBoxArray,Xe=_e.partiallyEvaluatedTextSize,Qe=_e.collisionGroup,nt=V.get("text-optional"),lt=V.get("icon-optional"),xt=V.get("text-allow-overlap"),Mt=V.get("icon-allow-overlap"),Bt="map"===V.get("text-rotation-alignment"),Vt="map"===V.get("text-pitch-alignment"),jt="none"!==V.get("icon-text-fit"),Xt="viewport-y"===V.get("symbol-z-order"),Ut=xt&&(Mt||!Pe.hasIconData()||lt),gn=Mt&&(xt||!Pe.hasTextData()||nt);!Pe.collisionArrays&&$e&&Pe.deserializeCollisionBoxes($e);var sn=function(ur,yr){if(!$[ur.crossTileID])if(Ne)ne.placements[ur.crossTileID]=new $t(!1,!1,!1);else{var Cr,Ar=!1,Fr=!1,$r=!0,hi=null,ir={box:null,offscreen:null},Tr={box:null,offscreen:null},zr=null,Kr=null,ai=0,vi=0,Bi=0;yr.textFeatureIndex?ai=yr.textFeatureIndex:ur.useRuntimeCollisionCircles&&(ai=ur.featureIndex),yr.verticalTextFeatureIndex&&(vi=yr.verticalTextFeatureIndex);var ao=yr.textBox;if(ao){var _o=function(Go){var ua=f.WritingMode.horizontal;if(Pe.allowVerticalPlacement&&!Go&&ne.prevPlacement){var tl=ne.prevPlacement.placedOrientations[ur.crossTileID];tl&&(ne.placedOrientations[ur.crossTileID]=tl,ne.markUsedOrientation(Pe,ua=tl,ur))}return ua},Po=function(Go,ua){if(Pe.allowVerticalPlacement&&ur.numVerticalGlyphVertices>0&&yr.verticalTextBox)for(var tl=0,Gl=Pe.writingModes;tl<Gl.length&&(Gl[tl]===f.WritingMode.vertical?(ir=ua(),Tr=ir):ir=Go(),!(ir&&ir.box&&ir.box.length));tl+=1);else ir=Go()};if(V.get("text-variable-anchor")){var to=V.get("text-variable-anchor");if(ne.prevPlacement&&ne.prevPlacement.variableOffsets[ur.crossTileID]){var Ho=ne.prevPlacement.variableOffsets[ur.crossTileID];to.indexOf(Ho.anchor)>0&&(to=to.filter(function(Go){return Go!==Ho.anchor})).unshift(Ho.anchor)}var Ta=function(Go,ua,tl){for(var Gl=Go.x2-Go.x1,dp=Go.y2-Go.y1,ld=ur.textBoxScale,Of=jt&&!Mt?ua:null,If={box:[],offscreen:!1},Pf=xt?2*to.length:to.length,Nc=0;Nc<Pf;++Nc){var ud=ne.attemptAnchorPlacement(to[Nc%to.length],Go,Gl,dp,ld,Bt,Vt,Ce,ie,Qe,Nc>=to.length,ur,Pe,tl,Of);if(ud&&(If=ud.placedGlyphBoxes)&&If.box&&If.box.length){Ar=!0,hi=ud.shift;break}}return If};Po(function(){return Ta(ao,yr.iconBox,f.WritingMode.horizontal)},function(){var Go=yr.verticalTextBox;return Pe.allowVerticalPlacement&&!(ir&&ir.box&&ir.box.length)&&ur.numVerticalGlyphVertices>0&&Go?Ta(Go,yr.verticalIconBox,f.WritingMode.vertical):{box:null,offscreen:null}}),ir&&(Ar=ir.box,$r=ir.offscreen);var la=_o(ir&&ir.box);if(!Ar&&ne.prevPlacement){var Xo=ne.prevPlacement.variableOffsets[ur.crossTileID];Xo&&(ne.variableOffsets[ur.crossTileID]=Xo,ne.markUsedJustification(Pe,Xo.anchor,ur,la))}}else{var Hi=function(Go,ua){var tl=ne.collisionIndex.placeCollisionBox(Go,xt,Ce,ie,Qe.predicate);return tl&&tl.box&&tl.box.length&&(ne.markUsedOrientation(Pe,ua,ur),ne.placedOrientations[ur.crossTileID]=ua),tl};Po(function(){return Hi(ao,f.WritingMode.horizontal)},function(){var Go=yr.verticalTextBox;return Pe.allowVerticalPlacement&&ur.numVerticalGlyphVertices>0&&Go?Hi(Go,f.WritingMode.vertical):{box:null,offscreen:null}}),_o(ir&&ir.box&&ir.box.length)}}if(Ar=(Cr=ir)&&Cr.box&&Cr.box.length>0,$r=Cr&&Cr.offscreen,ur.useRuntimeCollisionCircles){var Pi=Pe.text.placedSymbolArray.get(ur.centerJustifiedTextSymbolIndex),so=f.evaluateSizeForFeature(Pe.textSizeData,Xe,Pi),mo=V.get("text-padding");zr=ne.collisionIndex.placeCollisionCircles(xt,Pi,Pe.lineVertexArray,Pe.glyphOffsetArray,so,ie,ce,Me,q,Vt,Qe.predicate,ur.collisionCircleDiameter,mo),Ar=xt||zr.circles.length>0&&!zr.collisionDetected,$r=$r&&zr.offscreen}if(yr.iconFeatureIndex&&(Bi=yr.iconFeatureIndex),yr.iconBox){var Ma=function(Go){var ua=jt&&hi?Yn(Go,hi.x,hi.y,Bt,Vt,ne.transform.angle):Go;return ne.collisionIndex.placeCollisionBox(ua,Mt,Ce,ie,Qe.predicate)};Fr=Tr&&Tr.box&&Tr.box.length&&yr.verticalIconBox?(Kr=Ma(yr.verticalIconBox)).box.length>0:(Kr=Ma(yr.iconBox)).box.length>0,$r=$r&&Kr.offscreen}var jo=nt||0===ur.numHorizontalGlyphVertices&&0===ur.numVerticalGlyphVertices,Gi=lt||0===ur.numIconVertices;if(jo||Gi?Gi?jo||(Fr=Fr&&Ar):Ar=Fr&&Ar:Fr=Ar=Fr&&Ar,Ar&&Cr&&Cr.box&&ne.collisionIndex.insertCollisionBox(Cr.box,V.get("text-ignore-placement"),Pe.bucketInstanceId,Tr&&Tr.box&&vi?vi:ai,Qe.ID),Fr&&Kr&&ne.collisionIndex.insertCollisionBox(Kr.box,V.get("icon-ignore-placement"),Pe.bucketInstanceId,Bi,Qe.ID),zr&&(Ar&&ne.collisionIndex.insertCollisionCircles(zr.circles,V.get("text-ignore-placement"),Pe.bucketInstanceId,ai,Qe.ID),q)){var Hl=Pe.bucketInstanceId,Na=ne.collisionCircleArrays[Hl];void 0===Na&&(Na=ne.collisionCircleArrays[Hl]=new xn);for(var el=0;el<zr.circles.length;el+=4)Na.circles.push(zr.circles[el+0]),Na.circles.push(zr.circles[el+1]),Na.circles.push(zr.circles[el+2]),Na.circles.push(zr.collisionDetected?1:0)}ne.placements[ur.crossTileID]=new $t(Ar||Ut,Fr||gn,$r||Pe.justReloaded),$[ur.crossTileID]=!0}};if(Xt)for(var rn=Pe.getSortedSymbolIndexes(this.transform.angle),En=rn.length-1;En>=0;--En){var On=rn[En];sn(Pe.symbolInstances.get(On),Pe.collisionArrays[On])}else for(var $n=U.symbolInstanceStart;$n<U.symbolInstanceEnd;$n++)sn(Pe.symbolInstances.get($n),Pe.collisionArrays[$n]);if(q&&Pe.bucketInstanceId in this.collisionCircleArrays){var tr=this.collisionCircleArrays[Pe.bucketInstanceId];f.invert(tr.invProjMatrix,ie),tr.viewportMatrix=this.collisionIndex.getViewportMatrix()}Pe.justReloaded=!1},Qn.prototype.markUsedJustification=function(U,$,q,ne){var _e;_e=ne===f.WritingMode.vertical?q.verticalPlacedTextSymbolIndex:{left:q.leftJustifiedTextSymbolIndex,center:q.centerJustifiedTextSymbolIndex,right:q.rightJustifiedTextSymbolIndex}[f.getAnchorJustification($)];for(var V=0,ie=[q.leftJustifiedTextSymbolIndex,q.centerJustifiedTextSymbolIndex,q.rightJustifiedTextSymbolIndex,q.verticalPlacedTextSymbolIndex];V<ie.length;V+=1){var ce=ie[V];ce>=0&&(U.text.placedSymbolArray.get(ce).crossTileID=_e>=0&&ce!==_e?0:q.crossTileID)}},Qn.prototype.markUsedOrientation=function(U,$,q){for(var ne=$===f.WritingMode.horizontal||$===f.WritingMode.horizontalOnly?$:0,_e=$===f.WritingMode.vertical?$:0,Pe=0,V=[q.leftJustifiedTextSymbolIndex,q.centerJustifiedTextSymbolIndex,q.rightJustifiedTextSymbolIndex];Pe<V.length;Pe+=1)U.text.placedSymbolArray.get(V[Pe]).placedOrientation=ne;q.verticalPlacedTextSymbolIndex&&(U.text.placedSymbolArray.get(q.verticalPlacedTextSymbolIndex).placedOrientation=_e)},Qn.prototype.commit=function(U){this.commitTime=U,this.zoomAtLastRecencyCheck=this.transform.zoom;var $=this.prevPlacement,q=!1;this.prevZoomAdjustment=$?$.zoomAdjustment(this.transform.zoom):0;var ne=$?$.symbolFadeChange(U):1,_e=$?$.opacities:{},Pe=$?$.variableOffsets:{},V=$?$.placedOrientations:{};for(var ie in this.placements){var ce=this.placements[ie],Me=_e[ie];Me?(this.opacities[ie]=new Yt(Me,ne,ce.text,ce.icon),q=q||ce.text!==Me.text.placed||ce.icon!==Me.icon.placed):(this.opacities[ie]=new Yt(null,ne,ce.text,ce.icon,ce.skipFade),q=q||ce.text||ce.icon)}for(var Ce in _e){var Ne=_e[Ce];if(!this.opacities[Ce]){var $e=new Yt(Ne,ne,!1,!1);$e.isHidden()||(this.opacities[Ce]=$e,q=q||Ne.text.placed||Ne.icon.placed)}}for(var Xe in Pe)this.variableOffsets[Xe]||!this.opacities[Xe]||this.opacities[Xe].isHidden()||(this.variableOffsets[Xe]=Pe[Xe]);for(var Qe in V)this.placedOrientations[Qe]||!this.opacities[Qe]||this.opacities[Qe].isHidden()||(this.placedOrientations[Qe]=V[Qe]);q?this.lastPlacementChangeTime=U:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=$?$.lastPlacementChangeTime:U)},Qn.prototype.updateLayerOpacities=function(U,$){for(var q={},ne=0,_e=$;ne<_e.length;ne+=1){var Pe=_e[ne],V=Pe.getBucket(U);V&&Pe.latestFeatureIndex&&U.id===V.layerIds[0]&&this.updateBucketOpacities(V,q,Pe.collisionBoxArray)}},Qn.prototype.updateBucketOpacities=function(U,$,q){var ne=this;U.hasTextData()&&U.text.opacityVertexArray.clear(),U.hasIconData()&&U.icon.opacityVertexArray.clear(),U.hasIconCollisionBoxData()&&U.iconCollisionBox.collisionVertexArray.clear(),U.hasTextCollisionBoxData()&&U.textCollisionBox.collisionVertexArray.clear();var _e=U.layers[0].layout,Pe=new Yt(null,0,!1,!1,!0),V=_e.get("text-allow-overlap"),ie=_e.get("icon-allow-overlap"),ce=_e.get("text-variable-anchor"),Me="map"===_e.get("text-rotation-alignment"),Ce="map"===_e.get("text-pitch-alignment"),Ne="none"!==_e.get("icon-text-fit"),$e=new Yt(null,0,V&&(ie||!U.hasIconData()||_e.get("icon-optional")),ie&&(V||!U.hasTextData()||_e.get("text-optional")),!0);!U.collisionArrays&&q&&(U.hasIconCollisionBoxData()||U.hasTextCollisionBoxData())&&U.deserializeCollisionBoxes(q);for(var Xe=function(xt,Mt,Bt){for(var Vt=0;Vt<Mt/4;Vt++)xt.opacityVertexArray.emplaceBack(Bt)},Qe=function(xt){var Mt=U.symbolInstances.get(xt),Bt=Mt.numHorizontalGlyphVertices,Vt=Mt.numVerticalGlyphVertices,jt=Mt.crossTileID,Ut=ne.opacities[jt];$[jt]?Ut=Pe:Ut||(ne.opacities[jt]=Ut=$e),$[jt]=!0;var sn=Mt.numIconVertices>0,rn=ne.placedOrientations[Mt.crossTileID],En=rn===f.WritingMode.vertical,On=rn===f.WritingMode.horizontal||rn===f.WritingMode.horizontalOnly;if(Bt>0||Vt>0){var $n=Gn(Ut.text);Xe(U.text,Bt,En?Tn:$n),Xe(U.text,Vt,On?Tn:$n);var yr=Ut.text.isHidden();[Mt.rightJustifiedTextSymbolIndex,Mt.centerJustifiedTextSymbolIndex,Mt.leftJustifiedTextSymbolIndex].forEach(function(Bi){Bi>=0&&(U.text.placedSymbolArray.get(Bi).hidden=yr||En?1:0)}),Mt.verticalPlacedTextSymbolIndex>=0&&(U.text.placedSymbolArray.get(Mt.verticalPlacedTextSymbolIndex).hidden=yr||On?1:0);var Cr=ne.variableOffsets[Mt.crossTileID];Cr&&ne.markUsedJustification(U,Cr.anchor,Mt,rn);var Ar=ne.placedOrientations[Mt.crossTileID];Ar&&(ne.markUsedJustification(U,"left",Mt,Ar),ne.markUsedOrientation(U,Ar,Mt))}if(sn){var Fr=Gn(Ut.icon),$r=!(Ne&&Mt.verticalPlacedIconSymbolIndex&&En);Mt.placedIconSymbolIndex>=0&&(Xe(U.icon,Mt.numIconVertices,$r?Fr:Tn),U.icon.placedSymbolArray.get(Mt.placedIconSymbolIndex).hidden=Ut.icon.isHidden()),Mt.verticalPlacedIconSymbolIndex>=0&&(Xe(U.icon,Mt.numVerticalIconVertices,$r?Tn:Fr),U.icon.placedSymbolArray.get(Mt.verticalPlacedIconSymbolIndex).hidden=Ut.icon.isHidden())}if(U.hasIconCollisionBoxData()||U.hasTextCollisionBoxData()){var Tr=U.collisionArrays[xt];if(Tr){var zr=new f.Point(0,0);if(Tr.textBox||Tr.verticalTextBox){var Kr=!0;if(ce){var ai=ne.variableOffsets[jt];ai?(zr=or(ai.anchor,ai.width,ai.height,ai.textOffset,ai.textBoxScale),Me&&zr._rotate(Ce?ne.transform.angle:-ne.transform.angle)):Kr=!1}Tr.textBox&&gr(U.textCollisionBox.collisionVertexArray,Ut.text.placed,!Kr||En,zr.x,zr.y),Tr.verticalTextBox&&gr(U.textCollisionBox.collisionVertexArray,Ut.text.placed,!Kr||On,zr.x,zr.y)}var vi=Boolean(!On&&Tr.verticalIconBox);Tr.iconBox&&gr(U.iconCollisionBox.collisionVertexArray,Ut.icon.placed,vi,Ne?zr.x:0,Ne?zr.y:0),Tr.verticalIconBox&&gr(U.iconCollisionBox.collisionVertexArray,Ut.icon.placed,!vi,Ne?zr.x:0,Ne?zr.y:0)}}},nt=0;nt<U.symbolInstances.length;nt++)Qe(nt);if(U.sortFeatures(this.transform.angle),this.retainedQueryData[U.bucketInstanceId]&&(this.retainedQueryData[U.bucketInstanceId].featureSortOrder=U.featureSortOrder),U.hasTextData()&&U.text.opacityVertexBuffer&&U.text.opacityVertexBuffer.updateData(U.text.opacityVertexArray),U.hasIconData()&&U.icon.opacityVertexBuffer&&U.icon.opacityVertexBuffer.updateData(U.icon.opacityVertexArray),U.hasIconCollisionBoxData()&&U.iconCollisionBox.collisionVertexBuffer&&U.iconCollisionBox.collisionVertexBuffer.updateData(U.iconCollisionBox.collisionVertexArray),U.hasTextCollisionBoxData()&&U.textCollisionBox.collisionVertexBuffer&&U.textCollisionBox.collisionVertexBuffer.updateData(U.textCollisionBox.collisionVertexArray),U.bucketInstanceId in this.collisionCircleArrays){var lt=this.collisionCircleArrays[U.bucketInstanceId];U.placementInvProjMatrix=lt.invProjMatrix,U.placementViewportMatrix=lt.viewportMatrix,U.collisionCircleArray=lt.circles,delete this.collisionCircleArrays[U.bucketInstanceId]}},Qn.prototype.symbolFadeChange=function(U){return 0===this.fadeDuration?1:(U-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Qn.prototype.zoomAdjustment=function(U){return Math.max(0,(this.transform.zoom-U)/1.5)},Qn.prototype.hasTransitions=function(U){return this.stale||U-this.lastPlacementChangeTime<this.fadeDuration},Qn.prototype.stillRecent=function(U,$){var q=this.zoomAtLastRecencyCheck===$?1-this.zoomAdjustment($):1;return this.zoomAtLastRecencyCheck=$,this.commitTime+this.fadeDuration*q>U},Qn.prototype.setStale=function(){this.stale=!0};var tn=Math.pow(2,25),Fn=Math.pow(2,24),Nt=Math.pow(2,17),an=Math.pow(2,16),cn=Math.pow(2,9),Pn=Math.pow(2,8),Nn=Math.pow(2,1);function Gn(U){if(0===U.opacity&&!U.placed)return 0;if(1===U.opacity&&U.placed)return 4294967295;var $=U.placed?1:0,q=Math.floor(127*U.opacity);return q*tn+$*Fn+q*Nt+$*an+q*cn+$*Pn+q*Nn+$}var Tn=0,un=function(U){this._sortAcrossTiles="viewport-y"!==U.layout.get("symbol-z-order")&&void 0!==U.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};un.prototype.continuePlacement=function(U,$,q,ne,_e){for(var Pe=this._bucketParts;this._currentTileIndex<U.length;)if($.getBucketParts(Pe,ne,U[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,_e())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Pe.sort(function(ce,Me){return ce.sortKey-Me.sortKey}));this._currentPartIndex<Pe.length;)if($.placeLayerBucketPart(Pe[this._currentPartIndex],this._seenCrossTileIDs,q),this._currentPartIndex++,_e())return!0;return!1};var fn=function(U,$,q,ne,_e,Pe,V){this.placement=new Qn(U,_e,Pe,V),this._currentPlacementIndex=$.length-1,this._forceFullPlacement=q,this._showCollisionBoxes=ne,this._done=!1};fn.prototype.isDone=function(){return this._done},fn.prototype.continuePlacement=function(U,$,q){for(var ne=this,_e=f.browser.now(),Pe=function(){var ce=f.browser.now()-_e;return!ne._forceFullPlacement&&ce>2};this._currentPlacementIndex>=0;){var V=$[U[this._currentPlacementIndex]],ie=this.placement.collisionIndex.transform.zoom;if("symbol"===V.type&&(!V.minzoom||V.minzoom<=ie)&&(!V.maxzoom||V.maxzoom>ie)){if(this._inProgressLayer||(this._inProgressLayer=new un(V)),this._inProgressLayer.continuePlacement(q[V.source],this.placement,this._showCollisionBoxes,V,Pe))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},fn.prototype.commit=function(U){return this.placement.commit(U),this.placement};var bn=512/f.EXTENT/2,Mn=function(U,$,q){this.tileID=U,this.indexedSymbolInstances={},this.bucketInstanceId=q;for(var ne=0;ne<$.length;ne++){var _e=$.get(ne),Pe=_e.key;this.indexedSymbolInstances[Pe]||(this.indexedSymbolInstances[Pe]=[]),this.indexedSymbolInstances[Pe].push({crossTileID:_e.crossTileID,coord:this.getScaledCoordinates(_e,U)})}};Mn.prototype.getScaledCoordinates=function(U,$){var ne=bn/Math.pow(2,$.canonical.z-this.tileID.canonical.z);return{x:Math.floor(($.canonical.x*f.EXTENT+U.anchorX)*ne),y:Math.floor(($.canonical.y*f.EXTENT+U.anchorY)*ne)}},Mn.prototype.findMatches=function(U,$,q){for(var ne=this.tileID.canonical.z<$.canonical.z?1:Math.pow(2,this.tileID.canonical.z-$.canonical.z),_e=0;_e<U.length;_e++){var Pe=U.get(_e);if(!Pe.crossTileID){var V=this.indexedSymbolInstances[Pe.key];if(V)for(var ie=this.getScaledCoordinates(Pe,$),ce=0,Me=V;ce<Me.length;ce+=1){var Ce=Me[ce];if(Math.abs(Ce.coord.x-ie.x)<=ne&&Math.abs(Ce.coord.y-ie.y)<=ne&&!q[Ce.crossTileID]){q[Ce.crossTileID]=!0,Pe.crossTileID=Ce.crossTileID;break}}}}};var Un=function(){this.maxCrossTileID=0};Un.prototype.generate=function(){return++this.maxCrossTileID};var Vn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Vn.prototype.handleWrapJump=function(U){var $=Math.round((U-this.lng)/360);if(0!==$)for(var q in this.indexes){var ne=this.indexes[q],_e={};for(var Pe in ne){var V=ne[Pe];V.tileID=V.tileID.unwrapTo(V.tileID.wrap+$),_e[V.tileID.key]=V}this.indexes[q]=_e}this.lng=U},Vn.prototype.addBucket=function(U,$,q){if(this.indexes[U.overscaledZ]&&this.indexes[U.overscaledZ][U.key]){if(this.indexes[U.overscaledZ][U.key].bucketInstanceId===$.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(U.overscaledZ,this.indexes[U.overscaledZ][U.key])}for(var ne=0;ne<$.symbolInstances.length;ne++)$.symbolInstances.get(ne).crossTileID=0;this.usedCrossTileIDs[U.overscaledZ]||(this.usedCrossTileIDs[U.overscaledZ]={});var _e=this.usedCrossTileIDs[U.overscaledZ];for(var Pe in this.indexes){var V=this.indexes[Pe];if(Number(Pe)>U.overscaledZ)for(var ie in V){var ce=V[ie];ce.tileID.isChildOf(U)&&ce.findMatches($.symbolInstances,U,_e)}else{var Me=V[U.scaledTo(Number(Pe)).key];Me&&Me.findMatches($.symbolInstances,U,_e)}}for(var Ce=0;Ce<$.symbolInstances.length;Ce++){var Ne=$.symbolInstances.get(Ce);Ne.crossTileID||(Ne.crossTileID=q.generate(),_e[Ne.crossTileID]=!0)}return void 0===this.indexes[U.overscaledZ]&&(this.indexes[U.overscaledZ]={}),this.indexes[U.overscaledZ][U.key]=new Mn(U,$.symbolInstances,$.bucketInstanceId),!0},Vn.prototype.removeBucketCrossTileIDs=function(U,$){for(var q in $.indexedSymbolInstances)for(var ne=0,_e=$.indexedSymbolInstances[q];ne<_e.length;ne+=1)delete this.usedCrossTileIDs[U][_e[ne].crossTileID]},Vn.prototype.removeStaleBuckets=function(U){var $=!1;for(var q in this.indexes){var ne=this.indexes[q];for(var _e in ne)U[ne[_e].bucketInstanceId]||(this.removeBucketCrossTileIDs(q,ne[_e]),delete ne[_e],$=!0)}return $};var sr=function(){this.layerIndexes={},this.crossTileIDs=new Un,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};sr.prototype.addLayer=function(U,$,q){var ne=this.layerIndexes[U.id];void 0===ne&&(ne=this.layerIndexes[U.id]=new Vn);var _e=!1,Pe={};ne.handleWrapJump(q);for(var V=0,ie=$;V<ie.length;V+=1){var ce=ie[V],Me=ce.getBucket(U);Me&&U.id===Me.layerIds[0]&&(Me.bucketInstanceId||(Me.bucketInstanceId=++this.maxBucketInstanceId),ne.addBucket(ce.tileID,Me,this.crossTileIDs)&&(_e=!0),Pe[Me.bucketInstanceId]=!0)}return ne.removeStaleBuckets(Pe)&&(_e=!0),_e},sr.prototype.pruneUnusedLayers=function(U){var $={};for(var q in U.forEach(function(ne){$[ne]=!0}),this.layerIndexes)$[q]||delete this.layerIndexes[q]};var rr=function(U,$){return f.emitValidationErrors(U,$&&$.filter(function(q){return"source.canvas"!==q.identifier}))},_r=f.pick(bt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Rn=f.pick(bt,["setCenter","setZoom","setBearing","setPitch"]),Mr=function(){var U={},$=f.styleSpec.$version;for(var q in f.styleSpec.$root){var _e,ne=f.styleSpec.$root[q];ne.required&&null!=(_e="version"===q?$:"array"===ne.type?[]:{})&&(U[q]=_e)}return U}(),lr=function(U){function $(q,ne){var _e=this;void 0===ne&&(ne={}),U.call(this),this.map=q,this.dispatcher=new P(kt(),this),this.imageManager=new m,this.imageManager.setEventedParent(this),this.glyphManager=new b(q._requestManager,ne.localIdeographFontFamily),this.lineAtlas=new I(256,512),this.crossTileSymbolIndex=new sr,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new f.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",f.getReferrer());var Pe=this;this._rtlTextPluginCallback=$.registerForPluginStateChange(function(V){Pe.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:V.pluginStatus,pluginURL:V.pluginURL},function(ce,Me){if(f.triggerPluginCompletionEvent(ce),Me&&Me.every(function(Ne){return Ne}))for(var Ce in Pe.sourceCaches)Pe.sourceCaches[Ce].reload()})}),this.on("data",function(V){if("source"===V.dataType&&"metadata"===V.sourceDataType){var ie=_e.sourceCaches[V.sourceId];if(ie){var ce=ie.getSource();if(ce&&ce.vectorLayerIds)for(var Me in _e._layers){var Ce=_e._layers[Me];Ce.source===ce.id&&_e._validateLayer(Ce)}}}})}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.loadURL=function(q,ne){var _e=this;void 0===ne&&(ne={}),this.fire(new f.Event("dataloading",{dataType:"style"}));var Pe="boolean"==typeof ne.validate?ne.validate:!f.isMapboxURL(q);q=this.map._requestManager.normalizeStyleURL(q,ne.accessToken);var V=this.map._requestManager.transformRequest(q,f.ResourceType.Style);this._request=f.getJSON(V,function(ie,ce){_e._request=null,ie?_e.fire(new f.ErrorEvent(ie)):ce&&_e._load(ce,Pe)})},$.prototype.loadJSON=function(q,ne){var _e=this;void 0===ne&&(ne={}),this.fire(new f.Event("dataloading",{dataType:"style"})),this._request=f.browser.frame(function(){_e._request=null,_e._load(q,!1!==ne.validate)})},$.prototype.loadEmpty=function(){this.fire(new f.Event("dataloading",{dataType:"style"})),this._load(Mr,!1)},$.prototype._load=function(q,ne){if(!ne||!rr(this,f.validateStyle(q))){for(var _e in this._loaded=!0,this.stylesheet=q,q.sources)this.addSource(_e,q.sources[_e],{validate:!1});q.sprite?this._loadSprite(q.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(q.glyphs);var Pe=Rt(this.stylesheet.layers);this._order=Pe.map(function(Me){return Me.id}),this._layers={},this._serializedLayers={};for(var V=0,ie=Pe;V<ie.length;V+=1){var ce=ie[V];(ce=f.createStyleLayer(ce)).setEventedParent(this,{layer:{id:ce.id}}),this._layers[ce.id]=ce,this._serializedLayers[ce.id]=ce.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new k(this.stylesheet.light),this.fire(new f.Event("data",{dataType:"style"})),this.fire(new f.Event("style.load"))}},$.prototype._loadSprite=function(q){var ne=this;this._spriteRequest=function(_e,Pe,V){var ie,ce,Me,Ce=f.browser.devicePixelRatio>1?"@2x":"",Ne=f.getJSON(Pe.transformRequest(Pe.normalizeSpriteURL(_e,Ce,".json"),f.ResourceType.SpriteJSON),function(Qe,nt){Ne=null,Me||(Me=Qe,ie=nt,Xe())}),$e=f.getImage(Pe.transformRequest(Pe.normalizeSpriteURL(_e,Ce,".png"),f.ResourceType.SpriteImage),function(Qe,nt){$e=null,Me||(Me=Qe,ce=nt,Xe())});function Xe(){if(Me)V(Me);else if(ie&&ce){var Qe=f.browser.getImageData(ce),nt={};for(var lt in ie){var xt=ie[lt],Mt=xt.width,Bt=xt.height,Vt=xt.x,jt=xt.y,Xt=xt.sdf,Ut=xt.pixelRatio,gn=xt.stretchX,sn=xt.stretchY,rn=xt.content,En=new f.RGBAImage({width:Mt,height:Bt});f.RGBAImage.copy(Qe,En,{x:Vt,y:jt},{x:0,y:0},{width:Mt,height:Bt}),nt[lt]={data:En,pixelRatio:Ut,sdf:Xt,stretchX:gn,stretchY:sn,content:rn}}V(null,nt)}}return{cancel:function(){Ne&&(Ne.cancel(),Ne=null),$e&&($e.cancel(),$e=null)}}}(q,this.map._requestManager,function(_e,Pe){if(ne._spriteRequest=null,_e)ne.fire(new f.ErrorEvent(_e));else if(Pe)for(var V in Pe)ne.imageManager.addImage(V,Pe[V]);ne.imageManager.setLoaded(!0),ne._availableImages=ne.imageManager.listImages(),ne.dispatcher.broadcast("setImages",ne._availableImages),ne.fire(new f.Event("data",{dataType:"style"}))})},$.prototype._validateLayer=function(q){var ne=this.sourceCaches[q.source];if(ne){var _e=q.sourceLayer;if(_e){var Pe=ne.getSource();("geojson"===Pe.type||Pe.vectorLayerIds&&-1===Pe.vectorLayerIds.indexOf(_e))&&this.fire(new f.ErrorEvent(new Error('Source layer "'+_e+'" does not exist on source "'+Pe.id+'" as specified by style layer "'+q.id+'"')))}}},$.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var q in this.sourceCaches)if(!this.sourceCaches[q].loaded())return!1;return!!this.imageManager.isLoaded()},$.prototype._serializeLayers=function(q){for(var ne=[],_e=0,Pe=q;_e<Pe.length;_e+=1){var ie=this._layers[Pe[_e]];"custom"!==ie.type&&ne.push(ie.serialize())}return ne},$.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var q in this.sourceCaches)if(this.sourceCaches[q].hasTransition())return!0;for(var ne in this._layers)if(this._layers[ne].hasTransition())return!0;return!1},$.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},$.prototype.update=function(q){if(this._loaded){var ne=this._changed;if(this._changed){var _e=Object.keys(this._updatedLayers),Pe=Object.keys(this._removedLayers);for(var V in(_e.length||Pe.length)&&this._updateWorkerLayers(_e,Pe),this._updatedSources){var ie=this._updatedSources[V];"reload"===ie?this._reloadSource(V):"clear"===ie&&this._clearSource(V)}for(var ce in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ce].updateTransitions(q);this.light.updateTransitions(q),this._resetUpdates()}for(var Me in this.sourceCaches)this.sourceCaches[Me].used=!1;for(var Ce=0,Ne=this._order;Ce<Ne.length;Ce+=1){var Xe=this._layers[Ne[Ce]];Xe.recalculate(q,this._availableImages),!Xe.isHidden(q.zoom)&&Xe.source&&(this.sourceCaches[Xe.source].used=!0)}this.light.recalculate(q),this.z=q.zoom,ne&&this.fire(new f.Event("data",{dataType:"style"}))}},$.prototype._updateTilesForChangedImages=function(){var q=Object.keys(this._changedImages);if(q.length){for(var ne in this.sourceCaches)this.sourceCaches[ne].reloadTilesForDependencies(["icons","patterns"],q);this._changedImages={}}},$.prototype._updateWorkerLayers=function(q,ne){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(q),removedIds:ne})},$.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},$.prototype.setState=function(q){var ne=this;if(this._checkLoaded(),rr(this,f.validateStyle(q)))return!1;(q=f.clone$1(q)).layers=Rt(q.layers);var _e=function nn(U,$){if(!U)return[{command:bt.setStyle,args:[$]}];var q=[];try{if(!f.deepEqual(U.version,$.version))return[{command:bt.setStyle,args:[$]}];f.deepEqual(U.center,$.center)||q.push({command:bt.setCenter,args:[$.center]}),f.deepEqual(U.zoom,$.zoom)||q.push({command:bt.setZoom,args:[$.zoom]}),f.deepEqual(U.bearing,$.bearing)||q.push({command:bt.setBearing,args:[$.bearing]}),f.deepEqual(U.pitch,$.pitch)||q.push({command:bt.setPitch,args:[$.pitch]}),f.deepEqual(U.sprite,$.sprite)||q.push({command:bt.setSprite,args:[$.sprite]}),f.deepEqual(U.glyphs,$.glyphs)||q.push({command:bt.setGlyphs,args:[$.glyphs]}),f.deepEqual(U.transition,$.transition)||q.push({command:bt.setTransition,args:[$.transition]}),f.deepEqual(U.light,$.light)||q.push({command:bt.setLight,args:[$.light]});var ne={},_e=[];!function(V,ie,ce,Me){var Ce;for(Ce in ie=ie||{},V=V||{})V.hasOwnProperty(Ce)&&(ie.hasOwnProperty(Ce)||Ot(Ce,ce,Me));for(Ce in ie)ie.hasOwnProperty(Ce)&&(V.hasOwnProperty(Ce)?f.deepEqual(V[Ce],ie[Ce])||("geojson"===V[Ce].type&&"geojson"===ie[Ce].type&&qt(V,ie,Ce)?ce.push({command:bt.setGeoJSONSourceData,args:[Ce,ie[Ce].data]}):Wt(Ce,ie,ce,Me)):Tt(Ce,ie,ce))}(U.sources,$.sources,_e,ne);var Pe=[];U.layers&&U.layers.forEach(function(V){ne[V.source]?q.push({command:bt.removeLayer,args:[V.id]}):Pe.push(V)}),q=q.concat(_e),function(V,ie,ce){ie=ie||[];var Me,Ce,Ne,$e,Xe,Qe,nt,lt=(V=V||[]).map(pn),xt=ie.map(pn),Mt=V.reduce(en,{}),Bt=ie.reduce(en,{}),Vt=lt.slice(),jt=Object.create(null);for(Me=0,Ce=0;Me<lt.length;Me++)Bt.hasOwnProperty(Ne=lt[Me])?Ce++:(ce.push({command:bt.removeLayer,args:[Ne]}),Vt.splice(Vt.indexOf(Ne,Ce),1));for(Me=0,Ce=0;Me<xt.length;Me++)Vt[Vt.length-1-Me]!==(Ne=xt[xt.length-1-Me])&&(Mt.hasOwnProperty(Ne)?(ce.push({command:bt.removeLayer,args:[Ne]}),Vt.splice(Vt.lastIndexOf(Ne,Vt.length-Ce),1)):Ce++,ce.push({command:bt.addLayer,args:[Bt[Ne],Qe=Vt[Vt.length-Me]]}),Vt.splice(Vt.length-Me,0,Ne),jt[Ne]=!0);for(Me=0;Me<xt.length;Me++)if($e=Mt[Ne=xt[Me]],Xe=Bt[Ne],!jt[Ne]&&!f.deepEqual($e,Xe))if(f.deepEqual($e.source,Xe.source)&&f.deepEqual($e["source-layer"],Xe["source-layer"])&&f.deepEqual($e.type,Xe.type)){for(nt in Jt($e.layout,Xe.layout,ce,Ne,null,bt.setLayoutProperty),Jt($e.paint,Xe.paint,ce,Ne,null,bt.setPaintProperty),f.deepEqual($e.filter,Xe.filter)||ce.push({command:bt.setFilter,args:[Ne,Xe.filter]}),f.deepEqual($e.minzoom,Xe.minzoom)&&f.deepEqual($e.maxzoom,Xe.maxzoom)||ce.push({command:bt.setLayerZoomRange,args:[Ne,Xe.minzoom,Xe.maxzoom]}),$e)$e.hasOwnProperty(nt)&&"layout"!==nt&&"paint"!==nt&&"filter"!==nt&&"metadata"!==nt&&"minzoom"!==nt&&"maxzoom"!==nt&&(0===nt.indexOf("paint.")?Jt($e[nt],Xe[nt],ce,Ne,nt.slice(6),bt.setPaintProperty):f.deepEqual($e[nt],Xe[nt])||ce.push({command:bt.setLayerProperty,args:[Ne,nt,Xe[nt]]}));for(nt in Xe)Xe.hasOwnProperty(nt)&&!$e.hasOwnProperty(nt)&&"layout"!==nt&&"paint"!==nt&&"filter"!==nt&&"metadata"!==nt&&"minzoom"!==nt&&"maxzoom"!==nt&&(0===nt.indexOf("paint.")?Jt($e[nt],Xe[nt],ce,Ne,nt.slice(6),bt.setPaintProperty):f.deepEqual($e[nt],Xe[nt])||ce.push({command:bt.setLayerProperty,args:[Ne,nt,Xe[nt]]}))}else ce.push({command:bt.removeLayer,args:[Ne]}),Qe=Vt[Vt.lastIndexOf(Ne)+1],ce.push({command:bt.addLayer,args:[Xe,Qe]})}(Pe,$.layers,q)}catch(V){console.warn("Unable to compute style diff:",V),q=[{command:bt.setStyle,args:[$]}]}return q}(this.serialize(),q).filter(function(V){return!(V.command in Rn)});if(0===_e.length)return!1;var Pe=_e.filter(function(V){return!(V.command in _r)});if(Pe.length>0)throw new Error("Unimplemented: "+Pe.map(function(V){return V.command}).join(", ")+".");return _e.forEach(function(V){"setTransition"!==V.command&&ne[V.command].apply(ne,V.args)}),this.stylesheet=q,!0},$.prototype.addImage=function(q,ne){if(this.getImage(q))return this.fire(new f.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(q,ne),this._availableImages=this.imageManager.listImages(),this._changedImages[q]=!0,this._changed=!0,this.fire(new f.Event("data",{dataType:"style"}))},$.prototype.updateImage=function(q,ne){this.imageManager.updateImage(q,ne)},$.prototype.getImage=function(q){return this.imageManager.getImage(q)},$.prototype.removeImage=function(q){if(!this.getImage(q))return this.fire(new f.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(q),this._availableImages=this.imageManager.listImages(),this._changedImages[q]=!0,this._changed=!0,this.fire(new f.Event("data",{dataType:"style"}))},$.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},$.prototype.addSource=function(q,ne,_e){var Pe=this;if(void 0===_e&&(_e={}),this._checkLoaded(),void 0!==this.sourceCaches[q])throw new Error("There is already a source with this ID");if(!ne.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(ne).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(ne.type)>=0&&this._validate(f.validateStyle.source,"sources."+q,ne,null,_e))){this.map&&this.map._collectResourceTiming&&(ne.collectResourceTiming=!0);var V=this.sourceCaches[q]=new gt(q,ne,this.dispatcher);V.style=this,V.setEventedParent(this,function(){return{isSourceLoaded:Pe.loaded(),source:V.serialize(),sourceId:q}}),V.onAdd(this.map),this._changed=!0}},$.prototype.removeSource=function(q){if(this._checkLoaded(),void 0===this.sourceCaches[q])throw new Error("There is no source with this ID");for(var ne in this._layers)if(this._layers[ne].source===q)return this.fire(new f.ErrorEvent(new Error('Source "'+q+'" cannot be removed while layer "'+ne+'" is using it.')));var _e=this.sourceCaches[q];delete this.sourceCaches[q],delete this._updatedSources[q],_e.fire(new f.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:q})),_e.setEventedParent(null),_e.clearTiles(),_e.onRemove&&_e.onRemove(this.map),this._changed=!0},$.prototype.setGeoJSONSourceData=function(q,ne){this._checkLoaded(),this.sourceCaches[q].getSource().setData(ne),this._changed=!0},$.prototype.getSource=function(q){return this.sourceCaches[q]&&this.sourceCaches[q].getSource()},$.prototype.addLayer=function(q,ne,_e){void 0===_e&&(_e={}),this._checkLoaded();var Pe=q.id;if(this.getLayer(Pe))this.fire(new f.ErrorEvent(new Error('Layer with id "'+Pe+'" already exists on this map')));else{var V;if("custom"===q.type){if(rr(this,f.validateCustomStyleLayer(q)))return;V=f.createStyleLayer(q)}else{if("object"==typeof q.source&&(this.addSource(Pe,q.source),q=f.clone$1(q),q=f.extend(q,{source:Pe})),this._validate(f.validateStyle.layer,"layers."+Pe,q,{arrayIndex:-1},_e))return;V=f.createStyleLayer(q),this._validateLayer(V),V.setEventedParent(this,{layer:{id:Pe}}),this._serializedLayers[V.id]=V.serialize()}var ie=ne?this._order.indexOf(ne):this._order.length;if(ne&&-1===ie)this.fire(new f.ErrorEvent(new Error('Layer with id "'+ne+'" does not exist on this map.')));else{if(this._order.splice(ie,0,Pe),this._layerOrderChanged=!0,this._layers[Pe]=V,this._removedLayers[Pe]&&V.source&&"custom"!==V.type){var ce=this._removedLayers[Pe];delete this._removedLayers[Pe],ce.type!==V.type?this._updatedSources[V.source]="clear":(this._updatedSources[V.source]="reload",this.sourceCaches[V.source].pause())}this._updateLayer(V),V.onAdd&&V.onAdd(this.map)}}},$.prototype.moveLayer=function(q,ne){if(this._checkLoaded(),this._changed=!0,this._layers[q]){if(q!==ne){var _e=this._order.indexOf(q);this._order.splice(_e,1);var Pe=ne?this._order.indexOf(ne):this._order.length;ne&&-1===Pe?this.fire(new f.ErrorEvent(new Error('Layer with id "'+ne+'" does not exist on this map.'))):(this._order.splice(Pe,0,q),this._layerOrderChanged=!0)}}else this.fire(new f.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be moved.")))},$.prototype.removeLayer=function(q){this._checkLoaded();var ne=this._layers[q];if(ne){ne.setEventedParent(null);var _e=this._order.indexOf(q);this._order.splice(_e,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[q]=ne,delete this._layers[q],delete this._serializedLayers[q],delete this._updatedLayers[q],delete this._updatedPaintProps[q],ne.onRemove&&ne.onRemove(this.map)}else this.fire(new f.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be removed.")))},$.prototype.getLayer=function(q){return this._layers[q]},$.prototype.hasLayer=function(q){return q in this._layers},$.prototype.setLayerZoomRange=function(q,ne,_e){this._checkLoaded();var Pe=this.getLayer(q);Pe?Pe.minzoom===ne&&Pe.maxzoom===_e||(null!=ne&&(Pe.minzoom=ne),null!=_e&&(Pe.maxzoom=_e),this._updateLayer(Pe)):this.fire(new f.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot have zoom extent.")))},$.prototype.setFilter=function(q,ne,_e){void 0===_e&&(_e={}),this._checkLoaded();var Pe=this.getLayer(q);if(Pe){if(!f.deepEqual(Pe.filter,ne))return null==ne?(Pe.filter=void 0,void this._updateLayer(Pe)):void(this._validate(f.validateStyle.filter,"layers."+Pe.id+".filter",ne,null,_e)||(Pe.filter=f.clone$1(ne),this._updateLayer(Pe)))}else this.fire(new f.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be filtered.")))},$.prototype.getFilter=function(q){return f.clone$1(this.getLayer(q).filter)},$.prototype.setLayoutProperty=function(q,ne,_e,Pe){void 0===Pe&&(Pe={}),this._checkLoaded();var V=this.getLayer(q);V?f.deepEqual(V.getLayoutProperty(ne),_e)||(V.setLayoutProperty(ne,_e,Pe),this._updateLayer(V)):this.fire(new f.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be styled.")))},$.prototype.getLayoutProperty=function(q,ne){var _e=this.getLayer(q);if(_e)return _e.getLayoutProperty(ne);this.fire(new f.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style.")))},$.prototype.setPaintProperty=function(q,ne,_e,Pe){void 0===Pe&&(Pe={}),this._checkLoaded();var V=this.getLayer(q);V?f.deepEqual(V.getPaintProperty(ne),_e)||(V.setPaintProperty(ne,_e,Pe)&&this._updateLayer(V),this._changed=!0,this._updatedPaintProps[q]=!0):this.fire(new f.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be styled.")))},$.prototype.getPaintProperty=function(q,ne){return this.getLayer(q).getPaintProperty(ne)},$.prototype.setFeatureState=function(q,ne){this._checkLoaded();var _e=q.source,Pe=q.sourceLayer,V=this.sourceCaches[_e];if(void 0!==V){var ie=V.getSource().type;"geojson"===ie&&Pe?this.fire(new f.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==ie||Pe?(void 0===q.id&&this.fire(new f.ErrorEvent(new Error("The feature id parameter must be provided."))),V.setFeatureState(Pe,q.id,ne)):this.fire(new f.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new f.ErrorEvent(new Error("The source '"+_e+"' does not exist in the map's style.")))},$.prototype.removeFeatureState=function(q,ne){this._checkLoaded();var _e=q.source,Pe=this.sourceCaches[_e];if(void 0!==Pe){var V=Pe.getSource().type,ie="vector"===V?q.sourceLayer:void 0;"vector"!==V||ie?ne&&"string"!=typeof q.id&&"number"!=typeof q.id?this.fire(new f.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):Pe.removeFeatureState(ie,q.id,ne):this.fire(new f.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new f.ErrorEvent(new Error("The source '"+_e+"' does not exist in the map's style.")))},$.prototype.getFeatureState=function(q){this._checkLoaded();var ne=q.source,_e=q.sourceLayer,Pe=this.sourceCaches[ne];if(void 0!==Pe){if("vector"!==Pe.getSource().type||_e)return void 0===q.id&&this.fire(new f.ErrorEvent(new Error("The feature id parameter must be provided."))),Pe.getFeatureState(_e,q.id);this.fire(new f.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new f.ErrorEvent(new Error("The source '"+ne+"' does not exist in the map's style.")))},$.prototype.getTransition=function(){return f.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},$.prototype.serialize=function(){return f.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:f.mapObject(this.sourceCaches,function(q){return q.serialize()}),layers:this._serializeLayers(this._order)},function(q){return void 0!==q})},$.prototype._updateLayer=function(q){this._updatedLayers[q.id]=!0,q.source&&!this._updatedSources[q.source]&&"raster"!==this.sourceCaches[q.source].getSource().type&&(this._updatedSources[q.source]="reload",this.sourceCaches[q.source].pause()),this._changed=!0},$.prototype._flattenAndSortRenderedFeatures=function(q){for(var ne=this,_e=function(rn){return"fill-extrusion"===ne._layers[rn].type},Pe={},V=[],ie=this._order.length-1;ie>=0;ie--){var ce=this._order[ie];if(_e(ce)){Pe[ce]=ie;for(var Me=0,Ce=q;Me<Ce.length;Me+=1){var Ne=Ce[Me][ce];if(Ne)for(var $e=0,Xe=Ne;$e<Xe.length;$e+=1)V.push(Xe[$e])}}}V.sort(function(rn,En){return En.intersectionZ-rn.intersectionZ});for(var nt=[],lt=this._order.length-1;lt>=0;lt--){var xt=this._order[lt];if(_e(xt))for(var Mt=V.length-1;Mt>=0;Mt--){var Bt=V[Mt].feature;if(Pe[Bt.layer.id]<lt)break;nt.push(Bt),V.pop()}else for(var Vt=0,jt=q;Vt<jt.length;Vt+=1){var Xt=jt[Vt][xt];if(Xt)for(var Ut=0,gn=Xt;Ut<gn.length;Ut+=1)nt.push(gn[Ut].feature)}}return nt},$.prototype.queryRenderedFeatures=function(q,ne,_e){ne&&ne.filter&&this._validate(f.validateStyle.filter,"queryRenderedFeatures.filter",ne.filter,null,ne);var Pe={};if(ne&&ne.layers){if(!Array.isArray(ne.layers))return this.fire(new f.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var V=0,ie=ne.layers;V<ie.length;V+=1){var ce=ie[V],Me=this._layers[ce];if(!Me)return this.fire(new f.ErrorEvent(new Error("The layer '"+ce+"' does not exist in the map's style and cannot be queried for features."))),[];Pe[Me.source]=!0}}var Ce=[];for(var Ne in ne.availableImages=this._availableImages,this.sourceCaches)ne.layers&&!Pe[Ne]||Ce.push(re(this.sourceCaches[Ne],this._layers,this._serializedLayers,q,ne,_e));return this.placement&&Ce.push(function($e,Xe,Qe,nt,lt,xt,Mt){for(var Bt={},Vt=xt.queryRenderedSymbols(nt),jt=[],Xt=0,Ut=Object.keys(Vt).map(Number);Xt<Ut.length;Xt+=1)jt.push(Mt[Ut[Xt]]);jt.sort(Q);for(var sn=function(){var tr=En[rn],ur=tr.featureIndex.lookupSymbolFeatures(Vt[tr.bucketInstanceId],Xe,tr.bucketIndex,tr.sourceLayerIndex,lt.filter,lt.layers,lt.availableImages,$e);for(var yr in ur){var Cr=Bt[yr]=Bt[yr]||[],Ar=ur[yr];Ar.sort(function(ir,Tr){var zr=tr.featureSortOrder;if(zr){var Kr=zr.indexOf(ir.featureIndex);return zr.indexOf(Tr.featureIndex)-Kr}return Tr.featureIndex-ir.featureIndex});for(var Fr=0,$r=Ar;Fr<$r.length;Fr+=1)Cr.push($r[Fr])}},rn=0,En=jt;rn<En.length;rn+=1)sn();var On=function(tr){Bt[tr].forEach(function(ur){var yr=ur.feature,Ar=Qe[$e[tr].source].getFeatureState(yr.layer["source-layer"],yr.id);yr.source=yr.layer.source,yr.layer["source-layer"]&&(yr.sourceLayer=yr.layer["source-layer"]),yr.state=Ar})};for(var $n in Bt)On($n);return Bt}(this._layers,this._serializedLayers,this.sourceCaches,q,ne,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Ce)},$.prototype.querySourceFeatures=function(q,ne){ne&&ne.filter&&this._validate(f.validateStyle.filter,"querySourceFeatures.filter",ne.filter,null,ne);var _e=this.sourceCaches[q];return _e?function(Pe,V){for(var ie=Pe.getRenderableIds().map(function(Xe){return Pe.getTileByID(Xe)}),ce=[],Me={},Ce=0;Ce<ie.length;Ce++){var Ne=ie[Ce],$e=Ne.tileID.canonical.key;Me[$e]||(Me[$e]=!0,Ne.querySourceFeatures(ce,V))}return ce}(_e,ne):[]},$.prototype.addSourceType=function(q,ne,_e){return $.getSourceType(q)?_e(new Error('A source type called "'+q+'" already exists.')):($.setSourceType(q,ne),ne.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:q,url:ne.workerSourceURL},_e):_e(null,null))},$.prototype.getLight=function(){return this.light.getLight()},$.prototype.setLight=function(q,ne){void 0===ne&&(ne={}),this._checkLoaded();var _e=this.light.getLight(),Pe=!1;for(var V in q)if(!f.deepEqual(q[V],_e[V])){Pe=!0;break}if(Pe){var ie={now:f.browser.now(),transition:f.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(q,ne),this.light.updateTransitions(ie)}},$.prototype._validate=function(q,ne,_e,Pe,V){return void 0===V&&(V={}),(!V||!1!==V.validate)&&rr(this,q.call(f.validateStyle,f.extend({key:ne,style:this.serialize(),value:_e,styleSpec:f.styleSpec},Pe)))},$.prototype._remove=function(){for(var q in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),f.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[q].setEventedParent(null);for(var ne in this.sourceCaches)this.sourceCaches[ne].clearTiles(),this.sourceCaches[ne].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},$.prototype._clearSource=function(q){this.sourceCaches[q].clearTiles()},$.prototype._reloadSource=function(q){this.sourceCaches[q].resume(),this.sourceCaches[q].reload()},$.prototype._updateSources=function(q){for(var ne in this.sourceCaches)this.sourceCaches[ne].update(q)},$.prototype._generateCollisionBoxes=function(){for(var q in this.sourceCaches)this._reloadSource(q)},$.prototype._updatePlacement=function(q,ne,_e,Pe,V){void 0===V&&(V=!1);for(var ie=!1,ce=!1,Me={},Ce=0,Ne=this._order;Ce<Ne.length;Ce+=1){var Xe=this._layers[Ne[Ce]];if("symbol"===Xe.type){if(!Me[Xe.source]){var Qe=this.sourceCaches[Xe.source];Me[Xe.source]=Qe.getRenderableIds(!0).map(function(Vt){return Qe.getTileByID(Vt)}).sort(function(Vt,jt){return jt.tileID.overscaledZ-Vt.tileID.overscaledZ||(Vt.tileID.isLessThan(jt.tileID)?-1:1)})}var nt=this.crossTileSymbolIndex.addLayer(Xe,Me[Xe.source],q.center.lng);ie=ie||nt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((V=V||this._layerOrderChanged||0===_e)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(f.browser.now(),q.zoom))&&(this.pauseablePlacement=new fn(q,this._order,V,ne,_e,Pe,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Me),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(f.browser.now()),ce=!0),ie&&this.pauseablePlacement.placement.setStale()),ce||ie)for(var lt=0,xt=this._order;lt<xt.length;lt+=1){var Bt=this._layers[xt[lt]];"symbol"===Bt.type&&this.placement.updateLayerOpacities(Bt,Me[Bt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(f.browser.now())},$.prototype._releaseSymbolFadeTiles=function(){for(var q in this.sourceCaches)this.sourceCaches[q].releaseSymbolFadeTiles()},$.prototype.getImages=function(q,ne,_e){this.imageManager.getImages(ne.icons,_e),this._updateTilesForChangedImages();var Pe=this.sourceCaches[ne.source];Pe&&Pe.setDependencies(ne.tileID.key,ne.type,ne.icons)},$.prototype.getGlyphs=function(q,ne,_e){this.glyphManager.getGlyphs(ne.stacks,_e)},$.prototype.getResource=function(q,ne,_e){return f.makeRequest(ne,_e)},$}(f.Evented);lr.getSourceType=function(U){return se[U]},lr.setSourceType=function(U,$){se[U]=$},lr.registerForPluginStateChange=f.registerForPluginStateChange;var wr=f.createLayout([{name:"a_pos",type:"Int16",components:2}]),Pr=Fi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Lr=Fi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),ii=Fi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),pr=Fi("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Ur=Fi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),ui=Fi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Yi=Fi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Eo=Fi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Qr=Fi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),wo=Fi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),co=Fi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Zi=Fi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Vs=Fi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),vs=Fi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Xi=Fi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),uf=Fi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),Bu=Fi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),gc=Fi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),mu=Fi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Es=Fi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Qu=Fi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),vu=Fi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),yu=Fi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),hl=Fi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),qo=Fi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),Ll=Fi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function Fi(U,$){var q=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ne={};return{fragmentSource:U=U.replace(q,function(_e,Pe,V,ie,ce){return ne[ce]=!0,"define"===Pe?"\n#ifndef HAS_UNIFORM_u_"+ce+"\nvarying "+V+" "+ie+" "+ce+";\n#else\nuniform "+V+" "+ie+" u_"+ce+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+ce+"\n    "+V+" "+ie+" "+ce+" = u_"+ce+";\n#endif\n"}),vertexSource:$=$.replace(q,function(_e,Pe,V,ie,ce){var Me="float"===ie?"vec2":"vec4",Ce=ce.match(/color/)?"color":Me;return ne[ce]?"define"===Pe?"\n#ifndef HAS_UNIFORM_u_"+ce+"\nuniform lowp float u_"+ce+"_t;\nattribute "+V+" "+Me+" a_"+ce+";\nvarying "+V+" "+ie+" "+ce+";\n#else\nuniform "+V+" "+ie+" u_"+ce+";\n#endif\n":"vec4"===Ce?"\n#ifndef HAS_UNIFORM_u_"+ce+"\n    "+ce+" = a_"+ce+";\n#else\n    "+V+" "+ie+" "+ce+" = u_"+ce+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+ce+"\n    "+ce+" = unpack_mix_"+Ce+"(a_"+ce+", u_"+ce+"_t);\n#else\n    "+V+" "+ie+" "+ce+" = u_"+ce+";\n#endif\n":"define"===Pe?"\n#ifndef HAS_UNIFORM_u_"+ce+"\nuniform lowp float u_"+ce+"_t;\nattribute "+V+" "+Me+" a_"+ce+";\n#else\nuniform "+V+" "+ie+" u_"+ce+";\n#endif\n":"vec4"===Ce?"\n#ifndef HAS_UNIFORM_u_"+ce+"\n    "+V+" "+ie+" "+ce+" = a_"+ce+";\n#else\n    "+V+" "+ie+" "+ce+" = u_"+ce+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+ce+"\n    "+V+" "+ie+" "+ce+" = unpack_mix_"+Ce+"(a_"+ce+", u_"+ce+"_t);\n#else\n    "+V+" "+ie+" "+ce+" = u_"+ce+";\n#endif\n"})}}var pl=Object.freeze({__proto__:null,prelude:Pr,background:Lr,backgroundPattern:ii,circle:pr,clippingMask:Ur,heatmap:ui,heatmapTexture:Yi,collisionBox:Eo,collisionCircle:Qr,debug:wo,fill:co,fillOutline:Zi,fillOutlinePattern:Vs,fillPattern:vs,fillExtrusion:Xi,fillExtrusionPattern:uf,hillshadePrepare:Bu,hillshade:gc,line:mu,lineGradient:Es,linePattern:Qu,lineSDF:vu,raster:yu,symbolIcon:hl,symbolSDF:qo,symbolTextAndIcon:Ll}),Nr=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Nr.prototype.bind=function(U,$,q,ne,_e,Pe,V,ie){this.context=U;for(var ce=this.boundPaintVertexBuffers.length!==ne.length,Me=0;!ce&&Me<ne.length;Me++)this.boundPaintVertexBuffers[Me]!==ne[Me]&&(ce=!0);U.extVertexArrayObject&&this.vao&&this.boundProgram===$&&this.boundLayoutVertexBuffer===q&&!ce&&this.boundIndexBuffer===_e&&this.boundVertexOffset===Pe&&this.boundDynamicVertexBuffer===V&&this.boundDynamicVertexBuffer2===ie?(U.bindVertexArrayOES.set(this.vao),V&&V.bind(),_e&&_e.dynamicDraw&&_e.bind(),ie&&ie.bind()):this.freshBind($,q,ne,_e,Pe,V,ie)},Nr.prototype.freshBind=function(U,$,q,ne,_e,Pe,V){var ie,ce=U.numAttributes,Me=this.context,Ce=Me.gl;if(Me.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Me.extVertexArrayObject.createVertexArrayOES(),Me.bindVertexArrayOES.set(this.vao),ie=0,this.boundProgram=U,this.boundLayoutVertexBuffer=$,this.boundPaintVertexBuffers=q,this.boundIndexBuffer=ne,this.boundVertexOffset=_e,this.boundDynamicVertexBuffer=Pe,this.boundDynamicVertexBuffer2=V;else{ie=Me.currentNumAttributes||0;for(var Ne=ce;Ne<ie;Ne++)Ce.disableVertexAttribArray(Ne)}$.enableAttributes(Ce,U);for(var $e=0,Xe=q;$e<Xe.length;$e+=1)Xe[$e].enableAttributes(Ce,U);Pe&&Pe.enableAttributes(Ce,U),V&&V.enableAttributes(Ce,U),$.bind(),$.setVertexAttribPointers(Ce,U,_e);for(var Qe=0,nt=q;Qe<nt.length;Qe+=1){var lt=nt[Qe];lt.bind(),lt.setVertexAttribPointers(Ce,U,_e)}Pe&&(Pe.bind(),Pe.setVertexAttribPointers(Ce,U,_e)),ne&&ne.bind(),V&&(V.bind(),V.setVertexAttribPointers(Ce,U,_e)),Me.currentNumAttributes=ce},Nr.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var ml=function(U,$,q,ne,_e){var Pe=U.gl;this.program=Pe.createProgram();var V=q?q.defines():[];_e&&V.push("#define OVERDRAW_INSPECTOR;");var ie=V.concat(Pr.fragmentSource,$.fragmentSource).join("\n"),ce=V.concat(Pr.vertexSource,$.vertexSource).join("\n"),Me=Pe.createShader(Pe.FRAGMENT_SHADER);if(Pe.isContextLost())this.failedToCreate=!0;else{Pe.shaderSource(Me,ie),Pe.compileShader(Me),Pe.attachShader(this.program,Me);var Ce=Pe.createShader(Pe.VERTEX_SHADER);if(Pe.isContextLost())this.failedToCreate=!0;else{Pe.shaderSource(Ce,ce),Pe.compileShader(Ce),Pe.attachShader(this.program,Ce);for(var Ne=q?q.layoutAttributes:[],$e=0;$e<Ne.length;$e++)Pe.bindAttribLocation(this.program,$e,Ne[$e].name);Pe.linkProgram(this.program),Pe.deleteShader(Ce),Pe.deleteShader(Me),this.numAttributes=Pe.getProgramParameter(this.program,Pe.ACTIVE_ATTRIBUTES),this.attributes={};for(var Xe={},Qe=0;Qe<this.numAttributes;Qe++){var nt=Pe.getActiveAttrib(this.program,Qe);nt&&(this.attributes[nt.name]=Pe.getAttribLocation(this.program,nt.name))}for(var lt=Pe.getProgramParameter(this.program,Pe.ACTIVE_UNIFORMS),xt=0;xt<lt;xt++){var Mt=Pe.getActiveUniform(this.program,xt);Mt&&(Xe[Mt.name]=Pe.getUniformLocation(this.program,Mt.name))}this.fixedUniforms=ne(U,Xe),this.binderUniforms=q?q.getUniforms(U,Xe):[]}}};function mi(U,$,q){var ne=1/dr(q,1,$.transform.tileZoom),_e=Math.pow(2,q.tileID.overscaledZ),Pe=q.tileSize*Math.pow(2,$.transform.tileZoom)/_e,V=Pe*(q.tileID.canonical.x+q.tileID.wrap*_e),ie=Pe*q.tileID.canonical.y;return{u_image:0,u_texsize:q.imageAtlasTexture.size,u_scale:[ne,U.fromScale,U.toScale],u_fade:U.t,u_pixel_coord_upper:[V>>16,ie>>16],u_pixel_coord_lower:[65535&V,65535&ie]}}ml.prototype.draw=function(U,$,q,ne,_e,Pe,V,ie,ce,Me,Ce,Ne,$e,Xe,Qe,nt){var lt,xt=U.gl;if(!this.failedToCreate){for(var Mt in U.program.set(this.program),U.setDepthMode(q),U.setStencilMode(ne),U.setColorMode(_e),U.setCullFace(Pe),this.fixedUniforms)this.fixedUniforms[Mt].set(V[Mt]);Xe&&Xe.setUniforms(U,this.binderUniforms,Ne,{zoom:$e});for(var Bt=(lt={},lt[xt.LINES]=2,lt[xt.TRIANGLES]=3,lt[xt.LINE_STRIP]=1,lt)[$],Vt=0,jt=Ce.get();Vt<jt.length;Vt+=1){var Xt=jt[Vt],Ut=Xt.vaos||(Xt.vaos={});(Ut[ie]||(Ut[ie]=new Nr)).bind(U,this,ce,Xe?Xe.getPaintVertexBuffers():[],Me,Xt.vertexOffset,Qe,nt),xt.drawElements($,Xt.primitiveLength*Bt,xt.UNSIGNED_SHORT,Xt.primitiveOffset*Bt*2)}}};var Hs=function(U,$,q,ne){var _e=$.style.light,Pe=_e.properties.get("position"),V=[Pe.x,Pe.y,Pe.z],ie=f.create$1();"viewport"===_e.properties.get("anchor")&&f.fromRotation(ie,-$.transform.angle),f.transformMat3(V,V,ie);var ce=_e.properties.get("color");return{u_matrix:U,u_lightpos:V,u_lightintensity:_e.properties.get("intensity"),u_lightcolor:[ce.r,ce.g,ce.b],u_vertical_gradient:+q,u_opacity:ne}},Gs=function(U,$,q,ne,_e,Pe,V){return f.extend(Hs(U,$,q,ne),mi(Pe,$,V),{u_height_factor:-Math.pow(2,_e.overscaledZ)/V.tileSize/8})},ys=function(U){return{u_matrix:U}},mc=function(U,$,q,ne){return f.extend(ys(U),mi(q,$,ne))},cf=function(U,$){return{u_matrix:U,u_world:$}},Ql=function(U,$,q,ne,_e){return f.extend(mc(U,$,q,ne),{u_world:_e})},vl=function(U,$,q,ne){var _e,Pe,V=U.transform;if("map"===ne.paint.get("circle-pitch-alignment")){var ie=dr(q,1,V.zoom);_e=!0,Pe=[ie,ie]}else _e=!1,Pe=V.pixelsToGLUnits;return{u_camera_to_center_distance:V.cameraToCenterDistance,u_scale_with_map:+("map"===ne.paint.get("circle-pitch-scale")),u_matrix:U.translatePosMatrix($.posMatrix,q,ne.paint.get("circle-translate"),ne.paint.get("circle-translate-anchor")),u_pitch_with_map:+_e,u_device_pixel_ratio:f.browser.devicePixelRatio,u_extrude_scale:Pe}},Cs=function(U,$,q){var ne=dr(q,1,$.zoom),_e=Math.pow(2,$.zoom-q.tileID.overscaledZ),Pe=q.tileID.overscaleFactor();return{u_matrix:U,u_camera_to_center_distance:$.cameraToCenterDistance,u_pixels_to_tile_units:ne,u_extrude_scale:[$.pixelsToGLUnits[0]/(ne*_e),$.pixelsToGLUnits[1]/(ne*_e)],u_overscale_factor:Pe}},Ws=function(U,$,q){return{u_matrix:U,u_inv_matrix:$,u_camera_to_center_distance:q.cameraToCenterDistance,u_viewport_size:[q.width,q.height]}},qs=function(U,$,q){return void 0===q&&(q=1),{u_matrix:U,u_color:$,u_overlay:0,u_overlay_scale:q}},Ji=function(U){return{u_matrix:U}},Nl=function(U,$,q,ne){return{u_matrix:U,u_extrude_scale:dr($,1,q),u_intensity:ne}},Fl=function(U,$,q){var ne=q.paint.get("hillshade-shadow-color"),_e=q.paint.get("hillshade-highlight-color"),Pe=q.paint.get("hillshade-accent-color"),V=q.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===q.paint.get("hillshade-illumination-anchor")&&(V-=U.transform.angle);var ie,ce,Me,Ce=!U.options.moving;return{u_matrix:U.transform.calculatePosMatrix($.tileID.toUnwrapped(),Ce),u_image:0,u_latrange:(ie=$.tileID,ce=Math.pow(2,ie.canonical.z),Me=ie.canonical.y,[new f.MercatorCoordinate(0,Me/ce).toLngLat().lat,new f.MercatorCoordinate(0,(Me+1)/ce).toLngLat().lat]),u_light:[q.paint.get("hillshade-exaggeration"),V],u_shadow:ne,u_highlight:_e,u_accent:Pe}},_u=function(U,$,q){var ne=$.stride,_e=f.create();return f.ortho(_e,0,f.EXTENT,-f.EXTENT,0,0,1),f.translate(_e,_e,[0,-f.EXTENT,0]),{u_matrix:_e,u_image:1,u_dimension:[ne,ne],u_zoom:U.overscaledZ,u_maxzoom:q,u_unpack:$.getUnpackVector()}},Ds=function(U,$,q){var ne=U.transform;return{u_matrix:_l(U,$,q),u_ratio:1/dr($,1,ne.zoom),u_device_pixel_ratio:f.browser.devicePixelRatio,u_units_to_pixels:[1/ne.pixelsToGLUnits[0],1/ne.pixelsToGLUnits[1]]}},xu=function(U,$,q){return f.extend(Ds(U,$,q),{u_image:0})},Ic=function(U,$,q,ne){var _e=U.transform,Pe=bu($,_e);return{u_matrix:_l(U,$,q),u_texsize:$.imageAtlasTexture.size,u_ratio:1/dr($,1,_e.zoom),u_device_pixel_ratio:f.browser.devicePixelRatio,u_image:0,u_scale:[Pe,ne.fromScale,ne.toScale],u_fade:ne.t,u_units_to_pixels:[1/_e.pixelsToGLUnits[0],1/_e.pixelsToGLUnits[1]]}},ji=function(U,$,q,ne,_e){var V=U.lineAtlas,ie=bu($,U.transform),ce="round"===q.layout.get("line-cap"),Me=V.getDash(ne.from,ce),Ce=V.getDash(ne.to,ce),Ne=Me.width*_e.fromScale,$e=Ce.width*_e.toScale;return f.extend(Ds(U,$,q),{u_patternscale_a:[ie/Ne,-Me.height/2],u_patternscale_b:[ie/$e,-Ce.height/2],u_sdfgamma:V.width/(256*Math.min(Ne,$e)*f.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Me.y,u_tex_y_b:Ce.y,u_mix:_e.t})};function bu(U,$){return 1/dr(U,1,$.tileZoom)}function _l(U,$,q){return U.translatePosMatrix($.tileID.posMatrix,$,q.paint.get("line-translate"),q.paint.get("line-translate-anchor"))}var zl=function(U,$,q,ne,_e){return{u_matrix:U,u_tl_parent:$,u_scale_parent:q,u_buffer_scale:1,u_fade_t:ne.mix,u_opacity:ne.opacity*_e.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:_e.paint.get("raster-brightness-min"),u_brightness_high:_e.paint.get("raster-brightness-max"),u_saturation_factor:(V=_e.paint.get("raster-saturation"),V>0?1-1/(1.001-V):-V),u_contrast_factor:(Pe=_e.paint.get("raster-contrast"),Pe>0?1/(1-Pe):1+Pe),u_spin_weights:ro(_e.paint.get("raster-hue-rotate"))};var Pe,V};function ro(U){U*=Math.PI/180;var $=Math.sin(U),q=Math.cos(U);return[(2*q+1)/3,(-Math.sqrt(3)*$-q+1)/3,(Math.sqrt(3)*$-q+1)/3]}var eu,io=function(U,$,q,ne,_e,Pe,V,ie,ce,Me){var Ce=_e.transform;return{u_is_size_zoom_constant:+("constant"===U||"source"===U),u_is_size_feature_constant:+("constant"===U||"camera"===U),u_size_t:$?$.uSizeT:0,u_size:$?$.uSize:0,u_camera_to_center_distance:Ce.cameraToCenterDistance,u_pitch:Ce.pitch/360*2*Math.PI,u_rotate_symbol:+q,u_aspect_ratio:Ce.width/Ce.height,u_fade_change:_e.options.fadeDuration?_e.symbolFadeChange:1,u_matrix:Pe,u_label_plane_matrix:V,u_coord_matrix:ie,u_is_text:+ce,u_pitch_with_map:+ne,u_texsize:Me,u_texture:0}},Br=function(U,$,q,ne,_e,Pe,V,ie,ce,Me,Ce){var Ne=_e.transform;return f.extend(io(U,$,q,ne,_e,Pe,V,ie,ce,Me),{u_gamma_scale:ne?Math.cos(Ne._pitch)*Ne.cameraToCenterDistance:1,u_device_pixel_ratio:f.browser.devicePixelRatio,u_is_halo:+Ce})},ma=function(U,$,q,ne,_e,Pe,V,ie,ce,Me){return f.extend(Br(U,$,q,ne,_e,Pe,V,ie,!0,ce,!0),{u_texsize_icon:Me,u_texture_icon:1})},Oi=function(U,$,q){return{u_matrix:U,u_opacity:$,u_color:q}},$o=function(U,$,q,ne,_e,Pe){return f.extend((ie=Pe,Me=_e,Ce=(ce=q).imageManager.getPattern((V=ne).from.toString()),Ne=ce.imageManager.getPattern(V.to.toString()),Xe=($e=ce.imageManager.getPixelSize()).width,Qe=$e.height,nt=Math.pow(2,Me.tileID.overscaledZ),xt=(lt=Me.tileSize*Math.pow(2,ce.transform.tileZoom)/nt)*(Me.tileID.canonical.x+Me.tileID.wrap*nt),Mt=lt*Me.tileID.canonical.y,{u_image:0,u_pattern_tl_a:Ce.tl,u_pattern_br_a:Ce.br,u_pattern_tl_b:Ne.tl,u_pattern_br_b:Ne.br,u_texsize:[Xe,Qe],u_mix:ie.t,u_pattern_size_a:Ce.displaySize,u_pattern_size_b:Ne.displaySize,u_scale_a:ie.fromScale,u_scale_b:ie.toScale,u_tile_units_to_pixels:1/dr(Me,1,ce.transform.tileZoom),u_pixel_coord_upper:[xt>>16,Mt>>16],u_pixel_coord_lower:[65535&xt,65535&Mt]}),{u_matrix:U,u_opacity:$});var V,ie,ce,Me,Ce,Ne,$e,Xe,Qe,nt,lt,xt,Mt},as={fillExtrusion:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_lightpos:new f.Uniform3f(U,$.u_lightpos),u_lightintensity:new f.Uniform1f(U,$.u_lightintensity),u_lightcolor:new f.Uniform3f(U,$.u_lightcolor),u_vertical_gradient:new f.Uniform1f(U,$.u_vertical_gradient),u_opacity:new f.Uniform1f(U,$.u_opacity)}},fillExtrusionPattern:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_lightpos:new f.Uniform3f(U,$.u_lightpos),u_lightintensity:new f.Uniform1f(U,$.u_lightintensity),u_lightcolor:new f.Uniform3f(U,$.u_lightcolor),u_vertical_gradient:new f.Uniform1f(U,$.u_vertical_gradient),u_height_factor:new f.Uniform1f(U,$.u_height_factor),u_image:new f.Uniform1i(U,$.u_image),u_texsize:new f.Uniform2f(U,$.u_texsize),u_pixel_coord_upper:new f.Uniform2f(U,$.u_pixel_coord_upper),u_pixel_coord_lower:new f.Uniform2f(U,$.u_pixel_coord_lower),u_scale:new f.Uniform3f(U,$.u_scale),u_fade:new f.Uniform1f(U,$.u_fade),u_opacity:new f.Uniform1f(U,$.u_opacity)}},fill:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix)}},fillPattern:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_image:new f.Uniform1i(U,$.u_image),u_texsize:new f.Uniform2f(U,$.u_texsize),u_pixel_coord_upper:new f.Uniform2f(U,$.u_pixel_coord_upper),u_pixel_coord_lower:new f.Uniform2f(U,$.u_pixel_coord_lower),u_scale:new f.Uniform3f(U,$.u_scale),u_fade:new f.Uniform1f(U,$.u_fade)}},fillOutline:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_world:new f.Uniform2f(U,$.u_world)}},fillOutlinePattern:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_world:new f.Uniform2f(U,$.u_world),u_image:new f.Uniform1i(U,$.u_image),u_texsize:new f.Uniform2f(U,$.u_texsize),u_pixel_coord_upper:new f.Uniform2f(U,$.u_pixel_coord_upper),u_pixel_coord_lower:new f.Uniform2f(U,$.u_pixel_coord_lower),u_scale:new f.Uniform3f(U,$.u_scale),u_fade:new f.Uniform1f(U,$.u_fade)}},circle:function(U,$){return{u_camera_to_center_distance:new f.Uniform1f(U,$.u_camera_to_center_distance),u_scale_with_map:new f.Uniform1i(U,$.u_scale_with_map),u_pitch_with_map:new f.Uniform1i(U,$.u_pitch_with_map),u_extrude_scale:new f.Uniform2f(U,$.u_extrude_scale),u_device_pixel_ratio:new f.Uniform1f(U,$.u_device_pixel_ratio),u_matrix:new f.UniformMatrix4f(U,$.u_matrix)}},collisionBox:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_camera_to_center_distance:new f.Uniform1f(U,$.u_camera_to_center_distance),u_pixels_to_tile_units:new f.Uniform1f(U,$.u_pixels_to_tile_units),u_extrude_scale:new f.Uniform2f(U,$.u_extrude_scale),u_overscale_factor:new f.Uniform1f(U,$.u_overscale_factor)}},collisionCircle:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_inv_matrix:new f.UniformMatrix4f(U,$.u_inv_matrix),u_camera_to_center_distance:new f.Uniform1f(U,$.u_camera_to_center_distance),u_viewport_size:new f.Uniform2f(U,$.u_viewport_size)}},debug:function(U,$){return{u_color:new f.UniformColor(U,$.u_color),u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_overlay:new f.Uniform1i(U,$.u_overlay),u_overlay_scale:new f.Uniform1f(U,$.u_overlay_scale)}},clippingMask:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix)}},heatmap:function(U,$){return{u_extrude_scale:new f.Uniform1f(U,$.u_extrude_scale),u_intensity:new f.Uniform1f(U,$.u_intensity),u_matrix:new f.UniformMatrix4f(U,$.u_matrix)}},heatmapTexture:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_world:new f.Uniform2f(U,$.u_world),u_image:new f.Uniform1i(U,$.u_image),u_color_ramp:new f.Uniform1i(U,$.u_color_ramp),u_opacity:new f.Uniform1f(U,$.u_opacity)}},hillshade:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_image:new f.Uniform1i(U,$.u_image),u_latrange:new f.Uniform2f(U,$.u_latrange),u_light:new f.Uniform2f(U,$.u_light),u_shadow:new f.UniformColor(U,$.u_shadow),u_highlight:new f.UniformColor(U,$.u_highlight),u_accent:new f.UniformColor(U,$.u_accent)}},hillshadePrepare:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_image:new f.Uniform1i(U,$.u_image),u_dimension:new f.Uniform2f(U,$.u_dimension),u_zoom:new f.Uniform1f(U,$.u_zoom),u_maxzoom:new f.Uniform1f(U,$.u_maxzoom),u_unpack:new f.Uniform4f(U,$.u_unpack)}},line:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_ratio:new f.Uniform1f(U,$.u_ratio),u_device_pixel_ratio:new f.Uniform1f(U,$.u_device_pixel_ratio),u_units_to_pixels:new f.Uniform2f(U,$.u_units_to_pixels)}},lineGradient:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_ratio:new f.Uniform1f(U,$.u_ratio),u_device_pixel_ratio:new f.Uniform1f(U,$.u_device_pixel_ratio),u_units_to_pixels:new f.Uniform2f(U,$.u_units_to_pixels),u_image:new f.Uniform1i(U,$.u_image)}},linePattern:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_texsize:new f.Uniform2f(U,$.u_texsize),u_ratio:new f.Uniform1f(U,$.u_ratio),u_device_pixel_ratio:new f.Uniform1f(U,$.u_device_pixel_ratio),u_image:new f.Uniform1i(U,$.u_image),u_units_to_pixels:new f.Uniform2f(U,$.u_units_to_pixels),u_scale:new f.Uniform3f(U,$.u_scale),u_fade:new f.Uniform1f(U,$.u_fade)}},lineSDF:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_ratio:new f.Uniform1f(U,$.u_ratio),u_device_pixel_ratio:new f.Uniform1f(U,$.u_device_pixel_ratio),u_units_to_pixels:new f.Uniform2f(U,$.u_units_to_pixels),u_patternscale_a:new f.Uniform2f(U,$.u_patternscale_a),u_patternscale_b:new f.Uniform2f(U,$.u_patternscale_b),u_sdfgamma:new f.Uniform1f(U,$.u_sdfgamma),u_image:new f.Uniform1i(U,$.u_image),u_tex_y_a:new f.Uniform1f(U,$.u_tex_y_a),u_tex_y_b:new f.Uniform1f(U,$.u_tex_y_b),u_mix:new f.Uniform1f(U,$.u_mix)}},raster:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_tl_parent:new f.Uniform2f(U,$.u_tl_parent),u_scale_parent:new f.Uniform1f(U,$.u_scale_parent),u_buffer_scale:new f.Uniform1f(U,$.u_buffer_scale),u_fade_t:new f.Uniform1f(U,$.u_fade_t),u_opacity:new f.Uniform1f(U,$.u_opacity),u_image0:new f.Uniform1i(U,$.u_image0),u_image1:new f.Uniform1i(U,$.u_image1),u_brightness_low:new f.Uniform1f(U,$.u_brightness_low),u_brightness_high:new f.Uniform1f(U,$.u_brightness_high),u_saturation_factor:new f.Uniform1f(U,$.u_saturation_factor),u_contrast_factor:new f.Uniform1f(U,$.u_contrast_factor),u_spin_weights:new f.Uniform3f(U,$.u_spin_weights)}},symbolIcon:function(U,$){return{u_is_size_zoom_constant:new f.Uniform1i(U,$.u_is_size_zoom_constant),u_is_size_feature_constant:new f.Uniform1i(U,$.u_is_size_feature_constant),u_size_t:new f.Uniform1f(U,$.u_size_t),u_size:new f.Uniform1f(U,$.u_size),u_camera_to_center_distance:new f.Uniform1f(U,$.u_camera_to_center_distance),u_pitch:new f.Uniform1f(U,$.u_pitch),u_rotate_symbol:new f.Uniform1i(U,$.u_rotate_symbol),u_aspect_ratio:new f.Uniform1f(U,$.u_aspect_ratio),u_fade_change:new f.Uniform1f(U,$.u_fade_change),u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_label_plane_matrix:new f.UniformMatrix4f(U,$.u_label_plane_matrix),u_coord_matrix:new f.UniformMatrix4f(U,$.u_coord_matrix),u_is_text:new f.Uniform1i(U,$.u_is_text),u_pitch_with_map:new f.Uniform1i(U,$.u_pitch_with_map),u_texsize:new f.Uniform2f(U,$.u_texsize),u_texture:new f.Uniform1i(U,$.u_texture)}},symbolSDF:function(U,$){return{u_is_size_zoom_constant:new f.Uniform1i(U,$.u_is_size_zoom_constant),u_is_size_feature_constant:new f.Uniform1i(U,$.u_is_size_feature_constant),u_size_t:new f.Uniform1f(U,$.u_size_t),u_size:new f.Uniform1f(U,$.u_size),u_camera_to_center_distance:new f.Uniform1f(U,$.u_camera_to_center_distance),u_pitch:new f.Uniform1f(U,$.u_pitch),u_rotate_symbol:new f.Uniform1i(U,$.u_rotate_symbol),u_aspect_ratio:new f.Uniform1f(U,$.u_aspect_ratio),u_fade_change:new f.Uniform1f(U,$.u_fade_change),u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_label_plane_matrix:new f.UniformMatrix4f(U,$.u_label_plane_matrix),u_coord_matrix:new f.UniformMatrix4f(U,$.u_coord_matrix),u_is_text:new f.Uniform1i(U,$.u_is_text),u_pitch_with_map:new f.Uniform1i(U,$.u_pitch_with_map),u_texsize:new f.Uniform2f(U,$.u_texsize),u_texture:new f.Uniform1i(U,$.u_texture),u_gamma_scale:new f.Uniform1f(U,$.u_gamma_scale),u_device_pixel_ratio:new f.Uniform1f(U,$.u_device_pixel_ratio),u_is_halo:new f.Uniform1i(U,$.u_is_halo)}},symbolTextAndIcon:function(U,$){return{u_is_size_zoom_constant:new f.Uniform1i(U,$.u_is_size_zoom_constant),u_is_size_feature_constant:new f.Uniform1i(U,$.u_is_size_feature_constant),u_size_t:new f.Uniform1f(U,$.u_size_t),u_size:new f.Uniform1f(U,$.u_size),u_camera_to_center_distance:new f.Uniform1f(U,$.u_camera_to_center_distance),u_pitch:new f.Uniform1f(U,$.u_pitch),u_rotate_symbol:new f.Uniform1i(U,$.u_rotate_symbol),u_aspect_ratio:new f.Uniform1f(U,$.u_aspect_ratio),u_fade_change:new f.Uniform1f(U,$.u_fade_change),u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_label_plane_matrix:new f.UniformMatrix4f(U,$.u_label_plane_matrix),u_coord_matrix:new f.UniformMatrix4f(U,$.u_coord_matrix),u_is_text:new f.Uniform1i(U,$.u_is_text),u_pitch_with_map:new f.Uniform1i(U,$.u_pitch_with_map),u_texsize:new f.Uniform2f(U,$.u_texsize),u_texsize_icon:new f.Uniform2f(U,$.u_texsize_icon),u_texture:new f.Uniform1i(U,$.u_texture),u_texture_icon:new f.Uniform1i(U,$.u_texture_icon),u_gamma_scale:new f.Uniform1f(U,$.u_gamma_scale),u_device_pixel_ratio:new f.Uniform1f(U,$.u_device_pixel_ratio),u_is_halo:new f.Uniform1i(U,$.u_is_halo)}},background:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_opacity:new f.Uniform1f(U,$.u_opacity),u_color:new f.UniformColor(U,$.u_color)}},backgroundPattern:function(U,$){return{u_matrix:new f.UniformMatrix4f(U,$.u_matrix),u_opacity:new f.Uniform1f(U,$.u_opacity),u_image:new f.Uniform1i(U,$.u_image),u_pattern_tl_a:new f.Uniform2f(U,$.u_pattern_tl_a),u_pattern_br_a:new f.Uniform2f(U,$.u_pattern_br_a),u_pattern_tl_b:new f.Uniform2f(U,$.u_pattern_tl_b),u_pattern_br_b:new f.Uniform2f(U,$.u_pattern_br_b),u_texsize:new f.Uniform2f(U,$.u_texsize),u_mix:new f.Uniform1f(U,$.u_mix),u_pattern_size_a:new f.Uniform2f(U,$.u_pattern_size_a),u_pattern_size_b:new f.Uniform2f(U,$.u_pattern_size_b),u_scale_a:new f.Uniform1f(U,$.u_scale_a),u_scale_b:new f.Uniform1f(U,$.u_scale_b),u_pixel_coord_upper:new f.Uniform2f(U,$.u_pixel_coord_upper),u_pixel_coord_lower:new f.Uniform2f(U,$.u_pixel_coord_lower),u_tile_units_to_pixels:new f.Uniform1f(U,$.u_tile_units_to_pixels)}}};function Bl(U,$,q,ne,_e,Pe,V){for(var ie=U.context,ce=ie.gl,Me=U.useProgram("collisionBox"),Ce=[],Ne=0,$e=0,Xe=0;Xe<ne.length;Xe++){var Qe=ne[Xe],nt=$.getTile(Qe),lt=nt.getBucket(q);if(lt){var xt=Qe.posMatrix;0===_e[0]&&0===_e[1]||(xt=U.translatePosMatrix(Qe.posMatrix,nt,_e,Pe));var Mt=V?lt.textCollisionBox:lt.iconCollisionBox,Bt=lt.collisionCircleArray;if(Bt.length>0){var Vt=f.create(),jt=xt;f.mul(Vt,lt.placementInvProjMatrix,U.transform.glCoordMatrix),f.mul(Vt,Vt,lt.placementViewportMatrix),Ce.push({circleArray:Bt,circleOffset:$e,transform:jt,invTransform:Vt}),$e=Ne+=Bt.length/4}Mt&&Me.draw(ie,ce.LINES,Ht.disabled,tt.disabled,U.colorModeForRenderPass(),Ke.disabled,Cs(xt,U.transform,nt),q.id,Mt.layoutVertexBuffer,Mt.indexBuffer,Mt.segments,null,U.transform.zoom,null,null,Mt.collisionVertexBuffer)}}if(V&&Ce.length){var Xt=U.useProgram("collisionCircle"),Ut=new f.StructArrayLayout2f1f2i16;Ut.resize(4*Ne),Ut._trim();for(var gn=0,sn=0,rn=Ce;sn<rn.length;sn+=1)for(var En=rn[sn],On=0;On<En.circleArray.length/4;On++){var $n=4*On,tr=En.circleArray[$n+0],ur=En.circleArray[$n+1],yr=En.circleArray[$n+2],Cr=En.circleArray[$n+3];Ut.emplace(gn++,tr,ur,yr,Cr,0),Ut.emplace(gn++,tr,ur,yr,Cr,1),Ut.emplace(gn++,tr,ur,yr,Cr,2),Ut.emplace(gn++,tr,ur,yr,Cr,3)}(!eu||eu.length<2*Ne)&&(eu=function(zr){var Kr=2*zr,ai=new f.StructArrayLayout3ui6;ai.resize(Kr),ai._trim();for(var vi=0;vi<Kr;vi++){var Bi=6*vi;ai.uint16[Bi+0]=4*vi+0,ai.uint16[Bi+1]=4*vi+1,ai.uint16[Bi+2]=4*vi+2,ai.uint16[Bi+3]=4*vi+2,ai.uint16[Bi+4]=4*vi+3,ai.uint16[Bi+5]=4*vi+0}return ai}(Ne));for(var Ar=ie.createIndexBuffer(eu,!0),Fr=ie.createVertexBuffer(Ut,f.collisionCircleLayout.members,!0),$r=0,hi=Ce;$r<hi.length;$r+=1){var ir=hi[$r],Tr=Ws(ir.transform,ir.invTransform,U.transform);Xt.draw(ie,ce.TRIANGLES,Ht.disabled,tt.disabled,U.colorModeForRenderPass(),Ke.disabled,Tr,q.id,Fr,Ar,f.SegmentVector.simpleSegment(0,2*ir.circleOffset,ir.circleArray.length,ir.circleArray.length/2),null,U.transform.zoom,null,null,null)}Fr.destroy(),Ar.destroy()}}var ss=f.identity(new Float32Array(16));function Pc(U,$,q,ne,_e,Pe){var V=f.getAnchorAlignment(U),ie=-(V.horizontalAlign-.5)*$,ce=-(V.verticalAlign-.5)*q,Me=f.evaluateVariableOffset(U,ne);return new f.Point((ie/_e+Me[0])*Pe,(ce/_e+Me[1])*Pe)}function ju(U,$,q,ne,_e,Pe,V,ie,ce,Me,Ce){var Ne=U.text.placedSymbolArray,$e=U.text.dynamicLayoutVertexArray,Xe=U.icon.dynamicLayoutVertexArray,Qe={};$e.clear();for(var nt=0;nt<Ne.length;nt++){var lt=Ne.get(nt),Mt=lt.hidden||!lt.crossTileID||U.allowVerticalPlacement&&!lt.placedOrientation?null:ne[lt.crossTileID];if(Mt){var Bt=new f.Point(lt.anchorX,lt.anchorY),Vt=on(Bt,q?ie:V),jt=yn(Pe.cameraToCenterDistance,Vt.signedDistanceFromCamera),Xt=_e.evaluateSizeForFeature(U.textSizeData,Me,lt)*jt/f.ONE_EM;q&&(Xt*=U.tilePixelRatio/ce);for(var sn=Pc(Mt.anchor,Mt.width,Mt.height,Mt.textOffset,Mt.textBoxScale,Xt),rn=q?on(Bt.add(sn),V).point:Vt.point.add($?sn.rotate(-Pe.angle):sn),En=U.allowVerticalPlacement&&lt.placedOrientation===f.WritingMode.vertical?Math.PI/2:0,On=0;On<lt.numGlyphs;On++)f.addDynamicAttributes($e,rn,En);Ce&&lt.associatedIconIndex>=0&&(Qe[lt.associatedIconIndex]={shiftedAnchor:rn,angle:En})}else fr(lt.numGlyphs,$e)}if(Ce){Xe.clear();for(var $n=U.icon.placedSymbolArray,tr=0;tr<$n.length;tr++){var ur=$n.get(tr);if(ur.hidden)fr(ur.numGlyphs,Xe);else{var yr=Qe[tr];if(yr)for(var Cr=0;Cr<ur.numGlyphs;Cr++)f.addDynamicAttributes(Xe,yr.shiftedAnchor,yr.angle);else fr(ur.numGlyphs,Xe)}}U.icon.dynamicLayoutVertexBuffer.updateData(Xe)}U.text.dynamicLayoutVertexBuffer.updateData($e)}function jl(U,$,q){return q.iconsInText&&$?"symbolTextAndIcon":U?"symbolSDF":"symbolIcon"}function _s(U,$,q,ne,_e,Pe,V,ie,ce,Me,Ce,Ne){for(var $e=U.context,Xe=$e.gl,Qe=U.transform,nt="map"===ie,lt="map"===ce,xt=nt&&"point"!==q.layout.get("symbol-placement"),Mt=nt&&!lt&&!xt,Bt=void 0!==q.layout.get("symbol-sort-key").constantOr(1),Vt=U.depthModeForSublayer(0,Ht.ReadOnly),jt=q.layout.get("text-variable-anchor"),Xt=[],Ut=0,gn=ne;Ut<gn.length;Ut+=1){var sn=gn[Ut],rn=$.getTile(sn),En=rn.getBucket(q);if(En){var On=_e?En.text:En.icon;if(On&&On.segments.get().length){var $n=On.programConfigurations.get(q.id),tr=_e||En.sdfIcons,ur=_e?En.textSizeData:En.iconSizeData,yr=lt||0!==Qe.pitch,Cr=U.useProgram(jl(tr,_e,En),$n),Ar=f.evaluateSizeForZoom(ur,Qe.zoom),Fr=void 0,$r=[0,0],hi=void 0,ir=void 0,Tr=null,zr=void 0;if(_e)hi=rn.glyphAtlasTexture,ir=Xe.LINEAR,Fr=rn.glyphAtlasTexture.size,En.iconsInText&&($r=rn.imageAtlasTexture.size,Tr=rn.imageAtlasTexture,zr=yr||U.options.rotating||U.options.zooming||"composite"===ur.kind||"camera"===ur.kind?Xe.LINEAR:Xe.NEAREST);else{var ai=1!==q.layout.get("icon-size").constantOr(0)||En.iconsNeedLinear;hi=rn.imageAtlasTexture,ir=tr||U.options.rotating||U.options.zooming||ai||yr?Xe.LINEAR:Xe.NEAREST,Fr=rn.imageAtlasTexture.size}var vi=dr(rn,1,U.transform.zoom),Bi=Hn(sn.posMatrix,lt,nt,U.transform,vi),ao=An(sn.posMatrix,lt,nt,U.transform,vi),_o=jt&&En.hasTextData(),Po="none"!==q.layout.get("icon-text-fit")&&_o&&En.hasIconData();xt&&wn(En,sn.posMatrix,U,_e,Bi,ao,lt,Me);var to=U.translatePosMatrix(sn.posMatrix,rn,Pe,V),Ho=xt||_e&&jt||Po?ss:Bi,Ta=U.translatePosMatrix(ao,rn,Pe,V,!0),la=tr&&0!==q.paint.get(_e?"text-halo-width":"icon-halo-width").constantOr(1),Xo={program:Cr,buffers:On,uniformValues:tr?En.iconsInText?ma(ur.kind,Ar,Mt,lt,U,to,Ho,Ta,Fr,$r):Br(ur.kind,Ar,Mt,lt,U,to,Ho,Ta,_e,Fr,!0):io(ur.kind,Ar,Mt,lt,U,to,Ho,Ta,_e,Fr),atlasTexture:hi,atlasTextureIcon:Tr,atlasInterpolation:ir,atlasInterpolationIcon:zr,isSDF:tr,hasHalo:la};if(Bt)for(var Hi=0,Pi=On.segments.get();Hi<Pi.length;Hi+=1){var so=Pi[Hi];Xt.push({segments:new f.SegmentVector([so]),sortKey:so.sortKey,state:Xo})}else Xt.push({segments:On.segments,sortKey:0,state:Xo})}}}Bt&&Xt.sort(function(Hl,Na){return Hl.sortKey-Na.sortKey});for(var mo=0,Do=Xt;mo<Do.length;mo+=1){var Ma=Do[mo],jo=Ma.state;if($e.activeTexture.set(Xe.TEXTURE0),jo.atlasTexture.bind(jo.atlasInterpolation,Xe.CLAMP_TO_EDGE),jo.atlasTextureIcon&&($e.activeTexture.set(Xe.TEXTURE1),jo.atlasTextureIcon&&jo.atlasTextureIcon.bind(jo.atlasInterpolationIcon,Xe.CLAMP_TO_EDGE)),jo.isSDF){var Gi=jo.uniformValues;jo.hasHalo&&(Gi.u_is_halo=1,ti(jo.buffers,Ma.segments,q,U,jo.program,Vt,Ce,Ne,Gi)),Gi.u_is_halo=0}ti(jo.buffers,Ma.segments,q,U,jo.program,Vt,Ce,Ne,jo.uniformValues)}}function ti(U,$,q,ne,_e,Pe,V,ie,ce){var Me=ne.context;_e.draw(Me,Me.gl.TRIANGLES,Pe,V,ie,Ke.disabled,ce,q.id,U.layoutVertexBuffer,U.indexBuffer,$,q.paint,ne.transform.zoom,U.programConfigurations.get(q.id),U.dynamicLayoutVertexBuffer,U.opacityVertexBuffer)}function wi(U,$,q,ne,_e,Pe,V){var ie,ce,Me,Ce,Ne,$e=U.context.gl,Xe=q.paint.get("fill-pattern"),Qe=Xe&&Xe.constantOr(1),nt=q.getCrossfadeParameters();V?(ce=Qe&&!q.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ie=$e.LINES):(ce=Qe?"fillPattern":"fill",ie=$e.TRIANGLES);for(var lt=0,xt=ne;lt<xt.length;lt+=1){var Mt=xt[lt],Bt=$.getTile(Mt);if(!Qe||Bt.patternsLoaded()){var Vt=Bt.getBucket(q);if(Vt){var jt=Vt.programConfigurations.get(q.id),Xt=U.useProgram(ce,jt);Qe&&(U.context.activeTexture.set($e.TEXTURE0),Bt.imageAtlasTexture.bind($e.LINEAR,$e.CLAMP_TO_EDGE),jt.updatePaintBuffers(nt));var Ut=Xe.constantOr(null);if(Ut&&Bt.imageAtlas){var gn=Bt.imageAtlas,sn=gn.patternPositions[Ut.to.toString()],rn=gn.patternPositions[Ut.from.toString()];sn&&rn&&jt.setConstantPatternPositions(sn,rn)}var En=U.translatePosMatrix(Mt.posMatrix,Bt,q.paint.get("fill-translate"),q.paint.get("fill-translate-anchor"));if(V){Ce=Vt.indexBuffer2,Ne=Vt.segments2;var On=[$e.drawingBufferWidth,$e.drawingBufferHeight];Me="fillOutlinePattern"===ce&&Qe?Ql(En,U,nt,Bt,On):cf(En,On)}else Ce=Vt.indexBuffer,Ne=Vt.segments,Me=Qe?mc(En,U,nt,Bt):ys(En);Xt.draw(U.context,ie,_e,U.stencilModeForClipping(Mt),Pe,Ke.disabled,Me,q.id,Vt.layoutVertexBuffer,Ce,Ne,q.paint,U.transform.zoom,jt)}}}}function yo(U,$,q,ne,_e,Pe,V){for(var ie=U.context,ce=ie.gl,Me=q.paint.get("fill-extrusion-pattern"),Ce=Me.constantOr(1),Ne=q.getCrossfadeParameters(),$e=q.paint.get("fill-extrusion-opacity"),Xe=0,Qe=ne;Xe<Qe.length;Xe+=1){var nt=Qe[Xe],lt=$.getTile(nt),xt=lt.getBucket(q);if(xt){var Mt=xt.programConfigurations.get(q.id),Bt=U.useProgram(Ce?"fillExtrusionPattern":"fillExtrusion",Mt);Ce&&(U.context.activeTexture.set(ce.TEXTURE0),lt.imageAtlasTexture.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),Mt.updatePaintBuffers(Ne));var Vt=Me.constantOr(null);if(Vt&&lt.imageAtlas){var jt=lt.imageAtlas,Xt=jt.patternPositions[Vt.to.toString()],Ut=jt.patternPositions[Vt.from.toString()];Xt&&Ut&&Mt.setConstantPatternPositions(Xt,Ut)}var gn=U.translatePosMatrix(nt.posMatrix,lt,q.paint.get("fill-extrusion-translate"),q.paint.get("fill-extrusion-translate-anchor")),sn=q.paint.get("fill-extrusion-vertical-gradient"),rn=Ce?Gs(gn,U,sn,$e,nt,Ne,lt):Hs(gn,U,sn,$e);Bt.draw(ie,ie.gl.TRIANGLES,_e,Pe,V,Ke.backCCW,rn,q.id,xt.layoutVertexBuffer,xt.indexBuffer,xt.segments,q.paint,U.transform.zoom,Mt)}}}function da(U,$,q,ne,_e,Pe){var V=U.context,ie=V.gl,ce=$.fbo;if(ce){var Me=U.useProgram("hillshade");V.activeTexture.set(ie.TEXTURE0),ie.bindTexture(ie.TEXTURE_2D,ce.colorAttachment.get());var Ce=Fl(U,$,q);Me.draw(V,ie.TRIANGLES,ne,_e,Pe,Ke.disabled,Ce,q.id,U.rasterBoundsBuffer,U.quadTriangleIndexBuffer,U.rasterBoundsSegments)}}function xl(U,$,q,ne,_e,Pe,V){var ie=U.context,ce=ie.gl,Me=$.dem;if(Me&&Me.data){var Ce=Me.dim,Ne=Me.stride,$e=Me.getPixels();if(ie.activeTexture.set(ce.TEXTURE1),ie.pixelStoreUnpackPremultiplyAlpha.set(!1),$.demTexture=$.demTexture||U.getTileTexture(Ne),$.demTexture){var Xe=$.demTexture;Xe.update($e,{premultiply:!1}),Xe.bind(ce.NEAREST,ce.CLAMP_TO_EDGE)}else $.demTexture=new f.Texture(ie,$e,ce.RGBA,{premultiply:!1}),$.demTexture.bind(ce.NEAREST,ce.CLAMP_TO_EDGE);ie.activeTexture.set(ce.TEXTURE0);var Qe=$.fbo;if(!Qe){var nt=new f.Texture(ie,{width:Ce,height:Ce,data:null},ce.RGBA);nt.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),(Qe=$.fbo=ie.createFramebuffer(Ce,Ce,!0)).colorAttachment.set(nt.texture)}ie.bindFramebuffer.set(Qe.framebuffer),ie.viewport.set([0,0,Ce,Ce]),U.useProgram("hillshadePrepare").draw(ie,ce.TRIANGLES,_e,Pe,V,Ke.disabled,_u($.tileID,Me,ne),q.id,U.rasterBoundsBuffer,U.quadTriangleIndexBuffer,U.rasterBoundsSegments),$.needsHillshadePrepare=!1}}function Io(U,$,q,ne,_e){var Pe=ne.paint.get("raster-fade-duration");if(Pe>0){var V=f.browser.now(),ie=(V-U.timeAdded)/Pe,ce=$?(V-$.timeAdded)/Pe:-1,Me=q.getSource(),Ce=_e.coveringZoomLevel({tileSize:Me.tileSize,roundZoom:Me.roundZoom}),Ne=!$||Math.abs($.tileID.overscaledZ-Ce)>Math.abs(U.tileID.overscaledZ-Ce),$e=Ne&&U.refreshedUponExpiration?1:f.clamp(Ne?ie:1-ce,0,1);return U.refreshedUponExpiration&&ie>=1&&(U.refreshedUponExpiration=!1),$?{opacity:1,mix:1-$e}:{opacity:$e,mix:0}}return{opacity:1,mix:0}}var wu=new f.Color(1,0,0,1),Zo=new f.Color(0,1,0,1),Tu=new f.Color(0,0,1,1),$s=new f.Color(1,0,1,1),Si=new f.Color(0,1,1,1);function Mu(U,$,q,ne){Os(U,0,$+q/2,U.transform.width,q,ne)}function Au(U,$,q,ne){Os(U,$-q/2,0,q,U.transform.height,ne)}function Os(U,$,q,ne,_e,Pe){var V=U.context,ie=V.gl;ie.enable(ie.SCISSOR_TEST),ie.scissor($*f.browser.devicePixelRatio,q*f.browser.devicePixelRatio,ne*f.browser.devicePixelRatio,_e*f.browser.devicePixelRatio),V.clear({color:Pe}),ie.disable(ie.SCISSOR_TEST)}function na(U,$,q){var ne=U.context,_e=ne.gl,Pe=q.posMatrix,V=U.useProgram("debug"),ie=Ht.disabled,ce=tt.disabled,Me=U.colorModeForRenderPass();ne.activeTexture.set(_e.TEXTURE0),U.emptyTexture.bind(_e.LINEAR,_e.CLAMP_TO_EDGE),V.draw(ne,_e.LINE_STRIP,ie,ce,Me,Ke.disabled,qs(Pe,f.Color.red),"$debug",U.debugBuffer,U.tileBorderIndexBuffer,U.debugSegments);var Ne=$.getTileByID(q.key).latestRawTileData,Xe=Math.floor((Ne&&Ne.byteLength||0)/1024),Qe=$.getTile(q).tileSize,nt=512/Math.min(Qe,512)*(q.overscaledZ/U.transform.zoom)*.5,lt=q.canonical.toString();q.overscaledZ!==q.canonical.z&&(lt+=" => "+q.overscaledZ),function(xt,Mt){xt.initDebugOverlayCanvas();var Bt=xt.debugOverlayCanvas,Vt=xt.context.gl,jt=xt.debugOverlayCanvas.getContext("2d");jt.clearRect(0,0,Bt.width,Bt.height),jt.shadowColor="white",jt.shadowBlur=2,jt.lineWidth=1.5,jt.strokeStyle="white",jt.textBaseline="top",jt.font="bold 36px Open Sans, sans-serif",jt.fillText(Mt,5,5),jt.strokeText(Mt,5,5),xt.debugOverlayTexture.update(Bt),xt.debugOverlayTexture.bind(Vt.LINEAR,Vt.CLAMP_TO_EDGE)}(U,lt+" "+Xe+"kb"),V.draw(ne,_e.TRIANGLES,ie,ce,rt.alphaBlended,Ke.disabled,qs(Pe,f.Color.transparent,nt),"$debug",U.debugBuffer,U.quadTriangleIndexBuffer,U.debugSegments)}var bl={symbol:function(U,$,q,ne,_e){if("translucent"===U.renderPass){var Pe=tt.disabled,V=U.colorModeForRenderPass();q.layout.get("text-variable-anchor")&&function(ie,ce,Me,Ce,Ne,$e,Xe){for(var Qe=ce.transform,nt="map"===Ne,lt="map"===$e,xt=0,Mt=ie;xt<Mt.length;xt+=1){var Bt=Mt[xt],Vt=Ce.getTile(Bt),jt=Vt.getBucket(Me);if(jt&&jt.text&&jt.text.segments.get().length){var Ut=f.evaluateSizeForZoom(jt.textSizeData,Qe.zoom),gn=dr(Vt,1,ce.transform.zoom),sn=Hn(Bt.posMatrix,lt,nt,ce.transform,gn),rn="none"!==Me.layout.get("icon-text-fit")&&jt.hasIconData();if(Ut){var En=Math.pow(2,Qe.zoom-Vt.tileID.overscaledZ);ju(jt,nt,lt,Xe,f.symbolSize,Qe,sn,Bt.posMatrix,En,Ut,rn)}}}}(ne,U,q,$,q.layout.get("text-rotation-alignment"),q.layout.get("text-pitch-alignment"),_e),0!==q.paint.get("icon-opacity").constantOr(1)&&_s(U,$,q,ne,!1,q.paint.get("icon-translate"),q.paint.get("icon-translate-anchor"),q.layout.get("icon-rotation-alignment"),q.layout.get("icon-pitch-alignment"),q.layout.get("icon-keep-upright"),Pe,V),0!==q.paint.get("text-opacity").constantOr(1)&&_s(U,$,q,ne,!0,q.paint.get("text-translate"),q.paint.get("text-translate-anchor"),q.layout.get("text-rotation-alignment"),q.layout.get("text-pitch-alignment"),q.layout.get("text-keep-upright"),Pe,V),$.map.showCollisionBoxes&&(Bl(U,$,q,ne,q.paint.get("text-translate"),q.paint.get("text-translate-anchor"),!0),Bl(U,$,q,ne,q.paint.get("icon-translate"),q.paint.get("icon-translate-anchor"),!1))}},circle:function(U,$,q,ne){if("translucent"===U.renderPass){var _e=q.paint.get("circle-opacity"),Pe=q.paint.get("circle-stroke-width"),V=q.paint.get("circle-stroke-opacity"),ie=void 0!==q.layout.get("circle-sort-key").constantOr(1);if(0!==_e.constantOr(1)||0!==Pe.constantOr(1)&&0!==V.constantOr(1)){for(var ce=U.context,Me=ce.gl,Ce=U.depthModeForSublayer(0,Ht.ReadOnly),Ne=tt.disabled,$e=U.colorModeForRenderPass(),Xe=[],Qe=0;Qe<ne.length;Qe++){var nt=ne[Qe],lt=$.getTile(nt),xt=lt.getBucket(q);if(xt){var Mt=xt.programConfigurations.get(q.id),Bt={programConfiguration:Mt,program:U.useProgram("circle",Mt),layoutVertexBuffer:xt.layoutVertexBuffer,indexBuffer:xt.indexBuffer,uniformValues:vl(U,nt,lt,q)};if(ie)for(var Vt=0,jt=xt.segments.get();Vt<jt.length;Vt+=1){var Xt=jt[Vt];Xe.push({segments:new f.SegmentVector([Xt]),sortKey:Xt.sortKey,state:Bt})}else Xe.push({segments:xt.segments,sortKey:0,state:Bt})}}ie&&Xe.sort(function(Cr,Ar){return Cr.sortKey-Ar.sortKey});for(var Ut=0,gn=Xe;Ut<gn.length;Ut+=1){var sn=gn[Ut],rn=sn.state;rn.program.draw(ce,Me.TRIANGLES,Ce,Ne,$e,Ke.disabled,rn.uniformValues,q.id,rn.layoutVertexBuffer,rn.indexBuffer,sn.segments,q.paint,U.transform.zoom,rn.programConfiguration)}}}},heatmap:function(U,$,q,ne){if(0!==q.paint.get("heatmap-opacity"))if("offscreen"===U.renderPass){var _e=U.context,Pe=_e.gl,V=tt.disabled,ie=new rt([Pe.ONE,Pe.ONE],f.Color.transparent,[!0,!0,!0,!0]);(function(nt,lt,xt){var Mt=nt.gl;nt.activeTexture.set(Mt.TEXTURE1),nt.viewport.set([0,0,lt.width/4,lt.height/4]);var jt,Xt,Ut,gn,sn,Bt=xt.heatmapFbo;if(Bt)Mt.bindTexture(Mt.TEXTURE_2D,Bt.colorAttachment.get()),nt.bindFramebuffer.set(Bt.framebuffer);else{var Vt=Mt.createTexture();Mt.bindTexture(Mt.TEXTURE_2D,Vt),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_WRAP_S,Mt.CLAMP_TO_EDGE),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_WRAP_T,Mt.CLAMP_TO_EDGE),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_MIN_FILTER,Mt.LINEAR),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_MAG_FILTER,Mt.LINEAR),Ut=Vt,gn=Bt=xt.heatmapFbo=nt.createFramebuffer(lt.width/4,lt.height/4,!1),(sn=(jt=nt).gl).texImage2D(sn.TEXTURE_2D,0,sn.RGBA,(Xt=lt).width/4,Xt.height/4,0,sn.RGBA,jt.extRenderToTextureHalfFloat?jt.extTextureHalfFloat.HALF_FLOAT_OES:sn.UNSIGNED_BYTE,null),gn.colorAttachment.set(Ut)}})(_e,U,q),_e.clear({color:f.Color.transparent});for(var ce=0;ce<ne.length;ce++){var Me=ne[ce];if(!$.hasRenderableParent(Me)){var Ce=$.getTile(Me),Ne=Ce.getBucket(q);if(Ne){var $e=Ne.programConfigurations.get(q.id);U.useProgram("heatmap",$e).draw(_e,Pe.TRIANGLES,Ht.disabled,V,ie,Ke.disabled,Nl(Me.posMatrix,Ce,U.transform.zoom,q.paint.get("heatmap-intensity")),q.id,Ne.layoutVertexBuffer,Ne.indexBuffer,Ne.segments,q.paint,U.transform.zoom,$e)}}}_e.viewport.set([0,0,U.width,U.height])}else"translucent"===U.renderPass&&(U.context.setColorMode(U.colorModeForRenderPass()),function(nt,lt){var xt=nt.context,Mt=xt.gl,Bt=lt.heatmapFbo;if(Bt){xt.activeTexture.set(Mt.TEXTURE0),Mt.bindTexture(Mt.TEXTURE_2D,Bt.colorAttachment.get()),xt.activeTexture.set(Mt.TEXTURE1);var Vt=lt.colorRampTexture;Vt||(Vt=lt.colorRampTexture=new f.Texture(xt,lt.colorRamp,Mt.RGBA)),Vt.bind(Mt.LINEAR,Mt.CLAMP_TO_EDGE),nt.useProgram("heatmapTexture").draw(xt,Mt.TRIANGLES,Ht.disabled,tt.disabled,nt.colorModeForRenderPass(),Ke.disabled,function(U,$,q,ne){var _e=f.create();f.ortho(_e,0,U.width,U.height,0,0,1);var Pe=U.context.gl;return{u_matrix:_e,u_world:[Pe.drawingBufferWidth,Pe.drawingBufferHeight],u_image:q,u_color_ramp:ne,u_opacity:$.paint.get("heatmap-opacity")}}(nt,lt,0,1),lt.id,nt.viewportBuffer,nt.quadTriangleIndexBuffer,nt.viewportSegments,lt.paint,nt.transform.zoom)}}(U,q))},line:function(U,$,q,ne){if("translucent"===U.renderPass){var _e=q.paint.get("line-opacity"),Pe=q.paint.get("line-width");if(0!==_e.constantOr(1)&&0!==Pe.constantOr(1)){var V=U.depthModeForSublayer(0,Ht.ReadOnly),ie=U.colorModeForRenderPass(),ce=q.paint.get("line-dasharray"),Me=q.paint.get("line-pattern"),Ce=Me.constantOr(1),Ne=q.paint.get("line-gradient"),$e=q.getCrossfadeParameters(),Xe=Ce?"linePattern":ce?"lineSDF":Ne?"lineGradient":"line",Qe=U.context,nt=Qe.gl,lt=!0;if(Ne){Qe.activeTexture.set(nt.TEXTURE0);var xt=q.gradientTexture;if(!q.gradient)return;xt||(xt=q.gradientTexture=new f.Texture(Qe,q.gradient,nt.RGBA)),xt.bind(nt.LINEAR,nt.CLAMP_TO_EDGE)}for(var Mt=0,Bt=ne;Mt<Bt.length;Mt+=1){var Vt=Bt[Mt],jt=$.getTile(Vt);if(!Ce||jt.patternsLoaded()){var Xt=jt.getBucket(q);if(Xt){var Ut=Xt.programConfigurations.get(q.id),gn=U.context.program.get(),sn=U.useProgram(Xe,Ut),rn=lt||sn.program!==gn,En=Me.constantOr(null);if(En&&jt.imageAtlas){var On=jt.imageAtlas,$n=On.patternPositions[En.to.toString()],tr=On.patternPositions[En.from.toString()];$n&&tr&&Ut.setConstantPatternPositions($n,tr)}var ur=Ce?Ic(U,jt,q,$e):ce?ji(U,jt,q,ce,$e):Ne?xu(U,jt,q):Ds(U,jt,q);Ce?(Qe.activeTexture.set(nt.TEXTURE0),jt.imageAtlasTexture.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),Ut.updatePaintBuffers($e)):ce&&(rn||U.lineAtlas.dirty)&&(Qe.activeTexture.set(nt.TEXTURE0),U.lineAtlas.bind(Qe)),sn.draw(Qe,nt.TRIANGLES,V,U.stencilModeForClipping(Vt),ie,Ke.disabled,ur,q.id,Xt.layoutVertexBuffer,Xt.indexBuffer,Xt.segments,q.paint,U.transform.zoom,Ut),lt=!1}}}}}},fill:function(U,$,q,ne){var _e=q.paint.get("fill-color"),Pe=q.paint.get("fill-opacity");if(0!==Pe.constantOr(1)){var V=U.colorModeForRenderPass(),ie=q.paint.get("fill-pattern"),ce=U.opaquePassEnabledForLayer()&&!ie.constantOr(1)&&1===_e.constantOr(f.Color.transparent).a&&1===Pe.constantOr(0)?"opaque":"translucent";if(U.renderPass===ce){var Me=U.depthModeForSublayer(1,"opaque"===U.renderPass?Ht.ReadWrite:Ht.ReadOnly);wi(U,$,q,ne,Me,V,!1)}if("translucent"===U.renderPass&&q.paint.get("fill-antialias")){var Ce=U.depthModeForSublayer(q.getPaintProperty("fill-outline-color")?2:0,Ht.ReadOnly);wi(U,$,q,ne,Ce,V,!0)}}},"fill-extrusion":function(U,$,q,ne){var _e=q.paint.get("fill-extrusion-opacity");if(0!==_e&&"translucent"===U.renderPass){var Pe=new Ht(U.context.gl.LEQUAL,Ht.ReadWrite,U.depthRangeFor3D);if(1!==_e||q.paint.get("fill-extrusion-pattern").constantOr(1))yo(U,$,q,ne,Pe,tt.disabled,rt.disabled),yo(U,$,q,ne,Pe,U.stencilModeFor3D(),U.colorModeForRenderPass());else{var V=U.colorModeForRenderPass();yo(U,$,q,ne,Pe,tt.disabled,V)}}},hillshade:function(U,$,q,ne){if("offscreen"===U.renderPass||"translucent"===U.renderPass){for(var _e=U.context,Pe=$.getSource().maxzoom,V=U.depthModeForSublayer(0,Ht.ReadOnly),ie=U.colorModeForRenderPass(),ce="translucent"===U.renderPass?U.stencilConfigForOverlap(ne):[{},ne],Me=ce[0],Ce=0,Ne=ce[1];Ce<Ne.length;Ce+=1){var $e=Ne[Ce],Xe=$.getTile($e);Xe.needsHillshadePrepare&&"offscreen"===U.renderPass?xl(U,Xe,q,Pe,V,tt.disabled,ie):"translucent"===U.renderPass&&da(U,Xe,q,V,Me[$e.overscaledZ],ie)}_e.viewport.set([0,0,U.width,U.height])}},raster:function(U,$,q,ne){if("translucent"===U.renderPass&&0!==q.paint.get("raster-opacity")&&ne.length)for(var _e=U.context,Pe=_e.gl,V=$.getSource(),ie=U.useProgram("raster"),ce=U.colorModeForRenderPass(),Me=V instanceof H?[{},ne]:U.stencilConfigForOverlap(ne),Ce=Me[0],Ne=Me[1],$e=Ne[Ne.length-1].overscaledZ,Xe=!U.options.moving,Qe=0,nt=Ne;Qe<nt.length;Qe+=1){var lt=nt[Qe],xt=U.depthModeForSublayer(lt.overscaledZ-$e,1===q.paint.get("raster-opacity")?Ht.ReadWrite:Ht.ReadOnly,Pe.LESS),Mt=$.getTile(lt),Bt=U.transform.calculatePosMatrix(lt.toUnwrapped(),Xe);Mt.registerFadeDuration(q.paint.get("raster-fade-duration"));var Vt=$.findLoadedParent(lt,0),jt=Io(Mt,Vt,$,q,U.transform),Xt=void 0,Ut=void 0,gn="nearest"===q.paint.get("raster-resampling")?Pe.NEAREST:Pe.LINEAR;_e.activeTexture.set(Pe.TEXTURE0),Mt.texture.bind(gn,Pe.CLAMP_TO_EDGE,Pe.LINEAR_MIPMAP_NEAREST),_e.activeTexture.set(Pe.TEXTURE1),Vt?(Vt.texture.bind(gn,Pe.CLAMP_TO_EDGE,Pe.LINEAR_MIPMAP_NEAREST),Xt=Math.pow(2,Vt.tileID.overscaledZ-Mt.tileID.overscaledZ),Ut=[Mt.tileID.canonical.x*Xt%1,Mt.tileID.canonical.y*Xt%1]):Mt.texture.bind(gn,Pe.CLAMP_TO_EDGE,Pe.LINEAR_MIPMAP_NEAREST);var sn=zl(Bt,Ut||[0,0],Xt||1,jt,q);V instanceof H?ie.draw(_e,Pe.TRIANGLES,xt,tt.disabled,ce,Ke.disabled,sn,q.id,V.boundsBuffer,U.quadTriangleIndexBuffer,V.boundsSegments):ie.draw(_e,Pe.TRIANGLES,xt,Ce[lt.overscaledZ],ce,Ke.disabled,sn,q.id,U.rasterBoundsBuffer,U.quadTriangleIndexBuffer,U.rasterBoundsSegments)}},background:function(U,$,q){var ne=q.paint.get("background-color"),_e=q.paint.get("background-opacity");if(0!==_e){var Pe=U.context,V=Pe.gl,ie=U.transform,ce=ie.tileSize,Me=q.paint.get("background-pattern");if(!U.isPatternMissing(Me)){var Ce=!Me&&1===ne.a&&1===_e&&U.opaquePassEnabledForLayer()?"opaque":"translucent";if(U.renderPass===Ce){var Ne=tt.disabled,$e=U.depthModeForSublayer(0,"opaque"===Ce?Ht.ReadWrite:Ht.ReadOnly),Xe=U.colorModeForRenderPass(),Qe=U.useProgram(Me?"backgroundPattern":"background"),nt=ie.coveringTiles({tileSize:ce});Me&&(Pe.activeTexture.set(V.TEXTURE0),U.imageManager.bind(U.context));for(var lt=q.getCrossfadeParameters(),xt=0,Mt=nt;xt<Mt.length;xt+=1){var Bt=Mt[xt],Vt=U.transform.calculatePosMatrix(Bt.toUnwrapped()),jt=Me?$o(Vt,_e,U,Me,{tileID:Bt,tileSize:ce},lt):Oi(Vt,_e,ne);Qe.draw(Pe,V.TRIANGLES,$e,Ne,Xe,Ke.disabled,jt,q.id,U.tileExtentBuffer,U.quadTriangleIndexBuffer,U.tileExtentSegments)}}}}},debug:function(U,$,q){for(var ne=0;ne<q.length;ne++)na(U,$,q[ne])},custom:function(U,$,q){var ne=U.context,_e=q.implementation;if("offscreen"===U.renderPass){var Pe=_e.prerender;Pe&&(U.setCustomLayerDefaults(),ne.setColorMode(U.colorModeForRenderPass()),Pe.call(_e,ne.gl,U.transform.customLayerMatrix()),ne.setDirty(),U.setBaseState())}else if("translucent"===U.renderPass){U.setCustomLayerDefaults(),ne.setColorMode(U.colorModeForRenderPass()),ne.setStencilMode(tt.disabled);var V="3d"===_e.renderingMode?new Ht(U.context.gl.LEQUAL,Ht.ReadWrite,U.depthRangeFor3D):U.depthModeForSublayer(0,Ht.ReadOnly);ne.setDepthMode(V),_e.render(ne.gl,U.transform.customLayerMatrix()),ne.setDirty(),U.setBaseState(),ne.bindFramebuffer.set(null)}}},Vi=function(U,$){this.context=new it(U),this.transform=$,this._tileTextures={},this.setup(),this.numSublayers=gt.maxUnderzooming+gt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new sr,this.gpuTimers={}};Vi.prototype.resize=function(U,$){if(this.width=U*f.browser.devicePixelRatio,this.height=$*f.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var q=0,ne=this.style._order;q<ne.length;q+=1)this.style._layers[ne[q]].resize()},Vi.prototype.setup=function(){var U=this.context,$=new f.StructArrayLayout2i4;$.emplaceBack(0,0),$.emplaceBack(f.EXTENT,0),$.emplaceBack(0,f.EXTENT),$.emplaceBack(f.EXTENT,f.EXTENT),this.tileExtentBuffer=U.createVertexBuffer($,wr.members),this.tileExtentSegments=f.SegmentVector.simpleSegment(0,0,4,2);var q=new f.StructArrayLayout2i4;q.emplaceBack(0,0),q.emplaceBack(f.EXTENT,0),q.emplaceBack(0,f.EXTENT),q.emplaceBack(f.EXTENT,f.EXTENT),this.debugBuffer=U.createVertexBuffer(q,wr.members),this.debugSegments=f.SegmentVector.simpleSegment(0,0,4,5);var ne=new f.StructArrayLayout4i8;ne.emplaceBack(0,0,0,0),ne.emplaceBack(f.EXTENT,0,f.EXTENT,0),ne.emplaceBack(0,f.EXTENT,0,f.EXTENT),ne.emplaceBack(f.EXTENT,f.EXTENT,f.EXTENT,f.EXTENT),this.rasterBoundsBuffer=U.createVertexBuffer(ne,W.members),this.rasterBoundsSegments=f.SegmentVector.simpleSegment(0,0,4,2);var _e=new f.StructArrayLayout2i4;_e.emplaceBack(0,0),_e.emplaceBack(1,0),_e.emplaceBack(0,1),_e.emplaceBack(1,1),this.viewportBuffer=U.createVertexBuffer(_e,wr.members),this.viewportSegments=f.SegmentVector.simpleSegment(0,0,4,2);var Pe=new f.StructArrayLayout1ui2;Pe.emplaceBack(0),Pe.emplaceBack(1),Pe.emplaceBack(3),Pe.emplaceBack(2),Pe.emplaceBack(0),this.tileBorderIndexBuffer=U.createIndexBuffer(Pe);var V=new f.StructArrayLayout3ui6;V.emplaceBack(0,1,2),V.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=U.createIndexBuffer(V),this.emptyTexture=new f.Texture(U,{width:1,height:1,data:new Uint8Array([0,0,0,0])},U.gl.RGBA);var ie=this.context.gl;this.stencilClearMode=new tt({func:ie.ALWAYS,mask:0},0,255,ie.ZERO,ie.ZERO,ie.ZERO)},Vi.prototype.clearStencil=function(){var U=this.context,$=U.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var q=f.create();f.ortho(q,0,this.width,this.height,0,0,1),f.scale(q,q,[$.drawingBufferWidth,$.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(U,$.TRIANGLES,Ht.disabled,this.stencilClearMode,rt.disabled,Ke.disabled,Ji(q),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Vi.prototype._renderTileClippingMasks=function(U,$){if(this.currentStencilSource!==U.source&&U.isTileClipped()&&$&&$.length){this.currentStencilSource=U.source;var q=this.context,ne=q.gl;this.nextStencilID+$.length>256&&this.clearStencil(),q.setColorMode(rt.disabled),q.setDepthMode(Ht.disabled);var _e=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Pe=0,V=$;Pe<V.length;Pe+=1){var ie=V[Pe],ce=this._tileClippingMaskIDs[ie.key]=this.nextStencilID++;_e.draw(q,ne.TRIANGLES,Ht.disabled,new tt({func:ne.ALWAYS,mask:0},ce,255,ne.KEEP,ne.KEEP,ne.REPLACE),rt.disabled,Ke.disabled,Ji(ie.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Vi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var U=this.nextStencilID++,$=this.context.gl;return new tt({func:$.NOTEQUAL,mask:255},U,255,$.KEEP,$.KEEP,$.REPLACE)},Vi.prototype.stencilModeForClipping=function(U){var $=this.context.gl;return new tt({func:$.EQUAL,mask:255},this._tileClippingMaskIDs[U.key],0,$.KEEP,$.KEEP,$.REPLACE)},Vi.prototype.stencilConfigForOverlap=function(U){var $,q=this.context.gl,ne=U.sort(function(ce,Me){return Me.overscaledZ-ce.overscaledZ}),_e=ne[ne.length-1].overscaledZ,Pe=ne[0].overscaledZ-_e+1;if(Pe>1){this.currentStencilSource=void 0,this.nextStencilID+Pe>256&&this.clearStencil();for(var V={},ie=0;ie<Pe;ie++)V[ie+_e]=new tt({func:q.GEQUAL,mask:255},ie+this.nextStencilID,255,q.KEEP,q.KEEP,q.REPLACE);return this.nextStencilID+=Pe,[V,ne]}return[($={},$[_e]=tt.disabled,$),ne]},Vi.prototype.colorModeForRenderPass=function(){var U=this.context.gl;if(this._showOverdrawInspector){var $=.125;return new rt([U.CONSTANT_COLOR,U.ONE],new f.Color($,$,$,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?rt.unblended:rt.alphaBlended},Vi.prototype.depthModeForSublayer=function(U,$,q){if(!this.opaquePassEnabledForLayer())return Ht.disabled;var ne=1-((1+this.currentLayer)*this.numSublayers+U)*this.depthEpsilon;return new Ht(q||this.context.gl.LEQUAL,$,[ne,ne])},Vi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Vi.prototype.render=function(U,$){var q=this;this.style=U,this.options=$,this.lineAtlas=U.lineAtlas,this.imageManager=U.imageManager,this.glyphManager=U.glyphManager,this.symbolFadeChange=U.placement.symbolFadeChange(f.browser.now()),this.imageManager.beginFrame();var ne=this.style._order,_e=this.style.sourceCaches;for(var Pe in _e){var V=_e[Pe];V.used&&V.prepare(this.context)}var ie,ce,Me={},Ce={},Ne={};for(var $e in _e){var Xe=_e[$e];Me[$e]=Xe.getVisibleCoordinates(),Ce[$e]=Me[$e].slice().reverse(),Ne[$e]=Xe.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Qe=0;Qe<ne.length;Qe++)if(this.style._layers[ne[Qe]].is3D()){this.opaquePassCutoff=Qe;break}this.renderPass="offscreen";for(var lt=0,xt=ne;lt<xt.length;lt+=1){var Bt=this.style._layers[xt[lt]];if(Bt.hasOffscreenPass()&&!Bt.isHidden(this.transform.zoom)){var Vt=Ce[Bt.source];("custom"===Bt.type||Vt.length)&&this.renderLayer(this,_e[Bt.source],Bt,Vt)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:$.showOverdrawInspector?f.Color.black:f.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=$.showOverdrawInspector,this.depthRangeFor3D=[0,1-(U._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ne.length-1;this.currentLayer>=0;this.currentLayer--){var jt=this.style._layers[ne[this.currentLayer]],Xt=_e[jt.source],Ut=Me[jt.source];this._renderTileClippingMasks(jt,Ut),this.renderLayer(this,Xt,jt,Ut)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ne.length;this.currentLayer++){var gn=this.style._layers[ne[this.currentLayer]],sn=_e[gn.source],rn=("symbol"===gn.type?Ne:Ce)[gn.source];this._renderTileClippingMasks(gn,Me[gn.source]),this.renderLayer(this,sn,gn,rn)}this.options.showTileBoundaries&&(f.values(this.style._layers).forEach(function(En){En.source&&!En.isHidden(q.transform.zoom)&&(En.source!==(ce&&ce.id)&&(ce=q.style.sourceCaches[En.source]),(!ie||ie.getSource().maxzoom<ce.getSource().maxzoom)&&(ie=ce))}),ie&&bl.debug(this,ie,ie.getVisibleCoordinates())),this.options.showPadding&&function Ul(U){var $=U.transform.padding;Mu(U,U.transform.height-($.top||0),3,wu),Mu(U,$.bottom||0,3,Zo),Au(U,$.left||0,3,Tu),Au(U,U.transform.width-($.right||0),3,$s);var ne,_e,Pe,V,q=U.transform.centerPoint;Os(ne=U,(_e=q.x)-1,(Pe=U.transform.height-q.y)-10,2,20,V=Si),Os(ne,_e-10,Pe-1,20,2,V)}(this),this.context.setDefault()},Vi.prototype.renderLayer=function(U,$,q,ne){q.isHidden(this.transform.zoom)||("background"===q.type||"custom"===q.type||ne.length)&&(this.id=q.id,this.gpuTimingStart(q),bl[q.type](U,$,q,ne,this.style.placement.variableOffsets),this.gpuTimingEnd())},Vi.prototype.gpuTimingStart=function(U){if(this.options.gpuTiming){var $=this.context.extTimerQuery,q=this.gpuTimers[U.id];q||(q=this.gpuTimers[U.id]={calls:0,cpuTime:0,query:$.createQueryEXT()}),q.calls++,$.beginQueryEXT($.TIME_ELAPSED_EXT,q.query)}},Vi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var U=this.context.extTimerQuery;U.endQueryEXT(U.TIME_ELAPSED_EXT)}},Vi.prototype.collectGpuTimers=function(){var U=this.gpuTimers;return this.gpuTimers={},U},Vi.prototype.queryGpuTimers=function(U){var $={};for(var q in U){var ne=U[q],_e=this.context.extTimerQuery,Pe=_e.getQueryObjectEXT(ne.query,_e.QUERY_RESULT_EXT)/1e6;_e.deleteQueryEXT(ne.query),$[q]=Pe}return $},Vi.prototype.translatePosMatrix=function(U,$,q,ne,_e){if(!q[0]&&!q[1])return U;var Pe=_e?"map"===ne?this.transform.angle:0:"viewport"===ne?-this.transform.angle:0;if(Pe){var V=Math.sin(Pe),ie=Math.cos(Pe);q=[q[0]*ie-q[1]*V,q[0]*V+q[1]*ie]}var ce=[_e?q[0]:dr($,q[0],this.transform.zoom),_e?q[1]:dr($,q[1],this.transform.zoom),0],Me=new Float32Array(16);return f.translate(Me,U,ce),Me},Vi.prototype.saveTileTexture=function(U){var $=this._tileTextures[U.size[0]];$?$.push(U):this._tileTextures[U.size[0]]=[U]},Vi.prototype.getTileTexture=function(U){var $=this._tileTextures[U];return $&&$.length>0?$.pop():null},Vi.prototype.isPatternMissing=function(U){if(!U)return!1;if(!U.from||!U.to)return!0;var $=this.imageManager.getPattern(U.from.toString()),q=this.imageManager.getPattern(U.to.toString());return!$||!q},Vi.prototype.useProgram=function(U,$){this.cache=this.cache||{};var q=""+U+($?$.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[q]||(this.cache[q]=new ml(this.context,pl[U],$,as[U],this._showOverdrawInspector)),this.cache[q]},Vi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Vi.prototype.setBaseState=function(){var U=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(U.FUNC_ADD)},Vi.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=f.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new f.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Vi.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Pa=function(U,$){this.points=U,this.planes=$};Pa.fromInvProjectionMatrix=function(U,$,q){var ne=Math.pow(2,q),_e=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(V){return f.transformMat4([],V,U)}).map(function(V){return f.scale$1([],V,1/V[3]/$*ne)}),Pe=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(V){var ie=f.sub([],_e[V[0]],_e[V[1]]),ce=f.sub([],_e[V[2]],_e[V[1]]),Me=f.normalize([],f.cross([],ie,ce)),Ce=-f.dot(Me,_e[V[1]]);return Me.concat(Ce)});return new Pa(_e,Pe)};var xs=function(U,$){this.min=U,this.max=$,this.center=f.scale$2([],f.add([],this.min,this.max),.5)};xs.prototype.quadrant=function(U){for(var $=[U%2==0,U<2],q=f.clone$2(this.min),ne=f.clone$2(this.max),_e=0;_e<$.length;_e++)q[_e]=$[_e]?this.min[_e]:this.center[_e],ne[_e]=$[_e]?this.center[_e]:this.max[_e];return ne[2]=this.max[2],new xs(q,ne)},xs.prototype.distanceX=function(U){return Math.max(Math.min(this.max[0],U[0]),this.min[0])-U[0]},xs.prototype.distanceY=function(U){return Math.max(Math.min(this.max[1],U[1]),this.min[1])-U[1]},xs.prototype.intersects=function(U){for(var $=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],q=!0,ne=0;ne<U.planes.length;ne++){for(var _e=U.planes[ne],Pe=0,V=0;V<$.length;V++)Pe+=f.dot$1(_e,$[V])>=0;if(0===Pe)return 0;Pe!==$.length&&(q=!1)}if(q)return 2;for(var ie=0;ie<3;ie++){for(var ce=Number.MAX_VALUE,Me=-Number.MAX_VALUE,Ce=0;Ce<U.points.length;Ce++){var Ne=U.points[Ce][ie]-this.min[ie];ce=Math.min(ce,Ne),Me=Math.max(Me,Ne)}if(Me<0||ce>this.max[ie]-this.min[ie])return 0}return 1};var ra=function(U,$,q,ne){if(void 0===U&&(U=0),void 0===$&&($=0),void 0===q&&(q=0),void 0===ne&&(ne=0),isNaN(U)||U<0||isNaN($)||$<0||isNaN(q)||q<0||isNaN(ne)||ne<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=U,this.bottom=$,this.left=q,this.right=ne};ra.prototype.interpolate=function(U,$,q){return null!=$.top&&null!=U.top&&(this.top=f.number(U.top,$.top,q)),null!=$.bottom&&null!=U.bottom&&(this.bottom=f.number(U.bottom,$.bottom,q)),null!=$.left&&null!=U.left&&(this.left=f.number(U.left,$.left,q)),null!=$.right&&null!=U.right&&(this.right=f.number(U.right,$.right,q)),this},ra.prototype.getCenter=function(U,$){var q=f.clamp((this.left+U-this.right)/2,0,U),ne=f.clamp((this.top+$-this.bottom)/2,0,$);return new f.Point(q,ne)},ra.prototype.equals=function(U){return this.top===U.top&&this.bottom===U.bottom&&this.left===U.left&&this.right===U.right},ra.prototype.clone=function(){return new ra(this.top,this.bottom,this.left,this.right)},ra.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var di=function(U,$,q,ne,_e){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===_e||_e,this._minZoom=U||0,this._maxZoom=$||22,this._minPitch=q??0,this._maxPitch=ne??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new f.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ra,this._posMatrixCache={},this._alignedPosMatrixCache={}},Qi={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};di.prototype.clone=function(){var U=new di(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return U.tileSize=this.tileSize,U.latRange=this.latRange,U.width=this.width,U.height=this.height,U._center=this._center,U.zoom=this.zoom,U.angle=this.angle,U._fov=this._fov,U._pitch=this._pitch,U._unmodified=this._unmodified,U._edgeInsets=this._edgeInsets.clone(),U._calcMatrices(),U},Qi.minZoom.get=function(){return this._minZoom},Qi.minZoom.set=function(U){this._minZoom!==U&&(this._minZoom=U,this.zoom=Math.max(this.zoom,U))},Qi.maxZoom.get=function(){return this._maxZoom},Qi.maxZoom.set=function(U){this._maxZoom!==U&&(this._maxZoom=U,this.zoom=Math.min(this.zoom,U))},Qi.minPitch.get=function(){return this._minPitch},Qi.minPitch.set=function(U){this._minPitch!==U&&(this._minPitch=U,this.pitch=Math.max(this.pitch,U))},Qi.maxPitch.get=function(){return this._maxPitch},Qi.maxPitch.set=function(U){this._maxPitch!==U&&(this._maxPitch=U,this.pitch=Math.min(this.pitch,U))},Qi.renderWorldCopies.get=function(){return this._renderWorldCopies},Qi.renderWorldCopies.set=function(U){void 0===U?U=!0:null===U&&(U=!1),this._renderWorldCopies=U},Qi.worldSize.get=function(){return this.tileSize*this.scale},Qi.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Qi.size.get=function(){return new f.Point(this.width,this.height)},Qi.bearing.get=function(){return-this.angle/Math.PI*180},Qi.bearing.set=function(U){var $=-f.wrap(U,-180,180)*Math.PI/180;this.angle!==$&&(this._unmodified=!1,this.angle=$,this._calcMatrices(),this.rotationMatrix=f.create$2(),f.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Qi.pitch.get=function(){return this._pitch/Math.PI*180},Qi.pitch.set=function(U){var $=f.clamp(U,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==$&&(this._unmodified=!1,this._pitch=$,this._calcMatrices())},Qi.fov.get=function(){return this._fov/Math.PI*180},Qi.fov.set=function(U){U=Math.max(.01,Math.min(60,U)),this._fov!==U&&(this._unmodified=!1,this._fov=U/180*Math.PI,this._calcMatrices())},Qi.zoom.get=function(){return this._zoom},Qi.zoom.set=function(U){var $=Math.min(Math.max(U,this.minZoom),this.maxZoom);this._zoom!==$&&(this._unmodified=!1,this._zoom=$,this.scale=this.zoomScale($),this.tileZoom=Math.floor($),this.zoomFraction=$-this.tileZoom,this._constrain(),this._calcMatrices())},Qi.center.get=function(){return this._center},Qi.center.set=function(U){U.lat===this._center.lat&&U.lng===this._center.lng||(this._unmodified=!1,this._center=U,this._constrain(),this._calcMatrices())},Qi.padding.get=function(){return this._edgeInsets.toJSON()},Qi.padding.set=function(U){this._edgeInsets.equals(U)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,U,1),this._calcMatrices())},Qi.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},di.prototype.isPaddingEqual=function(U){return this._edgeInsets.equals(U)},di.prototype.interpolatePadding=function(U,$,q){this._unmodified=!1,this._edgeInsets.interpolate(U,$,q),this._constrain(),this._calcMatrices()},di.prototype.coveringZoomLevel=function(U){var $=(U.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/U.tileSize));return Math.max(0,$)},di.prototype.getVisibleUnwrappedCoordinates=function(U){var $=[new f.UnwrappedTileID(0,U)];if(this._renderWorldCopies)for(var q=this.pointCoordinate(new f.Point(0,0)),ne=this.pointCoordinate(new f.Point(this.width,0)),_e=this.pointCoordinate(new f.Point(this.width,this.height)),Pe=this.pointCoordinate(new f.Point(0,this.height)),V=Math.floor(Math.min(q.x,ne.x,_e.x,Pe.x)),ie=Math.floor(Math.max(q.x,ne.x,_e.x,Pe.x)),ce=V-1;ce<=ie+1;ce++)0!==ce&&$.push(new f.UnwrappedTileID(ce,U));return $},di.prototype.coveringTiles=function(U){var $=this.coveringZoomLevel(U),q=$;if(void 0!==U.minzoom&&$<U.minzoom)return[];void 0!==U.maxzoom&&$>U.maxzoom&&($=U.maxzoom);var ne=f.MercatorCoordinate.fromLngLat(this.center),_e=Math.pow(2,$),Pe=[_e*ne.x,_e*ne.y,0],V=Pa.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,$),ie=U.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(ie=$);var ce=function(rn){return{aabb:new xs([rn*_e,0,0],[(rn+1)*_e,_e,0]),zoom:0,x:0,y:0,wrap:rn,fullyVisible:!1}},Me=[],Ce=[],Ne=$,$e=U.reparseOverscaled?q:$;if(this._renderWorldCopies)for(var Xe=1;Xe<=3;Xe++)Me.push(ce(-Xe)),Me.push(ce(Xe));for(Me.push(ce(0));Me.length>0;){var Qe=Me.pop(),nt=Qe.x,lt=Qe.y,xt=Qe.fullyVisible;if(!xt){var Mt=Qe.aabb.intersects(V);if(0===Mt)continue;xt=2===Mt}var Bt=Qe.aabb.distanceX(Pe),Vt=Qe.aabb.distanceY(Pe),jt=Math.max(Math.abs(Bt),Math.abs(Vt));if(Qe.zoom===Ne||jt>3+(1<<Ne-Qe.zoom)-2&&Qe.zoom>=ie)Ce.push({tileID:new f.OverscaledTileID(Qe.zoom===Ne?$e:Qe.zoom,Qe.wrap,Qe.zoom,nt,lt),distanceSq:f.sqrLen([Pe[0]-.5-nt,Pe[1]-.5-lt])});else for(var Ut=0;Ut<4;Ut++){var gn=(nt<<1)+Ut%2,sn=(lt<<1)+(Ut>>1);Me.push({aabb:Qe.aabb.quadrant(Ut),zoom:Qe.zoom+1,x:gn,y:sn,wrap:Qe.wrap,fullyVisible:xt})}}return Ce.sort(function(rn,En){return rn.distanceSq-En.distanceSq}).map(function(rn){return rn.tileID})},di.prototype.resize=function(U,$){this.width=U,this.height=$,this.pixelsToGLUnits=[2/U,-2/$],this._constrain(),this._calcMatrices()},Qi.unmodified.get=function(){return this._unmodified},di.prototype.zoomScale=function(U){return Math.pow(2,U)},di.prototype.scaleZoom=function(U){return Math.log(U)/Math.LN2},di.prototype.project=function(U){var $=f.clamp(U.lat,-this.maxValidLatitude,this.maxValidLatitude);return new f.Point(f.mercatorXfromLng(U.lng)*this.worldSize,f.mercatorYfromLat($)*this.worldSize)},di.prototype.unproject=function(U){return new f.MercatorCoordinate(U.x/this.worldSize,U.y/this.worldSize).toLngLat()},Qi.point.get=function(){return this.project(this.center)},di.prototype.setLocationAtPoint=function(U,$){var q=this.pointCoordinate($),ne=this.pointCoordinate(this.centerPoint),_e=this.locationCoordinate(U),Pe=new f.MercatorCoordinate(_e.x-(q.x-ne.x),_e.y-(q.y-ne.y));this.center=this.coordinateLocation(Pe),this._renderWorldCopies&&(this.center=this.center.wrap())},di.prototype.locationPoint=function(U){return this.coordinatePoint(this.locationCoordinate(U))},di.prototype.pointLocation=function(U){return this.coordinateLocation(this.pointCoordinate(U))},di.prototype.locationCoordinate=function(U){return f.MercatorCoordinate.fromLngLat(U)},di.prototype.coordinateLocation=function(U){return U.toLngLat()},di.prototype.pointCoordinate=function(U){var $=[U.x,U.y,0,1],q=[U.x,U.y,1,1];f.transformMat4($,$,this.pixelMatrixInverse),f.transformMat4(q,q,this.pixelMatrixInverse);var ne=$[3],_e=q[3],ie=$[1]/ne,ce=q[1]/_e,Me=$[2]/ne,Ce=q[2]/_e,Ne=Me===Ce?0:(0-Me)/(Ce-Me);return new f.MercatorCoordinate(f.number($[0]/ne,q[0]/_e,Ne)/this.worldSize,f.number(ie,ce,Ne)/this.worldSize)},di.prototype.coordinatePoint=function(U){var $=[U.x*this.worldSize,U.y*this.worldSize,0,1];return f.transformMat4($,$,this.pixelMatrix),new f.Point($[0]/$[3],$[1]/$[3])},di.prototype.getBounds=function(){return(new f.LngLatBounds).extend(this.pointLocation(new f.Point(0,0))).extend(this.pointLocation(new f.Point(this.width,0))).extend(this.pointLocation(new f.Point(this.width,this.height))).extend(this.pointLocation(new f.Point(0,this.height)))},di.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new f.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},di.prototype.setMaxBounds=function(U){U?(this.lngRange=[U.getWest(),U.getEast()],this.latRange=[U.getSouth(),U.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},di.prototype.calculatePosMatrix=function(U,$){void 0===$&&($=!1);var q=U.key,ne=$?this._alignedPosMatrixCache:this._posMatrixCache;if(ne[q])return ne[q];var _e=U.canonical,Pe=this.worldSize/this.zoomScale(_e.z),V=_e.x+Math.pow(2,_e.z)*U.wrap,ie=f.identity(new Float64Array(16));return f.translate(ie,ie,[V*Pe,_e.y*Pe,0]),f.scale(ie,ie,[Pe/f.EXTENT,Pe/f.EXTENT,1]),f.multiply(ie,$?this.alignedProjMatrix:this.projMatrix,ie),ne[q]=new Float32Array(ie),ne[q]},di.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},di.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var U,$,q,ne,_e=-90,Pe=90,V=-180,ie=180,ce=this.size,Me=this._unmodified;if(this.latRange){var Ce=this.latRange;_e=f.mercatorYfromLat(Ce[1])*this.worldSize,U=(Pe=f.mercatorYfromLat(Ce[0])*this.worldSize)-_e<ce.y?ce.y/(Pe-_e):0}if(this.lngRange){var Ne=this.lngRange;V=f.mercatorXfromLng(Ne[0])*this.worldSize,$=(ie=f.mercatorXfromLng(Ne[1])*this.worldSize)-V<ce.x?ce.x/(ie-V):0}var $e=this.point,Xe=Math.max($||0,U||0);if(Xe)return this.center=this.unproject(new f.Point($?(ie+V)/2:$e.x,U?(Pe+_e)/2:$e.y)),this.zoom+=this.scaleZoom(Xe),this._unmodified=Me,void(this._constraining=!1);if(this.latRange){var Qe=$e.y,nt=ce.y/2;Qe-nt<_e&&(ne=_e+nt),Qe+nt>Pe&&(ne=Pe-nt)}if(this.lngRange){var lt=$e.x,xt=ce.x/2;lt-xt<V&&(q=V+xt),lt+xt>ie&&(q=ie-xt)}void 0===q&&void 0===ne||(this.center=this.unproject(new f.Point(void 0!==q?q:$e.x,void 0!==ne?ne:$e.y))),this._unmodified=Me,this._constraining=!1}},di.prototype._calcMatrices=function(){if(this.height){var $=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var q=Math.PI/2+this._pitch,ne=this._fov*(.5+$.y/this.height),_e=Math.sin(ne)*this.cameraToCenterDistance/Math.sin(f.clamp(Math.PI-q-ne,.01,Math.PI-.01)),Pe=this.point,V=Pe.x,ie=Pe.y,ce=1.01*(Math.cos(Math.PI/2-this._pitch)*_e+this.cameraToCenterDistance),Me=this.height/50,Ce=new Float64Array(16);f.perspective(Ce,this._fov,this.width/this.height,Me,ce),Ce[8]=2*-$.x/this.width,Ce[9]=2*$.y/this.height,f.scale(Ce,Ce,[1,-1,1]),f.translate(Ce,Ce,[0,0,-this.cameraToCenterDistance]),f.rotateX(Ce,Ce,this._pitch),f.rotateZ(Ce,Ce,this.angle),f.translate(Ce,Ce,[-V,-ie,0]),this.mercatorMatrix=f.scale([],Ce,[this.worldSize,this.worldSize,this.worldSize]),f.scale(Ce,Ce,[1,1,f.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Ce,this.invProjMatrix=f.invert([],this.projMatrix);var Ne=this.width%2/2,$e=this.height%2/2,Xe=Math.cos(this.angle),Qe=Math.sin(this.angle),nt=V-Math.round(V)+Xe*Ne+Qe*$e,lt=ie-Math.round(ie)+Xe*$e+Qe*Ne,xt=new Float64Array(Ce);if(f.translate(xt,xt,[nt>.5?nt-1:nt,lt>.5?lt-1:lt,0]),this.alignedProjMatrix=xt,Ce=f.create(),f.scale(Ce,Ce,[this.width/2,-this.height/2,1]),f.translate(Ce,Ce,[1,-1,0]),this.labelPlaneMatrix=Ce,Ce=f.create(),f.scale(Ce,Ce,[1,-1,1]),f.translate(Ce,Ce,[-1,-1,0]),f.scale(Ce,Ce,[2/this.width,2/this.height,1]),this.glCoordMatrix=Ce,this.pixelMatrix=f.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Ce=f.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Ce,this._posMatrixCache={},this._alignedPosMatrixCache={}}},di.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var U=this.pointCoordinate(new f.Point(0,0)),$=[U.x*this.worldSize,U.y*this.worldSize,0,1];return f.transformMat4($,$,this.pixelMatrix)[3]/this.cameraToCenterDistance},di.prototype.getCameraPoint=function(){var $=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new f.Point(0,$))},di.prototype.getCameraQueryGeometry=function(U){var $=this.getCameraPoint();if(1===U.length)return[U[0],$];for(var q=$.x,ne=$.y,_e=$.x,Pe=$.y,V=0,ie=U;V<ie.length;V+=1){var ce=ie[V];q=Math.min(q,ce.x),ne=Math.min(ne,ce.y),_e=Math.max(_e,ce.x),Pe=Math.max(Pe,ce.y)}return[new f.Point(q,ne),new f.Point(_e,ne),new f.Point(_e,Pe),new f.Point(q,Pe),new f.Point(q,ne)]},Object.defineProperties(di.prototype,Qi);var wl=function(U){var $,ne,_e,Pe;this._hashName=U&&encodeURIComponent(U),f.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=($=this._updateHashUnthrottled.bind(this),300,ne=!1,_e=null,Pe=function(){_e=null,ne&&($(),_e=setTimeout(Pe,300),ne=!1)},function(){return ne=!0,_e||Pe(),_e})};wl.prototype.addTo=function(U){return this._map=U,f.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},wl.prototype.remove=function(){return f.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},wl.prototype.getHashString=function(U){var $=this._map.getCenter(),q=Math.round(100*this._map.getZoom())/100,ne=Math.ceil((q*Math.LN2+Math.log(512/360/.5))/Math.LN10),_e=Math.pow(10,ne),Pe=Math.round($.lng*_e)/_e,V=Math.round($.lat*_e)/_e,ie=this._map.getBearing(),ce=this._map.getPitch(),Me="";if(Me+=U?"/"+Pe+"/"+V+"/"+q:q+"/"+V+"/"+Pe,(ie||ce)&&(Me+="/"+Math.round(10*ie)/10),ce&&(Me+="/"+Math.round(ce)),this._hashName){var Ce=this._hashName,Ne=!1,$e=f.window.location.hash.slice(1).split("&").map(function(Xe){var Qe=Xe.split("=")[0];return Qe===Ce?(Ne=!0,Qe+"="+Me):Xe}).filter(function(Xe){return Xe});return Ne||$e.push(Ce+"="+Me),"#"+$e.join("&")}return"#"+Me},wl.prototype._getCurrentHash=function(){var U,$=this,q=f.window.location.hash.replace("#","");return this._hashName?(q.split("&").map(function(ne){return ne.split("=")}).forEach(function(ne){ne[0]===$._hashName&&(U=ne)}),(U&&U[1]||"").split("/")):q.split("/")},wl.prototype._onHashChange=function(){var U=this._getCurrentHash();if(U.length>=3&&!U.some(function(q){return isNaN(q)})){var $=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(U[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+U[2],+U[1]],zoom:+U[0],bearing:$,pitch:+(U[4]||0)}),!0}return!1},wl.prototype._updateHashUnthrottled=function(){var U=this.getHashString();try{f.window.history.replaceState(f.window.history.state,"",U)}catch{}};var Tl={linearity:.3,easing:f.bezier(0,0,.3,1)},Uu=f.extend({deceleration:2500,maxSpeed:1400},Tl),tu=f.extend({deceleration:20,maxSpeed:1400},Tl),bs=f.extend({deceleration:1e3,maxSpeed:360},Tl),ha=f.extend({deceleration:1e3,maxSpeed:90},Tl),nu=function(U){this._map=U,this.clear()};function pa(U,$){(!U.duration||U.duration<$.duration)&&(U.duration=$.duration,U.easing=$.easing)}function va(U,$,q){var ne=q.maxSpeed,_e=q.linearity,Pe=q.deceleration,V=f.clamp(U*_e/($/1e3),-ne,ne),ie=Math.abs(V)/(Pe*_e);return{easing:q.easing,duration:1e3*ie,amount:V*(ie/2)}}nu.prototype.clear=function(){this._inertiaBuffer=[]},nu.prototype.record=function(U){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:f.browser.now(),settings:U})},nu.prototype._drainInertiaBuffer=function(){for(var U=this._inertiaBuffer,$=f.browser.now();U.length>0&&$-U[0].time>160;)U.shift()},nu.prototype._onMoveEnd=function(U){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var $={zoom:0,bearing:0,pitch:0,pan:new f.Point(0,0),pinchAround:void 0,around:void 0},q=0,ne=this._inertiaBuffer;q<ne.length;q+=1){var _e=ne[q].settings;$.zoom+=_e.zoomDelta||0,$.bearing+=_e.bearingDelta||0,$.pitch+=_e.pitchDelta||0,_e.panDelta&&$.pan._add(_e.panDelta),_e.around&&($.around=_e.around),_e.pinchAround&&($.pinchAround=_e.pinchAround)}var Pe=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,V={};if($.pan.mag()){var ie=va($.pan.mag(),Pe,f.extend({},Uu,U||{}));V.offset=$.pan.mult(ie.amount/$.pan.mag()),V.center=this._map.transform.center,pa(V,ie)}if($.zoom){var ce=va($.zoom,Pe,tu);V.zoom=this._map.transform.zoom+ce.amount,pa(V,ce)}if($.bearing){var Me=va($.bearing,Pe,bs);V.bearing=this._map.transform.bearing+f.clamp(Me.amount,-179,179),pa(V,Me)}if($.pitch){var Ce=va($.pitch,Pe,ha);V.pitch=this._map.transform.pitch+Ce.amount,pa(V,Ce)}if(V.zoom||V.bearing){var Ne=void 0===$.pinchAround?$.around:$.pinchAround;V.around=Ne?this._map.unproject(Ne):this._map.getCenter()}return this.clear(),f.extend(V,{noMoveStart:!0})}};var Co=function(U){function $(ne,_e,Pe,V){void 0===V&&(V={});var ie=M.mousePos(_e.getCanvasContainer(),Pe),ce=_e.unproject(ie);U.call(this,ne,f.extend({point:ie,lngLat:ce,originalEvent:Pe},V)),this._defaultPrevented=!1,this.target=_e}U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$;var q={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},q.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,q),$}(f.Event),Zs=function(U){function $(ne,_e,Pe){var V="touchend"===ne?Pe.changedTouches:Pe.touches,ie=M.touchPos(_e.getCanvasContainer(),V),ce=ie.map(function(Ne){return _e.unproject(Ne)}),Me=ie.reduce(function(Ne,$e,Xe,Qe){return Ne.add($e.div(Qe.length))},new f.Point(0,0)),Ce=_e.unproject(Me);U.call(this,ne,{points:ie,point:Me,lngLats:ce,lngLat:Ce,originalEvent:Pe}),this._defaultPrevented=!1}U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$;var q={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},q.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,q),$}(f.Event),Ml=function(U){function $(ne,_e,Pe){U.call(this,ne,{originalEvent:Pe}),this._defaultPrevented=!1}U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$;var q={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},q.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,q),$}(f.Event),fo=function(U,$){this._map=U,this._clickTolerance=$.clickTolerance};fo.prototype.reset=function(){delete this._mousedownPos},fo.prototype.wheel=function(U){return this._firePreventable(new Ml(U.type,this._map,U))},fo.prototype.mousedown=function(U,$){return this._mousedownPos=$,this._firePreventable(new Co(U.type,this._map,U))},fo.prototype.mouseup=function(U){this._map.fire(new Co(U.type,this._map,U))},fo.prototype.click=function(U,$){this._mousedownPos&&this._mousedownPos.dist($)>=this._clickTolerance||this._map.fire(new Co(U.type,this._map,U))},fo.prototype.dblclick=function(U){return this._firePreventable(new Co(U.type,this._map,U))},fo.prototype.mouseover=function(U){this._map.fire(new Co(U.type,this._map,U))},fo.prototype.mouseout=function(U){this._map.fire(new Co(U.type,this._map,U))},fo.prototype.touchstart=function(U){return this._firePreventable(new Zs(U.type,this._map,U))},fo.prototype.touchmove=function(U){this._map.fire(new Zs(U.type,this._map,U))},fo.prototype.touchend=function(U){this._map.fire(new Zs(U.type,this._map,U))},fo.prototype.touchcancel=function(U){this._map.fire(new Zs(U.type,this._map,U))},fo.prototype._firePreventable=function(U){if(this._map.fire(U),U.defaultPrevented)return{}},fo.prototype.isEnabled=function(){return!0},fo.prototype.isActive=function(){return!1},fo.prototype.enable=function(){},fo.prototype.disable=function(){};var Ra=function(U){this._map=U};Ra.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Ra.prototype.mousemove=function(U){this._map.fire(new Co(U.type,this._map,U))},Ra.prototype.mousedown=function(){this._delayContextMenu=!0},Ra.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Co("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Ra.prototype.contextmenu=function(U){this._delayContextMenu?this._contextMenuEvent=U:this._map.fire(new Co(U.type,this._map,U)),this._map.listens("contextmenu")&&U.preventDefault()},Ra.prototype.isEnabled=function(){return!0},Ra.prototype.isActive=function(){return!1},Ra.prototype.enable=function(){},Ra.prototype.disable=function(){};var La=function(U,$){this._map=U,this._el=U.getCanvasContainer(),this._container=U.getContainer(),this._clickTolerance=$.clickTolerance||1};function ia(U,$){for(var q={},ne=0;ne<U.length;ne++)q[U[ne].identifier]=$[ne];return q}La.prototype.isEnabled=function(){return!!this._enabled},La.prototype.isActive=function(){return!!this._active},La.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},La.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},La.prototype.mousedown=function(U,$){this.isEnabled()&&U.shiftKey&&0===U.button&&(M.disableDrag(),this._startPos=this._lastPos=$,this._active=!0)},La.prototype.mousemoveWindow=function(U,$){if(this._active){var q=$;if(!(this._lastPos.equals(q)||!this._box&&q.dist(this._startPos)<this._clickTolerance)){var ne=this._startPos;this._lastPos=q,this._box||(this._box=M.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",U));var _e=Math.min(ne.x,q.x),Pe=Math.max(ne.x,q.x),V=Math.min(ne.y,q.y),ie=Math.max(ne.y,q.y);M.setTransform(this._box,"translate("+_e+"px,"+V+"px)"),this._box.style.width=Pe-_e+"px",this._box.style.height=ie-V+"px"}}},La.prototype.mouseupWindow=function(U,$){var q=this;if(this._active&&0===U.button){var ne=this._startPos,_e=$;if(this.reset(),M.suppressClick(),ne.x!==_e.x||ne.y!==_e.y)return this._map.fire(new f.Event("boxzoomend",{originalEvent:U})),{cameraAnimation:function(Pe){return Pe.fitScreenCoordinates(ne,_e,q._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",U)}},La.prototype.keydown=function(U){this._active&&27===U.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",U))},La.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(M.remove(this._box),this._box=null),M.enableDrag(),delete this._startPos,delete this._lastPos},La.prototype._fireEvent=function(U,$){return this._map.fire(new f.Event(U,{originalEvent:$}))};var ja=function(U){this.reset(),this.numTouches=U.numTouches};ja.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},ja.prototype.touchstart=function(U,$,q){(this.centroid||q.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=U.timeStamp),q.length===this.numTouches&&(this.centroid=function(ne){for(var _e=new f.Point(0,0),Pe=0,V=ne;Pe<V.length;Pe+=1)_e._add(V[Pe]);return _e.div(ne.length)}($),this.touches=ia(q,$)))},ja.prototype.touchmove=function(U,$,q){if(!this.aborted&&this.centroid){var ne=ia(q,$);for(var _e in this.touches){var V=ne[_e];(!V||V.dist(this.touches[_e])>30)&&(this.aborted=!0)}}},ja.prototype.touchend=function(U,$,q){if((!this.centroid||U.timeStamp-this.startTime>500)&&(this.aborted=!0),0===q.length){var ne=!this.aborted&&this.centroid;if(this.reset(),ne)return ne}};var ku=function(U){this.singleTap=new ja(U),this.numTaps=U.numTaps,this.reset()};ku.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},ku.prototype.touchstart=function(U,$,q){this.singleTap.touchstart(U,$,q)},ku.prototype.touchmove=function(U,$,q){this.singleTap.touchmove(U,$,q)},ku.prototype.touchend=function(U,$,q){var ne=this.singleTap.touchend(U,$,q);if(ne){var _e=U.timeStamp-this.lastTime<500,Pe=!this.lastTap||this.lastTap.dist(ne)<30;if(_e&&Pe||this.reset(),this.count++,this.lastTime=U.timeStamp,this.lastTap=ne,this.count===this.numTaps)return this.reset(),ne}};var Al=function(){this._zoomIn=new ku({numTouches:1,numTaps:2}),this._zoomOut=new ku({numTouches:2,numTaps:1}),this.reset()};Al.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Al.prototype.touchstart=function(U,$,q){this._zoomIn.touchstart(U,$,q),this._zoomOut.touchstart(U,$,q)},Al.prototype.touchmove=function(U,$,q){this._zoomIn.touchmove(U,$,q),this._zoomOut.touchmove(U,$,q)},Al.prototype.touchend=function(U,$,q){var ne=this,_e=this._zoomIn.touchend(U,$,q),Pe=this._zoomOut.touchend(U,$,q);return _e?(this._active=!0,U.preventDefault(),setTimeout(function(){return ne.reset()},0),{cameraAnimation:function(V){return V.easeTo({duration:300,zoom:V.getZoom()+1,around:V.unproject(_e)},{originalEvent:U})}}):Pe?(this._active=!0,U.preventDefault(),setTimeout(function(){return ne.reset()},0),{cameraAnimation:function(V){return V.easeTo({duration:300,zoom:V.getZoom()-1,around:V.unproject(Pe)},{originalEvent:U})}}):void 0},Al.prototype.touchcancel=function(){this.reset()},Al.prototype.enable=function(){this._enabled=!0},Al.prototype.disable=function(){this._enabled=!1,this.reset()},Al.prototype.isEnabled=function(){return this._enabled},Al.prototype.isActive=function(){return this._active};var ya=function(U){this.reset(),this._clickTolerance=U.clickTolerance||1};ya.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},ya.prototype._correctButton=function(U,$){return!1},ya.prototype._move=function(U,$){return{}},ya.prototype.mousedown=function(U,$){if(!this._lastPoint){var q=M.mouseButton(U);this._correctButton(U,q)&&(this._lastPoint=$,this._eventButton=q)}},ya.prototype.mousemoveWindow=function(U,$){var q=this._lastPoint;if(q&&(U.preventDefault(),this._moved||!($.dist(q)<this._clickTolerance)))return this._moved=!0,this._lastPoint=$,this._move(q,$)},ya.prototype.mouseupWindow=function(U){M.mouseButton(U)===this._eventButton&&(this._moved&&M.suppressClick(),this.reset())},ya.prototype.enable=function(){this._enabled=!0},ya.prototype.disable=function(){this._enabled=!1,this.reset()},ya.prototype.isEnabled=function(){return this._enabled},ya.prototype.isActive=function(){return this._active};var Is=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.mousedown=function(q,ne){U.prototype.mousedown.call(this,q,ne),this._lastPoint&&(this._active=!0)},$.prototype._correctButton=function(q,ne){return 0===ne&&!q.ctrlKey},$.prototype._move=function(q,ne){return{around:ne,panDelta:ne.sub(q)}},$}(ya),Ys=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype._correctButton=function(q,ne){return 0===ne&&q.ctrlKey||2===ne},$.prototype._move=function(q,ne){var _e=.8*(ne.x-q.x);if(_e)return this._active=!0,{bearingDelta:_e}},$.prototype.contextmenu=function(q){q.preventDefault()},$}(ya),Rc=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype._correctButton=function(q,ne){return 0===ne&&q.ctrlKey||2===ne},$.prototype._move=function(q,ne){var _e=-.5*(ne.y-q.y);if(_e)return this._active=!0,{pitchDelta:_e}},$.prototype.contextmenu=function(q){q.preventDefault()},$}(ya),Xs=function(U){this._minTouches=1,this._clickTolerance=U.clickTolerance||1,this.reset()};Xs.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new f.Point(0,0)},Xs.prototype.touchstart=function(U,$,q){return this._calculateTransform(U,$,q)},Xs.prototype.touchmove=function(U,$,q){if(this._active)return U.preventDefault(),this._calculateTransform(U,$,q)},Xs.prototype.touchend=function(U,$,q){this._calculateTransform(U,$,q),this._active&&q.length<this._minTouches&&this.reset()},Xs.prototype.touchcancel=function(){this.reset()},Xs.prototype._calculateTransform=function(U,$,q){q.length>0&&(this._active=!0);var ne=ia(q,$),_e=new f.Point(0,0),Pe=new f.Point(0,0),V=0;for(var ie in ne){var ce=ne[ie],Me=this._touches[ie];Me&&(_e._add(ce),Pe._add(ce.sub(Me)),V++,ne[ie]=ce)}if(this._touches=ne,!(V<this._minTouches)&&Pe.mag()){var Ce=Pe.div(V);if(this._sum._add(Ce),!(this._sum.mag()<this._clickTolerance))return{around:_e.div(V),panDelta:Ce}}},Xs.prototype.enable=function(){this._enabled=!0},Xs.prototype.disable=function(){this._enabled=!1,this.reset()},Xs.prototype.isEnabled=function(){return this._enabled},Xs.prototype.isActive=function(){return this._active};var _a=function(){this.reset()};function ni(U,$,q){for(var ne=0;ne<U.length;ne++)if(U[ne].identifier===q)return $[ne]}function Ua(U,$){return Math.log(U/$)/Math.LN2}_a.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},_a.prototype._start=function(U){},_a.prototype._move=function(U,$,q){return{}},_a.prototype.touchstart=function(U,$,q){this._firstTwoTouches||q.length<2||(this._firstTwoTouches=[q[0].identifier,q[1].identifier],this._start([$[0],$[1]]))},_a.prototype.touchmove=function(U,$,q){if(this._firstTwoTouches){U.preventDefault();var ne=this._firstTwoTouches,Pe=ne[1],V=ni(q,$,ne[0]),ie=ni(q,$,Pe);if(V&&ie){var ce=this._aroundCenter?null:V.add(ie).div(2);return this._move([V,ie],ce,U)}}},_a.prototype.touchend=function(U,$,q){if(this._firstTwoTouches){var ne=this._firstTwoTouches,Pe=ne[1],V=ni(q,$,ne[0]),ie=ni(q,$,Pe);V&&ie||(this._active&&M.suppressClick(),this.reset())}},_a.prototype.touchcancel=function(){this.reset()},_a.prototype.enable=function(U){this._enabled=!0,this._aroundCenter=!!U&&"center"===U.around},_a.prototype.disable=function(){this._enabled=!1,this.reset()},_a.prototype.isEnabled=function(){return this._enabled},_a.prototype.isActive=function(){return this._active};var vc=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.reset=function(){U.prototype.reset.call(this),delete this._distance,delete this._startDistance},$.prototype._start=function(q){this._startDistance=this._distance=q[0].dist(q[1])},$.prototype._move=function(q,ne){var _e=this._distance;if(this._distance=q[0].dist(q[1]),this._active||!(Math.abs(Ua(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ua(this._distance,_e),pinchAround:ne}},$}(_a);function Lc(U,$){return 180*U.angleWith($)/Math.PI}var ru=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.reset=function(){U.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},$.prototype._start=function(q){this._startVector=this._vector=q[0].sub(q[1]),this._minDiameter=q[0].dist(q[1])},$.prototype._move=function(q,ne){var _e=this._vector;if(this._vector=q[0].sub(q[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Lc(this._vector,_e),pinchAround:ne}},$.prototype._isBelowThreshold=function(q){this._minDiameter=Math.min(this._minDiameter,q.mag());var ne=25/(Math.PI*this._minDiameter)*360,_e=Lc(q,this._startVector);return Math.abs(_e)<ne},$}(_a);function iu(U){return Math.abs(U.y)>Math.abs(U.x)}var ou=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.reset=function(){U.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},$.prototype._start=function(q){this._lastPoints=q,iu(q[0].sub(q[1]))&&(this._valid=!1)},$.prototype._move=function(q,ne,_e){var Pe=q[0].sub(this._lastPoints[0]),V=q[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Pe,V,_e.timeStamp),this._valid)return this._lastPoints=q,this._active=!0,{pitchDelta:(Pe.y+V.y)/2*-.5}},$.prototype.gestureBeginsVertically=function(q,ne,_e){if(void 0!==this._valid)return this._valid;var Pe=q.mag()>=2,V=ne.mag()>=2;if(Pe||V){if(!Pe||!V)return void 0===this._firstMove&&(this._firstMove=_e),_e-this._firstMove<100&&void 0;var ie=q.y>0==ne.y>0;return iu(q)&&iu(ne)&&ie}},$}(_a),Yr={panStep:100,bearingStep:15,pitchStep:10},kl=function(){var U=Yr;this._panStep=U.panStep,this._bearingStep=U.bearingStep,this._pitchStep=U.pitchStep};function Ps(U){return U*(2-U)}kl.prototype.reset=function(){this._active=!1},kl.prototype.keydown=function(U){var $=this;if(!(U.altKey||U.ctrlKey||U.metaKey)){var q=0,ne=0,_e=0,Pe=0,V=0;switch(U.keyCode){case 61:case 107:case 171:case 187:q=1;break;case 189:case 109:case 173:q=-1;break;case 37:U.shiftKey?ne=-1:(U.preventDefault(),Pe=-1);break;case 39:U.shiftKey?ne=1:(U.preventDefault(),Pe=1);break;case 38:U.shiftKey?_e=1:(U.preventDefault(),V=-1);break;case 40:U.shiftKey?_e=-1:(U.preventDefault(),V=1);break;default:return}return{cameraAnimation:function(ie){var ce=ie.getZoom();ie.easeTo({duration:300,easeId:"keyboardHandler",easing:Ps,zoom:q?Math.round(ce)+q*(U.shiftKey?2:1):ce,bearing:ie.getBearing()+ne*$._bearingStep,pitch:ie.getPitch()+_e*$._pitchStep,offset:[-Pe*$._panStep,-V*$._panStep],center:ie.getCenter()},{originalEvent:U})}}}},kl.prototype.enable=function(){this._enabled=!0},kl.prototype.disable=function(){this._enabled=!1,this.reset()},kl.prototype.isEnabled=function(){return this._enabled},kl.prototype.isActive=function(){return this._active};var ec=4.000244140625,Li=function(U,$){this._map=U,this._el=U.getCanvasContainer(),this._handler=$,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,f.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Li.prototype.setZoomRate=function(U){this._defaultZoomRate=U},Li.prototype.setWheelZoomRate=function(U){this._wheelZoomRate=U},Li.prototype.isEnabled=function(){return!!this._enabled},Li.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},Li.prototype.isZooming=function(){return!!this._zooming},Li.prototype.enable=function(U){this.isEnabled()||(this._enabled=!0,this._aroundCenter=U&&"center"===U.around)},Li.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Li.prototype.wheel=function(U){if(this.isEnabled()){var $=U.deltaMode===f.window.WheelEvent.DOM_DELTA_LINE?40*U.deltaY:U.deltaY,q=f.browser.now(),ne=q-(this._lastWheelEventTime||0);this._lastWheelEventTime=q,0!==$&&$%ec==0?this._type="wheel":0!==$&&Math.abs($)<4?this._type="trackpad":ne>400?(this._type=null,this._lastValue=$,this._timeout=setTimeout(this._onTimeout,40,U)):this._type||(this._type=Math.abs(ne*$)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,$+=this._lastValue)),U.shiftKey&&$&&($/=4),this._type&&(this._lastWheelEvent=U,this._delta-=$,this._active||this._start(U)),U.preventDefault()}},Li.prototype._onTimeout=function(U){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(U)},Li.prototype._start=function(U){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var $=M.mousePos(this._el,U);this._around=f.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject($)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Li.prototype.renderFrame=function(){return this._onScrollFrame()},Li.prototype._onScrollFrame=function(){var U=this;if(this._frameId&&(this._frameId=null,this.isActive())){var $=this._map.transform;if(0!==this._delta){var q="wheel"===this._type&&Math.abs(this._delta)>ec?this._wheelZoomRate:this._defaultZoomRate,ne=2/(1+Math.exp(-Math.abs(this._delta*q)));this._delta<0&&0!==ne&&(ne=1/ne);var _e="number"==typeof this._targetZoom?$.zoomScale(this._targetZoom):$.scale;this._targetZoom=Math.min($.maxZoom,Math.max($.minZoom,$.scaleZoom(_e*ne))),"wheel"===this._type&&(this._startZoom=$.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Pe,V="number"==typeof this._targetZoom?this._targetZoom:$.zoom,ie=this._startZoom,ce=this._easing,Me=!1;if("wheel"===this._type&&ie&&ce){var Ce=Math.min((f.browser.now()-this._lastWheelEventTime)/200,1),Ne=ce(Ce);Pe=f.number(ie,V,Ne),Ce<1?this._frameId||(this._frameId=!0):Me=!0}else Pe=V,Me=!0;return this._active=!0,Me&&(this._active=!1,this._finishTimeout=setTimeout(function(){U._zooming=!1,U._handler._triggerRenderFrame(),delete U._targetZoom,delete U._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Me,zoomDelta:Pe-$.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Li.prototype._smoothOutEasing=function(U){var $=f.ease;if(this._prevEase){var q=this._prevEase,ne=(f.browser.now()-q.start)/q.duration,_e=q.easing(ne+.01)-q.easing(ne),Pe=.27/Math.sqrt(_e*_e+1e-4)*.01,V=Math.sqrt(.0729-Pe*Pe);$=f.bezier(Pe,V,.25,1)}return this._prevEase={start:f.browser.now(),duration:U,easing:$},$},Li.prototype.reset=function(){this._active=!1};var Rs=function(U,$){this._clickZoom=U,this._tapZoom=$};Rs.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Rs.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Rs.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Rs.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Ls=function(){this.reset()};Ls.prototype.reset=function(){this._active=!1},Ls.prototype.dblclick=function(U,$){return U.preventDefault(),{cameraAnimation:function(q){q.easeTo({duration:300,zoom:q.getZoom()+(U.shiftKey?-1:1),around:q.unproject($)},{originalEvent:U})}}},Ls.prototype.enable=function(){this._enabled=!0},Ls.prototype.disable=function(){this._enabled=!1,this.reset()},Ls.prototype.isEnabled=function(){return this._enabled},Ls.prototype.isActive=function(){return this._active};var ws=function(){this._tap=new ku({numTouches:1,numTaps:1}),this.reset()};ws.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ws.prototype.touchstart=function(U,$,q){this._swipePoint||(this._tapTime&&U.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?q.length>0&&(this._swipePoint=$[0],this._swipeTouch=q[0].identifier):this._tap.touchstart(U,$,q))},ws.prototype.touchmove=function(U,$,q){if(this._tapTime){if(this._swipePoint){if(q[0].identifier!==this._swipeTouch)return;var ne=$[0],_e=ne.y-this._swipePoint.y;return this._swipePoint=ne,U.preventDefault(),this._active=!0,{zoomDelta:_e/128}}}else this._tap.touchmove(U,$,q)},ws.prototype.touchend=function(U,$,q){this._tapTime?this._swipePoint&&0===q.length&&this.reset():this._tap.touchend(U,$,q)&&(this._tapTime=U.timeStamp)},ws.prototype.touchcancel=function(){this.reset()},ws.prototype.enable=function(){this._enabled=!0},ws.prototype.disable=function(){this._enabled=!1,this.reset()},ws.prototype.isEnabled=function(){return this._enabled},ws.prototype.isActive=function(){return this._active};var Ks=function(U,$,q){this._el=U,this._mousePan=$,this._touchPan=q};Ks.prototype.enable=function(U){this._inertiaOptions=U||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Ks.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Ks.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Ks.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Sl=function(U,$,q){this._pitchWithRotate=U.pitchWithRotate,this._mouseRotate=$,this._mousePitch=q};Sl.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Sl.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Sl.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Sl.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var oa=function(U,$,q,ne){this._el=U,this._touchZoom=$,this._touchRotate=q,this._tapDragZoom=ne,this._rotationDisabled=!1,this._enabled=!0};oa.prototype.enable=function(U){this._touchZoom.enable(U),this._rotationDisabled||this._touchRotate.enable(U),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},oa.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},oa.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},oa.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},oa.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},oa.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Vl=function(U){return U.zoom||U.drag||U.pitch||U.rotate},Vu=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$}(f.Event);function ho(U){return U.panDelta&&U.panDelta.mag()||U.zoomDelta||U.bearingDelta||U.pitchDelta}var oo=function(U,$){this._map=U,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new nu(U),this._bearingSnap=$.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers($),f.bindAll(["handleEvent","handleWindowEvent"],this);var q=this._el;this._listeners=[[q,"touchstart",{passive:!1}],[q,"touchmove",{passive:!1}],[q,"touchend",void 0],[q,"touchcancel",void 0],[q,"mousedown",void 0],[q,"mousemove",void 0],[q,"mouseup",void 0],[f.window.document,"mousemove",{capture:!0}],[f.window.document,"mouseup",void 0],[q,"mouseover",void 0],[q,"mouseout",void 0],[q,"dblclick",void 0],[q,"click",void 0],[q,"keydown",{capture:!1}],[q,"keyup",void 0],[q,"wheel",{passive:!1}],[q,"contextmenu",void 0],[f.window,"blur",void 0]];for(var ne=0,_e=this._listeners;ne<_e.length;ne+=1){var Pe=_e[ne],V=Pe[0];M.addEventListener(V,Pe[1],V===f.window.document?this.handleWindowEvent:this.handleEvent,Pe[2])}};oo.prototype.destroy=function(){for(var U=0,$=this._listeners;U<$.length;U+=1){var q=$[U],ne=q[0];M.removeEventListener(ne,q[1],ne===f.window.document?this.handleWindowEvent:this.handleEvent,q[2])}},oo.prototype._addDefaultHandlers=function(U){var $=this._map,q=$.getCanvasContainer();this._add("mapEvent",new fo($,U));var ne=$.boxZoom=new La($,U);this._add("boxZoom",ne);var _e=new Al,Pe=new Ls;$.doubleClickZoom=new Rs(Pe,_e),this._add("tapZoom",_e),this._add("clickZoom",Pe);var V=new ws;this._add("tapDragZoom",V);var ie=$.touchPitch=new ou;this._add("touchPitch",ie);var ce=new Ys(U),Me=new Rc(U);$.dragRotate=new Sl(U,ce,Me),this._add("mouseRotate",ce,["mousePitch"]),this._add("mousePitch",Me,["mouseRotate"]);var Ce=new Is(U),Ne=new Xs(U);$.dragPan=new Ks(q,Ce,Ne),this._add("mousePan",Ce),this._add("touchPan",Ne,["touchZoom","touchRotate"]);var $e=new ru,Xe=new vc;$.touchZoomRotate=new oa(q,Xe,$e,V),this._add("touchRotate",$e,["touchPan","touchZoom"]),this._add("touchZoom",Xe,["touchPan","touchRotate"]);var Qe=$.scrollZoom=new Li($,this);this._add("scrollZoom",Qe,["mousePan"]);var nt=$.keyboard=new kl;this._add("keyboard",nt),this._add("blockableMapEvent",new Ra($));for(var lt=0,xt=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];lt<xt.length;lt+=1){var Mt=xt[lt];U.interactive&&U[Mt]&&$[Mt].enable(U[Mt])}},oo.prototype._add=function(U,$,q){this._handlers.push({handlerName:U,handler:$,allowed:q}),this._handlersById[U]=$},oo.prototype.stop=function(){if(!this._updatingCamera){for(var U=0,$=this._handlers;U<$.length;U+=1)$[U].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},oo.prototype.isActive=function(){for(var U=0,$=this._handlers;U<$.length;U+=1)if($[U].handler.isActive())return!0;return!1},oo.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},oo.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},oo.prototype.isMoving=function(){return Boolean(Vl(this._eventsInProgress))||this.isZooming()},oo.prototype._blockedByActive=function(U,$,q){for(var ne in U)if(ne!==q&&(!$||$.indexOf(ne)<0))return!0;return!1},oo.prototype.handleWindowEvent=function(U){this.handleEvent(U,U.type+"Window")},oo.prototype._getMapTouches=function(U){for(var $=[],q=0,ne=U;q<ne.length;q+=1){var _e=ne[q];this._el.contains(_e.target)&&$.push(_e)}return $},oo.prototype.handleEvent=function(U,$){if("blur"!==U.type){this._updatingCamera=!0;for(var q="renderFrame"===U.type?void 0:U,ne={needsRenderFrame:!1},_e={},Pe={},V=U.touches?this._getMapTouches(U.touches):void 0,ie=V?M.touchPos(this._el,V):M.mousePos(this._el,U),ce=0,Me=this._handlers;ce<Me.length;ce+=1){var Ce=Me[ce],Ne=Ce.handlerName,$e=Ce.handler,Xe=Ce.allowed;if($e.isEnabled()){var Qe=void 0;this._blockedByActive(Pe,Xe,Ne)?$e.reset():$e[$||U.type]&&(Qe=$e[$||U.type](U,ie,V),this.mergeHandlerResult(ne,_e,Qe,Ne,q),Qe&&Qe.needsRenderFrame&&this._triggerRenderFrame()),(Qe||$e.isActive())&&(Pe[Ne]=$e)}}var nt={};for(var lt in this._previousActiveHandlers)Pe[lt]||(nt[lt]=q);this._previousActiveHandlers=Pe,(Object.keys(nt).length||ho(ne))&&(this._changes.push([ne,_e,nt]),this._triggerRenderFrame()),(Object.keys(Pe).length||ho(ne))&&this._map._stop(!0),this._updatingCamera=!1;var xt=ne.cameraAnimation;xt&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],xt(this._map))}else this.stop()},oo.prototype.mergeHandlerResult=function(U,$,q,ne,_e){if(q){f.extend(U,q);var Pe={handlerName:ne,originalEvent:q.originalEvent||_e};void 0!==q.zoomDelta&&($.zoom=Pe),void 0!==q.panDelta&&($.drag=Pe),void 0!==q.pitchDelta&&($.pitch=Pe),void 0!==q.bearingDelta&&($.rotate=Pe)}},oo.prototype._applyChanges=function(){for(var U={},$={},q={},ne=0,_e=this._changes;ne<_e.length;ne+=1){var Pe=_e[ne],V=Pe[0],ie=Pe[1],ce=Pe[2];V.panDelta&&(U.panDelta=(U.panDelta||new f.Point(0,0))._add(V.panDelta)),V.zoomDelta&&(U.zoomDelta=(U.zoomDelta||0)+V.zoomDelta),V.bearingDelta&&(U.bearingDelta=(U.bearingDelta||0)+V.bearingDelta),V.pitchDelta&&(U.pitchDelta=(U.pitchDelta||0)+V.pitchDelta),void 0!==V.around&&(U.around=V.around),void 0!==V.pinchAround&&(U.pinchAround=V.pinchAround),V.noInertia&&(U.noInertia=V.noInertia),f.extend($,ie),f.extend(q,ce)}this._updateMapTransform(U,$,q),this._changes=[]},oo.prototype._updateMapTransform=function(U,$,q){var ne=this._map,_e=ne.transform;if(!ho(U))return this._fireEvents($,q);var Pe=U.panDelta,V=U.zoomDelta,ie=U.bearingDelta,ce=U.pitchDelta,Me=U.around,Ce=U.pinchAround;void 0!==Ce&&(Me=Ce),ne._stop(!0),Me=Me||ne.transform.centerPoint;var Ne=_e.pointLocation(Pe?Me.sub(Pe):Me);ie&&(_e.bearing+=ie),ce&&(_e.pitch+=ce),V&&(_e.zoom+=V),_e.setLocationAtPoint(Ne,Me),this._map._update(),U.noInertia||this._inertia.record(U),this._fireEvents($,q)},oo.prototype._fireEvents=function(U,$){var q=this,ne=Vl(this._eventsInProgress),_e=Vl(U),Pe={};for(var V in U)this._eventsInProgress[V]||(Pe[V+"start"]=U[V].originalEvent),this._eventsInProgress[V]=U[V];for(var ce in!ne&&_e&&this._fireEvent("movestart",_e.originalEvent),Pe)this._fireEvent(ce,Pe[ce]);for(var Me in U.rotate&&(this._bearingChanged=!0),_e&&this._fireEvent("move",_e.originalEvent),U)this._fireEvent(Me,U[Me].originalEvent);var Ne,$e={};for(var Xe in this._eventsInProgress){var Qe=this._eventsInProgress[Xe],nt=Qe.handlerName,lt=Qe.originalEvent;this._handlersById[nt].isActive()||(delete this._eventsInProgress[Xe],$e[Xe+"end"]=Ne=$[nt]||lt)}for(var xt in $e)this._fireEvent(xt,$e[xt]);var Mt=Vl(this._eventsInProgress);if((ne||_e)&&!Mt){this._updatingCamera=!0;var Bt=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Vt=function(jt){return 0!==jt&&-q._bearingSnap<jt&&jt<q._bearingSnap};Bt?(Vt(Bt.bearing||this._map.getBearing())&&(Bt.bearing=0),this._map.easeTo(Bt,{originalEvent:Ne})):(this._map.fire(new f.Event("moveend",{originalEvent:Ne})),Vt(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},oo.prototype._fireEvent=function(U,$){this._map.fire(new f.Event(U,$?{originalEvent:$}:{}))},oo.prototype._triggerRenderFrame=function(){var U=this;void 0===this._frameId&&(this._frameId=this._map._requestRenderFrame(function($){delete U._frameId,U.handleEvent(new Vu("renderFrame",{timeStamp:$})),U._applyChanges()}))};var Hu=function(U){function $(q,ne){U.call(this),this._moving=!1,this._zooming=!1,this.transform=q,this._bearingSnap=ne.bearingSnap,f.bindAll(["_renderFrameCallback"],this)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.getCenter=function(){return new f.LngLat(this.transform.center.lng,this.transform.center.lat)},$.prototype.setCenter=function(q,ne){return this.jumpTo({center:q},ne)},$.prototype.panBy=function(q,ne,_e){return q=f.Point.convert(q).mult(-1),this.panTo(this.transform.center,f.extend({offset:q},ne),_e)},$.prototype.panTo=function(q,ne,_e){return this.easeTo(f.extend({center:q},ne),_e)},$.prototype.getZoom=function(){return this.transform.zoom},$.prototype.setZoom=function(q,ne){return this.jumpTo({zoom:q},ne),this},$.prototype.zoomTo=function(q,ne,_e){return this.easeTo(f.extend({zoom:q},ne),_e)},$.prototype.zoomIn=function(q,ne){return this.zoomTo(this.getZoom()+1,q,ne),this},$.prototype.zoomOut=function(q,ne){return this.zoomTo(this.getZoom()-1,q,ne),this},$.prototype.getBearing=function(){return this.transform.bearing},$.prototype.setBearing=function(q,ne){return this.jumpTo({bearing:q},ne),this},$.prototype.getPadding=function(){return this.transform.padding},$.prototype.setPadding=function(q,ne){return this.jumpTo({padding:q},ne),this},$.prototype.rotateTo=function(q,ne,_e){return this.easeTo(f.extend({bearing:q},ne),_e)},$.prototype.resetNorth=function(q,ne){return this.rotateTo(0,f.extend({duration:1e3},q),ne),this},$.prototype.resetNorthPitch=function(q,ne){return this.easeTo(f.extend({bearing:0,pitch:0,duration:1e3},q),ne),this},$.prototype.snapToNorth=function(q,ne){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(q,ne):this},$.prototype.getPitch=function(){return this.transform.pitch},$.prototype.setPitch=function(q,ne){return this.jumpTo({pitch:q},ne),this},$.prototype.cameraForBounds=function(q,ne){return q=f.LngLatBounds.convert(q),this._cameraForBoxAndBearing(q.getNorthWest(),q.getSouthEast(),0,ne)},$.prototype._cameraForBoxAndBearing=function(q,ne,_e,Pe){var V={top:0,bottom:0,right:0,left:0};if("number"==typeof(Pe=f.extend({padding:V,offset:[0,0],maxZoom:this.transform.maxZoom},Pe)).padding){var ie=Pe.padding;Pe.padding={top:ie,bottom:ie,right:ie,left:ie}}Pe.padding=f.extend(V,Pe.padding);var ce=this.transform,Me=ce.padding,Ce=ce.project(f.LngLat.convert(q)),Ne=ce.project(f.LngLat.convert(ne)),$e=Ce.rotate(-_e*Math.PI/180),Xe=Ne.rotate(-_e*Math.PI/180),Qe=new f.Point(Math.max($e.x,Xe.x),Math.max($e.y,Xe.y)),nt=new f.Point(Math.min($e.x,Xe.x),Math.min($e.y,Xe.y)),lt=Qe.sub(nt),xt=(ce.width-(Me.left+Me.right+Pe.padding.left+Pe.padding.right))/lt.x,Mt=(ce.height-(Me.top+Me.bottom+Pe.padding.top+Pe.padding.bottom))/lt.y;if(!(Mt<0||xt<0)){var Bt=Math.min(ce.scaleZoom(ce.scale*Math.min(xt,Mt)),Pe.maxZoom),Vt=f.Point.convert(Pe.offset),Ut=new f.Point(Vt.x+(Pe.padding.left-Pe.padding.right)/2,Vt.y+(Pe.padding.top-Pe.padding.bottom)/2).mult(ce.scale/ce.zoomScale(Bt));return{center:ce.unproject(Ce.add(Ne).div(2).sub(Ut)),zoom:Bt,bearing:_e}}f.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},$.prototype.fitBounds=function(q,ne,_e){return this._fitInternal(this.cameraForBounds(q,ne),ne,_e)},$.prototype.fitScreenCoordinates=function(q,ne,_e,Pe,V){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(f.Point.convert(q)),this.transform.pointLocation(f.Point.convert(ne)),_e,Pe),Pe,V)},$.prototype._fitInternal=function(q,ne,_e){return q?(delete(ne=f.extend(q,ne)).padding,ne.linear?this.easeTo(ne,_e):this.flyTo(ne,_e)):this},$.prototype.jumpTo=function(q,ne){this.stop();var _e=this.transform,Pe=!1,V=!1,ie=!1;return"zoom"in q&&_e.zoom!==+q.zoom&&(Pe=!0,_e.zoom=+q.zoom),void 0!==q.center&&(_e.center=f.LngLat.convert(q.center)),"bearing"in q&&_e.bearing!==+q.bearing&&(V=!0,_e.bearing=+q.bearing),"pitch"in q&&_e.pitch!==+q.pitch&&(ie=!0,_e.pitch=+q.pitch),null==q.padding||_e.isPaddingEqual(q.padding)||(_e.padding=q.padding),this.fire(new f.Event("movestart",ne)).fire(new f.Event("move",ne)),Pe&&this.fire(new f.Event("zoomstart",ne)).fire(new f.Event("zoom",ne)).fire(new f.Event("zoomend",ne)),V&&this.fire(new f.Event("rotatestart",ne)).fire(new f.Event("rotate",ne)).fire(new f.Event("rotateend",ne)),ie&&this.fire(new f.Event("pitchstart",ne)).fire(new f.Event("pitch",ne)).fire(new f.Event("pitchend",ne)),this.fire(new f.Event("moveend",ne))},$.prototype.easeTo=function(q,ne){var _e=this;this._stop(!1,q.easeId),(!1===(q=f.extend({offset:[0,0],duration:500,easing:f.ease},q)).animate||!q.essential&&f.browser.prefersReducedMotion)&&(q.duration=0);var Pe=this.transform,V=this.getZoom(),ie=this.getBearing(),ce=this.getPitch(),Me=this.getPadding(),Ce="zoom"in q?+q.zoom:V,Ne="bearing"in q?this._normalizeBearing(q.bearing,ie):ie,$e="pitch"in q?+q.pitch:ce,Xe="padding"in q?q.padding:Pe.padding,Qe=f.Point.convert(q.offset),nt=Pe.centerPoint.add(Qe),lt=Pe.pointLocation(nt),xt=f.LngLat.convert(q.center||lt);this._normalizeCenter(xt);var Mt,Bt,Vt=Pe.project(lt),jt=Pe.project(xt).sub(Vt),Xt=Pe.zoomScale(Ce-V);q.around&&(Mt=f.LngLat.convert(q.around),Bt=Pe.locationPoint(Mt));var Ut={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Ce!==V,this._rotating=this._rotating||ie!==Ne,this._pitching=this._pitching||$e!==ce,this._padding=!Pe.isPaddingEqual(Xe),this._easeId=q.easeId,this._prepareEase(ne,q.noMoveStart,Ut),clearTimeout(this._easeEndTimeoutID),this._ease(function(gn){if(_e._zooming&&(Pe.zoom=f.number(V,Ce,gn)),_e._rotating&&(Pe.bearing=f.number(ie,Ne,gn)),_e._pitching&&(Pe.pitch=f.number(ce,$e,gn)),_e._padding&&(Pe.interpolatePadding(Me,Xe,gn),nt=Pe.centerPoint.add(Qe)),Mt)Pe.setLocationAtPoint(Mt,Bt);else{var sn=Pe.zoomScale(Pe.zoom-V),rn=Ce>V?Math.min(2,Xt):Math.max(.5,Xt),En=Math.pow(rn,1-gn),On=Pe.unproject(Vt.add(jt.mult(gn*En)).mult(sn));Pe.setLocationAtPoint(Pe.renderWorldCopies?On.wrap():On,nt)}_e._fireMoveEvents(ne)},function(gn){_e._afterEase(ne,gn)},q),this},$.prototype._prepareEase=function(q,ne,_e){void 0===_e&&(_e={}),this._moving=!0,ne||_e.moving||this.fire(new f.Event("movestart",q)),this._zooming&&!_e.zooming&&this.fire(new f.Event("zoomstart",q)),this._rotating&&!_e.rotating&&this.fire(new f.Event("rotatestart",q)),this._pitching&&!_e.pitching&&this.fire(new f.Event("pitchstart",q))},$.prototype._fireMoveEvents=function(q){this.fire(new f.Event("move",q)),this._zooming&&this.fire(new f.Event("zoom",q)),this._rotating&&this.fire(new f.Event("rotate",q)),this._pitching&&this.fire(new f.Event("pitch",q))},$.prototype._afterEase=function(q,ne){if(!this._easeId||!ne||this._easeId!==ne){delete this._easeId;var _e=this._zooming,Pe=this._rotating,V=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,_e&&this.fire(new f.Event("zoomend",q)),Pe&&this.fire(new f.Event("rotateend",q)),V&&this.fire(new f.Event("pitchend",q)),this.fire(new f.Event("moveend",q))}},$.prototype.flyTo=function(q,ne){var _e=this;if(!q.essential&&f.browser.prefersReducedMotion){var Pe=f.pick(q,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Pe,ne)}this.stop(),q=f.extend({offset:[0,0],speed:1.2,curve:1.42,easing:f.ease},q);var V=this.transform,ie=this.getZoom(),ce=this.getBearing(),Me=this.getPitch(),Ce=this.getPadding(),Ne="zoom"in q?f.clamp(+q.zoom,V.minZoom,V.maxZoom):ie,$e="bearing"in q?this._normalizeBearing(q.bearing,ce):ce,Xe="pitch"in q?+q.pitch:Me,Qe="padding"in q?q.padding:V.padding,nt=V.zoomScale(Ne-ie),lt=f.Point.convert(q.offset),xt=V.centerPoint.add(lt),Mt=V.pointLocation(xt),Bt=f.LngLat.convert(q.center||Mt);this._normalizeCenter(Bt);var Vt=V.project(Mt),jt=V.project(Bt).sub(Vt),Xt=q.curve,Ut=Math.max(V.width,V.height),gn=Ut/nt,sn=jt.mag();if("minZoom"in q){var rn=f.clamp(Math.min(q.minZoom,ie,Ne),V.minZoom,V.maxZoom),En=Ut/V.zoomScale(rn-ie);Xt=Math.sqrt(En/sn*2)}var On=Xt*Xt;function $n(ir){var Tr=(gn*gn-Ut*Ut+(ir?-1:1)*On*On*sn*sn)/(2*(ir?gn:Ut)*On*sn);return Math.log(Math.sqrt(Tr*Tr+1)-Tr)}function tr(ir){return(Math.exp(ir)-Math.exp(-ir))/2}function ur(ir){return(Math.exp(ir)+Math.exp(-ir))/2}var yr=$n(0),Cr=function(ir){return ur(yr)/ur(yr+Xt*ir)},Ar=function(ir){return Ut*((ur(yr)*(tr(Tr=yr+Xt*ir)/ur(Tr))-tr(yr))/On)/sn;var Tr},Fr=($n(1)-yr)/Xt;if(Math.abs(sn)<1e-6||!isFinite(Fr)){if(Math.abs(Ut-gn)<1e-6)return this.easeTo(q,ne);var $r=gn<Ut?-1:1;Fr=Math.abs(Math.log(gn/Ut))/Xt,Ar=function(){return 0},Cr=function(ir){return Math.exp($r*Xt*ir)}}return q.duration="duration"in q?+q.duration:1e3*Fr/("screenSpeed"in q?+q.screenSpeed/Xt:+q.speed),q.maxDuration&&q.duration>q.maxDuration&&(q.duration=0),this._zooming=!0,this._rotating=ce!==$e,this._pitching=Xe!==Me,this._padding=!V.isPaddingEqual(Qe),this._prepareEase(ne,!1),this._ease(function(ir){var Tr=ir*Fr,zr=1/Cr(Tr);V.zoom=1===ir?Ne:ie+V.scaleZoom(zr),_e._rotating&&(V.bearing=f.number(ce,$e,ir)),_e._pitching&&(V.pitch=f.number(Me,Xe,ir)),_e._padding&&(V.interpolatePadding(Ce,Qe,ir),xt=V.centerPoint.add(lt));var Kr=1===ir?Bt:V.unproject(Vt.add(jt.mult(Ar(Tr))).mult(zr));V.setLocationAtPoint(V.renderWorldCopies?Kr.wrap():Kr,xt),_e._fireMoveEvents(ne)},function(){return _e._afterEase(ne)},q),this},$.prototype.isEasing=function(){return!!this._easeFrameId},$.prototype.stop=function(){return this._stop()},$.prototype._stop=function(q,ne){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var _e=this._onEaseEnd;delete this._onEaseEnd,_e.call(this,ne)}if(!q){var Pe=this.handlers;Pe&&Pe.stop()}return this},$.prototype._ease=function(q,ne,_e){!1===_e.animate||0===_e.duration?(q(1),ne()):(this._easeStart=f.browser.now(),this._easeOptions=_e,this._onEaseFrame=q,this._onEaseEnd=ne,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},$.prototype._renderFrameCallback=function(){var q=Math.min((f.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(q)),q<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},$.prototype._normalizeBearing=function(q,ne){q=f.wrap(q,-180,180);var _e=Math.abs(q-ne);return Math.abs(q-360-ne)<_e&&(q-=360),Math.abs(q+360-ne)<_e&&(q+=360),q},$.prototype._normalizeCenter=function(q){var ne=this.transform;if(ne.renderWorldCopies&&!ne.lngRange){var _e=q.lng-ne.center.lng;q.lng+=_e>180?-360:_e<-180?360:0}},$}(f.Evented),po=function(U){void 0===U&&(U={}),this.options=U,f.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};po.prototype.getDefaultPosition=function(){return"bottom-right"},po.prototype.onAdd=function(U){var $=this.options&&this.options.compact;return this._map=U,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=M.create("div","mapboxgl-ctrl-attrib-inner",this._container),$&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===$&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},po.prototype.onRemove=function(){M.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},po.prototype._updateEditLink=function(){var U=this._editLink;U||(U=this._editLink=this._container.querySelector(".mapbox-improve-map"));var $=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||f.config.ACCESS_TOKEN}];if(U){var q=$.reduce(function(ne,_e,Pe){return _e.value&&(ne+=_e.key+"="+_e.value+(Pe<$.length-1?"&":"")),ne},"?");U.href=f.config.FEEDBACK_URL+"/"+q+(this._map._hash?this._map._hash.getHashString(!0):""),U.rel="noopener nofollow"}},po.prototype._updateData=function(U){!U||"metadata"!==U.sourceDataType&&"style"!==U.dataType||(this._updateAttributions(),this._updateEditLink())},po.prototype._updateAttributions=function(){if(this._map.style){var U=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?U=U.concat(this.options.customAttribution.map(function(ie){return"string"!=typeof ie?"":ie})):"string"==typeof this.options.customAttribution&&U.push(this.options.customAttribution)),this._map.style.stylesheet){var $=this._map.style.stylesheet;this.styleOwner=$.owner,this.styleId=$.id}var q=this._map.style.sourceCaches;for(var ne in q){var _e=q[ne];if(_e.used){var Pe=_e.getSource();Pe.attribution&&U.indexOf(Pe.attribution)<0&&U.push(Pe.attribution)}}U.sort(function(ie,ce){return ie.length-ce.length});var V=(U=U.filter(function(ie,ce){for(var Me=ce+1;Me<U.length;Me++)if(U[Me].indexOf(ie)>=0)return!1;return!0})).join(" | ");V!==this._attribHTML&&(this._attribHTML=V,U.length?(this._innerContainer.innerHTML=V,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},po.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var aa=function(){f.bindAll(["_updateLogo"],this),f.bindAll(["_updateCompact"],this)};aa.prototype.onAdd=function(U){this._map=U,this._container=M.create("div","mapboxgl-ctrl");var $=M.create("a","mapboxgl-ctrl-logo");return $.target="_blank",$.rel="noopener nofollow",$.href="https://www.mapbox.com/",$.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),$.setAttribute("rel","noopener nofollow"),this._container.appendChild($),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},aa.prototype.onRemove=function(){M.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},aa.prototype.getDefaultPosition=function(){return"bottom-left"},aa.prototype._updateLogo=function(U){U&&"metadata"!==U.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},aa.prototype._logoRequired=function(){if(this._map.style){var U=this._map.style.sourceCaches;for(var $ in U)if(U[$].getSource().mapbox_logo)return!0;return!1}},aa.prototype._updateCompact=function(){var U=this._container.children;if(U.length){var $=U[0];this._map.getCanvasContainer().offsetWidth<250?$.classList.add("mapboxgl-compact"):$.classList.remove("mapboxgl-compact")}};var Ts=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ts.prototype.add=function(U){var $=++this._id;return this._queue.push({callback:U,id:$,cancelled:!1}),$},Ts.prototype.remove=function(U){for(var $=this._currentlyRunning,q=0,ne=$?this._queue.concat($):this._queue;q<ne.length;q+=1){var _e=ne[q];if(_e.id===U)return void(_e.cancelled=!0)}},Ts.prototype.run=function(U){void 0===U&&(U=0);var $=this._currentlyRunning=this._queue;this._queue=[];for(var q=0,ne=$;q<ne.length;q+=1){var _e=ne[q];if(!_e.cancelled&&(_e.callback(U),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ts.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Ja={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Uo=f.window.HTMLImageElement,eo=f.window.HTMLElement,xa=f.window.ImageBitmap,Vo=60,Js={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:Vo,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Su=function(U){function $(ne){var _e=this;if(null!=(ne=f.extend({},Js,ne)).minZoom&&null!=ne.maxZoom&&ne.minZoom>ne.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=ne.minPitch&&null!=ne.maxPitch&&ne.minPitch>ne.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=ne.minPitch&&ne.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=ne.maxPitch&&ne.maxPitch>Vo)throw new Error("maxPitch must be less than or equal to 60");var Pe=new di(ne.minZoom,ne.maxZoom,ne.minPitch,ne.maxPitch,ne.renderWorldCopies);if(U.call(this,Pe,ne),this._interactive=ne.interactive,this._maxTileCacheSize=ne.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ne.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ne.preserveDrawingBuffer,this._antialias=ne.antialias,this._trackResize=ne.trackResize,this._bearingSnap=ne.bearingSnap,this._refreshExpiredTiles=ne.refreshExpiredTiles,this._fadeDuration=ne.fadeDuration,this._crossSourceCollisions=ne.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ne.collectResourceTiming,this._renderTaskQueue=new Ts,this._controls=[],this._mapId=f.uniqueId(),this._locale=f.extend({},Ja,ne.locale),this._requestManager=new f.RequestManager(ne.transformRequest,ne.accessToken),"string"==typeof ne.container){if(this._container=f.window.document.getElementById(ne.container),!this._container)throw new Error("Container '"+ne.container+"' not found.")}else{if(!(ne.container instanceof eo))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=ne.container}if(ne.maxBounds&&this.setMaxBounds(ne.maxBounds),f.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return _e._update(!1)}),this.on("moveend",function(){return _e._update(!1)}),this.on("zoom",function(){return _e._update(!0)}),void 0!==f.window&&(f.window.addEventListener("online",this._onWindowOnline,!1),f.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new oo(this,ne),this._hash=ne.hash&&new wl("string"==typeof ne.hash&&ne.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:ne.center,zoom:ne.zoom,bearing:ne.bearing,pitch:ne.pitch}),ne.bounds&&(this.resize(),this.fitBounds(ne.bounds,f.extend({},ne.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ne.localIdeographFontFamily,ne.style&&this.setStyle(ne.style,{localIdeographFontFamily:ne.localIdeographFontFamily}),ne.attributionControl&&this.addControl(new po({customAttribution:ne.customAttribution})),this.addControl(new aa,ne.logoPosition),this.on("style.load",function(){_e.transform.unmodified&&_e.jumpTo(_e.style.stylesheet)}),this.on("data",function(ie){_e._update("style"===ie.dataType),_e.fire(new f.Event(ie.dataType+"data",ie))}),this.on("dataloading",function(ie){_e.fire(new f.Event(ie.dataType+"dataloading",ie))})}U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$;var q={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return $.prototype._getMapId=function(){return this._mapId},$.prototype.addControl=function(ne,_e){if(void 0===_e&&ne.getDefaultPosition&&(_e=ne.getDefaultPosition()),void 0===_e&&(_e="top-right"),!ne||!ne.onAdd)return this.fire(new f.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Pe=ne.onAdd(this);this._controls.push(ne);var V=this._controlPositions[_e];return-1!==_e.indexOf("bottom")?V.insertBefore(Pe,V.firstChild):V.appendChild(Pe),this},$.prototype.removeControl=function(ne){if(!ne||!ne.onRemove)return this.fire(new f.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var _e=this._controls.indexOf(ne);return _e>-1&&this._controls.splice(_e,1),ne.onRemove(this),this},$.prototype.resize=function(ne){var _e=this._containerDimensions(),Pe=_e[0],V=_e[1];this._resizeCanvas(Pe,V),this.transform.resize(Pe,V),this.painter.resize(Pe,V);var ie=!this._moving;return ie&&(this.stop(),this.fire(new f.Event("movestart",ne)).fire(new f.Event("move",ne))),this.fire(new f.Event("resize",ne)),ie&&this.fire(new f.Event("moveend",ne)),this},$.prototype.getBounds=function(){return this.transform.getBounds()},$.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},$.prototype.setMaxBounds=function(ne){return this.transform.setMaxBounds(f.LngLatBounds.convert(ne)),this._update()},$.prototype.setMinZoom=function(ne){if((ne=ne??-2)>=-2&&ne<=this.transform.maxZoom)return this.transform.minZoom=ne,this._update(),this.getZoom()<ne&&this.setZoom(ne),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},$.prototype.getMinZoom=function(){return this.transform.minZoom},$.prototype.setMaxZoom=function(ne){if((ne=ne??22)>=this.transform.minZoom)return this.transform.maxZoom=ne,this._update(),this.getZoom()>ne&&this.setZoom(ne),this;throw new Error("maxZoom must be greater than the current minZoom")},$.prototype.getMaxZoom=function(){return this.transform.maxZoom},$.prototype.setMinPitch=function(ne){if((ne=ne??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(ne>=0&&ne<=this.transform.maxPitch)return this.transform.minPitch=ne,this._update(),this.getPitch()<ne&&this.setPitch(ne),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},$.prototype.getMinPitch=function(){return this.transform.minPitch},$.prototype.setMaxPitch=function(ne){if((ne=ne??Vo)>Vo)throw new Error("maxPitch must be less than or equal to 60");if(ne>=this.transform.minPitch)return this.transform.maxPitch=ne,this._update(),this.getPitch()>ne&&this.setPitch(ne),this;throw new Error("maxPitch must be greater than the current minPitch")},$.prototype.getMaxPitch=function(){return this.transform.maxPitch},$.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},$.prototype.setRenderWorldCopies=function(ne){return this.transform.renderWorldCopies=ne,this._update()},$.prototype.project=function(ne){return this.transform.locationPoint(f.LngLat.convert(ne))},$.prototype.unproject=function(ne){return this.transform.pointLocation(f.Point.convert(ne))},$.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},$.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},$.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},$.prototype._createDelegatedListener=function(ne,_e,Pe){var V,ie=this;if("mouseenter"===ne||"mouseover"===ne){var ce=!1;return{layer:_e,listener:Pe,delegates:{mousemove:function(Ce){var Ne=ie.getLayer(_e)?ie.queryRenderedFeatures(Ce.point,{layers:[_e]}):[];Ne.length?ce||(ce=!0,Pe.call(ie,new Co(ne,ie,Ce.originalEvent,{features:Ne}))):ce=!1},mouseout:function(){ce=!1}}}}if("mouseleave"===ne||"mouseout"===ne){var Me=!1;return{layer:_e,listener:Pe,delegates:{mousemove:function(Ce){(ie.getLayer(_e)?ie.queryRenderedFeatures(Ce.point,{layers:[_e]}):[]).length?Me=!0:Me&&(Me=!1,Pe.call(ie,new Co(ne,ie,Ce.originalEvent)))},mouseout:function(Ce){Me&&(Me=!1,Pe.call(ie,new Co(ne,ie,Ce.originalEvent)))}}}}return{layer:_e,listener:Pe,delegates:(V={},V[ne]=function(Ce){var Ne=ie.getLayer(_e)?ie.queryRenderedFeatures(Ce.point,{layers:[_e]}):[];Ne.length&&(Ce.features=Ne,Pe.call(ie,Ce),delete Ce.features)},V)}},$.prototype.on=function(ne,_e,Pe){if(void 0===Pe)return U.prototype.on.call(this,ne,_e);var V=this._createDelegatedListener(ne,_e,Pe);for(var ie in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ne]=this._delegatedListeners[ne]||[],this._delegatedListeners[ne].push(V),V.delegates)this.on(ie,V.delegates[ie]);return this},$.prototype.once=function(ne,_e,Pe){if(void 0===Pe)return U.prototype.once.call(this,ne,_e);var V=this._createDelegatedListener(ne,_e,Pe);for(var ie in V.delegates)this.once(ie,V.delegates[ie]);return this},$.prototype.off=function(ne,_e,Pe){var V=this;return void 0===Pe?U.prototype.off.call(this,ne,_e):(this._delegatedListeners&&this._delegatedListeners[ne]&&function(ie){for(var ce=ie[ne],Me=0;Me<ce.length;Me++){var Ce=ce[Me];if(Ce.layer===_e&&Ce.listener===Pe){for(var Ne in Ce.delegates)V.off(Ne,Ce.delegates[Ne]);return ce.splice(Me,1),V}}}(this._delegatedListeners),this)},$.prototype.queryRenderedFeatures=function(ne,_e){if(!this.style)return[];var Pe;if(void 0!==_e||void 0===ne||ne instanceof f.Point||Array.isArray(ne)||(_e=ne,ne=void 0),_e=_e||{},(ne=ne||[[0,0],[this.transform.width,this.transform.height]])instanceof f.Point||"number"==typeof ne[0])Pe=[f.Point.convert(ne)];else{var V=f.Point.convert(ne[0]),ie=f.Point.convert(ne[1]);Pe=[V,new f.Point(ie.x,V.y),ie,new f.Point(V.x,ie.y),V]}return this.style.queryRenderedFeatures(Pe,_e,this.transform)},$.prototype.querySourceFeatures=function(ne,_e){return this.style.querySourceFeatures(ne,_e)},$.prototype.setStyle=function(ne,_e){return!1!==(_e=f.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},_e)).diff&&_e.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ne?(this._diffStyle(ne,_e),this):(this._localIdeographFontFamily=_e.localIdeographFontFamily,this._updateStyle(ne,_e))},$.prototype._getUIString=function(ne){var _e=this._locale[ne];if(null==_e)throw new Error("Missing UI string '"+ne+"'");return _e},$.prototype._updateStyle=function(ne,_e){return this.style&&(this.style.setEventedParent(null),this.style._remove()),ne?(this.style=new lr(this,_e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof ne?this.style.loadURL(ne):this.style.loadJSON(ne),this):(delete this.style,this)},$.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new lr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},$.prototype._diffStyle=function(ne,_e){var Pe=this;if("string"==typeof ne){var V=this._requestManager.normalizeStyleURL(ne),ie=this._requestManager.transformRequest(V,f.ResourceType.Style);f.getJSON(ie,function(ce,Me){ce?Pe.fire(new f.ErrorEvent(ce)):Me&&Pe._updateDiff(Me,_e)})}else"object"==typeof ne&&this._updateDiff(ne,_e)},$.prototype._updateDiff=function(ne,_e){try{this.style.setState(ne)&&this._update(!0)}catch(Pe){f.warnOnce("Unable to perform style diff: "+(Pe.message||Pe.error||Pe)+".  Rebuilding the style from scratch."),this._updateStyle(ne,_e)}},$.prototype.getStyle=function(){if(this.style)return this.style.serialize()},$.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():f.warnOnce("There is no style added to the map.")},$.prototype.addSource=function(ne,_e){return this._lazyInitEmptyStyle(),this.style.addSource(ne,_e),this._update(!0)},$.prototype.isSourceLoaded=function(ne){var _e=this.style&&this.style.sourceCaches[ne];if(void 0!==_e)return _e.loaded();this.fire(new f.ErrorEvent(new Error("There is no source with ID '"+ne+"'")))},$.prototype.areTilesLoaded=function(){var ne=this.style&&this.style.sourceCaches;for(var _e in ne){var Pe=ne[_e]._tiles;for(var V in Pe){var ie=Pe[V];if("loaded"!==ie.state&&"errored"!==ie.state)return!1}}return!0},$.prototype.addSourceType=function(ne,_e,Pe){return this._lazyInitEmptyStyle(),this.style.addSourceType(ne,_e,Pe)},$.prototype.removeSource=function(ne){return this.style.removeSource(ne),this._update(!0)},$.prototype.getSource=function(ne){return this.style.getSource(ne)},$.prototype.addImage=function(ne,_e,Pe){void 0===Pe&&(Pe={});var V=Pe.pixelRatio;void 0===V&&(V=1);var ie=Pe.sdf;void 0===ie&&(ie=!1);var ce=Pe.stretchX,Me=Pe.stretchY,Ce=Pe.content;if(this._lazyInitEmptyStyle(),_e instanceof Uo||xa&&_e instanceof xa){var Ne=f.browser.getImageData(_e);this.style.addImage(ne,{data:new f.RGBAImage({width:Ne.width,height:Ne.height},Ne.data),pixelRatio:V,stretchX:ce,stretchY:Me,content:Ce,sdf:ie,version:0})}else{if(void 0===_e.width||void 0===_e.height)return this.fire(new f.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Mt=_e;this.style.addImage(ne,{data:new f.RGBAImage({width:_e.width,height:_e.height},new Uint8Array(_e.data)),pixelRatio:V,stretchX:ce,stretchY:Me,content:Ce,sdf:ie,version:0,userImage:Mt}),Mt.onAdd&&Mt.onAdd(this,ne)}},$.prototype.updateImage=function(ne,_e){var Pe=this.style.getImage(ne);if(!Pe)return this.fire(new f.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var V=_e instanceof Uo||xa&&_e instanceof xa?f.browser.getImageData(_e):_e,ie=V.width,ce=V.height,Me=V.data;return void 0===ie||void 0===ce?this.fire(new f.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):ie!==Pe.data.width||ce!==Pe.data.height?this.fire(new f.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(Pe.data.replace(Me,!(_e instanceof Uo||xa&&_e instanceof xa)),void this.style.updateImage(ne,Pe))},$.prototype.hasImage=function(ne){return ne?!!this.style.getImage(ne):(this.fire(new f.ErrorEvent(new Error("Missing required image id"))),!1)},$.prototype.removeImage=function(ne){this.style.removeImage(ne)},$.prototype.loadImage=function(ne,_e){f.getImage(this._requestManager.transformRequest(ne,f.ResourceType.Image),_e)},$.prototype.listImages=function(){return this.style.listImages()},$.prototype.addLayer=function(ne,_e){return this._lazyInitEmptyStyle(),this.style.addLayer(ne,_e),this._update(!0)},$.prototype.moveLayer=function(ne,_e){return this.style.moveLayer(ne,_e),this._update(!0)},$.prototype.removeLayer=function(ne){return this.style.removeLayer(ne),this._update(!0)},$.prototype.getLayer=function(ne){return this.style.getLayer(ne)},$.prototype.setLayerZoomRange=function(ne,_e,Pe){return this.style.setLayerZoomRange(ne,_e,Pe),this._update(!0)},$.prototype.setFilter=function(ne,_e,Pe){return void 0===Pe&&(Pe={}),this.style.setFilter(ne,_e,Pe),this._update(!0)},$.prototype.getFilter=function(ne){return this.style.getFilter(ne)},$.prototype.setPaintProperty=function(ne,_e,Pe,V){return void 0===V&&(V={}),this.style.setPaintProperty(ne,_e,Pe,V),this._update(!0)},$.prototype.getPaintProperty=function(ne,_e){return this.style.getPaintProperty(ne,_e)},$.prototype.setLayoutProperty=function(ne,_e,Pe,V){return void 0===V&&(V={}),this.style.setLayoutProperty(ne,_e,Pe,V),this._update(!0)},$.prototype.getLayoutProperty=function(ne,_e){return this.style.getLayoutProperty(ne,_e)},$.prototype.setLight=function(ne,_e){return void 0===_e&&(_e={}),this._lazyInitEmptyStyle(),this.style.setLight(ne,_e),this._update(!0)},$.prototype.getLight=function(){return this.style.getLight()},$.prototype.setFeatureState=function(ne,_e){return this.style.setFeatureState(ne,_e),this._update()},$.prototype.removeFeatureState=function(ne,_e){return this.style.removeFeatureState(ne,_e),this._update()},$.prototype.getFeatureState=function(ne){return this.style.getFeatureState(ne)},$.prototype.getContainer=function(){return this._container},$.prototype.getCanvasContainer=function(){return this._canvasContainer},$.prototype.getCanvas=function(){return this._canvas},$.prototype._containerDimensions=function(){var ne=0,_e=0;return this._container&&(ne=this._container.clientWidth||400,_e=this._container.clientHeight||300),[ne,_e]},$.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==f.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&f.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},$.prototype._setupContainer=function(){var ne=this._container;ne.classList.add("mapboxgl-map"),(this._missingCSSCanary=M.create("div","mapboxgl-canary",ne)).style.visibility="hidden",this._detectMissingCSS();var _e=this._canvasContainer=M.create("div","mapboxgl-canvas-container",ne);this._interactive&&_e.classList.add("mapboxgl-interactive"),this._canvas=M.create("canvas","mapboxgl-canvas",_e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var Pe=this._containerDimensions();this._resizeCanvas(Pe[0],Pe[1]);var V=this._controlContainer=M.create("div","mapboxgl-control-container",ne),ie=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(ce){ie[ce]=M.create("div","mapboxgl-ctrl-"+ce,V)})},$.prototype._resizeCanvas=function(ne,_e){var Pe=f.browser.devicePixelRatio||1;this._canvas.width=Pe*ne,this._canvas.height=Pe*_e,this._canvas.style.width=ne+"px",this._canvas.style.height=_e+"px"},$.prototype._setupPainter=function(){var ne=f.extend({},S.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),_e=this._canvas.getContext("webgl",ne)||this._canvas.getContext("experimental-webgl",ne);_e?(this.painter=new Vi(_e,this.transform),f.webpSupported.testSupport(_e)):this.fire(new f.ErrorEvent(new Error("Failed to initialize WebGL")))},$.prototype._contextLost=function(ne){ne.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new f.Event("webglcontextlost",{originalEvent:ne}))},$.prototype._contextRestored=function(ne){this._setupPainter(),this.resize(),this._update(),this.fire(new f.Event("webglcontextrestored",{originalEvent:ne}))},$.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},$.prototype._update=function(ne){return this.style?(this._styleDirty=this._styleDirty||ne,this._sourcesDirty=!0,this.triggerRepaint(),this):this},$.prototype._requestRenderFrame=function(ne){return this._update(),this._renderTaskQueue.add(ne)},$.prototype._cancelRenderFrame=function(ne){this._renderTaskQueue.remove(ne)},$.prototype._render=function(ne){var _e,Pe=this,V=0,ie=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(_e=ie.createQueryEXT(),ie.beginQueryEXT(ie.TIME_ELAPSED_EXT,_e),V=f.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ne),!this._removed){var ce=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Me=this.transform.zoom,Ce=f.browser.now();this.style.zoomHistory.update(Me,Ce);var Ne=new f.EvaluationParameters(Me,{now:Ce,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),$e=Ne.crossFadingFactor();1===$e&&$e===this._crossFadingFactor||(ce=!0,this._crossFadingFactor=$e),this.style.update(Ne)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new f.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new f.Event("load"))),this.style&&(this.style.hasTransitions()||ce)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Xe=f.browser.now()-V;ie.endQueryEXT(ie.TIME_ELAPSED_EXT,_e),setTimeout(function(){var nt=ie.getQueryObjectEXT(_e,ie.QUERY_RESULT_EXT)/1e6;ie.deleteQueryEXT(_e),Pe.fire(new f.Event("gpu-timing-frame",{cpuTime:Xe,gpuTime:nt}))},50)}if(this.listens("gpu-timing-layer")){var Qe=this.painter.collectGpuTimers();setTimeout(function(){var nt=Pe.painter.queryGpuTimers(Qe);Pe.fire(new f.Event("gpu-timing-layer",{layerTimes:nt}))},50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new f.Event("idle"))),this}},$.prototype.remove=function(){this._hash&&this._hash.remove();for(var ne=0,_e=this._controls;ne<_e.length;ne+=1)_e[ne].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==f.window&&(f.window.removeEventListener("resize",this._onWindowResize,!1),f.window.removeEventListener("online",this._onWindowOnline,!1));var Pe=this.painter.context.gl.getExtension("WEBGL_lose_context");Pe&&Pe.loseContext(),au(this._canvasContainer),au(this._controlContainer),au(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new f.Event("remove"))},$.prototype.triggerRepaint=function(){var ne=this;this.style&&!this._frame&&(this._frame=f.browser.frame(function(_e){ne._frame=null,ne._render(_e)}))},$.prototype._onWindowOnline=function(){this._update()},$.prototype._onWindowResize=function(ne){this._trackResize&&this.resize({originalEvent:ne})._update()},q.showTileBoundaries.get=function(){return!!this._showTileBoundaries},q.showTileBoundaries.set=function(ne){this._showTileBoundaries!==ne&&(this._showTileBoundaries=ne,this._update())},q.showPadding.get=function(){return!!this._showPadding},q.showPadding.set=function(ne){this._showPadding!==ne&&(this._showPadding=ne,this._update())},q.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},q.showCollisionBoxes.set=function(ne){this._showCollisionBoxes!==ne&&(this._showCollisionBoxes=ne,ne?this.style._generateCollisionBoxes():this._update())},q.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},q.showOverdrawInspector.set=function(ne){this._showOverdrawInspector!==ne&&(this._showOverdrawInspector=ne,this._update())},q.repaint.get=function(){return!!this._repaint},q.repaint.set=function(ne){this._repaint!==ne&&(this._repaint=ne,this.triggerRepaint())},q.vertices.get=function(){return!!this._vertices},q.vertices.set=function(ne){this._vertices=ne,this._update()},$.prototype._setCacheLimits=function(ne,_e){f.setCacheLimits(ne,_e)},q.version.get=function(){return f.version},Object.defineProperties($.prototype,q),$}(Hu);function au(U){U.parentNode&&U.parentNode.removeChild(U)}var ls={showCompass:!0,showZoom:!0,visualizePitch:!1},Yo=function(U){var $=this;this.options=f.extend({},ls,U),this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(q){return q.preventDefault()}),this.options.showZoom&&(f.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(q){return $._map.zoomIn({},{originalEvent:q})}),M.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(q){return $._map.zoomOut({},{originalEvent:q})}),M.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(f.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(q){$.options.visualizePitch?$._map.resetNorthPitch({},{originalEvent:q}):$._map.resetNorth({},{originalEvent:q})}),this._compassIcon=M.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Yo.prototype._updateZoomButtons=function(){var U=this._map.getZoom();this._zoomInButton.disabled=U===this._map.getMaxZoom(),this._zoomOutButton.disabled=U===this._map.getMinZoom()},Yo.prototype._rotateCompassArrow=function(){var U=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=U},Yo.prototype.onAdd=function(U){return this._map=U,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new sa(this._map,this._compass,this.options.visualizePitch)),this._container},Yo.prototype.onRemove=function(){M.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Yo.prototype._createButton=function(U,$){var q=M.create("button",U,this._container);return q.type="button",q.addEventListener("click",$),q},Yo.prototype._setButtonTitle=function(U,$){var q=this._map._getUIString("NavigationControl."+$);U.title=q,U.setAttribute("aria-label",q)};var sa=function(U,$,q){void 0===q&&(q=!1),this._clickTolerance=10,this.element=$,this.mouseRotate=new Ys({clickTolerance:U.dragRotate._mouseRotate._clickTolerance}),this.map=U,q&&(this.mousePitch=new Rc({clickTolerance:U.dragRotate._mousePitch._clickTolerance})),f.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),M.addEventListener($,"mousedown",this.mousedown),M.addEventListener($,"touchstart",this.touchstart,{passive:!1}),M.addEventListener($,"touchmove",this.touchmove),M.addEventListener($,"touchend",this.touchend),M.addEventListener($,"touchcancel",this.reset)};function Sr(U,$,q){if(U=new f.LngLat(U.lng,U.lat),$){var ne=new f.LngLat(U.lng-360,U.lat),_e=new f.LngLat(U.lng+360,U.lat),Pe=q.locationPoint(U).distSqr($);q.locationPoint(ne).distSqr($)<Pe?U=ne:q.locationPoint(_e).distSqr($)<Pe&&(U=_e)}for(;Math.abs(U.lng-q.center.lng)>180;){var V=q.locationPoint(U);if(V.x>=0&&V.y>=0&&V.x<=q.width&&V.y<=q.height)break;U.lng>q.center.lng?U.lng-=360:U.lng+=360}return U}sa.prototype.down=function(U,$){this.mouseRotate.mousedown(U,$),this.mousePitch&&this.mousePitch.mousedown(U,$),M.disableDrag()},sa.prototype.move=function(U,$){var q=this.map,ne=this.mouseRotate.mousemoveWindow(U,$);if(ne&&ne.bearingDelta&&q.setBearing(q.getBearing()+ne.bearingDelta),this.mousePitch){var _e=this.mousePitch.mousemoveWindow(U,$);_e&&_e.pitchDelta&&q.setPitch(q.getPitch()+_e.pitchDelta)}},sa.prototype.off=function(){var U=this.element;M.removeEventListener(U,"mousedown",this.mousedown),M.removeEventListener(U,"touchstart",this.touchstart,{passive:!1}),M.removeEventListener(U,"touchmove",this.touchmove),M.removeEventListener(U,"touchend",this.touchend),M.removeEventListener(U,"touchcancel",this.reset),this.offTemp()},sa.prototype.offTemp=function(){M.enableDrag(),M.removeEventListener(f.window,"mousemove",this.mousemove),M.removeEventListener(f.window,"mouseup",this.mouseup)},sa.prototype.mousedown=function(U){this.down(f.extend({},U,{ctrlKey:!0,preventDefault:function(){return U.preventDefault()}}),M.mousePos(this.element,U)),M.addEventListener(f.window,"mousemove",this.mousemove),M.addEventListener(f.window,"mouseup",this.mouseup)},sa.prototype.mousemove=function(U){this.move(U,M.mousePos(this.element,U))},sa.prototype.mouseup=function(U){this.mouseRotate.mouseupWindow(U),this.mousePitch&&this.mousePitch.mouseupWindow(U),this.offTemp()},sa.prototype.touchstart=function(U){1!==U.targetTouches.length?this.reset():(this._startPos=this._lastPos=M.touchPos(this.element,U.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return U.preventDefault()}},this._startPos))},sa.prototype.touchmove=function(U){1!==U.targetTouches.length?this.reset():(this._lastPos=M.touchPos(this.element,U.targetTouches)[0],this.move({preventDefault:function(){return U.preventDefault()}},this._lastPos))},sa.prototype.touchend=function(U){0===U.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},sa.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var si={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function tc(U,$,q){var ne=U.classList;for(var _e in si)ne.remove("mapboxgl-"+q+"-anchor-"+_e);ne.add("mapboxgl-"+q+"-anchor-"+$)}var Va,su=function(U){function $(q,ne){var _e=this;if(U.call(this),(q instanceof f.window.HTMLElement||ne)&&(q=f.extend({element:q},ne)),f.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=q&&q.anchor||"center",this._color=q&&q.color||"#3FB1CE",this._draggable=q&&q.draggable||!1,this._state="inactive",this._rotation=q&&q.rotation||0,this._rotationAlignment=q&&q.rotationAlignment||"auto",this._pitchAlignment=q&&q.pitchAlignment&&"auto"!==q.pitchAlignment?q.pitchAlignment:this._rotationAlignment,q&&q.element)this._element=q.element,this._offset=f.Point.convert(q&&q.offset||[0,0]);else{this._defaultMarker=!0,this._element=M.create("div"),this._element.setAttribute("aria-label","Map marker");var Pe=M.createNS("http://www.w3.org/2000/svg","svg");Pe.setAttributeNS(null,"display","block"),Pe.setAttributeNS(null,"height","41px"),Pe.setAttributeNS(null,"width","27px"),Pe.setAttributeNS(null,"viewBox","0 0 27 41");var V=M.createNS("http://www.w3.org/2000/svg","g");V.setAttributeNS(null,"stroke","none"),V.setAttributeNS(null,"stroke-width","1"),V.setAttributeNS(null,"fill","none"),V.setAttributeNS(null,"fill-rule","evenodd");var ie=M.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"fill-rule","nonzero");var ce=M.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"transform","translate(3.0, 29.0)"),ce.setAttributeNS(null,"fill","#000000");for(var Me=0,Ce=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];Me<Ce.length;Me+=1){var Ne=Ce[Me],$e=M.createNS("http://www.w3.org/2000/svg","ellipse");$e.setAttributeNS(null,"opacity","0.04"),$e.setAttributeNS(null,"cx","10.5"),$e.setAttributeNS(null,"cy","5.80029008"),$e.setAttributeNS(null,"rx",Ne.rx),$e.setAttributeNS(null,"ry",Ne.ry),ce.appendChild($e)}var Xe=M.createNS("http://www.w3.org/2000/svg","g");Xe.setAttributeNS(null,"fill",this._color);var Qe=M.createNS("http://www.w3.org/2000/svg","path");Qe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Xe.appendChild(Qe);var nt=M.createNS("http://www.w3.org/2000/svg","g");nt.setAttributeNS(null,"opacity","0.25"),nt.setAttributeNS(null,"fill","#000000");var lt=M.createNS("http://www.w3.org/2000/svg","path");lt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),nt.appendChild(lt);var xt=M.createNS("http://www.w3.org/2000/svg","g");xt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),xt.setAttributeNS(null,"fill","#FFFFFF");var Mt=M.createNS("http://www.w3.org/2000/svg","g");Mt.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Bt=M.createNS("http://www.w3.org/2000/svg","circle");Bt.setAttributeNS(null,"fill","#000000"),Bt.setAttributeNS(null,"opacity","0.25"),Bt.setAttributeNS(null,"cx","5.5"),Bt.setAttributeNS(null,"cy","5.5"),Bt.setAttributeNS(null,"r","5.4999962");var Vt=M.createNS("http://www.w3.org/2000/svg","circle");Vt.setAttributeNS(null,"fill","#FFFFFF"),Vt.setAttributeNS(null,"cx","5.5"),Vt.setAttributeNS(null,"cy","5.5"),Vt.setAttributeNS(null,"r","5.4999962"),Mt.appendChild(Bt),Mt.appendChild(Vt),ie.appendChild(ce),ie.appendChild(Xe),ie.appendChild(nt),ie.appendChild(xt),ie.appendChild(Mt),Pe.appendChild(ie),this._element.appendChild(Pe),this._offset=f.Point.convert(q&&q.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(jt){jt.preventDefault()}),this._element.addEventListener("mousedown",function(jt){jt.preventDefault()}),this._element.addEventListener("focus",function(){var jt=_e._map.getContainer();jt.scrollTop=0,jt.scrollLeft=0}),tc(this._element,this._anchor,"marker"),this._popup=null}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.addTo=function(q){return this.remove(),this._map=q,q.getCanvasContainer().appendChild(this._element),q.on("move",this._update),q.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},$.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),M.remove(this._element),this._popup&&this._popup.remove(),this},$.prototype.getLngLat=function(){return this._lngLat},$.prototype.setLngLat=function(q){return this._lngLat=f.LngLat.convert(q),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},$.prototype.getElement=function(){return this._element},$.prototype.setPopup=function(q){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),q){if(!("offset"in q.options)){var _e=Math.sqrt(Math.pow(13.5,2)/2);q.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[_e,-1*(24.6+_e)],"bottom-right":[-_e,-1*(24.6+_e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=q,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},$.prototype._onKeyPress=function(q){var ne=q.code,_e=q.charCode||q.keyCode;"Space"!==ne&&"Enter"!==ne&&32!==_e&&13!==_e||this.togglePopup()},$.prototype._onMapClick=function(q){var ne=q.originalEvent.target,_e=this._element;this._popup&&(ne===_e||_e.contains(ne))&&this.togglePopup()},$.prototype.getPopup=function(){return this._popup},$.prototype.togglePopup=function(){var q=this._popup;return q?(q.isOpen()?q.remove():q.addTo(this._map),this):this},$.prototype._update=function(q){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Sr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ne="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?ne="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(ne="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var _e="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?_e="rotateX(0deg)":"map"===this._pitchAlignment&&(_e="rotateX("+this._map.getPitch()+"deg)"),q&&"moveend"!==q.type||(this._pos=this._pos.round()),M.setTransform(this._element,si[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+_e+" "+ne)}},$.prototype.getOffset=function(){return this._offset},$.prototype.setOffset=function(q){return this._offset=f.Point.convert(q),this._update(),this},$.prototype._onMove=function(q){this._pos=q.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new f.Event("dragstart"))),this.fire(new f.Event("drag"))},$.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new f.Event("dragend")),this._state="inactive"},$.prototype._addDragHandler=function(q){this._element.contains(q.originalEvent.target)&&(q.preventDefault(),this._positionDelta=q.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},$.prototype.setDraggable=function(q){return this._draggable=!!q,this._map&&(q?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},$.prototype.isDraggable=function(){return this._draggable},$.prototype.setRotation=function(q){return this._rotation=q||0,this._update(),this},$.prototype.getRotation=function(){return this._rotation},$.prototype.setRotationAlignment=function(q){return this._rotationAlignment=q||"auto",this._update(),this},$.prototype.getRotationAlignment=function(){return this._rotationAlignment},$.prototype.setPitchAlignment=function(q){return this._pitchAlignment=q&&"auto"!==q?q:this._rotationAlignment,this._update(),this},$.prototype.getPitchAlignment=function(){return this._pitchAlignment},$}(f.Evented),ba={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Eu=0,wa=!1,lu=function(U){function $(q){U.call(this),this.options=f.extend({},ba,q),f.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.onAdd=function(q){return this._map=q,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),ne=this._setupUI,void 0!==Va?ne(Va):void 0!==f.window.navigator.permissions?f.window.navigator.permissions.query({name:"geolocation"}).then(function(_e){ne(Va="denied"!==_e.state)}):ne(Va=!!f.window.navigator.geolocation),this._container;var ne},$.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(f.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),M.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Eu=0,wa=!1},$.prototype._isOutOfMapMaxBounds=function(q){var ne=this._map.getMaxBounds(),_e=q.coords;return ne&&(_e.longitude<ne.getWest()||_e.longitude>ne.getEast()||_e.latitude<ne.getSouth()||_e.latitude>ne.getNorth())},$.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},$.prototype._onSuccess=function(q){if(this._map){if(this._isOutOfMapMaxBounds(q))return this._setErrorState(),this.fire(new f.Event("outofmaxbounds",q)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=q,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(q),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(q),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new f.Event("geolocate",q)),this._finish()}},$.prototype._updateCamera=function(q){var ne=new f.LngLat(q.coords.longitude,q.coords.latitude),_e=q.coords.accuracy,Pe=this._map.getBearing(),V=f.extend({bearing:Pe},this.options.fitBoundsOptions);this._map.fitBounds(ne.toBounds(_e),V,{geolocateSource:!0})},$.prototype._updateMarker=function(q){if(q){var ne=new f.LngLat(q.coords.longitude,q.coords.latitude);this._accuracyCircleMarker.setLngLat(ne).addTo(this._map),this._userLocationDotMarker.setLngLat(ne).addTo(this._map),this._accuracy=q.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},$.prototype._updateCircleRadius=function(){var q=this._map._container.clientHeight/2,ne=this._map.unproject([0,q]),_e=this._map.unproject([1,q]),Pe=ne.distanceTo(_e),V=Math.ceil(2*this._accuracy/Pe);this._circleElement.style.width=V+"px",this._circleElement.style.height=V+"px"},$.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},$.prototype._onError=function(q){if(this._map){if(this.options.trackUserLocation)if(1===q.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ne=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ne,this._geolocateButton.setAttribute("aria-label",ne),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===q.code&&wa)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new f.Event("error",q)),this._finish()}},$.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},$.prototype._setupUI=function(q){var ne=this;if(this._container.addEventListener("contextmenu",function(V){return V.preventDefault()}),this._geolocateButton=M.create("button","mapboxgl-ctrl-geolocate",this._container),M.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===q){f.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var _e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=_e,this._geolocateButton.setAttribute("aria-label",_e)}else{var Pe=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Pe,this._geolocateButton.setAttribute("aria-label",Pe)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=M.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new su(this._dotElement),this._circleElement=M.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new su({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(V){V.geolocateSource||"ACTIVE_LOCK"!==ne._watchState||V.originalEvent&&"resize"===V.originalEvent.type||(ne._watchState="BACKGROUND",ne._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ne._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ne.fire(new f.Event("trackuserlocationend")))})},$.prototype.trigger=function(){if(!this._setup)return f.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new f.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Eu--,wa=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new f.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new f.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var q;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Eu>1?(q={maximumAge:6e5,timeout:0},wa=!0):(q=this.options.positionOptions,wa=!1),this._geolocationWatchID=f.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,q)}}else f.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},$.prototype._clearWatch=function(){f.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},$}(f.Evented),kr={maxWidth:100,unit:"metric"},Wr=function(U){this.options=f.extend({},kr,U),f.bindAll(["_onMove","setUnit"],this)};function _i(U,$,q){var ne=q&&q.maxWidth||100,_e=U._container.clientHeight/2,Pe=U.unproject([0,_e]),V=U.unproject([ne,_e]),ie=Pe.distanceTo(V);if(q&&"imperial"===q.unit){var ce=3.2808*ie;ce>5280?Ci($,ne,ce/5280,U._getUIString("ScaleControl.Miles")):Ci($,ne,ce,U._getUIString("ScaleControl.Feet"))}else q&&"nautical"===q.unit?Ci($,ne,ie/1852,U._getUIString("ScaleControl.NauticalMiles")):ie>=1e3?Ci($,ne,ie/1e3,U._getUIString("ScaleControl.Kilometers")):Ci($,ne,ie,U._getUIString("ScaleControl.Meters"))}function Ci(U,$,q,ne){var _e,Pe,V,Me,Ce,ie=(_e=q,(Pe=Math.pow(10,(""+Math.floor(_e)).length-1))*((V=_e/Pe)>=10?10:V>=5?5:V>=3?3:V>=2?2:V>=1?1:(Me=V,Ce=Math.pow(10,Math.ceil(-Math.log(Me)/Math.LN10)),Math.round(Me*Ce)/Ce)));U.style.width=$*(ie/q)+"px",U.innerHTML=ie+"&nbsp;"+ne}Wr.prototype.getDefaultPosition=function(){return"bottom-left"},Wr.prototype._onMove=function(){_i(this._map,this._container,this.options)},Wr.prototype.onAdd=function(U){return this._map=U,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",U.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Wr.prototype.onRemove=function(){M.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Wr.prototype.setUnit=function(U){this.options.unit=U,_i(this._map,this._container,this.options)};var go=function(U){this._fullscreen=!1,U&&U.container&&(U.container instanceof f.window.HTMLElement?this._container=U.container:f.warnOnce("Full screen control 'container' must be a DOM element.")),f.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in f.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in f.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in f.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in f.window.document&&(this._fullscreenchange="MSFullscreenChange")};go.prototype.onAdd=function(U){return this._map=U,this._container||(this._container=this._map.getContainer()),this._controlContainer=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",f.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},go.prototype.onRemove=function(){M.remove(this._controlContainer),this._map=null,f.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},go.prototype._checkFullscreenSupport=function(){return!!(f.window.document.fullscreenEnabled||f.window.document.mozFullScreenEnabled||f.window.document.msFullscreenEnabled||f.window.document.webkitFullscreenEnabled)},go.prototype._setupUI=function(){var U=this._fullscreenButton=M.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);M.create("span","mapboxgl-ctrl-icon",U).setAttribute("aria-hidden",!0),U.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),f.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},go.prototype._updateTitle=function(){var U=this._getTitle();this._fullscreenButton.setAttribute("aria-label",U),this._fullscreenButton.title=U},go.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},go.prototype._isFullscreen=function(){return this._fullscreen},go.prototype._changeIcon=function(){(f.window.document.fullscreenElement||f.window.document.mozFullScreenElement||f.window.document.webkitFullscreenElement||f.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},go.prototype._onClickFullscreen=function(){this._isFullscreen()?f.window.document.exitFullscreen?f.window.document.exitFullscreen():f.window.document.mozCancelFullScreen?f.window.document.mozCancelFullScreen():f.window.document.msExitFullscreen?f.window.document.msExitFullscreen():f.window.document.webkitCancelFullScreen&&f.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var uu={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},El=function(U){function $(q){U.call(this),this.options=f.extend(Object.create(uu),q),f.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return U&&($.__proto__=U),($.prototype=Object.create(U&&U.prototype)).constructor=$,$.prototype.addTo=function(q){return this._map&&this.remove(),this._map=q,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new f.Event("open")),this},$.prototype.isOpen=function(){return!!this._map},$.prototype.remove=function(){return this._content&&M.remove(this._content),this._container&&(M.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new f.Event("close")),this},$.prototype.getLngLat=function(){return this._lngLat},$.prototype.setLngLat=function(q){return this._lngLat=f.LngLat.convert(q),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},$.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},$.prototype.getElement=function(){return this._container},$.prototype.setText=function(q){return this.setDOMContent(f.window.document.createTextNode(q))},$.prototype.setHTML=function(q){var ne,_e=f.window.document.createDocumentFragment(),Pe=f.window.document.createElement("body");for(Pe.innerHTML=q;ne=Pe.firstChild;)_e.appendChild(ne);return this.setDOMContent(_e)},$.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},$.prototype.setMaxWidth=function(q){return this.options.maxWidth=q,this._update(),this},$.prototype.setDOMContent=function(q){return this._createContent(),this._content.appendChild(q),this._update(),this},$.prototype.addClassName=function(q){this._container&&this._container.classList.add(q)},$.prototype.removeClassName=function(q){this._container&&this._container.classList.remove(q)},$.prototype.toggleClassName=function(q){if(this._container)return this._container.classList.toggle(q)},$.prototype._createContent=function(){this._content&&M.remove(this._content),this._content=M.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=M.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},$.prototype._onMouseUp=function(q){this._update(q.point)},$.prototype._onMouseMove=function(q){this._update(q.point)},$.prototype._onDrag=function(q){this._update(q.point)},$.prototype._update=function(q){var ne=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=M.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=M.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function($e){return ne._container.classList.add($e)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Sr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||q)){var Pe=this._pos=this._trackPointer&&q?q:this._map.project(this._lngLat),V=this.options.anchor,ie=Ha(this.options.offset);if(!V){var ce,Me=this._container.offsetWidth,Ce=this._container.offsetHeight;ce=Pe.y+ie.bottom.y<Ce?["top"]:Pe.y>this._map.transform.height-Ce?["bottom"]:[],Pe.x<Me/2?ce.push("left"):Pe.x>this._map.transform.width-Me/2&&ce.push("right"),V=0===ce.length?"bottom":ce.join("-")}var Ne=Pe.add(ie[V]).round();M.setTransform(this._container,si[V]+" translate("+Ne.x+"px,"+Ne.y+"px)"),tc(this._container,V,"popup")}},$.prototype._onClose=function(){this.remove()},$}(f.Evented);function Ha(U){if(U){if("number"==typeof U){var $=Math.round(Math.sqrt(.5*Math.pow(U,2)));return{center:new f.Point(0,0),top:new f.Point(0,U),"top-left":new f.Point($,$),"top-right":new f.Point(-$,$),bottom:new f.Point(0,-U),"bottom-left":new f.Point($,-$),"bottom-right":new f.Point(-$,-$),left:new f.Point(U,0),right:new f.Point(-U,0)}}if(U instanceof f.Point||Array.isArray(U)){var q=f.Point.convert(U);return{center:q,top:q,"top-left":q,"top-right":q,bottom:q,"bottom-left":q,"bottom-right":q,left:q,right:q}}return{center:f.Point.convert(U.center||[0,0]),top:f.Point.convert(U.top||[0,0]),"top-left":f.Point.convert(U["top-left"]||[0,0]),"top-right":f.Point.convert(U["top-right"]||[0,0]),bottom:f.Point.convert(U.bottom||[0,0]),"bottom-left":f.Point.convert(U["bottom-left"]||[0,0]),"bottom-right":f.Point.convert(U["bottom-right"]||[0,0]),left:f.Point.convert(U.left||[0,0]),right:f.Point.convert(U.right||[0,0])}}return Ha(new f.Point(0,0))}var Qs={version:f.version,supported:S,setRTLTextPlugin:f.setRTLTextPlugin,getRTLTextPluginStatus:f.getRTLTextPluginStatus,Map:Su,NavigationControl:Yo,GeolocateControl:lu,AttributionControl:po,ScaleControl:Wr,FullscreenControl:go,Popup:El,Marker:su,Style:lr,LngLat:f.LngLat,LngLatBounds:f.LngLatBounds,Point:f.Point,MercatorCoordinate:f.MercatorCoordinate,Evented:f.Evented,config:f.config,prewarm:function(){kt().acquire(dt)},clearPrewarmedResources:function(){var U=At;U&&(U.isPreloaded()&&1===U.numActive()?(U.release(dt),At=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return f.config.ACCESS_TOKEN},set accessToken(U){f.config.ACCESS_TOKEN=U},get baseApiUrl(){return f.config.API_URL},set baseApiUrl(U){f.config.API_URL=U},get workerCount(){return ut.workerCount},set workerCount(U){ut.workerCount=U},get maxParallelImageRequests(){return f.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(U){f.config.MAX_PARALLEL_IMAGE_REQUESTS=U},clearStorage:function(U){f.clearTileCache(U)},workerUrl:""};return Qs}),D}()},27084:function(ae){"use strict";ae.exports=Math.log2||function(B){return Math.log(B)*Math.LOG2E}},16825:function(ae,B,r){"use strict";ae.exports=function(E,f){f||(f=E,E=window);var S=0,M=0,v=0,c={shift:!1,alt:!1,control:!1,meta:!1},i=!1;function s(g){var w=!1;return"altKey"in g&&(w=w||g.altKey!==c.alt,c.alt=!!g.altKey),"shiftKey"in g&&(w=w||g.shiftKey!==c.shift,c.shift=!!g.shiftKey),"ctrlKey"in g&&(w=w||g.ctrlKey!==c.control,c.control=!!g.ctrlKey),"metaKey"in g&&(w=w||g.metaKey!==c.meta,c.meta=!!g.metaKey),w}function a(g,w){var x=D.x(w),b=D.y(w);"buttons"in w&&(g=0|w.buttons),(g!==S||x!==M||b!==v||s(w))&&(S=0|g,M=x||0,v=b||0,f&&f(S,M,v,c))}function o(g){a(0,g)}function l(){(S||M||v||c.shift||c.alt||c.meta||c.control)&&(M=v=0,S=0,c.shift=c.alt=c.control=c.meta=!1,f&&f(0,0,0,c))}function u(g){s(g)&&f&&f(S,M,v,c)}function d(g){0===D.buttons(g)?a(0,g):a(S,g)}function m(g){a(S|D.buttons(g),g)}function h(g){a(S&~D.buttons(g),g)}function T(){i||(i=!0,E.addEventListener("mousemove",d),E.addEventListener("mousedown",m),E.addEventListener("mouseup",h),E.addEventListener("mouseleave",o),E.addEventListener("mouseenter",o),E.addEventListener("mouseout",o),E.addEventListener("mouseover",o),E.addEventListener("blur",l),E.addEventListener("keyup",u),E.addEventListener("keydown",u),E.addEventListener("keypress",u),E!==window&&(window.addEventListener("blur",l),window.addEventListener("keyup",u),window.addEventListener("keydown",u),window.addEventListener("keypress",u)))}T();var _={element:E};return Object.defineProperties(_,{enabled:{get:function(){return i},set:function(g){g?T():i&&(i=!1,E.removeEventListener("mousemove",d),E.removeEventListener("mousedown",m),E.removeEventListener("mouseup",h),E.removeEventListener("mouseleave",o),E.removeEventListener("mouseenter",o),E.removeEventListener("mouseout",o),E.removeEventListener("mouseover",o),E.removeEventListener("blur",l),E.removeEventListener("keyup",u),E.removeEventListener("keydown",u),E.removeEventListener("keypress",u),E!==window&&(window.removeEventListener("blur",l),window.removeEventListener("keyup",u),window.removeEventListener("keydown",u),window.removeEventListener("keypress",u)))},enumerable:!0},buttons:{get:function(){return S},enumerable:!0},x:{get:function(){return M},enumerable:!0},y:{get:function(){return v},enumerable:!0},mods:{get:function(){return c},enumerable:!0}}),_};var D=r(74311)},48956:function(ae){var B={left:0,top:0};ae.exports=function(r,D,E){D=D||r.currentTarget||r.srcElement,Array.isArray(E)||(E=[0,0]);var f,S=r.clientX||0,M=r.clientY||0,v=(f=D)===window||f===document||f===document.body?B:f.getBoundingClientRect();return E[0]=S-v.left,E[1]=M-v.top,E}},74311:function(ae,B){"use strict";function r(D){return D.target||D.srcElement||window}B.buttons=function(D){if("object"==typeof D){if("buttons"in D)return D.buttons;if("which"in D){if(2===(E=D.which))return 4;if(3===E)return 2;if(E>0)return 1<<E-1}else if("button"in D){var E;if(1===(E=D.button))return 4;if(2===E)return 2;if(E>=0)return 1<<E}}return 0},B.element=r,B.x=function(D){if("object"==typeof D){if("offsetX"in D)return D.offsetX;var E=r(D).getBoundingClientRect();return D.clientX-E.left}return 0},B.y=function(D){if("object"==typeof D){if("offsetY"in D)return D.offsetY;var E=r(D).getBoundingClientRect();return D.clientY-E.top}return 0}},1195:function(ae,B,r){"use strict";var D=r(75686);ae.exports=function(E,f,S){"function"==typeof E&&(S=!!f,f=E,E=window);var M=D("ex",E),v=function(c){S&&c.preventDefault();var i=c.deltaX||0,s=c.deltaY||0,a=c.deltaZ||0,o=1;switch(c.deltaMode){case 1:o=M;break;case 2:o=window.innerHeight}if(s*=o,a*=o,(i*=o)||s||a)return f(i,s,a,c)};return E.addEventListener("wheel",v),v}},7417:function(ae,B,r){var D,E,f;(f=void 0!==r.g?r.g:this)[E="Promise"]=f[E]||function(){"use strict";var M,v,c,i=Object.prototype.toString,s=typeof setImmediate<"u"?function(x){return setImmediate(x)}:setTimeout;try{Object.defineProperty({},"x",{}),M=function(x,b,A,p){return Object.defineProperty(x,b,{value:A,writable:!0,configurable:!1!==p})}}catch{M=function(b,A,p){return b[A]=p,b}}function a(x,b){c.add(x,b),v||(v=s(c.drain))}function o(x){var b,A=typeof x;return null==x||"object"!=A&&"function"!=A||(b=x.then),"function"==typeof b&&b}function l(){for(var x=0;x<this.chain.length;x++)u(this,1===this.state?this.chain[x].success:this.chain[x].failure,this.chain[x]);this.chain.length=0}function u(x,b,A){var p,O;try{!1===b?A.reject(x.msg):(p=!0===b?x.msg:b.call(void 0,x.msg))===A.promise?A.reject(TypeError("Promise-chain cycle")):(O=o(p))?O.call(p,A.resolve,A.reject):A.resolve(p)}catch(k){A.reject(k)}}function d(x){var b,A=this;if(!A.triggered){A.triggered=!0,A.def&&(A=A.def);try{(b=o(x))?a(function(){var p=new T(A);try{b.call(x,function(){d.apply(p,arguments)},function(){m.apply(p,arguments)})}catch(O){m.call(p,O)}}):(A.msg=x,A.state=1,A.chain.length>0&&a(l,A))}catch(p){m.call(new T(A),p)}}}function m(x){var b=this;b.triggered||(b.triggered=!0,b.def&&(b=b.def),b.msg=x,b.state=2,b.chain.length>0&&a(l,b))}function h(x,b,A,p){for(var O=0;O<b.length;O++)!function(k){x.resolve(b[k]).then(function(I){A(k,I)},p)}(O)}function T(x){this.def=x,this.triggered=!1}function _(x){this.promise=x,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function g(x){if("function"!=typeof x)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var b=new _(this);this.then=function(A,p){var O={success:"function"!=typeof A||A,failure:"function"==typeof p&&p};return O.promise=new this.constructor(function(k,I){if("function"!=typeof k||"function"!=typeof I)throw TypeError("Not a function");O.resolve=k,O.reject=I}),b.chain.push(O),0!==b.state&&a(l,b),O.promise},this.catch=function(A){return this.then(void 0,A)};try{x.call(void 0,function(A){d.call(b,A)},function(A){m.call(b,A)})}catch(A){m.call(b,A)}}c=function(){var x,b,A;function p(O,k){this.fn=O,this.self=k,this.next=void 0}return{add:function(O,k){A=new p(O,k),b?b.next=A:x=A,b=A,A=void 0},drain:function(){var O=x;for(x=b=v=void 0;O;)O.fn.call(O.self),O=O.next}}}();var w=M({},"constructor",g,!1);return g.prototype=w,M(w,"__NPO__",0,!1),M(g,"resolve",function(x){return x&&"object"==typeof x&&1===x.__NPO__?x:new this(function(b,A){if("function"!=typeof b||"function"!=typeof A)throw TypeError("Not a function");b(x)})}),M(g,"reject",function(x){return new this(function(b,A){if("function"!=typeof b||"function"!=typeof A)throw TypeError("Not a function");A(x)})}),M(g,"all",function(x){var b=this;return"[object Array]"!=i.call(x)?b.reject(TypeError("Not an array")):0===x.length?b.resolve([]):new b(function(A,p){if("function"!=typeof A||"function"!=typeof p)throw TypeError("Not a function");var O=x.length,k=Array(O),I=0;h(b,x,function(P,R){k[P]=R,++I===O&&A(k)},p)})}),M(g,"race",function(x){var b=this;return"[object Array]"!=i.call(x)?b.reject(TypeError("Not an array")):new b(function(A,p){if("function"!=typeof A||"function"!=typeof p)throw TypeError("Not a function");h(b,x,function(O,k){A(k)},p)})}),g}(),ae.exports?ae.exports=f[E]:void 0===(D=function(){return f[E]}.call(B,r,B,ae))||(ae.exports=D)},18625:function(ae){var B=Math.PI,r=M(120);function D(v,c,i,s){return["C",v,c,i,s,i,s]}function E(v,c,i,s,a,o){return["C",v/3+.6666666666666666*i,c/3+.6666666666666666*s,a/3+.6666666666666666*i,o/3+.6666666666666666*s,a,o]}function f(v,c,i,s,a,o,l,u,d,m){if(m)O=m[0],k=m[1],A=m[2],p=m[3];else{var h=S(v,c,-a);c=h.y;var T=((v=h.x)-(u=(h=S(u,d,-a)).x))/2,_=(c-(d=h.y))/2,g=T*T/(i*i)+_*_/(s*s);g>1&&(i*=g=Math.sqrt(g),s*=g);var w=i*i,x=s*s,b=(o==l?-1:1)*Math.sqrt(Math.abs((w*x-w*_*_-x*T*T)/(w*_*_+x*T*T)));b==1/0&&(b=1);var A=b*i*_/s+(v+u)/2,p=b*-s*T/i+(c+d)/2,O=Math.asin(((c-p)/s).toFixed(9)),k=Math.asin(((d-p)/s).toFixed(9));(O=v<A?B-O:O)<0&&(O=2*B+O),(k=u<A?B-k:k)<0&&(k=2*B+k),l&&O>k&&(O-=2*B),!l&&k>O&&(k-=2*B)}if(Math.abs(k-O)>r){var I=k,P=u,R=d;k=O+r*(l&&k>O?1:-1);var N=f(u=A+i*Math.cos(k),d=p+s*Math.sin(k),i,s,a,0,l,P,R,[k,I,A,p])}var j=Math.tan((k-O)/4),X=4/3*i*j,F=4/3*s*j,Z=[2*v-(v+X*Math.sin(O)),2*c-(c-F*Math.cos(O)),u+X*Math.sin(k),d-F*Math.cos(k),u,d];if(m)return Z;N&&(Z=Z.concat(N));for(var W=0;W<Z.length;){var H=S(Z[W],Z[W+1],a);Z[W++]=H.x,Z[W++]=H.y}return Z}function S(v,c,i){return{x:v*Math.cos(i)-c*Math.sin(i),y:v*Math.sin(i)+c*Math.cos(i)}}function M(v){return v*(B/180)}ae.exports=function(v){for(var c,i=[],s=0,a=0,o=0,l=0,u=null,d=null,m=0,h=0,T=0,_=v.length;T<_;T++){var g=v[T],w=g[0];switch(w){case"M":o=g[1],l=g[2];break;case"A":(g=f(m,h,g[1],g[2],M(g[3]),g[4],g[5],g[6],g[7])).unshift("C"),g.length>7&&(i.push(g.splice(0,7)),g.unshift("C"));break;case"S":var x=m,b=h;"C"!=c&&"S"!=c||(x+=x-s,b+=b-a),g=["C",x,b,g[1],g[2],g[3],g[4]];break;case"T":"Q"==c||"T"==c?(u=2*m-u,d=2*h-d):(u=m,d=h),g=E(m,h,u,d,g[1],g[2]);break;case"Q":u=g[1],d=g[2],g=E(m,h,g[1],g[2],g[3],g[4]);break;case"L":g=D(m,h,g[1],g[2]);break;case"H":g=D(m,h,g[1],h);break;case"V":g=D(m,h,m,g[1]);break;case"Z":g=D(m,h,o,l)}c=w,m=g[g.length-2],h=g[g.length-1],g.length>4?(s=g[g.length-4],a=g[g.length-3]):(s=m,a=h),i.push(g)}return i}},56131:function(ae){"use strict";var B=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;ae.exports=function(){try{if(!Object.assign)return!1;var E=new String("abc");if(E[5]="de","5"===Object.getOwnPropertyNames(E)[0])return!1;for(var f={},S=0;S<10;S++)f["_"+String.fromCharCode(S)]=S;if("0123456789"!==Object.getOwnPropertyNames(f).map(function(v){return f[v]}).join(""))return!1;var M={};return"abcdefghijklmnopqrst".split("").forEach(function(v){M[v]=v}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},M)).join("")}catch{return!1}}()?Object.assign:function(E,f){for(var S,M,v=function(a){if(null==a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}(E),c=1;c<arguments.length;c++){for(var i in S=Object(arguments[c]))r.call(S,i)&&(v[i]=S[i]);if(B){M=B(S);for(var s=0;s<M.length;s++)D.call(S,M[s])&&(v[M[s]]=S[M[s]])}}return v}},65848:function(ae){"use strict";var B=function(r){return r!=r};ae.exports=function(r,D){return 0===r&&0===D?1/r==1/D:r===D||!(!B(r)||!B(D))}},64003:function(ae,B,r){"use strict";var D=r(17045),E=r(68222),f=r(65848),S=r(27015),M=r(55572),v=E(S(),Object);D(v,{getPolyfill:S,implementation:f,shim:M}),ae.exports=v},27015:function(ae,B,r){"use strict";var D=r(65848);ae.exports=function(){return"function"==typeof Object.is?Object.is:D}},55572:function(ae,B,r){"use strict";var D=r(27015),E=r(17045);ae.exports=function(){var f=D();return E(Object,{is:f},{is:function(){return Object.is!==f}}),f}},99019:function(ae,B,r){"use strict";var D;if(!Object.keys){var E=Object.prototype.hasOwnProperty,f=Object.prototype.toString,S=r(64178),M=Object.prototype.propertyIsEnumerable,v=!M.call({toString:null},"toString"),c=M.call(function(){},"prototype"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(l){var u=l.constructor;return u&&u.prototype===l},a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},o=function(){if(typeof window>"u")return!1;for(var l in window)try{if(!a["$"+l]&&E.call(window,l)&&null!==window[l]&&"object"==typeof window[l])try{s(window[l])}catch{return!0}}catch{return!0}return!1}();D=function(l){var u=null!==l&&"object"==typeof l,d="[object Function]"===f.call(l),m=S(l),h=u&&"[object String]"===f.call(l),T=[];if(!u&&!d&&!m)throw new TypeError("Object.keys called on a non-object");var _=c&&d;if(h&&l.length>0&&!E.call(l,0))for(var g=0;g<l.length;++g)T.push(String(g));if(m&&l.length>0)for(var w=0;w<l.length;++w)T.push(String(w));else for(var x in l)_&&"prototype"===x||!E.call(l,x)||T.push(String(x));if(v)for(var b=function(p){if(typeof window>"u"||!o)return s(p);try{return s(p)}catch{return!1}}(l),A=0;A<i.length;++A)b&&"constructor"===i[A]||!E.call(l,i[A])||T.push(i[A]);return T}}ae.exports=D},8709:function(ae,B,r){"use strict";var D=Array.prototype.slice,E=r(64178),f=Object.keys,S=f?function(v){return f(v)}:r(99019),M=Object.keys;S.shim=function(){if(Object.keys){var v=function(){var c=Object.keys(arguments);return c&&c.length===arguments.length}(1,2);v||(Object.keys=function(c){return E(c)?M(D.call(c)):M(c)})}else Object.keys=S;return Object.keys||S},ae.exports=S},64178:function(ae){"use strict";var B=Object.prototype.toString;ae.exports=function(r){var D=B.call(r),E="[object Arguments]"===D;return E||(E="[object Array]"!==D&&null!==r&&"object"==typeof r&&"number"==typeof r.length&&r.length>=0&&"[object Function]"===B.call(r.callee)),E}},88641:function(ae){"use strict";function B(E,f){if("string"!=typeof E)return[E];var S=[E];"string"==typeof f||Array.isArray(f)?f={brackets:f}:f||(f={});var M=f.brackets?Array.isArray(f.brackets)?f.brackets:[f.brackets]:["{}","[]","()"],v=f.escape||"___",c=!!f.flat;M.forEach(function(s){var a=new RegExp(["\\",s[0],"[^\\",s[0],"\\",s[1],"]*\\",s[1]].join("")),o=[];function l(u,d,m){var h=S.push(u.slice(s[0].length,-s[1].length))-1;return o.push(h),v+h+v}S.forEach(function(u,d){for(var m,h=0;u!=m;)if(m=u,u=u.replace(a,l),h++>1e4)throw Error("References have circular dependency. Please, check them.");S[d]=u}),o=o.reverse(),S=S.map(function(u){return o.forEach(function(d){u=u.replace(new RegExp("(\\"+v+d+"\\"+v+")","g"),s[0]+"$1"+s[1])}),u})});var i=new RegExp("\\"+v+"([0-9]+)\\"+v);return c?S:function s(a,o,l){for(var u,d=[],m=0;u=i.exec(a);){if(m++>1e4)throw Error("Circular references in parenthesis");d.push(a.slice(0,u.index)),d.push(s(o[u[1]],o)),a=a.slice(u.index+u[0].length)}return d.push(a),d}(S[0],S)}function r(E,f){if(f&&f.flat){var S,M=f&&f.escape||"___",v=E[0];if(!v)return"";for(var c=new RegExp("\\"+M+"([0-9]+)\\"+M),i=0;v!=S;){if(i++>1e4)throw Error("Circular references in "+E);S=v,v=v.replace(c,s)}return v}return E.reduce(function a(o,l){return Array.isArray(l)&&(l=l.reduce(a,"")),o+l},"");function s(a,o){if(null==E[o])throw Error("Reference "+o+"is undefined");return E[o]}}function D(E,f){return Array.isArray(E)?r(E,f):B(E,f)}D.parse=B,D.stringify=r,ae.exports=D},18863:function(ae,B,r){"use strict";var D=r(71299);ae.exports=function(E){var f;return arguments.length>1&&(E=arguments),"string"==typeof E?E=E.split(/\s/).map(parseFloat):"number"==typeof E&&(E=[E]),E.length&&"number"==typeof E[0]?f=1===E.length?{width:E[0],height:E[0],x:0,y:0}:2===E.length?{width:E[0],height:E[1],x:0,y:0}:{x:E[0],y:E[1],width:E[2]-E[0]||0,height:E[3]-E[1]||0}:E&&((f={x:(E=D(E,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:E.top||0}).width=null==E.width?E.right?E.right-f.x:0:E.width,f.height=null==E.height?E.bottom?E.bottom-f.y:0:E.height),f}},95616:function(ae){ae.exports=function(E){var f=[];return E.replace(r,function(S,M,v){var s,c=M.toLowerCase();for(s=void 0,v=(s=v.match(D))?s.map(Number):[],"m"==c&&v.length>2&&(f.push([M].concat(v.splice(0,2))),c="l",M="m"==M?"l":"L");;){if(v.length==B[c])return v.unshift(M),f.push(v);if(v.length<B[c])throw new Error("malformed path data");f.push([M].concat(v.splice(0,B[c])))}}),f};var B={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi,D=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},25677:function(ae){ae.exports=function(B,r){r||(r=[0,""]),B=String(B);var D=parseFloat(B,10);return r[0]=D,r[1]=B.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},9748:function(ae,B,r){var D=r(90386);(function(){var E,f,S,M,v,c;typeof performance<"u"&&null!==performance&&performance.now?ae.exports=function(){return performance.now()}:null!=D&&D.hrtime?(ae.exports=function(){return(E()-v)/1e6},f=D.hrtime,M=(E=function(){var i;return 1e9*(i=f())[0]+i[1]})(),c=1e9*D.uptime(),v=M-c):Date.now?(ae.exports=function(){return Date.now()-S},S=Date.now()):(ae.exports=function(){return(new Date).getTime()-S},S=(new Date).getTime())}).call(this)},71299:function(ae){"use strict";ae.exports=function(D,E,f){var S,M,v={};if("string"==typeof E&&(E=r(E)),Array.isArray(E)){var c={};for(M=0;M<E.length;M++)c[E[M]]=!0;E=c}for(S in E)E[S]=r(E[S]);var i={};for(S in E){var s=E[S];if(Array.isArray(s))for(M=0;M<s.length;M++){var a=s[M];if(f&&(i[a]=!0),a in D){if(v[S]=D[a],f)for(var o=M;o<s.length;o++)i[s[o]]=!0;break}}else S in D&&(E[S]&&(v[S]=D[S]),f&&(i[S]=!0))}if(f)for(S in D)i[S]||(v[S]=D[S]);return v};var B={};function r(D){return B[D]?B[D]:("string"==typeof D&&(D=B[D]=D.split(/\s*,\s*|\s+/)),D)}},38258:function(ae){ae.exports=function(B,r,D,E){var f=B[0],S=B[1],M=!1;void 0===D&&(D=0),void 0===E&&(E=r.length);for(var v=E-D,c=0,i=v-1;c<v;i=c++){var s=r[c+D][0],a=r[c+D][1],l=r[i+D][1];a>S!=l>S&&f<(r[i+D][0]-s)*(S-a)/(l-a)+s&&(M=!M)}return M}},52142:function(ae,B,r){var D,E=r(69444),f=r(29023),S=r(87263),M=r(11328),v=r(55968),c=r(10670),i=!1,s=f();function a(o,l,u){var d=D.segments(o),m=D.segments(l),h=u(D.combine(d,m));return D.polygon(h)}D={buildLog:function(o){return!0===o?i=E():!1===o&&(i=!1),!1!==i&&i.list},epsilon:function(o){return s.epsilon(o)},segments:function(o){var l=S(!0,s,i);return o.regions.forEach(l.addRegion),{segments:l.calculate(o.inverted),inverted:o.inverted}},combine:function(o,l){return{combined:S(!1,s,i).calculate(o.segments,o.inverted,l.segments,l.inverted),inverted1:o.inverted,inverted2:l.inverted}},selectUnion:function(o){return{segments:v.union(o.combined,i),inverted:o.inverted1||o.inverted2}},selectIntersect:function(o){return{segments:v.intersect(o.combined,i),inverted:o.inverted1&&o.inverted2}},selectDifference:function(o){return{segments:v.difference(o.combined,i),inverted:o.inverted1&&!o.inverted2}},selectDifferenceRev:function(o){return{segments:v.differenceRev(o.combined,i),inverted:!o.inverted1&&o.inverted2}},selectXor:function(o){return{segments:v.xor(o.combined,i),inverted:o.inverted1!==o.inverted2}},polygon:function(o){return{regions:M(o.segments,s,i),inverted:o.inverted}},polygonFromGeoJSON:function(o){return c.toPolygon(D,o)},polygonToGeoJSON:function(o){return c.fromPolygon(D,s,o)},union:function(o,l){return a(o,l,D.selectUnion)},intersect:function(o,l){return a(o,l,D.selectIntersect)},difference:function(o,l){return a(o,l,D.selectDifference)},differenceRev:function(o,l){return a(o,l,D.selectDifferenceRev)},xor:function(o,l){return a(o,l,D.selectXor)}},"object"==typeof window&&(window.PolyBool=D),ae.exports=D},69444:function(ae){ae.exports=function(){var B,r=0,D=!1;function E(f,S){return B.list.push({type:f,data:S?JSON.parse(JSON.stringify(S)):void 0}),B}return B={list:[],segmentId:function(){return r++},checkIntersection:function(f,S){return E("check",{seg1:f,seg2:S})},segmentChop:function(f,S){return E("div_seg",{seg:f,pt:S}),E("chop",{seg:f,pt:S})},statusRemove:function(f){return E("pop_seg",{seg:f})},segmentUpdate:function(f){return E("seg_update",{seg:f})},segmentNew:function(f,S){return E("new_seg",{seg:f,primary:S})},segmentRemove:function(f){return E("rem_seg",{seg:f})},tempStatus:function(f,S,M){return E("temp_status",{seg:f,above:S,below:M})},rewind:function(f){return E("rewind",{seg:f})},status:function(f,S,M){return E("status",{seg:f,above:S,below:M})},vert:function(f){return f===D?B:(D=f,E("vert",{x:f}))},log:function(f){return"string"!=typeof f&&(f=JSON.stringify(f,!1,"  ")),E("log",{txt:f})},reset:function(){return E("reset")},selected:function(f){return E("selected",{segs:f})},chainStart:function(f){return E("chain_start",{seg:f})},chainRemoveHead:function(f,S){return E("chain_rem_head",{index:f,pt:S})},chainRemoveTail:function(f,S){return E("chain_rem_tail",{index:f,pt:S})},chainNew:function(f,S){return E("chain_new",{pt1:f,pt2:S})},chainMatch:function(f){return E("chain_match",{index:f})},chainClose:function(f){return E("chain_close",{index:f})},chainAddHead:function(f,S){return E("chain_add_head",{index:f,pt:S})},chainAddTail:function(f,S){return E("chain_add_tail",{index:f,pt:S})},chainConnect:function(f,S){return E("chain_con",{index1:f,index2:S})},chainReverse:function(f){return E("chain_rev",{index:f})},chainJoin:function(f,S){return E("chain_join",{index1:f,index2:S})},done:function(){return E("done")}}}},29023:function(ae){ae.exports=function(B){"number"!=typeof B&&(B=1e-10);var r={epsilon:function(D){return"number"==typeof D&&(B=D),B},pointAboveOrOnLine:function(D,E,f){var S=E[0],M=E[1];return(f[0]-S)*(D[1]-M)-(f[1]-M)*(D[0]-S)>=-B},pointBetween:function(D,E,f){var M=f[0]-E[0],c=f[1]-E[1],i=(D[0]-E[0])*M+(D[1]-E[1])*c;return!(i<B||i-(M*M+c*c)>-B)},pointsSameX:function(D,E){return Math.abs(D[0]-E[0])<B},pointsSameY:function(D,E){return Math.abs(D[1]-E[1])<B},pointsSame:function(D,E){return r.pointsSameX(D,E)&&r.pointsSameY(D,E)},pointsCompare:function(D,E){return r.pointsSameX(D,E)?r.pointsSameY(D,E)?0:D[1]<E[1]?-1:1:D[0]<E[0]?-1:1},pointsCollinear:function(D,E,f){return Math.abs((D[0]-E[0])*(E[1]-f[1])-(E[0]-f[0])*(D[1]-E[1]))<B},linesIntersect:function(D,E,f,S){var M=E[0]-D[0],v=E[1]-D[1],c=S[0]-f[0],i=S[1]-f[1],s=M*i-v*c;if(Math.abs(s)<B)return!1;var a=D[0]-f[0],o=D[1]-f[1],l=(c*o-i*a)/s,u=(M*o-v*a)/s,d={alongA:0,alongB:0,pt:[D[0]+l*M,D[1]+l*v]};return d.alongA=l<=-B?-2:l<B?-1:l-1<=-B?0:l-1<B?1:2,d.alongB=u<=-B?-2:u<B?-1:u-1<=-B?0:u-1<B?1:2,d},pointInsideRegion:function(D,E){for(var f=D[0],S=D[1],M=E[E.length-1][0],v=E[E.length-1][1],c=!1,i=0;i<E.length;i++){var s=E[i][0],a=E[i][1];a-S>B!=v-S>B&&(M-s)*(S-a)/(v-a)+s-f>B&&(c=!c),M=s,v=a}return c}};return r}},10670:function(ae){ae.exports={toPolygon:function(r,D){function E(M){if(M.length<=0)return r.segments({inverted:!1,regions:[]});function v(s){var a=s.slice(0,s.length-1);return r.segments({inverted:!1,regions:[a]})}for(var c=v(M[0]),i=1;i<M.length;i++)c=r.selectDifference(r.combine(c,v(M[i])));return c}if("Polygon"===D.type)return r.polygon(E(D.coordinates));if("MultiPolygon"===D.type){for(var f=r.segments({inverted:!1,regions:[]}),S=0;S<D.coordinates.length;S++)f=r.selectUnion(r.combine(f,E(D.coordinates[S])));return r.polygon(f)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(r,D,E){function f(u,d){return D.pointInsideRegion([.5*(u[0][0]+u[1][0]),.5*(u[0][1]+u[1][1])],d)}function S(u){return{region:u,children:[]}}E=r.polygon(r.segments(E));var M=S(null);function v(u,d){for(var m=0;m<u.children.length;m++)if(f(d,(T=u.children[m]).region))return void v(T,d);var h=S(d);for(m=0;m<u.children.length;m++){var T;f((T=u.children[m]).region,d)&&(h.children.push(T),u.children.splice(m,1),m--)}u.children.push(h)}for(var c=0;c<E.regions.length;c++){var i=E.regions[c];i.length<3||v(M,i)}function s(u,d){for(var m=0,h=u[u.length-1][0],T=u[u.length-1][1],_=[],g=0;g<u.length;g++){var w=u[g][0],x=u[g][1];_.push([w,x]),m+=x*h-w*T,h=w,T=x}return m<0!==d&&_.reverse(),_.push([_[0][0],_[0][1]]),_}var a=[];function o(u){var d=[s(u.region,!1)];a.push(d);for(var m=0;m<u.children.length;m++)d.push(l(u.children[m]))}function l(u){for(var d=0;d<u.children.length;d++)o(u.children[d]);return s(u.region,!0)}for(c=0;c<M.children.length;c++)o(M.children[c]);return a.length<=0?{type:"Polygon",coordinates:[]}:1==a.length?{type:"Polygon",coordinates:a[0]}:{type:"MultiPolygon",coordinates:a}}}},87263:function(ae,B,r){var D=r(26859);ae.exports=function(E,f,S){function M(o,l,u){return{id:S?S.segmentId():-1,start:o,end:l,myFill:{above:u.myFill.above,below:u.myFill.below},otherFill:null}}var v=D.create();function c(o,l){v.insertBefore(o,function(u){return d=o.isStart,h=l,T=u.isStart,g=u.other.pt,(0!==(w=f.pointsCompare(o.pt,_=u.pt))?w:f.pointsSame(h,g)?0:d!==T?d?1:-1:f.pointAboveOrOnLine(h,T?_:g,T?g:_)?1:-1)<0;var d,h,T,_,g,w})}function i(o,l){var d,h,u=(c(h=D.node({isStart:!0,pt:(d=o).start,seg:d,primary:l,other:null,status:null}),d.end),h);return function(d,m,h){var T=D.node({isStart:!1,pt:m.end,seg:m,primary:h,other:d,status:null});d.other=T,c(T,d.pt)}(u,o,l),u}function s(o,l){var d,m,u=M(l,o.seg.end,o.seg);return d=o,m=l,S&&S.segmentChop(d.seg,m),d.other.remove(),d.seg.end=m,d.other.pt=m,c(d.other,d.pt),i(u,o.primary)}function a(o,l){var u=D.create();function d(I){return u.findTransition(function(P){var R,N,j,X,F,Z;return X=(R=I).seg.end,(f.pointsCollinear(j=R.seg.start,F=(N=P.ev).seg.start,Z=N.seg.end)?f.pointsCollinear(X,F,Z)||f.pointAboveOrOnLine(X,F,Z)?1:-1:f.pointAboveOrOnLine(j,F,Z)?1:-1)>0})}function m(I,P){var R=I.seg,N=P.seg,j=R.start,X=R.end,F=N.start,Z=N.end;S&&S.checkIntersection(R,N);var W=f.linesIntersect(j,X,F,Z);if(!1===W){if(!f.pointsCollinear(j,X,F)||f.pointsSame(j,Z)||f.pointsSame(X,F))return!1;var H=f.pointsSame(j,F),G=f.pointsSame(X,Z);if(H&&G)return P;var Y=!H&&f.pointBetween(j,F,Z),se=!G&&f.pointBetween(X,F,Z);if(H)return se?s(P,X):s(I,Z),P;Y&&(G||(se?s(P,X):s(I,Z)),s(P,j))}else 0===W.alongA&&(-1===W.alongB?s(I,F):0===W.alongB?s(I,W.pt):1===W.alongB&&s(I,Z)),0===W.alongB&&(-1===W.alongA?s(P,j):0===W.alongA?s(P,W.pt):1===W.alongA&&s(P,X));return!1}for(var h=[];!v.isEmpty();){var T=v.getHead();if(S&&S.vert(T.pt[0]),T.isStart){let I=function(){if(g){var P=m(T,g);if(P)return P}return!!w&&m(T,w)};S&&S.segmentNew(T.seg,T.primary);var _=d(T),g=_.before?_.before.ev:null,w=_.after?_.after.ev:null;S&&S.tempStatus(T.seg,!!g&&g.seg,!!w&&w.seg);var x,b,A=I();if(A&&(E?(b=null===T.seg.myFill.below||T.seg.myFill.above!==T.seg.myFill.below)&&(A.seg.myFill.above=!A.seg.myFill.above):A.seg.otherFill=T.seg.myFill,S&&S.segmentUpdate(A.seg),T.other.remove(),T.remove()),v.getHead()!==T){S&&S.rewind(T.seg);continue}E?(b=null===T.seg.myFill.below||T.seg.myFill.above!==T.seg.myFill.below,T.seg.myFill.below=w?w.seg.myFill.above:o,T.seg.myFill.above=b?!T.seg.myFill.below:T.seg.myFill.below):null===T.seg.otherFill&&(T.seg.otherFill={above:x=w?T.primary===w.primary?w.seg.otherFill.above:w.seg.myFill.above:T.primary?l:o,below:x}),S&&S.status(T.seg,!!g&&g.seg,!!w&&w.seg),T.other.status=_.insert(D.node({ev:T}))}else{var p=T.status;if(null===p)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(u.exists(p.prev)&&u.exists(p.next)&&m(p.prev.ev,p.next.ev),S&&S.statusRemove(p.ev.seg),p.remove(),!T.primary){var O=T.seg.myFill;T.seg.myFill=T.seg.otherFill,T.seg.otherFill=O}h.push(T.seg)}v.getHead().remove()}return S&&S.done(),h}return E?{addRegion:function(o){for(var l,u,d,m=o[o.length-1],h=0;h<o.length;h++){var T=f.pointsCompare(l=m,m=o[h]);0!==T&&i((u=T<0?l:m,d=T<0?m:l,{id:S?S.segmentId():-1,start:u,end:d,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(o){return a(o,!1)}}:{calculate:function(o,l,u,d){return o.forEach(function(m){i(M(m.start,m.end,m),!0)}),u.forEach(function(m){i(M(m.start,m.end,m),!1)}),a(l,d)}}}},26859:function(ae){ae.exports={create:function(){var B={root:{root:!0,next:null},exists:function(r){return null!==r&&r!==B.root},isEmpty:function(){return null===B.root.next},getHead:function(){return B.root.next},insertBefore:function(r,D){for(var E=B.root,f=B.root.next;null!==f;){if(D(f))return r.prev=f.prev,r.next=f,f.prev.next=r,void(f.prev=r);E=f,f=f.next}E.next=r,r.prev=E,r.next=null},findTransition:function(r){for(var D=B.root,E=B.root.next;null!==E&&!r(E);)D=E,E=E.next;return{before:D===B.root?null:D,after:E,insert:function(f){return f.prev=D,f.next=E,D.next=f,null!==E&&(E.prev=f),f}}}};return B},node:function(B){return B.prev=null,B.next=null,B.remove=function(){B.prev.next=B.next,B.next&&(B.next.prev=B.prev),B.prev=null,B.next=null},B}}},11328:function(ae){ae.exports=function(B,r,D){var E=[],f=[];return B.forEach(function(S){var M=S.start,v=S.end;if(r.pointsSame(M,v))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{D&&D.chainStart(S);for(var c={index:0,matches_head:!1,matches_pt1:!1},i={index:0,matches_head:!1,matches_pt1:!1},s=c,a=0;a<E.length;a++){var o=(h=E[a])[0],l=h[h.length-1];if(r.pointsSame(o,M)){if(p(a,!0,!0))break}else if(r.pointsSame(o,v)){if(p(a,!0,!1))break}else if(r.pointsSame(l,M)){if(p(a,!1,!0))break}else if(r.pointsSame(l,v)&&p(a,!1,!1))break}if(s===c)return E.push([M,v]),void(D&&D.chainNew(M,v));if(s===i){D&&D.chainMatch(c.index);var u=c.index,d=c.matches_pt1?v:M,m=c.matches_head,h=E[u],T=m?h[0]:h[h.length-1],_=m?h[1]:h[h.length-2],g=m?h[h.length-1]:h[0],w=m?h[h.length-2]:h[1];return r.pointsCollinear(_,T,d)&&(m?(D&&D.chainRemoveHead(c.index,d),h.shift()):(D&&D.chainRemoveTail(c.index,d),h.pop()),T=_),r.pointsSame(g,d)?(E.splice(u,1),r.pointsCollinear(w,g,T)&&(m?(D&&D.chainRemoveTail(c.index,T),h.pop()):(D&&D.chainRemoveHead(c.index,T),h.shift())),D&&D.chainClose(c.index),void f.push(h)):void(m?(D&&D.chainAddHead(c.index,d),h.unshift(d)):(D&&D.chainAddTail(c.index,d),h.push(d)))}var x=c.index,b=i.index;D&&D.chainConnect(x,b);var A=E[x].length<E[b].length;c.matches_head?i.matches_head?A?(O(x),k(x,b)):(O(b),k(b,x)):k(b,x):i.matches_head?k(x,b):A?(O(x),k(b,x)):(O(b),k(x,b))}function p(I,P,R){return s.index=I,s.matches_head=P,s.matches_pt1=R,s===c?(s=i,!1):(s=null,!0)}function O(I){D&&D.chainReverse(I),E[I].reverse()}function k(I,P){var R=E[I],N=E[P],j=R[R.length-1],X=R[R.length-2],F=N[0],Z=N[1];r.pointsCollinear(X,j,F)&&(D&&D.chainRemoveTail(I,j),R.pop(),j=X),r.pointsCollinear(j,F,Z)&&(D&&D.chainRemoveHead(P,F),N.shift()),D&&D.chainJoin(I,P),E[I]=R.concat(N),E.splice(P,1)}}),f}},55968:function(ae){function B(D,E,f){var S=[];return D.forEach(function(M){var v=(M.myFill.above?8:0)+(M.myFill.below?4:0)+(M.otherFill&&M.otherFill.above?2:0)+(M.otherFill&&M.otherFill.below?1:0);0!==E[v]&&S.push({id:f?f.segmentId():-1,start:M.start,end:M.end,myFill:{above:1===E[v],below:2===E[v]},otherFill:null})}),f&&f.selected(S),S}ae.exports={union:function(D,E){return B(D,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],E)},intersect:function(D,E){return B(D,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],E)},difference:function(D,E){return B(D,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],E)},differenceRev:function(D,E){return B(D,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],E)},xor:function(D,E){return B(D,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],E)}}},14847:function(ae,B,r){"use strict";var D=r(21630).Transform,E=r(90715);function f(){D.call(this,{readableObjectMode:!0})}function S(M,v,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name=this.constructor.name,this.message=M,v&&(this.code=v),c&&(this.statusCode=c)}(f.prototype=Object.create(D.prototype)).constructor=f,E(f.prototype),B.OF=function(M,v,c){for(var i=v,s=0;s<c.length;)if(M[i++]!==c[s++])return!1;return!0},B.eG=function(M,v){var c=[],i=0;if(v&&"hex"===v)for(;i<M.length;)c.push(parseInt(M.slice(i,i+2),16)),i+=2;else for(;i<M.length;i++)c.push(255&M.charCodeAt(i));return c},B.mP=function(M,v){return M[v]|M[v+1]<<8},B.n8=function(M,v){return M[v+1]|M[v]<<8},B.nm=function(M,v){return M[v]|M[v+1]<<8|M[v+2]<<16|16777216*M[v+3]},B.Ag=function(M,v){return M[v+3]|M[v+2]<<8|M[v+1]<<16|16777216*M[v]},(S.prototype=Object.create(Error.prototype)).constructor=S},71371:function(ae){"use strict";function B(E,f){var S=new Error(E);return S.code=f,S}function r(E){try{return decodeURIComponent(escape(E))}catch{return E}}function D(E,f,S){this.input=E.subarray(f,S),this.start=f;var M=String.fromCharCode.apply(null,this.input.subarray(0,4));if("II*\0"!==M&&"MM\0*"!==M)throw B("invalid TIFF signature","EBADDATA");this.big_endian="M"===M[0]}D.prototype.each=function(E){this.aborted=!1;var f=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:f}];this.ifds_to_read.length>0&&!this.aborted;){var S=this.ifds_to_read.shift();S.offset&&this.scan_ifd(S.id,S.offset,E)}},D.prototype.read_uint16=function(E){var f=this.input;if(E+2>f.length)throw B("unexpected EOF","EBADDATA");return this.big_endian?256*f[E]+f[E+1]:f[E]+256*f[E+1]},D.prototype.read_uint32=function(E){var f=this.input;if(E+4>f.length)throw B("unexpected EOF","EBADDATA");return this.big_endian?16777216*f[E]+65536*f[E+1]+256*f[E+2]+f[E+3]:f[E]+256*f[E+1]+65536*f[E+2]+16777216*f[E+3]},D.prototype.is_subifd_link=function(E,f){return 0===E&&34665===f||0===E&&34853===f||34665===E&&40965===f},D.prototype.exif_format_length=function(E){switch(E){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},D.prototype.exif_format_read=function(E,f){var S;switch(E){case 1:case 2:return this.input[f];case 6:return(S=this.input[f])|33554430*(128&S);case 3:return this.read_uint16(f);case 8:return(S=this.read_uint16(f))|131070*(32768&S);case 4:return this.read_uint32(f);case 9:return 0|this.read_uint32(f);default:return null}},D.prototype.scan_ifd=function(E,f,S){var M=this.read_uint16(f);f+=2;for(var v=0;v<M;v++){var c=this.read_uint16(f),i=this.read_uint16(f+2),s=this.read_uint32(f+4),a=this.exif_format_length(i),o=s*a,l=o<=4?f+8:this.read_uint32(f+8),u=!1;if(l+o>this.input.length)throw B("unexpected EOF","EBADDATA");for(var d=[],m=l,h=0;h<s;h++,m+=a){var T=this.exif_format_read(i,m);if(null===T){d=null;break}d.push(T)}if(Array.isArray(d)&&2===i&&(d=r(String.fromCharCode.apply(null,d)))&&"\0"===d[d.length-1]&&(d=d.slice(0,-1)),this.is_subifd_link(E,c)&&Array.isArray(d)&&Number.isInteger(d[0])&&d[0]>0&&(this.ifds_to_read.push({id:c,offset:d[0]}),u=!0),!1===S({is_big_endian:this.big_endian,ifd:E,tag:c,format:i,count:s,entry_offset:f+this.start,data_length:o,data_offset:l+this.start,value:d,is_subifd_link:u}))return void(this.aborted=!0);f+=12}0===E&&this.ifds_to_read.push({id:1,offset:this.read_uint32(f)})},ae.exports.ExifParser=D,ae.exports.get_orientation=function(E){var f=0;try{return new D(E,0,E.length).each(function(S){if(0===S.ifd&&274===S.tag&&Array.isArray(S.value))return f=S.value[0],!1}),f}catch{return-1}}},76767:function(ae,B,r){"use strict";var D=r(14847).n8,E=r(14847).Ag;function f(s,a){if(s.length<4+a)return null;var o=E(s,a);return s.length<o+a||o<8?null:{boxtype:String.fromCharCode.apply(null,s.slice(a+4,a+8)),data:s.slice(a+8,a+o),end:a+o}}function S(s,a){for(var o=0;;){var l=f(s,o);if(!l)break;switch(l.boxtype){case"ispe":a.sizes.push({width:E(l.data,4),height:E(l.data,8)});break;case"irot":a.transforms.push({type:"irot",value:3&l.data[0]});break;case"imir":a.transforms.push({type:"imir",value:1&l.data[0]})}o=l.end}}function M(s,a,o){for(var l=0,u=0;u<o;u++)l=256*l+(s[a+u]||0);return l}function v(s,a){for(var o=s[4]>>4&15,l=15&s[4],u=s[5]>>4&15,d=D(s,6),m=8,h=0;h<d;h++){var T=D(s,m),_=D(s,m+=2),g=M(s,m+=2,u),w=D(s,m+=u);if(m+=2,0===_&&1===w){var x=M(s,m,o),b=M(s,m+o,l);a.item_loc[T]={length:b,offset:x+g}}m+=w*(o+l)}}function c(s,a){for(var o=D(s,4),l=6,u=0;u<o;u++){var d=f(s,l);if(!d)break;if("infe"===d.boxtype){for(var m=D(d.data,4),h="",T=8;T<d.data.length&&d.data[T];T++)h+=String.fromCharCode(d.data[T]);a.item_inf[h]=m}l=d.end}}function i(s,a){for(var o=0;;){var l=f(s,o);if(!l)break;"ipco"===l.boxtype&&S(l.data,a),o=l.end}}ae.exports.unbox=f,ae.exports.readSizeFromMeta=function(s){var a={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(T,_){for(var g=4;;){var w=f(T,g);if(!w)break;"iprp"===w.boxtype&&i(w.data,_),"iloc"===w.boxtype&&v(w.data,_),"iinf"===w.boxtype&&c(w.data,_),g=w.end}}(s,a),a.sizes.length){var o,l,u,d=(l=(o=a.sizes).reduce(function(T,_){return T.width>_.width||T.width===_.width&&T.height>_.height?T:_}),u=o.reduce(function(T,_){return T.height>_.height||T.height===_.height&&T.width>_.width?T:_}),l.width>u.height||l.width===u.height&&l.height>u.width?l:u),m=1;a.transforms.forEach(function(T){var _={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},g={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if("imir"===T.type&&(m=0===T.value?g[m]:_[m=_[m=g[m]]]),"irot"===T.type)for(var w=0;w<T.value;w++)m=_[m]});var h=null;return a.item_inf.Exif&&(h=a.item_loc[a.item_inf.Exif]),{width:d.width,height:d.height,orientation:a.transforms.length?m:null,variants:a.sizes,exif_location:h}}},ae.exports.getMimeType=function(s){var a=String.fromCharCode.apply(null,s.slice(0,4)),o={};o[a]=!0;for(var l=8;l<s.length;l+=4)o[String.fromCharCode.apply(null,s.slice(l,l+4))]=!0;if(o.mif1||o.msf1||o.miaf)return"avif"===a||"avis"===a||"avio"===a?{type:"avif",mime:"image/avif"}:"heic"===a||"heix"===a?{type:"heic",mime:"image/heic"}:"hevc"===a||"hevx"===a?{type:"heic",mime:"image/heic-sequence"}:o.avif||o.avis?{type:"avif",mime:"image/avif"}:o.heic||o.heix||o.hevc||o.hevx||o.heis?o.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,f=r(14847).Ag,S=r(76767),M=r(71371),v=D("ftyp");ae.exports=function(c){if(E(c,4,v)){var i=S.unbox(c,0);if(i){var s=S.getMimeType(i.data);if(s){for(var a,o=i.end;;){var l=S.unbox(c,o);if(!l)break;if(o=l.end,"mdat"===l.boxtype)return;if("meta"===l.boxtype){a=l.data;break}}if(a){var u=S.readSizeFromMeta(a);if(u){var d={width:u.width,height:u.height,type:s.type,mime:s.mime,wUnits:"px",hUnits:"px"};if(u.variants.length>1&&(d.variants=u.variants),u.orientation&&(d.orientation=u.orientation),u.exif_location&&u.exif_location.offset+u.exif_location.length<=c.length){var m=f(c,u.exif_location.offset),h=c.slice(u.exif_location.offset+m+4,u.exif_location.offset+u.exif_location.length),T=M.get_orientation(h);T>0&&(d.orientation=T)}return d}}}}}}},2504:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,f=r(14847).mP,S=D("BM");ae.exports=function(M){if(!(M.length<26)&&E(M,0,S))return{width:f(M,18),height:f(M,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,f=r(14847).mP,S=D("GIF87a"),M=D("GIF89a");ae.exports=function(v){if(!(v.length<10)&&(E(v,0,S)||E(v,0,M)))return{width:f(v,6),height:f(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(ae,B,r){"use strict";var D=r(14847).mP;ae.exports=function(E){var f=D(E,0),S=D(E,2),M=D(E,4);if(0===f&&1===S&&M){for(var v=[],c={width:0,height:0},i=0;i<M;i++){var s=E[6+16*i]||256,a=E[6+16*i+1]||256,o={width:s,height:a};v.push(o),(s>c.width||a>c.height)&&(c=o)}return{width:c.width,height:c.height,variants:v,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(ae,B,r){"use strict";var D=r(14847).n8,E=r(14847).eG,f=r(14847).OF,S=r(71371),M=E("Exif\0\0");ae.exports=function(v){if(!(v.length<2)&&255===v[0]&&216===v[1]&&255===v[2])for(var c=2;;){for(;;){if(v.length-c<2)return;if(255===v[c++])break}for(var i,s,a=v[c++];255===a;)a=v[c++];if(208<=a&&a<=217||1===a)i=0;else{if(!(192<=a&&a<=254)||v.length-c<2)return;i=D(v,c)-2,c+=2}if(217===a||218===a)return;if(225===a&&i>=10&&f(v,c,M)&&(s=S.get_orientation(v.slice(c+6,c+i))),i>=5&&192<=a&&a<=207&&196!==a&&200!==a&&204!==a){if(v.length-c<i)return;var o={width:D(v,c+3),height:D(v,c+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return s>0&&(o.orientation=s),o}c+=i}}},6303:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,f=r(14847).Ag,S=D("\x89PNG\r\n\x1a\n"),M=D("IHDR");ae.exports=function(v){if(!(v.length<24)&&E(v,0,S)&&E(v,12,M))return{width:f(v,16),height:f(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,f=r(14847).Ag,S=D("8BPS\0\x01");ae.exports=function(M){if(!(M.length<22)&&E(M,0,S))return{width:f(M,18),height:f(M,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(ae){"use strict";function B(c){return"number"==typeof c&&isFinite(c)&&c>0}var r=/<[-_.:a-zA-Z0-9][^>]*>/,D=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,E=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,f=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,S=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,M=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function v(c){return M.test(c)?c.match(M)[0]:"px"}ae.exports=function(c){if(function(g){var w,x=0,b=g.length;for(239===g[0]&&187===g[1]&&191===g[2]&&(x=3);x<b&&(32===(w=g[x])||9===w||13===w||10===w);)x++;return x!==b&&60===g[x]}(c)){for(var i="",s=0;s<c.length;s++)i+=String.fromCharCode(c[s]);var a=(i.match(r)||[""])[0];if(D.test(a)){var o=(w=(g=a).match(E),x=g.match(f),b=g.match(S),{width:w&&(w[1]||w[2]),height:x&&(x[1]||x[2]),viewbox:b&&(b[1]||b[2])}),l=parseFloat(o.width),u=parseFloat(o.height);if(o.width&&o.height)return B(l)&&B(u)?{width:l,height:u,type:"svg",mime:"image/svg+xml",wUnits:v(o.width),hUnits:v(o.height)}:void 0;var d=(o.viewbox||"").split(" "),m={width:d[2],height:d[3]},h=parseFloat(m.width),T=parseFloat(m.height);if(B(h)&&B(T)&&v(m.width)===v(m.height)){var _=h/T;return o.width?B(l)?{width:l,height:l/_,type:"svg",mime:"image/svg+xml",wUnits:v(o.width),hUnits:v(o.width)}:void 0:o.height?B(u)?{width:u*_,height:u,type:"svg",mime:"image/svg+xml",wUnits:v(o.height),hUnits:v(o.height)}:void 0:{width:h,height:T,type:"svg",mime:"image/svg+xml",wUnits:v(m.width),hUnits:v(m.height)}}}}var g,w,x,b}},66278:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,f=r(14847).mP,S=r(14847).n8,M=r(14847).nm,v=r(14847).Ag,c=D("II*\0"),i=D("MM\0*");function s(l,u,d){return d?S(l,u):f(l,u)}function a(l,u,d){return d?v(l,u):M(l,u)}function o(l,u,d){var m=s(l,u+2,d);return 1!==a(l,u+4,d)||3!==m&&4!==m?null:3===m?s(l,u+8,d):a(l,u+8,d)}ae.exports=function(l){if(!(l.length<8)&&(E(l,0,c)||E(l,0,i))){var u=77===l[0],d=a(l,4,u)-8;if(!(d<0)){var m=d+8;if(!(l.length-m<2)){var h=12*s(l,m+0,u);if(!(h<=0||(m+=2,l.length-m<h))){var T,_,g,w;for(T=0;T<h;T+=12)256===(w=s(l,m+T,u))?_=o(l,m+T,u):257===w&&(g=o(l,m+T,u));return _&&g?{width:_,height:g,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},90784:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,f=r(14847).mP,S=r(14847).nm,M=r(71371),v=D("RIFF"),c=D("WEBP");function i(o,l){if(157===o[l+3]&&1===o[l+4]&&42===o[l+5])return{width:16383&f(o,l+6),height:16383&f(o,l+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function s(o,l){if(47===o[l]){var u=S(o,l+1);return{width:1+(16383&u),height:1+(u>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function a(o,l){return{width:1+(o[l+6]<<16|o[l+5]<<8|o[l+4]),height:1+(o[l+9]<<l|o[l+8]<<8|o[l+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}ae.exports=function(o){if(!(o.length<16)&&(E(o,0,v)||E(o,8,c))){var l=12,u=null,d=0,m=S(o,4)+8;if(!(m>o.length)){for(;l+8<m;)if(0!==o[l]){var h=String.fromCharCode.apply(null,o.slice(l,l+4)),T=S(o,l+4);"VP8 "===h&&T>=10?u=u||i(o,l+8):"VP8L"===h&&T>=9?u=u||s(o,l+8):"VP8X"===h&&T>=10?u=u||a(o,l+8):"EXIF"===h&&(d=M.get_orientation(o.slice(l+8,l+8+T)),l=1/0),l+=8+T}else l++;if(u)return d>0&&(u.orientation=d),u}}}},91497:function(ae,B,r){"use strict";ae.exports={avif:r(24461),bmp:r(2504),gif:r(47342),ico:r(31355),jpeg:r(54261),png:r(6303),psd:r(38689),svg:r(6881),tiff:r(66278),webp:r(90784)}},33575:function(ae,B,r){"use strict";var D=r(91497);ae.exports=function(E){return function(f){for(var S=Object.keys(D),M=0;M<S.length;M++){var v=D[S[M]](f);if(v)return v}return null}(E)},ae.exports.parsers=D},90386:function(ae){var B,r,D=ae.exports={};function E(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function S(u){if(B===setTimeout)return setTimeout(u,0);if((B===E||!B)&&setTimeout)return B=setTimeout,setTimeout(u,0);try{return B(u,0)}catch{try{return B.call(null,u,0)}catch{return B.call(this,u,0)}}}!function(){try{B="function"==typeof setTimeout?setTimeout:E}catch{B=E}try{r="function"==typeof clearTimeout?clearTimeout:f}catch{r=f}}();var M,v=[],c=!1,i=-1;function s(){c&&M&&(c=!1,M.length?v=M.concat(v):i=-1,v.length&&a())}function a(){if(!c){var u=S(s);c=!0;for(var d=v.length;d;){for(M=v,v=[];++i<d;)M&&M[i].run();i=-1,d=v.length}M=null,c=!1,function(m){if(r===clearTimeout)return clearTimeout(m);if((r===f||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(m);try{r(m)}catch{try{return r.call(null,m)}catch{return r.call(this,m)}}}(u)}}function o(u,d){this.fun=u,this.array=d}function l(){}D.nextTick=function(u){var d=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)d[m-1]=arguments[m];v.push(new o(u,d)),1!==v.length||c||S(a)},o.prototype.run=function(){this.fun.apply(null,this.array)},D.title="browser",D.browser=!0,D.env={},D.argv=[],D.version="",D.versions={},D.on=l,D.addListener=l,D.once=l,D.off=l,D.removeListener=l,D.removeAllListeners=l,D.emit=l,D.prependListener=l,D.prependOnceListener=l,D.listeners=function(u){return[]},D.binding=function(u){throw new Error("process.binding is not supported")},D.cwd=function(){return"/"},D.chdir=function(u){throw new Error("process.chdir is not supported")},D.umask=function(){return 0}},5877:function(ae,B,r){for(var D=r(9748),E=typeof window>"u"?r.g:window,f=["moz","webkit"],S="AnimationFrame",M=E["request"+S],v=E["cancel"+S]||E["cancelRequest"+S],c=0;!M&&c<f.length;c++)M=E[f[c]+"Request"+S],v=E[f[c]+"Cancel"+S]||E[f[c]+"CancelRequest"+S];if(!M||!v){var i=0,s=0,a=[];M=function(o){if(0===a.length){var l=D(),u=Math.max(0,16.666666666666668-(l-i));i=u+l,setTimeout(function(){var d=a.slice(0);a.length=0;for(var m=0;m<d.length;m++)if(!d[m].cancelled)try{d[m].callback(i)}catch(h){setTimeout(function(){throw h},0)}},Math.round(u))}return a.push({handle:++s,callback:o,cancelled:!1}),s},v=function(o){for(var l=0;l<a.length;l++)a[l].handle===o&&(a[l].cancelled=!0)}}ae.exports=function(o){return M.call(E,o)},ae.exports.cancel=function(){v.apply(E,arguments)},ae.exports.polyfill=function(o){o||(o=E),o.requestAnimationFrame=M,o.cancelAnimationFrame=v}},3593:function(ae,B,r){"use strict";var D=r(21527),E=r(25075),f=r(93447),S=r(71299),M=r(56131),v=r(30120),c=r(57060),i=c.float32,s=c.fract32;ae.exports=function(o,l){if("function"==typeof o?(l||(l={}),l.regl=o):l=o,l.length&&(l.positions=l),!(o=l.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var u,d,m,h,T,_,g=o._gl,w={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},x=[];return h=o.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),d=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),m=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),_=o.buffer({usage:"static",type:"float",data:a}),O(l),u=o({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:o.prop("range"),lineWidth:o.prop("lineWidth"),capSize:o.prop("capSize"),opacity:o.prop("opacity"),scale:o.prop("scale"),translate:o.prop("translate"),scaleFract:o.prop("scaleFract"),translateFract:o.prop("translateFract"),viewport:function(I,P){return[P.viewport.x,P.viewport.y,I.viewportWidth,I.viewportHeight]}},attributes:{color:{buffer:h,offset:function(I,P){return 4*P.offset},divisor:1},position:{buffer:d,offset:function(I,P){return 8*P.offset},divisor:1},positionFract:{buffer:m,offset:function(I,P){return 8*P.offset},divisor:1},error:{buffer:T,offset:function(I,P){return 16*P.offset},divisor:1},direction:{buffer:_,stride:24,offset:0},lineOffset:{buffer:_,stride:24,offset:8},capOffset:{buffer:_,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:o.prop("viewport")},viewport:o.prop("viewport"),stencil:!1,instances:o.prop("count"),count:a.length}),M(b,{update:O,draw:A,destroy:k,regl:o,gl:g,canvas:g.canvas,groups:x}),b;function b(I){I?O(I):null===I&&k(),A()}function A(I){if("number"==typeof I)return p(I);I&&!Array.isArray(I)&&(I=[I]),o._refresh(),x.forEach(function(P,R){P&&(I&&(P.draw=!!I[R]),P.draw?p(R):P.draw=!0)})}function p(I){"number"==typeof I&&(I=x[I]),null!=I&&I&&I.count&&I.color&&I.opacity&&I.positions&&I.positions.length>1&&(I.scaleRatio=[I.scale[0]*I.viewport.width,I.scale[1]*I.viewport.height],u(I),I.after&&I.after(I))}function O(I){if(I){null!=I.length?"number"==typeof I[0]&&(I=[{positions:I}]):Array.isArray(I)||(I=[I]);var P=0,R=0;if(b.groups=x=I.map(function(H,G){var Y=x[G];return H&&("function"==typeof H?H={after:H}:"number"==typeof H[0]&&(H={positions:H}),H=S(H,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),Y||(x[G]=Y={id:G,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},H=M({},w,H)),f(Y,H,[{lineWidth:function(se){return.5*+se},capSize:function(se){return.5*+se},opacity:parseFloat,errors:function(se){return se=v(se),R+=se.length,se},positions:function(se,te){return se=v(se,"float64"),te.count=Math.floor(se.length/2),te.bounds=D(se,2),te.offset=P,P+=te.count,se}},{color:function(se,te){var re=te.count;if(se||(se="transparent"),!Array.isArray(se)||"number"==typeof se[0]){var Q=se;se=Array(re);for(var ee=0;ee<re;ee++)se[ee]=Q}if(se.length<re)throw Error("Not enough colors");for(var oe=new Uint8Array(4*re),le=0;le<re;le++){var ue=E(se[le],"uint8");oe.set(ue,4*le)}return oe},range:function(se,te,re){return se||(se=te.bounds),te.scale=[1/(se[2]-se[0]),1/(se[3]-se[1])],te.translate=[-se[0],-se[1]],te.scaleFract=s(te.scale),te.translateFract=s(te.translate),se},viewport:function(se){var te;return Array.isArray(se)?te={x:se[0],y:se[1],width:se[2]-se[0],height:se[3]-se[1]}:se?((te={x:se.x||se.left||0,y:se.y||se.top||0}).width=se.right?se.right-te.x:se.w||se.width||0,te.height=se.bottom?se.bottom-te.y:se.h||se.height||0):te={x:0,y:0,width:g.drawingBufferWidth,height:g.drawingBufferHeight},te}}])),Y}),P||R){var N=x.reduce(function(H,G,Y){return H+(G?G.count:0)},0),j=new Float64Array(2*N),X=new Uint8Array(4*N),F=new Float32Array(4*N);x.forEach(function(H,G){if(H){var Y=H.positions,te=H.offset,Q=H.errors;H.count&&(X.set(H.color,4*te),F.set(Q,4*te),j.set(Y,2*te))}});var Z=i(j);d(Z);var W=s(j,Z);m(W),h(X),T(F)}}}function k(){d.destroy(),m.destroy(),h.destroy(),T.destroy(),_.destroy()}};var a=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},46075:function(ae,B,r){"use strict";var D=r(25075),E=r(21527),f=r(56131),S=r(56068),M=r(71299),v=r(30120),c=r(11474),i=r(54),s=r(57060),a=s.float32,o=s.fract32,l=r(83522),u=r(18863),d=r(6851);function m(h,T){if(!(this instanceof m))return new m(h,T);if("function"==typeof h?(T||(T={}),T.regl=h):T=h,T.length&&(T.positions=T),!(h=T.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=h._gl,this.regl=h,this.passes=[],this.shaders=m.shaders.has(h)?m.shaders.get(h):m.shaders.set(h,m.createShaders(h)).get(h),this.update(T)}ae.exports=m,m.dashMult=2,m.maxPatternLength=256,m.precisionThreshold=3e6,m.maxPoints=1e4,m.maxLines=2048,m.shaders=new l,m.createShaders=function(h){var T,_=h.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),g={primitive:"triangle strip",instances:h.prop("count"),count:4,offset:0,uniforms:{miterMode:function(x,b){return"round"===b.join?2:1},miterLimit:h.prop("miterLimit"),scale:h.prop("scale"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),thickness:h.prop("thickness"),dashTexture:h.prop("dashTexture"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),dashLength:h.prop("dashLength"),viewport:function(x,b){return[b.viewport.x,b.viewport.y,x.viewportWidth,x.viewportHeight]},depth:h.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(x,b){return!b.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport")},w=h(f({vert:S(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),frag:S(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:_,divisor:0,stride:8,offset:0},lineTop:{buffer:_,divisor:0,stride:8,offset:4},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},g));try{T=h(f({cull:{enable:!0,face:"back"},vert:S(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),frag:S(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:_,divisor:0,stride:8,offset:0},lineTop:{buffer:_,divisor:0,stride:8,offset:4},aColor:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:h.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},g))}catch{T=w}return{fill:h({primitive:"triangle",elements:function(x,b){return b.triangles},offset:0,vert:S(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),frag:S(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),uniforms:{scale:h.prop("scale"),color:h.prop("fill"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),viewport:function(x,b){return[b.viewport.x,b.viewport.y,x.viewportWidth,x.viewportHeight]}},attributes:{position:{buffer:h.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8}},blend:g.blend,depth:{enable:!1},scissor:g.scissor,stencil:g.stencil,viewport:g.viewport}),rect:w,miter:T}},m.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},m.prototype.render=function(){for(var h,T=[],_=arguments.length;_--;)T[_]=arguments[_];T.length&&(h=this).update.apply(h,T),this.draw()},m.prototype.draw=function(){for(var h=this,T=[],_=arguments.length;_--;)T[_]=arguments[_];return(T.length?T:this.passes).forEach(function(g,w){var x;if(g&&Array.isArray(g))return(x=h).draw.apply(x,g);"number"==typeof g&&(g=h.passes[g]),g&&g.count>1&&g.opacity&&(h.regl._refresh(),g.fill&&g.triangles&&g.triangles.length>2&&h.shaders.fill(g),g.thickness&&(g.scale[0]*g.viewport.width>m.precisionThreshold||g.scale[1]*g.viewport.height>m.precisionThreshold||"rect"===g.join||!g.join&&(g.thickness<=2||g.count>=m.maxPoints)?h.shaders.rect(g):h.shaders.miter(g)))}),this},m.prototype.update=function(h){var T=this;if(h){null!=h.length?"number"==typeof h[0]&&(h=[{positions:h}]):Array.isArray(h)||(h=[h]);var _=this.regl,g=this.gl;if(h.forEach(function(p,O){var k=T.passes[O];if(void 0!==p)if(null!==p){if("number"==typeof p[0]&&(p={positions:p}),p=M(p,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),k||(T.passes[O]=k={id:O,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:_.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:_.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:_.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:_.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},p=f({},m.defaults,p)),null!=p.thickness&&(k.thickness=parseFloat(p.thickness)),null!=p.opacity&&(k.opacity=parseFloat(p.opacity)),null!=p.miterLimit&&(k.miterLimit=parseFloat(p.miterLimit)),null!=p.overlay&&(k.overlay=!!p.overlay,O<m.maxLines&&(k.depth=2*(m.maxLines-1-O%m.maxLines)/m.maxLines-1)),null!=p.join&&(k.join=p.join),null!=p.hole&&(k.hole=p.hole),null!=p.fill&&(k.fill=p.fill?D(p.fill,"uint8"):null),null!=p.viewport&&(k.viewport=u(p.viewport)),k.viewport||(k.viewport=u([g.drawingBufferWidth,g.drawingBufferHeight])),null!=p.close&&(k.close=p.close),null===p.positions&&(p.positions=[]),p.positions){var I,P;if(p.positions.x&&p.positions.y){var R=p.positions.x,N=p.positions.y;P=k.count=Math.max(R.length,N.length),I=new Float64Array(2*P);for(var j=0;j<P;j++)I[2*j]=R[j],I[2*j+1]=N[j]}else I=v(p.positions,"float64"),P=k.count=Math.floor(I.length/2);var X=k.bounds=E(I,2);if(k.fill){for(var F=[],Z={},W=0,H=0,G=0,Y=k.count;H<Y;H++){var se=I[2*H],te=I[2*H+1];isNaN(se)||isNaN(te)||null==se||null==te?(se=I[2*W],te=I[2*W+1],Z[H]=W):W=H,F[G++]=se,F[G++]=te}if(p.splitNull){k.count-1 in Z||(Z[k.count]=k.count-1);var re=Object.keys(Z).map(Number).sort(function(Et,ht){return Et-ht}),Q=[],ee=0,oe=null!=k.hole?k.hole[0]:null;if(null!=oe){var le=d(re,function(Et){return Et>=oe});(re=re.slice(0,le)).push(oe)}for(var ue=function(Et){var ht=F.slice(2*ee,2*re[Et]).concat(oe?F.slice(2*oe):[]),pt=(k.hole||[]).map(function(Ft){return Ft-oe+(re[Et]-ee)}),Pt=c(ht,pt);Pt=Pt.map(function(Ft){return Ft+ee+(Ft+ee<re[Et]?0:oe-re[Et])}),Q.push.apply(Q,Pt),ee=re[Et]+1},de=0;de<re.length;de++)ue(de);for(var he=0,we=Q.length;he<we;he++)null!=Z[Q[he]]&&(Q[he]=Z[Q[he]]);k.triangles=Q}else{for(var Ae=c(F,k.hole||[]),Te=0,ve=Ae.length;Te<ve;Te++)null!=Z[Ae[Te]]&&(Ae[Te]=Z[Ae[Te]]);k.triangles=Ae}}var xe=new Float64Array(I);i(xe,2,X);var Fe=new Float64Array(2*P+6);k.close?I[0]===I[2*P-2]&&I[1]===I[2*P-1]?(Fe[0]=xe[2*P-4],Fe[1]=xe[2*P-3]):(Fe[0]=xe[2*P-2],Fe[1]=xe[2*P-1]):(Fe[0]=xe[0],Fe[1]=xe[1]),Fe.set(xe,2),k.close?I[0]===I[2*P-2]&&I[1]===I[2*P-1]?(Fe[2*P+2]=xe[2],Fe[2*P+3]=xe[3],k.count-=1):(Fe[2*P+2]=xe[0],Fe[2*P+3]=xe[1],Fe[2*P+4]=xe[2],Fe[2*P+5]=xe[3]):(Fe[2*P+2]=xe[2*P-2],Fe[2*P+3]=xe[2*P-1],Fe[2*P+4]=xe[2*P-2],Fe[2*P+5]=xe[2*P-1]);var Se=a(Fe);k.positionBuffer(Se);var ke=o(Fe,Se);k.positionFractBuffer(ke)}if(p.range?k.range=p.range:k.range||(k.range=k.bounds),(p.range||p.positions)&&k.count){var pe=k.bounds,Le=k.range[2]-k.range[0],Oe=k.range[3]-k.range[1];k.scale=[(pe[2]-pe[0])/Le,(pe[3]-pe[1])/Oe],k.translate=[-k.range[0]/Le+pe[0]/Le||0,-k.range[1]/Oe+pe[1]/Oe||0],k.scaleFract=o(k.scale),k.translateFract=o(k.translate)}if(p.dashes){var De,Ue=0;if(!p.dashes||p.dashes.length<2)Ue=1,De=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ue=0;for(var Ge=0;Ge<p.dashes.length;++Ge)Ue+=p.dashes[Ge];De=new Uint8Array(Ue*m.dashMult);for(var ye=0,Ie=255,Ee=0;Ee<2;Ee++)for(var Be=0;Be<p.dashes.length;++Be){for(var We=0,He=p.dashes[Be]*m.dashMult*.5;We<He;++We)De[ye++]=Ie;Ie^=255}}k.dashLength=Ue,k.dashTexture({channels:1,data:De,width:De.length,height:1,mag:"linear",min:"linear"},0,0)}if(p.color){var Je=k.count,et=p.color;et||(et="transparent");var at=new Uint8Array(4*Je+4);if(Array.isArray(et)&&"number"!=typeof et[0]){for(var mt=0;mt<Je;mt++){var ct=D(et[mt],"uint8");at.set(ct,4*mt)}at.set(D(et[0],"uint8"),4*Je)}else for(var St=D(et,"uint8"),Dt=0;Dt<Je+1;Dt++)at.set(St,4*Dt);k.colorBuffer({usage:"dynamic",type:"uint8",data:at})}}else T.passes[O]=null}),h.length<this.passes.length){for(var w=h.length;w<this.passes.length;w++){var x=this.passes[w];x&&(x.colorBuffer.destroy(),x.positionBuffer.destroy(),x.dashTexture.destroy())}this.passes.length=h.length}for(var b=[],A=0;A<this.passes.length;A++)null!==this.passes[A]&&b.push(this.passes[A]);return this.passes=b,this}},m.prototype.destroy=function(){return this.passes.forEach(function(h){h.colorBuffer.destroy(),h.positionBuffer.destroy(),h.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(ae,B,r){"use strict";function D(g,w){return function(x){if(Array.isArray(x))return x}(g)||function(x,b){var A=null==x?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(null!=A){var p,O,k,I,P=[],R=!0,N=!1;try{if(k=(A=A.call(x)).next,0===b){if(Object(A)!==A)return;R=!1}else for(;!(R=(p=k.call(A)).done)&&(P.push(p.value),P.length!==b);R=!0);}catch(j){N=!0,O=j}finally{try{if(!R&&null!=A.return&&(I=A.return(),Object(I)!==I))return}finally{if(N)throw O}}return P}}(g,w)||E(g,w)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(g,w){if(g){if("string"==typeof g)return f(g,w);var x=Object.prototype.toString.call(g).slice(8,-1);return"Object"===x&&g.constructor&&(x=g.constructor.name),"Map"===x||"Set"===x?Array.from(g):"Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?f(g,w):void 0}}function f(g,w){(null==w||w>g.length)&&(w=g.length);for(var x=0,b=new Array(w);x<w;x++)b[x]=g[x];return b}var S=r(25075),M=r(21527),v=r(6475),c=r(88294),i=r(56131),s=r(56068),a=r(71299),o=r(93447),l=r(30120),u=r(62683),d=r(57060),m=r(18863),h=T;function T(g,w){var x=this;if(!(this instanceof T))return new T(g,w);"function"==typeof g?(w||(w={}),w.regl=g):(w=g,g=null),w&&w.length&&(w.positions=w);var b,A=(g=w.regl)._gl,p=[];this.tooManyColors=u,b=g.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),i(this,{regl:g,gl:A,groups:[],markerCache:[null],markerTextures:[null],palette:p,paletteIds:{},paletteTexture:b,maxColors:255,maxSize:100,canvas:A.canvas}),this.update(w);var O={uniforms:{constPointSize:!!w.constPointSize,opacity:g.prop("opacity"),paletteSize:function(P,R){return[x.tooManyColors?0:255,b.height]},pixelRatio:g.context("pixelRatio"),scale:g.prop("scale"),scaleFract:g.prop("scaleFract"),translate:g.prop("translate"),translateFract:g.prop("translateFract"),markerTexture:g.prop("markerTexture"),paletteTexture:b},attributes:{x:function(P,R){return R.xAttr||{buffer:R.positionBuffer,stride:8,offset:0}},y:function(P,R){return R.yAttr||{buffer:R.positionBuffer,stride:8,offset:4}},xFract:function(P,R){return R.xAttr?{constant:[0,0]}:{buffer:R.positionFractBuffer,stride:8,offset:0}},yFract:function(P,R){return R.yAttr?{constant:[0,0]}:{buffer:R.positionFractBuffer,stride:8,offset:4}},size:function(P,R){return R.size.length?{buffer:R.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*R.size/x.maxSize)]}},borderSize:function(P,R){return R.borderSize.length?{buffer:R.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*R.borderSize/x.maxSize)]}},colorId:function(P,R){return R.color.length?{buffer:R.colorBuffer,stride:x.tooManyColors?8:4,offset:0}:{constant:x.tooManyColors?p.slice(4*R.color,4*R.color+4):[R.color]}},borderColorId:function(P,R){return R.borderColor.length?{buffer:R.colorBuffer,stride:x.tooManyColors?8:4,offset:x.tooManyColors?4:2}:{constant:x.tooManyColors?p.slice(4*R.borderColor,4*R.borderColor+4):[R.borderColor]}},isActive:function(P,R){return!0===R.activation?{constant:[1]}:R.activation?R.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:g.prop("viewport")},viewport:g.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:g.prop("elements"),count:g.prop("count"),offset:g.prop("offset"),primitive:"points"},k=i({},O);k.frag=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform float opacity;\nuniform sampler2D markerTexture;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),k.vert=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pointSizeScale;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}"]),this.drawMarker=g(k);var I=i({},O);I.frag=s(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nuniform float opacity;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),I.vert=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 paletteSize, scale, scaleFract, translate, translateFract;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pointSizeScale;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),u&&(I.frag=I.frag.replace("smoothstep","smoothStep"),k.frag=k.frag.replace("smoothstep","smoothStep")),this.drawCircle=g(I)}T.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},T.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},T.prototype.draw=function(){for(var g=this,w=arguments.length,x=new Array(w),b=0;b<w;b++)x[b]=arguments[b];var A=this.groups;if(1===x.length&&Array.isArray(x[0])&&(null===x[0][0]||Array.isArray(x[0][0]))&&(x=x[0]),this.regl._refresh(),x.length)for(var p=0;p<x.length;p++)this.drawItem(p,x[p]);else A.forEach(function(O,k){g.drawItem(k)});return this},T.prototype.drawItem=function(g,w){var x,b=this.groups,A=b[g];if("number"==typeof w&&(g=w,A=b[w],w=null),A&&A.count&&A.opacity){A.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,A,w));for(var p=[],O=1;O<A.activation.length;O++)A.activation[O]&&(!0===A.activation[O]||A.activation[O].data.length)&&p.push.apply(p,function(k){if(Array.isArray(k))return f(k)}(x=this.getMarkerDrawOptions(O,A,w))||function(k){if(typeof Symbol<"u"&&null!=k[Symbol.iterator]||null!=k["@@iterator"])return Array.from(k)}(x)||E(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());p.length&&this.drawMarker(p)}},T.prototype.getMarkerDrawOptions=function(g,w,x){var b=w.range,A=w.tree,p=w.viewport,O=w.activation,k=w.selectionBuffer,I=w.count;if(!A)return x?[i({},w,{markerTexture:this.markerTextures[g],activation:O[g],count:x.length,elements:x,offset:0})]:[i({},w,{markerTexture:this.markerTextures[g],activation:O[g],offset:0})];var P=[],R=A.range(b,{lod:!0,px:[(b[2]-b[0])/p.width,(b[3]-b[1])/p.height]});if(x){for(var N=O[g].data,j=new Uint8Array(I),X=0;X<x.length;X++){var F=x[X];j[F]=N?N[F]:1}k.subdata(j)}for(var Z=R.length;Z--;){var W=D(R[Z],2),H=W[0];P.push(i({},w,{markerTexture:this.markerTextures[g],activation:x?k:O[g],offset:H,count:W[1]-H}))}return P},T.prototype.update=function(){for(var g=this,w=arguments.length,x=new Array(w),b=0;b<w;b++)x[b]=arguments[b];if(x.length){1===x.length&&Array.isArray(x[0])&&(x=x[0]);var A=this.groups,p=this.gl,O=this.regl,k=this.maxSize,I=this.maxColors,P=this.palette;this.groups=A=x.map(function(R,N){var j=A[N];if(void 0===R)return j;null===R?R={positions:null}:"function"==typeof R?R={ondraw:R}:"number"==typeof R[0]&&(R={positions:R}),null===(R=a(R,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions&&(R.positions=[]),null!=R.tooManyColors&&(g.tooManyColors=R.tooManyColors),j||(A[N]=j={id:N,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:O.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:O.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:O.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:O.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:O.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},R=i({},T.defaults,R)),R.positions&&!("marker"in R)&&(R.marker=j.marker,delete j.marker),R.marker&&!("positions"in R)&&(R.positions=j.positions,delete j.positions);var X=0,F=0;if(o(j,R,[{snap:!0,size:function(Te,ve){return null==Te&&(Te=T.defaults.size),X+=Te&&Te.length?1:0,Te},borderSize:function(Te,ve){return null==Te&&(Te=T.defaults.borderSize),X+=Te&&Te.length?1:0,Te},opacity:parseFloat,color:function(Te,ve){return null==Te&&(Te=T.defaults.color),Te=g.updateColor(Te),F++,Te},borderColor:function(Te,ve){return null==Te&&(Te=T.defaults.borderColor),Te=g.updateColor(Te),F++,Te},bounds:function(Te,ve,xe){return"range"in xe||(xe.range=null),Te},positions:function(Te,ve,xe){var Fe=ve.snap,Se=ve.positionBuffer,ke=ve.positionFractBuffer,pe=ve.selectionBuffer;if(Te.x||Te.y)return ve.xAttr=Te.x.length?{buffer:O.buffer(Te.x),offset:0,stride:4,count:Te.x.length}:{buffer:Te.x.buffer,offset:4*Te.x.offset||0,stride:4*(Te.x.stride||1),count:Te.x.count},ve.yAttr=Te.y.length?{buffer:O.buffer(Te.y),offset:0,stride:4,count:Te.y.length}:{buffer:Te.y.buffer,offset:4*Te.y.offset||0,stride:4*(Te.y.stride||1),count:Te.y.count},ve.count=Math.max(ve.xAttr.count,ve.yAttr.count),Te;Te=l(Te,"float64");var fe=ve.count=Math.floor(Te.length/2),be=ve.bounds=fe?M(Te,2):null;if(xe.range||ve.range||(delete ve.range,xe.range=be),xe.marker||ve.marker||(delete ve.marker,xe.marker=null),Fe&&(!0===Fe||fe>Fe)?ve.tree=c(Te,{bounds:be}):Fe&&Fe.length&&(ve.tree=Fe),ve.tree){var Le={primitive:"points",usage:"static",data:ve.tree,type:"uint32"};ve.elements?ve.elements(Le):ve.elements=O.elements(Le)}var Oe=d.float32(Te);return Se({data:Oe,usage:"dynamic"}),ke({data:d.fract32(Te,Oe),usage:"dynamic"}),pe({data:new Uint8Array(fe),type:"uint8",usage:"stream"}),Te}},{marker:function(Te,ve,xe){var Fe=ve.activation;if(Fe.forEach(function(Oe){return Oe&&Oe.destroy&&Oe.destroy()}),Fe.length=0,Te&&"number"!=typeof Te[0]){for(var Se=[],ke=0,pe=Math.min(Te.length,ve.count);ke<pe;ke++){var fe=g.addMarker(Te[ke]);Se[fe]||(Se[fe]=new Uint8Array(ve.count)),Se[fe][ke]=1}for(var be=0;be<Se.length;be++)if(Se[be]){var Le={data:Se[be],type:"uint8",usage:"static"};Fe[be]?Fe[be](Le):Fe[be]=O.buffer(Le),Fe[be].data=Se[be]}}else Fe[g.addMarker(Te)]=!0;return Te},range:function(Te,ve,xe){var Fe=ve.bounds;if(Fe)return Te||(Te=Fe),ve.scale=[1/(Te[2]-Te[0]),1/(Te[3]-Te[1])],ve.translate=[-Te[0],-Te[1]],ve.scaleFract=d.fract(ve.scale),ve.translateFract=d.fract(ve.translate),Te},viewport:function(Te){return m(Te||[p.drawingBufferWidth,p.drawingBufferHeight])}}]),X){var W=j.count,H=j.size,G=j.borderSize,Y=j.sizeBuffer,se=new Uint8Array(2*W);if(H.length||G.length)for(var te=0;te<W;te++)se[2*te]=Math.round(255*(null==H[te]?H:H[te])/k),se[2*te+1]=Math.round(255*(null==G[te]?G:G[te])/k);Y({data:se,usage:"dynamic"})}if(F){var re,ee=j.count,oe=j.color,le=j.borderColor,ue=j.colorBuffer;if(g.tooManyColors){if(oe.length||le.length){re=new Uint8Array(8*ee);for(var de=0;de<ee;de++){var he=oe[de];re[8*de]=P[4*he],re[8*de+1]=P[4*he+1],re[8*de+2]=P[4*he+2],re[8*de+3]=P[4*he+3];var we=le[de];re[8*de+4]=P[4*we],re[8*de+5]=P[4*we+1],re[8*de+6]=P[4*we+2],re[8*de+7]=P[4*we+3]}}}else if(oe.length||le.length){re=new Uint8Array(4*ee+2);for(var Ae=0;Ae<ee;Ae++)null!=oe[Ae]&&(re[4*Ae]=oe[Ae]%I,re[4*Ae+1]=Math.floor(oe[Ae]/I)),null!=le[Ae]&&(re[4*Ae+2]=le[Ae]%I,re[4*Ae+3]=Math.floor(le[Ae]/I))}ue({data:re||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return j})}},T.prototype.addMarker=function(g){var w,x=this.markerTextures,b=this.regl,A=this.markerCache,p=null==g?0:A.indexOf(g);if(p>=0)return p;if(g instanceof Uint8Array||g instanceof Uint8ClampedArray)w=g;else{w=new Uint8Array(g.length);for(var O=0,k=g.length;O<k;O++)w[O]=255*g[O]}var I=Math.floor(Math.sqrt(w.length));return p=x.length,A.push(g),x.push(b.texture({channels:1,data:w,radius:I,mag:"linear",min:"linear"})),p},T.prototype.updateColor=function(g){var w=this.paletteIds,x=this.palette,b=this.maxColors;Array.isArray(g)||(g=[g]);var A=[];if("number"==typeof g[0]){var p=[];if(Array.isArray(g))for(var O=0;O<g.length;O+=4)p.push(g.slice(O,O+4));else for(var k=0;k<g.length;k+=4)p.push(g.subarray(k,k+4));g=p}for(var I=0;I<g.length;I++){var P=g[I];P=S(P,"uint8");var R=v(P,!1);if(null==w[R]){var N=x.length;w[R]=Math.floor(N/4),x[N]=P[0],x[N+1]=P[1],x[N+2]=P[2],x[N+3]=P[3]}A[I]=w[R]}return!this.tooManyColors&&x.length>4*b&&(this.tooManyColors=!0),this.updatePalette(x),1===A.length?A[0]:A},T.prototype.updatePalette=function(g){if(!this.tooManyColors){var w=this.maxColors,x=this.paletteTexture,b=Math.ceil(.25*g.length/w);if(b>1)for(var A=.25*(g=g.slice()).length%w;A<b*w;A++)g.push(0,0,0,0);x.height<b&&x.resize(w,b),x.subimage({width:Math.min(.25*g.length,w),height:b,data:g},0,0)}},T.prototype.destroy=function(){return this.groups.forEach(function(g){g.sizeBuffer.destroy(),g.positionBuffer.destroy(),g.positionFractBuffer.destroy(),g.colorBuffer.destroy(),g.activation.forEach(function(w){return w&&w.destroy&&w.destroy()}),g.selectionBuffer.destroy(),g.elements&&g.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(g){return g&&g.destroy&&g.destroy()}),this};var _=r(56131);ae.exports=function(g,w){var x=new h(g,w),b=x.render.bind(x);return _(b,{render:b,update:x.update.bind(x),draw:x.draw.bind(x),destroy:x.destroy.bind(x),regl:x.regl,gl:x.gl,canvas:x.gl.canvas,groups:x.groups,markers:x.markerCache,palette:x.palette}),b}},60487:function(ae,B,r){"use strict";var D=r(11870),E=r(71299),f=r(21527),S=r(5877),M=r(57471),v=r(18863),c=r(30120);function i(l,u){if(!(this instanceof i))return new i(l,u);this.traces=[],this.passes={},this.regl=l,this.scatter=D(l),this.canvas=this.scatter.canvas}function s(l,u,d){return(null!=l.id?l.id:l)<<16|(255&u)<<8|255&d}function a(l,u,d){var m,h,T,_,g=l[u],w=l[d];return g.length>2?(m=g[1],h=g[3]):g.length?(m=g[0],h=g[1]):(m=g.y,h=g.y+g.height),w.length>2?(T=w[0],_=w[2]):w.length?(T=w[0],_=w[1]):(T=w.x,_=w.x+w.width),[T,m,_,h]}function o(l){if("number"==typeof l)return[l,l,l,l];if(2===l.length)return[l[0],l[1],l[0],l[1]];var u=v(l);return[u.x,u.y,u.x+u.width,u.y+u.height]}ae.exports=i,i.prototype.render=function(){for(var l,u=this,d=[],m=arguments.length;m--;)d[m]=arguments[m];return d.length&&(l=this).update.apply(l,d),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=S(function(){u.draw(),u.dirty=!0,u.planned=null})):(this.draw(),this.dirty=!0,S(function(){u.dirty=!1})),this)},i.prototype.update=function(){for(var l,u=[],d=arguments.length;d--;)u[d]=arguments[d];if(u.length){for(var m=0;m<u.length;m++)this.updateItem(m,u[m]);this.traces=this.traces.filter(Boolean);for(var h=[],T=0,_=0;_<this.traces.length;_++){for(var g=this.traces[_],w=this.traces[_].passes,x=0;x<w.length;x++)h.push(this.passes[w[x]]);g.passOffset=T,T+=g.passes.length}return(l=this.scatter).update.apply(l,h),this}},i.prototype.updateItem=function(l,u){var d=this.regl;if(null===u)return this.traces[l]=null,this;if(!u)return this;var m,h=E(u,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[l]||(this.traces[l]={id:l,buffer:d.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([d._gl.drawingBufferWidth,d._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=h.color&&(T.color=h.color),null!=h.size&&(T.size=h.size),null!=h.marker&&(T.marker=h.marker),null!=h.borderColor&&(T.borderColor=h.borderColor),null!=h.borderSize&&(T.borderSize=h.borderSize),null!=h.opacity&&(T.opacity=h.opacity),h.viewport&&(T.viewport=v(h.viewport)),null!=h.diagonal&&(T.diagonal=h.diagonal),null!=h.upper&&(T.upper=h.upper),null!=h.lower&&(T.lower=h.lower),h.data){T.buffer(c(h.data)),T.columns=h.data.length,T.count=h.data[0].length,T.bounds=[];for(var _=0;_<T.columns;_++)T.bounds[_]=f(h.data[_],1)}h.range&&(T.range=h.range,m=T.range&&"number"!=typeof T.range[0]),h.domain&&(T.domain=h.domain);var g=!1;null!=h.padding&&(Array.isArray(h.padding)&&h.padding.length===T.columns&&"number"==typeof h.padding[h.padding.length-1]?(T.padding=h.padding.map(o),g=!0):T.padding=o(h.padding));var w=T.columns,x=T.count,b=T.viewport.width,A=T.viewport.height,p=T.viewport.x,O=T.viewport.y,k=b/w,I=A/w;T.passes=[];for(var P=0;P<w;P++)for(var R=0;R<w;R++)if((T.diagonal||R!==P)&&(T.upper||!(P>R))&&(T.lower||!(P<R))){var N=s(T.id,P,R),j=this.passes[N]||(this.passes[N]={});if(h.data&&(j.positions=h.transpose?{x:{buffer:T.buffer,offset:R,count:x,stride:w},y:{buffer:T.buffer,offset:P,count:x,stride:w}}:{x:{buffer:T.buffer,offset:R*x,count:x},y:{buffer:T.buffer,offset:P*x,count:x}},j.bounds=a(T.bounds,P,R)),h.domain||h.viewport||h.data){var X=g?a(T.padding,P,R):T.padding;if(T.domain){var F=a(T.domain,P,R);j.viewport=[p+F[0]*b+X[0],O+F[1]*A+X[1],p+F[2]*b-X[2],O+F[3]*A-X[3]]}else j.viewport=[p+R*k+k*X[0],O+P*I+I*X[1],p+(R+1)*k-k*X[2],O+(P+1)*I-I*X[3]]}h.color&&(j.color=T.color),h.size&&(j.size=T.size),h.marker&&(j.marker=T.marker),h.borderSize&&(j.borderSize=T.borderSize),h.borderColor&&(j.borderColor=T.borderColor),h.opacity&&(j.opacity=T.opacity),h.range&&(j.range=m?a(T.range,P,R):T.range||j.bounds),T.passes.push(N)}return this},i.prototype.draw=function(){for(var l,u=[],d=arguments.length;d--;)u[d]=arguments[d];if(u.length){for(var m=[],h=0;h<u.length;h++)if("number"==typeof u[h]){var T=this.traces[u[h]],g=T.passOffset;m.push.apply(m,M(g,g+T.passes.length))}else if(u[h].length){var w=u[h],x=this.traces[h],b=x.passes,A=x.passOffset;b=b.map(function(p,O){m[A+O]=w})}(l=this.scatter).draw.apply(l,m)}else this.scatter.draw();return this},i.prototype.destroy=function(){return this.traces.forEach(function(l){l.buffer&&l.buffer.destroy&&l.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},98580:function(ae){ae.exports=function(){function B(Ke,it){this.id=le++,this.type=Ke,this.data=it}function r(Ke){if(0===Ke.length)return[];var it=Ke.charAt(0),gt=Ke.charAt(Ke.length-1);if(1<Ke.length&&it===gt&&('"'===it||"'"===it))return['"'+Ke.substr(1,Ke.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(it=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Ke))return r(Ke.substr(0,it.index)).concat(r(it[1])).concat(r(Ke.substr(it.index+it[0].length)));if(1===(it=Ke.split(".")).length)return['"'+Ke.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Ke=[],gt=0;gt<it.length;++gt)Ke=Ke.concat(r(it[gt]));return Ke}function D(Ke){return"["+r(Ke).join("][")+"]"}function E(Ke){return"string"==typeof Ke?Ke.split():Ke}function f(Ke){return"string"==typeof Ke?document.querySelector(Ke):Ke}function M(Ke,it){for(var gt=Array(Ke),ft=0;ft<Ke;++ft)gt[ft]=it(ft);return gt}function v(Ke){var it,gt;return it=(65535<Ke)<<4,it|=gt=(255<(Ke>>>=it))<<3,(it|=gt=(15<(Ke>>>=gt))<<2)|(gt=(3<(Ke>>>=gt))<<1)|Ke>>>gt>>1}function c(){function Ke(ft){e:{for(var Ve=16;268435456>=Ve;Ve*=16)if(ft<=Ve){ft=Ve;break e}ft=0}return 0<(Ve=gt[v(ft)>>2]).length?Ve.pop():new ArrayBuffer(ft)}function it(ft){gt[v(ft.byteLength)>>2].push(ft)}var gt=M(8,function(){return[]});return{alloc:Ke,free:it,allocType:function(ft,Ve){var qe=null;switch(ft){case 5120:qe=new Int8Array(Ke(Ve),0,Ve);break;case 5121:qe=new Uint8Array(Ke(Ve),0,Ve);break;case 5122:qe=new Int16Array(Ke(2*Ve),0,Ve);break;case 5123:qe=new Uint16Array(Ke(2*Ve),0,Ve);break;case 5124:qe=new Int32Array(Ke(4*Ve),0,Ve);break;case 5125:qe=new Uint32Array(Ke(4*Ve),0,Ve);break;case 5126:qe=new Float32Array(Ke(4*Ve),0,Ve);break;default:return null}return qe.length!==Ve?qe.subarray(0,Ve):qe},freeType:function(ft){it(ft.buffer)}}}function i(Ke){return!!Ke&&"object"==typeof Ke&&Array.isArray(Ke.shape)&&Array.isArray(Ke.stride)&&"number"==typeof Ke.offset&&Ke.shape.length===Ke.stride.length&&(Array.isArray(Ke.data)||Te(Ke.data))}function s(Ke,it,gt,ft,Ve,qe){for(var dt=0;dt<it;++dt)for(var ut=Ke[dt],At=0;At<gt;++At)for(var wt=ut[At],kt=0;kt<ft;++kt)Ve[qe++]=wt[kt]}function a(Ke,it,gt,ft,Ve){for(var qe=1,dt=gt+1;dt<it.length;++dt)qe*=it[dt];var ut=it[gt];if(it.length-gt==4){var At=it[gt+1],wt=it[gt+2];for(it=it[gt+3],dt=0;dt<ut;++dt)s(Ke[dt],At,wt,it,ft,Ve),Ve+=qe}else for(dt=0;dt<ut;++dt)a(Ke[dt],it,gt+1,ft,Ve),Ve+=qe}function o(Ke){return 0|Fe[Object.prototype.toString.call(Ke)]}function l(Ke,it){for(var gt=0;gt<it.length;++gt)Ke[gt]=it[gt]}function u(Ke,it,gt,ft,Ve,qe,dt){for(var ut=0,At=0;At<gt;++At)for(var wt=0;wt<ft;++wt)Ke[ut++]=it[Ve*At+qe*wt+dt]}function h(Ke){for(var it=we.allocType(5123,Ke.length),gt=0;gt<Ke.length;++gt)if(isNaN(Ke[gt]))it[gt]=65535;else if(Ke[gt]===1/0)it[gt]=31744;else if(Ke[gt]===-1/0)it[gt]=64512;else{Oe[0]=Ke[gt];var ft=(qe=De[0])>>>31<<15,Ve=(qe<<1>>>24)-127,qe=qe>>13&1023;it[gt]=-24>Ve?ft:-14>Ve?ft+(qe+1024>>-14-Ve):15<Ve?ft+31744:ft+(Ve+15<<10)+qe}return it}function T(Ke){return Array.isArray(Ke)||Te(Ke)}function _(Ke){return"[object "+Ke+"]"}function g(Ke){return Array.isArray(Ke)&&(0===Ke.length||"number"==typeof Ke[0])}function w(Ke){return!(!Array.isArray(Ke)||0===Ke.length||!T(Ke[0]))}function x(Ke){return Object.prototype.toString.call(Ke)}function b(Ke){if(!Ke)return!1;var it=x(Ke);return 0<=et.indexOf(it)||g(Ke)||w(Ke)||i(Ke)}function A(Ke,it){36193===Ke.type?(Ke.data=h(it),we.freeType(it)):Ke.data=it}function p(Ke,it,gt,ft,Ve,qe){if(Ke=void 0!==mt[Ke]?mt[Ke]:ye[Ke]*at[it],qe&&(Ke*=6),Ve){for(ft=0;1<=gt;)ft+=Ke*gt*gt,gt/=2;return ft}return Ke*gt*ft}function I(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function j(Ke,it){return Ke>>>it|Ke<<32-it}function X(Ke,it){var gt=(65535&Ke)+(65535&it);return(Ke>>16)+(it>>16)+(gt>>16)<<16|65535&gt}function F(Ke){return Array.prototype.slice.call(Ke)}function Z(Ke){return F(Ke).join("")}function H(Ke){return Array.isArray(Ke)||Te(Ke)||i(Ke)}function G(Ke){return Ke.sort(function(it,gt){return"viewport"===it?-1:"viewport"===gt?1:it<gt?-1:1})}function Y(Ke,it,gt,ft){this.thisDep=Ke,this.contextDep=it,this.propDep=gt,this.append=ft}function se(Ke){return Ke&&!(Ke.thisDep||Ke.contextDep||Ke.propDep)}function te(Ke){return new Y(!1,!1,!1,Ke)}function re(Ke,it){var gt=Ke.type;if(0===gt)return new Y(!0,1<=(gt=Ke.data.length),2<=gt,it);if(4===gt)return new Y((gt=Ke.data).thisDep,gt.contextDep,gt.propDep,it);if(5===gt)return new Y(!1,!1,!1,it);if(6===gt){for(var ft=gt=!1,Ve=!1,qe=0;qe<Ke.data.length;++qe){var dt=Ke.data[qe];1===dt.type?Ve=!0:2===dt.type?ft=!0:3===dt.type?gt=!0:0===dt.type?(gt=!0,1<=(dt=dt.data)&&(ft=!0),2<=dt&&(Ve=!0)):4===dt.type&&(gt=gt||dt.data.thisDep,ft=ft||dt.data.contextDep,Ve=Ve||dt.data.propDep)}return new Y(gt,ft,Ve,it)}return new Y(3===gt,2===gt,1===gt,it)}function Q(Ke,it,gt,ft,Ve,qe,dt,ut,At,wt,kt,_t,Rt,bt,Tt,Ot){function Wt(Nt){return Nt.replace(".","_")}function qt(Nt,an,cn){var Pn=Wt(Nt);or.push(Nt),Dn[Pn]=vn[Pn]=!!cn,Yn[Pn]=an}function Jt(Nt,an,cn){var Pn=Wt(Nt);or.push(Nt),Array.isArray(cn)?(vn[Pn]=cn.slice(),Dn[Pn]=cn.slice()):vn[Pn]=Dn[Pn]=cn,Qn[Pn]=an}function pn(){var Nt=function W(Ke){function it(){var kt=[],_t=[];return oe(function(){kt.push.apply(kt,F(arguments))},{def:function(){var Rt="v"+Ve++;return _t.push(Rt),0<arguments.length&&(kt.push(Rt,"="),kt.push.apply(kt,F(arguments)),kt.push(";")),Rt},toString:function(){return Z([0<_t.length?"var "+_t.join(",")+";":"",Z(kt)])}})}function gt(){function kt(Ot,Wt){Rt(Ot,Wt,"=",_t.def(Ot,Wt),";")}var _t=it(),Rt=it(),bt=_t.toString,Tt=Rt.toString;return oe(function(){_t.apply(_t,F(arguments))},{def:_t.def,entry:_t,exit:Rt,save:kt,set:function(Ot,Wt,qt){kt(Ot,Wt),_t(Ot,Wt,"=",qt,";")},toString:function(){return bt()+Tt()}})}var ft=Ke&&Ke.cache,Ve=0,qe=[],dt=[],ut=[],At=it(),wt={};return{global:At,link:function(kt,_t){var Rt=_t&&_t.stable;if(!Rt)for(var bt=0;bt<dt.length;++bt)if(dt[bt]===kt&&!ut[bt])return qe[bt];return bt="g"+Ve++,qe.push(bt),dt.push(kt),ut.push(Rt),bt},block:it,proc:function(kt,_t){function Rt(){var Wt="a"+bt.length;return bt.push(Wt),Wt}var bt=[];_t=_t||0;for(var Tt=0;Tt<_t;++Tt)Rt();var Ot=(Tt=gt()).toString;return wt[kt]=oe(Tt,{arg:Rt,toString:function(){return Z(["function(",bt.join(),"){",Ot(),"}"])}})},scope:gt,cond:function(){var kt=Z(arguments),_t=gt(),Rt=gt(),bt=_t.toString,Tt=Rt.toString;return oe(_t,{then:function(){return _t.apply(_t,F(arguments)),this},else:function(){return Rt.apply(Rt,F(arguments)),this},toString:function(){var Ot=Tt();return Ot&&(Ot="else{"+Ot+"}"),Z(["if(",kt,"){",bt(),"}",Ot])}})},compile:function(){var kt=['"use strict";',At,"return {"];Object.keys(wt).forEach(function(bt){kt.push('"',bt,'":',wt[bt].toString(),",")}),kt.push("}");var _t,Rt=Z(kt).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return ft&&(_t=function(bt){for(var Tt,Ot="",Wt=0;Wt<bt.length;Wt++)Tt=bt.charCodeAt(Wt),Ot+="0123456789abcdef".charAt(Tt>>>4&15)+"0123456789abcdef".charAt(15&Tt);return Ot}(function(bt){for(var Tt=Array(bt.length>>2),Ot=0;Ot<Tt.length;Ot++)Tt[Ot]=0;for(Ot=0;Ot<8*bt.length;Ot+=8)Tt[Ot>>5]|=(255&bt.charCodeAt(Ot/8))<<24-Ot%32;var Wt,qt,Jt,pn,en,nn,dn,In,Hn,An,on,yn=8*bt.length;for(bt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Ot=Array(64),Tt[yn>>5]|=128<<24-yn%32,Tt[15+(yn+64>>9<<4)]=yn,In=0;In<Tt.length;In+=16){for(yn=bt[0],Wt=bt[1],qt=bt[2],Jt=bt[3],pn=bt[4],en=bt[5],nn=bt[6],dn=bt[7],Hn=0;64>Hn;Hn++){var ln;16>Hn?Ot[Hn]=Tt[Hn+In]:(An=Hn,on=X(on=j(on=Ot[Hn-2],17)^j(on,19)^on>>>10,Ot[Hn-7]),ln=j(ln=Ot[Hn-15],7)^j(ln,18)^ln>>>3,Ot[An]=X(X(on,ln),Ot[Hn-16])),An=X(X(X(X(dn,An=j(An=pn,6)^j(An,11)^j(An,25)),pn&en^~pn&nn),ht[Hn]),Ot[Hn]),on=X(dn=j(dn=yn,2)^j(dn,13)^j(dn,22),yn&Wt^yn&qt^Wt&qt),dn=nn,nn=en,en=pn,pn=X(Jt,An),Jt=qt,qt=Wt,Wt=yn,yn=X(An,on)}bt[0]=X(yn,bt[0]),bt[1]=X(Wt,bt[1]),bt[2]=X(qt,bt[2]),bt[3]=X(Jt,bt[3]),bt[4]=X(pn,bt[4]),bt[5]=X(en,bt[5]),bt[6]=X(nn,bt[6]),bt[7]=X(dn,bt[7])}for(Tt="",Ot=0;Ot<32*bt.length;Ot+=8)Tt+=String.fromCharCode(bt[Ot>>5]>>>24-Ot%32&255);return Tt}(function(bt){for(var Tt,Ot,Wt="",qt=-1;++qt<bt.length;)Tt=bt.charCodeAt(qt),Ot=qt+1<bt.length?bt.charCodeAt(qt+1):0,55296<=Tt&&56319>=Tt&&56320<=Ot&&57343>=Ot&&(Tt=65536+((1023&Tt)<<10)+(1023&Ot),qt++),127>=Tt?Wt+=String.fromCharCode(Tt):2047>=Tt?Wt+=String.fromCharCode(192|Tt>>>6&31,128|63&Tt):65535>=Tt?Wt+=String.fromCharCode(224|Tt>>>12&15,128|Tt>>>6&63,128|63&Tt):2097151>=Tt&&(Wt+=String.fromCharCode(240|Tt>>>18&7,128|Tt>>>12&63,128|Tt>>>6&63,128|63&Tt));return Wt}(Rt))),ft[_t])?ft[_t].apply(null,dt):(Rt=Function.apply(null,qe.concat(Rt)),ft&&(ft[_t]=Rt),Rt.apply(null,dt))}}}({cache:Tt}),an=Nt.link,cn=Nt.global;Nt.id=Fn++,Nt.batchId="0";var Pn=an(gr),Nn=Nt.shared={props:"a0"};Object.keys(gr).forEach(function(bn){Nn[bn]=cn.def(Pn,".",bn)});var Gn=Nt.next={},Tn=Nt.current={};Object.keys(Qn).forEach(function(bn){Array.isArray(vn[bn])&&(Gn[bn]=cn.def(Nn.next,".",bn),Tn[bn]=cn.def(Nn.current,".",bn))});var un=Nt.constants={};Object.keys(tn).forEach(function(bn){un[bn]=cn.def(JSON.stringify(tn[bn]))}),Nt.invoke=function(bn,Mn){switch(Mn.type){case 0:var Un=["this",Nn.context,Nn.props,Nt.batchId];return bn.def(an(Mn.data),".call(",Un.slice(0,Math.max(Mn.data.length+1,4)),")");case 1:return bn.def(Nn.props,Mn.data);case 2:return bn.def(Nn.context,Mn.data);case 3:return bn.def("this",Mn.data);case 4:return Mn.data.append(Nt,bn),Mn.data.ref;case 5:return Mn.data.toString();case 6:return Mn.data.map(function(Vn){return Nt.invoke(bn,Vn)})}},Nt.attribCache={};var fn={};return Nt.scopeAttrib=function(bn){if((bn=it.id(bn))in fn)return fn[bn];var Mn=wt.scope[bn];return Mn||(Mn=wt.scope[bn]=new dr),fn[bn]=an(Mn)},Nt}function Hn(Nt,an,cn,Pn,Nn){function Gn(_r){var Rn=un[_r];Rn&&(bn[_r]=Rn)}var _r,Mr,lr,wr,Tn=function(_r,Rn){if("string"==typeof(Mr=_r.static).frag&&"string"==typeof Mr.vert){if(0<Object.keys(Rn.dynamic).length)return null;var Mr=Rn.static,lr=Object.keys(Mr);if(0<lr.length&&"number"==typeof Mr[lr[0]]){for(var wr=[],Pr=0;Pr<lr.length;++Pr)wr.push([0|Mr[lr[Pr]],lr[Pr]]);return wr}}return null}(Nt,an),un=function(_r,Rn,Mr){function lr(ii){if(ii in wr){var pr=wr[ii];ii=!0;var Ur,ui,Yi=0|pr.x,Eo=0|pr.y;return"width"in pr?Ur=0|pr.width:ii=!1,"height"in pr?ui=0|pr.height:ii=!1,new Y(!ii&&Rn&&Rn.thisDep,!ii&&Rn&&Rn.contextDep,!ii&&Rn&&Rn.propDep,function(wo,co){var Zi=wo.shared.context,Vs=Ur;"width"in pr||(Vs=co.def(Zi,".","framebufferWidth","-",Yi));var vs=ui;return"height"in pr||(vs=co.def(Zi,".","framebufferHeight","-",Eo)),[Yi,Eo,Vs,vs]})}if(ii in Pr){var Qr=Pr[ii];return ii=re(Qr,function(wo,co){var Zi=wo.invoke(co,Qr),Vs=wo.shared.context,vs=co.def(Zi,".x|0"),Xi=co.def(Zi,".y|0");return[vs,Xi,co.def('"width" in ',Zi,"?",Zi,".width|0:","(",Vs,".","framebufferWidth","-",vs,")"),Zi=co.def('"height" in ',Zi,"?",Zi,".height|0:","(",Vs,".","framebufferHeight","-",Xi,")")]}),Rn&&(ii.thisDep=ii.thisDep||Rn.thisDep,ii.contextDep=ii.contextDep||Rn.contextDep,ii.propDep=ii.propDep||Rn.propDep),ii}return Rn?new Y(Rn.thisDep,Rn.contextDep,Rn.propDep,function(wo,co){var Zi=wo.shared.context;return[0,0,co.def(Zi,".","framebufferWidth"),co.def(Zi,".","framebufferHeight")]}):null}var wr=_r.static,Pr=_r.dynamic;if(_r=lr("viewport")){var Lr=_r;_r=new Y(_r.thisDep,_r.contextDep,_r.propDep,function(ii,pr){var Ur=Lr.append(ii,pr),ui=ii.shared.context;return pr.set(ui,".viewportWidth",Ur[2]),pr.set(ui,".viewportHeight",Ur[3]),Ur})}return{viewport:_r,scissor_box:lr("scissor.box")}}(Nt,Un=function en(Nt,an){var cn=Nt.static,Pn=Nt.dynamic;if("framebuffer"in cn){var Nn=cn.framebuffer;return Nn?(Nn=ut.getFramebuffer(Nn),te(function(Tn,un){var fn=Tn.link(Nn),bn=Tn.shared;return un.set(bn.framebuffer,".next",fn),un.set(bn=bn.context,".framebufferWidth",fn+".width"),un.set(bn,".framebufferHeight",fn+".height"),fn})):te(function(Tn,un){var fn=Tn.shared;return un.set(fn.framebuffer,".next","null"),un.set(fn=fn.context,".framebufferWidth",fn+".drawingBufferWidth"),un.set(fn,".framebufferHeight",fn+".drawingBufferHeight"),"null"})}if("framebuffer"in Pn){var Gn=Pn.framebuffer;return re(Gn,function(Tn,un){var fn=Tn.invoke(un,Gn),bn=Tn.shared,Mn=bn.framebuffer;return fn=un.def(Mn,".getFramebuffer(",fn,")"),un.set(Mn,".next",fn),un.set(bn=bn.context,".framebufferWidth",fn+"?"+fn+".width:"+bn+".drawingBufferWidth"),un.set(bn,".framebufferHeight",fn+"?"+fn+".height:"+bn+".drawingBufferHeight"),fn})}return null}(Nt)),fn=function dn(Nt,an){function cn(rr,_r){if(rr in Pn){var Rn=0|Pn[rr];return _r?Gn.offset=Rn:Gn.instances=Rn,te(function(lr,wr){return _r&&(lr.OFFSET=Rn),Rn})}if(rr in Nn){var Mr=Nn[rr];return re(Mr,function(lr,wr){var Pr=lr.invoke(wr,Mr);return _r&&(lr.OFFSET=Pr),Pr})}if(_r){if(fn)return te(function(lr,wr){return lr.OFFSET=0});if(Tn)return new Y(un.thisDep,un.contextDep,un.propDep,function(lr,wr){return wr.def(lr.shared.vao+".currentVAO?"+lr.shared.vao+".currentVAO.offset:0")})}else if(Tn)return new Y(un.thisDep,un.contextDep,un.propDep,function(lr,wr){return wr.def(lr.shared.vao+".currentVAO?"+lr.shared.vao+".currentVAO.instances:-1")});return null}var Pn=Nt.static,Nn=Nt.dynamic,Gn={},Tn=!1,un=function(){if("vao"in Pn){var rr=Pn.vao;return null!==rr&&null===wt.getVAO(rr)&&(rr=wt.createVAO(rr)),Tn=!0,Gn.vao=rr,te(function(Rn){var Mr=wt.getVAO(rr);return Mr?Rn.link(Mr):"null"})}if("vao"in Nn){Tn=!0;var _r=Nn.vao;return re(_r,function(Rn,Mr){var lr=Rn.invoke(Mr,_r);return Mr.def(Rn.shared.vao+".getVAO("+lr+")")})}return null}(),fn=!1,bn=function(){if("elements"in Pn){var rr=Pn.elements;if(Gn.elements=rr,H(rr)){var _r=Gn.elements=qe.create(rr,!0);rr=qe.getElements(_r),fn=!0}else rr&&(rr=qe.getElements(rr),fn=!0);return(_r=te(function(Mr,lr){if(rr){var wr=Mr.link(rr);return Mr.ELEMENTS=wr}return Mr.ELEMENTS=null})).value=rr,_r}if("elements"in Nn){fn=!0;var Rn=Nn.elements;return re(Rn,function(Mr,lr){var wr=(Pr=Mr.shared).isBufferArgs,Pr=Pr.elements,Lr=Mr.invoke(lr,Rn),ii=lr.def("null");return wr=lr.def(wr,"(",Lr,")"),Lr=Mr.cond(wr).then(ii,"=",Pr,".createStream(",Lr,");").else(ii,"=",Pr,".getElements(",Lr,");"),lr.entry(Lr),lr.exit(Mr.cond(wr).then(Pr,".destroyStream(",ii,");")),Mr.ELEMENTS=ii})}return Tn?new Y(un.thisDep,un.contextDep,un.propDep,function(Mr,lr){return lr.def(Mr.shared.vao+".currentVAO?"+Mr.shared.elements+".getElements("+Mr.shared.vao+".currentVAO.elements):null")}):null}(),Mn=cn("offset",!0),Un=function(){if("primitive"in Pn){var rr=Pn.primitive;return Gn.primitive=rr,te(function(Rn,Mr){return Le[rr]})}if("primitive"in Nn){var _r=Nn.primitive;return re(_r,function(Rn,Mr){var lr=Rn.constants.primTypes,wr=Rn.invoke(Mr,_r);return Mr.def(lr,"[",wr,"]")})}return fn?se(bn)?te(bn.value?function(Rn,Mr){return Mr.def(Rn.ELEMENTS,".primType")}:function(){return 4}):new Y(bn.thisDep,bn.contextDep,bn.propDep,function(Rn,Mr){var lr=Rn.ELEMENTS;return Mr.def(lr,"?",lr,".primType:",4)}):Tn?new Y(un.thisDep,un.contextDep,un.propDep,function(Rn,Mr){return Mr.def(Rn.shared.vao+".currentVAO?"+Rn.shared.vao+".currentVAO.primitive:4")}):null}(),Vn=function(){if("count"in Pn){var rr=0|Pn.count;return Gn.count=rr,te(function(){return rr})}if("count"in Nn){var _r=Nn.count;return re(_r,function(Rn,Mr){return Rn.invoke(Mr,_r)})}return fn?se(bn)?bn?Mn?new Y(Mn.thisDep,Mn.contextDep,Mn.propDep,function(Rn,Mr){return Mr.def(Rn.ELEMENTS,".vertCount-",Rn.OFFSET)}):te(function(Rn,Mr){return Mr.def(Rn.ELEMENTS,".vertCount")}):te(function(){return-1}):new Y(bn.thisDep||Mn.thisDep,bn.contextDep||Mn.contextDep,bn.propDep||Mn.propDep,function(Rn,Mr){var lr=Rn.ELEMENTS;return Rn.OFFSET?Mr.def(lr,"?",lr,".vertCount-",Rn.OFFSET,":-1"):Mr.def(lr,"?",lr,".vertCount:-1")}):Tn?new Y(un.thisDep,un.contextDep,un.propDep,function(Rn,Mr){return Mr.def(Rn.shared.vao,".currentVAO?",Rn.shared.vao,".currentVAO.count:-1")}):null}(),sr=cn("instances",!1);return{elements:bn,primitive:Un,count:Vn,instances:sr,offset:Mn,vao:un,vaoActive:Tn,elementsActive:fn,static:Gn}}(Nt),bn=(Mr=(_r=Nt).static,lr=_r.dynamic,wr={},or.forEach(function(Pr){function Lr(pr,Ur){if(Pr in Mr){var ui=pr(Mr[Pr]);wr[ii]=te(function(){return ui})}else if(Pr in lr){var Yi=lr[Pr];wr[ii]=re(Yi,function(Eo,Qr){return Ur(Eo,Qr,Eo.invoke(Qr,Yi))})}}var ii=Wt(Pr);switch(Pr){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return Lr(function(pr){return pr},function(pr,Ur,ui){return ui});case"depth.func":return Lr(function(pr){return Ht[pr]},function(pr,Ur,ui){return Ur.def(pr.constants.compareFuncs,"[",ui,"]")});case"depth.range":return Lr(function(pr){return pr},function(pr,Ur,ui){return[Ur.def("+",ui,"[0]"),Ur=Ur.def("+",ui,"[1]")]});case"blend.func":return Lr(function(pr){return[Ft["srcRGB"in pr?pr.srcRGB:pr.src],Ft["dstRGB"in pr?pr.dstRGB:pr.dst],Ft["srcAlpha"in pr?pr.srcAlpha:pr.src],Ft["dstAlpha"in pr?pr.dstAlpha:pr.dst]]},function(pr,Ur,ui){function Yi(co,Zi){return Ur.def('"',co,Zi,'" in ',ui,"?",ui,".",co,Zi,":",ui,".",co)}pr=pr.constants.blendFuncs;var Eo=Yi("src","RGB"),Qr=Yi("dst","RGB"),wo=(Eo=Ur.def(pr,"[",Eo,"]"),Ur.def(pr,"[",Yi("src","Alpha"),"]"));return[Eo,Qr=Ur.def(pr,"[",Qr,"]"),wo,pr=Ur.def(pr,"[",Yi("dst","Alpha"),"]")]});case"blend.equation":return Lr(function(pr){return"string"==typeof pr?[Ir[pr],Ir[pr]]:"object"==typeof pr?[Ir[pr.rgb],Ir[pr.alpha]]:void 0},function(pr,Ur,ui){var Yi=pr.constants.blendEquations,Eo=Ur.def(),Qr=Ur.def();return(pr=pr.cond("typeof ",ui,'==="string"')).then(Eo,"=",Qr,"=",Yi,"[",ui,"];"),pr.else(Eo,"=",Yi,"[",ui,".rgb];",Qr,"=",Yi,"[",ui,".alpha];"),Ur(pr),[Eo,Qr]});case"blend.color":return Lr(function(pr){return M(4,function(Ur){return+pr[Ur]})},function(pr,Ur,ui){return M(4,function(Yi){return Ur.def("+",ui,"[",Yi,"]")})});case"stencil.mask":return Lr(function(pr){return 0|pr},function(pr,Ur,ui){return Ur.def(ui,"|0")});case"stencil.func":return Lr(function(pr){return[Ht[pr.cmp||"keep"],pr.ref||0,"mask"in pr?pr.mask:-1]},function(pr,Ur,ui){return[pr=Ur.def('"cmp" in ',ui,"?",pr.constants.compareFuncs,"[",ui,".cmp]",":",7680),Ur.def(ui,".ref|0"),Ur=Ur.def('"mask" in ',ui,"?",ui,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return Lr(function(pr){return["stencil.opBack"===Pr?1029:1028,Lt[pr.fail||"keep"],Lt[pr.zfail||"keep"],Lt[pr.zpass||"keep"]]},function(pr,Ur,ui){function Yi(Qr){return Ur.def('"',Qr,'" in ',ui,"?",Eo,"[",ui,".",Qr,"]:",7680)}var Eo=pr.constants.stencilOps;return["stencil.opBack"===Pr?1029:1028,Yi("fail"),Yi("zfail"),Yi("zpass")]});case"polygonOffset.offset":return Lr(function(pr){return[0|pr.factor,0|pr.units]},function(pr,Ur,ui){return[Ur.def(ui,".factor|0"),Ur=Ur.def(ui,".units|0")]});case"cull.face":return Lr(function(pr){var Ur=0;return"front"===pr?Ur=1028:"back"===pr&&(Ur=1029),Ur},function(pr,Ur,ui){return Ur.def(ui,'==="front"?',1028,":",1029)});case"frontFace":return Lr(function(pr){return tt[pr]},function(pr,Ur,ui){return Ur.def(ui+'==="cw"?2304:2305')});case"colorMask":return Lr(function(pr){return pr.map(function(Ur){return!!Ur})},function(pr,Ur,ui){return M(4,function(Yi){return"!!"+ui+"["+Yi+"]"})});case"sample.coverage":return Lr(function(pr){return["value"in pr?pr.value:1,!!pr.invert]},function(pr,Ur,ui){return[Ur.def('"value" in ',ui,"?+",ui,".value:1"),Ur=Ur.def("!!",ui,".invert")]})}}),wr),Mn=function nn(Nt,an,cn){function Pn(bn){if(bn in Nn){var Mn=it.id(Nn[bn]);return(bn=te(function(){return Mn})).id=Mn,bn}if(bn in Gn){var Un=Gn[bn];return re(Un,function(Vn,sr){var rr=Vn.invoke(sr,Un);return sr.def(Vn.shared.strings,".id(",rr,")")})}return null}var Nn=Nt.static,Gn=Nt.dynamic,Tn=Pn("frag"),un=Pn("vert"),fn=null;return se(Tn)&&se(un)?(fn=kt.program(un.id,Tn.id,null,cn),Nt=te(function(bn,Mn){return bn.link(fn)})):Nt=new Y(Tn&&Tn.thisDep||un&&un.thisDep,Tn&&Tn.contextDep||un&&un.contextDep,Tn&&Tn.propDep||un&&un.propDep,function(bn,Mn){var Un,Vn,sr=bn.shared.shader;return Un=Tn?Tn.append(bn,Mn):Mn.def(sr,".","frag"),Vn=un?un.append(bn,Mn):Mn.def(sr,".","vert"),Mn.def(sr+".program("+Vn+","+Un+")")}),{frag:Tn,vert:un,progVar:Nt,program:fn}}(Nt,0,Tn);Gn("viewport"),Gn(Wt("scissor.box"));var Un,Vn=0<Object.keys(bn).length;if((Un={framebuffer:Un,draw:fn,shader:Mn,state:bn,dirty:Vn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(_r){var Rn,Mr=_r.static;if(_r=_r.dynamic,"profile"in Mr){var lr=!!Mr.profile;(Rn=te(function(Pr,Lr){return lr})).enable=lr}else if("profile"in _r){var wr=_r.profile;Rn=re(wr,function(Pr,Lr){return Pr.invoke(Lr,wr)})}return Rn}(Nt),Un.uniforms=function(_r,Rn){var Mr=_r.static,lr=_r.dynamic,wr={};return Object.keys(Mr).forEach(function(Pr){var Lr,ii=Mr[Pr];if("number"==typeof ii||"boolean"==typeof ii)Lr=te(function(){return ii});else if("function"==typeof ii){var pr=ii._reglType;"texture2d"===pr||"textureCube"===pr?Lr=te(function(Ur){return Ur.link(ii)}):"framebuffer"!==pr&&"framebufferCube"!==pr||(Lr=te(function(Ur){return Ur.link(ii.color[0])}))}else T(ii)&&(Lr=te(function(Ur){return Ur.global.def("[",M(ii.length,function(ui){return ii[ui]}),"]")}));Lr.value=ii,wr[Pr]=Lr}),Object.keys(lr).forEach(function(Pr){var Lr=lr[Pr];wr[Pr]=re(Lr,function(ii,pr){return ii.invoke(pr,Lr)})}),wr}(cn),Un.drawVAO=Un.scopeVAO=fn.vao,!Un.drawVAO&&Mn.program&&!Tn&&gt.angle_instanced_arrays&&fn.static.elements){var sr=!0;if(Nt=Mn.program.attributes.map(function(_r){return _r=an.static[_r],sr=sr&&!!_r,_r}),sr&&0<Nt.length){var rr=wt.getVAO(wt.createVAO({attributes:Nt,elements:fn.static.elements}));Un.drawVAO=new Y(null,null,null,function(_r,Rn){return _r.link(rr)}),Un.useVAO=!0}}return Tn?Un.useVAO=!0:Un.attributes=function In(Nt,an){var cn=Nt.static,Pn=Nt.dynamic,Nn={};return Object.keys(cn).forEach(function(Gn){var Tn=cn[Gn],un=it.id(Gn),fn=new dr;if(H(Tn))fn.state=1,fn.buffer=Ve.getBuffer(Ve.create(Tn,34962,!1,!0)),fn.type=0;else if(Mn=Ve.getBuffer(Tn))fn.state=1,fn.buffer=Mn,fn.type=0;else if("constant"in Tn){var bn=Tn.constant;fn.buffer="null",fn.state=2,"number"==typeof bn?fn.x=bn:pt.forEach(function(Rn,Mr){Mr<bn.length&&(fn[Rn]=bn[Mr])})}else{var Mn=H(Tn.buffer)?Ve.getBuffer(Ve.create(Tn.buffer,34962,!1,!0)):Ve.getBuffer(Tn.buffer),Un=0|Tn.offset,Vn=0|Tn.stride,sr=0|Tn.size,rr=!!Tn.normalized,_r=0;"type"in Tn&&(_r=Se[Tn.type]),Tn=0|Tn.divisor,fn.buffer=Mn,fn.state=1,fn.size=sr,fn.normalized=rr,fn.type=_r||Mn.dtype,fn.offset=Un,fn.stride=Vn,fn.divisor=Tn}Nn[Gn]=te(function(Rn,Mr){var lr=Rn.attribCache;if(un in lr)return lr[un];var wr={isStream:!1};return Object.keys(fn).forEach(function(Pr){wr[Pr]=fn[Pr]}),fn.buffer&&(wr.buffer=Rn.link(fn.buffer),wr.type=wr.type||wr.buffer+".dtype"),lr[un]=wr})}),Object.keys(Pn).forEach(function(Gn){var Tn=Pn[Gn];Nn[Gn]=re(Tn,function(un,fn){function bn(lr){fn(rr[lr],"=",Mn,".",lr,"|0;")}var Mn=un.invoke(fn,Tn),Un=un.shared,Vn=un.constants,sr=Un.isBufferArgs,rr=(Un=Un.buffer,{isStream:fn.def(!1)}),_r=new dr;_r.state=1,Object.keys(_r).forEach(function(lr){rr[lr]=fn.def(""+_r[lr])});var Rn=rr.buffer,Mr=rr.type;return fn("if(",sr,"(",Mn,")){",rr.isStream,"=true;",Rn,"=",Un,".createStream(",34962,",",Mn,");",Mr,"=",Rn,".dtype;","}else{",Rn,"=",Un,".getBuffer(",Mn,");","if(",Rn,"){",Mr,"=",Rn,".dtype;",'}else if("constant" in ',Mn,"){",rr.state,"=",2,";","if(typeof "+Mn+'.constant === "number"){',rr[pt[0]],"=",Mn,".constant;",pt.slice(1).map(function(lr){return rr[lr]}).join("="),"=0;","}else{",pt.map(function(lr,wr){return rr[lr]+"="+Mn+".constant.length>"+wr+"?"+Mn+".constant["+wr+"]:0;"}).join(""),"}}else{","if(",sr,"(",Mn,".buffer)){",Rn,"=",Un,".createStream(",34962,",",Mn,".buffer);","}else{",Rn,"=",Un,".getBuffer(",Mn,".buffer);","}",Mr,'="type" in ',Mn,"?",Vn.glTypes,"[",Mn,".type]:",Rn,".dtype;",rr.normalized,"=!!",Mn,".normalized;"),bn("size"),bn("offset"),bn("stride"),bn("divisor"),fn("}}"),fn.exit("if(",rr.isStream,"){",Un,".destroyStream(",Rn,");","}"),rr})}),Nn}(an),Un.context=function(_r){var Rn=_r.static,Mr=_r.dynamic,lr={};return Object.keys(Rn).forEach(function(wr){var Pr=Rn[wr];lr[wr]=te(function(Lr,ii){return"number"==typeof Pr||"boolean"==typeof Pr?""+Pr:Lr.link(Pr)})}),Object.keys(Mr).forEach(function(wr){var Pr=Mr[wr];lr[wr]=re(Pr,function(Lr,ii){return Lr.invoke(ii,Pr)})}),lr}(Pn),Un}function An(Nt,an,cn){var Pn=Nt.shared.context,Nn=Nt.scope();Object.keys(cn).forEach(function(Gn){an.save(Pn,"."+Gn);var Tn=cn[Gn].append(Nt,an);Array.isArray(Tn)?Nn(Pn,".",Gn,"=[",Tn.join(),"];"):Nn(Pn,".",Gn,"=",Tn,";")}),an(Nn)}function on(Nt,an,cn,Pn){var Nn,Gn=(un=Nt.shared).gl,Tn=un.framebuffer;$t&&(Nn=an.def(un.extensions,".webgl_draw_buffers"));var un=(fn=Nt.constants).drawBuffer,fn=fn.backBuffer;Nt=cn?cn.append(Nt,an):an.def(Tn,".next"),Pn||an("if(",Nt,"!==",Tn,".cur){"),an("if(",Nt,"){",Gn,".bindFramebuffer(",36160,",",Nt,".framebuffer);"),$t&&an(Nn,".drawBuffersWEBGL(",un,"[",Nt,".colorAttachments.length]);"),an("}else{",Gn,".bindFramebuffer(",36160,",null);"),$t&&an(Nn,".drawBuffersWEBGL(",fn,");"),an("}",Tn,".cur=",Nt,";"),Pn||an("}")}function yn(Nt,an,cn){var Pn=Nt.shared,Nn=Pn.gl,Gn=Nt.current,Tn=Nt.next,un=Pn.current,fn=Pn.next,bn=Nt.cond(un,".dirty");or.forEach(function(Mn){var Un,Vn;if(!((Mn=Wt(Mn))in cn.state))if(Mn in Tn){Un=Tn[Mn],Vn=Gn[Mn];var sr=M(vn[Mn].length,function(rr){return bn.def(Un,"[",rr,"]")});bn(Nt.cond(sr.map(function(rr,_r){return rr+"!=="+Vn+"["+_r+"]"}).join("||")).then(Nn,".",Qn[Mn],"(",sr,");",sr.map(function(rr,_r){return Vn+"["+_r+"]="+rr}).join(";"),";"))}else Un=bn.def(fn,".",Mn),sr=Nt.cond(Un,"!==",un,".",Mn),bn(sr),Mn in Yn?sr(Nt.cond(Un).then(Nn,".enable(",Yn[Mn],");").else(Nn,".disable(",Yn[Mn],");"),un,".",Mn,"=",Un,";"):sr(Nn,".",Qn[Mn],"(",Un,");",un,".",Mn,"=",Un,";")}),0===Object.keys(cn.state).length&&bn(un,".dirty=false;"),an(bn)}function ln(Nt,an,cn,Pn){var Nn,Gn=Nt.shared,Tn=Nt.current,un=Gn.current,fn=Gn.gl;G(Object.keys(cn)).forEach(function(bn){var Mn=cn[bn];if(!Pn||Pn(Mn)){var Un=Mn.append(Nt,an);if(Yn[bn]){var Vn=Yn[bn];se(Mn)?(Nn=Nt.link(Un,{stable:!0}),an(Nt.cond(Nn).then(fn,".enable(",Vn,");").else(fn,".disable(",Vn,");")),an(un,".",bn,"=",Nn,";")):(an(Nt.cond(Un).then(fn,".enable(",Vn,");").else(fn,".disable(",Vn,");")),an(un,".",bn,"=",Un,";"))}else if(T(Un)){var sr=Tn[bn];an(fn,".",Qn[bn],"(",Un,");",Un.map(function(rr,_r){return sr+"["+_r+"]="+rr}).join(";"),";")}else se(Mn)?(Nn=Nt.link(Un,{stable:!0}),an(fn,".",Qn[bn],"(",Nn,");",un,".",bn,"=",Nn,";")):an(fn,".",Qn[bn],"(",Un,");",un,".",bn,"=",Un,";")}})}function wn(Nt,an){Yt&&(Nt.instancing=an.def(Nt.shared.extensions,".angle_instanced_arrays"))}function Cn(Nt,an,cn,Pn,Nn){function Gn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function Tn(_r){_r(bn=an.def(),"=",Gn(),";"),"string"==typeof Nn?_r(Vn,".count+=",Nn,";"):_r(Vn,".count++;"),bt&&(Pn?_r(Mn=an.def(),"=",rr,".getNumPendingQueries();"):_r(rr,".beginQuery(",Vn,");"))}function un(_r){_r(Vn,".cpuTime+=",Gn(),"-",bn,";"),bt&&(Pn?_r(rr,".pushScopeStats(",Mn,",",rr,".getNumPendingQueries(),",Vn,");"):_r(rr,".endQuery();"))}function fn(_r){var Rn=an.def(sr,".profile");an(sr,".profile=",_r,";"),an.exit(sr,".profile=",Rn,";")}var bn,Mn,Un=Nt.shared,Vn=Nt.stats,sr=Un.current,rr=Un.timer;if(cn=cn.profile){if(se(cn))return void(cn.enable?(Tn(an),un(an.exit),fn("true")):fn("false"));fn(cn=cn.append(Nt,an))}else cn=an.def(sr,".profile");Tn(Un=Nt.block()),an("if(",cn,"){",Un,"}"),un(Nt=Nt.block()),an.exit("if(",cn,"){",Nt,"}")}function Ln(Nt,an,cn,Pn,Nn){var Tn=Nt.shared;Pn.forEach(function(un){var fn,bn=un.name,Mn=cn.attributes[bn];if(Mn){if(!Nn(Mn))return;fn=Mn.append(Nt,an)}else{if(!Nn(rt))return;var Un=Nt.scopeAttrib(bn);fn={},Object.keys(new dr).forEach(function(Vn){fn[Vn]=an.def(Un,".",Vn)})}!function Gn(un,fn,bn){function Mn(){an("if(!",rr,".buffer){",Vn,".enableVertexAttribArray(",sr,");}");var lr,wr=bn.type;lr=bn.size?an.def(bn.size,"||",fn):fn,an("if(",rr,".type!==",wr,"||",rr,".size!==",lr,"||",Mr.map(function(Pr){return rr+"."+Pr+"!=="+bn[Pr]}).join("||"),"){",Vn,".bindBuffer(",34962,",",_r,".buffer);",Vn,".vertexAttribPointer(",[sr,lr,wr,bn.normalized,bn.stride,bn.offset],");",rr,".type=",wr,";",rr,".size=",lr,";",Mr.map(function(Pr){return rr+"."+Pr+"="+bn[Pr]+";"}).join(""),"}"),Yt&&an("if(",rr,".divisor!==",wr=bn.divisor,"){",Nt.instancing,".vertexAttribDivisorANGLE(",[sr,wr],");",rr,".divisor=",wr,";}")}function Un(){an("if(",rr,".buffer){",Vn,".disableVertexAttribArray(",sr,");",rr,".buffer=null;","}if(",pt.map(function(lr,wr){return rr+"."+lr+"!=="+Rn[wr]}).join("||"),"){",Vn,".vertexAttrib4f(",sr,",",Rn,");",pt.map(function(lr,wr){return rr+"."+lr+"="+Rn[wr]+";"}).join(""),"}")}var Vn=Tn.gl,sr=an.def(un,".location"),rr=an.def(Tn.attributes,"[",sr,"]"),_r=bn.buffer,Rn=[bn.x,bn.y,bn.z,bn.w],Mr=["buffer","normalized","offset","stride"];1===(un=bn.state)?Mn():2===un?Un():(an("if(",un,"===",1,"){"),Mn(),an("}else{"),Un(),an("}"))}(Nt.link(un),function(Vn){switch(Vn){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(un.info.type),fn)})}function Sn(Nt,an,cn,Pn,Nn,Gn){for(var Tn,un=Nt.shared,fn=un.gl,bn=0;bn<Pn.length;++bn){var Mn,Un=(rr=Pn[bn]).name,Vn=rr.info.type,sr=cn.uniforms[Un],rr=Nt.link(rr)+".location";if(sr){if(!Nn(sr))continue;if(se(sr)){if(Un=sr.value,35678===Vn||35680===Vn)an(fn,".uniform1i(",rr,",",(Vn=Nt.link(Un._texture||Un.color[0]._texture))+".bind());"),an.exit(Vn,".unbind();");else if(35674===Vn||35675===Vn||35676===Vn)sr=2,35675===Vn?sr=3:35676===Vn&&(sr=4),an(fn,".uniformMatrix",sr,"fv(",rr,",false,",Un=Nt.global.def("new Float32Array(["+Array.prototype.slice.call(Un)+"])"),");");else{switch(Vn){case 5126:Tn="1f";break;case 35664:Tn="2f";break;case 35665:Tn="3f";break;case 35666:Tn="4f";break;case 35670:case 5124:Tn="1i";break;case 35671:case 35667:Tn="2i";break;case 35672:case 35668:Tn="3i";break;case 35673:case 35669:Tn="4i"}an(fn,".uniform",Tn,"(",rr,",",T(Un)?Array.prototype.slice.call(Un):Un,");")}continue}Mn=sr.append(Nt,an)}else{if(!Nn(rt))continue;Mn=an.def(un.uniforms,"[",it.id(Un),"]")}switch(35678===Vn?an("if(",Mn,"&&",Mn,'._reglType==="framebuffer"){',Mn,"=",Mn,".color[0];","}"):35680===Vn&&an("if(",Mn,"&&",Mn,'._reglType==="framebufferCube"){',Mn,"=",Mn,".color[0];","}"),Un=1,Vn){case 35678:case 35680:Vn=an.def(Mn,"._texture"),an(fn,".uniform1i(",rr,",",Vn,".bind());"),an.exit(Vn,".unbind();");continue;case 5124:case 35670:Tn="1i";break;case 35667:case 35671:Tn="2i",Un=2;break;case 35668:case 35672:Tn="3i",Un=3;break;case 35669:case 35673:Tn="4i",Un=4;break;case 5126:Tn="1f";break;case 35664:Tn="2f",Un=2;break;case 35665:Tn="3f",Un=3;break;case 35666:Tn="4f",Un=4;break;case 35674:Tn="Matrix2fv";break;case 35675:Tn="Matrix3fv";break;case 35676:Tn="Matrix4fv"}if("M"===Tn.charAt(0)){an(fn,".uniform",Tn,"(",rr,","),rr=Math.pow(Vn-35674+2,2);var _r=Nt.global.def("new Float32Array(",rr,")");Array.isArray(Mn)?an("false,(",M(rr,function(Mr){return _r+"["+Mr+"]="+Mn[Mr]}),",",_r,")"):an("false,(Array.isArray(",Mn,")||",Mn," instanceof Float32Array)?",Mn,":(",M(rr,function(Mr){return _r+"["+Mr+"]="+Mn+"["+Mr+"]"}),",",_r,")"),an(");")}else{if(1<Un){Vn=[];var Rn=[];for(sr=0;sr<Un;++sr)Array.isArray(Mn)?Rn.push(Mn[sr]):Rn.push(an.def(Mn+"["+sr+"]")),Gn&&Vn.push(an.def());Gn&&an("if(!",Nt.batchId,"||",Vn.map(function(Mr,lr){return Mr+"!=="+Rn[lr]}).join("||"),"){",Vn.map(function(Mr,lr){return Mr+"="+Rn[lr]+";"}).join("")),an(fn,".uniform",Tn,"(",rr,",",Rn.join(","),");")}else Gn&&(Vn=an.def(),an("if(!",Nt.batchId,"||",Vn,"!==",Mn,"){",Vn,"=",Mn,";")),an(fn,".uniform",Tn,"(",rr,",",Mn,");");Gn&&an("}")}}}function qn(Nt,an,cn,Pn){function Nn(wr){var Pr=Vn[wr];return Pr?Pr.append(Nt,Pr.contextDep&&Pn.contextDynamic||Pr.propDep?cn:an):an.def(Un,".",wr)}function Gn(){function wr(){cn(fn,".drawElementsInstancedANGLE(",[rr,Rn,Mr,_r+"<<(("+Mr+"-5121)>>1)",un],");")}function Pr(){cn(fn,".drawArraysInstancedANGLE(",[rr,_r,Rn,un],");")}sr&&"null"!==sr?lr?wr():(cn("if(",sr,"){"),wr(),cn("}else{"),Pr(),cn("}")):Pr()}function Tn(){function wr(){cn(Mn+".drawElements("+[rr,Rn,Mr,_r+"<<(("+Mr+"-5121)>>1)"]+");")}function Pr(){cn(Mn+".drawArrays("+[rr,_r,Rn]+");")}sr&&"null"!==sr?lr?wr():(cn("if(",sr,"){"),wr(),cn("}else{"),Pr(),cn("}")):Pr()}var un,fn,wr,Pr,bn=Nt.shared,Mn=bn.gl,Un=bn.draw,Vn=Pn.draw,sr=(Pr=an,(wr=Vn.elements)?((wr.contextDep&&Pn.contextDynamic||wr.propDep)&&(Pr=cn),wr=wr.append(Nt,Pr),Vn.elementsActive&&Pr("if("+wr+")"+Mn+".bindBuffer(34963,"+wr+".buffer.buffer);")):(wr=Pr.def(),Pr(wr,"=",Un,".","elements",";","if(",wr,"){",Mn,".bindBuffer(",34963,",",wr,".buffer.buffer);}","else if(",bn.vao,".currentVAO){",wr,"=",Nt.shared.elements+".getElements("+bn.vao,".currentVAO.elements);",xn?"":"if("+wr+")"+Mn+".bindBuffer(34963,"+wr+".buffer.buffer);","}")),wr),rr=Nn("primitive"),_r=Nn("offset"),Rn=function(){var wr=Vn.count,Pr=an;return wr?((wr.contextDep&&Pn.contextDynamic||wr.propDep)&&(Pr=cn),wr=wr.append(Nt,Pr)):wr=Pr.def(Un,".","count"),wr}();if("number"==typeof Rn){if(0===Rn)return}else cn("if(",Rn,"){"),cn.exit("}");Yt&&(un=Nn("instances"),fn=Nt.instancing);var Mr=sr+".type",lr=Vn.elements&&se(Vn.elements)&&!Vn.vaoActive;Yt&&("number"!=typeof un||0<=un)?"string"==typeof un?(cn("if(",un,">0){"),Gn(),cn("}else if(",un,"<0){"),Tn(),cn("}")):Gn():Tn()}function kn(Nt,an,cn,Pn,Nn){return Nn=(an=pn()).proc("body",Nn),Yt&&(an.instancing=Nn.def(an.shared.extensions,".angle_instanced_arrays")),Nt(an,Nn,cn,Pn),an.compile().body}function Zn(Nt,an,cn,Pn){wn(Nt,an),cn.useVAO?cn.drawVAO?an(Nt.shared.vao,".setVAO(",cn.drawVAO.append(Nt,an),");"):an(Nt.shared.vao,".setVAO(",Nt.shared.vao,".targetVAO);"):(an(Nt.shared.vao,".setVAO(null);"),Ln(Nt,an,cn,Pn.attributes,function(){return!0})),Sn(Nt,an,cn,Pn.uniforms,function(){return!0},!1),qn(Nt,an,an,cn)}function fr(Nt,an,cn,Pn){function Nn(){return!0}Nt.batchId="a1",wn(Nt,an),Ln(Nt,an,cn,Pn.attributes,Nn),Sn(Nt,an,cn,Pn.uniforms,Nn,!1),qn(Nt,an,an,cn)}function er(Nt,an,cn,Pn){function Nn(Un){return Un.contextDep&&Tn||Un.propDep}function Gn(Un){return!Nn(Un)}wn(Nt,an);var Tn=cn.contextDep,un=an.def(),fn=an.def();Nt.shared.props=fn,Nt.batchId=un;var bn=Nt.scope(),Mn=Nt.scope();an(bn.entry,"for(",un,"=0;",un,"<","a1",";++",un,"){",fn,"=","a0","[",un,"];",Mn,"}",bn.exit),cn.needsContext&&An(Nt,Mn,cn.context),cn.needsFramebuffer&&on(Nt,Mn,cn.framebuffer),ln(Nt,Mn,cn.state,Nn),cn.profile&&Nn(cn.profile)&&Cn(Nt,Mn,cn,!1,!0),Pn?(cn.useVAO?cn.drawVAO?Nn(cn.drawVAO)?Mn(Nt.shared.vao,".setVAO(",cn.drawVAO.append(Nt,Mn),");"):bn(Nt.shared.vao,".setVAO(",cn.drawVAO.append(Nt,bn),");"):bn(Nt.shared.vao,".setVAO(",Nt.shared.vao,".targetVAO);"):(bn(Nt.shared.vao,".setVAO(null);"),Ln(Nt,bn,cn,Pn.attributes,Gn),Ln(Nt,Mn,cn,Pn.attributes,Nn)),Sn(Nt,bn,cn,Pn.uniforms,Gn,!1),Sn(Nt,Mn,cn,Pn.uniforms,Nn,!0),qn(Nt,bn,Mn,cn)):(an=Nt.global.def("{}"),Pn=cn.shader.progVar.append(Nt,Mn),fn=Mn.def(Pn,".id"),bn=Mn.def(an,"[",fn,"]"),Mn(Nt.shared.gl,".useProgram(",Pn,".program);","if(!",bn,"){",bn,"=",an,"[",fn,"]=",Nt.link(function(Un){return kn(fr,Nt,cn,Un,2)}),"(",Pn,");}",bn,".call(this,a0[",un,"],",un,");"))}function mr(Nt,an,cn){var Pn=an.static[cn];if(Pn&&function(Mn){if("object"==typeof Mn&&!T(Mn)){for(var Un=Object.keys(Mn),Vn=0;Vn<Un.length;++Vn)if(ue.isDynamic(Mn[Un[Vn]]))return!0;return!1}}(Pn)){var Nn=Nt.global,Gn=Object.keys(Pn),Tn=!1,un=!1,fn=!1,bn=Nt.global.def("{}");Gn.forEach(function(Mn){var Un=Pn[Mn];if(ue.isDynamic(Un))"function"==typeof Un&&(Un=Pn[Mn]=ue.unbox(Un)),Mn=re(Un,null),Tn=Tn||Mn.thisDep,fn=fn||Mn.propDep,un=un||Mn.contextDep;else{switch(Nn(bn,".",Mn,"="),typeof Un){case"number":Nn(Un);break;case"string":Nn('"',Un,'"');break;case"object":Array.isArray(Un)&&Nn("[",Un.join(),"]");break;default:Nn(Nt.link(Un))}Nn(";")}}),an.dynamic[cn]=new ue.DynamicVariable(4,{thisDep:Tn,contextDep:un,propDep:fn,ref:bn,append:function(Mn,Un){Gn.forEach(function(Vn){var sr=Pn[Vn];ue.isDynamic(sr)&&(sr=Mn.invoke(Un,sr),Un(bn,".",Vn,"=",sr,";"))})}}),delete an.static[cn]}}var dr=wt.Record,Ir={add:32774,subtract:32778,"reverse subtract":32779};gt.ext_blend_minmax&&(Ir.min=32775,Ir.max=32776);var Yt=gt.angle_instanced_arrays,$t=gt.webgl_draw_buffers,xn=gt.oes_vertex_array_object,vn={dirty:!0,profile:Ot.profile},Dn={},or=[],Yn={},Qn={};qt("dither",3024),qt("blend.enable",3042),Jt("blend.color","blendColor",[0,0,0,0]),Jt("blend.equation","blendEquationSeparate",[32774,32774]),Jt("blend.func","blendFuncSeparate",[1,0,1,0]),qt("depth.enable",2929,!0),Jt("depth.func","depthFunc",513),Jt("depth.range","depthRange",[0,1]),Jt("depth.mask","depthMask",!0),Jt("colorMask","colorMask",[!0,!0,!0,!0]),qt("cull.enable",2884),Jt("cull.face","cullFace",1029),Jt("frontFace","frontFace",2305),Jt("lineWidth","lineWidth",1),qt("polygonOffset.enable",32823),Jt("polygonOffset.offset","polygonOffset",[0,0]),qt("sample.alpha",32926),qt("sample.enable",32928),Jt("sample.coverage","sampleCoverage",[1,!1]),qt("stencil.enable",2960),Jt("stencil.mask","stencilMask",-1),Jt("stencil.func","stencilFunc",[519,0,-1]),Jt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Jt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),qt("scissor.enable",3089),Jt("scissor.box","scissor",[0,0,Ke.drawingBufferWidth,Ke.drawingBufferHeight]),Jt("viewport","viewport",[0,0,Ke.drawingBufferWidth,Ke.drawingBufferHeight]);var gr={gl:Ke,context:Rt,strings:it,next:Dn,current:vn,draw:_t,elements:qe,buffer:Ve,shader:kt,attributes:wt.state,vao:wt,uniforms:At,framebuffer:ut,extensions:gt,timer:bt,isBufferArgs:H},tn={primTypes:Le,compareFuncs:Ht,blendFuncs:Ft,blendEquations:Ir,stencilOps:Lt,glTypes:Se,orientationType:tt};$t&&(tn.backBuffer=[1029],tn.drawBuffer=M(ft.maxDrawbuffers,function(Nt){return 0===Nt?[0]:M(Nt,function(an){return 36064+an})}));var Fn=0;return{next:Dn,current:vn,procs:function(){var Nt=pn(),an=Nt.proc("poll"),cn=Nt.proc("refresh"),Pn=Nt.block();an(Pn),cn(Pn);var Nn,Gn=(fn=Nt.shared).gl,Tn=fn.next,un=fn.current;Pn(un,".dirty=false;"),on(Nt,an),on(Nt,cn,null,!0),Yt&&(Nn=Nt.link(Yt)),gt.oes_vertex_array_object&&cn(Nt.link(gt.oes_vertex_array_object),".bindVertexArrayOES(null);");var fn=cn.def(fn.attributes),bn=cn.def(0),Mn=Nt.cond(bn,".buffer");Mn.then(Gn,".enableVertexAttribArray(i);",Gn,".bindBuffer(",34962,",",bn,".buffer.buffer);",Gn,".vertexAttribPointer(i,",bn,".size,",bn,".type,",bn,".normalized,",bn,".stride,",bn,".offset);").else(Gn,".disableVertexAttribArray(i);",Gn,".vertexAttrib4f(i,",bn,".x,",bn,".y,",bn,".z,",bn,".w);",bn,".buffer=null;");var Un=Nt.link(ft.maxAttributes,{stable:!0});return cn("for(var i=0;i<",Un,";++i){",bn,"=",fn,"[i];",Mn,"}"),Yt&&cn("for(var i=0;i<",Un,";++i){",Nn,".vertexAttribDivisorANGLE(i,",fn,"[i].divisor);","}"),cn(Nt.shared.vao,".currentVAO=null;",Nt.shared.vao,".setVAO(",Nt.shared.vao,".targetVAO);"),Object.keys(Yn).forEach(function(Vn){var sr=Yn[Vn],rr=Pn.def(Tn,".",Vn),_r=Nt.block();_r("if(",rr,"){",Gn,".enable(",sr,")}else{",Gn,".disable(",sr,")}",un,".",Vn,"=",rr,";"),cn(_r),an("if(",rr,"!==",un,".",Vn,"){",_r,"}")}),Object.keys(Qn).forEach(function(Vn){var sr,rr,_r=Qn[Vn],Rn=vn[Vn],Mr=Nt.block();Mr(Gn,".",_r,"("),T(Rn)?(_r=Rn.length,sr=Nt.global.def(Tn,".",Vn),rr=Nt.global.def(un,".",Vn),Mr(M(_r,function(lr){return sr+"["+lr+"]"}),");",M(_r,function(lr){return rr+"["+lr+"]="+sr+"["+lr+"];"}).join("")),an("if(",M(_r,function(lr){return sr+"["+lr+"]!=="+rr+"["+lr+"]"}).join("||"),"){",Mr,"}")):(sr=Pn.def(Tn,".",Vn),rr=Pn.def(un,".",Vn),Mr(sr,");",un,".",Vn,"=",sr,";"),an("if(",sr,"!==",rr,"){",Mr,"}")),cn(Mr)}),Nt.compile()}(),compile:function(Nt,an,cn,Pn,Nn){var Gn=pn();Gn.stats=Gn.link(Nn),Object.keys(an.static).forEach(function(un){mr(Gn,an,un)}),Pt.forEach(function(un){mr(Gn,Nt,un)});var Tn=Hn(Nt,an,cn,Pn);return Tn.shader.program&&(Tn.shader.program.attributes.sort(function(un,fn){return un.name<fn.name?-1:1}),Tn.shader.program.uniforms.sort(function(un,fn){return un.name<fn.name?-1:1})),function(un,fn){var bn=un.proc("draw",1);wn(un,bn),An(un,bn,fn.context),on(un,bn,fn.framebuffer),yn(un,bn,fn),ln(un,bn,fn.state),Cn(un,bn,fn,!1,!0);var Mn=fn.shader.progVar.append(un,bn);if(bn(un.shared.gl,".useProgram(",Mn,".program);"),fn.shader.program)Zn(un,bn,fn,fn.shader.program);else{bn(un.shared.vao,".setVAO(null);");var Un=un.global.def("{}"),Vn=bn.def(Mn,".id"),sr=bn.def(Un,"[",Vn,"]");bn(un.cond(sr).then(sr,".call(this,a0);").else(sr,"=",Un,"[",Vn,"]=",un.link(function(rr){return kn(Zn,un,fn,rr,1)}),"(",Mn,");",sr,".call(this,a0);"))}0<Object.keys(fn.state).length&&bn(un.shared.current,".dirty=true;"),un.shared.vao&&bn(un.shared.vao,".setVAO(null);")}(Gn,Tn),function nr(Nt,an){function cn(un){var fn=an.shader[un];fn&&(fn=fn.append(Nt,Pn),isNaN(fn)?Pn.set(Nn.shader,"."+un,fn):Pn.set(Nn.shader,"."+un,Nt.link(fn,{stable:!0})))}var Pn=Nt.proc("scope",3);Nt.batchId="a2";var Nn=Nt.shared,Gn=Nn.current;if(An(Nt,Pn,an.context),an.framebuffer&&an.framebuffer.append(Nt,Pn),G(Object.keys(an.state)).forEach(function(un){var fn=an.state[un],bn=fn.append(Nt,Pn);T(bn)?bn.forEach(function(Mn,Un){isNaN(Mn)?Pn.set(Nt.next[un],"["+Un+"]",Mn):Pn.set(Nt.next[un],"["+Un+"]",Nt.link(Mn,{stable:!0}))}):se(fn)?Pn.set(Nn.next,"."+un,Nt.link(bn,{stable:!0})):Pn.set(Nn.next,"."+un,bn)}),Cn(Nt,Pn,an,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(un){var fn=an.draw[un];fn&&(fn=fn.append(Nt,Pn),isNaN(fn)?Pn.set(Nn.draw,"."+un,fn):Pn.set(Nn.draw,"."+un,Nt.link(fn),{stable:!0}))}),Object.keys(an.uniforms).forEach(function(un){var fn=an.uniforms[un].append(Nt,Pn);Array.isArray(fn)&&(fn="["+fn.map(function(bn){return isNaN(bn)?bn:Nt.link(bn,{stable:!0})})+"]"),Pn.set(Nn.uniforms,"["+Nt.link(it.id(un),{stable:!0})+"]",fn)}),Object.keys(an.attributes).forEach(function(un){var fn=an.attributes[un].append(Nt,Pn),bn=Nt.scopeAttrib(un);Object.keys(new dr).forEach(function(Mn){Pn.set(bn,"."+Mn,fn[Mn])})}),an.scopeVAO){var Tn=an.scopeVAO.append(Nt,Pn);isNaN(Tn)?Pn.set(Nn.vao,".targetVAO",Tn):Pn.set(Nn.vao,".targetVAO",Nt.link(Tn,{stable:!0}))}cn("vert"),cn("frag"),0<Object.keys(an.state).length&&(Pn(Gn,".dirty=true;"),Pn.exit(Gn,".dirty=true;")),Pn("a1(",Nt.shared.context,",a0,",Nt.batchId,");")}(Gn,Tn),function(un,fn){function bn(Rn){return Rn.contextDep&&Un||Rn.propDep}var Mn=un.proc("batch",2);un.batchId="0",wn(un,Mn);var Un=!1,Vn=!0;Object.keys(fn.context).forEach(function(Rn){Un=Un||fn.context[Rn].propDep}),Un||(An(un,Mn,fn.context),Vn=!1);var sr=!1;if((rr=fn.framebuffer)?(rr.propDep?Un=sr=!0:rr.contextDep&&Un&&(sr=!0),sr||on(un,Mn,rr)):on(un,Mn,null),fn.state.viewport&&fn.state.viewport.propDep&&(Un=!0),yn(un,Mn,fn),ln(un,Mn,fn.state,function(Rn){return!bn(Rn)}),fn.profile&&bn(fn.profile)||Cn(un,Mn,fn,!1,"a1"),fn.contextDep=Un,fn.needsContext=Vn,fn.needsFramebuffer=sr,(Vn=fn.shader.progVar).contextDep&&Un||Vn.propDep)er(un,Mn,fn,null);else if(Vn=Vn.append(un,Mn),Mn(un.shared.gl,".useProgram(",Vn,".program);"),fn.shader.program)er(un,Mn,fn,fn.shader.program);else{Mn(un.shared.vao,".setVAO(null);");var rr=un.global.def("{}"),_r=(sr=Mn.def(Vn,".id"),Mn.def(rr,"[",sr,"]"));Mn(un.cond(_r).then(_r,".call(this,a0,a1);").else(_r,"=",rr,"[",sr,"]=",un.link(function(Rn){return kn(er,un,fn,Rn,2)}),"(",Vn,");",_r,".call(this,a0,a1);"))}0<Object.keys(fn.state).length&&Mn(un.shared.current,".dirty=true;"),un.shared.vao&&Mn(un.shared.vao,".setVAO(null);")}(Gn,Tn),oe(Gn.compile(),{destroy:function(){Tn.shader.program.destroy()}})}}}function ee(Ke,it){for(var gt=0;gt<Ke.length;++gt)if(Ke[gt]===it)return gt;return-1}var oe=function(Ke,it){for(var gt=Object.keys(it),ft=0;ft<gt.length;++ft)Ke[gt[ft]]=it[gt[ft]];return Ke},le=0,ue={DynamicVariable:B,define:function(Ke,it){return new B(Ke,D(it+""))},isDynamic:function(Ke){return"function"==typeof Ke&&!Ke._reglType||Ke instanceof B},unbox:function Ke(it,gt){return"function"==typeof it?new B(0,it):"number"==typeof it||"boolean"==typeof it?new B(5,it):Array.isArray(it)?new B(6,it.map(function(ft,Ve){return Ke(ft,gt+"["+Ve+"]")})):it instanceof B?it:void 0},accessor:D},de={next:"function"==typeof requestAnimationFrame?function(Ke){return requestAnimationFrame(Ke)}:function(Ke){return setTimeout(Ke,16)},cancel:"function"==typeof cancelAnimationFrame?function(Ke){return cancelAnimationFrame(Ke)}:clearTimeout},he=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},we=c();we.zero=c();var Te=function(Ke){return Ke instanceof Uint8Array||Ke instanceof Uint16Array||Ke instanceof Uint32Array||Ke instanceof Int8Array||Ke instanceof Int16Array||Ke instanceof Int32Array||Ke instanceof Float32Array||Ke instanceof Float64Array||Ke instanceof Uint8ClampedArray},ve=function(Ke){return Object.keys(Ke).map(function(it){return Ke[it]})},xe={shape:function(Ke){for(var it=[];Ke.length;Ke=Ke[0])it.push(Ke.length);return it},flatten:function(Ke,it,gt,ft){var Ve=1;if(it.length)for(var qe=0;qe<it.length;++qe)Ve*=it[qe];else Ve=0;switch(gt=ft||we.allocType(gt,Ve),it.length){case 0:break;case 1:for(ft=it[0],it=0;it<ft;++it)gt[it]=Ke[it];break;case 2:for(ft=it[0],it=it[1],qe=Ve=0;qe<ft;++qe)for(var dt=Ke[qe],ut=0;ut<it;++ut)gt[Ve++]=dt[ut];break;case 3:s(Ke,it[0],it[1],it[2],gt,0);break;default:a(Ke,it,0,gt,0)}return gt}},Fe={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Se={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},ke={dynamic:35048,stream:35040,static:35044},pe=xe.flatten,fe=xe.shape,be=[];be[5120]=1,be[5122]=2,be[5124]=4,be[5121]=1,be[5123]=2,be[5125]=4,be[5126]=4;var Le={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Oe=new Float32Array(1),De=new Uint32Array(Oe.buffer),Ue=[9984,9986,9985,9987],Ge=[0,6409,6410,6407,6408],ye={};ye[6409]=ye[6406]=ye[6402]=1,ye[34041]=ye[6410]=2,ye[6407]=ye[35904]=3,ye[6408]=ye[35906]=4;var Ie=_("HTMLCanvasElement"),Ee=_("OffscreenCanvas"),Be=_("CanvasRenderingContext2D"),We=_("ImageBitmap"),He=_("HTMLImageElement"),Je=_("HTMLVideoElement"),et=Object.keys(Fe).concat([Ie,Ee,Be,We,He,Je]),at=[];at[5121]=1,at[5126]=4,at[36193]=2,at[5123]=2,at[5125]=4;var mt=[];mt[32854]=2,mt[32855]=2,mt[36194]=2,mt[34041]=4,mt[33776]=.5,mt[33777]=.5,mt[33778]=1,mt[33779]=1,mt[35986]=.5,mt[35987]=1,mt[34798]=1,mt[35840]=.5,mt[35841]=.25,mt[35842]=.5,mt[35843]=.25,mt[36196]=.5;var ct=[];ct[32854]=2,ct[32855]=2,ct[36194]=2,ct[33189]=2,ct[36168]=1,ct[34041]=4,ct[35907]=4,ct[34836]=16,ct[34842]=8,ct[34843]=6;var Dt=[];Dt[6408]=4,Dt[6407]=3;var Et=[];Et[5121]=1,Et[5126]=4,Et[36193]=2;var ht=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],pt=["x","y","z","w"],Pt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Ft={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ht={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Lt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},tt={cw:2304,ccw:2305},rt=new Y(!1,!1,!1,function(){});return function(Ke){function it(){if(0===fr.length)en&&en.update(),dr=null;else{dr=de.next(it),kt();for(var Yt=fr.length-1;0<=Yt;--Yt){var $t=fr[Yt];$t&&$t(Hn,null,0)}bt.flush(),en&&en.update()}}function gt(){!dr&&0<fr.length&&(dr=de.next(it))}function ft(){dr&&(de.cancel(it),dr=null)}function Ve(Yt){Yt.preventDefault(),ft(),er.forEach(function($t){$t()})}function qe(Yt){bt.getError(),Ot.restore(),wn.restore(),on.restore(),Cn.restore(),Ln.restore(),Sn.restore(),ln.restore(),en&&en.restore(),qn.procs.refresh(),gt(),nr.forEach(function($t){$t()})}function dt(Yt){function $t(Nt,an){var cn={},Pn={};return Object.keys(Nt).forEach(function(Nn){var Gn=Nt[Nn];if(ue.isDynamic(Gn))Pn[Nn]=ue.unbox(Gn,Nn);else{if(an&&Array.isArray(Gn))for(var Tn=0;Tn<Gn.length;++Tn)if(ue.isDynamic(Gn[Tn]))return void(Pn[Nn]=ue.unbox(Gn,Nn));cn[Nn]=Gn}}),{dynamic:Pn,static:cn}}var xn=$t(Yt.context||{},!0),vn=$t(Yt.uniforms||{},!0),Dn=$t(Yt.attributes||{},!1);Yt=$t(function(Nt){function an(Pn){if(Pn in cn){var Nn=cn[Pn];delete cn[Pn],Object.keys(Nn).forEach(function(Gn){cn[Pn+"."+Gn]=Nn[Gn]})}}var cn=oe({},Nt);return delete cn.uniforms,delete cn.attributes,delete cn.context,delete cn.vao,"stencil"in cn&&cn.stencil.op&&(cn.stencil.opBack=cn.stencil.opFront=cn.stencil.op,delete cn.stencil.op),an("blend"),an("depth"),an("cull"),an("stencil"),an("polygonOffset"),an("scissor"),an("sample"),"vao"in Nt&&(cn.vao=Nt.vao),cn}(Yt),!1);var or={gpuTime:0,cpuTime:0,count:0},Yn=qn.compile(Yt,Dn,vn,xn,or),Qn=Yn.draw,gr=Yn.batch,tn=Yn.scope,Fn=[];return oe(function(Nt,an){var cn;if("function"==typeof Nt)return tn.call(this,null,Nt,0);if("function"==typeof an)if("number"==typeof Nt)for(cn=0;cn<Nt;++cn)tn.call(this,null,an,cn);else{if(!Array.isArray(Nt))return tn.call(this,Nt,an,0);for(cn=0;cn<Nt.length;++cn)tn.call(this,Nt[cn],an,cn)}else if("number"==typeof Nt){if(0<Nt)return gr.call(this,function(Pn){for(;Fn.length<Pn;)Fn.push(null);return Fn}(0|Nt),0|Nt)}else{if(!Array.isArray(Nt))return Qn.call(this,Nt);if(Nt.length)return gr.call(this,Nt,Nt.length)}},{stats:or,destroy:function(){Yn.destroy()}})}function ut(Yt,$t){var xn=0;qn.procs.poll();var vn=$t.color;vn&&(bt.clearColor(+vn[0]||0,+vn[1]||0,+vn[2]||0,+vn[3]||0),xn|=16384),"depth"in $t&&(bt.clearDepth(+$t.depth),xn|=256),"stencil"in $t&&(bt.clearStencil(0|$t.stencil),xn|=1024),bt.clear(xn)}function At(Yt){return fr.push(Yt),gt(),{cancel:function(){var $t=ee(fr,Yt);fr[$t]=function xn(){var vn=ee(fr,xn);fr[vn]=fr[fr.length-1],--fr.length,0>=fr.length&&ft()}}}}function wt(){var Yt=kn.viewport,$t=kn.scissor_box;Yt[0]=Yt[1]=$t[0]=$t[1]=0,Hn.viewportWidth=Hn.framebufferWidth=Hn.drawingBufferWidth=Yt[2]=$t[2]=bt.drawingBufferWidth,Hn.viewportHeight=Hn.framebufferHeight=Hn.drawingBufferHeight=Yt[3]=$t[3]=bt.drawingBufferHeight}function kt(){Hn.tick+=1,Hn.time=Rt(),wt(),qn.procs.poll()}function _t(){Cn.refresh(),wt(),qn.procs.refresh(),en&&en.update()}function Rt(){return(he()-nn)/1e3}if(!(Ke=function S(Ke){var it,gt,ft,Ve,qe=Ke||{};Ke={};var dt=[],ut=[],At=typeof window>"u"?1:window.devicePixelRatio,wt=!1,kt={},_t=function(bt){},Rt=function(){};if("string"==typeof qe?it=document.querySelector(qe):"object"==typeof qe&&("string"==typeof qe.nodeName&&"function"==typeof qe.appendChild&&"function"==typeof qe.getBoundingClientRect?it=qe:"function"==typeof qe.drawArrays||"function"==typeof qe.drawElements?ft=(Ve=qe).canvas:("gl"in qe?Ve=qe.gl:"canvas"in qe?ft=f(qe.canvas):"container"in qe&&(gt=f(qe.container)),"attributes"in qe&&(Ke=qe.attributes),"extensions"in qe&&(dt=E(qe.extensions)),"optionalExtensions"in qe&&(ut=E(qe.optionalExtensions)),"onDone"in qe&&(_t=qe.onDone),"profile"in qe&&(wt=!!qe.profile),"pixelRatio"in qe&&(At=+qe.pixelRatio),"cachedCode"in qe&&(kt=qe.cachedCode))),it&&("canvas"===it.nodeName.toLowerCase()?ft=it:gt=it),!Ve){if(!ft){if(!(it=function(bt,Tt,Ot){function Wt(){var pn=window.innerWidth,en=window.innerHeight;bt!==document.body&&(pn=(en=Jt.getBoundingClientRect()).right-en.left,en=en.bottom-en.top),Jt.width=Ot*pn,Jt.height=Ot*en}var qt,Jt=document.createElement("canvas");return oe(Jt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),bt.appendChild(Jt),bt===document.body&&(Jt.style.position="absolute",oe(bt.style,{margin:0,padding:0})),bt!==document.body&&"function"==typeof ResizeObserver?(qt=new ResizeObserver(function(){setTimeout(Wt)})).observe(bt):window.addEventListener("resize",Wt,!1),Wt(),{canvas:Jt,onDestroy:function(){qt?qt.disconnect():window.removeEventListener("resize",Wt),bt.removeChild(Jt)}}}(gt||document.body,0,At)))return null;ft=it.canvas,Rt=it.onDestroy}void 0===Ke.premultipliedAlpha&&(Ke.premultipliedAlpha=!0),Ve=function(bt,Tt){function Ot(Wt){try{return bt.getContext(Wt,Tt)}catch{return null}}return Ot("webgl")||Ot("experimental-webgl")||Ot("webgl-experimental")}(ft,Ke)}return Ve?{gl:Ve,canvas:ft,container:gt,extensions:dt,optionalExtensions:ut,pixelRatio:At,profile:wt,cachedCode:kt,onDone:_t,onDestroy:Rt}:(Rt(),_t("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}(Ke)))return null;var bt=Ke.gl,Tt=bt.getContextAttributes();bt.isContextLost();var Ot=function(Yt,$t){function xn(Yn){var Qn;Yn=Yn.toLowerCase();try{Qn=vn[Yn]=Yt.getExtension(Yn)}catch{}return!!Qn}for(var vn={},Dn=0;Dn<$t.extensions.length;++Dn){var or=$t.extensions[Dn];if(!xn(or))return $t.onDestroy(),$t.onDone('"'+or+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return $t.optionalExtensions.forEach(xn),{extensions:vn,restore:function(){Object.keys(vn).forEach(function(Yn){if(vn[Yn]&&!xn(Yn))throw Error("(regl): error restoring extension "+Yn)})}}}(bt,Ke);if(!Ot)return null;var Yt,$t,Wt=(Yt={"":0},$t=[""],{id:function(xn){var vn=Yt[xn];return vn||(vn=Yt[xn]=$t.length,$t.push(xn),vn)},str:function(xn){return $t[xn]}}),qt={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Jt=Ke.cachedCode||{},pn=Ot.extensions,en=function(Yt,$t){function xn(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function vn(Fn,Nt,an){var cn=Yn.pop()||new xn;cn.startQueryIndex=Fn,cn.endQueryIndex=Nt,cn.sum=0,cn.stats=an,Qn.push(cn)}if(!$t.ext_disjoint_timer_query)return null;var Dn=[],or=[],Yn=[],Qn=[],gr=[],tn=[];return{beginQuery:function(Fn){var Nt=Dn.pop()||$t.ext_disjoint_timer_query.createQueryEXT();$t.ext_disjoint_timer_query.beginQueryEXT(35007,Nt),or.push(Nt),vn(or.length-1,or.length,Fn)},endQuery:function(){$t.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:vn,update:function(){var Fn,Nt;if(0!==(Fn=or.length)){tn.length=Math.max(tn.length,Fn+1),gr.length=Math.max(gr.length,Fn+1),gr[0]=0;var an=tn[0]=0;for(Nt=Fn=0;Nt<or.length;++Nt){var cn=or[Nt];$t.ext_disjoint_timer_query.getQueryObjectEXT(cn,34919)?(an+=$t.ext_disjoint_timer_query.getQueryObjectEXT(cn,34918),Dn.push(cn)):or[Fn++]=cn,gr[Nt+1]=an,tn[Nt+1]=Fn}for(or.length=Fn,Nt=Fn=0;Nt<Qn.length;++Nt){var Pn=(an=Qn[Nt]).startQueryIndex;an.sum+=gr[cn=an.endQueryIndex]-gr[Pn],(cn=tn[cn])===(Pn=tn[Pn])?(an.stats.gpuTime+=an.sum/1e6,Yn.push(an)):(an.startQueryIndex=Pn,an.endQueryIndex=cn,Qn[Fn++]=an)}Qn.length=Fn}},getNumPendingQueries:function(){return or.length},clear:function(){Dn.push.apply(Dn,or);for(var Fn=0;Fn<Dn.length;Fn++)$t.ext_disjoint_timer_query.deleteQueryEXT(Dn[Fn]);or.length=0,Dn.length=0},restore:function(){or.length=0,Dn.length=0}}}(0,pn),nn=he(),dn=bt.drawingBufferWidth,In=bt.drawingBufferHeight,Hn={tick:0,time:0,viewportWidth:dn,viewportHeight:In,framebufferWidth:dn,framebufferHeight:In,drawingBufferWidth:dn,drawingBufferHeight:In,pixelRatio:Ke.pixelRatio},An=(dn={elements:null,primitive:4,count:-1,offset:0,instances:-1},function(Ke,it){var gt=1;it.ext_texture_filter_anisotropic&&(gt=Ke.getParameter(34047));var ft=1,Ve=1;it.webgl_draw_buffers&&(ft=Ke.getParameter(34852),Ve=Ke.getParameter(36063));var qe=!!it.oes_texture_float;if(qe){qe=Ke.createTexture(),Ke.bindTexture(3553,qe),Ke.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var dt=Ke.createFramebuffer();if(Ke.bindFramebuffer(36160,dt),Ke.framebufferTexture2D(36160,36064,3553,qe,0),Ke.bindTexture(3553,null),36053!==Ke.checkFramebufferStatus(36160))qe=!1;else{Ke.viewport(0,0,1,1),Ke.clearColor(1,0,0,1),Ke.clear(16384);var ut=we.allocType(5126,4);Ke.readPixels(0,0,1,1,6408,5126,ut),Ke.getError()?qe=!1:(Ke.deleteFramebuffer(dt),Ke.deleteTexture(qe),qe=1===ut[0]),we.freeType(ut)}}return ut=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(ut=Ke.createTexture(),dt=we.allocType(5121,36),Ke.activeTexture(33984),Ke.bindTexture(34067,ut),Ke.texImage2D(34069,0,6408,3,3,0,6408,5121,dt),we.freeType(dt),Ke.bindTexture(34067,null),Ke.deleteTexture(ut),ut=!Ke.getError()),{colorBits:[Ke.getParameter(3410),Ke.getParameter(3411),Ke.getParameter(3412),Ke.getParameter(3413)],depthBits:Ke.getParameter(3414),stencilBits:Ke.getParameter(3415),subpixelBits:Ke.getParameter(3408),extensions:Object.keys(it).filter(function(At){return!!it[At]}),maxAnisotropic:gt,maxDrawbuffers:ft,maxColorAttachments:Ve,pointSizeDims:Ke.getParameter(33901),lineWidthDims:Ke.getParameter(33902),maxViewportDims:Ke.getParameter(3386),maxCombinedTextureUnits:Ke.getParameter(35661),maxCubeMapSize:Ke.getParameter(34076),maxRenderbufferSize:Ke.getParameter(34024),maxTextureUnits:Ke.getParameter(34930),maxTextureSize:Ke.getParameter(3379),maxAttributes:Ke.getParameter(34921),maxVertexUniforms:Ke.getParameter(36347),maxVertexTextureUnits:Ke.getParameter(35660),maxVaryingVectors:Ke.getParameter(36348),maxFragmentUniforms:Ke.getParameter(36349),glsl:Ke.getParameter(35724),renderer:Ke.getParameter(7937),vendor:Ke.getParameter(7936),version:Ke.getParameter(7938),readFloat:qe,npotTextureCube:ut}}(bt,pn)),on=function d(Ke,it,gt,ft){function Ve(_t){this.id=At++,this.buffer=Ke.createBuffer(),this.type=_t,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,gt.profile&&(this.stats={size:0})}function qe(_t,Rt,bt){_t.byteLength=Rt.byteLength,Ke.bufferData(_t.type,Rt,bt)}function dt(_t,Rt,bt,Tt,Ot,Wt){if(_t.usage=bt,Array.isArray(Rt)){if(_t.dtype=Tt||5126,0<Rt.length)if(Array.isArray(Rt[0])){Ot=fe(Rt);for(var qt=Tt=1;qt<Ot.length;++qt)Tt*=Ot[qt];_t.dimension=Tt,qe(_t,Rt=pe(Rt,Ot,_t.dtype),bt),Wt?_t.persistentData=Rt:we.freeType(Rt)}else"number"==typeof Rt[0]?(_t.dimension=Ot,l(Ot=we.allocType(_t.dtype,Rt.length),Rt),qe(_t,Ot,bt),Wt?_t.persistentData=Ot:we.freeType(Ot)):Te(Rt[0])&&(_t.dimension=Rt[0].length,_t.dtype=Tt||o(Rt[0])||5126,qe(_t,Rt=pe(Rt,[Rt.length,Rt[0].length],_t.dtype),bt),Wt?_t.persistentData=Rt:we.freeType(Rt))}else if(Te(Rt))_t.dtype=Tt||o(Rt),_t.dimension=Ot,qe(_t,Rt,bt),Wt&&(_t.persistentData=new Uint8Array(new Uint8Array(Rt.buffer)));else if(i(Rt)){var Jt=Rt.stride,pn=(qt=Rt.offset,0),en=0,nn=0,dn=0;1===(Ot=Rt.shape).length?(pn=Ot[0],en=1,nn=Jt[0],dn=0):2===Ot.length&&(pn=Ot[0],en=Ot[1],nn=Jt[0],dn=Jt[1]),_t.dtype=Tt||o(Rt.data)||5126,_t.dimension=en,u(Ot=we.allocType(_t.dtype,pn*en),Rt.data,pn,en,nn,dn,qt),qe(_t,Ot,bt),Wt?_t.persistentData=Ot:we.freeType(Ot)}else Rt instanceof ArrayBuffer&&(_t.dtype=5121,_t.dimension=Ot,qe(_t,Rt,bt),Wt&&(_t.persistentData=new Uint8Array(new Uint8Array(Rt))))}function ut(_t){it.bufferCount--,ft(_t),Ke.deleteBuffer(_t.buffer),_t.buffer=null,delete wt[_t.id]}var At=0,wt={};Ve.prototype.bind=function(){Ke.bindBuffer(this.type,this.buffer)},Ve.prototype.destroy=function(){ut(this)};var kt=[];return gt.profile&&(it.getTotalBufferSize=function(){var _t=0;return Object.keys(wt).forEach(function(Rt){_t+=wt[Rt].stats.size}),_t}),{create:function(_t,Rt,bt,Tt){function Ot(qt){var Jt=35044,pn=null,en=0,nn=0,dn=1;return Array.isArray(qt)||Te(qt)||i(qt)||qt instanceof ArrayBuffer?pn=qt:"number"==typeof qt?en=0|qt:qt&&("data"in qt&&(pn=qt.data),"usage"in qt&&(Jt=ke[qt.usage]),"type"in qt&&(nn=Se[qt.type]),"dimension"in qt&&(dn=0|qt.dimension),"length"in qt&&(en=0|qt.length)),Wt.bind(),pn?dt(Wt,pn,Jt,nn,dn,Tt):(en&&Ke.bufferData(Wt.type,en,Jt),Wt.dtype=nn||5121,Wt.usage=Jt,Wt.dimension=dn,Wt.byteLength=en),gt.profile&&(Wt.stats.size=Wt.byteLength*be[Wt.dtype]),Ot}it.bufferCount++;var Wt=new Ve(Rt);return wt[Wt.id]=Wt,bt||Ot(_t),Ot._reglType="buffer",Ot._buffer=Wt,Ot.subdata=function(qt,Jt){var pn,en=0|(Jt||0);if(Wt.bind(),Te(qt)||qt instanceof ArrayBuffer)Ke.bufferSubData(Wt.type,en,qt);else if(Array.isArray(qt)){if(0<qt.length)if("number"==typeof qt[0]){var nn=we.allocType(Wt.dtype,qt.length);l(nn,qt),Ke.bufferSubData(Wt.type,en,nn),we.freeType(nn)}else(Array.isArray(qt[0])||Te(qt[0]))&&(pn=fe(qt),nn=pe(qt,pn,Wt.dtype),Ke.bufferSubData(Wt.type,en,nn),we.freeType(nn))}else if(i(qt)){var dn=qt.stride,In=nn=0,Hn=0,An=0;1===(pn=qt.shape).length?(nn=pn[0],In=1,Hn=dn[0],An=0):2===pn.length&&(nn=pn[0],In=pn[1],Hn=dn[0],An=dn[1]),pn=Array.isArray(qt.data)?Wt.dtype:o(qt.data),u(pn=we.allocType(pn,nn*In),qt.data,nn,In,Hn,An,qt.offset),Ke.bufferSubData(Wt.type,en,pn),we.freeType(pn)}return Ot},gt.profile&&(Ot.stats=Wt.stats),Ot.destroy=function(){ut(Wt)},Ot},createStream:function(_t,Rt){var bt=kt.pop();return bt||(bt=new Ve(_t)),bt.bind(),dt(bt,Rt,35040,0,1,!1),bt},destroyStream:function(_t){kt.push(_t)},clear:function(){ve(wt).forEach(ut),kt.forEach(ut)},getBuffer:function(_t){return _t&&_t._buffer instanceof Ve?_t._buffer:null},restore:function(){ve(wt).forEach(function(_t){_t.buffer=Ke.createBuffer(),Ke.bindBuffer(_t.type,_t.buffer),Ke.bufferData(_t.type,_t.persistentData||_t.byteLength,_t.usage)})},_initBuffer:dt}}(bt,qt,Ke,function(Yt){return ln.destroyBuffer(Yt)}),yn=function m(Ke,it,gt,ft){function Ve(_t){this.id=At++,ut[this.id]=this,this.buffer=_t,this.primType=4,this.type=this.vertCount=0}function qe(_t,Rt,bt,Tt,Ot,Wt,qt){var Jt;if(_t.buffer.bind(),Rt?((Jt=qt)||Te(Rt)&&(!i(Rt)||Te(Rt.data))||(Jt=it.oes_element_index_uint?5125:5123),gt._initBuffer(_t.buffer,Rt,bt,Jt,3)):(Ke.bufferData(34963,Wt,bt),_t.buffer.dtype=Jt||5121,_t.buffer.usage=bt,_t.buffer.dimension=3,_t.buffer.byteLength=Wt),Jt=qt,!qt){switch(_t.buffer.dtype){case 5121:case 5120:Jt=5121;break;case 5123:case 5122:Jt=5123;break;case 5125:case 5124:Jt=5125}_t.buffer.dtype=Jt}_t.type=Jt,0>(Rt=Ot)&&(Rt=_t.buffer.byteLength,5123===Jt?Rt>>=1:5125===Jt&&(Rt>>=2)),_t.vertCount=Rt,Rt=Tt,0>Tt&&(Rt=4,1===(Tt=_t.buffer.dimension)&&(Rt=0),2===Tt&&(Rt=1),3===Tt&&(Rt=4)),_t.primType=Rt}function dt(_t){ft.elementsCount--,delete ut[_t.id],_t.buffer.destroy(),_t.buffer=null}var ut={},At=0,wt={uint8:5121,uint16:5123};it.oes_element_index_uint&&(wt.uint32=5125),Ve.prototype.bind=function(){this.buffer.bind()};var kt=[];return{create:function(_t,Rt){function bt(Wt){if(Wt)if("number"==typeof Wt)Tt(Wt),Ot.primType=4,Ot.vertCount=0|Wt,Ot.type=5121;else{var qt=null,Jt=35044,pn=-1,en=-1,nn=0,dn=0;Array.isArray(Wt)||Te(Wt)||i(Wt)?qt=Wt:("data"in Wt&&(qt=Wt.data),"usage"in Wt&&(Jt=ke[Wt.usage]),"primitive"in Wt&&(pn=Le[Wt.primitive]),"count"in Wt&&(en=0|Wt.count),"type"in Wt&&(dn=wt[Wt.type]),"length"in Wt?nn=0|Wt.length:(nn=en,5123===dn||5122===dn?nn*=2:5125!==dn&&5124!==dn||(nn*=4))),qe(Ot,qt,Jt,pn,en,nn,dn)}else Tt(),Ot.primType=4,Ot.vertCount=0,Ot.type=5121;return bt}var Tt=gt.create(null,34963,!0),Ot=new Ve(Tt._buffer);return ft.elementsCount++,bt(_t),bt._reglType="elements",bt._elements=Ot,bt.subdata=function(Wt,qt){return Tt.subdata(Wt,qt),bt},bt.destroy=function(){dt(Ot)},bt},createStream:function(_t){var Rt=kt.pop();return Rt||(Rt=new Ve(gt.create(null,34963,!0,!1)._buffer)),qe(Rt,_t,35040,-1,-1,0,0),Rt},destroyStream:function(_t){kt.push(_t)},getElements:function(_t){return"function"==typeof _t&&_t._elements instanceof Ve?_t._elements:null},clear:function(){ve(ut).forEach(dt)}}}(bt,pn,on,qt),ln=function P(Ke,it,gt,ft,Ve,qe,dt){function ut(){this.id=++kt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var bt=it.oes_vertex_array_object;this.vao=bt?bt.createVertexArrayOES():null,_t[this.id]=this,this.buffers=[]}var At=gt.maxAttributes,wt=Array(At);for(gt=0;gt<At;++gt)wt[gt]=new I;var kt=0,_t={},Rt={Record:I,scope:{},state:wt,currentVAO:null,targetVAO:null,restore:it.oes_vertex_array_object?function(){it.oes_vertex_array_object&&ve(_t).forEach(function(bt){bt.refresh()})}:function(){},createVAO:function(bt){function Tt(Wt){var qt;Array.isArray(Wt)?(qt=Wt,Ot.elements&&Ot.ownsElements&&Ot.elements.destroy(),Ot.elements=null,Ot.ownsElements=!1,Ot.offset=0,Ot.count=0,Ot.instances=-1,Ot.primitive=4):(Wt.elements?(qt=Wt.elements,Ot.ownsElements?("function"==typeof qt&&"elements"===qt._reglType?Ot.elements.destroy():Ot.elements(qt),Ot.ownsElements=!1):qe.getElements(Wt.elements)?(Ot.elements=Wt.elements,Ot.ownsElements=!1):(Ot.elements=qe.create(Wt.elements),Ot.ownsElements=!0)):(Ot.elements=null,Ot.ownsElements=!1),qt=Wt.attributes,Ot.offset=0,Ot.count=-1,Ot.instances=-1,Ot.primitive=4,Ot.elements&&(Ot.count=Ot.elements._elements.vertCount,Ot.primitive=Ot.elements._elements.primType),"offset"in Wt&&(Ot.offset=0|Wt.offset),"count"in Wt&&(Ot.count=0|Wt.count),"instances"in Wt&&(Ot.instances=0|Wt.instances),"primitive"in Wt&&(Ot.primitive=Le[Wt.primitive])),Wt={};var Jt=Ot.attributes;Jt.length=qt.length;for(var pn=0;pn<qt.length;++pn){var en,nn=qt[pn],dn=Jt[pn]=new I,In=nn.data||nn;Array.isArray(In)||Te(In)||i(In)?(Ot.buffers[pn]&&(en=Ot.buffers[pn],Te(In)&&en._buffer.byteLength>=In.byteLength?en.subdata(In):(en.destroy(),Ot.buffers[pn]=null)),Ot.buffers[pn]||(en=Ot.buffers[pn]=Ve.create(nn,34962,!1,!0)),dn.buffer=Ve.getBuffer(en),dn.size=0|dn.buffer.dimension,dn.normalized=!1,dn.type=dn.buffer.dtype,dn.offset=0,dn.stride=0,dn.divisor=0,dn.state=1,Wt[pn]=1):Ve.getBuffer(nn)?(dn.buffer=Ve.getBuffer(nn),dn.size=0|dn.buffer.dimension,dn.normalized=!1,dn.type=dn.buffer.dtype,dn.offset=0,dn.stride=0,dn.divisor=0,dn.state=1):Ve.getBuffer(nn.buffer)?(dn.buffer=Ve.getBuffer(nn.buffer),dn.size=0|(+nn.size||dn.buffer.dimension),dn.normalized=!!nn.normalized||!1,dn.type="type"in nn?Se[nn.type]:dn.buffer.dtype,dn.offset=0|(nn.offset||0),dn.stride=0|(nn.stride||0),dn.divisor=0|(nn.divisor||0),dn.state=1):"x"in nn&&(dn.x=+nn.x||0,dn.y=+nn.y||0,dn.z=+nn.z||0,dn.w=+nn.w||0,dn.state=2)}for(en=0;en<Ot.buffers.length;++en)!Wt[en]&&Ot.buffers[en]&&(Ot.buffers[en].destroy(),Ot.buffers[en]=null);return Ot.refresh(),Tt}var Ot=new ut;return ft.vaoCount+=1,Tt.destroy=function(){for(var Wt=0;Wt<Ot.buffers.length;++Wt)Ot.buffers[Wt]&&Ot.buffers[Wt].destroy();Ot.buffers.length=0,Ot.ownsElements&&(Ot.elements.destroy(),Ot.elements=null,Ot.ownsElements=!1),Ot.destroy()},Tt._vao=Ot,Tt._reglType="vao",Tt(bt)},getVAO:function(bt){return"function"==typeof bt&&bt._vao?bt._vao:null},destroyBuffer:function(bt){for(var Tt=0;Tt<wt.length;++Tt){var Ot=wt[Tt];Ot.buffer===bt&&(Ke.disableVertexAttribArray(Tt),Ot.buffer=null)}},setVAO:it.oes_vertex_array_object?function(bt){bt!==Rt.currentVAO&&(it.oes_vertex_array_object.bindVertexArrayOES(bt?bt.vao:null),Rt.currentVAO=bt)}:function(bt){if(bt!==Rt.currentVAO){if(bt)bt.bindAttrs();else{for(var Tt=it.angle_instanced_arrays,Ot=0;Ot<wt.length;++Ot){var Wt=wt[Ot];Wt.buffer?(Ke.enableVertexAttribArray(Ot),Wt.buffer.bind(),Ke.vertexAttribPointer(Ot,Wt.size,Wt.type,Wt.normalized,Wt.stride,Wt.offfset),Tt&&Wt.divisor&&Tt.vertexAttribDivisorANGLE(Ot,Wt.divisor)):(Ke.disableVertexAttribArray(Ot),Ke.vertexAttrib4f(Ot,Wt.x,Wt.y,Wt.z,Wt.w))}Ke.bindBuffer(34963,dt.elements?dt.elements.buffer.buffer:null)}Rt.currentVAO=bt}},clear:it.oes_vertex_array_object?function(){ve(_t).forEach(function(bt){bt.destroy()})}:function(){}};return ut.prototype.bindAttrs=function(){for(var bt=it.angle_instanced_arrays,Tt=this.attributes,Ot=0;Ot<Tt.length;++Ot){var Wt=Tt[Ot];Wt.buffer?(Ke.enableVertexAttribArray(Ot),Ke.bindBuffer(34962,Wt.buffer.buffer),Ke.vertexAttribPointer(Ot,Wt.size,Wt.type,Wt.normalized,Wt.stride,Wt.offset),bt&&Wt.divisor&&bt.vertexAttribDivisorANGLE(Ot,Wt.divisor)):(Ke.disableVertexAttribArray(Ot),Ke.vertexAttrib4f(Ot,Wt.x,Wt.y,Wt.z,Wt.w))}for(bt=Tt.length;bt<At;++bt)Ke.disableVertexAttribArray(bt);(bt=qe.getElements(this.elements))?Ke.bindBuffer(34963,bt.buffer.buffer):Ke.bindBuffer(34963,null)},ut.prototype.refresh=function(){var bt=it.oes_vertex_array_object;bt&&(bt.bindVertexArrayOES(this.vao),this.bindAttrs(),Rt.currentVAO=null,bt.bindVertexArrayOES(null))},ut.prototype.destroy=function(){if(this.vao){var bt=it.oes_vertex_array_object;this===Rt.currentVAO&&(Rt.currentVAO=null,bt.bindVertexArrayOES(null)),bt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),_t[this.id]&&(delete _t[this.id],--ft.vaoCount)},Rt}(bt,pn,An,qt,on,yn,dn),wn=function R(Ke,it,gt,ft){function Ve(Tt,Ot,Wt,qt){this.name=Tt,this.id=Ot,this.location=Wt,this.info=qt}function qe(Tt,Ot){for(var Wt=0;Wt<Tt.length;++Wt)if(Tt[Wt].id===Ot.id)return void(Tt[Wt].location=Ot.location);Tt.push(Ot)}function dt(Tt,Ot,Wt){if(!(Jt=(Wt=35632===Tt?wt:kt)[Ot])){var qt=it.str(Ot),Jt=Ke.createShader(Tt);Ke.shaderSource(Jt,qt),Ke.compileShader(Jt),Wt[Ot]=Jt}return Jt}function ut(Tt,Ot){this.id=bt++,this.fragId=Tt,this.vertId=Ot,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,ft.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function At(Tt,Ot,Wt){var qt;qt=dt(35632,Tt.fragId);var Jt=dt(35633,Tt.vertId);if(Ot=Tt.program=Ke.createProgram(),Ke.attachShader(Ot,qt),Ke.attachShader(Ot,Jt),Wt)for(qt=0;qt<Wt.length;++qt)Ke.bindAttribLocation(Ot,(Jt=Wt[qt])[0],Jt[1]);Ke.linkProgram(Ot),Jt=Ke.getProgramParameter(Ot,35718),ft.profile&&(Tt.stats.uniformsCount=Jt);var pn=Tt.uniforms;for(qt=0;qt<Jt;++qt)if(Wt=Ke.getActiveUniform(Ot,qt))if(1<Wt.size)for(var en=0;en<Wt.size;++en){var nn=Wt.name.replace("[0]","["+en+"]");qe(pn,new Ve(nn,it.id(nn),Ke.getUniformLocation(Ot,nn),Wt))}else qe(pn,new Ve(Wt.name,it.id(Wt.name),Ke.getUniformLocation(Ot,Wt.name),Wt));for(Jt=Ke.getProgramParameter(Ot,35721),ft.profile&&(Tt.stats.attributesCount=Jt),Tt=Tt.attributes,qt=0;qt<Jt;++qt)(Wt=Ke.getActiveAttrib(Ot,qt))&&qe(Tt,new Ve(Wt.name,it.id(Wt.name),Ke.getAttribLocation(Ot,Wt.name),Wt))}var wt={},kt={},_t={},Rt=[],bt=0;return ft.profile&&(gt.getMaxUniformsCount=function(){var Tt=0;return Rt.forEach(function(Ot){Ot.stats.uniformsCount>Tt&&(Tt=Ot.stats.uniformsCount)}),Tt},gt.getMaxAttributesCount=function(){var Tt=0;return Rt.forEach(function(Ot){Ot.stats.attributesCount>Tt&&(Tt=Ot.stats.attributesCount)}),Tt}),{clear:function(){var Tt=Ke.deleteShader.bind(Ke);ve(wt).forEach(Tt),wt={},ve(kt).forEach(Tt),kt={},Rt.forEach(function(Ot){Ke.deleteProgram(Ot.program)}),Rt.length=0,_t={},gt.shaderCount=0},program:function(Tt,Ot,Wt,qt){var Jt=_t[Ot];Jt||(Jt=_t[Ot]={});var pn=Jt[Tt];if(pn&&(pn.refCount++,!qt))return pn;var en=new ut(Ot,Tt);return gt.shaderCount++,At(en,Wt,qt),pn||(Jt[Tt]=en),Rt.push(en),oe(en,{destroy:function(){if(en.refCount--,0>=en.refCount){Ke.deleteProgram(en.program);var nn=Rt.indexOf(en);Rt.splice(nn,1),gt.shaderCount--}0>=Jt[en.vertId].refCount&&(Ke.deleteShader(kt[en.vertId]),delete kt[en.vertId],delete _t[en.fragId][en.vertId]),Object.keys(_t[en.fragId]).length||(Ke.deleteShader(wt[en.fragId]),delete wt[en.fragId],delete _t[en.fragId])}})},restore:function(){wt={},kt={};for(var Tt=0;Tt<Rt.length;++Tt)At(Rt[Tt],null,Rt[Tt].attributes.map(function(Ot){return[Ot.location,Ot.name]}))},shader:dt,frag:-1,vert:-1}}(bt,Wt,qt,Ke),Cn=function O(Ke,it,gt,ft,Ve,qe,dt){function ut(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function At(tn,Fn){tn.internalformat=Fn.internalformat,tn.format=Fn.format,tn.type=Fn.type,tn.compressed=Fn.compressed,tn.premultiplyAlpha=Fn.premultiplyAlpha,tn.flipY=Fn.flipY,tn.unpackAlignment=Fn.unpackAlignment,tn.colorSpace=Fn.colorSpace,tn.width=Fn.width,tn.height=Fn.height,tn.channels=Fn.channels}function wt(tn,Fn){if("object"==typeof Fn&&Fn){"premultiplyAlpha"in Fn&&(tn.premultiplyAlpha=Fn.premultiplyAlpha),"flipY"in Fn&&(tn.flipY=Fn.flipY),"alignment"in Fn&&(tn.unpackAlignment=Fn.alignment),"colorSpace"in Fn&&(tn.colorSpace=qn[Fn.colorSpace]),"type"in Fn&&(tn.type=kn[Fn.type]);var Nt=tn.width,an=tn.height,cn=tn.channels,Pn=!1;"shape"in Fn?(Nt=Fn.shape[0],an=Fn.shape[1],3===Fn.shape.length&&(cn=Fn.shape[2],Pn=!0)):("radius"in Fn&&(Nt=an=Fn.radius),"width"in Fn&&(Nt=Fn.width),"height"in Fn&&(an=Fn.height),"channels"in Fn&&(cn=Fn.channels,Pn=!0)),tn.width=0|Nt,tn.height=0|an,tn.channels=0|cn,Nt=!1,"format"in Fn&&(an=tn.internalformat=Zn[Nt=Fn.format],tn.format=xn[an],Nt in kn&&!("type"in Fn)&&(tn.type=kn[Nt]),Nt in fr&&(tn.compressed=!0),Nt=!0),!Pn&&Nt?tn.channels=ye[tn.format]:Pn&&!Nt&&tn.channels!==Ge[tn.format]&&(tn.format=tn.internalformat=Ge[tn.channels])}}function kt(tn){Ke.pixelStorei(37440,tn.flipY),Ke.pixelStorei(37441,tn.premultiplyAlpha),Ke.pixelStorei(37443,tn.colorSpace),Ke.pixelStorei(3317,tn.unpackAlignment)}function _t(){ut.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Rt(tn,Fn){var Nt=null;if(b(Fn)?Nt=Fn:Fn&&(wt(tn,Fn),"x"in Fn&&(tn.xOffset=0|Fn.x),"y"in Fn&&(tn.yOffset=0|Fn.y),b(Fn.data)&&(Nt=Fn.data)),Fn.copy){var an=Ve.viewportWidth,cn=Ve.viewportHeight;tn.width=tn.width||an-tn.xOffset,tn.height=tn.height||cn-tn.yOffset,tn.needsCopy=!0}else if(Nt){if(Te(Nt))tn.channels=tn.channels||4,tn.data=Nt,"type"in Fn||5121!==tn.type||(tn.type=0|Fe[Object.prototype.toString.call(Nt)]);else if(g(Nt)){switch(tn.channels=tn.channels||4,cn=(an=Nt).length,tn.type){case 5121:case 5123:case 5125:case 5126:(cn=we.allocType(tn.type,cn)).set(an),tn.data=cn;break;case 36193:tn.data=h(an)}tn.alignment=1,tn.needsFree=!0}else if(i(Nt)){an=Nt.data,Array.isArray(an)||5121!==tn.type||(tn.type=0|Fe[Object.prototype.toString.call(an)]);var Pn,Nn,Gn,Tn,un=Nt.stride;3===(cn=Nt.shape).length?(Gn=cn[2],Tn=un[2]):Tn=Gn=1,Pn=cn[0],Nn=cn[1],cn=un[0],un=un[1],tn.alignment=1,tn.width=Pn,tn.height=Nn,tn.channels=Gn,tn.format=tn.internalformat=Ge[Gn],tn.needsFree=!0,Pn=Tn,Nt=Nt.offset;for(var fn=we.allocType(36193===tn.type?5126:tn.type,(Gn=tn.width)*(Tn=tn.height)*(Nn=tn.channels)),bn=0,Mn=0;Mn<Tn;++Mn)for(var Un=0;Un<Gn;++Un)for(var Vn=0;Vn<Nn;++Vn)fn[bn++]=an[cn*Un+un*Mn+Pn*Vn+Nt];A(tn,fn)}else if(x(Nt)===Ie||x(Nt)===Ee||x(Nt)===Be)tn.element=x(Nt)===Ie||x(Nt)===Ee?Nt:Nt.canvas,tn.width=tn.element.width,tn.height=tn.element.height,tn.channels=4;else if(x(Nt)===We)tn.element=Nt,tn.width=Nt.width,tn.height=Nt.height,tn.channels=4;else if(x(Nt)===He)tn.element=Nt,tn.width=Nt.naturalWidth,tn.height=Nt.naturalHeight,tn.channels=4;else if(x(Nt)===Je)tn.element=Nt,tn.width=Nt.videoWidth,tn.height=Nt.videoHeight,tn.channels=4;else if(w(Nt)){for(an=tn.width||Nt[0].length,cn=tn.height||Nt.length,un=tn.channels,un=T(Nt[0][0])?un||Nt[0][0].length:un||1,Pn=xe.shape(Nt),Gn=1,Tn=0;Tn<Pn.length;++Tn)Gn*=Pn[Tn];Gn=we.allocType(36193===tn.type?5126:tn.type,Gn),xe.flatten(Nt,Pn,"",Gn),A(tn,Gn),tn.alignment=1,tn.width=an,tn.height=cn,tn.channels=un,tn.format=tn.internalformat=Ge[un],tn.needsFree=!0}}else tn.width=tn.width||1,tn.height=tn.height||1,tn.channels=tn.channels||4}function bt(tn,Fn,Nt,an,cn){var Pn=tn.element,Nn=tn.data,Gn=tn.internalformat,Tn=tn.format,un=tn.type,fn=tn.width,bn=tn.height;kt(tn),Pn?Ke.texSubImage2D(Fn,cn,Nt,an,Tn,un,Pn):tn.compressed?Ke.compressedTexSubImage2D(Fn,cn,Nt,an,Gn,fn,bn,Nn):tn.needsCopy?(ft(),Ke.copyTexSubImage2D(Fn,cn,Nt,an,tn.xOffset,tn.yOffset,fn,bn)):Ke.texSubImage2D(Fn,cn,Nt,an,fn,bn,Tn,un,Nn)}function Tt(){return vn.pop()||new _t}function Ot(tn){tn.needsFree&&we.freeType(tn.data),_t.call(tn),vn.push(tn)}function Wt(){ut.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function qt(tn,Fn,Nt){var an=tn.images[0]=Tt();tn.mipmask=1,an.width=tn.width=Fn,an.height=tn.height=Nt,an.channels=tn.channels=4}function Jt(tn,Fn){var Nt=null;if(b(Fn))At(Nt=tn.images[0]=Tt(),tn),Rt(Nt,Fn),tn.mipmask=1;else if(wt(tn,Fn),Array.isArray(Fn.mipmap))for(var an=Fn.mipmap,cn=0;cn<an.length;++cn)At(Nt=tn.images[cn]=Tt(),tn),Nt.width>>=cn,Nt.height>>=cn,Rt(Nt,an[cn]),tn.mipmask|=1<<cn;else At(Nt=tn.images[0]=Tt(),tn),Rt(Nt,Fn),tn.mipmask=1;At(tn,tn.images[0])}function pn(tn,Fn){for(var Nt=tn.images,an=0;an<Nt.length&&Nt[an];++an){var cn=Nt[an],Pn=Fn,Nn=an,Gn=cn.element,Tn=cn.data,un=cn.internalformat,fn=cn.format,bn=cn.type,Mn=cn.width,Un=cn.height;kt(cn),Gn?Ke.texImage2D(Pn,Nn,fn,fn,bn,Gn):cn.compressed?Ke.compressedTexImage2D(Pn,Nn,un,Mn,Un,0,Tn):cn.needsCopy?(ft(),Ke.copyTexImage2D(Pn,Nn,fn,cn.xOffset,cn.yOffset,Mn,Un,0)):Ke.texImage2D(Pn,Nn,fn,Mn,Un,0,fn,bn,Tn||null)}}function en(){var tn=Dn.pop()||new Wt;ut.call(tn);for(var Fn=tn.mipmask=0;16>Fn;++Fn)tn.images[Fn]=null;return tn}function nn(tn){for(var Fn=tn.images,Nt=0;Nt<Fn.length;++Nt)Fn[Nt]&&Ot(Fn[Nt]),Fn[Nt]=null;Dn.push(tn)}function dn(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function In(tn,Fn){"min"in Fn&&(tn.minFilter=Sn[Fn.min],0<=Ue.indexOf(tn.minFilter)&&!("faces"in Fn)&&(tn.genMipmaps=!0)),"mag"in Fn&&(tn.magFilter=Ln[Fn.mag]);var Nt=tn.wrapS,an=tn.wrapT;if("wrap"in Fn){var cn=Fn.wrap;"string"==typeof cn?Nt=an=Cn[cn]:Array.isArray(cn)&&(Nt=Cn[cn[0]],an=Cn[cn[1]])}else"wrapS"in Fn&&(Nt=Cn[Fn.wrapS]),"wrapT"in Fn&&(an=Cn[Fn.wrapT]);if(tn.wrapS=Nt,tn.wrapT=an,"anisotropic"in Fn&&(tn.anisotropic=Fn.anisotropic),"mipmap"in Fn){switch(Nt=!1,typeof Fn.mipmap){case"string":tn.mipmapHint=wn[Fn.mipmap],Nt=tn.genMipmaps=!0;break;case"boolean":Nt=tn.genMipmaps=Fn.mipmap;break;case"object":tn.genMipmaps=!1,Nt=!0}!Nt||"min"in Fn||(tn.minFilter=9984)}}function Hn(tn,Fn){Ke.texParameteri(Fn,10241,tn.minFilter),Ke.texParameteri(Fn,10240,tn.magFilter),Ke.texParameteri(Fn,10242,tn.wrapS),Ke.texParameteri(Fn,10243,tn.wrapT),it.ext_texture_filter_anisotropic&&Ke.texParameteri(Fn,34046,tn.anisotropic),tn.genMipmaps&&(Ke.hint(33170,tn.mipmapHint),Ke.generateMipmap(Fn))}function An(tn){ut.call(this),this.mipmask=0,this.internalformat=6408,this.id=or++,this.refCount=1,this.target=tn,this.texture=Ke.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new dn,dt.profile&&(this.stats={size:0})}function on(tn){Ke.activeTexture(33984),Ke.bindTexture(tn.target,tn.texture)}function yn(){var tn=gr[0];tn?Ke.bindTexture(tn.target,tn.texture):Ke.bindTexture(3553,null)}function ln(tn){var Fn=tn.texture,Nt=tn.unit,an=tn.target;0<=Nt&&(Ke.activeTexture(33984+Nt),Ke.bindTexture(an,null),gr[Nt]=null),Ke.deleteTexture(Fn),tn.texture=null,tn.params=null,tn.pixels=null,tn.refCount=0,delete Yn[tn.id],qe.textureCount--}var wn={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Cn={repeat:10497,clamp:33071,mirror:33648},Ln={nearest:9728,linear:9729},Sn=oe({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Ln),qn={none:0,browser:37444},kn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Zn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},fr={};it.ext_srgb&&(Zn.srgb=35904,Zn.srgba=35906),it.oes_texture_float&&(kn.float32=kn.float=5126),it.oes_texture_half_float&&(kn.float16=kn["half float"]=36193),it.webgl_depth_texture&&(oe(Zn,{depth:6402,"depth stencil":34041}),oe(kn,{uint16:5123,uint32:5125,"depth stencil":34042})),it.webgl_compressed_texture_s3tc&&oe(fr,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),it.webgl_compressed_texture_atc&&oe(fr,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),it.webgl_compressed_texture_pvrtc&&oe(fr,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),it.webgl_compressed_texture_etc1&&(fr["rgb etc1"]=36196);var er=Array.prototype.slice.call(Ke.getParameter(34467));Object.keys(fr).forEach(function(tn){var Fn=fr[tn];0<=er.indexOf(Fn)&&(Zn[tn]=Fn)});var nr=Object.keys(Zn);gt.textureFormats=nr;var mr=[];Object.keys(Zn).forEach(function(tn){mr[Zn[tn]]=tn});var dr=[];Object.keys(kn).forEach(function(tn){dr[kn[tn]]=tn});var Ir=[];Object.keys(Ln).forEach(function(tn){Ir[Ln[tn]]=tn});var Yt=[];Object.keys(Sn).forEach(function(tn){Yt[Sn[tn]]=tn});var $t=[];Object.keys(Cn).forEach(function(tn){$t[Cn[tn]]=tn});var xn=nr.reduce(function(tn,Fn){var Nt=Zn[Fn];return tn[Nt]=6409===Nt||6406===Nt||6409===Nt||6410===Nt||6402===Nt||34041===Nt||it.ext_srgb&&(35904===Nt||35906===Nt)?Nt:32855===Nt||0<=Fn.indexOf("rgba")?6408:6407,tn},{}),vn=[],Dn=[],or=0,Yn={},Qn=gt.maxTextureUnits,gr=Array(Qn).map(function(){return null});return oe(An.prototype,{bind:function(){this.bindCount+=1;var tn=this.unit;if(0>tn){for(var Fn=0;Fn<Qn;++Fn){var Nt=gr[Fn];if(Nt){if(0<Nt.bindCount)continue;Nt.unit=-1}gr[Fn]=this,tn=Fn;break}dt.profile&&qe.maxTextureUnits<tn+1&&(qe.maxTextureUnits=tn+1),this.unit=tn,Ke.activeTexture(33984+tn),Ke.bindTexture(this.target,this.texture)}return tn},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&ln(this)}}),dt.profile&&(qe.getTotalTextureSize=function(){var tn=0;return Object.keys(Yn).forEach(function(Fn){tn+=Yn[Fn].stats.size}),tn}),{create2D:function(tn,Fn){function Nt(cn,Pn){var Nn=an.texInfo;dn.call(Nn);var Gn=en();return"number"==typeof cn?qt(Gn,0|cn,"number"==typeof Pn?0|Pn:0|cn):cn?(In(Nn,cn),Jt(Gn,cn)):qt(Gn,1,1),Nn.genMipmaps&&(Gn.mipmask=(Gn.width<<1)-1),an.mipmask=Gn.mipmask,At(an,Gn),an.internalformat=Gn.internalformat,Nt.width=Gn.width,Nt.height=Gn.height,on(an),pn(Gn,3553),Hn(Nn,3553),yn(),nn(Gn),dt.profile&&(an.stats.size=p(an.internalformat,an.type,Gn.width,Gn.height,Nn.genMipmaps,!1)),Nt.format=mr[an.internalformat],Nt.type=dr[an.type],Nt.mag=Ir[Nn.magFilter],Nt.min=Yt[Nn.minFilter],Nt.wrapS=$t[Nn.wrapS],Nt.wrapT=$t[Nn.wrapT],Nt}var an=new An(3553);return Yn[an.id]=an,qe.textureCount++,Nt(tn,Fn),Nt.subimage=function(cn,Pn,Nn,Gn){Pn|=0,Nn|=0,Gn|=0;var Tn=Tt();return At(Tn,an),Tn.width=0,Tn.height=0,Rt(Tn,cn),Tn.width=Tn.width||(an.width>>Gn)-Pn,Tn.height=Tn.height||(an.height>>Gn)-Nn,on(an),bt(Tn,3553,Pn,Nn,Gn),yn(),Ot(Tn),Nt},Nt.resize=function(cn,Pn){var Nn=0|cn,Gn=0|Pn||Nn;if(Nn===an.width&&Gn===an.height)return Nt;Nt.width=an.width=Nn,Nt.height=an.height=Gn,on(an);for(var Tn=0;an.mipmask>>Tn;++Tn){var un=Nn>>Tn,fn=Gn>>Tn;if(!un||!fn)break;Ke.texImage2D(3553,Tn,an.format,un,fn,0,an.format,an.type,null)}return yn(),dt.profile&&(an.stats.size=p(an.internalformat,an.type,Nn,Gn,!1,!1)),Nt},Nt._reglType="texture2d",Nt._texture=an,dt.profile&&(Nt.stats=an.stats),Nt.destroy=function(){an.decRef()},Nt},createCube:function(tn,Fn,Nt,an,cn,Pn){function Nn(un,fn,bn,Mn,Un,Vn){var sr,rr=Gn.texInfo;for(dn.call(rr),sr=0;6>sr;++sr)Tn[sr]=en();if("number"!=typeof un&&un){if("object"==typeof un)if(fn)Jt(Tn[0],un),Jt(Tn[1],fn),Jt(Tn[2],bn),Jt(Tn[3],Mn),Jt(Tn[4],Un),Jt(Tn[5],Vn);else if(In(rr,un),wt(Gn,un),"faces"in un)for(un=un.faces,sr=0;6>sr;++sr)At(Tn[sr],Gn),Jt(Tn[sr],un[sr]);else for(sr=0;6>sr;++sr)Jt(Tn[sr],un)}else for(un=0|un||1,sr=0;6>sr;++sr)qt(Tn[sr],un,un);for(At(Gn,Tn[0]),Gn.mipmask=rr.genMipmaps?(Tn[0].width<<1)-1:Tn[0].mipmask,Gn.internalformat=Tn[0].internalformat,Nn.width=Tn[0].width,Nn.height=Tn[0].height,on(Gn),sr=0;6>sr;++sr)pn(Tn[sr],34069+sr);for(Hn(rr,34067),yn(),dt.profile&&(Gn.stats.size=p(Gn.internalformat,Gn.type,Nn.width,Nn.height,rr.genMipmaps,!0)),Nn.format=mr[Gn.internalformat],Nn.type=dr[Gn.type],Nn.mag=Ir[rr.magFilter],Nn.min=Yt[rr.minFilter],Nn.wrapS=$t[rr.wrapS],Nn.wrapT=$t[rr.wrapT],sr=0;6>sr;++sr)nn(Tn[sr]);return Nn}var Gn=new An(34067);Yn[Gn.id]=Gn,qe.cubeCount++;var Tn=Array(6);return Nn(tn,Fn,Nt,an,cn,Pn),Nn.subimage=function(un,fn,bn,Mn,Un){bn|=0,Mn|=0,Un|=0;var Vn=Tt();return At(Vn,Gn),Vn.width=0,Vn.height=0,Rt(Vn,fn),Vn.width=Vn.width||(Gn.width>>Un)-bn,Vn.height=Vn.height||(Gn.height>>Un)-Mn,on(Gn),bt(Vn,34069+un,bn,Mn,Un),yn(),Ot(Vn),Nn},Nn.resize=function(un){if((un|=0)!==Gn.width){Nn.width=Gn.width=un,Nn.height=Gn.height=un,on(Gn);for(var fn=0;6>fn;++fn)for(var bn=0;Gn.mipmask>>bn;++bn)Ke.texImage2D(34069+fn,bn,Gn.format,un>>bn,un>>bn,0,Gn.format,Gn.type,null);return yn(),dt.profile&&(Gn.stats.size=p(Gn.internalformat,Gn.type,Nn.width,Nn.height,!1,!0)),Nn}},Nn._reglType="textureCube",Nn._texture=Gn,dt.profile&&(Nn.stats=Gn.stats),Nn.destroy=function(){Gn.decRef()},Nn},clear:function(){for(var tn=0;tn<Qn;++tn)Ke.activeTexture(33984+tn),Ke.bindTexture(3553,null),gr[tn]=null;ve(Yn).forEach(ln),qe.cubeCount=0,qe.textureCount=0},getTexture:function(tn){return null},restore:function(){for(var tn=0;tn<Qn;++tn){var Fn=gr[tn];Fn&&(Fn.bindCount=0,Fn.unit=-1,gr[tn]=null)}ve(Yn).forEach(function(Nt){Nt.texture=Ke.createTexture(),Ke.bindTexture(Nt.target,Nt.texture);for(var an=0;32>an;++an)if(Nt.mipmask&1<<an)if(3553===Nt.target)Ke.texImage2D(3553,an,Nt.internalformat,Nt.width>>an,Nt.height>>an,0,Nt.internalformat,Nt.type,null);else for(var cn=0;6>cn;++cn)Ke.texImage2D(34069+cn,an,Nt.internalformat,Nt.width>>an,Nt.height>>an,0,Nt.internalformat,Nt.type,null);Hn(Nt.texInfo,Nt.target)})},refresh:function(){for(var tn=0;tn<Qn;++tn){var Fn=gr[tn];Fn&&(Fn.bindCount=0,Fn.unit=-1,gr[tn]=null),Ke.activeTexture(33984+tn),Ke.bindTexture(3553,null),Ke.bindTexture(34067,null)}}}}(bt,pn,An,function(){qn.procs.poll()},Hn,qt,Ke),Ln=function(Ke,it,gt,ft,Ve){function qe(_t){this.id=wt++,this.refCount=1,this.renderbuffer=_t,this.format=32854,this.height=this.width=0,Ve.profile&&(this.stats={size:0})}function dt(_t){var Rt=_t.renderbuffer;Ke.bindRenderbuffer(36161,null),Ke.deleteRenderbuffer(Rt),_t.renderbuffer=null,_t.refCount=0,delete kt[_t.id],ft.renderbufferCount--}var ut={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};it.ext_srgb&&(ut.srgba=35907),it.ext_color_buffer_half_float&&(ut.rgba16f=34842,ut.rgb16f=34843),it.webgl_color_buffer_float&&(ut.rgba32f=34836);var At=[];Object.keys(ut).forEach(function(_t){At[ut[_t]]=_t});var wt=0,kt={};return qe.prototype.decRef=function(){0>=--this.refCount&&dt(this)},Ve.profile&&(ft.getTotalRenderbufferSize=function(){var _t=0;return Object.keys(kt).forEach(function(Rt){_t+=kt[Rt].stats.size}),_t}),{create:function(_t,Rt){function bt(Ot,Wt){var qt=0,Jt=0,pn=32854;if("object"==typeof Ot&&Ot?("shape"in Ot?(qt=0|(Jt=Ot.shape)[0],Jt=0|Jt[1]):("radius"in Ot&&(qt=Jt=0|Ot.radius),"width"in Ot&&(qt=0|Ot.width),"height"in Ot&&(Jt=0|Ot.height)),"format"in Ot&&(pn=ut[Ot.format])):"number"==typeof Ot?(qt=0|Ot,Jt="number"==typeof Wt?0|Wt:qt):Ot||(qt=Jt=1),qt!==Tt.width||Jt!==Tt.height||pn!==Tt.format)return bt.width=Tt.width=qt,bt.height=Tt.height=Jt,Tt.format=pn,Ke.bindRenderbuffer(36161,Tt.renderbuffer),Ke.renderbufferStorage(36161,pn,qt,Jt),Ve.profile&&(Tt.stats.size=ct[Tt.format]*Tt.width*Tt.height),bt.format=At[Tt.format],bt}var Tt=new qe(Ke.createRenderbuffer());return kt[Tt.id]=Tt,ft.renderbufferCount++,bt(_t,Rt),bt.resize=function(Ot,Wt){var qt=0|Ot,Jt=0|Wt||qt;return qt===Tt.width&&Jt===Tt.height||(bt.width=Tt.width=qt,bt.height=Tt.height=Jt,Ke.bindRenderbuffer(36161,Tt.renderbuffer),Ke.renderbufferStorage(36161,Tt.format,qt,Jt),Ve.profile&&(Tt.stats.size=ct[Tt.format]*Tt.width*Tt.height)),bt},bt._reglType="renderbuffer",bt._renderbuffer=Tt,Ve.profile&&(bt.stats=Tt.stats),bt.destroy=function(){Tt.decRef()},bt},clear:function(){ve(kt).forEach(dt)},restore:function(){ve(kt).forEach(function(_t){_t.renderbuffer=Ke.createRenderbuffer(),Ke.bindRenderbuffer(36161,_t.renderbuffer),Ke.renderbufferStorage(36161,_t.format,_t.width,_t.height)}),Ke.bindRenderbuffer(36161,null)}}}(bt,pn,0,qt,Ke),Sn=function k(Ke,it,gt,ft,Ve,qe){function dt(An,on,yn){this.target=An,this.texture=on,this.renderbuffer=yn;var ln=An=0;on?(An=on.width,ln=on.height):yn&&(An=yn.width,ln=yn.height),this.width=An,this.height=ln}function ut(An){An&&(An.texture&&An.texture._texture.decRef(),An.renderbuffer&&An.renderbuffer._renderbuffer.decRef())}function At(An,on,yn){An&&(An.texture?An.texture._texture.refCount+=1:An.renderbuffer._renderbuffer.refCount+=1)}function wt(An,on){on&&(on.texture?Ke.framebufferTexture2D(36160,An,on.target,on.texture._texture.texture,0):Ke.framebufferRenderbuffer(36160,An,36161,on.renderbuffer._renderbuffer.renderbuffer))}function kt(An){var on=3553,yn=null,ln=null,wn=An;return"object"==typeof An&&(wn=An.data,"target"in An&&(on=0|An.target)),"texture2d"===(An=wn._reglType)||"textureCube"===An?yn=wn:"renderbuffer"===An&&(ln=wn,on=36161),new dt(on,yn,ln)}function _t(An,on,yn,ln,wn){return yn?((An=ft.create2D({width:An,height:on,format:ln,type:wn}))._texture.refCount=0,new dt(3553,An,null)):((An=Ve.create({width:An,height:on,format:ln}))._renderbuffer.refCount=0,new dt(36161,null,An))}function Rt(An){return An&&(An.texture||An.renderbuffer)}function bt(An,on,yn){An&&(An.texture?An.texture.resize(on,yn):An.renderbuffer&&An.renderbuffer.resize(on,yn),An.width=on,An.height=yn)}function Tt(){this.id=In++,Hn[this.id]=this,this.framebuffer=Ke.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Ot(An){An.colorAttachments.forEach(ut),ut(An.depthAttachment),ut(An.stencilAttachment),ut(An.depthStencilAttachment)}function Wt(An){Ke.deleteFramebuffer(An.framebuffer),An.framebuffer=null,qe.framebufferCount--,delete Hn[An.id]}function qt(An){var on;Ke.bindFramebuffer(36160,An.framebuffer);var yn=An.colorAttachments;for(on=0;on<yn.length;++on)wt(36064+on,yn[on]);for(on=yn.length;on<gt.maxColorAttachments;++on)Ke.framebufferTexture2D(36160,36064+on,3553,null,0);Ke.framebufferTexture2D(36160,33306,3553,null,0),Ke.framebufferTexture2D(36160,36096,3553,null,0),Ke.framebufferTexture2D(36160,36128,3553,null,0),wt(36096,An.depthAttachment),wt(36128,An.stencilAttachment),wt(33306,An.depthStencilAttachment),Ke.checkFramebufferStatus(36160),Ke.isContextLost(),Ke.bindFramebuffer(36160,pn.next?pn.next.framebuffer:null),pn.cur=pn.next,Ke.getError()}function Jt(An,on){function yn(wn,Cn){var Ln,Sn=0,qn=0,kn=!0,Zn=!0;Ln=null;var fr=!0,er="rgba",nr="uint8",mr=1,dr=null,Ir=null,Yt=null,$t=!1;"number"==typeof wn?(Sn=0|wn,qn=0|Cn||Sn):wn?("shape"in wn?(Sn=(qn=wn.shape)[0],qn=qn[1]):("radius"in wn&&(Sn=qn=wn.radius),"width"in wn&&(Sn=wn.width),"height"in wn&&(qn=wn.height)),("color"in wn||"colors"in wn)&&(Ln=wn.color||wn.colors,Array.isArray(Ln)),Ln||("colorCount"in wn&&(mr=0|wn.colorCount),"colorTexture"in wn&&(fr=!!wn.colorTexture,er="rgba4"),"colorType"in wn&&(nr=wn.colorType,!fr)&&("half float"===nr||"float16"===nr?er="rgba16f":"float"!==nr&&"float32"!==nr||(er="rgba32f")),"colorFormat"in wn&&(0<=en.indexOf(er=wn.colorFormat)?fr=!0:0<=nn.indexOf(er)&&(fr=!1))),("depthTexture"in wn||"depthStencilTexture"in wn)&&($t=!(!wn.depthTexture&&!wn.depthStencilTexture)),"depth"in wn&&("boolean"==typeof wn.depth?kn=wn.depth:(dr=wn.depth,Zn=!1)),"stencil"in wn&&("boolean"==typeof wn.stencil?Zn=wn.stencil:(Ir=wn.stencil,kn=!1)),"depthStencil"in wn&&("boolean"==typeof wn.depthStencil?kn=Zn=wn.depthStencil:(Yt=wn.depthStencil,Zn=kn=!1))):Sn=qn=1;var xn=null,vn=null,Dn=null,or=null;if(Array.isArray(Ln))xn=Ln.map(kt);else if(Ln)xn=[kt(Ln)];else for(xn=Array(mr),Ln=0;Ln<mr;++Ln)xn[Ln]=_t(Sn,qn,fr,er,nr);for(Sn=Sn||xn[0].width,qn=qn||xn[0].height,dr?vn=kt(dr):kn&&!Zn&&(vn=_t(Sn,qn,$t,"depth","uint32")),Ir?Dn=kt(Ir):Zn&&!kn&&(Dn=_t(Sn,qn,!1,"stencil","uint8")),Yt?or=kt(Yt):!dr&&!Ir&&Zn&&kn&&(or=_t(Sn,qn,$t,"depth stencil","depth stencil")),kn=null,Ln=0;Ln<xn.length;++Ln)At(xn[Ln]),xn[Ln]&&xn[Ln].texture&&(Zn=Dt[xn[Ln].texture._texture.format]*Et[xn[Ln].texture._texture.type],null===kn&&(kn=Zn));return At(vn),At(Dn),At(or),Ot(ln),ln.width=Sn,ln.height=qn,ln.colorAttachments=xn,ln.depthAttachment=vn,ln.stencilAttachment=Dn,ln.depthStencilAttachment=or,yn.color=xn.map(Rt),yn.depth=Rt(vn),yn.stencil=Rt(Dn),yn.depthStencil=Rt(or),yn.width=ln.width,yn.height=ln.height,qt(ln),yn}var ln=new Tt;return qe.framebufferCount++,yn(An,on),oe(yn,{resize:function(wn,Cn){var Ln=Math.max(0|wn,1),Sn=Math.max(0|Cn||Ln,1);if(Ln===ln.width&&Sn===ln.height)return yn;for(var qn=ln.colorAttachments,kn=0;kn<qn.length;++kn)bt(qn[kn],Ln,Sn);return bt(ln.depthAttachment,Ln,Sn),bt(ln.stencilAttachment,Ln,Sn),bt(ln.depthStencilAttachment,Ln,Sn),ln.width=yn.width=Ln,ln.height=yn.height=Sn,qt(ln),yn},_reglType:"framebuffer",_framebuffer:ln,destroy:function(){Wt(ln),Ot(ln)},use:function(wn){pn.setFBO({framebuffer:yn},wn)}})}var pn={cur:null,next:null,dirty:!1,setFBO:null},en=["rgba"],nn=["rgba4","rgb565","rgb5 a1"];it.ext_srgb&&nn.push("srgba"),it.ext_color_buffer_half_float&&nn.push("rgba16f","rgb16f"),it.webgl_color_buffer_float&&nn.push("rgba32f");var dn=["uint8"];it.oes_texture_half_float&&dn.push("half float","float16"),it.oes_texture_float&&dn.push("float","float32");var In=0,Hn={};return oe(pn,{getFramebuffer:function(An){return"function"==typeof An&&"framebuffer"===An._reglType&&(An=An._framebuffer)instanceof Tt?An:null},create:Jt,createCube:function(An){function on(ln){var wn,Cn={color:null},Ln=0,Sn=null;wn="rgba";var qn="uint8",kn=1;if("number"==typeof ln?Ln=0|ln:ln?("shape"in ln?Ln=ln.shape[0]:("radius"in ln&&(Ln=0|ln.radius),"width"in ln?Ln=0|ln.width:"height"in ln&&(Ln=0|ln.height)),("color"in ln||"colors"in ln)&&(Sn=ln.color||ln.colors,Array.isArray(Sn)),Sn||("colorCount"in ln&&(kn=0|ln.colorCount),"colorType"in ln&&(qn=ln.colorType),"colorFormat"in ln&&(wn=ln.colorFormat)),"depth"in ln&&(Cn.depth=ln.depth),"stencil"in ln&&(Cn.stencil=ln.stencil),"depthStencil"in ln&&(Cn.depthStencil=ln.depthStencil)):Ln=1,Sn)if(Array.isArray(Sn))for(ln=[],wn=0;wn<Sn.length;++wn)ln[wn]=Sn[wn];else ln=[Sn];else for(ln=Array(kn),Sn={radius:Ln,format:wn,type:qn},wn=0;wn<kn;++wn)ln[wn]=ft.createCube(Sn);for(Cn.color=Array(ln.length),wn=0;wn<ln.length;++wn)kn=ln[wn],Ln=Ln||kn.width,Cn.color[wn]={target:34069,data:ln[wn]};for(wn=0;6>wn;++wn){for(kn=0;kn<ln.length;++kn)Cn.color[kn].target=34069+wn;0<wn&&(Cn.depth=yn[0].depth,Cn.stencil=yn[0].stencil,Cn.depthStencil=yn[0].depthStencil),yn[wn]?yn[wn](Cn):yn[wn]=Jt(Cn)}return oe(on,{width:Ln,height:Ln,color:ln})}var yn=Array(6);return on(An),oe(on,{faces:yn,resize:function(ln){var wn=0|ln;if(wn===on.width)return on;var Cn=on.color;for(ln=0;ln<Cn.length;++ln)Cn[ln].resize(wn);for(ln=0;6>ln;++ln)yn[ln].resize(wn);return on.width=on.height=wn,on},_reglType:"framebufferCube",destroy:function(){yn.forEach(function(ln){ln.destroy()})}})},clear:function(){ve(Hn).forEach(Wt)},restore:function(){pn.cur=null,pn.next=null,pn.dirty=!0,ve(Hn).forEach(function(An){An.framebuffer=Ke.createFramebuffer(),qt(An)})}})}(bt,pn,An,Cn,Ln,qt),qn=Q(bt,Wt,pn,An,on,yn,0,Sn,{},ln,wn,dn,Hn,en,Jt,Ke),kn=(Wt=function N(Ke,it,gt,ft,Ve,qe,dt){function ut(At){var wt;wt=null===it.next?5121:it.next.colorAttachments[0].texture._texture.type;var kt=0,_t=0,Rt=ft.framebufferWidth,bt=ft.framebufferHeight,Tt=null;return Te(At)?Tt=At:At&&(kt=0|At.x,_t=0|At.y,Rt=0|(At.width||ft.framebufferWidth-kt),bt=0|(At.height||ft.framebufferHeight-_t),Tt=At.data||null),gt(),At=Rt*bt*4,Tt||(5121===wt?Tt=new Uint8Array(At):5126===wt&&(Tt=Tt||new Float32Array(At))),Ke.pixelStorei(3333,4),Ke.readPixels(kt,_t,Rt,bt,6408,wt,Tt),Tt}return function(At){return At&&"framebuffer"in At?(it.setFBO({framebuffer:(wt=At).framebuffer},function(){kt=ut(wt)}),kt):ut(At);var wt,kt}}(bt,Sn,qn.procs.poll,Hn),qn.next),Zn=bt.canvas,fr=[],er=[],nr=[],mr=[Ke.onDestroy],dr=null;Zn&&(Zn.addEventListener("webglcontextlost",Ve,!1),Zn.addEventListener("webglcontextrestored",qe,!1));var Ir=Sn.setFBO=dt({framebuffer:ue.define.call(null,1,"framebuffer")});return _t(),Tt=oe(dt,{clear:function(Yt){if("framebuffer"in Yt)if(Yt.framebuffer&&"framebufferCube"===Yt.framebuffer_reglType)for(var $t=0;6>$t;++$t)Ir(oe({framebuffer:Yt.framebuffer.faces[$t]},Yt),ut);else Ir(Yt,ut);else ut(0,Yt)},prop:ue.define.bind(null,1),context:ue.define.bind(null,2),this:ue.define.bind(null,3),draw:dt({}),buffer:function(Yt){return on.create(Yt,34962,!1,!1)},elements:function(Yt){return yn.create(Yt,!1)},texture:Cn.create2D,cube:Cn.createCube,renderbuffer:Ln.create,framebuffer:Sn.create,framebufferCube:Sn.createCube,vao:ln.createVAO,attributes:Tt,frame:At,on:function(Yt,$t){var xn;switch(Yt){case"frame":return At($t);case"lost":xn=er;break;case"restore":xn=nr;break;case"destroy":xn=mr}return xn.push($t),{cancel:function(){for(var vn=0;vn<xn.length;++vn)if(xn[vn]===$t){xn[vn]=xn[xn.length-1],xn.pop();break}}}},limits:An,hasExtension:function(Yt){return 0<=An.extensions.indexOf(Yt.toLowerCase())},read:Wt,destroy:function(){fr.length=0,ft(),Zn&&(Zn.removeEventListener("webglcontextlost",Ve),Zn.removeEventListener("webglcontextrestored",qe)),wn.clear(),Sn.clear(),Ln.clear(),ln.clear(),Cn.clear(),yn.clear(),on.clear(),en&&en.clear(),mr.forEach(function(Yt){Yt()})},_gl:bt,_refresh:_t,poll:function(){kt(),en&&en.update()},now:Rt,stats:qt,getCachedCode:function(){return Jt},preloadCachedCode:function(Yt){Object.entries(Yt).forEach(function($t){Jt[$t[0]]=$t[1]})}}),Ke.onDone(null,Tt),Tt}}()},71665:function(ae,B,r){var D=r(12856),E=D.Buffer;function f(M,v){for(var c in M)v[c]=M[c]}function S(M,v,c){return E(M,v,c)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?ae.exports=D:(f(D,B),B.Buffer=S),S.prototype=Object.create(E.prototype),f(E,S),S.from=function(M,v,c){if("number"==typeof M)throw new TypeError("Argument must not be a number");return E(M,v,c)},S.alloc=function(M,v,c){if("number"!=typeof M)throw new TypeError("Argument must be a number");var i=E(M);return void 0!==v?"string"==typeof c?i.fill(v,c):i.fill(v):i.fill(0),i},S.allocUnsafe=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return E(M)},S.allocUnsafeSlow=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return D.SlowBuffer(M)}},21630:function(ae,B,r){ae.exports=E;var D=r(15398).EventEmitter;function E(){D.call(this)}r(42018)(E,D),E.Readable=r(40410),E.Writable=r(37493),E.Duplex=r(37865),E.Transform=r(74308),E.PassThrough=r(66897),E.finished=r(12726),E.pipeline=r(10168),E.Stream=E,E.prototype.pipe=function(f,S){var M=this;function v(u){f.writable&&!1===f.write(u)&&M.pause&&M.pause()}function c(){M.readable&&M.resume&&M.resume()}M.on("data",v),f.on("drain",c),f._isStdio||S&&!1===S.end||(M.on("end",s),M.on("close",a));var i=!1;function s(){i||(i=!0,f.end())}function a(){i||(i=!0,"function"==typeof f.destroy&&f.destroy())}function o(u){if(l(),0===D.listenerCount(this,"error"))throw u}function l(){M.removeListener("data",v),f.removeListener("drain",c),M.removeListener("end",s),M.removeListener("close",a),M.removeListener("error",o),f.removeListener("error",o),M.removeListener("end",l),M.removeListener("close",l),f.removeListener("close",l)}return M.on("error",o),f.on("error",o),M.on("end",l),M.on("close",l),f.on("close",l),f.emit("pipe",M),f}},74322:function(ae){"use strict";var B={};function r(E,f,S){S||(S=Error);var M=function(v){var c,i;function s(a,o,l){return v.call(this,"string"==typeof f?f:f(a,o,l))||this}return i=v,(c=s).prototype=Object.create(i.prototype),c.prototype.constructor=c,c.__proto__=i,s}(S);M.prototype.name=S.name,M.prototype.code=E,B[E]=M}function D(E,f){if(Array.isArray(E)){var S=E.length;return E=E.map(function(M){return String(M)}),S>2?"one of ".concat(f," ").concat(E.slice(0,S-1).join(", "),", or ")+E[S-1]:2===S?"one of ".concat(f," ").concat(E[0]," or ").concat(E[1]):"of ".concat(f," ").concat(E[0])}return"of ".concat(f," ").concat(String(E))}r("ERR_INVALID_OPT_VALUE",function(E,f){return'The value "'+f+'" is invalid for option "'+E+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(E,f,S){var M,c,i,s,o,u;if("string"==typeof f&&("not ","not "===f.substr(0,4))?(M="must not be",f=f.replace(/^not /,"")):M="must be",o=E," argument",(void 0===u||u>o.length)&&(u=o.length)," argument"===o.substring(u-9,u))c="The ".concat(E," ").concat(M," ").concat(D(f,"type"));else{var a=("number"!=typeof s&&(s=0),s+1>(i=E).length||-1===i.indexOf(".",s)?"argument":"property");c='The "'.concat(E,'" ').concat(a," ").concat(M," ").concat(D(f,"type"))}return c+". Received type ".concat(typeof S)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(E){return"The "+E+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(E){return"Cannot call "+E+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(E){return"Unknown encoding: "+E},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ae.exports.q=B},37865:function(ae,B,r){"use strict";var D=r(90386),E=Object.keys||function(o){var l=[];for(var u in o)l.push(u);return l};ae.exports=i;var f=r(40410),S=r(37493);r(42018)(i,f);for(var M=E(S.prototype),v=0;v<M.length;v++){var c=M[v];i.prototype[c]||(i.prototype[c]=S.prototype[c])}function i(o){if(!(this instanceof i))return new i(o);f.call(this,o),S.call(this,o),this.allowHalfOpen=!0,o&&(!1===o.readable&&(this.readable=!1),!1===o.writable&&(this.writable=!1),!1===o.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||D.nextTick(a,this)}function a(o){o.end()}Object.defineProperty(i.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(i.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(i.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(o){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=o,this._writableState.destroyed=o)}})},66897:function(ae,B,r){"use strict";ae.exports=E;var D=r(74308);function E(f){if(!(this instanceof E))return new E(f);D.call(this,f)}r(42018)(E,D),E.prototype._transform=function(f,S,M){M(null,f)}},40410:function(ae,B,r){"use strict";var D,E=r(90386);ae.exports=A,A.ReadableState=b,r(15398);var f,S=function(te,re){return te.listeners(re).length},M=r(71405),v=r(12856).Buffer,c=r.g.Uint8Array||function(){},i=r(40964);f=i&&i.debuglog?i.debuglog("stream"):function(){};var s,a,o,l=r(31125),u=r(65756),d=r(56306).getHighWaterMark,m=r(74322).q,h=m.ERR_INVALID_ARG_TYPE,T=m.ERR_STREAM_PUSH_AFTER_EOF,_=m.ERR_METHOD_NOT_IMPLEMENTED,g=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(42018)(A,M);var w=u.errorOrDestroy,x=["error","close","destroy","pause","resume"];function b(te,re,Q){D=D||r(37865),"boolean"!=typeof Q&&(Q=re instanceof D),this.objectMode=!!(te=te||{}).objectMode,Q&&(this.objectMode=this.objectMode||!!te.readableObjectMode),this.highWaterMark=d(this,te,"readableHighWaterMark",Q),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==te.emitClose,this.autoDestroy=!!te.autoDestroy,this.destroyed=!1,this.defaultEncoding=te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,te.encoding&&(s||(s=r(68019).s),this.decoder=new s(te.encoding),this.encoding=te.encoding)}function A(te){if(D=D||r(37865),!(this instanceof A))return new A(te);this._readableState=new b(te,this,this instanceof D),this.readable=!0,te&&("function"==typeof te.read&&(this._read=te.read),"function"==typeof te.destroy&&(this._destroy=te.destroy)),M.call(this)}function p(te,re,Q,ee,oe){f("readableAddChunk",re);var le,de,he,we,Ae,ue=te._readableState;if(null===re)ue.reading=!1,function(de,he){if(f("onEofChunk"),!he.ended){if(he.decoder){var we=he.decoder.end();we&&we.length&&(he.buffer.push(we),he.length+=he.objectMode?1:we.length)}he.ended=!0,he.sync?P(de):(he.needReadable=!1,he.emittedReadable||(he.emittedReadable=!0,R(de)))}}(te,ue);else if(oe||(de=ue,v.isBuffer(Ae=he=re)||Ae instanceof c||"string"==typeof he||void 0===he||de.objectMode||(we=new h("chunk",["string","Buffer","Uint8Array"],he)),le=we),le)w(te,le);else if(ue.objectMode||re&&re.length>0)if("string"==typeof re||ue.objectMode||Object.getPrototypeOf(re)===v.prototype||(re=function(de){return v.from(de)}(re)),ee)ue.endEmitted?w(te,new g):O(te,ue,re,!0);else if(ue.ended)w(te,new T);else{if(ue.destroyed)return!1;ue.reading=!1,ue.decoder&&!Q?(re=ue.decoder.write(re),ue.objectMode||0!==re.length?O(te,ue,re,!1):N(te,ue)):O(te,ue,re,!1)}else ee||(ue.reading=!1,N(te,ue));return!ue.ended&&(ue.length<ue.highWaterMark||0===ue.length)}function O(te,re,Q,ee){re.flowing&&0===re.length&&!re.sync?(re.awaitDrain=0,te.emit("data",Q)):(re.length+=re.objectMode?1:Q.length,ee?re.buffer.unshift(Q):re.buffer.push(Q),re.needReadable&&P(te)),N(te,re)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(te){this._readableState&&(this._readableState.destroyed=te)}}),A.prototype.destroy=u.destroy,A.prototype._undestroy=u.undestroy,A.prototype._destroy=function(te,re){re(te)},A.prototype.push=function(te,re){var Q,ee=this._readableState;return ee.objectMode?Q=!0:"string"==typeof te&&((re=re||ee.defaultEncoding)!==ee.encoding&&(te=v.from(te,re),re=""),Q=!0),p(this,te,re,!1,Q)},A.prototype.unshift=function(te){return p(this,te,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(te){s||(s=r(68019).s);var re=new s(te);this._readableState.decoder=re,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,ee="";null!==Q;)ee+=re.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),""!==ee&&this._readableState.buffer.push(ee),this._readableState.length=ee.length,this};var k=1073741824;function I(te,re){return te<=0||0===re.length&&re.ended?0:re.objectMode?1:te!=te?re.flowing&&re.length?re.buffer.head.data.length:re.length:(te>re.highWaterMark&&(re.highWaterMark=((Q=te)>=k?Q=k:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q)),te<=re.length?te:re.ended?re.length:(re.needReadable=!0,0));var Q}function P(te){var re=te._readableState;f("emitReadable",re.needReadable,re.emittedReadable),re.needReadable=!1,re.emittedReadable||(f("emitReadable",re.flowing),re.emittedReadable=!0,E.nextTick(R,te))}function R(te){var re=te._readableState;f("emitReadable_",re.destroyed,re.length,re.ended),re.destroyed||!re.length&&!re.ended||(te.emit("readable"),re.emittedReadable=!1),re.needReadable=!re.flowing&&!re.ended&&re.length<=re.highWaterMark,W(te)}function N(te,re){re.readingMore||(re.readingMore=!0,E.nextTick(j,te,re))}function j(te,re){for(;!re.reading&&!re.ended&&(re.length<re.highWaterMark||re.flowing&&0===re.length);){var Q=re.length;if(f("maybeReadMore read 0"),te.read(0),Q===re.length)break}re.readingMore=!1}function X(te){var re=te._readableState;re.readableListening=te.listenerCount("readable")>0,re.resumeScheduled&&!re.paused?re.flowing=!0:te.listenerCount("data")>0&&te.resume()}function F(te){f("readable nexttick read 0"),te.read(0)}function Z(te,re){f("resume",re.reading),re.reading||te.read(0),re.resumeScheduled=!1,te.emit("resume"),W(te),re.flowing&&!re.reading&&te.read(0)}function W(te){var re=te._readableState;for(f("flow",re.flowing);re.flowing&&null!==te.read(););}function H(te,re){return 0===re.length?null:(re.objectMode?Q=re.buffer.shift():!te||te>=re.length?(Q=re.decoder?re.buffer.join(""):1===re.buffer.length?re.buffer.first():re.buffer.concat(re.length),re.buffer.clear()):Q=re.buffer.consume(te,re.decoder),Q);var Q}function G(te){var re=te._readableState;f("endReadable",re.endEmitted),re.endEmitted||(re.ended=!0,E.nextTick(Y,re,te))}function Y(te,re){if(f("endReadableNT",te.endEmitted,te.length),!te.endEmitted&&0===te.length&&(te.endEmitted=!0,re.readable=!1,re.emit("end"),te.autoDestroy)){var Q=re._writableState;(!Q||Q.autoDestroy&&Q.finished)&&re.destroy()}}function se(te,re){for(var Q=0,ee=te.length;Q<ee;Q++)if(te[Q]===re)return Q;return-1}A.prototype.read=function(te){f("read",te),te=parseInt(te,10);var re=this._readableState,Q=te;if(0!==te&&(re.emittedReadable=!1),0===te&&re.needReadable&&((0!==re.highWaterMark?re.length>=re.highWaterMark:re.length>0)||re.ended))return f("read: emitReadable",re.length,re.ended),0===re.length&&re.ended?G(this):P(this),null;if(0===(te=I(te,re))&&re.ended)return 0===re.length&&G(this),null;var ee,oe=re.needReadable;return f("need readable",oe),(0===re.length||re.length-te<re.highWaterMark)&&f("length less than watermark",oe=!0),re.ended||re.reading?f("reading or ended",oe=!1):oe&&(f("do read"),re.reading=!0,re.sync=!0,0===re.length&&(re.needReadable=!0),this._read(re.highWaterMark),re.sync=!1,re.reading||(te=I(Q,re))),null===(ee=te>0?H(te,re):null)?(re.needReadable=re.length<=re.highWaterMark,te=0):(re.length-=te,re.awaitDrain=0),0===re.length&&(re.ended||(re.needReadable=!0),Q!==te&&re.ended&&G(this)),null!==ee&&this.emit("data",ee),ee},A.prototype._read=function(te){w(this,new _("_read()"))},A.prototype.pipe=function(te,re){var Q=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=te;break;case 1:ee.pipes=[ee.pipes,te];break;default:ee.pipes.push(te)}ee.pipesCount+=1,f("pipe count=%d opts=%j",ee.pipesCount,re);var oe=re&&!1===re.end||te===E.stdout||te===E.stderr?ve:le;function le(){f("onend"),te.end()}ee.endEmitted?E.nextTick(oe):Q.once("end",oe),te.on("unpipe",function xe(Fe,Se){f("onunpipe"),Fe===Q&&Se&&!1===Se.hasUnpiped&&(Se.hasUnpiped=!0,f("cleanup"),te.removeListener("close",Ae),te.removeListener("finish",Te),te.removeListener("drain",ue),te.removeListener("error",we),te.removeListener("unpipe",xe),Q.removeListener("end",le),Q.removeListener("end",ve),Q.removeListener("data",he),de=!0,!ee.awaitDrain||te._writableState&&!te._writableState.needDrain||ue())});var xe,ue=(xe=Q,function(){var Fe=xe._readableState;f("pipeOnDrain",Fe.awaitDrain),Fe.awaitDrain&&Fe.awaitDrain--,0===Fe.awaitDrain&&S(xe,"data")&&(Fe.flowing=!0,W(xe))});te.on("drain",ue);var de=!1;function he(xe){f("ondata");var Fe=te.write(xe);f("dest.write",Fe),!1===Fe&&((1===ee.pipesCount&&ee.pipes===te||ee.pipesCount>1&&-1!==se(ee.pipes,te))&&!de&&(f("false write response, pause",ee.awaitDrain),ee.awaitDrain++),Q.pause())}function we(xe){f("onerror",xe),ve(),te.removeListener("error",we),0===S(te,"error")&&w(te,xe)}function Ae(){te.removeListener("finish",Te),ve()}function Te(){f("onfinish"),te.removeListener("close",Ae),ve()}function ve(){f("unpipe"),Q.unpipe(te)}return Q.on("data",he),function(xe,Fe,Se){if("function"==typeof xe.prependListener)return xe.prependListener(Fe,Se);xe._events&&xe._events[Fe]?Array.isArray(xe._events[Fe])?xe._events[Fe].unshift(Se):xe._events[Fe]=[Se,xe._events[Fe]]:xe.on(Fe,Se)}(te,"error",we),te.once("close",Ae),te.once("finish",Te),te.emit("pipe",Q),ee.flowing||(f("pipe resume"),Q.resume()),te},A.prototype.unpipe=function(te){var re=this._readableState,Q={hasUnpiped:!1};if(0===re.pipesCount)return this;if(1===re.pipesCount)return te&&te!==re.pipes||(te||(te=re.pipes),re.pipes=null,re.pipesCount=0,re.flowing=!1,te&&te.emit("unpipe",this,Q)),this;if(!te){var ee=re.pipes,oe=re.pipesCount;re.pipes=null,re.pipesCount=0,re.flowing=!1;for(var le=0;le<oe;le++)ee[le].emit("unpipe",this,{hasUnpiped:!1});return this}var ue=se(re.pipes,te);return-1===ue||(re.pipes.splice(ue,1),re.pipesCount-=1,1===re.pipesCount&&(re.pipes=re.pipes[0]),te.emit("unpipe",this,Q)),this},A.prototype.addListener=A.prototype.on=function(te,re){var Q=M.prototype.on.call(this,te,re),ee=this._readableState;return"data"===te?(ee.readableListening=this.listenerCount("readable")>0,!1!==ee.flowing&&this.resume()):"readable"===te&&(ee.endEmitted||ee.readableListening||(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,f("on readable",ee.length,ee.reading),ee.length?P(this):ee.reading||E.nextTick(F,this))),Q},A.prototype.removeListener=function(te,re){var Q=M.prototype.removeListener.call(this,te,re);return"readable"===te&&E.nextTick(X,this),Q},A.prototype.removeAllListeners=function(te){var re=M.prototype.removeAllListeners.apply(this,arguments);return"readable"!==te&&void 0!==te||E.nextTick(X,this),re},A.prototype.resume=function(){var Q,te=this._readableState;return te.flowing||(f("resume"),te.flowing=!te.readableListening,this,(Q=te).resumeScheduled||(Q.resumeScheduled=!0,E.nextTick(Z,this,Q))),te.paused=!1,this},A.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(te){var re=this,Q=this._readableState,ee=!1;for(var oe in te.on("end",function(){if(f("wrapped end"),Q.decoder&&!Q.ended){var ue=Q.decoder.end();ue&&ue.length&&re.push(ue)}re.push(null)}),te.on("data",function(ue){f("wrapped data"),Q.decoder&&(ue=Q.decoder.write(ue)),Q.objectMode&&null==ue||(Q.objectMode||ue&&ue.length)&&(re.push(ue)||(ee=!0,te.pause()))}),te)void 0===this[oe]&&"function"==typeof te[oe]&&(this[oe]=function(ue){return function(){return te[ue].apply(te,arguments)}}(oe));for(var le=0;le<x.length;le++)te.on(x[le],this.emit.bind(this,x[le]));return this._read=function(ue){f("wrapped _read",ue),ee&&(ee=!1,te.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return void 0===a&&(a=r(68221)),a(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(te){this._readableState&&(this._readableState.flowing=te)}}),A._fromList=H,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(A.from=function(te,re){return void 0===o&&(o=r(31748)),o(A,te,re)})},74308:function(ae,B,r){"use strict";ae.exports=i;var D=r(74322).q,E=D.ERR_METHOD_NOT_IMPLEMENTED,f=D.ERR_MULTIPLE_CALLBACK,S=D.ERR_TRANSFORM_ALREADY_TRANSFORMING,M=D.ERR_TRANSFORM_WITH_LENGTH_0,v=r(37865);function c(o,l){var u=this._transformState;u.transforming=!1;var d=u.writecb;if(null===d)return this.emit("error",new f);u.writechunk=null,u.writecb=null,null!=l&&this.push(l),d(o);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function i(o){if(!(this instanceof i))return new i(o);v.call(this,o),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,o&&("function"==typeof o.transform&&(this._transform=o.transform),"function"==typeof o.flush&&(this._flush=o.flush)),this.on("prefinish",s)}function s(){var o=this;"function"!=typeof this._flush||this._readableState.destroyed?a(this,null,null):this._flush(function(l,u){a(o,l,u)})}function a(o,l,u){if(l)return o.emit("error",l);if(null!=u&&o.push(u),o._writableState.length)throw new M;if(o._transformState.transforming)throw new S;return o.push(null)}r(42018)(i,v),i.prototype.push=function(o,l){return this._transformState.needTransform=!1,v.prototype.push.call(this,o,l)},i.prototype._transform=function(o,l,u){u(new E("_transform()"))},i.prototype._write=function(o,l,u){var d=this._transformState;if(d.writecb=u,d.writechunk=o,d.writeencoding=l,!d.transforming){var m=this._readableState;(d.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},i.prototype._read=function(o){var l=this._transformState;null===l.writechunk||l.transforming?l.needTransform=!0:(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform))},i.prototype._destroy=function(o,l){v.prototype._destroy.call(this,o,function(u){l(u)})}},37493:function(ae,B,r){"use strict";var D,E=r(90386);function f(N){var j=this;this.next=null,this.entry=null,this.finish=function(){!function(X,F,Z){var W=X.entry;for(X.entry=null;W;){var H=W.callback;F.pendingcb--,H(void 0),W=W.next}F.corkedRequestsFree.next=X}(j,N)}}ae.exports=A,A.WritableState=b;var S,M={deprecate:r(20588)},v=r(71405),c=r(12856).Buffer,i=r.g.Uint8Array||function(){},s=r(65756),a=r(56306).getHighWaterMark,o=r(74322).q,l=o.ERR_INVALID_ARG_TYPE,u=o.ERR_METHOD_NOT_IMPLEMENTED,d=o.ERR_MULTIPLE_CALLBACK,m=o.ERR_STREAM_CANNOT_PIPE,h=o.ERR_STREAM_DESTROYED,T=o.ERR_STREAM_NULL_VALUES,_=o.ERR_STREAM_WRITE_AFTER_END,g=o.ERR_UNKNOWN_ENCODING,w=s.errorOrDestroy;function x(){}function b(N,j,X){D=D||r(37865),"boolean"!=typeof X&&(X=j instanceof D),this.objectMode=!!(N=N||{}).objectMode,X&&(this.objectMode=this.objectMode||!!N.writableObjectMode),this.highWaterMark=a(this,N,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===N.decodeStrings),this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){!function(W,H){var re,G=W._writableState,Y=G.sync,se=G.writecb;if("function"!=typeof se)throw new d;if((re=G).writing=!1,re.writecb=null,re.length-=re.writelen,re.writelen=0,H)!function(re,Q,ee,oe,le){--Q.pendingcb,ee?(E.nextTick(le,oe),E.nextTick(R,re,Q),re._writableState.errorEmitted=!0,w(re,oe)):(le(oe),re._writableState.errorEmitted=!0,w(re,oe),R(re,Q))}(W,G,Y,H,se);else{var te=I(G)||W.destroyed;te||G.corked||G.bufferProcessing||!G.bufferedRequest||k(W,G),Y?E.nextTick(O,W,G,te,se):O(W,G,te,se)}}(j,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==N.emitClose,this.autoDestroy=!!N.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function A(N){var j=this instanceof(D=D||r(37865));if(!j&&!S.call(A,this))return new A(N);this._writableState=new b(N,this,j),this.writable=!0,N&&("function"==typeof N.write&&(this._write=N.write),"function"==typeof N.writev&&(this._writev=N.writev),"function"==typeof N.destroy&&(this._destroy=N.destroy),"function"==typeof N.final&&(this._final=N.final)),v.call(this)}function p(N,j,X,F,Z,W,H){j.writelen=F,j.writecb=H,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new h("write")):X?N._writev(Z,j.onwrite):N._write(Z,W,j.onwrite),j.sync=!1}function O(N,j,X,F){var Z,W;X||(Z=N,0===(W=j).length&&W.needDrain&&(W.needDrain=!1,Z.emit("drain"))),j.pendingcb--,F(),R(N,j)}function k(N,j){j.bufferProcessing=!0;var X=j.bufferedRequest;if(N._writev&&X&&X.next){var Z=new Array(j.bufferedRequestCount),W=j.corkedRequestsFree;W.entry=X;for(var H=0,G=!0;X;)Z[H]=X,X.isBuf||(G=!1),X=X.next,H+=1;Z.allBuffers=G,p(N,j,!0,j.length,Z,"",W.finish),j.pendingcb++,j.lastBufferedRequest=null,W.next?(j.corkedRequestsFree=W.next,W.next=null):j.corkedRequestsFree=new f(j),j.bufferedRequestCount=0}else{for(;X;){var Y=X.chunk;if(p(N,j,!1,j.objectMode?1:Y.length,Y,X.encoding,X.callback),X=X.next,j.bufferedRequestCount--,j.writing)break}null===X&&(j.lastBufferedRequest=null)}j.bufferedRequest=X,j.bufferProcessing=!1}function I(N){return N.ending&&0===N.length&&null===N.bufferedRequest&&!N.finished&&!N.writing}function P(N,j){N._final(function(X){j.pendingcb--,X&&w(N,X),j.prefinished=!0,N.emit("prefinish"),R(N,j)})}function R(N,j){var Z,W,X=I(j);if(X&&(Z=N,(W=j).prefinished||W.finalCalled||("function"!=typeof Z._final||W.destroyed?(W.prefinished=!0,Z.emit("prefinish")):(W.pendingcb++,W.finalCalled=!0,E.nextTick(P,Z,W))),0===j.pendingcb&&(j.finished=!0,N.emit("finish"),j.autoDestroy))){var F=N._readableState;(!F||F.autoDestroy&&F.endEmitted)&&N.destroy()}return X}r(42018)(A,v),b.prototype.getBuffer=function(){for(var N=this.bufferedRequest,j=[];N;)j.push(N),N=N.next;return j},function(){try{Object.defineProperty(b.prototype,"buffer",{get:M.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(N){return!!S.call(this,N)||this===A&&N&&N._writableState instanceof b}})):S=function(N){return N instanceof this},A.prototype.pipe=function(){w(this,new m)},A.prototype.write=function(N,j,X){var F,G,Y,se,Z=this._writableState,W=!1,H=!Z.objectMode&&(c.isBuffer(F=N)||F instanceof i);return H&&!c.isBuffer(N)&&(N=c.from(N)),"function"==typeof j&&(X=j,j=null),H?j="buffer":j||(j=Z.defaultEncoding),"function"!=typeof X&&(X=x),Z.ending?(G=this,Y=X,se=new _,w(G,se),E.nextTick(Y,se)):(H||function(G,Y,se,te){var re;return null===se?re=new T:"string"==typeof se||Y.objectMode||(re=new l("chunk",["string","Buffer"],se)),!re||(w(G,re),E.nextTick(te,re),!1)}(this,Z,N,X))&&(Z.pendingcb++,W=function(G,Y,se,te,re,Q){if(!se){var ee=(he=te,(de=Y).objectMode||!1===de.decodeStrings||"string"!=typeof he||(he=c.from(he,re)),he);te!==ee&&(se=!0,re="buffer",te=ee)}var de,he,oe=Y.objectMode?1:te.length;Y.length+=oe;var le=Y.length<Y.highWaterMark;if(le||(Y.needDrain=!0),Y.writing||Y.corked){var ue=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:te,encoding:re,isBuf:se,callback:Q,next:null},ue?ue.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else p(G,Y,!1,oe,te,re,Q);return le}(this,Z,H,N,j,X)),W},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,N.writing||N.corked||N.bufferProcessing||!N.bufferedRequest||k(this,N))},A.prototype.setDefaultEncoding=function(N){if("string"==typeof N&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new g(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(N,j,X){X(new u("_write()"))},A.prototype._writev=null,A.prototype.end=function(N,j,X){var Z,W,H,F=this._writableState;return"function"==typeof N?(X=N,N=null,j=null):"function"==typeof j&&(X=j,j=null),null!=N&&this.write(N,j),F.corked&&(F.corked=1,this.uncork()),F.ending||(Z=this,H=X,(W=F).ending=!0,R(Z,W),H&&(W.finished?E.nextTick(H):Z.once("finish",H)),W.ended=!0,Z.writable=!1),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),A.prototype.destroy=s.destroy,A.prototype._undestroy=s.undestroy,A.prototype._destroy=function(N,j){j(N)}},68221:function(ae,B,r){"use strict";var D,E=r(90386);function f(T,_,g){return _ in T?Object.defineProperty(T,_,{value:g,enumerable:!0,configurable:!0,writable:!0}):T[_]=g,T}var S=r(12726),M=Symbol("lastResolve"),v=Symbol("lastReject"),c=Symbol("error"),i=Symbol("ended"),s=Symbol("lastPromise"),a=Symbol("handlePromise"),o=Symbol("stream");function l(T,_){return{value:T,done:_}}function u(T){var _=T[M];if(null!==_){var g=T[o].read();null!==g&&(T[s]=null,T[M]=null,T[v]=null,_(l(g,!1)))}}function d(T){E.nextTick(u,T)}var m=Object.getPrototypeOf(function(){}),h=Object.setPrototypeOf((f(D={get stream(){return this[o]},next:function(){var T=this,_=this[c];if(null!==_)return Promise.reject(_);if(this[i])return Promise.resolve(l(void 0,!0));if(this[o].destroyed)return new Promise(function(b,A){E.nextTick(function(){T[c]?A(T[c]):b(l(void 0,!0))})});var g,b,A,w=this[s];if(w)g=new Promise((b=w,A=this,function(p,O){b.then(function(){A[i]?p(l(void 0,!0)):A[a](p,O)},O)}));else{var x=this[o].read();if(null!==x)return Promise.resolve(l(x,!1));g=new Promise(this[a])}return this[s]=g,g}},Symbol.asyncIterator,function(){return this}),f(D,"return",function(){var T=this;return new Promise(function(_,g){T[o].destroy(null,function(w){w?g(w):_(l(void 0,!0))})})}),D),m);ae.exports=function(T){var _,g=Object.create(h,(f(_={},o,{value:T,writable:!0}),f(_,M,{value:null,writable:!0}),f(_,v,{value:null,writable:!0}),f(_,c,{value:null,writable:!0}),f(_,i,{value:T._readableState.endEmitted,writable:!0}),f(_,a,{value:function(w,x){var b=g[o].read();b?(g[s]=null,g[M]=null,g[v]=null,w(l(b,!1))):(g[M]=w,g[v]=x)},writable:!0}),_));return g[s]=null,S(T,function(w){if(w&&"ERR_STREAM_PREMATURE_CLOSE"!==w.code){var x=g[v];return null!==x&&(g[s]=null,g[M]=null,g[v]=null,x(w)),void(g[c]=w)}var b=g[M];null!==b&&(g[s]=null,g[M]=null,g[v]=null,b(l(void 0,!0))),g[i]=!0}),T.on("readable",d.bind(null,g)),g}},31125:function(ae,B,r){"use strict";function D(c,i){var s=Object.keys(c);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(c);i&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(c,o).enumerable})),s.push.apply(s,a)}return s}function E(c,i,s){return i in c?Object.defineProperty(c,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[i]=s,c}var S=r(12856).Buffer,M=r(69862).inspect,v=M&&M.custom||"inspect";ae.exports=function(){function c(){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}var s;return s=[{key:"push",value:function(a){var o={data:a,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length}},{key:"unshift",value:function(a){var o={data:a,next:this.head};0===this.length&&(this.tail=o),this.head=o,++this.length}},{key:"shift",value:function(){if(0!==this.length){var a=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,a}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(a){if(0===this.length)return"";for(var o=this.head,l=""+o.data;o=o.next;)l+=a+o.data;return l}},{key:"concat",value:function(a){if(0===this.length)return S.alloc(0);for(var d=S.allocUnsafe(a>>>0),m=this.head,h=0;m;)S.prototype.copy.call(m.data,d,h),h+=m.data.length,m=m.next;return d}},{key:"consume",value:function(a,o){var l;return a<this.head.data.length?(l=this.head.data.slice(0,a),this.head.data=this.head.data.slice(a)):l=a===this.head.data.length?this.shift():o?this._getString(a):this._getBuffer(a),l}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(a){var o=this.head,l=1,u=o.data;for(a-=u.length;o=o.next;){var d=o.data,m=a>d.length?d.length:a;if(u+=m===d.length?d:d.slice(0,a),0==(a-=m)){m===d.length?(++l,this.head=o.next?o.next:this.tail=null):(this.head=o,o.data=d.slice(m));break}++l}return this.length-=l,u}},{key:"_getBuffer",value:function(a){var o=S.allocUnsafe(a),l=this.head,u=1;for(l.data.copy(o),a-=l.data.length;l=l.next;){var d=l.data,m=a>d.length?d.length:a;if(d.copy(o,o.length-a,0,m),0==(a-=m)){m===d.length?(++u,this.head=l.next?l.next:this.tail=null):(this.head=l,l.data=d.slice(m));break}++u}return this.length-=u,o}},{key:v,value:function(a,o){return M(this,function(l){for(var u=1;u<arguments.length;u++){var d=null!=arguments[u]?arguments[u]:{};u%2?D(Object(d),!0).forEach(function(m){E(l,m,d[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(d)):D(Object(d)).forEach(function(m){Object.defineProperty(l,m,Object.getOwnPropertyDescriptor(d,m))})}return l}({},o,{depth:0,customInspect:!1}))}}],s&&function f(c,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(c,a.key,a)}}(c.prototype,s),c}()},65756:function(ae,B,r){"use strict";var D=r(90386);function E(M,v){S(M,v),f(M)}function f(M){M._writableState&&!M._writableState.emitClose||M._readableState&&!M._readableState.emitClose||M.emit("close")}function S(M,v){M.emit("error",v)}ae.exports={destroy:function(M,v){var c=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(v?v(M):M&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,D.nextTick(S,this,M)):D.nextTick(S,this,M)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(M||null,function(a){!v&&a?c._writableState?c._writableState.errorEmitted?D.nextTick(f,c):(c._writableState.errorEmitted=!0,D.nextTick(E,c,a)):D.nextTick(E,c,a):v?(D.nextTick(f,c),v(a)):D.nextTick(f,c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(M,v){var c=M._readableState,i=M._writableState;c&&c.autoDestroy||i&&i.autoDestroy?M.destroy(v):M.emit("error",v)}}},12726:function(ae,B,r){"use strict";var D=r(74322).q.ERR_STREAM_PREMATURE_CLOSE;function E(){}ae.exports=function f(S,M,v){if("function"==typeof M)return f(S,null,M);var T,_;M||(M={}),T=v||E,_=!1,v=function(){if(!_){_=!0;for(var g=arguments.length,w=new Array(g),x=0;x<g;x++)w[x]=arguments[x];T.apply(this,w)}};var c=M.readable||!1!==M.readable&&S.readable,i=M.writable||!1!==M.writable&&S.writable,s=function(){S.writable||o()},a=S._writableState&&S._writableState.finished,o=function(){i=!1,a=!0,c||v.call(S)},l=S._readableState&&S._readableState.endEmitted,u=function(){c=!1,l=!0,i||v.call(S)},d=function(T){v.call(S,T)},m=function(){var T;return c&&!l?(S._readableState&&S._readableState.ended||(T=new D),v.call(S,T)):i&&!a?(S._writableState&&S._writableState.ended||(T=new D),v.call(S,T)):void 0},h=function(){S.req.on("finish",o)};return function(T){return T.setHeader&&"function"==typeof T.abort}(S)?(S.on("complete",o),S.on("abort",m),S.req?h():S.on("request",h)):i&&!S._writableState&&(S.on("end",s),S.on("close",s)),S.on("end",u),S.on("finish",o),!1!==M.error&&S.on("error",d),S.on("close",m),function(){S.removeListener("complete",o),S.removeListener("abort",m),S.removeListener("request",h),S.req&&S.req.removeListener("finish",o),S.removeListener("end",s),S.removeListener("close",s),S.removeListener("finish",o),S.removeListener("end",u),S.removeListener("error",d),S.removeListener("close",m)}}},31748:function(ae){ae.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(ae,B,r){"use strict";var D,E=r(74322).q,f=E.ERR_MISSING_ARGS,S=E.ERR_STREAM_DESTROYED;function M(i){if(i)throw i}function v(i){i()}function c(i,s){return i.pipe(s)}ae.exports=function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];var o,d,l=(d=s).length?"function"!=typeof d[d.length-1]?M:d.pop():M;if(Array.isArray(s[0])&&(s=s[0]),s.length<2)throw new f("streams");var u=s.map(function(d,m){var h=m<s.length-1;return function(T,_,g,w){var A,p;A=w,p=!1,w=function(){p||(p=!0,A.apply(void 0,arguments))};var x=!1;T.on("close",function(){x=!0}),void 0===D&&(D=r(12726)),D(T,{readable:_,writable:g},function(A){if(A)return w(A);x=!0,w()});var b=!1;return function(A){if(!x&&!b)return b=!0,function(p){return p.setHeader&&"function"==typeof p.abort}(T)?T.abort():"function"==typeof T.destroy?T.destroy():void w(A||new S("pipe"))}}(d,h,m>0,function(T){o||(o=T),T&&u.forEach(v),h||(u.forEach(v),l(o))})});return s.reduce(c)}},56306:function(ae,B,r){"use strict";var D=r(74322).q.ERR_INVALID_OPT_VALUE;ae.exports={getHighWaterMark:function(E,f,S,M){var c,v=null!=(c=f).highWaterMark?c.highWaterMark:M?c[S]:null;if(null!=v){if(!isFinite(v)||Math.floor(v)!==v||v<0)throw new D(M?S:"highWaterMark",v);return Math.floor(v)}return E.objectMode?16:16384}}},71405:function(ae,B,r){ae.exports=r(15398).EventEmitter},68019:function(ae,B,r){"use strict";var D=r(71665).Buffer,E=D.isEncoding||function(l){switch((l=""+l)&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(l){var u;switch(this.encoding=function(d){var m=function(h){if(!h)return"utf8";for(var T;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(T)return;h=(""+h).toLowerCase(),T=!0}}(d);if("string"!=typeof m&&(D.isEncoding===E||!E(d)))throw new Error("Unknown encoding: "+d);return m||d}(l),this.encoding){case"utf16le":this.text=v,this.end=c,u=4;break;case"utf8":this.fillLast=M,u=4;break;case"base64":this.text=i,this.end=s,u=3;break;default:return this.write=a,void(this.end=o)}this.lastNeed=0,this.lastTotal=0,this.lastChar=D.allocUnsafe(u)}function S(l){return l<=127?0:l>>5==6?2:l>>4==14?3:l>>3==30?4:l>>6==2?-1:-2}function M(l){var u=this.lastTotal-this.lastNeed,d=function(m,h,T){if(128!=(192&h[0]))return m.lastNeed=0,"\ufffd";if(m.lastNeed>1&&h.length>1){if(128!=(192&h[1]))return m.lastNeed=1,"\ufffd";if(m.lastNeed>2&&h.length>2&&128!=(192&h[2]))return m.lastNeed=2,"\ufffd"}}(this,l);return void 0!==d?d:this.lastNeed<=l.length?(l.copy(this.lastChar,u,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(l.copy(this.lastChar,u,0,l.length),void(this.lastNeed-=l.length))}function v(l,u){if((l.length-u)%2==0){var d=l.toString("utf16le",u);if(d){var m=d.charCodeAt(d.length-1);if(m>=55296&&m<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",u,l.length-1)}function c(l){var u=l&&l.length?this.write(l):"";return this.lastNeed?u+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):u}function i(l,u){var d=(l.length-u)%3;return 0===d?l.toString("base64",u):(this.lastNeed=3-d,this.lastTotal=3,1===d?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",u,l.length-d))}function s(l){var u=l&&l.length?this.write(l):"";return this.lastNeed?u+this.lastChar.toString("base64",0,3-this.lastNeed):u}function a(l){return l.toString(this.encoding)}function o(l){return l&&l.length?this.write(l):""}B.s=f,f.prototype.write=function(l){if(0===l.length)return"";var u,d;if(this.lastNeed){if(void 0===(u=this.fillLast(l)))return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<l.length?u?u+this.text(l,d):this.text(l,d):u||""},f.prototype.end=function(l){var u=l&&l.length?this.write(l):"";return this.lastNeed?u+"\ufffd":u},f.prototype.text=function(l,u){var d=function(h,T,_){var g=T.length-1;if(g<_)return 0;var w=S(T[g]);return w>=0?(w>0&&(h.lastNeed=w-1),w):--g<_||-2===w?0:(w=S(T[g]))>=0?(w>0&&(h.lastNeed=w-2),w):--g<_||-2===w?0:(w=S(T[g]))>=0?(w>0&&(2===w?w=0:h.lastNeed=w-3),w):0}(this,l,u);if(!this.lastNeed)return l.toString("utf8",u);this.lastTotal=d;var m=l.length-(d-this.lastNeed);return l.copy(this.lastChar,0,m),l.toString("utf8",u,m)},f.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length}},90715:function(ae,B,r){var D=r(32791),E=r(41633)("stream-parser");ae.exports=function(h){var T=h&&"function"==typeof h._transform;if(!(T||h&&"function"==typeof h._write))throw new Error("must pass a Writable or Transform stream in");E("extending Parser into stream"),h._bytes=i,h._skipBytes=s,T&&(h._passthrough=a),T?h._transform=l:h._write=o};var f=-1,S=0,M=1,v=2;function c(h){E("initializing parser stream"),h._parserBytesLeft=0,h._parserBuffers=[],h._parserBuffered=0,h._parserState=f,h._parserCallback=null,"function"==typeof h.push&&(h._parserOutput=h.push.bind(h)),h._parserInit=!0}function i(h,T){D(!this._parserCallback,'there is already a "callback" set!'),D(isFinite(h)&&h>0,'can only buffer a finite number of bytes > 0, got "'+h+'"'),this._parserInit||c(this),E("buffering %o bytes",h),this._parserBytesLeft=h,this._parserCallback=T,this._parserState=S}function s(h,T){D(!this._parserCallback,'there is already a "callback" set!'),D(h>0,'can only skip > 0 bytes, got "'+h+'"'),this._parserInit||c(this),E("skipping %o bytes",h),this._parserBytesLeft=h,this._parserCallback=T,this._parserState=M}function a(h,T){D(!this._parserCallback,'There is already a "callback" set!'),D(h>0,'can only pass through > 0 bytes, got "'+h+'"'),this._parserInit||c(this),E("passing through %o bytes",h),this._parserBytesLeft=h,this._parserCallback=T,this._parserState=v}function o(h,T,_){this._parserInit||c(this),E("write(%o bytes)",h.length),"function"==typeof T&&(_=T),d(this,h,null,_)}function l(h,T,_){this._parserInit||c(this),E("transform(%o bytes)",h.length),"function"!=typeof T&&(T=this._parserOutput),d(this,h,T,_)}function u(h,T,_,g){if(h._parserBytesLeft-=T.length,E("%o bytes left for stream piece",h._parserBytesLeft),h._parserState===S?(h._parserBuffers.push(T),h._parserBuffered+=T.length):h._parserState===v&&_(T),0!==h._parserBytesLeft)return g;var w=h._parserCallback;if(w&&h._parserState===S&&h._parserBuffers.length>1&&(T=Buffer.concat(h._parserBuffers,h._parserBuffered)),h._parserState!==S&&(T=null),h._parserCallback=null,h._parserBuffered=0,h._parserState=f,h._parserBuffers.splice(0),w){var x=[];T&&x.push(T),_&&x.push(_);var b=w.length>x.length;b&&x.push(m(g));var A=w.apply(h,x);if(!b||g===A)return g}}var d=m(function h(T,_,g,w){return T._parserBytesLeft<=0?w(new Error("got data but not currently parsing anything")):_.length<=T._parserBytesLeft?function(){return u(T,_,g,w)}:function(){var x=_.slice(0,T._parserBytesLeft);return u(T,x,g,function(b){return b?w(b):_.length>x.length?function(){return h(T,_.slice(x.length),g,w)}:void 0})}});function m(h){return function(){for(var T=h.apply(this,arguments);"function"==typeof T;)T=T();return T}}},41633:function(ae,B,r){var D=r(90386);function E(){var f;try{f=B.storage.debug}catch{}return!f&&void 0!==D&&"env"in D&&(f=D.env.DEBUG),f}(B=ae.exports=r(74469)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},B.formatArgs=function(f){var S=this.useColors;if(f[0]=(S?"%c":"")+this.namespace+(S?" %c":" ")+f[0]+(S?"%c ":" ")+"+"+B.humanize(this.diff),S){var M="color: "+this.color;f.splice(1,0,M,"color: inherit");var v=0,c=0;f[0].replace(/%[a-zA-Z%]/g,function(i){"%%"!==i&&(v++,"%c"===i&&(c=v))}),f.splice(c,0,M)}},B.save=function(f){try{null==f?B.storage.removeItem("debug"):B.storage.debug=f}catch{}},B.load=E,B.useColors=function(){return!(typeof window>"u"||!window.process||"renderer"!==window.process.type)||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},B.storage=typeof chrome<"u"&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),B.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],B.formatters.j=function(f){try{return JSON.stringify(f)}catch(S){return"[UnexpectedJSONParseError]: "+S.message}},B.enable(E())},74469:function(ae,B,r){var D;function E(f){function S(){if(S.enabled){var M=S,v=+new Date;M.diff=v-(D||v),M.prev=D,M.curr=v,D=v;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=B.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(o,l){if("%%"===o)return o;a++;var u=B.formatters[l];return"function"==typeof u&&(o=u.call(M,i[a]),i.splice(a,1),a--),o}),B.formatArgs.call(M,i),(S.log||B.log||console.log.bind(console)).apply(M,i)}}return S.namespace=f,S.enabled=B.enabled(f),S.useColors=B.useColors(),S.color=function(M){var v,c=0;for(v in M)c=(c<<5)-c+M.charCodeAt(v),c|=0;return B.colors[Math.abs(c)%B.colors.length]}(f),"function"==typeof B.init&&B.init(S),S}(B=ae.exports=E.debug=E.default=E).coerce=function(f){return f instanceof Error?f.stack||f.message:f},B.disable=function(){B.enable("")},B.enable=function(f){B.save(f),B.names=[],B.skips=[];for(var S=("string"==typeof f?f:"").split(/[\s,]+/),M=S.length,v=0;v<M;v++)S[v]&&("-"===(f=S[v].replace(/\*/g,".*?"))[0]?B.skips.push(new RegExp("^"+f.substr(1)+"$")):B.names.push(new RegExp("^"+f+"$")))},B.enabled=function(f){var S,M;for(S=0,M=B.skips.length;S<M;S++)if(B.skips[S].test(f))return!1;for(S=0,M=B.names.length;S<M;S++)if(B.names[S].test(f))return!0;return!1},B.humanize=r(11375),B.names=[],B.skips=[],B.formatters={}},11375:function(ae){var B=1e3,r=60*B,D=60*r,E=24*D;function f(S,M,v){if(!(S<M))return S<1.5*M?Math.floor(S/M)+" "+v:Math.ceil(S/M)+" "+v+"s"}ae.exports=function(S,M){M=M||{};var v,i,c=typeof S;if("string"===c&&S.length>0)return function(i){if(!((i=String(i)).length>100)){var s=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(i);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*E;case"hours":case"hour":case"hrs":case"hr":case"h":return a*D;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*B;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(S);if("number"===c&&!1===isNaN(S))return M.long?f(v=S,E,"day")||f(v,D,"hour")||f(v,r,"minute")||f(v,B,"second")||v+" ms":(i=S)>=E?Math.round(i/E)+"d":i>=D?Math.round(i/D)+"h":i>=r?Math.round(i/r)+"m":i>=B?Math.round(i/B)+"s":i+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(S))}},99011:function(ae,B,r){"use strict";var D=r(88641);ae.exports=function(E,f,S){if(null==E)throw Error("First argument should be a string");if(null==f)throw Error("Separator should be a string or a RegExp");S?("string"==typeof S||Array.isArray(S))&&(S={ignore:S}):S={},null==S.escape&&(S.escape=!0),null==S.ignore?S.ignore=["[]","()","{}","<>",'""',"''","``","\u201c\u201d","\xab\xbb"]:("string"==typeof S.ignore&&(S.ignore=[S.ignore]),S.ignore=S.ignore.map(function(o){return 1===o.length&&(o+=o),o}));var M=D.parse(E,{flat:!0,brackets:S.ignore}),v=M[0].split(f);if(S.escape){for(var c=[],i=0;i<v.length;i++){var s=v[i];"\\"===s[s.length-1]&&"\\"!==s[s.length-2]?(c.push(s+f+v[i+1]),i++):c.push(s)}v=c}for(i=0;i<v.length;i++)M[0]=v[i],v[i]=D.stringify(M,{flat:!0});return v}},68664:function(ae){"use strict";ae.exports=function(B){for(var r=B.length,D=new Array(r),E=new Array(r),f=new Array(r),S=new Array(r),M=new Array(r),v=new Array(r),c=0;c<r;++c)D[c]=-1,E[c]=0,f[c]=!1,S[c]=0,M[c]=-1,v[c]=[];var i,s=0,a=[],o=[];function l(m){var h=[m],T=[m];for(D[m]=E[m]=s,f[m]=!0,s+=1;T.length>0;){var _=B[m=T[T.length-1]];if(S[m]<_.length){for(var g=S[m];g<_.length;++g){var w=_[g];if(D[w]<0){D[w]=E[w]=s,f[w]=!0,s+=1,h.push(w),T.push(w);break}f[w]&&(E[m]=0|Math.min(E[m],E[w])),M[w]>=0&&v[m].push(M[w])}S[m]=g}else{if(E[m]===D[m]){var x=[],b=[],A=0;for(g=h.length-1;g>=0;--g){var p=h[g];if(f[p]=!1,x.push(p),b.push(v[p]),A+=v[p].length,M[p]=a.length,p===m){h.length=g;break}}a.push(x);var O=new Array(A);for(g=0;g<b.length;g++)for(var k=0;k<b[g].length;k++)O[--A]=b[g][k];o.push(O)}T.pop()}}}for(c=0;c<r;++c)D[c]<0&&l(c);for(c=0;c<o.length;c++){var u=o[c];if(0!==u.length){u.sort(function(m,h){return m-h}),i=[u[0]];for(var d=1;d<u.length;d++)u[d]!==u[d-1]&&i.push(u[d]);o[c]=i}}return{components:a,adjacencyList:o}}},7095:function(ae,B,r){"use strict";r.r(B);var D=2*Math.PI,E=function(M,v,c,i,s,a,o){var l=M.x,u=M.y;return{x:i*(l*=v)-s*(u*=c)+a,y:s*l+i*u+o}},f=function(M,v){var c=1.5707963267948966===v?.551915024494:-1.5707963267948966===v?-.551915024494:1.3333333333333333*Math.tan(v/4),i=Math.cos(M),s=Math.sin(M),a=Math.cos(M+v),o=Math.sin(M+v);return[{x:i-s*c,y:s+i*c},{x:a+o*c,y:o-a*c},{x:a,y:o}]},S=function(M,v,c,i){var s=M*c+v*i;return s>1&&(s=1),s<-1&&(s=-1),(M*i-v*c<0?-1:1)*Math.acos(s)};B.default=function(M){var v=M.px,c=M.py,i=M.cx,s=M.cy,a=M.rx,o=M.ry,l=M.xAxisRotation,u=void 0===l?0:l,d=M.largeArcFlag,m=void 0===d?0:d,h=M.sweepFlag,T=void 0===h?0:h,_=[];if(0===a||0===o)return[];var g=Math.sin(u*D/360),w=Math.cos(u*D/360),x=w*(v-i)/2+g*(c-s)/2,b=-g*(v-i)/2+w*(c-s)/2;if(0===x&&0===b)return[];a=Math.abs(a),o=Math.abs(o);var A=Math.pow(x,2)/Math.pow(a,2)+Math.pow(b,2)/Math.pow(o,2);A>1&&(a*=Math.sqrt(A),o*=Math.sqrt(A));var O=function(F,Z){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return function(W,H){var G=[],Y=!0,se=!1,te=void 0;try{for(var re,Q=W[Symbol.iterator]();!(Y=(re=Q.next()).done)&&(G.push(re.value),4!==G.length);Y=!0);}catch(ee){se=!0,te=ee}finally{try{!Y&&Q.return&&Q.return()}finally{if(se)throw te}}return G}(F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(function(F,Z,W,H,G,Y,se,te,re,Q,ee,oe){var le=Math.pow(G,2),ue=Math.pow(Y,2),de=Math.pow(ee,2),he=Math.pow(oe,2),we=le*ue-le*he-ue*de;we<0&&(we=0),we/=le*he+ue*de;var Ae=(we=Math.sqrt(we)*(se===te?-1:1))*G/Y*oe,Te=we*-Y/G*ee,ve=Q*Ae-re*Te+(F+W)/2,xe=re*Ae+Q*Te+(Z+H)/2,Fe=(ee-Ae)/G,Se=(oe-Te)/Y,ke=(-ee-Ae)/G,pe=(-oe-Te)/Y,fe=S(1,0,Fe,Se),be=S(Fe,Se,ke,pe);return 0===te&&be>0&&(be-=D),1===te&&be<0&&(be+=D),[ve,xe,fe,be]}(v,c,i,s,a,o,m,T,g,w,x,b)),k=O[0],I=O[1],P=O[2],R=O[3],N=Math.abs(R)/(D/4);Math.abs(1-N)<1e-7&&(N=1);var j=Math.max(Math.ceil(N),1);R/=j;for(var X=0;X<j;X++)_.push(f(P,R)),P+=R;return _.map(function(F){var Z=E(F[0],a,o,w,g,k,I),W=Z.x,H=Z.y,G=E(F[1],a,o,w,g,k,I),Y=G.x,se=G.y,te=E(F[2],a,o,w,g,k,I);return{x1:W,y1:H,x2:Y,y2:se,x:te.x,y:te.y}})}},1750:function(ae,B,r){"use strict";var D=r(95616),E=r(65185),f=r(29988),S=r(89546),M=r(32791);ae.exports=function(v){if(Array.isArray(v)&&1===v.length&&"string"==typeof v[0]&&(v=v[0]),"string"==typeof v&&(M(S(v),"String is not an SVG path."),v=D(v)),M(Array.isArray(v),"Argument should be a string or an array of path segments."),v=E(v),!(v=f(v)).length)return[0,0,0,0];for(var c=[1/0,1/0,-1/0,-1/0],i=0,s=v.length;i<s;i++)for(var a=v[i].slice(1),o=0;o<a.length;o+=2)a[o+0]<c[0]&&(c[0]=a[o+0]),a[o+1]<c[1]&&(c[1]=a[o+1]),a[o+0]>c[2]&&(c[2]=a[o+0]),a[o+1]>c[3]&&(c[3]=a[o+1]);return c}},29988:function(ae,B,r){"use strict";ae.exports=function(S){for(var M,v=[],c=0,i=0,s=0,a=0,o=null,l=null,u=0,d=0,m=0,h=S.length;m<h;m++){var T=S[m],_=T[0];switch(_){case"M":s=T[1],a=T[2];break;case"A":var g=D({px:u,py:d,cx:T[6],cy:T[7],rx:T[1],ry:T[2],xAxisRotation:T[3],largeArcFlag:T[4],sweepFlag:T[5]});if(!g.length)continue;for(var w,x=0;x<g.length;x++)T=["C",(w=g[x]).x1,w.y1,w.x2,w.y2,w.x,w.y],x<g.length-1&&v.push(T);break;case"S":var b=u,A=d;"C"!=M&&"S"!=M||(b+=b-c,A+=A-i),T=["C",b,A,T[1],T[2],T[3],T[4]];break;case"T":"Q"==M||"T"==M?(o=2*u-o,l=2*d-l):(o=u,l=d),T=f(u,d,o,l,T[1],T[2]);break;case"Q":o=T[1],l=T[2],T=f(u,d,T[1],T[2],T[3],T[4]);break;case"L":T=E(u,d,T[1],T[2]);break;case"H":T=E(u,d,T[1],d);break;case"V":T=E(u,d,u,T[1]);break;case"Z":T=E(u,d,s,a)}M=_,u=T[T.length-2],d=T[T.length-1],T.length>4?(c=T[T.length-4],i=T[T.length-3]):(c=u,i=d),v.push(T)}return v};var D=r(7095);function E(S,M,v,c){return["C",S,M,v,c,v,c]}function f(S,M,v,c,i,s){return["C",S/3+.6666666666666666*v,M/3+.6666666666666666*c,i/3+.6666666666666666*v,s/3+.6666666666666666*c,i,s]}},82019:function(ae,B,r){"use strict";var D,E=r(1750),f=r(95616),S=r(31457),M=r(89546),v=r(44781),c=document.createElement("canvas"),i=c.getContext("2d");ae.exports=function(s,a){if(!M(s))throw Error("Argument should be valid svg path string");var o,l;a||(a={}),a.shape?(o=a.shape[0],l=a.shape[1]):(o=c.width=a.w||a.width||200,l=c.height=a.h||a.height||200);var u=Math.min(o,l),d=a.stroke||0,m=a.viewbox||a.viewBox||E(s),h=[o/(m[2]-m[0]),l/(m[3]-m[1])],T=Math.min(h[0]||0,h[1]||0)/2;if(i.fillStyle="black",i.fillRect(0,0,o,l),i.fillStyle="white",d&&("number"!=typeof d&&(d=1),i.strokeStyle=d>0?"white":"black",i.lineWidth=Math.abs(d)),i.translate(.5*o,.5*l),i.scale(T,T),function(){if(null!=D)return D;var w=document.createElement("canvas").getContext("2d");if(w.canvas.width=w.canvas.height=1,!window.Path2D)return D=!1;var x=new Path2D("M0,0h1v1h-1v-1Z");w.fillStyle="black",w.fill(x);var b=w.getImageData(0,0,1,1);return D=b&&b.data&&255===b.data[3]}()){var _=new Path2D(s);i.fill(_),d&&i.stroke(_)}else{var g=f(s);S(i,g),i.fill(),d&&i.stroke()}return i.setTransform(1,0,0,1,0,0),v(i,{cutoff:null!=a.cutoff?a.cutoff:.5,radius:null!=a.radius?a.radius:.5*u})}},84267:function(ae,B,r){var D;!function(E){var f=/^\s+/,S=/\s+$/,M=0,v=E.round,c=E.min,i=E.max,s=E.random;function a(ee,oe){if(oe=oe||{},(ee=ee||"")instanceof a)return ee;if(!(this instanceof a))return new a(ee,oe);var ue,he,we,Ae,Te,ve,xe,Fe,Se,ke,le=(Ae={r:0,g:0,b:0},Te=1,ve=null,xe=null,Fe=null,Se=!1,ke=!1,"string"==typeof(ue=ee)&&(ue=function(pe){pe=pe.replace(f,"").replace(S,"").toLowerCase();var fe,be=!1;if(P[pe])pe=P[pe],be=!0;else if("transparent"==pe)return{r:0,g:0,b:0,a:0,format:"name"};return(fe=re.rgb.exec(pe))?{r:fe[1],g:fe[2],b:fe[3]}:(fe=re.rgba.exec(pe))?{r:fe[1],g:fe[2],b:fe[3],a:fe[4]}:(fe=re.hsl.exec(pe))?{h:fe[1],s:fe[2],l:fe[3]}:(fe=re.hsla.exec(pe))?{h:fe[1],s:fe[2],l:fe[3],a:fe[4]}:(fe=re.hsv.exec(pe))?{h:fe[1],s:fe[2],v:fe[3]}:(fe=re.hsva.exec(pe))?{h:fe[1],s:fe[2],v:fe[3],a:fe[4]}:(fe=re.hex8.exec(pe))?{r:F(fe[1]),g:F(fe[2]),b:F(fe[3]),a:G(fe[4]),format:be?"name":"hex8"}:(fe=re.hex6.exec(pe))?{r:F(fe[1]),g:F(fe[2]),b:F(fe[3]),format:be?"name":"hex"}:(fe=re.hex4.exec(pe))?{r:F(fe[1]+""+fe[1]),g:F(fe[2]+""+fe[2]),b:F(fe[3]+""+fe[3]),a:G(fe[4]+""+fe[4]),format:be?"name":"hex8"}:!!(fe=re.hex3.exec(pe))&&{r:F(fe[1]+""+fe[1]),g:F(fe[2]+""+fe[2]),b:F(fe[3]+""+fe[3]),format:be?"name":"hex"}}(ue)),"object"==typeof ue&&(Q(ue.r)&&Q(ue.g)&&Q(ue.b)?(he=ue.g,we=ue.b,Ae={r:255*j(ue.r,255),g:255*j(he,255),b:255*j(we,255)},Se=!0,ke="%"===String(ue.r).substr(-1)?"prgb":"rgb"):Q(ue.h)&&Q(ue.s)&&Q(ue.v)?(ve=W(ue.s),xe=W(ue.v),Ae=function(pe,fe,be){pe=6*j(pe,360),fe=j(fe,100),be=j(be,100);var Le=E.floor(pe),Oe=pe-Le,De=be*(1-fe),Ue=be*(1-Oe*fe),Ge=be*(1-(1-Oe)*fe),ye=Le%6;return{r:255*[be,Ue,De,De,Ge,be][ye],g:255*[Ge,be,be,Ue,De,De][ye],b:255*[De,De,Ge,be,be,Ue][ye]}}(ue.h,ve,xe),Se=!0,ke="hsv"):Q(ue.h)&&Q(ue.s)&&Q(ue.l)&&(ve=W(ue.s),Fe=W(ue.l),Ae=function(pe,fe,be){var Le,Oe,De;function Ue(Ie,Ee,Be){return Be<0&&(Be+=1),Be>1&&(Be-=1),Be<1/6?Ie+6*(Ee-Ie)*Be:Be<.5?Ee:Be<2/3?Ie+(Ee-Ie)*(2/3-Be)*6:Ie}if(pe=j(pe,360),fe=j(fe,100),be=j(be,100),0===fe)Le=Oe=De=be;else{var Ge=be<.5?be*(1+fe):be+fe-be*fe,ye=2*be-Ge;Le=Ue(ye,Ge,pe+1/3),Oe=Ue(ye,Ge,pe),De=Ue(ye,Ge,pe-1/3)}return{r:255*Le,g:255*Oe,b:255*De}}(ue.h,ve,Fe),Se=!0,ke="hsl"),ue.hasOwnProperty("a")&&(Te=ue.a)),Te=N(Te),{ok:Se,format:ue.format||ke,r:c(255,i(Ae.r,0)),g:c(255,i(Ae.g,0)),b:c(255,i(Ae.b,0)),a:Te});this._originalInput=ee,this._r=le.r,this._g=le.g,this._b=le.b,this._a=le.a,this._roundA=v(100*this._a)/100,this._format=oe.format||le.format,this._gradientType=oe.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=le.ok,this._tc_id=M++}function o(ee,oe,le){ee=j(ee,255),oe=j(oe,255),le=j(le,255);var ue,de,he=i(ee,oe,le),we=c(ee,oe,le),Ae=(he+we)/2;if(he==we)ue=de=0;else{var Te=he-we;switch(de=Ae>.5?Te/(2-he-we):Te/(he+we),he){case ee:ue=(oe-le)/Te+(oe<le?6:0);break;case oe:ue=(le-ee)/Te+2;break;case le:ue=(ee-oe)/Te+4}ue/=6}return{h:ue,s:de,l:Ae}}function l(ee,oe,le){ee=j(ee,255),oe=j(oe,255),le=j(le,255);var ue,de,he=i(ee,oe,le),we=c(ee,oe,le),Ae=he,Te=he-we;if(de=0===he?0:Te/he,he==we)ue=0;else{switch(he){case ee:ue=(oe-le)/Te+(oe<le?6:0);break;case oe:ue=(le-ee)/Te+2;break;case le:ue=(ee-oe)/Te+4}ue/=6}return{h:ue,s:de,v:Ae}}function u(ee,oe,le,ue){var de=[Z(v(ee).toString(16)),Z(v(oe).toString(16)),Z(v(le).toString(16))];return ue&&de[0].charAt(0)==de[0].charAt(1)&&de[1].charAt(0)==de[1].charAt(1)&&de[2].charAt(0)==de[2].charAt(1)?de[0].charAt(0)+de[1].charAt(0)+de[2].charAt(0):de.join("")}function d(ee,oe,le,ue){return[Z(H(ue)),Z(v(ee).toString(16)),Z(v(oe).toString(16)),Z(v(le).toString(16))].join("")}function m(ee,oe){oe=0===oe?0:oe||10;var le=a(ee).toHsl();return le.s-=oe/100,le.s=X(le.s),a(le)}function h(ee,oe){oe=0===oe?0:oe||10;var le=a(ee).toHsl();return le.s+=oe/100,le.s=X(le.s),a(le)}function T(ee){return a(ee).desaturate(100)}function _(ee,oe){oe=0===oe?0:oe||10;var le=a(ee).toHsl();return le.l+=oe/100,le.l=X(le.l),a(le)}function g(ee,oe){oe=0===oe?0:oe||10;var le=a(ee).toRgb();return le.r=i(0,c(255,le.r-v(-oe/100*255))),le.g=i(0,c(255,le.g-v(-oe/100*255))),le.b=i(0,c(255,le.b-v(-oe/100*255))),a(le)}function w(ee,oe){oe=0===oe?0:oe||10;var le=a(ee).toHsl();return le.l-=oe/100,le.l=X(le.l),a(le)}function x(ee,oe){var le=a(ee).toHsl(),ue=(le.h+oe)%360;return le.h=ue<0?360+ue:ue,a(le)}function b(ee){var oe=a(ee).toHsl();return oe.h=(oe.h+180)%360,a(oe)}function A(ee){var oe=a(ee).toHsl(),le=oe.h;return[a(ee),a({h:(le+120)%360,s:oe.s,l:oe.l}),a({h:(le+240)%360,s:oe.s,l:oe.l})]}function p(ee){var oe=a(ee).toHsl(),le=oe.h;return[a(ee),a({h:(le+90)%360,s:oe.s,l:oe.l}),a({h:(le+180)%360,s:oe.s,l:oe.l}),a({h:(le+270)%360,s:oe.s,l:oe.l})]}function O(ee){var oe=a(ee).toHsl(),le=oe.h;return[a(ee),a({h:(le+72)%360,s:oe.s,l:oe.l}),a({h:(le+216)%360,s:oe.s,l:oe.l})]}function k(ee,oe,le){oe=oe||6,le=le||30;var ue=a(ee).toHsl(),de=360/le,he=[a(ee)];for(ue.h=(ue.h-(de*oe>>1)+720)%360;--oe;)ue.h=(ue.h+de)%360,he.push(a(ue));return he}function I(ee,oe){oe=oe||6;for(var le=a(ee).toHsv(),ue=le.h,de=le.s,he=le.v,we=[],Ae=1/oe;oe--;)we.push(a({h:ue,s:de,v:he})),he=(he+Ae)%1;return we}a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ee=this.toRgb();return(299*ee.r+587*ee.g+114*ee.b)/1e3},getLuminance:function(){var ee,oe,le,ue=this.toRgb();return oe=ue.g/255,le=ue.b/255,.2126*((ee=ue.r/255)<=.03928?ee/12.92:E.pow((ee+.055)/1.055,2.4))+.7152*(oe<=.03928?oe/12.92:E.pow((oe+.055)/1.055,2.4))+.0722*(le<=.03928?le/12.92:E.pow((le+.055)/1.055,2.4))},setAlpha:function(ee){return this._a=N(ee),this._roundA=v(100*this._a)/100,this},toHsv:function(){var ee=l(this._r,this._g,this._b);return{h:360*ee.h,s:ee.s,v:ee.v,a:this._a}},toHsvString:function(){var ee=l(this._r,this._g,this._b),oe=v(360*ee.h),le=v(100*ee.s),ue=v(100*ee.v);return 1==this._a?"hsv("+oe+", "+le+"%, "+ue+"%)":"hsva("+oe+", "+le+"%, "+ue+"%, "+this._roundA+")"},toHsl:function(){var ee=o(this._r,this._g,this._b);return{h:360*ee.h,s:ee.s,l:ee.l,a:this._a}},toHslString:function(){var ee=o(this._r,this._g,this._b),oe=v(360*ee.h),le=v(100*ee.s),ue=v(100*ee.l);return 1==this._a?"hsl("+oe+", "+le+"%, "+ue+"%)":"hsla("+oe+", "+le+"%, "+ue+"%, "+this._roundA+")"},toHex:function(ee){return u(this._r,this._g,this._b,ee)},toHexString:function(ee){return"#"+this.toHex(ee)},toHex8:function(ee){return le=this._g,ue=this._b,de=this._a,he=ee,we=[Z(v(this._r).toString(16)),Z(v(le).toString(16)),Z(v(ue).toString(16)),Z(H(de))],he&&we[0].charAt(0)==we[0].charAt(1)&&we[1].charAt(0)==we[1].charAt(1)&&we[2].charAt(0)==we[2].charAt(1)&&we[3].charAt(0)==we[3].charAt(1)?we[0].charAt(0)+we[1].charAt(0)+we[2].charAt(0)+we[3].charAt(0):we.join("");var le,ue,de,he,we},toHex8String:function(ee){return"#"+this.toHex8(ee)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(100*j(this._r,255))+"%",g:v(100*j(this._g,255))+"%",b:v(100*j(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+v(100*j(this._r,255))+"%, "+v(100*j(this._g,255))+"%, "+v(100*j(this._b,255))+"%)":"rgba("+v(100*j(this._r,255))+"%, "+v(100*j(this._g,255))+"%, "+v(100*j(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(R[u(this._r,this._g,this._b,!0)]||!1)},toFilter:function(ee){var oe="#"+d(this._r,this._g,this._b,this._a),le=oe,ue=this._gradientType?"GradientType = 1, ":"";if(ee){var de=a(ee);le="#"+d(de._r,de._g,de._b,de._a)}return"progid:DXImageTransform.Microsoft.gradient("+ue+"startColorstr="+oe+",endColorstr="+le+")"},toString:function(ee){var oe=!!ee;ee=ee||this._format;var le=!1;return oe||!(this._a<1&&this._a>=0)||"hex"!==ee&&"hex6"!==ee&&"hex3"!==ee&&"hex4"!==ee&&"hex8"!==ee&&"name"!==ee?("rgb"===ee&&(le=this.toRgbString()),"prgb"===ee&&(le=this.toPercentageRgbString()),"hex"!==ee&&"hex6"!==ee||(le=this.toHexString()),"hex3"===ee&&(le=this.toHexString(!0)),"hex4"===ee&&(le=this.toHex8String(!0)),"hex8"===ee&&(le=this.toHex8String()),"name"===ee&&(le=this.toName()),"hsl"===ee&&(le=this.toHslString()),"hsv"===ee&&(le=this.toHsvString()),le||this.toHexString()):"name"===ee&&0===this._a?this.toName():this.toRgbString()},clone:function(){return a(this.toString())},_applyModification:function(ee,oe){var le=ee.apply(null,[this].concat([].slice.call(oe)));return this._r=le._r,this._g=le._g,this._b=le._b,this.setAlpha(le._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(ee,oe){return ee.apply(null,[this].concat([].slice.call(oe)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(I,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(A,arguments)},tetrad:function(){return this._applyCombination(p,arguments)}},a.fromRatio=function(ee,oe){if("object"==typeof ee){var le={};for(var ue in ee)ee.hasOwnProperty(ue)&&(le[ue]="a"===ue?ee[ue]:W(ee[ue]));ee=le}return a(ee,oe)},a.equals=function(ee,oe){return!(!ee||!oe)&&a(ee).toRgbString()==a(oe).toRgbString()},a.random=function(){return a.fromRatio({r:s(),g:s(),b:s()})},a.mix=function(ee,oe,le){le=0===le?0:le||50;var ue=a(ee).toRgb(),de=a(oe).toRgb(),he=le/100;return a({r:(de.r-ue.r)*he+ue.r,g:(de.g-ue.g)*he+ue.g,b:(de.b-ue.b)*he+ue.b,a:(de.a-ue.a)*he+ue.a})},a.readability=function(ee,oe){var le=a(ee),ue=a(oe);return(E.max(le.getLuminance(),ue.getLuminance())+.05)/(E.min(le.getLuminance(),ue.getLuminance())+.05)},a.isReadable=function(ee,oe,le){var ue,de,he,we,Ae,Te=a.readability(ee,oe);switch(de=!1,(he=le,"AA"!==(we=((he=he||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==we&&(we="AA"),"small"!==(Ae=(he.size||"small").toLowerCase())&&"large"!==Ae&&(Ae="small"),ue={level:we,size:Ae}).level+ue.size){case"AAsmall":case"AAAlarge":de=Te>=4.5;break;case"AAlarge":de=Te>=3;break;case"AAAsmall":de=Te>=7}return de},a.mostReadable=function(ee,oe,le){var ue,de,he,we,Ae=null,Te=0;de=(le=le||{}).includeFallbackColors,he=le.level,we=le.size;for(var ve=0;ve<oe.length;ve++)(ue=a.readability(ee,oe[ve]))>Te&&(Te=ue,Ae=a(oe[ve]));return a.isReadable(ee,Ae,{level:he,size:we})||!de?Ae:(le.includeFallbackColors=!1,a.mostReadable(ee,["#fff","#000"],le))};var P=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=a.hexNames=function(ee){var oe={};for(var le in ee)ee.hasOwnProperty(le)&&(oe[ee[le]]=le);return oe}(P);function N(ee){return ee=parseFloat(ee),(isNaN(ee)||ee<0||ee>1)&&(ee=1),ee}function j(ee,oe){var ue;"string"==typeof(ue=ee)&&-1!=ue.indexOf(".")&&1===parseFloat(ue)&&(ee="100%");var le=function(ue){return"string"==typeof ue&&-1!=ue.indexOf("%")}(ee);return ee=c(oe,i(0,parseFloat(ee))),le&&(ee=parseInt(ee*oe,10)/100),E.abs(ee-oe)<1e-6?1:ee%oe/parseFloat(oe)}function X(ee){return c(1,i(0,ee))}function F(ee){return parseInt(ee,16)}function Z(ee){return 1==ee.length?"0"+ee:""+ee}function W(ee){return ee<=1&&(ee=100*ee+"%"),ee}function H(ee){return E.round(255*parseFloat(ee)).toString(16)}function G(ee){return F(ee)/255}var Y,se,te,re=(se="[\\s|\\(]+("+(Y="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")\\s*\\)?",te="[\\s|\\(]+("+Y+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")\\s*\\)?",{CSS_UNIT:new RegExp(Y),rgb:new RegExp("rgb"+se),rgba:new RegExp("rgba"+te),hsl:new RegExp("hsl"+se),hsla:new RegExp("hsla"+te),hsv:new RegExp("hsv"+se),hsva:new RegExp("hsva"+te),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Q(ee){return!!re.CSS_UNIT.exec(ee)}ae.exports?ae.exports=a:void 0===(D=function(){return a}.call(B,r,B,ae))||(ae.exports=D)}(Math)},57060:function(ae){"use strict";ae.exports=r,ae.exports.float32=ae.exports.float=r,ae.exports.fract32=ae.exports.fract=function(D,E){if(D.length){if(D instanceof Float32Array)return new Float32Array(D.length);E instanceof Float32Array||(E=r(D));for(var f=0,S=E.length;f<S;f++)E[f]=D[f]-E[f];return E}return r(D-r(D))};var B=new Float32Array(1);function r(D){return D.length?D instanceof Float32Array?D:new Float32Array(D):(B[0]=D,B[0])}},75686:function(ae,B,r){"use strict";var D=r(25677);ae.exports=S;var E=96;function f(M,v){var c=D(getComputedStyle(M).getPropertyValue(v));return c[0]*S(c[1],M)}function S(M,v){switch(v=v||document.body,M=(M||"px").trim().toLowerCase(),v!==window&&v!==document||(v=document.body),M){case"%":return v.clientHeight/100;case"ch":case"ex":return function(c,i){var s=document.createElement("div");s.style["font-size"]="128"+c,i.appendChild(s);var a=f(s,"font-size")/128;return i.removeChild(s),a}(M,v);case"em":return f(v,"font-size");case"rem":return f(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return E;case"cm":return E/2.54;case"mm":return E/25.4;case"pt":return E/72;case"pc":return E/6}return 1}},96892:function(ae,B,r){"use strict";function D(S){return S}function E(S,M){return"string"==typeof M&&(M=S.objects[M]),"GeometryCollection"===M.type?{type:"FeatureCollection",features:M.geometries.map(function(v){return f(S,v)})}:f(S,M)}function f(S,M){var v=M.id,c=M.bbox,i=null==M.properties?{}:M.properties,s=function(a,o){var l=function(g){if(null==g)return D;var w,x,b=g.scale[0],A=g.scale[1],p=g.translate[0],O=g.translate[1];return function(k,I){I||(w=x=0);var P=2,R=k.length,N=new Array(R);for(N[0]=(w+=k[0])*b+p,N[1]=(x+=k[1])*A+O;P<R;)N[P]=k[P],++P;return N}}(a.transform),u=a.arcs;function d(g,w){w.length&&w.pop();for(var x=u[g<0?~g:g],b=0,A=x.length;b<A;++b)w.push(l(x[b],b));g<0&&function(p,O){for(var k,I=p.length,P=I-O;P<--I;)k=p[P],p[P++]=p[I],p[I]=k}(w,A)}function m(g){return l(g)}function h(g){for(var w=[],x=0,b=g.length;x<b;++x)d(g[x],w);return w.length<2&&w.push(w[0]),w}function T(g){for(var w=h(g);w.length<4;)w.push(w[0]);return w}function _(g){return g.map(T)}return function g(w){var x,b=w.type;switch(b){case"GeometryCollection":return{type:b,geometries:w.geometries.map(g)};case"Point":x=m(w.coordinates);break;case"MultiPoint":x=w.coordinates.map(m);break;case"LineString":x=h(w.arcs);break;case"MultiLineString":x=w.arcs.map(h);break;case"Polygon":x=_(w.arcs);break;case"MultiPolygon":x=w.arcs.map(_);break;default:return null}return{type:b,coordinates:x}}(o)}(S,M);return null==v&&null==c?{type:"Feature",properties:i,geometry:s}:null==c?{type:"Feature",id:v,properties:i,geometry:s}:{type:"Feature",id:v,bbox:c,properties:i,geometry:s}}r.d(B,{zL:function(){return E}})},73116:function(ae,B,r){"use strict";var D=r(24511);ae.exports=function(E){if("function"!=typeof E||!hasOwnProperty.call(E,"length"))return!1;try{if("number"!=typeof E.length||"function"!=typeof E.call||"function"!=typeof E.apply)return!1}catch{return!1}return!D(E)}},69190:function(ae,B,r){"use strict";var D=r(24582),E=r(47403),f=r(9234),S=r(6048),M=function(v,c){return v.replace("%v",S(c))};ae.exports=function(v,c,i){if(!E(i))throw new TypeError(M(c,v));if(!D(v)){if("default"in i)return i.default;if(i.isOptional)return null}var s=f(i.errorMessage);throw D(s)||(s=c),new TypeError(M(s,v))}},18497:function(ae){"use strict";ae.exports=function(B){try{return B.toString()}catch{try{return String(B)}catch{return null}}}},6048:function(ae,B,r){"use strict";var D=r(18497),E=/[\n\r\u2028\u2029]/g;ae.exports=function(f){var S=D(f);return null===S?"<Non-coercible to string value>":(S.length>100&&(S=S.slice(0,99)+"\u2026"),S=S.replace(E,function(M){switch(M){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},47403:function(ae,B,r){"use strict";var D=r(24582),E={object:!0,function:!0,undefined:!0};ae.exports=function(f){return!!D(f)&&hasOwnProperty.call(E,typeof f)}},82527:function(ae,B,r){"use strict";var D=r(69190),E=r(84985);ae.exports=function(f){return E(f)?f:D(f,"%v is not a plain function",arguments[1])}},84985:function(ae,B,r){"use strict";var D=r(73116),E=/^\s*class[\s{/}]/,f=Function.prototype.toString;ae.exports=function(S){return!!D(S)&&!E.test(f.call(S))}},24511:function(ae,B,r){"use strict";var D=r(47403);ae.exports=function(E){if(!D(E))return!1;try{return!!E.constructor&&E.constructor.prototype===E}catch{return!1}}},9234:function(ae,B,r){"use strict";var D=r(24582),E=r(47403),f=Object.prototype.toString;ae.exports=function(S){if(!D(S))return null;if(E(S)){var M=S.toString;if("function"!=typeof M||M===f)return null}try{return""+S}catch{return null}}},10424:function(ae,B,r){"use strict";var D=r(69190),E=r(24582);ae.exports=function(f){return E(f)?f:D(f,"Cannot use %v",arguments[1])}},24582:function(ae){"use strict";ae.exports=function(B){return null!=B}},58404:function(ae,B,r){"use strict";var D=r(13547),E=r(12129),f=r(12856).Buffer;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:E([32,0]),UINT16:E([32,0]),UINT32:E([32,0]),BIGUINT64:E([32,0]),INT8:E([32,0]),INT16:E([32,0]),INT32:E([32,0]),BIGINT64:E([32,0]),FLOAT:E([32,0]),DOUBLE:E([32,0]),DATA:E([32,0]),UINT8C:E([32,0]),BUFFER:E([32,0])});var S=typeof Uint8ClampedArray<"u",M=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",c=r.g.__TYPEDARRAY_POOL;c.UINT8C||(c.UINT8C=E([32,0])),c.BIGUINT64||(c.BIGUINT64=E([32,0])),c.BIGINT64||(c.BIGINT64=E([32,0])),c.BUFFER||(c.BUFFER=E([32,0]));var i=c.DATA,s=c.BUFFER;function a(O){if(O){var I=D.log2(O.length||O.byteLength);i[I].push(O)}}function o(O){O=D.nextPow2(O);var k=D.log2(O),I=i[k];return I.length>0?I.pop():new ArrayBuffer(O)}function l(O){return new Uint8Array(o(O),0,O)}function u(O){return new Uint16Array(o(2*O),0,O)}function d(O){return new Uint32Array(o(4*O),0,O)}function m(O){return new Int8Array(o(O),0,O)}function h(O){return new Int16Array(o(2*O),0,O)}function T(O){return new Int32Array(o(4*O),0,O)}function _(O){return new Float32Array(o(4*O),0,O)}function g(O){return new Float64Array(o(8*O),0,O)}function w(O){return S?new Uint8ClampedArray(o(O),0,O):l(O)}function x(O){return M?new BigUint64Array(o(8*O),0,O):null}function b(O){return v?new BigInt64Array(o(8*O),0,O):null}function A(O){return new DataView(o(O),0,O)}function p(O){O=D.nextPow2(O);var k=D.log2(O),I=s[k];return I.length>0?I.pop():new f(O)}B.free=function(O){if(f.isBuffer(O))s[D.log2(O.length)].push(O);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(O)&&(O=O.buffer),!O)return;var I=0|D.log2(O.length||O.byteLength);i[I].push(O)}},B.freeUint8=B.freeUint16=B.freeUint32=B.freeBigUint64=B.freeInt8=B.freeInt16=B.freeInt32=B.freeBigInt64=B.freeFloat32=B.freeFloat=B.freeFloat64=B.freeDouble=B.freeUint8Clamped=B.freeDataView=function(O){a(O.buffer)},B.freeArrayBuffer=a,B.freeBuffer=function(O){s[D.log2(O.length)].push(O)},B.malloc=function(O,k){if(void 0===k||"arraybuffer"===k)return o(O);switch(k){case"uint8":return l(O);case"uint16":return u(O);case"uint32":return d(O);case"int8":return m(O);case"int16":return h(O);case"int32":return T(O);case"float":case"float32":return _(O);case"double":case"float64":return g(O);case"uint8_clamped":return w(O);case"bigint64":return b(O);case"biguint64":return x(O);case"buffer":return p(O);case"data":case"dataview":return A(O);default:return null}return null},B.mallocArrayBuffer=o,B.mallocUint8=l,B.mallocUint16=u,B.mallocUint32=d,B.mallocInt8=m,B.mallocInt16=h,B.mallocInt32=T,B.mallocFloat32=B.mallocFloat=_,B.mallocFloat64=B.mallocDouble=g,B.mallocUint8Clamped=w,B.mallocBigUint64=x,B.mallocBigInt64=b,B.mallocDataView=A,B.mallocBuffer=p,B.clearCache=function(){for(var O=0;O<32;++O)c.UINT8[O].length=0,c.UINT16[O].length=0,c.UINT32[O].length=0,c.INT8[O].length=0,c.INT16[O].length=0,c.INT32[O].length=0,c.FLOAT[O].length=0,c.DOUBLE[O].length=0,c.BIGUINT64[O].length=0,c.BIGINT64[O].length=0,c.UINT8C[O].length=0,i[O].length=0,s[O].length=0}},90448:function(ae){var B=/[\'\"]/;ae.exports=function(r){return r?(B.test(r.charAt(0))&&(r=r.substr(1)),B.test(r.charAt(r.length-1))&&(r=r.substr(0,r.length-1)),r):""}},93447:function(ae){"use strict";ae.exports=function(B,r,D){Array.isArray(D)||(D=[].slice.call(arguments,2));for(var E=0,f=D.length;E<f;E++){var S=D[E];for(var M in S)if((void 0===r[M]||Array.isArray(r[M])||B[M]!==r[M])&&M in r){var v;if(!0===S[M])v=r[M];else if(!1===S[M]||"function"==typeof S[M]&&void 0===(v=S[M](r[M],B,r)))continue;B[M]=v}}return B}},20588:function(ae,B,r){function D(E){try{if(!r.g.localStorage)return!1}catch{return!1}var f=r.g.localStorage[E];return null!=f&&"true"===String(f).toLowerCase()}ae.exports=function(E,f){if(D("noDeprecation"))return E;var S=!1;return function(){if(!S){if(D("throwDeprecation"))throw new Error(f);D("traceDeprecation")?console.trace(f):console.warn(f),S=!0}return E.apply(this,arguments)}}},45920:function(ae){ae.exports=function(B){return B&&"object"==typeof B&&"function"==typeof B.copy&&"function"==typeof B.fill&&"function"==typeof B.readUInt8}},4936:function(ae,B,r){"use strict";var D=r(47216),E=r(65481),f=r(21099),S=r(9187);function M(j){return j.call.bind(j)}var v=typeof BigInt<"u",c=typeof Symbol<"u",i=M(Object.prototype.toString),s=M(Number.prototype.valueOf),a=M(String.prototype.valueOf),o=M(Boolean.prototype.valueOf);if(v)var l=M(BigInt.prototype.valueOf);if(c)var u=M(Symbol.prototype.valueOf);function d(j,X){if("object"!=typeof j)return!1;try{return X(j),!0}catch{return!1}}function m(j){return"[object Map]"===i(j)}function h(j){return"[object Set]"===i(j)}function T(j){return"[object WeakMap]"===i(j)}function _(j){return"[object WeakSet]"===i(j)}function g(j){return"[object ArrayBuffer]"===i(j)}function w(j){return typeof ArrayBuffer<"u"&&(g.working?g(j):j instanceof ArrayBuffer)}function x(j){return"[object DataView]"===i(j)}function b(j){return typeof DataView<"u"&&(x.working?x(j):j instanceof DataView)}B.isArgumentsObject=D,B.isGeneratorFunction=E,B.isTypedArray=S,B.isPromise=function(j){return typeof Promise<"u"&&j instanceof Promise||null!==j&&"object"==typeof j&&"function"==typeof j.then&&"function"==typeof j.catch},B.isArrayBufferView=function(j){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(j):S(j)||b(j)},B.isUint8Array=function(j){return"Uint8Array"===f(j)},B.isUint8ClampedArray=function(j){return"Uint8ClampedArray"===f(j)},B.isUint16Array=function(j){return"Uint16Array"===f(j)},B.isUint32Array=function(j){return"Uint32Array"===f(j)},B.isInt8Array=function(j){return"Int8Array"===f(j)},B.isInt16Array=function(j){return"Int16Array"===f(j)},B.isInt32Array=function(j){return"Int32Array"===f(j)},B.isFloat32Array=function(j){return"Float32Array"===f(j)},B.isFloat64Array=function(j){return"Float64Array"===f(j)},B.isBigInt64Array=function(j){return"BigInt64Array"===f(j)},B.isBigUint64Array=function(j){return"BigUint64Array"===f(j)},m.working=typeof Map<"u"&&m(new Map),B.isMap=function(j){return typeof Map<"u"&&(m.working?m(j):j instanceof Map)},h.working=typeof Set<"u"&&h(new Set),B.isSet=function(j){return typeof Set<"u"&&(h.working?h(j):j instanceof Set)},T.working=typeof WeakMap<"u"&&T(new WeakMap),B.isWeakMap=function(j){return typeof WeakMap<"u"&&(T.working?T(j):j instanceof WeakMap)},_.working=typeof WeakSet<"u"&&_(new WeakSet),B.isWeakSet=function(j){return _(j)},g.working=typeof ArrayBuffer<"u"&&g(new ArrayBuffer),B.isArrayBuffer=w,x.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&x(new DataView(new ArrayBuffer(1),0,1)),B.isDataView=b;var A=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function p(j){return"[object SharedArrayBuffer]"===i(j)}function O(j){return void 0!==A&&(void 0===p.working&&(p.working=p(new A)),p.working?p(j):j instanceof A)}function k(j){return d(j,s)}function I(j){return d(j,a)}function P(j){return d(j,o)}function R(j){return v&&d(j,l)}function N(j){return c&&d(j,u)}B.isSharedArrayBuffer=O,B.isAsyncFunction=function(j){return"[object AsyncFunction]"===i(j)},B.isMapIterator=function(j){return"[object Map Iterator]"===i(j)},B.isSetIterator=function(j){return"[object Set Iterator]"===i(j)},B.isGeneratorObject=function(j){return"[object Generator]"===i(j)},B.isWebAssemblyCompiledModule=function(j){return"[object WebAssembly.Module]"===i(j)},B.isNumberObject=k,B.isStringObject=I,B.isBooleanObject=P,B.isBigIntObject=R,B.isSymbolObject=N,B.isBoxedPrimitive=function(j){return k(j)||I(j)||P(j)||R(j)||N(j)},B.isAnyArrayBuffer=function(j){return typeof Uint8Array<"u"&&(w(j)||O(j))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(j){Object.defineProperty(B,j,{enumerable:!1,value:function(){throw new Error(j+" is not supported in userland")}})})},43827:function(ae,B,r){var D=r(90386),E=Object.getOwnPropertyDescriptors||function(N){for(var j=Object.keys(N),X={},F=0;F<j.length;F++)X[j[F]]=Object.getOwnPropertyDescriptor(N,j[F]);return X},f=/%[sdj%]/g;B.format=function(N){if(!T(N)){for(var j=[],X=0;X<arguments.length;X++)j.push(c(arguments[X]));return j.join(" ")}X=1;for(var F=arguments,Z=F.length,W=String(N).replace(f,function(G){if("%%"===G)return"%";if(X>=Z)return G;switch(G){case"%s":return String(F[X++]);case"%d":return Number(F[X++]);case"%j":try{return JSON.stringify(F[X++])}catch{return"[Circular]"}default:return G}}),H=F[X];X<Z;H=F[++X])m(H)||!w(H)?W+=" "+H:W+=" "+c(H);return W},B.deprecate=function(N,j){if(void 0!==D&&!0===D.noDeprecation)return N;if(void 0===D)return function(){return B.deprecate(N,j).apply(this,arguments)};var X=!1;return function(){if(!X){if(D.throwDeprecation)throw new Error(j);D.traceDeprecation?console.trace(j):console.error(j),X=!0}return N.apply(this,arguments)}};var S={},M=/^$/;if(D.env.NODE_DEBUG){var v=D.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),M=new RegExp("^"+v+"$","i")}function c(N,j){var X={seen:[],stylize:s};return arguments.length>=3&&(X.depth=arguments[2]),arguments.length>=4&&(X.colors=arguments[3]),d(j)?X.showHidden=j:j&&B._extend(X,j),_(X.showHidden)&&(X.showHidden=!1),_(X.depth)&&(X.depth=2),_(X.colors)&&(X.colors=!1),_(X.customInspect)&&(X.customInspect=!0),X.colors&&(X.stylize=i),a(X,N,X.depth)}function i(N,j){var X=c.styles[j];return X?"\x1b["+c.colors[X][0]+"m"+N+"\x1b["+c.colors[X][1]+"m":N}function s(N,j){return N}function a(N,j,X){if(N.customInspect&&j&&A(j.inspect)&&j.inspect!==B.inspect&&(!j.constructor||j.constructor.prototype!==j)){var F=j.inspect(X,N);return T(F)||(F=a(N,F,X)),F}var Z=function(Q,ee){if(_(ee))return Q.stylize("undefined","undefined");if(T(ee)){var oe="'"+JSON.stringify(ee).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Q.stylize(oe,"string")}return h(ee)?Q.stylize(""+ee,"number"):d(ee)?Q.stylize(""+ee,"boolean"):m(ee)?Q.stylize("null","null"):void 0}(N,j);if(Z)return Z;var ee,W=Object.keys(j),H=(ee={},W.forEach(function(oe,le){ee[oe]=!0}),ee);if(N.showHidden&&(W=Object.getOwnPropertyNames(j)),b(j)&&(W.indexOf("message")>=0||W.indexOf("description")>=0))return o(j);if(0===W.length){if(A(j))return N.stylize("[Function"+(j.name?": "+j.name:"")+"]","special");if(g(j))return N.stylize(RegExp.prototype.toString.call(j),"regexp");if(x(j))return N.stylize(Date.prototype.toString.call(j),"date");if(b(j))return o(j)}var Y,se="",te=!1,re=["{","}"];return u(j)&&(te=!0,re=["[","]"]),A(j)&&(se=" [Function"+(j.name?": "+j.name:"")+"]"),g(j)&&(se=" "+RegExp.prototype.toString.call(j)),x(j)&&(se=" "+Date.prototype.toUTCString.call(j)),b(j)&&(se=" "+o(j)),0!==W.length||te&&0!=j.length?X<0?g(j)?N.stylize(RegExp.prototype.toString.call(j),"regexp"):N.stylize("[Object]","special"):(N.seen.push(j),Y=te?function(Q,ee,oe,le,ue){for(var de=[],he=0,we=ee.length;he<we;++he)I(ee,String(he))?de.push(l(Q,ee,oe,le,String(he),!0)):de.push("");return ue.forEach(function(Ae){Ae.match(/^\d+$/)||de.push(l(Q,ee,oe,le,Ae,!0))}),de}(N,j,X,H,W):W.map(function(Q){return l(N,j,X,H,Q,te)}),N.seen.pop(),function(Q,ee,oe){return Q.reduce(function(le,ue){return ue.indexOf("\n"),le+ue.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?oe[0]+(""===ee?"":ee+"\n ")+" "+Q.join(",\n  ")+" "+oe[1]:oe[0]+ee+" "+Q.join(", ")+" "+oe[1]}(Y,se,re)):re[0]+se+re[1]}function o(N){return"["+Error.prototype.toString.call(N)+"]"}function l(N,j,X,F,Z,W){var H,G,Y;if((Y=Object.getOwnPropertyDescriptor(j,Z)||{value:j[Z]}).get?G=N.stylize(Y.set?"[Getter/Setter]":"[Getter]","special"):Y.set&&(G=N.stylize("[Setter]","special")),I(F,Z)||(H="["+Z+"]"),G||(N.seen.indexOf(Y.value)<0?(G=m(X)?a(N,Y.value,null):a(N,Y.value,X-1)).indexOf("\n")>-1&&(G=W?G.split("\n").map(function(se){return"  "+se}).join("\n").slice(2):"\n"+G.split("\n").map(function(se){return"   "+se}).join("\n")):G=N.stylize("[Circular]","special")),_(H)){if(W&&Z.match(/^\d+$/))return G;(H=JSON.stringify(""+Z)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.slice(1,-1),H=N.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=N.stylize(H,"string"))}return H+": "+G}function u(N){return Array.isArray(N)}function d(N){return"boolean"==typeof N}function m(N){return null===N}function h(N){return"number"==typeof N}function T(N){return"string"==typeof N}function _(N){return void 0===N}function g(N){return w(N)&&"[object RegExp]"===p(N)}function w(N){return"object"==typeof N&&null!==N}function x(N){return w(N)&&"[object Date]"===p(N)}function b(N){return w(N)&&("[object Error]"===p(N)||N instanceof Error)}function A(N){return"function"==typeof N}function p(N){return Object.prototype.toString.call(N)}function O(N){return N<10?"0"+N.toString(10):N.toString(10)}B.debuglog=function(N){if(N=N.toUpperCase(),!S[N])if(M.test(N)){var j=D.pid;S[N]=function(){var X=B.format.apply(B,arguments);console.error("%s %d: %s",N,j,X)}}else S[N]=function(){};return S[N]},B.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},B.types=r(4936),B.isArray=u,B.isBoolean=d,B.isNull=m,B.isNullOrUndefined=function(N){return null==N},B.isNumber=h,B.isString=T,B.isSymbol=function(N){return"symbol"==typeof N},B.isUndefined=_,B.isRegExp=g,B.types.isRegExp=g,B.isObject=w,B.isDate=x,B.types.isDate=x,B.isError=b,B.types.isNativeError=b,B.isFunction=A,B.isPrimitive=function(N){return null===N||"boolean"==typeof N||"number"==typeof N||"string"==typeof N||"symbol"==typeof N||void 0===N},B.isBuffer=r(45920);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(N,j){return Object.prototype.hasOwnProperty.call(N,j)}B.log=function(){var N,j;console.log("%s - %s",(j=[O((N=new Date).getHours()),O(N.getMinutes()),O(N.getSeconds())].join(":"),[N.getDate(),k[N.getMonth()],j].join(" ")),B.format.apply(B,arguments))},B.inherits=r(42018),B._extend=function(N,j){if(!j||!w(j))return N;for(var X=Object.keys(j),F=X.length;F--;)N[X[F]]=j[X[F]];return N};var P=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function R(N,j){if(!N){var X=new Error("Promise was rejected with a falsy value");X.reason=N,N=X}return j(N)}B.promisify=function(N){if("function"!=typeof N)throw new TypeError('The "original" argument must be of type Function');if(P&&N[P]){var j;if("function"!=typeof(j=N[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(j,P,{value:j,enumerable:!1,writable:!1,configurable:!0}),j}function j(){for(var X,F,Z=new Promise(function(G,Y){X=G,F=Y}),W=[],H=0;H<arguments.length;H++)W.push(arguments[H]);W.push(function(G,Y){G?F(G):X(Y)});try{N.apply(this,W)}catch(G){F(G)}return Z}return Object.setPrototypeOf(j,Object.getPrototypeOf(N)),P&&Object.defineProperty(j,P,{value:j,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(j,E(N))},B.promisify.custom=P,B.callbackify=function(N){if("function"!=typeof N)throw new TypeError('The "original" argument must be of type Function');function j(){for(var X=[],F=0;F<arguments.length;F++)X.push(arguments[F]);var Z=X.pop();if("function"!=typeof Z)throw new TypeError("The last argument must be of type Function");var W=this,H=function(){return Z.apply(W,arguments)};N.apply(this,X).then(function(G){D.nextTick(H.bind(null,null,G))},function(G){D.nextTick(R.bind(null,G,H))})}return Object.setPrototypeOf(j,Object.getPrototypeOf(N)),Object.defineProperties(j,E(N)),j}},40372:function(ae,B,r){var D=r(86249);ae.exports=function(E){return D("webgl",E)}},21099:function(ae,B,r){"use strict";var D=r(31353),E=r(72077),f=r(6614),S=r(40383),M=f("Object.prototype.toString"),v=r(84543)(),c=typeof globalThis>"u"?r.g:globalThis,i=E(),s=f("String.prototype.slice"),a={},o=Object.getPrototypeOf;v&&S&&o&&D(i,function(u){if("function"==typeof c[u]){var d=new c[u];if(Symbol.toStringTag in d){var m=o(d),h=S(m,Symbol.toStringTag);if(!h){var T=o(m);h=S(T,Symbol.toStringTag)}a[u]=h.get}}});var l=r(9187);ae.exports=function(u){return!!l(u)&&(v&&Symbol.toStringTag in u?(d=u,m=!1,D(a,function(h,T){if(!m)try{var _=h.call(d);_===T&&(m=_)}catch{}}),m):s(M(u),8,-1));var d,m}},3961:function(ae,B,r){var D=r(63489),E=r(56131),f=D.instance();function S(o){this.local=this.regionalOptions[o||""]||this.regionalOptions[""]}E(S.prototype=new D.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(o,l){if("string"==typeof o){var u=o.match(v);return u?u[0]:""}var d=this._validateYear(o),m=o.month(),h=""+this.toChineseMonth(d,m);return l&&h.length<2&&(h="0"+h),this.isIntercalaryMonth(d,m)&&(h+="i"),h},monthNames:function(o){if("string"==typeof o){var l=o.match(c);return l?l[0]:""}var u=this._validateYear(o),d=o.month(),m=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(u,d)-1];return this.isIntercalaryMonth(u,d)&&(m="\u95f0"+m),m},monthNamesShort:function(o){if("string"==typeof o){var l=o.match(i);return l?l[0]:""}var u=this._validateYear(o),d=o.month(),m=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(u,d)-1];return this.isIntercalaryMonth(u,d)&&(m="\u95f0"+m),m},parseMonth:function(o,l){o=this._validateYear(o);var u,d=parseInt(l);if(isNaN(d))"\u95f0"===l[0]&&(u=!0,l=l.substring(1)),"\u6708"===l[l.length-1]&&(l=l.substring(0,l.length-1)),d=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(l);else{var m=l[l.length-1];u="i"===m||"I"===m}return this.toMonthIndex(o,d,u)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(o,l){if(o.year&&(o=o.year()),"number"!=typeof o||o<1888||o>2111)throw l.replace(/\{0\}/,this.local.name);return o},toMonthIndex:function(o,l,u){var d=this.intercalaryMonth(o);if(u&&l!==d||l<1||l>12)throw D.local.invalidMonth.replace(/\{0\}/,this.local.name);return d?!u&&l<=d?l-1:l:l-1},toChineseMonth:function(o,l){o.year&&(l=(o=o.year()).month());var u=this.intercalaryMonth(o);if(l<0||l>(u?12:11))throw D.local.invalidMonth.replace(/\{0\}/,this.local.name);return u?l<u?l+1:l:l+1},intercalaryMonth:function(o){return o=this._validateYear(o),s[o-s[0]]>>13},isIntercalaryMonth:function(o,l){o.year&&(l=(o=o.year()).month());var u=this.intercalaryMonth(o);return!!u&&u===l},leapYear:function(o){return 0!==this.intercalaryMonth(o)},weekOfYear:function(o,l,u){var d,m=this._validateYear(o,D.local.invalidyear),h=a[m-a[0]];(d=f.newDate(h>>9&4095,h>>5&15,31&h)).add(4-(d.dayOfWeek()||7),"d");var w=this.toJD(o,l,u)-d.toJD();return 1+Math.floor(w/7)},monthsInYear:function(o){return this.leapYear(o)?13:12},daysInMonth:function(o,l){o.year&&(l=o.month(),o=o.year()),o=this._validateYear(o);var u=s[o-s[0]];if(l>(u>>13?12:11))throw D.local.invalidMonth.replace(/\{0\}/,this.local.name);return u&1<<12-l?30:29},weekDay:function(o,l,u){return(this.dayOfWeek(o,l,u)||7)<6},toJD:function(o,l,u){var d=this._validate(o,h,u,D.local.invalidDate);o=this._validateYear(d.year()),l=d.month(),u=d.day();var m=this.isIntercalaryMonth(o,l),h=this.toChineseMonth(o,l),T=function(_,g,w,x,b){var A,p,O;if("object"==typeof _)p=_,A=g||{};else{var k;if(!("number"==typeof _&&_>=1888&&_<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof g&&g>=1&&g<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof w&&w>=1&&w<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof x?(k=!1,A=x):(k=!!x,A={}),p={year:_,month:g,day:w,isIntercalary:k}}O=p.day-1;var I,P=s[p.year-s[0]],R=P>>13;I=R&&(p.month>R||p.isIntercalary)?p.month:p.month-1;for(var N=0;N<I;N++)O+=P&1<<12-N?30:29;var j=a[p.year-a[0]],X=new Date(j>>9&4095,(j>>5&15)-1,(31&j)+O);return A.year=X.getFullYear(),A.month=1+X.getMonth(),A.day=X.getDate(),A}(o,h,u,m);return f.toJD(T.year,T.month,T.day)},fromJD:function(o){var l=f.fromJD(o),u=function(m,h,T,_){var g,w;if("object"==typeof m)g=m,w=h||{};else{if(!("number"==typeof m&&m>=1888&&m<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof h&&h>=1&&h<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof T&&T>=1&&T<=31))throw new Error("Solar day outside range 1 - 31");g={year:m,month:h,day:T},w={}}var x=a[g.year-a[0]];w.year=(g.year<<9|g.month<<5|g.day)>=x?g.year:g.year-1,x=a[w.year-a[0]];var A,p=new Date(x>>9&4095,(x>>5&15)-1,31&x),O=new Date(g.year,g.month-1,g.day);A=Math.round((O-p)/864e5);var k,I=s[w.year-s[0]];for(k=0;k<13;k++){var P=I&1<<12-k?30:29;if(A<P)break;A-=P}var R=I>>13;return!R||k<R?(w.isIntercalary=!1,w.month=1+k):k===R?(w.isIntercalary=!0,w.month=k):(w.isIntercalary=!1,w.month=k),w.day=1+A,w}(l.year(),l.month(),l.day()),d=this.toMonthIndex(u.year,u.month,u.isIntercalary);return this.newDate(u.year,d,u.day)},fromString:function(o){var l=o.match(M),u=this._validateYear(+l[1]),h=this.toMonthIndex(u,+l[2],!!l[3]);return this.newDate(u,h,+l[4])},add:function(o,l,u){var d=o.year(),m=o.month(),h=this.isIntercalaryMonth(d,m),T=this.toChineseMonth(d,m),_=Object.getPrototypeOf(S.prototype).add.call(this,o,l,u);if("y"===u){var g=_.year(),w=_.month(),x=this.isIntercalaryMonth(g,T),b=this.toMonthIndex(g,T,!(!h||!x));b!==w&&_.month(b)}return _}});var M=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,c=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,i=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;D.calendars.chinese=S;var s=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],a=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},38751:function(ae,B,r){var D=r(63489);function f(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(f.prototype=new D.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var M=this._validate(S,this.minMonth,this.minDay,D.local.invalidYear);return(S=M.year()+(M.year()<0?1:0))%4==3||S%4==-1},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,D.local.invalidYear||D.regionalOptions[""].invalidYear),13},weekOfYear:function(S,M,v){var c=this.newDate(S,M,v);return c.add(-c.dayOfWeek(),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInMonth:function(S,M){var v=this._validate(S,M,this.minDay,D.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(13===v.month()&&this.leapYear(v.year())?1:0)},weekDay:function(S,M,v){return(this.dayOfWeek(S,M,v)||7)<6},toJD:function(S,M,v){var c=this._validate(S,M,v,D.local.invalidDate);return(S=c.year())<0&&S++,c.day()+30*(c.month()-1)+365*(S-1)+Math.floor(S/4)+this.jdEpoch-1},fromJD:function(S){var M=Math.floor(S)+.5-this.jdEpoch,v=Math.floor((M-Math.floor((M+366)/1461))/365)+1;v<=0&&v--,M=Math.floor(S)+.5-this.newDate(v,1,1).toJD();var c=Math.floor(M/30)+1;return this.newDate(v,c,M-30*(c-1)+1)}}),D.calendars.coptic=f},86825:function(ae,B,r){var D=r(63489);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}r(56131)(f.prototype=new D.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(M){return this._validate(M,this.minMonth,this.minDay,D.local.invalidYear),!1},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,D.local.invalidYear),13},daysInYear:function(M){return this._validate(M,this.minMonth,this.minDay,D.local.invalidYear),400},weekOfYear:function(M,v,c){var i=this.newDate(M,v,c);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/8)+1},daysInMonth:function(M,v){var c=this._validate(M,v,this.minDay,D.local.invalidMonth);return this.daysPerMonth[c.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(M,v,c){return(this._validate(M,v,c,D.local.invalidDate).day()+1)%8},weekDay:function(M,v,c){var i=this.dayOfWeek(M,v,c);return i>=2&&i<=6},extraInfo:function(M,v,c){var i=this._validate(M,v,c,D.local.invalidDate);return{century:S[Math.floor((i.year()-1)/100)+1]||""}},toJD:function(M,v,c){var i=this._validate(M,v,c,D.local.invalidDate);return M=i.year()+(i.year()<0?1:0),v=i.month(),(c=i.day())+(v>1?16:0)+(v>2?32*(v-2):0)+400*(M-1)+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(M/400)+1;M-=400*(v-1),M+=M>15?16:0;var c=Math.floor(M/32)+1;return this.newDate(v<=0?v-1:v,c,M-32*(c-1)+1)}});var S={20:"Fruitbat",21:"Anchovy"};D.calendars.discworld=f},37715:function(ae,B,r){var D=r(63489);function f(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(f.prototype=new D.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var M=this._validate(S,this.minMonth,this.minDay,D.local.invalidYear);return(S=M.year()+(M.year()<0?1:0))%4==3||S%4==-1},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,D.local.invalidYear||D.regionalOptions[""].invalidYear),13},weekOfYear:function(S,M,v){var c=this.newDate(S,M,v);return c.add(-c.dayOfWeek(),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInMonth:function(S,M){var v=this._validate(S,M,this.minDay,D.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(13===v.month()&&this.leapYear(v.year())?1:0)},weekDay:function(S,M,v){return(this.dayOfWeek(S,M,v)||7)<6},toJD:function(S,M,v){var c=this._validate(S,M,v,D.local.invalidDate);return(S=c.year())<0&&S++,c.day()+30*(c.month()-1)+365*(S-1)+Math.floor(S/4)+this.jdEpoch-1},fromJD:function(S){var M=Math.floor(S)+.5-this.jdEpoch,v=Math.floor((M-Math.floor((M+366)/1461))/365)+1;v<=0&&v--,M=Math.floor(S)+.5-this.newDate(v,1,1).toJD();var c=Math.floor(M/30)+1;return this.newDate(v,c,M-30*(c-1)+1)}}),D.calendars.ethiopian=f},99384:function(ae,B,r){var D=r(63489);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}function S(M,v){return M-v*Math.floor(M/v)}r(56131)(f.prototype=new D.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(M){return S(7*(M=M<0?M+1:M)+1,19)<7},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,D.local.invalidYear),this._leapYear(M.year?M.year():M)?13:12},weekOfYear:function(M,v,c){var i=this.newDate(M,v,c);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(M){return M=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear).year(),this.toJD(-1===M?1:M+1,7,1)-this.toJD(M,7,1)},daysInMonth:function(M,v){return M.year&&(v=M.month(),M=M.year()),this._validate(M,v,this.minDay,D.local.invalidMonth),12===v&&this.leapYear(M)||8===v&&5===S(this.daysInYear(M),10)?30:9===v&&3===S(this.daysInYear(M),10)?29:this.daysPerMonth[v-1]},weekDay:function(M,v,c){return 6!==this.dayOfWeek(M,v,c)},extraInfo:function(M,v,c){var i=this._validate(M,v,c,D.local.invalidDate);return{yearType:(this.leapYear(i)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(i)%10-3]}},toJD:function(M,v,c){var i=this._validate(M,v,c,D.local.invalidDate);M=i.year(),v=i.month(),c=i.day();var s=M<=0?M+1:M,a=this.jdEpoch+this._delay1(s)+this._delay2(s)+c+1;if(v<7){for(var o=7;o<=this.monthsInYear(M);o++)a+=this.daysInMonth(M,o);for(o=1;o<v;o++)a+=this.daysInMonth(M,o)}else for(o=7;o<v;o++)a+=this.daysInMonth(M,o);return a},_delay1:function(M){var v=Math.floor((235*M-234)/19),i=29*v+Math.floor((12084+13753*v)/25920);return S(3*(i+1),7)<3&&i++,i},_delay2:function(M){var v=this._delay1(M-1),c=this._delay1(M);return this._delay1(M+1)-c==356?2:c-v==382?1:0},fromJD:function(M){M=Math.floor(M)+.5;for(var v=Math.floor(98496*(M-this.jdEpoch)/35975351)-1;M>=this.toJD(-1===v?1:v+1,7,1);)v++;for(var c=M<this.toJD(v,1,1)?7:1;M>this.toJD(v,c,this.daysInMonth(v,c));)c++;var i=M-this.toJD(v,c,1)+1;return this.newDate(v,c,i)}}),D.calendars.hebrew=f},43805:function(ae,B,r){var D=r(63489);function f(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(f.prototype=new D.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(S){return(11*this._validate(S,this.minMonth,this.minDay,D.local.invalidYear).year()+14)%30<11},weekOfYear:function(S,M,v){var c=this.newDate(S,M,v);return c.add(-c.dayOfWeek(),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInYear:function(S){return this.leapYear(S)?355:354},daysInMonth:function(S,M){var v=this._validate(S,M,this.minDay,D.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(12===v.month()&&this.leapYear(v.year())?1:0)},weekDay:function(S,M,v){return 5!==this.dayOfWeek(S,M,v)},toJD:function(S,M,v){var c=this._validate(S,M,v,D.local.invalidDate);return S=c.year(),M=c.month(),S=S<=0?S+1:S,(v=c.day())+Math.ceil(29.5*(M-1))+354*(S-1)+Math.floor((3+11*S)/30)+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S)+.5;var M=Math.floor((30*(S-this.jdEpoch)+10646)/10631);M=M<=0?M-1:M;var v=Math.min(12,Math.ceil((S-29-this.toJD(M,1,1))/29.5)+1),c=S-this.toJD(M,v,1)+1;return this.newDate(M,v,c)}}),D.calendars.islamic=f},88874:function(ae,B,r){var D=r(63489);function f(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(f.prototype=new D.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var M=this._validate(S,this.minMonth,this.minDay,D.local.invalidYear);return(S=M.year()<0?M.year()+1:M.year())%4==0},weekOfYear:function(S,M,v){var c=this.newDate(S,M,v);return c.add(4-(c.dayOfWeek()||7),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInMonth:function(S,M){var v=this._validate(S,M,this.minDay,D.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(2===v.month()&&this.leapYear(v.year())?1:0)},weekDay:function(S,M,v){return(this.dayOfWeek(S,M,v)||7)<6},toJD:function(S,M,v){var c=this._validate(S,M,v,D.local.invalidDate);return S=c.year(),M=c.month(),v=c.day(),S<0&&S++,M<=2&&(S--,M+=12),Math.floor(365.25*(S+4716))+Math.floor(30.6001*(M+1))+v-1524.5},fromJD:function(S){var M=Math.floor(S+.5)+1524,v=Math.floor((M-122.1)/365.25),c=Math.floor(365.25*v),i=Math.floor((M-c)/30.6001),s=i-Math.floor(i<14?1:13),a=v-Math.floor(s>2?4716:4715),o=M-c-Math.floor(30.6001*i);return a<=0&&a--,this.newDate(a,s,o)}}),D.calendars.julian=f},83290:function(ae,B,r){var D=r(63489);function f(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}function S(v,c){return v-c*Math.floor(v/c)}function M(v,c){return S(v-1,c)+1}r(56131)(f.prototype=new D.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,D.local.invalidYear),!1},formatYear:function(v){v=this._validate(v,this.minMonth,this.minDay,D.local.invalidYear).year();var c=Math.floor(v/400);return v%=400,v+=v<0?400:0,c+"."+Math.floor(v/20)+"."+v%20},forYear:function(v){if((v=v.split(".")).length<3)throw"Invalid Mayan year";for(var c=0,i=0;i<v.length;i++){var s=parseInt(v[i],10);if(Math.abs(s)>19||i>0&&s<0)throw"Invalid Mayan year";c=20*c+s}return c},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,D.local.invalidYear),18},weekOfYear:function(v,c,i){return this._validate(v,c,i,D.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,D.local.invalidYear),360},daysInMonth:function(v,c){return this._validate(v,c,this.minDay,D.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,c,i){return this._validate(v,c,i,D.local.invalidDate).day()},weekDay:function(v,c,i){return this._validate(v,c,i,D.local.invalidDate),!0},extraInfo:function(v,c,i){var s=this._validate(v,c,i,D.local.invalidDate).toJD(),a=this._toHaab(s),o=this._toTzolkin(s);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[o[0]-1],tzolkinDay:o[0],tzolkinTrecena:o[1]}},_toHaab:function(v){var c=S(8+(v-=this.jdEpoch)+340,365);return[Math.floor(c/20)+1,S(c,20)]},_toTzolkin:function(v){return[M(20+(v-=this.jdEpoch),20),M(v+4,13)]},toJD:function(v,c,i){var s=this._validate(v,c,i,D.local.invalidDate);return s.day()+20*s.month()+360*s.year()+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var c=Math.floor(v/360);v%=360,v+=v<0?360:0;var i=Math.floor(v/20);return this.newDate(c,i,v%20)}}),D.calendars.mayan=f},29108:function(ae,B,r){var D=r(63489),E=r(56131);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}f.prototype=new D.baseCalendar;var S=D.instance("gregorian");E(f.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear||D.regionalOptions[""].invalidYear);return S.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(M,v,c){var i=this.newDate(M,v,c);return i.add(1-(i.dayOfWeek()||7),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(M,v){var c=this._validate(M,v,this.minDay,D.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(12===c.month()&&this.leapYear(c.year())?1:0)},weekDay:function(M,v,c){return(this.dayOfWeek(M,v,c)||7)<6},toJD:function(M,v,c){var i=this._validate(M,v,c,D.local.invalidMonth);(M=i.year())<0&&M++;for(var s=i.day(),a=1;a<i.month();a++)s+=this.daysPerMonth[a-1];return s+S.toJD(M+1468,3,13)},fromJD:function(M){M=Math.floor(M+.5);for(var v=Math.floor((M-(this.jdEpoch-1))/366);M>=this.toJD(v+1,1,1);)v++;for(var c=M-Math.floor(this.toJD(v,1,1)+.5)+1,i=1;c>this.daysInMonth(v,i);)c-=this.daysInMonth(v,i),i++;return this.newDate(v,i,c)}}),D.calendars.nanakshahi=f},55422:function(ae,B,r){var D=r(63489);function f(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(f.prototype=new D.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(S){return this.daysInYear(S)!==this.daysPerYear},weekOfYear:function(S,M,v){var c=this.newDate(S,M,v);return c.add(-c.dayOfWeek(),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInYear:function(S){if(S=this._validate(S,this.minMonth,this.minDay,D.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[S])return this.daysPerYear;for(var M=0,v=this.minMonth;v<=12;v++)M+=this.NEPALI_CALENDAR_DATA[S][v];return M},daysInMonth:function(S,M){return S.year&&(M=S.month(),S=S.year()),this._validate(S,M,this.minDay,D.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[S]?this.daysPerMonth[M-1]:this.NEPALI_CALENDAR_DATA[S][M]},weekDay:function(S,M,v){return 6!==this.dayOfWeek(S,M,v)},toJD:function(S,M,v){var c=this._validate(S,M,v,D.local.invalidDate);S=c.year(),M=c.month(),v=c.day();var i=D.instance(),s=0,a=M,o=S;this._createMissingCalendarData(S);var l=S-(a>9||9===a&&v>=this.NEPALI_CALENDAR_DATA[o][0]?56:57);for(9!==M&&(s=v,a--);9!==a;)a<=0&&(a=12,o--),s+=this.NEPALI_CALENDAR_DATA[o][a],a--;return 9===M?(s+=v-this.NEPALI_CALENDAR_DATA[o][0])<0&&(s+=i.daysInYear(l)):s+=this.NEPALI_CALENDAR_DATA[o][9]-this.NEPALI_CALENDAR_DATA[o][0],i.newDate(l,1,1).add(s,"d").toJD()},fromJD:function(S){var M=D.instance().fromJD(S),v=M.year(),c=M.dayOfYear(),i=v+56;this._createMissingCalendarData(i);for(var s=9,o=this.NEPALI_CALENDAR_DATA[i][s]-this.NEPALI_CALENDAR_DATA[i][0]+1;c>o;)++s>12&&(s=1,i++),o+=this.NEPALI_CALENDAR_DATA[i][s];return this.newDate(i,s,this.NEPALI_CALENDAR_DATA[i][s]-(o-c))},_createMissingCalendarData:function(S){var M=this.daysPerMonth.slice(0);M.unshift(17);for(var v=S-1;v<S+2;v++)void 0===this.NEPALI_CALENDAR_DATA[v]&&(this.NEPALI_CALENDAR_DATA[v]=M)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),D.calendars.nepali=f},94320:function(ae,B,r){var D=r(63489);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}function S(M,v){return M-v*Math.floor(M/v)}r(56131)(f.prototype=new D.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return 682*((v.year()-(v.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(M,v,c){var i=this.newDate(M,v,c);return i.add(-(i.dayOfWeek()+1)%7,"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(M,v){var c=this._validate(M,v,this.minDay,D.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(12===c.month()&&this.leapYear(c.year())?1:0)},weekDay:function(M,v,c){return 5!==this.dayOfWeek(M,v,c)},toJD:function(M,v,c){var i=this._validate(M,v,c,D.local.invalidDate);M=i.year(),v=i.month(),c=i.day();var s=M-(M>=0?474:473),a=474+S(s,2820);return c+(v<=7?31*(v-1):30*(v-1)+6)+Math.floor((682*a-110)/2816)+365*(a-1)+1029983*Math.floor(s/2820)+this.jdEpoch-1},fromJD:function(M){var v=(M=Math.floor(M)+.5)-this.toJD(475,1,1),c=Math.floor(v/1029983),i=S(v,1029983),s=2820;if(1029982!==i){var a=Math.floor(i/366),o=S(i,366);s=Math.floor((2134*a+2816*o+2815)/1028522)+a+1}var l=s+2820*c+474,u=M-this.toJD(l=l<=0?l-1:l,1,1)+1,d=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),m=M-this.toJD(l,d,1)+1;return this.newDate(l,d,m)}}),D.calendars.persian=f,D.calendars.jalali=f},31320:function(ae,B,r){var D=r(63489),E=r(56131),f=D.instance();function S(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}E(S.prototype=new D.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return M=this._t2gYear(v.year()),f.leapYear(M)},weekOfYear:function(M,v,c){var i=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return M=this._t2gYear(i.year()),f.weekOfYear(M,i.month(),i.day())},daysInMonth:function(M,v){var c=this._validate(M,v,this.minDay,D.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(2===c.month()&&this.leapYear(c.year())?1:0)},weekDay:function(M,v,c){return(this.dayOfWeek(M,v,c)||7)<6},toJD:function(M,v,c){var i=this._validate(M,v,c,D.local.invalidDate);return M=this._t2gYear(i.year()),f.toJD(M,i.month(),i.day())},fromJD:function(M){var v=f.fromJD(M),c=this._g2tYear(v.year());return this.newDate(c,v.month(),v.day())},_t2gYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)},_g2tYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)}}),D.calendars.taiwan=S},51367:function(ae,B,r){var D=r(63489),E=r(56131),f=D.instance();function S(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}E(S.prototype=new D.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return M=this._t2gYear(v.year()),f.leapYear(M)},weekOfYear:function(M,v,c){var i=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return M=this._t2gYear(i.year()),f.weekOfYear(M,i.month(),i.day())},daysInMonth:function(M,v){var c=this._validate(M,v,this.minDay,D.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(2===c.month()&&this.leapYear(c.year())?1:0)},weekDay:function(M,v,c){return(this.dayOfWeek(M,v,c)||7)<6},toJD:function(M,v,c){var i=this._validate(M,v,c,D.local.invalidDate);return M=this._t2gYear(i.year()),f.toJD(M,i.month(),i.day())},fromJD:function(M){var v=f.fromJD(M),c=this._g2tYear(v.year());return this.newDate(c,v.month(),v.day())},_t2gYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)},_g2tYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)}}),D.calendars.thai=S},21457:function(ae,B,r){var D=r(63489);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}r(56131)(f.prototype=new D.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return 355===this.daysInYear(v.year())},weekOfYear:function(M,v,c){var i=this.newDate(M,v,c);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(M){for(var v=0,c=1;c<=12;c++)v+=this.daysInMonth(M,c);return v},daysInMonth:function(M,v){for(var c=this._validate(M,v,this.minDay,D.local.invalidMonth).toJD()-24e5+.5,i=0,s=0;s<S.length;s++){if(S[s]>c)return S[i]-S[i-1];i++}return 30},weekDay:function(M,v,c){return 5!==this.dayOfWeek(M,v,c)},toJD:function(M,v,c){var i=this._validate(M,v,c,D.local.invalidDate),s=12*(i.year()-1)+i.month()-15292;return i.day()+S[s-1]-1+24e5-.5},fromJD:function(M){for(var v=M-24e5+.5,c=0,i=0;i<S.length&&!(S[i]>v);i++)c++;var s=c+15292,a=Math.floor((s-1)/12);return this.newDate(a+1,s-12*a,v-S[c-1]+1)},isValid:function(M,v,c){var i=D.baseCalendar.prototype.isValid.apply(this,arguments);return i&&(i=(M=null!=M.year?M.year:M)>=1276&&M<=1500),i},_validate:function(M,v,c,i){var s=D.baseCalendar.prototype._validate.apply(this,arguments);if(s.year<1276||s.year>1500)throw i.replace(/\{0\}/,this.local.name);return s}}),D.calendars.ummalqura=f;var S=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(ae,B,r){var D=r(56131);function E(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function f(i,s,a,o){if(this._calendar=i,this._year=s,this._month=a,this._day=o,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(c.local.invalidDate||c.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function S(i,s){return"000000".substring(0,s-(i=""+i).length)+i}function M(){this.shortYearCutoff="+10"}function v(i){this.local=this.regionalOptions[i]||this.regionalOptions[""]}D(E.prototype,{instance:function(i,s){i=(i||"gregorian").toLowerCase();var a=this._localCals[i+"-"+(s=s||"")];if(!a&&this.calendars[i]&&(a=new this.calendars[i](s),this._localCals[i+"-"+s]=a),!a)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,i);return a},newDate:function(i,s,a,o,l){return(o=(null!=i&&i.year?i.calendar():"string"==typeof o?this.instance(o,l):o)||this.instance()).newDate(i,s,a)},substituteDigits:function(i){return function(s){return(s+"").replace(/[0-9]/g,function(a){return i[a]})}},substituteChineseDigits:function(i,s){return function(a){for(var o="",l=0;a>0;){var u=a%10;o=(0===u?"":i[u]+s[l])+o,l++,a=Math.floor(a/10)}return 0===o.indexOf(i[1]+s[1])&&(o=o.substr(1)),o||i[0]}}}),D(f.prototype,{newDate:function(i,s,a){return this._calendar.newDate(i??this,s,a)},year:function(i){return 0===arguments.length?this._year:this.set(i,"y")},month:function(i){return 0===arguments.length?this._month:this.set(i,"m")},day:function(i){return 0===arguments.length?this._day:this.set(i,"d")},date:function(i,s,a){if(!this._calendar.isValid(i,s,a))throw(c.local.invalidDate||c.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=i,this._month=s,this._day=a,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(i,s){return this._calendar.add(this,i,s)},set:function(i,s){return this._calendar.set(this,i,s)},compareTo:function(i){if(this._calendar.name!==i._calendar.name)throw(c.local.differentCalendars||c.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,i._calendar.local.name);var s=this._year!==i._year?this._year-i._year:this._month!==i._month?this.monthOfYear()-i.monthOfYear():this._day-i._day;return 0===s?0:s<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(i){return this._calendar.fromJD(i)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(i){return this._calendar.fromJSDate(i)},toString:function(){return(this.year()<0?"-":"")+S(Math.abs(this.year()),4)+"-"+S(this.month(),2)+"-"+S(this.day(),2)}}),D(M.prototype,{_validateLevel:0,newDate:function(i,s,a){return null==i?this.today():(i.year&&(this._validate(i,s,a,c.local.invalidDate||c.regionalOptions[""].invalidDate),a=i.day(),s=i.month(),i=i.year()),new f(this,i,s,a))},today:function(){return this.fromJSDate(new Date)},epoch:function(i){return this._validate(i,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(i){var s=this._validate(i,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear);return(s.year()<0?"-":"")+S(Math.abs(s.year()),4)},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear),12},monthOfYear:function(i,s){var a=this._validate(i,s,this.minDay,c.local.invalidMonth||c.regionalOptions[""].invalidMonth);return(a.month()+this.monthsInYear(a)-this.firstMonth)%this.monthsInYear(a)+this.minMonth},fromMonthOfYear:function(i,s){var a=(s+this.firstMonth-2*this.minMonth)%this.monthsInYear(i)+this.minMonth;return this._validate(i,a,this.minDay,c.local.invalidMonth||c.regionalOptions[""].invalidMonth),a},daysInYear:function(i){var s=this._validate(i,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear);return this.leapYear(s)?366:365},dayOfYear:function(i,s,a){var o=this._validate(i,s,a,c.local.invalidDate||c.regionalOptions[""].invalidDate);return o.toJD()-this.newDate(o.year(),this.fromMonthOfYear(o.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(i,s,a){var o=this._validate(i,s,a,c.local.invalidDate||c.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(o))+2)%this.daysInWeek()},extraInfo:function(i,s,a){return this._validate(i,s,a,c.local.invalidDate||c.regionalOptions[""].invalidDate),{}},add:function(i,s,a){return this._validate(i,this.minMonth,this.minDay,c.local.invalidDate||c.regionalOptions[""].invalidDate),this._correctAdd(i,this._add(i,s,a),s,a)},_add:function(i,s,a){if(this._validateLevel++,"d"===a||"w"===a){var o=i.toJD()+s*("w"===a?this.daysInWeek():1),l=i.calendar().fromJD(o);return this._validateLevel--,[l.year(),l.month(),l.day()]}try{var u=i.year()+("y"===a?s:0),d=i.monthOfYear()+("m"===a?s:0);l=i.day(),"y"===a?(i.month()!==this.fromMonthOfYear(u,d)&&(d=this.newDate(u,i.month(),this.minDay).monthOfYear()),d=Math.min(d,this.monthsInYear(u)),l=Math.min(l,this.daysInMonth(u,this.fromMonthOfYear(u,d)))):"m"===a&&(function(h){for(;d<h.minMonth;)u--,d+=h.monthsInYear(u);for(var T=h.monthsInYear(u);d>T-1+h.minMonth;)u++,d-=T,T=h.monthsInYear(u)}(this),l=Math.min(l,this.daysInMonth(u,this.fromMonthOfYear(u,d))));var m=[u,this.fromMonthOfYear(u,d),l];return this._validateLevel--,m}catch(h){throw this._validateLevel--,h}},_correctAdd:function(i,s,a,o){if(!(this.hasYearZero||"y"!==o&&"m"!==o||0!==s[0]&&i.year()>0==s[0]>0)){var l={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[o];s=this._add(i,a*l[0]+(a<0?-1:1)*l[1],l[2])}return i.date(s[0],s[1],s[2])},set:function(i,s,a){this._validate(i,this.minMonth,this.minDay,c.local.invalidDate||c.regionalOptions[""].invalidDate);var o="y"===a?s:i.year(),l="m"===a?s:i.month(),u="d"===a?s:i.day();return"y"!==a&&"m"!==a||(u=Math.min(u,this.daysInMonth(o,l))),i.date(o,l,u)},isValid:function(i,s,a){this._validateLevel++;var o=this.hasYearZero||0!==i;if(o){var l=this.newDate(i,s,this.minDay);o=s>=this.minMonth&&s-this.minMonth<this.monthsInYear(l)&&a>=this.minDay&&a-this.minDay<this.daysInMonth(l)}return this._validateLevel--,o},toJSDate:function(i,s,a){var o=this._validate(i,s,a,c.local.invalidDate||c.regionalOptions[""].invalidDate);return c.instance().fromJD(this.toJD(o)).toJSDate()},fromJSDate:function(i){return this.fromJD(c.instance().fromJSDate(i).toJD())},_validate:function(i,s,a,o){if(i.year){if(0===this._validateLevel&&this.name!==i.calendar().name)throw(c.local.differentCalendars||c.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,i.calendar().local.name);return i}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(i,s,a))throw o.replace(/\{0\}/,this.local.name);var l=this.newDate(i,s,a);return this._validateLevel--,l}catch(u){throw this._validateLevel--,u}}}),D(v.prototype=new M,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var s=this._validate(i,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear);return(i=s.year()+(s.year()<0?1:0))%4==0&&(i%100!=0||i%400==0)},weekOfYear:function(i,s,a){var o=this.newDate(i,s,a);return o.add(4-(o.dayOfWeek()||7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(i,s){var a=this._validate(i,s,this.minDay,c.local.invalidMonth||c.regionalOptions[""].invalidMonth);return this.daysPerMonth[a.month()-1]+(2===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(i,s,a){return(this.dayOfWeek(i,s,a)||7)<6},toJD:function(i,s,a){var o=this._validate(i,s,a,c.local.invalidDate||c.regionalOptions[""].invalidDate);i=o.year(),s=o.month(),a=o.day(),i<0&&i++,s<3&&(s+=12,i--);var l=Math.floor(i/100),u=2-l+Math.floor(l/4);return Math.floor(365.25*(i+4716))+Math.floor(30.6001*(s+1))+a+u-1524.5},fromJD:function(i){var s=Math.floor(i+.5),a=Math.floor((s-1867216.25)/36524.25),o=1524+(a=s+1+a-Math.floor(a/4)),l=Math.floor((o-122.1)/365.25),u=Math.floor(365.25*l),d=Math.floor((o-u)/30.6001),m=o-u-Math.floor(30.6001*d),h=d-(d>13.5?13:1),T=l-(h>2.5?4716:4715);return T<=0&&T--,this.newDate(T,h,m)},toJSDate:function(i,s,a){var o=this._validate(i,s,a,c.local.invalidDate||c.regionalOptions[""].invalidDate),l=new Date(o.year(),o.month()-1,o.day());return l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),l.setHours(l.getHours()>12?l.getHours()+2:0),l},fromJSDate:function(i){return this.newDate(i.getFullYear(),i.getMonth()+1,i.getDate())}});var c=ae.exports=new E;c.cdate=f,c.baseCalendar=M,c.calendars.gregorian=v},94338:function(ae,B,r){var D=r(56131),E=r(63489);D(E.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),E.local=E.regionalOptions[""],D(E.cdate.prototype,{formatDate:function(f,S){return"string"!=typeof f&&(S=f,f=""),this._calendar.formatDate(f||"",this,S)}}),D(E.baseCalendar.prototype,{UNIX_EPOCH:E.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:E.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(f,S,M){if("string"!=typeof f&&(M=S,S=f,f=""),!S)return"";if(S.calendar()!==this)throw E.local.invalidFormat||E.regionalOptions[""].invalidFormat;f=f||this.local.dateFormat;for(var v,c,i,s=(M=M||{}).dayNamesShort||this.local.dayNamesShort,a=M.dayNames||this.local.dayNames,o=M.monthNumbers||this.local.monthNumbers,l=M.monthNamesShort||this.local.monthNamesShort,u=M.monthNames||this.local.monthNames,d=function(p,O){for(var k=1;A+k<f.length&&f.charAt(A+k)===p;)k++;return A+=k-1,Math.floor(k/(O||1))>1},m=function(p,O,k,I){var P=""+O;if(d(p,I))for(;P.length<k;)P="0"+P;return P},h=this,_=function(p,O){return O?"function"==typeof u?u.call(h,p):u[p.month()-h.minMonth]:"function"==typeof l?l.call(h,p):l[p.month()-h.minMonth]},g=this.local.digits,w=function(p){return M.localNumbers&&g?g(p):p},x="",b=!1,A=0;A<f.length;A++)if(b)"'"!==f.charAt(A)||d("'")?x+=f.charAt(A):b=!1;else switch(f.charAt(A)){case"d":x+=w(m("d",S.day(),2));break;case"D":x+=(v=S.dayOfWeek(),c=s,i=a,d("D")?i[v]:c[v]);break;case"o":x+=m("o",S.dayOfYear(),3);break;case"w":x+=m("w",S.weekOfYear(),2);break;case"m":x+=(p=S,"function"==typeof o?o.call(h,p,d("m")):w(m("m",p.month(),2)));break;case"M":x+=_(S,d("M"));break;case"y":x+=d("y",2)?S.year():(S.year()%100<10?"0":"")+S.year()%100;break;case"Y":d("Y",2),x+=S.formatYear();break;case"J":x+=S.toJD();break;case"@":x+=(S.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":x+=(S.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":d("'")?x+="'":b=!0;break;default:x+=f.charAt(A)}var p;return x},parseDate:function(f,S,M){if(null==S)throw E.local.invalidArguments||E.regionalOptions[""].invalidArguments;if(""===(S="object"==typeof S?S.toString():S+""))return null;f=f||this.local.dateFormat;var v=(M=M||{}).shortYearCutoff||this.shortYearCutoff;v="string"!=typeof v?v:this.today().year()%100+parseInt(v,10);for(var c=M.dayNamesShort||this.local.dayNamesShort,i=M.dayNames||this.local.dayNames,s=M.parseMonth||this.local.parseMonth,a=M.monthNumbers||this.local.monthNumbers,o=M.monthNamesShort||this.local.monthNamesShort,l=M.monthNames||this.local.monthNames,u=-1,d=-1,m=-1,h=-1,T=-1,_=!1,g=!1,w=function(j,X){for(var F=1;P+F<f.length&&f.charAt(P+F)===j;)F++;return P+=F-1,Math.floor(F/(X||1))>1},x=function(j,X){var F=w(j,X),Z=[2,3,F?4:2,F?4:2,10,11,20]["oyYJ@!".indexOf(j)+1],W=new RegExp("^-?\\d{1,"+Z+"}"),H=S.substring(I).match(W);if(!H)throw(E.local.missingNumberAt||E.regionalOptions[""].missingNumberAt).replace(/\{0\}/,I);return I+=H[0].length,parseInt(H[0],10)},b=this,A=function(){if("function"==typeof a){w("m");var j=a.call(b,S.substring(I));return I+=j.length,j}return x("m")},p=function(j,X,F,Z){for(var W=w(j,Z)?F:X,H=0;H<W.length;H++)if(S.substr(I,W[H].length).toLowerCase()===W[H].toLowerCase())return I+=W[H].length,H+b.minMonth;throw(E.local.unknownNameAt||E.regionalOptions[""].unknownNameAt).replace(/\{0\}/,I)},O=function(){if("function"==typeof l){var j=w("M")?l.call(b,S.substring(I)):o.call(b,S.substring(I));return I+=j.length,j}return p("M",o,l)},k=function(){if(S.charAt(I)!==f.charAt(P))throw(E.local.unexpectedLiteralAt||E.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,I);I++},I=0,P=0;P<f.length;P++)if(g)"'"!==f.charAt(P)||w("'")?k():g=!1;else switch(f.charAt(P)){case"d":h=x("d");break;case"D":p("D",c,i);break;case"o":T=x("o");break;case"w":x("w");break;case"m":m=A();break;case"M":m=O();break;case"y":var R=P;_=!w("y",2),P=R,d=x("y",2);break;case"Y":d=x("Y",2);break;case"J":u=x("J")+.5,"."===S.charAt(I)&&(I++,x("J"));break;case"@":u=x("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=x("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":I=S.length;break;case"'":w("'")?k():g=!0;break;default:k()}if(I<S.length)throw E.local.unexpectedText||E.regionalOptions[""].unexpectedText;if(-1===d?d=this.today().year():d<100&&_&&(d+=-1===v?1900:this.today().year()-this.today().year()%100-(d<=v?0:100)),"string"==typeof m&&(m=s.call(this,d,m)),T>-1){h=T;for(var N=this.daysInMonth(d,m=1);h>N;N=this.daysInMonth(d,m))m++,h-=N}return u>-1?this.fromJD(u):this.newDate(d,m,h)},determineDate:function(f,S,M,v,c){M&&"object"!=typeof M&&(c=v,v=M,M=null),"string"!=typeof v&&(c=v,v="");var i=this;return S=S?S.newDate():null,null==f?S:"string"==typeof f?function(s){try{return i.parseDate(v,s,c)}catch{}for(var a=((s=s.toLowerCase()).match(/^c/)&&M?M.newDate():null)||i.today(),o=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,l=o.exec(s);l;)a.add(parseInt(l[1],10),l[2]||"d"),l=o.exec(s);return a}(f):"number"==typeof f?isNaN(f)||f===1/0||f===-1/0?S:i.today().add(f,"d"):i.newDate(f)}})},69862:function(){},40964:function(){},72077:function(ae,B,r){"use strict";var D=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],E=typeof globalThis>"u"?r.g:globalThis;ae.exports=function(){for(var f=[],S=0;S<D.length;S++)"function"==typeof E[D[S]]&&(f[f.length]=D[S]);return f}},81684:function(ae,B,r){"use strict";function D(Te,ve,xe){Te.prototype=ve.prototype=xe,xe.constructor=Te}function E(Te,ve){var xe=Object.create(Te.prototype);for(var Fe in ve)xe[Fe]=ve[Fe];return xe}function f(){}r.d(B,{sX:function(){return Ae},k4:function(){return Q}});var S=.7,M=1/S,v="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3,8})$/,a=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),o=new RegExp("^rgb\\(".concat(i,",").concat(i,",").concat(i,"\\)$")),l=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(c,"\\)$")),u=new RegExp("^rgba\\(".concat(i,",").concat(i,",").concat(i,",").concat(c,"\\)$")),d=new RegExp("^hsl\\(".concat(c,",").concat(i,",").concat(i,"\\)$")),m=new RegExp("^hsla\\(".concat(c,",").concat(i,",").concat(i,",").concat(c,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function T(){return this.rgb().formatHex()}function _(){return this.rgb().formatRgb()}function g(Te){var ve,xe;return Te=(Te+"").trim().toLowerCase(),(ve=s.exec(Te))?(xe=ve[1].length,ve=parseInt(ve[1],16),6===xe?w(ve):3===xe?new A(ve>>8&15|ve>>4&240,ve>>4&15|240&ve,(15&ve)<<4|15&ve,1):8===xe?x(ve>>24&255,ve>>16&255,ve>>8&255,(255&ve)/255):4===xe?x(ve>>12&15|ve>>8&240,ve>>8&15|ve>>4&240,ve>>4&15|240&ve,((15&ve)<<4|15&ve)/255):null):(ve=a.exec(Te))?new A(ve[1],ve[2],ve[3],1):(ve=o.exec(Te))?new A(255*ve[1]/100,255*ve[2]/100,255*ve[3]/100,1):(ve=l.exec(Te))?x(ve[1],ve[2],ve[3],ve[4]):(ve=u.exec(Te))?x(255*ve[1]/100,255*ve[2]/100,255*ve[3]/100,ve[4]):(ve=d.exec(Te))?R(ve[1],ve[2]/100,ve[3]/100,1):(ve=m.exec(Te))?R(ve[1],ve[2]/100,ve[3]/100,ve[4]):h.hasOwnProperty(Te)?w(h[Te]):"transparent"===Te?new A(NaN,NaN,NaN,0):null}function w(Te){return new A(Te>>16&255,Te>>8&255,255&Te,1)}function x(Te,ve,xe,Fe){return Fe<=0&&(Te=ve=xe=NaN),new A(Te,ve,xe,Fe)}function b(Te,ve,xe,Fe){return 1===arguments.length?((Se=Te)instanceof f||(Se=g(Se)),Se?new A((Se=Se.rgb()).r,Se.g,Se.b,Se.opacity):new A):new A(Te,ve,xe,Fe??1);var Se}function A(Te,ve,xe,Fe){this.r=+Te,this.g=+ve,this.b=+xe,this.opacity=+Fe}function p(){return"#".concat(P(this.r)).concat(P(this.g)).concat(P(this.b))}function O(){var Te=k(this.opacity);return"".concat(1===Te?"rgb(":"rgba(").concat(I(this.r),", ").concat(I(this.g),", ").concat(I(this.b)).concat(1===Te?")":", ".concat(Te,")"))}function k(Te){return isNaN(Te)?1:Math.max(0,Math.min(1,Te))}function I(Te){return Math.max(0,Math.min(255,Math.round(Te)||0))}function P(Te){return((Te=I(Te))<16?"0":"")+Te.toString(16)}function R(Te,ve,xe,Fe){return Fe<=0?Te=ve=xe=NaN:xe<=0||xe>=1?Te=ve=NaN:ve<=0&&(Te=NaN),new j(Te,ve,xe,Fe)}function N(Te){if(Te instanceof j)return new j(Te.h,Te.s,Te.l,Te.opacity);if(Te instanceof f||(Te=g(Te)),!Te)return new j;if(Te instanceof j)return Te;var ve=(Te=Te.rgb()).r/255,xe=Te.g/255,Fe=Te.b/255,Se=Math.min(ve,xe,Fe),ke=Math.max(ve,xe,Fe),pe=NaN,fe=ke-Se,be=(ke+Se)/2;return fe?(pe=ve===ke?(xe-Fe)/fe+6*(xe<Fe):xe===ke?(Fe-ve)/fe+2:(ve-xe)/fe+4,fe/=be<.5?ke+Se:2-ke-Se,pe*=60):fe=be>0&&be<1?0:pe,new j(pe,fe,be,Te.opacity)}function j(Te,ve,xe,Fe){this.h=+Te,this.s=+ve,this.l=+xe,this.opacity=+Fe}function X(Te){return(Te=(Te||0)%360)<0?Te+360:Te}function F(Te){return Math.max(0,Math.min(1,Te||0))}function Z(Te,ve,xe){return 255*(Te<60?ve+(xe-ve)*Te/60:Te<180?xe:Te<240?ve+(xe-ve)*(240-Te)/60:ve)}function W(Te,ve,xe,Fe,Se){var ke=Te*Te,pe=ke*Te;return((1-3*Te+3*ke-pe)*ve+(4-6*ke+3*pe)*xe+(1+3*Te+3*ke-3*pe)*Fe+pe*Se)/6}D(f,g,{copy:function(Te){return Object.assign(new this.constructor,this,Te)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return N(this).formatHsl()},formatRgb:_,toString:_}),D(A,b,E(f,{brighter:function(Te){return Te=null==Te?M:Math.pow(M,Te),new A(this.r*Te,this.g*Te,this.b*Te,this.opacity)},darker:function(Te){return Te=null==Te?S:Math.pow(S,Te),new A(this.r*Te,this.g*Te,this.b*Te,this.opacity)},rgb:function(){return this},clamp:function(){return new A(I(this.r),I(this.g),I(this.b),k(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p,formatHex:p,formatHex8:function(){return"#".concat(P(this.r)).concat(P(this.g)).concat(P(this.b)).concat(P(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:O,toString:O})),D(j,function(Te,ve,xe,Fe){return 1===arguments.length?N(Te):new j(Te,ve,xe,Fe??1)},E(f,{brighter:function(Te){return Te=null==Te?M:Math.pow(M,Te),new j(this.h,this.s,this.l*Te,this.opacity)},darker:function(Te){return Te=null==Te?S:Math.pow(S,Te),new j(this.h,this.s,this.l*Te,this.opacity)},rgb:function(){var Te=this.h%360+360*(this.h<0),ve=isNaN(Te)||isNaN(this.s)?0:this.s,xe=this.l,Fe=xe+(xe<.5?xe:1-xe)*ve,Se=2*xe-Fe;return new A(Z(Te>=240?Te-240:Te+120,Se,Fe),Z(Te,Se,Fe),Z(Te<120?Te+240:Te-120,Se,Fe),this.opacity)},clamp:function(){return new j(X(this.h),F(this.s),F(this.l),k(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Te=k(this.opacity);return"".concat(1===Te?"hsl(":"hsla(").concat(X(this.h),", ").concat(100*F(this.s),"%, ").concat(100*F(this.l),"%").concat(1===Te?")":", ".concat(Te,")"))}}));var H=function(Te){return function(){return Te}};function G(Te,ve){var Fe,Se,xe=ve-Te;return xe?(Fe=Te,Se=xe,function(ke){return Fe+ke*Se}):H(isNaN(Te)?ve:Te)}var Y=function Te(ve){var Se,xe=1==(Se=+(Se=ve))?G:function(ke,pe){return pe-ke?(fe=ke,be=pe,Le=Se,fe=Math.pow(fe,Le),be=Math.pow(be,Le)-fe,Le=1/Le,function(Oe){return Math.pow(fe+Oe*be,Le)}):H(isNaN(ke)?pe:ke);var fe,be,Le};function Fe(Se,ke){var pe=xe((Se=b(Se)).r,(ke=b(ke)).r),fe=xe(Se.g,ke.g),be=xe(Se.b,ke.b),Le=G(Se.opacity,ke.opacity);return function(Oe){return Se.r=pe(Oe),Se.g=fe(Oe),Se.b=be(Oe),Se.opacity=Le(Oe),Se+""}}return Fe.gamma=Te,Fe}(1);function se(Te){return function(ve){var xe,Fe,Se=ve.length,ke=new Array(Se),pe=new Array(Se),fe=new Array(Se);for(xe=0;xe<Se;++xe)Fe=b(ve[xe]),ke[xe]=Fe.r||0,pe[xe]=Fe.g||0,fe[xe]=Fe.b||0;return ke=Te(ke),pe=Te(pe),fe=Te(fe),Fe.opacity=1,function(be){return Fe.r=ke(be),Fe.g=pe(be),Fe.b=fe(be),Fe+""}}}function te(Te,ve){var xe,Fe=ve?ve.length:0,Se=Te?Math.min(Fe,Te.length):0,ke=new Array(Se),pe=new Array(Fe);for(xe=0;xe<Se;++xe)ke[xe]=Ae(Te[xe],ve[xe]);for(;xe<Fe;++xe)pe[xe]=ve[xe];return function(fe){for(xe=0;xe<Se;++xe)pe[xe]=ke[xe](fe);return pe}}function re(Te,ve){var xe=new Date;return Te=+Te,ve=+ve,function(Fe){return xe.setTime(Te*(1-Fe)+ve*Fe),xe}}function Q(Te,ve){return Te=+Te,ve=+ve,function(xe){return Te*(1-xe)+ve*xe}}function ee(Te){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ve){return typeof ve}:function(ve){return ve&&"function"==typeof Symbol&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve})(Te)}function oe(Te,ve){var xe,Fe={},Se={};for(xe in null!==Te&&"object"===ee(Te)||(Te={}),null!==ve&&"object"===ee(ve)||(ve={}),ve)xe in Te?Fe[xe]=Ae(Te[xe],ve[xe]):Se[xe]=ve[xe];return function(ke){for(xe in Fe)Se[xe]=Fe[xe](ke);return Se}}se(function(Te){var ve=Te.length-1;return function(xe){var Fe=xe<=0?xe=0:xe>=1?(xe=1,ve-1):Math.floor(xe*ve),Se=Te[Fe],ke=Te[Fe+1];return W((xe-Fe/ve)*ve,Fe>0?Te[Fe-1]:2*Se-ke,Se,ke,Fe<ve-1?Te[Fe+2]:2*ke-Se)}}),se(function(Te){var ve=Te.length;return function(xe){var Fe=Math.floor(((xe%=1)<0?++xe:xe)*ve);return W((xe-Fe/ve)*ve,Te[(Fe+ve-1)%ve],Te[Fe%ve],Te[(Fe+1)%ve],Te[(Fe+2)%ve])}});var le=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ue=new RegExp(le.source,"g");function de(Te,ve){var xe,Fe,Se,Le,ke=le.lastIndex=ue.lastIndex=0,pe=-1,fe=[],be=[];for(Te+="",ve+="";(xe=le.exec(Te))&&(Fe=ue.exec(ve));)(Se=Fe.index)>ke&&(Se=ve.slice(ke,Se),fe[pe]?fe[pe]+=Se:fe[++pe]=Se),(xe=xe[0])===(Fe=Fe[0])?fe[pe]?fe[pe]+=Fe:fe[++pe]=Fe:(fe[++pe]=null,be.push({i:pe,x:Q(xe,Fe)})),ke=ue.lastIndex;return ke<ve.length&&(Se=ve.slice(ke),fe[pe]?fe[pe]+=Se:fe[++pe]=Se),fe.length<2?be[0]?(Le=be[0].x,function(Oe){return Le(Oe)+""}):function(Le){return function(){return Le}}(ve):(ve=be.length,function(Le){for(var Oe,De=0;De<ve;++De)fe[(Oe=be[De]).i]=Oe.x(Le);return fe.join("")})}function he(Te,ve){ve||(ve=[]);var xe,Fe=Te?Math.min(ve.length,Te.length):0,Se=ve.slice();return function(ke){for(xe=0;xe<Fe;++xe)Se[xe]=Te[xe]*(1-ke)+ve[xe]*ke;return Se}}function we(Te){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ve){return typeof ve}:function(ve){return ve&&"function"==typeof Symbol&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve})(Te)}function Ae(Te,ve){var xe,Fe,Se=we(ve);return null==ve||"boolean"===Se?H(ve):("number"===Se?Q:"string"===Se?(xe=g(ve))?(ve=xe,Y):de:ve instanceof g?Y:ve instanceof Date?re:(Fe=ve,!ArrayBuffer.isView(Fe)||Fe instanceof DataView?Array.isArray(ve)?te:"function"!=typeof ve.valueOf&&"function"!=typeof ve.toString||isNaN(ve)?oe:Q:he))(Te,ve)}},40402:function(ae){"use strict";ae.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(ae){"use strict";ae.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(ae){"use strict";ae.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(ae){"use strict";ae.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(ae){"use strict";ae.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(ae){"use strict";ae.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},lf={};function zi(ae){var B=lf[ae];if(void 0!==B)return B.exports;var r=lf[ae]={exports:{}};return sd[ae].call(r.exports,r,r.exports,zi),r.exports}return zi.n=function(ae){var B=ae&&ae.__esModule?function(){return ae.default}:function(){return ae};return zi.d(B,{a:B}),B},zi.d=function(ae,B){for(var r in B)zi.o(B,r)&&!zi.o(ae,r)&&Object.defineProperty(ae,r,{enumerable:!0,get:B[r]})},zi.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),zi.o=function(ae,B){return Object.prototype.hasOwnProperty.call(ae,B)},zi.r=function(ae){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ae,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ae,"__esModule",{value:!0})},zi(27909)}()},321:()=>{"use strict";const Df=":";class Z extends Error{constructor(we){super(`No translation found for ${te(we)}.`),this.parsedMessage=we,this.type="MissingTranslationError"}}const le=function(he,...we){if(le.translate){const Te=le.translate(he,we);he=Te[0],we=Te[1]}let Ae=de(he[0],he.raw[0]);for(let Te=1;Te<he.length;Te++)Ae+=we[Te-1]+de(he[Te],he.raw[Te]);return Ae},ue=":";function de(he,we){return we.charAt(0)===ue?he.substring(function F(he,we){for(let Ae=1,Te=1;Ae<he.length;Ae++,Te++)if("\\"===we[Te])Te++;else if(he[Ae]===Df)return Ae;throw new Error(`Unterminated $localize metadata block in "${we}".`)}(he,we)+1):he}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=le}},Df=>{var sd=zi=>Df(Df.s=zi);sd(321),sd(433)}]);